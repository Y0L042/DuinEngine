<!-- HTML header for doxygen 1.11.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Duin: imgui.cpp Source File</title>
<!--BEGIN PROJECT_ICON-->
<link rel="icon" href="$projecticon" type="image/x-icon" />
<!--END PROJECT_ICON-->
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<!--BEGIN COPY_CLIPBOARD-->
<script type="text/javascript" src="clipboard.js"></script>
<!--END COPY_CLIPBOARD-->
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<html>
    <head>
        <!-- ... other metadata & script includes ... -->
        <script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
        <script type="text/javascript">
            DoxygenAwesomeParagraphLink.init()
        </script>
    </head>
    <body>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Duin<span id="projectnumber">&#160;0.0.1</span>
   </div>
   <div id="projectbrief">Game Engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function() { init_codefold(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('imgui_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">imgui.cpp</div></div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">// dear imgui, v1.92.0 WIP</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">// (main code and documentation)</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span> </div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">// Help:</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">// - See links below.</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment">// - Call and read ImGui::ShowDemoWindow() in imgui_demo.cpp. All applications in examples/ are doing that.</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">// - Read top of imgui.cpp for more details, links and comments.</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span> </div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">// Resources:</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">// - FAQ ........................ https://dearimgui.com/faq (in repository as docs/FAQ.md)</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment">// - Homepage ................... https://github.com/ocornut/imgui</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment">// - Releases &amp; changelog ....... https://github.com/ocornut/imgui/releases</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment">// - Gallery .................... https://github.com/ocornut/imgui/issues?q=label%3Agallery (please post your screenshots/video there!)</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment">// - Wiki ....................... https://github.com/ocornut/imgui/wiki (lots of good stuff there)</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="comment">//   - Getting Started            https://github.com/ocornut/imgui/wiki/Getting-Started (how to integrate in an existing app by adding ~25 lines of code)</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="comment">//   - Third-party Extensions     https://github.com/ocornut/imgui/wiki/Useful-Extensions (ImPlot &amp; many more)</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="comment">//   - Bindings/Backends          https://github.com/ocornut/imgui/wiki/Bindings (language bindings, backends for various tech/engines)</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="comment">//   - Glossary                   https://github.com/ocornut/imgui/wiki/Glossary</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="comment">//   - Debug Tools                https://github.com/ocornut/imgui/wiki/Debug-Tools</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="comment">//   - Software using Dear ImGui  https://github.com/ocornut/imgui/wiki/Software-using-dear-imgui</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="comment">// - Issues &amp; support ........... https://github.com/ocornut/imgui/issues</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="comment">// - Test Engine &amp; Automation ... https://github.com/ocornut/imgui_test_engine (test suite, test engine to automate your apps)</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span> </div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="comment">// For first-time users having issues compiling/linking/running/loading fonts:</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="comment">// please post in https://github.com/ocornut/imgui/discussions if you cannot find a solution in resources above.</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="comment">// Everything else should be asked in &#39;Issues&#39;! We are building a database of cross-linked knowledge there.</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span> </div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="comment">// Copyright (c) 2014-2025 Omar Cornut</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="comment">// Developed by Omar Cornut and every direct or indirect contributors to the GitHub.</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="comment">// See LICENSE.txt for copyright and licensing details (standard MIT License).</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="comment">// This library is free but needs your support to sustain development and maintenance.</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="comment">// Businesses: you can support continued development via B2B invoiced technical support, maintenance and sponsoring contracts.</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="comment">// PLEASE reach out at omar AT dearimgui DOT com. See https://github.com/ocornut/imgui/wiki/Funding</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="comment">// Businesses: you can also purchase licenses for the Dear ImGui Automation/Test Engine.</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span> </div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="comment">// It is recommended that you don&#39;t modify imgui.cpp! It will become difficult for you to update the library.</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="comment">// Note that &#39;ImGui::&#39; being a namespace, you can add functions into the namespace from your own source files, without</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="comment">// modifying imgui.h or imgui.cpp. You may include imgui_internal.h to access internal data structures, but it doesn&#39;t</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="comment">// come with any guarantee of forward compatibility. Discussing your changes on the GitHub Issue Tracker may lead you</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="comment">// to a better solution or official support for them.</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span> </div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><span class="comment">/*</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><span class="comment"></span> </div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span><span class="comment">Index of this file:</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span><span class="comment"></span> </div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="comment">DOCUMENTATION</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><span class="comment"></span> </div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><span class="comment">- MISSION STATEMENT</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span><span class="comment">- CONTROLS GUIDE</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span><span class="comment">- PROGRAMMER GUIDE</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span><span class="comment">  - READ FIRST</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span><span class="comment">  - HOW TO UPDATE TO A NEWER VERSION OF DEAR IMGUI</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span><span class="comment">  - GETTING STARTED WITH INTEGRATING DEAR IMGUI IN YOUR CODE/ENGINE</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span><span class="comment">  - HOW A SIMPLE APPLICATION MAY LOOK LIKE</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span><span class="comment">  - HOW A SIMPLE RENDERING FUNCTION MAY LOOK LIKE</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span><span class="comment">- API BREAKING CHANGES (read me when you update!)</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span><span class="comment">- FREQUENTLY ASKED QUESTIONS (FAQ)</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span><span class="comment">  - Read all answers online: https://www.dearimgui.com/faq, or in docs/FAQ.md (with a Markdown viewer)</span></div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span><span class="comment"></span> </div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span><span class="comment">CODE</span></div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span><span class="comment">(search for &quot;[SECTION]&quot; in the code to find them)</span></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span><span class="comment"></span> </div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span><span class="comment">// [SECTION] INCLUDES</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span><span class="comment">// [SECTION] FORWARD DECLARATIONS</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span><span class="comment">// [SECTION] CONTEXT AND MEMORY ALLOCATORS</span></div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span><span class="comment">// [SECTION] USER FACING STRUCTURES (ImGuiStyle, ImGuiIO, ImGuiPlatformIO)</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span><span class="comment">// [SECTION] MISC HELPERS/UTILITIES (Geometry functions)</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span><span class="comment">// [SECTION] MISC HELPERS/UTILITIES (String, Format, Hash functions)</span></div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span><span class="comment">// [SECTION] MISC HELPERS/UTILITIES (File functions)</span></div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span><span class="comment">// [SECTION] MISC HELPERS/UTILITIES (ImText* functions)</span></div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span><span class="comment">// [SECTION] MISC HELPERS/UTILITIES (Color functions)</span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span><span class="comment">// [SECTION] ImGuiStorage</span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span><span class="comment">// [SECTION] ImGuiTextFilter</span></div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span><span class="comment">// [SECTION] ImGuiTextBuffer, ImGuiTextIndex</span></div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span><span class="comment">// [SECTION] ImGuiListClipper</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span><span class="comment">// [SECTION] STYLING</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span><span class="comment">// [SECTION] RENDER HELPERS</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span><span class="comment">// [SECTION] INITIALIZATION, SHUTDOWN</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span><span class="comment">// [SECTION] MAIN CODE (most of the code! lots of stuff, needs tidying up!)</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span><span class="comment">// [SECTION] ID STACK</span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span><span class="comment">// [SECTION] INPUTS</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span><span class="comment">// [SECTION] ERROR CHECKING, STATE RECOVERY</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span><span class="comment">// [SECTION] ITEM SUBMISSION</span></div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span><span class="comment">// [SECTION] LAYOUT</span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span><span class="comment">// [SECTION] SCROLLING</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span><span class="comment">// [SECTION] TOOLTIPS</span></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span><span class="comment">// [SECTION] POPUPS</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span><span class="comment">// [SECTION] WINDOW FOCUS</span></div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span><span class="comment">// [SECTION] KEYBOARD/GAMEPAD NAVIGATION</span></div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span><span class="comment">// [SECTION] DRAG AND DROP</span></div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span><span class="comment">// [SECTION] LOGGING/CAPTURING</span></div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span><span class="comment">// [SECTION] SETTINGS</span></div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span><span class="comment">// [SECTION] LOCALIZATION</span></div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span><span class="comment">// [SECTION] VIEWPORTS, PLATFORM WINDOWS</span></div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span><span class="comment">// [SECTION] DOCKING</span></div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span><span class="comment">// [SECTION] PLATFORM DEPENDENT HELPERS</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span><span class="comment">// [SECTION] METRICS/DEBUGGER WINDOW</span></div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span><span class="comment">// [SECTION] DEBUG LOG WINDOW</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span><span class="comment">// [SECTION] OTHER DEBUG TOOLS (ITEM PICKER, ID STACK TOOL)</span></div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span><span class="comment"></span> </div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span><span class="comment">*/</span></div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span> </div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span><span class="comment">// DOCUMENTATION</span></div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span> </div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span><span class="comment">/*</span></div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span><span class="comment"></span> </div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span><span class="comment"> MISSION STATEMENT</span></div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span><span class="comment"> =================</span></div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span><span class="comment"></span> </div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span><span class="comment"> - Easy to use to create code-driven and data-driven tools.</span></div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span><span class="comment"> - Easy to use to create ad hoc short-lived tools and long-lived, more elaborate tools.</span></div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span><span class="comment"> - Easy to hack and improve.</span></div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span><span class="comment"> - Minimize setup and maintenance.</span></div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span><span class="comment"> - Minimize state storage on user side.</span></div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span><span class="comment"> - Minimize state synchronization.</span></div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span><span class="comment"> - Portable, minimize dependencies, run on target (consoles, phones, etc.).</span></div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span><span class="comment"> - Efficient runtime and memory consumption.</span></div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span><span class="comment"></span> </div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span><span class="comment"> Designed primarily for developers and content-creators, not the typical end-user!</span></div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span><span class="comment"> Some of the current weaknesses (which we aim to address in the future) includes:</span></div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span><span class="comment"></span> </div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span><span class="comment"> - Doesn&#39;t look fancy.</span></div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span><span class="comment"> - Limited layout features, intricate layouts are typically crafted in code.</span></div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span><span class="comment"></span> </div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span><span class="comment"></span> </div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span><span class="comment"> CONTROLS GUIDE</span></div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span><span class="comment"> ==============</span></div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span><span class="comment"></span> </div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span><span class="comment"> - MOUSE CONTROLS</span></div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span><span class="comment">   - Mouse wheel:                   Scroll vertically.</span></div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span><span class="comment">   - SHIFT+Mouse wheel:             Scroll horizontally.</span></div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span><span class="comment">   - Click [X]:                     Close a window, available when &#39;bool* p_open&#39; is passed to ImGui::Begin().</span></div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span><span class="comment">   - Click ^, Double-Click title:   Collapse window.</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span><span class="comment">   - Drag on corner/border:         Resize window (double-click to auto fit window to its contents).</span></div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span><span class="comment">   - Drag on any empty space:       Move window (unless io.ConfigWindowsMoveFromTitleBarOnly = true).</span></div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span><span class="comment">   - Left-click outside popup:      Close popup stack (right-click over underlying popup: Partially close popup stack).</span></div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span><span class="comment"></span> </div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span><span class="comment"> - TEXT EDITOR</span></div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span><span class="comment">   - Hold SHIFT or Drag Mouse:      Select text.</span></div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span><span class="comment">   - CTRL+Left/Right:               Word jump.</span></div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span><span class="comment">   - CTRL+Shift+Left/Right:         Select words.</span></div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span><span class="comment">   - CTRL+A or Double-Click:        Select All.</span></div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span><span class="comment">   - CTRL+X, CTRL+C, CTRL+V:        Use OS clipboard.</span></div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span><span class="comment">   - CTRL+Z                         Undo.</span></div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span><span class="comment">   - CTRL+Y or CTRL+Shift+Z:        Redo.</span></div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span><span class="comment">   - ESCAPE:                        Revert text to its original value.</span></div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span><span class="comment">   - On OSX, controls are automatically adjusted to match standard OSX text editing 2ts and behaviors.</span></div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span><span class="comment"></span> </div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span><span class="comment"> - KEYBOARD CONTROLS</span></div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span><span class="comment">   - Basic:</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span><span class="comment">     - Tab, SHIFT+Tab               Cycle through text editable fields.</span></div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span><span class="comment">     - CTRL+Tab, CTRL+Shift+Tab     Cycle through windows.</span></div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span><span class="comment">     - CTRL+Click                   Input text into a Slider or Drag widget.</span></div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span><span class="comment">   - Extended features with `io.ConfigFlags |= ImGuiConfigFlags_NavEnableKeyboard`:</span></div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span><span class="comment">     - Tab, SHIFT+Tab:              Cycle through every items.</span></div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span><span class="comment">     - Arrow keys                   Move through items using directional navigation. Tweak value.</span></div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span><span class="comment">     - Arrow keys + Alt, Shift      Tweak slower, tweak faster (when using arrow keys).</span></div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span><span class="comment">     - Enter                        Activate item (prefer text input when possible).</span></div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span><span class="comment">     - Space                        Activate item (prefer tweaking with arrows when possible).</span></div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span><span class="comment">     - Escape                       Deactivate item, leave child window, close popup.</span></div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span><span class="comment">     - Page Up, Page Down           Previous page, next page.</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span><span class="comment">     - Home, End                    Scroll to top, scroll to bottom.</span></div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span><span class="comment">     - Alt                          Toggle between scrolling layer and menu layer.</span></div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span><span class="comment">     - CTRL+Tab then Ctrl+Arrows    Move window. Hold SHIFT to resize instead of moving.</span></div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span><span class="comment">   - Output when ImGuiConfigFlags_NavEnableKeyboard set,</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span><span class="comment">     - io.WantCaptureKeyboard flag is set when keyboard is claimed.</span></div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span><span class="comment">     - io.NavActive: true when a window is focused and it doesn&#39;t have the ImGuiWindowFlags_NoNavInputs flag set.</span></div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span><span class="comment">     - io.NavVisible: true when the navigation cursor is visible (usually goes to back false when mouse is used).</span></div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span><span class="comment"></span> </div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span><span class="comment"> - GAMEPAD CONTROLS</span></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span><span class="comment">   - Enable with &#39;io.ConfigFlags |= ImGuiConfigFlags_NavEnableGamepad&#39;.</span></div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span><span class="comment">   - Particularly useful to use Dear ImGui on a console system (e.g. PlayStation, Switch, Xbox) without a mouse!</span></div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span><span class="comment">   - Download controller mapping PNG/PSD at http://dearimgui.com/controls_sheets</span></div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span><span class="comment">   - Backend support: backend needs to:</span></div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span><span class="comment">      - Set &#39;io.BackendFlags |= ImGuiBackendFlags_HasGamepad&#39; + call io.AddKeyEvent/AddKeyAnalogEvent() with ImGuiKey_Gamepad_XXX keys.</span></div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span><span class="comment">      - For analog values (0.0f to 1.0f), backend is responsible to handling a dead-zone and rescaling inputs accordingly.</span></div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span><span class="comment">        Backend code will probably need to transform your raw inputs (such as e.g. remapping your 0.2..0.9 raw input range to 0.0..1.0 imgui range, etc.).</span></div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span><span class="comment">   - If you need to share inputs between your game and the Dear ImGui interface, the easiest approach is to go all-or-nothing,</span></div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span><span class="comment">     with a buttons combo to toggle the target. Please reach out if you think the game vs navigation input sharing could be improved.</span></div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span><span class="comment"></span> </div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span><span class="comment"> - REMOTE INPUTS SHARING &amp; MOUSE EMULATION</span></div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span><span class="comment">   - PS4/PS5 users: Consider emulating a mouse cursor with DualShock touch pad or a spare analog stick as a mouse-emulation fallback.</span></div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span><span class="comment">   - Consoles/Tablet/Phone users: Consider using a Synergy 1.x server (on your PC) + run examples/libs/synergy/uSynergy.c (on your console/tablet/phone app)</span></div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span><span class="comment">     in order to share your PC mouse/keyboard.</span></div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span><span class="comment">   - See https://github.com/ocornut/imgui/wiki/Useful-Extensions#remoting for other remoting solutions.</span></div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span><span class="comment">   - On a TV/console system where readability may be lower or mouse inputs may be awkward, you may want to set the io.ConfigNavMoveSetMousePos flag.</span></div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span><span class="comment">     Enabling io.ConfigNavMoveSetMousePos + ImGuiBackendFlags_HasSetMousePos instructs Dear ImGui to move your mouse cursor along with navigation movements.</span></div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span><span class="comment">     When enabled, the NewFrame() function may alter &#39;io.MousePos&#39; and set &#39;io.WantSetMousePos&#39; to notify you that it wants the mouse cursor to be moved.</span></div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span><span class="comment">     When that happens your backend NEEDS to move the OS or underlying mouse cursor on the next frame. Some of the backends in examples/ do that.</span></div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span><span class="comment">     (If you set the NavEnableSetMousePos flag but don&#39;t honor &#39;io.WantSetMousePos&#39; properly, Dear ImGui will misbehave as it will see your mouse moving back &amp; forth!)</span></div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span><span class="comment">     (In a setup when you may not have easy control over the mouse cursor, e.g. uSynergy.c doesn&#39;t expose moving remote mouse cursor, you may want</span></div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span><span class="comment">     to set a boolean to ignore your other external mouse positions until the external source is moved again.)</span></div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span><span class="comment"></span> </div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span><span class="comment"></span> </div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span><span class="comment"> PROGRAMMER GUIDE</span></div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span><span class="comment"> ================</span></div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span><span class="comment"></span> </div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span><span class="comment"> READ FIRST</span></div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span><span class="comment"> ----------</span></div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span><span class="comment"> - Remember to check the wonderful Wiki (https://github.com/ocornut/imgui/wiki)</span></div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span><span class="comment"> - Your code creates the UI every frame of your application loop, if your code doesn&#39;t run the UI is gone!</span></div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span><span class="comment">   The UI can be highly dynamic, there are no construction or destruction steps, less superfluous</span></div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span><span class="comment">   data retention on your side, less state duplication, less state synchronization, fewer bugs.</span></div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span><span class="comment"> - Call and read ImGui::ShowDemoWindow() for demo code demonstrating most features.</span></div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span><span class="comment">   Or browse https://pthom.github.io/imgui_manual_online/manual/imgui_manual.html for interactive web version.</span></div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span><span class="comment"> - The library is designed to be built from sources. Avoid pre-compiled binaries and packaged versions. See imconfig.h to configure your build.</span></div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span><span class="comment"> - Dear ImGui is an implementation of the IMGUI paradigm (immediate-mode graphical user interface, a term coined by Casey Muratori).</span></div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span><span class="comment">   You can learn about IMGUI principles at http://www.johno.se/book/imgui.html, http://mollyrocket.com/861 &amp; more links in Wiki.</span></div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span><span class="comment"> - Dear ImGui is a &quot;single pass&quot; rasterizing implementation of the IMGUI paradigm, aimed at ease of use and high-performances.</span></div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span><span class="comment">   For every application frame, your UI code will be called only once. This is in contrast to e.g. Unity&#39;s implementation of an IMGUI,</span></div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span><span class="comment">   where the UI code is called multiple times (&quot;multiple passes&quot;) from a single entry point. There are pros and cons to both approaches.</span></div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span><span class="comment"> - Our origin is on the top-left. In axis aligned bounding boxes, Min = top-left, Max = bottom-right.</span></div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span><span class="comment"> - Please make sure you have asserts enabled (IM_ASSERT redirects to assert() by default, but can be redirected).</span></div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span><span class="comment">   If you get an assert, read the messages and comments around the assert.</span></div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span><span class="comment"> - This codebase aims to be highly optimized:</span></div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span><span class="comment">   - A typical idle frame should never call malloc/free.</span></div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span><span class="comment">   - We rely on a maximum of constant-time or O(N) algorithms. Limiting searches/scans as much as possible.</span></div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span><span class="comment">   - We put particular energy in making sure performances are decent with typical &quot;Debug&quot; build settings as well.</span></div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span><span class="comment">     Which mean we tend to avoid over-relying on &quot;zero-cost abstraction&quot; as they aren&#39;t zero-cost at all.</span></div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span><span class="comment"> - This codebase aims to be both highly opinionated and highly flexible:</span></div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span><span class="comment">   - This code works because of the things it choose to solve or not solve.</span></div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span><span class="comment">   - C++: this is a pragmatic C-ish codebase: we don&#39;t use fancy C++ features, we don&#39;t include C++ headers,</span></div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span><span class="comment">     and ImGui:: is a namespace. We rarely use member functions (and when we did, I am mostly regretting it now).</span></div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span><span class="comment">     This is to increase compatibility, increase maintainability and facilitate use from other languages.</span></div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span><span class="comment">   - C++: ImVec2/ImVec4 do not expose math operators by default, because it is expected that you use your own math types.</span></div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span><span class="comment">     See FAQ &quot;How can I use my own math types instead of ImVec2/ImVec4?&quot; for details about setting up imconfig.h for that.</span></div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span><span class="comment">     We can can optionally export math operators for ImVec2/ImVec4 using IMGUI_DEFINE_MATH_OPERATORS, which we use internally.</span></div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span><span class="comment">   - C++: pay attention that ImVector&lt;&gt; manipulates plain-old-data and does not honor construction/destruction</span></div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span><span class="comment">     (so don&#39;t use ImVector in your code or at our own risk!).</span></div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span><span class="comment">   - Building: We don&#39;t use nor mandate a build system for the main library.</span></div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span><span class="comment">     This is in an effort to ensure that it works in the real world aka with any esoteric build setup.</span></div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span><span class="comment">     This is also because providing a build system for the main library would be of little-value.</span></div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span><span class="comment">     The build problems are almost never coming from the main library but from specific backends.</span></div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span><span class="comment"></span> </div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span><span class="comment"></span> </div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span><span class="comment"> HOW TO UPDATE TO A NEWER VERSION OF DEAR IMGUI</span></div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span><span class="comment"> ----------------------------------------------</span></div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span><span class="comment"> - Update submodule or copy/overwrite every file.</span></div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span><span class="comment"> - About imconfig.h:</span></div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span><span class="comment">   - You may modify your copy of imconfig.h, in this case don&#39;t overwrite it.</span></div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span><span class="comment">   - or you may locally branch to modify imconfig.h and merge/rebase latest.</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span><span class="comment">   - or you may &#39;#define IMGUI_USER_CONFIG &quot;my_config_file.h&quot;&#39; globally from your build system to</span></div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span><span class="comment">     specify a custom path for your imconfig.h file and instead not have to modify the default one.</span></div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span><span class="comment"></span> </div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span><span class="comment"> - Overwrite all the sources files except for imconfig.h (if you have modified your copy of imconfig.h)</span></div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span><span class="comment"> - Or maintain your own branch where you have imconfig.h modified as a top-most commit which you can regularly rebase over &quot;master&quot;.</span></div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span><span class="comment"> - You can also use &#39;#define IMGUI_USER_CONFIG &quot;my_config_file.h&quot; to redirect configuration to your own file.</span></div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span><span class="comment"> - Read the &quot;API BREAKING CHANGES&quot; section (below). This is where we list occasional API breaking changes.</span></div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span><span class="comment">   If a function/type has been renamed / or marked obsolete, try to fix the name in your code before it is permanently removed</span></div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span><span class="comment">   from the public API. If you have a problem with a missing function/symbols, search for its name in the code, there will</span></div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span><span class="comment">   likely be a comment about it. Please report any issue to the GitHub page!</span></div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span><span class="comment"> - To find out usage of old API, you can add &#39;#define IMGUI_DISABLE_OBSOLETE_FUNCTIONS&#39; in your configuration file.</span></div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span><span class="comment"> - Try to keep your copy of Dear ImGui reasonably up to date!</span></div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span><span class="comment"></span> </div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span><span class="comment"></span> </div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span><span class="comment"> GETTING STARTED WITH INTEGRATING DEAR IMGUI IN YOUR CODE/ENGINE</span></div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span><span class="comment"> ---------------------------------------------------------------</span></div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span><span class="comment"> - See https://github.com/ocornut/imgui/wiki/Getting-Started.</span></div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span><span class="comment"> - Run and study the examples and demo in imgui_demo.cpp to get acquainted with the library.</span></div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span><span class="comment"> - In the majority of cases you should be able to use unmodified backends files available in the backends/ folder.</span></div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span><span class="comment"> - Add the Dear ImGui source files + selected backend source files to your projects or using your preferred build system.</span></div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span><span class="comment">   It is recommended you build and statically link the .cpp files as part of your project and NOT as a shared library (DLL).</span></div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span><span class="comment"> - You can later customize the imconfig.h file to tweak some compile-time behavior, such as integrating Dear ImGui types with your own maths types.</span></div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span><span class="comment"> - When using Dear ImGui, your programming IDE is your friend: follow the declaration of variables, functions and types to find comments about them.</span></div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span><span class="comment"> - Dear ImGui never touches or knows about your GPU state. The only function that knows about GPU is the draw function that you provide.</span></div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span><span class="comment">   Effectively it means you can create widgets at any time in your code, regardless of considerations of being in &quot;update&quot; vs &quot;render&quot;</span></div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span><span class="comment">   phases of your own application. All rendering information is stored into command-lists that you will retrieve after calling ImGui::Render().</span></div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span><span class="comment"> - Refer to the backends and demo applications in the examples/ folder for instruction on how to setup your code.</span></div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span><span class="comment"> - If you are running over a standard OS with a common graphics API, you should be able to use unmodified imgui_impl_*** files from the examples/ folder.</span></div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span><span class="comment"></span> </div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span><span class="comment"></span> </div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span><span class="comment"> HOW A SIMPLE APPLICATION MAY LOOK LIKE</span></div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span><span class="comment"> --------------------------------------</span></div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span><span class="comment"> EXHIBIT 1: USING THE EXAMPLE BACKENDS (= imgui_impl_XXX.cpp files from the backends/ folder).</span></div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span><span class="comment"> The sub-folders in examples/ contain examples applications following this structure.</span></div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span><span class="comment"></span> </div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span><span class="comment">     // Application init: create a dear imgui context, setup some options, load fonts</span></div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span><span class="comment">     ImGui::CreateContext();</span></div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span><span class="comment">     ImGuiIO&amp; io = ImGui::GetIO();</span></div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span><span class="comment">     // TODO: Set optional io.ConfigFlags values, e.g. &#39;io.ConfigFlags |= ImGuiConfigFlags_NavEnableKeyboard&#39; to enable keyboard controls.</span></div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span><span class="comment">     // TODO: Fill optional fields of the io structure later.</span></div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span><span class="comment">     // TODO: Load TTF/OTF fonts if you don&#39;t want to use the default font.</span></div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span><span class="comment"></span> </div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span><span class="comment">     // Initialize helper Platform and Renderer backends (here we are using imgui_impl_win32.cpp and imgui_impl_dx11.cpp)</span></div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span><span class="comment">     ImGui_ImplWin32_Init(hwnd);</span></div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span><span class="comment">     ImGui_ImplDX11_Init(g_pd3dDevice, g_pd3dDeviceContext);</span></div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span><span class="comment"></span> </div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span><span class="comment">     // Application main loop</span></div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span><span class="comment">     while (true)</span></div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span><span class="comment">     {</span></div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span><span class="comment">         // Feed inputs to dear imgui, start new frame</span></div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span><span class="comment">         ImGui_ImplDX11_NewFrame();</span></div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span><span class="comment">         ImGui_ImplWin32_NewFrame();</span></div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span><span class="comment">         ImGui::NewFrame();</span></div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span><span class="comment"></span> </div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span><span class="comment">         // Any application code here</span></div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span><span class="comment">         ImGui::Text(&quot;Hello, world!&quot;);</span></div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span><span class="comment"></span> </div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span><span class="comment">         // Render dear imgui into screen</span></div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span><span class="comment">         ImGui::Render();</span></div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span><span class="comment">         ImGui_ImplDX11_RenderDrawData(ImGui::GetDrawData());</span></div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span><span class="comment">         g_pSwapChain-&gt;Present(1, 0);</span></div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span><span class="comment">     }</span></div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span><span class="comment"></span> </div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span><span class="comment">     // Shutdown</span></div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span><span class="comment">     ImGui_ImplDX11_Shutdown();</span></div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span><span class="comment">     ImGui_ImplWin32_Shutdown();</span></div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span><span class="comment">     ImGui::DestroyContext();</span></div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span><span class="comment"></span> </div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span><span class="comment"> EXHIBIT 2: IMPLEMENTING CUSTOM BACKEND / CUSTOM ENGINE</span></div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span><span class="comment"></span> </div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span><span class="comment">     // Application init: create a dear imgui context, setup some options, load fonts</span></div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span><span class="comment">     ImGui::CreateContext();</span></div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span><span class="comment">     ImGuiIO&amp; io = ImGui::GetIO();</span></div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span><span class="comment">     // TODO: Set optional io.ConfigFlags values, e.g. &#39;io.ConfigFlags |= ImGuiConfigFlags_NavEnableKeyboard&#39; to enable keyboard controls.</span></div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span><span class="comment">     // TODO: Fill optional fields of the io structure later.</span></div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span><span class="comment">     // TODO: Load TTF/OTF fonts if you don&#39;t want to use the default font.</span></div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span><span class="comment"></span> </div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span><span class="comment">     // Build and load the texture atlas into a texture</span></div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span><span class="comment">     // (In the examples/ app this is usually done within the ImGui_ImplXXX_Init() function from one of the demo Renderer)</span></div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span><span class="comment">     int width, height;</span></div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span><span class="comment">     unsigned char* pixels = nullptr;</span></div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span><span class="comment">     io.Fonts-&gt;GetTexDataAsRGBA32(&amp;pixels, &amp;width, &amp;height);</span></div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span><span class="comment"></span> </div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span><span class="comment">     // At this point you&#39;ve got the texture data and you need to upload that to your graphic system:</span></div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span><span class="comment">     // After we have created the texture, store its pointer/identifier (_in whichever format your engine uses_) in &#39;io.Fonts-&gt;TexID&#39;.</span></div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span><span class="comment">     // This will be passed back to your via the renderer. Basically ImTextureID == void*. Read FAQ for details about ImTextureID.</span></div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span><span class="comment">     MyTexture* texture = MyEngine::CreateTextureFromMemoryPixels(pixels, width, height, TEXTURE_TYPE_RGBA32)</span></div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span><span class="comment">     io.Fonts-&gt;SetTexID((void*)texture);</span></div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span><span class="comment"></span> </div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span><span class="comment">     // Application main loop</span></div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span><span class="comment">     while (true)</span></div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span><span class="comment">     {</span></div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span><span class="comment">        // Setup low-level inputs, e.g. on Win32: calling GetKeyboardState(), or write to those fields from your Windows message handlers, etc.</span></div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span><span class="comment">        // (In the examples/ app this is usually done within the ImGui_ImplXXX_NewFrame() function from one of the demo Platform Backends)</span></div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span><span class="comment">        io.DeltaTime = 1.0f/60.0f;              // set the time elapsed since the previous frame (in seconds)</span></div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span><span class="comment">        io.DisplaySize.x = 1920.0f;             // set the current display width</span></div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span><span class="comment">        io.DisplaySize.y = 1280.0f;             // set the current display height here</span></div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span><span class="comment">        io.AddMousePosEvent(mouse_x, mouse_y);  // update mouse position</span></div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span><span class="comment">        io.AddMouseButtonEvent(0, mouse_b[0]);  // update mouse button states</span></div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span><span class="comment">        io.AddMouseButtonEvent(1, mouse_b[1]);  // update mouse button states</span></div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span><span class="comment"></span> </div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span><span class="comment">        // Call NewFrame(), after this point you can use ImGui::* functions anytime</span></div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span><span class="comment">        // (So you want to try calling NewFrame() as early as you can in your main loop to be able to use Dear ImGui everywhere)</span></div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span><span class="comment">        ImGui::NewFrame();</span></div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span><span class="comment"></span> </div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span><span class="comment">        // Most of your application code here</span></div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span><span class="comment">        ImGui::Text(&quot;Hello, world!&quot;);</span></div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span><span class="comment">        MyGameUpdate(); // may use any Dear ImGui functions, e.g. ImGui::Begin(&quot;My window&quot;); ImGui::Text(&quot;Hello, world!&quot;); ImGui::End();</span></div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span><span class="comment">        MyGameRender(); // may use any Dear ImGui functions as well!</span></div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span><span class="comment"></span> </div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span><span class="comment">        // Render dear imgui, swap buffers</span></div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span><span class="comment">        // (You want to try calling EndFrame/Render as late as you can, to be able to use Dear ImGui in your own game rendering code)</span></div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span><span class="comment">        ImGui::EndFrame();</span></div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span><span class="comment">        ImGui::Render();</span></div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span><span class="comment">        ImDrawData* draw_data = ImGui::GetDrawData();</span></div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span><span class="comment">        MyImGuiRenderFunction(draw_data);</span></div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span><span class="comment">        SwapBuffers();</span></div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span><span class="comment">     }</span></div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span><span class="comment"></span> </div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span><span class="comment">     // Shutdown</span></div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span><span class="comment">     ImGui::DestroyContext();</span></div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span><span class="comment"></span> </div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span><span class="comment"> To decide whether to dispatch mouse/keyboard inputs to Dear ImGui to the rest of your application,</span></div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span><span class="comment"> you should read the &#39;io.WantCaptureMouse&#39;, &#39;io.WantCaptureKeyboard&#39; and &#39;io.WantTextInput&#39; flags!</span></div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span><span class="comment"> Please read the FAQ entry &quot;How can I tell whether to dispatch mouse/keyboard to Dear ImGui or my application?&quot; about this.</span></div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span><span class="comment"></span> </div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span><span class="comment"></span> </div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span><span class="comment"> HOW A SIMPLE RENDERING FUNCTION MAY LOOK LIKE</span></div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span><span class="comment"> ---------------------------------------------</span></div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span><span class="comment"> The backends in impl_impl_XXX.cpp files contain many working implementations of a rendering function.</span></div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span><span class="comment"></span> </div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span><span class="comment">    void MyImGuiRenderFunction(ImDrawData* draw_data)</span></div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span><span class="comment">    {</span></div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span><span class="comment">       // TODO: Setup render state: alpha-blending enabled, no face culling, no depth testing, scissor enabled</span></div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span><span class="comment">       // TODO: Setup texture sampling state: sample with bilinear filtering (NOT point/nearest filtering). Use &#39;io.Fonts-&gt;Flags |= ImFontAtlasFlags_NoBakedLines;&#39; to allow point/nearest filtering.</span></div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span><span class="comment">       // TODO: Setup viewport covering draw_data-&gt;DisplayPos to draw_data-&gt;DisplayPos + draw_data-&gt;DisplaySize</span></div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span><span class="comment">       // TODO: Setup orthographic projection matrix cover draw_data-&gt;DisplayPos to draw_data-&gt;DisplayPos + draw_data-&gt;DisplaySize</span></div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span><span class="comment">       // TODO: Setup shader: vertex { float2 pos, float2 uv, u32 color }, fragment shader sample color from 1 texture, multiply by vertex color.</span></div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span><span class="comment">       ImVec2 clip_off = draw_data-&gt;DisplayPos;</span></div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span><span class="comment">       for (int n = 0; n &lt; draw_data-&gt;CmdListsCount; n++)</span></div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span><span class="comment">       {</span></div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span><span class="comment">          const ImDrawList* cmd_list = draw_data-&gt;CmdLists[n];</span></div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span><span class="comment">          const ImDrawVert* vtx_buffer = cmd_list-&gt;VtxBuffer.Data;  // vertex buffer generated by Dear ImGui</span></div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span><span class="comment">          const ImDrawIdx* idx_buffer = cmd_list-&gt;IdxBuffer.Data;   // index buffer generated by Dear ImGui</span></div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span><span class="comment">          for (int cmd_i = 0; cmd_i &lt; cmd_list-&gt;CmdBuffer.Size; cmd_i++)</span></div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span><span class="comment">          {</span></div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span><span class="comment">             const ImDrawCmd* pcmd = &amp;cmd_list-&gt;CmdBuffer[cmd_i];</span></div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span><span class="comment">             if (pcmd-&gt;UserCallback)</span></div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span><span class="comment">             {</span></div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span><span class="comment">                 pcmd-&gt;UserCallback(cmd_list, pcmd);</span></div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span><span class="comment">             }</span></div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span><span class="comment">             else</span></div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span><span class="comment">             {</span></div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span><span class="comment">                 // Project scissor/clipping rectangles into framebuffer space</span></div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span><span class="comment">                 ImVec2 clip_min(pcmd-&gt;ClipRect.x - clip_off.x, pcmd-&gt;ClipRect.y - clip_off.y);</span></div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span><span class="comment">                 ImVec2 clip_max(pcmd-&gt;ClipRect.z - clip_off.x, pcmd-&gt;ClipRect.w - clip_off.y);</span></div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span><span class="comment">                 if (clip_max.x &lt;= clip_min.x || clip_max.y &lt;= clip_min.y)</span></div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span><span class="comment">                     continue;</span></div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span><span class="comment"></span> </div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span><span class="comment">                 // We are using scissoring to clip some objects. All low-level graphics API should support it.</span></div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span><span class="comment">                 // - If your engine doesn&#39;t support scissoring yet, you may ignore this at first. You will get some small glitches</span></div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span><span class="comment">                 //   (some elements visible outside their bounds) but you can fix that once everything else works!</span></div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span><span class="comment">                 // - Clipping coordinates are provided in imgui coordinates space:</span></div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span><span class="comment">                 //   - For a given viewport, draw_data-&gt;DisplayPos == viewport-&gt;Pos and draw_data-&gt;DisplaySize == viewport-&gt;Size</span></div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span><span class="comment">                 //   - In a single viewport application, draw_data-&gt;DisplayPos == (0,0) and draw_data-&gt;DisplaySize == io.DisplaySize, but always use GetMainViewport()-&gt;Pos/Size instead of hardcoding those values.</span></div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span><span class="comment">                 //   - In the interest of supporting multi-viewport applications (see &#39;docking&#39; branch on github),</span></div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span><span class="comment">                 //     always subtract draw_data-&gt;DisplayPos from clipping bounds to convert them to your viewport space.</span></div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span><span class="comment">                 // - Note that pcmd-&gt;ClipRect contains Min+Max bounds. Some graphics API may use Min+Max, other may use Min+Size (size being Max-Min)</span></div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span><span class="comment">                 MyEngineSetScissor(clip_min.x, clip_min.y, clip_max.x, clip_max.y);</span></div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span><span class="comment"></span> </div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span><span class="comment">                 // The texture for the draw call is specified by pcmd-&gt;GetTexID().</span></div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span><span class="comment">                 // The vast majority of draw calls will use the Dear ImGui texture atlas, which value you have set yourself during initialization.</span></div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span><span class="comment">                 MyEngineBindTexture((MyTexture*)pcmd-&gt;GetTexID());</span></div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span><span class="comment"></span> </div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span><span class="comment">                 // Render &#39;pcmd-&gt;ElemCount/3&#39; indexed triangles.</span></div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span><span class="comment">                 // By default the indices ImDrawIdx are 16-bit, you can change them to 32-bit in imconfig.h if your engine doesn&#39;t support 16-bit indices.</span></div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span><span class="comment">                 MyEngineDrawIndexedTriangles(pcmd-&gt;ElemCount, sizeof(ImDrawIdx) == 2 ? GL_UNSIGNED_SHORT : GL_UNSIGNED_INT, idx_buffer + pcmd-&gt;IdxOffset, vtx_buffer, pcmd-&gt;VtxOffset);</span></div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span><span class="comment">             }</span></div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span><span class="comment">          }</span></div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span><span class="comment">       }</span></div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span><span class="comment">    }</span></div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span><span class="comment"></span> </div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span><span class="comment"></span> </div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span><span class="comment"> API BREAKING CHANGES</span></div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span><span class="comment"> ====================</span></div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span><span class="comment"></span> </div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span><span class="comment"> Occasionally introducing changes that are breaking the API. We try to make the breakage minor and easy to fix.</span></div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span><span class="comment"> Below is a change-log of API breaking changes only. If you are using one of the functions listed, expect to have to fix some code.</span></div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span><span class="comment"> When you are not sure about an old symbol or function name, try using the Search/Find function of your IDE to look for comments or references in all imgui files.</span></div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span><span class="comment"> You can read releases logs https://github.com/ocornut/imgui/releases for more details.</span></div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span><span class="comment"></span> </div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span><span class="comment">(Docking/Viewport Branch)</span></div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span><span class="comment"> - 2025/XX/XX (1.XXXX) - when multi-viewports are enabled, all positions will be in your natural OS coordinates space. It means that:</span></div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span><span class="comment">                          - reference to hard-coded positions such as in SetNextWindowPos(ImVec2(0,0)) are probably not what you want anymore.</span></div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span><span class="comment">                            you may use GetMainViewport()-&gt;Pos to offset hard-coded positions, e.g. SetNextWindowPos(GetMainViewport()-&gt;Pos)</span></div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span><span class="comment">                          - likewise io.MousePos and GetMousePos() will use OS coordinates.</span></div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span><span class="comment">                            If you query mouse positions to interact with non-imgui coordinates you will need to offset them, e.g. subtract GetWindowViewport()-&gt;Pos.</span></div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span><span class="comment"></span> </div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span><span class="comment"> - 2025/03/05 (1.91.9) - BeginMenu(): Internals: reworked mangling of menu windows to use &quot;###Menu_00&quot; etc. instead of &quot;##Menu_00&quot;, allowing them to also store the menu name before it. This shouldn&#39;t affect code unless directly accessing menu window from their mangled name.</span></div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span><span class="comment"> - 2025/02/27 (1.91.9) - Image(): removed &#39;tint_col&#39; and &#39;border_col&#39; parameter from Image() function. Added ImageWithBg() replacement. (#8131, #8238)</span></div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span><span class="comment">                            - old: void Image      (ImTextureID tex_id, ImVec2 image_size, ImVec2 uv0 = (0,0), ImVec2 uv1 = (1,1), ImVec4 tint_col = (1,1,1,1), ImVec4 border_col = (0,0,0,0));</span></div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span><span class="comment">                            - new: void Image      (ImTextureID tex_id, ImVec2 image_size, ImVec2 uv0 = (0,0), ImVec2 uv1 = (1,1));</span></div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span><span class="comment">                            - new: void ImageWithBg(ImTextureID tex_id, ImVec2 image_size, ImVec2 uv0 = (0,0), ImVec2 uv1 = (1,1), ImVec4 bg_col = (0,0,0,0), ImVec4 tint_col = (1,1,1,1));</span></div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span><span class="comment">                            - TL;DR: &#39;border_col&#39; had misleading side-effect on layout, &#39;bg_col&#39; was missing, parameter order couldn&#39;t be consistent with ImageButton().</span></div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span><span class="comment">                            - new behavior always use ImGuiCol_Border color + style.ImageBorderSize / ImGuiStyleVar_ImageBorderSize.</span></div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span><span class="comment">                            - old behavior altered border size (and therefore layout) based on border color&#39;s alpha, which caused variety of problems + old behavior a fixed 1.0f for border size which was not tweakable.</span></div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span><span class="comment">                            - kept legacy signature (will obsolete), which mimics the old behavior,  but uses Max(1.0f, style.ImageBorderSize) when border_col is specified.</span></div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span><span class="comment">                            - added ImageWithBg() function which has both &#39;bg_col&#39; (which was missing) and &#39;tint_col&#39;. It was impossible to add &#39;bg_col&#39; to Image() with a parameter order consistent with other functions, so we decided to remove &#39;tint_col&#39; and introduce ImageWithBg().</span></div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span><span class="comment"> - 2025/02/25 (1.91.9) - internals: fonts: ImFontAtlas::ConfigData[] has been renamed to ImFontAtlas::Sources[]. ImFont::ConfigData[], ConfigDataCount has been renamed to Sources[], SourcesCount.</span></div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span><span class="comment"> - 2025/02/06 (1.91.9) - renamed ImFontConfig::GlyphExtraSpacing.x to ImFontConfig::GlyphExtraAdvanceX.</span></div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span><span class="comment"> - 2025/01/22 (1.91.8) - removed ImGuiColorEditFlags_AlphaPreview (made value 0): it is now the default behavior.</span></div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span><span class="comment">                         prior to 1.91.8: alpha was made opaque in the preview by default _unless_ using ImGuiColorEditFlags_AlphaPreview. We now display the preview as transparent by default. You can use ImGuiColorEditFlags_AlphaOpaque to use old behavior.</span></div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span><span class="comment">                         the new flags (ImGuiColorEditFlags_AlphaOpaque, ImGuiColorEditFlags_AlphaNoBg + existing ImGuiColorEditFlags_AlphaPreviewHalf) may be combined better and allow finer controls:</span></div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span><span class="comment"> - 2025/01/14 (1.91.7) - renamed ImGuiTreeNodeFlags_SpanTextWidth to ImGuiTreeNodeFlags_SpanLabelWidth for consistency with other names. Kept redirection enum (will obsolete). (#6937)</span></div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span><span class="comment"> - 2024/11/27 (1.91.6) - changed CRC32 table from CRC32-adler to CRC32c polynomial in order to be compatible with the result of SSE 4.2 instructions.</span></div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span><span class="comment">                         As a result, old .ini data may be partially lost (docking and tables information particularly).</span></div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span><span class="comment">                         Because some users have crafted and storing .ini data as a way to workaround limitations of the docking API, we are providing a &#39;#define IMGUI_USE_LEGACY_CRC32_ADLER&#39; compile-time option to keep using old CRC32 tables if you cannot afford invalidating old .ini data.</span></div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span><span class="comment"> - 2024/11/06 (1.91.5) - commented/obsoleted out pre-1.87 IO system (equivalent to using IMGUI_DISABLE_OBSOLETE_KEYIO or IMGUI_DISABLE_OBSOLETE_FUNCTIONS before)</span></div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span><span class="comment">                            - io.KeyMap[] and io.KeysDown[] are removed (obsoleted February 2022).</span></div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span><span class="comment">                            - io.NavInputs[] and ImGuiNavInput are removed (obsoleted July 2022).</span></div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span><span class="comment">                            - pre-1.87 backends are not supported:</span></div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span><span class="comment">                               - backends need to call io.AddKeyEvent(), io.AddMouseEvent() instead of writing to io.KeysDown[], io.MouseDown[] fields.</span></div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span><span class="comment">                               - backends need to call io.AddKeyAnalogEvent() for gamepad values instead of writing to io.NavInputs[] fields.</span></div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span><span class="comment">                            - for more reference:</span></div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span><span class="comment">                              - read 1.87 and 1.88 part of this section or read Changelog for 1.87 and 1.88.</span></div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span><span class="comment">                              - read https://github.com/ocornut/imgui/issues/4921</span></div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span><span class="comment">                            - if you have trouble updating a very old codebase using legacy backend-specific key codes: consider updating to 1.91.4 first, then #define IMGUI_DISABLE_OBSOLETE_KEYIO, then update to latest.</span></div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span><span class="comment">                       - obsoleted ImGuiKey_COUNT (it is unusually error-prone/misleading since valid keys don&#39;t start at 0). probably use ImGuiKey_NamedKey_BEGIN/ImGuiKey_NamedKey_END?</span></div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span><span class="comment">                       - fonts: removed const qualifiers from most font functions in prevision for upcoming font improvements.</span></div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span><span class="comment"> - 2024/10/18 (1.91.4) - renamed ImGuiCol_NavHighlight to ImGuiCol_NavCursor (for consistency with newly exposed and reworked features). Kept inline redirection enum (will obsolete).</span></div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span><span class="comment"> - 2024/10/14 (1.91.4) - moved ImGuiConfigFlags_NavEnableSetMousePos to standalone io.ConfigNavMoveSetMousePos bool.</span></div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span><span class="comment">                         moved ImGuiConfigFlags_NavNoCaptureKeyboard to standalone io.ConfigNavCaptureKeyboard bool (note the inverted value!).</span></div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span><span class="comment">                         kept legacy names (will obsolete) + code that copies settings once the first time. Dynamically changing the old value won&#39;t work. Switch to using the new value!</span></div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span><span class="comment"> - 2024/10/10 (1.91.4) - the typedef for ImTextureID now defaults to ImU64 instead of void*. (#1641)</span></div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span><span class="comment">                         this removes the requirement to redefine it for backends which are e.g. storing descriptor sets or other 64-bits structures when building on 32-bits archs. It therefore simplify various building scripts/helpers.</span></div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span><span class="comment">                         you may have compile-time issues if you were casting to &#39;void*&#39; instead of &#39;ImTextureID&#39; when passing your types to functions taking ImTextureID values, e.g. ImGui::Image().</span></div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span><span class="comment">                         in doubt it is almost always better to do an intermediate intptr_t cast, since it allows casting any pointer/integer type without warning:</span></div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span><span class="comment">                            - May warn:    ImGui::Image((void*)MyTextureData, ...);</span></div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span><span class="comment">                            - May warn:    ImGui::Image((void*)(intptr_t)MyTextureData, ...);</span></div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span><span class="comment">                            - Won&#39;t warn:  ImGui::Image((ImTextureID)(intptr_t)MyTextureData), ...);</span></div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span><span class="comment">  -                      note that you can always define ImTextureID to be your own high-level structures (with dedicated constructors) if you like.</span></div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span><span class="comment"> - 2024/10/03 (1.91.3) - drags: treat v_min==v_max as a valid clamping range when != 0.0f. Zero is a still special value due to legacy reasons, unless using ImGuiSliderFlags_ClampZeroRange. (#7968, #3361, #76)</span></div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span><span class="comment">                       - drags: extended behavior of ImGuiSliderFlags_AlwaysClamp to include _ClampZeroRange. It considers v_min==v_max==0.0f as a valid clamping range (aka edits not allowed).</span></div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span><span class="comment">                         although unlikely, it you wish to only clamp on text input but want v_min==v_max==0.0f to mean unclamped drags, you can use _ClampOnInput instead of _AlwaysClamp. (#7968, #3361, #76)</span></div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span><span class="comment"> - 2024/09/10 (1.91.2) - internals: using multiple overlaid ButtonBehavior() with same ID will now have io.ConfigDebugHighlightIdConflicts=true feature emit a warning. (#8030)</span></div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span><span class="comment">                         it was one of the rare case where using same ID is legal. workarounds: (1) use single ButtonBehavior() call with multiple _MouseButton flags, or (2) surround the calls with PushItemFlag(ImGuiItemFlags_AllowDuplicateId, true); ... PopItemFlag()</span></div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span><span class="comment"> - 2024/08/23 (1.91.1) - renamed ImGuiChildFlags_Border to ImGuiChildFlags_Borders for consistency. kept inline redirection flag.</span></div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span><span class="comment"> - 2024/08/22 (1.91.1) - moved some functions from ImGuiIO to ImGuiPlatformIO structure:</span></div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span><span class="comment">                            - io.GetClipboardTextFn         -&gt; platform_io.Platform_GetClipboardTextFn + changed &#39;void* user_data&#39; to &#39;ImGuiContext* ctx&#39;. Pull your user data from platform_io.ClipboardUserData.</span></div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span><span class="comment">                            - io.SetClipboardTextFn         -&gt; platform_io.Platform_SetClipboardTextFn + same as above line.</span></div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span><span class="comment">                            - io.PlatformOpenInShellFn      -&gt; platform_io.Platform_OpenInShellFn (#7660)</span></div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span><span class="comment">                            - io.PlatformSetImeDataFn       -&gt; platform_io.Platform_SetImeDataFn</span></div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span><span class="comment">                            - io.PlatformLocaleDecimalPoint -&gt; platform_io.Platform_LocaleDecimalPoint (#7389, #6719, #2278)</span></div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span><span class="comment">                            - access those via GetPlatformIO() instead of GetIO().</span></div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span><span class="comment">                         some were introduced very recently and often automatically setup by core library and backends, so for those we are exceptionally not maintaining a legacy redirection symbol.</span></div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span><span class="comment">                       - commented the old ImageButton() signature obsoleted in 1.89 (~August 2022). As a reminder:</span></div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span><span class="comment">                            - old ImageButton() before 1.89 used ImTextureId as item id (created issue with e.g. multiple buttons in same scope, transient texture id values, opaque computation of ID)</span></div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span><span class="comment">                            - new ImageButton() since 1.89 requires an explicit &#39;const char* str_id&#39;</span></div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span><span class="comment">                            - old ImageButton() before 1.89 had frame_padding&#39; override argument.</span></div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span><span class="comment">                            - new ImageButton() since 1.89 always use style.FramePadding, which you can freely override with PushStyleVar()/PopStyleVar().</span></div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span><span class="comment"> - 2024/07/25 (1.91.0) - obsoleted GetContentRegionMax(), GetWindowContentRegionMin() and GetWindowContentRegionMax(). (see #7838 on GitHub for more info)</span></div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span><span class="comment">                         you should never need those functions. you can do everything with GetCursorScreenPos() and GetContentRegionAvail() in a more simple way.</span></div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span><span class="comment">                            - instead of:  GetWindowContentRegionMax().x - GetCursorPos().x</span></div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span><span class="comment">                            - you can use: GetContentRegionAvail().x</span></div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span><span class="comment">                            - instead of:  GetWindowContentRegionMax().x + GetWindowPos().x</span></div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span><span class="comment">                            - you can use: GetCursorScreenPos().x + GetContentRegionAvail().x // when called from left edge of window</span></div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span><span class="comment">                            - instead of:  GetContentRegionMax()</span></div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span><span class="comment">                            - you can use: GetContentRegionAvail() + GetCursorScreenPos() - GetWindowPos() // right edge in local coordinates</span></div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span><span class="comment">                            - instead of:  GetWindowContentRegionMax().x - GetWindowContentRegionMin().x</span></div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span><span class="comment">                            - you can use: GetContentRegionAvail() // when called from left edge of window</span></div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span><span class="comment"> - 2024/07/15 (1.91.0) - renamed ImGuiSelectableFlags_DontClosePopups to ImGuiSelectableFlags_NoAutoClosePopups. (#1379, #1468, #2200, #4936, #5216, #7302, #7573)</span></div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span><span class="comment">                         (internals: also renamed ImGuiItemFlags_SelectableDontClosePopup into ImGuiItemFlags_AutoClosePopups with inverted behaviors)</span></div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span><span class="comment"> - 2024/07/15 (1.91.0) - obsoleted PushButtonRepeat()/PopButtonRepeat() in favor of using new PushItemFlag(ImGuiItemFlags_ButtonRepeat, ...)/PopItemFlag().</span></div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span><span class="comment"> - 2024/07/02 (1.91.0) - commented out obsolete ImGuiModFlags (renamed to ImGuiKeyChord in 1.89). (#4921, #456)</span></div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span><span class="comment">                       - commented out obsolete ImGuiModFlags_XXX values (renamed to ImGuiMod_XXX in 1.89). (#4921, #456)</span></div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span><span class="comment">                            - ImGuiModFlags_Ctrl -&gt; ImGuiMod_Ctrl, ImGuiModFlags_Shift -&gt; ImGuiMod_Shift etc.</span></div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span><span class="comment"> - 2024/07/02 (1.91.0) - IO, IME: renamed platform IME hook and added explicit context for consistency and future-proofness.</span></div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span><span class="comment">                            - old: io.SetPlatformImeDataFn(ImGuiViewport* viewport, ImGuiPlatformImeData* data);</span></div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span><span class="comment">                            - new: io.PlatformSetImeDataFn(ImGuiContext* ctx, ImGuiViewport* viewport, ImGuiPlatformImeData* data);</span></div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span><span class="comment"> - 2024/06/21 (1.90.9) - BeginChild: added ImGuiChildFlags_NavFlattened as a replacement for the window flag ImGuiWindowFlags_NavFlattened: the feature only ever made sense for BeginChild() anyhow.</span></div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span><span class="comment">                            - old: BeginChild(&quot;Name&quot;, size, 0, ImGuiWindowFlags_NavFlattened);</span></div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span><span class="comment">                            - new: BeginChild(&quot;Name&quot;, size, ImGuiChildFlags_NavFlattened, 0);</span></div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span><span class="comment"> - 2024/06/21 (1.90.9) - io: ClearInputKeys() (first exposed in 1.89.8) doesn&#39;t clear mouse data, newly added ClearInputMouse() does.</span></div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span><span class="comment"> - 2024/06/20 (1.90.9) - renamed ImGuiDragDropFlags_SourceAutoExpirePayload to ImGuiDragDropFlags_PayloadAutoExpire.</span></div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span><span class="comment"> - 2024/06/18 (1.90.9) - style: renamed ImGuiCol_TabActive -&gt; ImGuiCol_TabSelected, ImGuiCol_TabUnfocused -&gt; ImGuiCol_TabDimmed, ImGuiCol_TabUnfocusedActive -&gt; ImGuiCol_TabDimmedSelected.</span></div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span><span class="comment"> - 2024/06/10 (1.90.9) - removed old nested structure: renaming ImGuiStorage::ImGuiStoragePair type to ImGuiStoragePair (simpler for many languages).</span></div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span><span class="comment"> - 2024/06/06 (1.90.8) - reordered ImGuiInputTextFlags values. This should not be breaking unless you are using generated headers that have values not matching the main library.</span></div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span><span class="comment"> - 2024/06/06 (1.90.8) - removed &#39;ImGuiButtonFlags_MouseButtonDefault_ = ImGuiButtonFlags_MouseButtonLeft&#39;, was mostly unused and misleading.</span></div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span><span class="comment"> - 2024/05/27 (1.90.7) - commented out obsolete symbols marked obsolete in 1.88 (May 2022):</span></div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span><span class="comment">                            - old: CaptureKeyboardFromApp(bool)</span></div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span><span class="comment">                            - new: SetNextFrameWantCaptureKeyboard(bool)</span></div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span><span class="comment">                            - old: CaptureMouseFromApp(bool)</span></div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span><span class="comment">                            - new: SetNextFrameWantCaptureMouse(bool)</span></div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span><span class="comment"> - 2024/05/22 (1.90.7) - inputs (internals): renamed ImGuiKeyOwner_None to ImGuiKeyOwner_NoOwner, to make use more explicit and reduce confusion with the default it is a non-zero value and cannot be the default value (never made public, but disclosing as I expect a few users caught on owner-aware inputs).</span></div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span><span class="comment">                       - inputs (internals): renamed ImGuiInputFlags_RouteGlobalLow -&gt; ImGuiInputFlags_RouteGlobal, ImGuiInputFlags_RouteGlobal -&gt; ImGuiInputFlags_RouteGlobalOverFocused, ImGuiInputFlags_RouteGlobalHigh -&gt; ImGuiInputFlags_RouteGlobalHighest.</span></div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span><span class="comment">                       - inputs (internals): Shortcut(), SetShortcutRouting(): swapped last two parameters order in function signatures:</span></div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span><span class="comment">                            - old: Shortcut(ImGuiKeyChord key_chord, ImGuiID owner_id = 0, ImGuiInputFlags flags = 0);</span></div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span><span class="comment">                            - new: Shortcut(ImGuiKeyChord key_chord, ImGuiInputFlags flags = 0, ImGuiID owner_id = 0);</span></div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span><span class="comment">                       - inputs (internals): owner-aware versions of IsKeyPressed(), IsKeyChordPressed(), IsMouseClicked(): swapped last two parameters order in function signatures.</span></div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span><span class="comment">                            - old: IsKeyPressed(ImGuiKey key, ImGuiID owner_id, ImGuiInputFlags flags = 0);</span></div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span><span class="comment">                            - new: IsKeyPressed(ImGuiKey key, ImGuiInputFlags flags, ImGuiID owner_id = 0);</span></div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span><span class="comment">                            - old: IsMouseClicked(ImGuiMouseButton button, ImGuiID owner_id, ImGuiInputFlags flags = 0);</span></div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span><span class="comment">                            - new: IsMouseClicked(ImGuiMouseButton button, ImGuiInputFlags flags, ImGuiID owner_id = 0);</span></div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span><span class="comment">                         for various reasons those changes makes sense. They are being made because making some of those API public.</span></div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span><span class="comment">                         only past users of imgui_internal.h with the extra parameters will be affected. Added asserts for valid flags in various functions to detect _some_ misuses, BUT NOT ALL.</span></div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span><span class="comment"> - 2024/05/21 (1.90.7) - docking: changed signature of DockSpaceOverViewport() to add explicit dockspace id if desired. pass 0 to use old behavior. (#7611)</span></div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span><span class="comment">                           - old: DockSpaceOverViewport(const ImGuiViewport* viewport = NULL, ImGuiDockNodeFlags flags = 0, ...);</span></div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span><span class="comment">                           - new: DockSpaceOverViewport(ImGuiID dockspace_id = 0, const ImGuiViewport* viewport = NULL, ImGuiDockNodeFlags flags = 0, ...);</span></div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span><span class="comment"> - 2024/05/16 (1.90.7) - inputs: on macOS X, Cmd and Ctrl keys are now automatically swapped by io.AddKeyEvent() as this naturally align with how macOS X uses those keys.</span></div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span><span class="comment">                           - it shouldn&#39;t really affect you unless you had custom shortcut swapping in place for macOS X apps.</span></div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span><span class="comment">                           - removed ImGuiMod_Shortcut which was previously dynamically remapping to Ctrl or Cmd/Super. It is now unnecessary to specific cross-platform idiomatic shortcuts. (#2343, #4084, #5923, #456)</span></div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span><span class="comment"> - 2024/05/14 (1.90.7) - backends: SDL_Renderer2 and SDL_Renderer3 backend now take a SDL_Renderer* in their RenderDrawData() functions.</span></div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span><span class="comment"> - 2024/04/18 (1.90.6) - TreeNode: Fixed a layout inconsistency when using an empty/hidden label followed by a SameLine() call. (#7505, #282)</span></div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span><span class="comment">                           - old: TreeNode(&quot;##Hidden&quot;); SameLine(); Text(&quot;Hello&quot;);     // &lt;-- This was actually incorrect! BUT appeared to look ok with the default style where ItemSpacing.x == FramePadding.x * 2 (it didn&#39;t look aligned otherwise).</span></div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span><span class="comment">                           - new: TreeNode(&quot;##Hidden&quot;); SameLine(0, 0); Text(&quot;Hello&quot;); // &lt;-- This is correct for all styles values.</span></div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span><span class="comment">                         with the fix, IF you were successfully using TreeNode(&quot;&quot;)+SameLine(); you will now have extra spacing between your TreeNode and the following item.</span></div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span><span class="comment">                         You&#39;ll need to change the SameLine() call to SameLine(0,0) to remove this extraneous spacing. This seemed like the more sensible fix that&#39;s not making things less consistent.</span></div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span><span class="comment">                         (Note: when using this idiom you are likely to also use ImGuiTreeNodeFlags_SpanAvailWidth).</span></div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span><span class="comment"> - 2024/03/18 (1.90.5) - merged the radius_x/radius_y parameters in ImDrawList::AddEllipse(), AddEllipseFilled() and PathEllipticalArcTo() into a single ImVec2 parameter. Exceptionally, because those functions were added in 1.90, we are not adding inline redirection functions. The transition is easy and should affect few users. (#2743, #7417)</span></div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span><span class="comment"> - 2024/03/08 (1.90.5) - inputs: more formally obsoleted GetKeyIndex() when IMGUI_DISABLE_OBSOLETE_FUNCTIONS is set. It has been unnecessary and a no-op since 1.87 (it returns the same value as passed when used with a 1.87+ backend using io.AddKeyEvent() function). (#4921)</span></div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span><span class="comment">                           - IsKeyPressed(GetKeyIndex(ImGuiKey_XXX)) -&gt; use IsKeyPressed(ImGuiKey_XXX)</span></div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span><span class="comment"> - 2024/01/15 (1.90.2) - commented out obsolete ImGuiIO::ImeWindowHandle marked obsolete in 1.87, favor of writing to &#39;void* ImGuiViewport::PlatformHandleRaw&#39;.</span></div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span><span class="comment"> - 2023/12/19 (1.90.1) - commented out obsolete ImGuiKey_KeyPadEnter redirection to ImGuiKey_KeypadEnter.</span></div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span><span class="comment"> - 2023/11/06 (1.90.1) - removed CalcListClipping() marked obsolete in 1.86. Prefer using ImGuiListClipper which can return non-contiguous ranges.</span></div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span><span class="comment"> - 2023/11/05 (1.90.1) - imgui_freetype: commented out ImGuiFreeType::BuildFontAtlas() obsoleted in 1.81. prefer using #define IMGUI_ENABLE_FREETYPE or see commented code for manual calls.</span></div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span><span class="comment"> - 2023/11/05 (1.90.1) - internals,columns: commented out legacy ImGuiColumnsFlags_XXX symbols redirecting to ImGuiOldColumnsFlags_XXX, obsoleted from imgui_internal.h in 1.80.</span></div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span><span class="comment"> - 2023/11/09 (1.90.0) - removed IM_OFFSETOF() macro in favor of using offsetof() available in C++11. Kept redirection define (will obsolete).</span></div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span><span class="comment"> - 2023/11/07 (1.90.0) - removed BeginChildFrame()/EndChildFrame() in favor of using BeginChild() with the ImGuiChildFlags_FrameStyle flag. kept inline redirection function (will obsolete).</span></div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span><span class="comment">                         those functions were merely PushStyle/PopStyle helpers, the removal isn&#39;t so much motivated by needing to add the feature in BeginChild(), but by the necessity to avoid BeginChildFrame() signature mismatching BeginChild() signature and features.</span></div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span><span class="comment"> - 2023/11/02 (1.90.0) - BeginChild: upgraded &#39;bool border = true&#39; parameter to &#39;ImGuiChildFlags flags&#39; type, added ImGuiChildFlags_Border equivalent. As with our prior &quot;bool-to-flags&quot; API updates, the ImGuiChildFlags_Border value is guaranteed to be == true forever to ensure a smoother transition, meaning all existing calls will still work.</span></div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span><span class="comment">                           - old: BeginChild(&quot;Name&quot;, size, true)</span></div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span><span class="comment">                           - new: BeginChild(&quot;Name&quot;, size, ImGuiChildFlags_Border)</span></div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span><span class="comment">                           - old: BeginChild(&quot;Name&quot;, size, false)</span></div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span><span class="comment">                           - new: BeginChild(&quot;Name&quot;, size) or BeginChild(&quot;Name&quot;, 0) or BeginChild(&quot;Name&quot;, size, ImGuiChildFlags_None)</span></div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span><span class="comment">                         **AMEND FROM THE FUTURE: from 1.91.1, &#39;ImGuiChildFlags_Border&#39; is called &#39;ImGuiChildFlags_Borders&#39;**</span></div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span><span class="comment"> - 2023/11/02 (1.90.0) - BeginChild: added child-flag ImGuiChildFlags_AlwaysUseWindowPadding as a replacement for the window-flag ImGuiWindowFlags_AlwaysUseWindowPadding: the feature only ever made sense for BeginChild() anyhow.</span></div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span><span class="comment">                           - old: BeginChild(&quot;Name&quot;, size, 0, ImGuiWindowFlags_AlwaysUseWindowPadding);</span></div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span><span class="comment">                           - new: BeginChild(&quot;Name&quot;, size, ImGuiChildFlags_AlwaysUseWindowPadding, 0);</span></div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span><span class="comment"> - 2023/09/27 (1.90.0) - io: removed io.MetricsActiveAllocations introduced in 1.63. Same as &#39;g.DebugMemAllocCount - g.DebugMemFreeCount&#39; (still displayed in Metrics, unlikely to be accessed by end-user).</span></div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span><span class="comment"> - 2023/09/26 (1.90.0) - debug tools: Renamed ShowStackToolWindow() (&quot;Stack Tool&quot;) to ShowIDStackToolWindow() (&quot;ID Stack Tool&quot;), as earlier name was misleading. Kept inline redirection function. (#4631)</span></div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span><span class="comment"> - 2023/09/15 (1.90.0) - ListBox, Combo: changed signature of &quot;name getter&quot; callback in old one-liner ListBox()/Combo() apis. kept inline redirection function (will obsolete).</span></div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span><span class="comment">                           - old: bool Combo(const char* label, int* current_item, bool (*getter)(void* user_data, int idx, const char** out_text), ...)</span></div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span><span class="comment">                           - new: bool Combo(const char* label, int* current_item, const char* (*getter)(void* user_data, int idx), ...);</span></div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span><span class="comment">                           - old: bool ListBox(const char* label, int* current_item, bool (*getting)(void* user_data, int idx, const char** out_text), ...);</span></div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span><span class="comment">                           - new: bool ListBox(const char* label, int* current_item, const char* (*getter)(void* user_data, int idx), ...);</span></div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span><span class="comment"> - 2023/09/08 (1.90.0) - commented out obsolete redirecting functions:</span></div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span><span class="comment">                           - GetWindowContentRegionWidth()  -&gt; use GetWindowContentRegionMax().x - GetWindowContentRegionMin().x. Consider that generally &#39;GetContentRegionAvail().x&#39; is more useful.</span></div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span><span class="comment">                           - ImDrawCornerFlags_XXX          -&gt; use ImDrawFlags_RoundCornersXXX flags. Read 1.82 Changelog for details + grep commented names in sources.</span></div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span><span class="comment">                       - commented out runtime support for hardcoded ~0 or 0x01..0x0F rounding flags values for AddRect()/AddRectFilled()/PathRect()/AddImageRounded() -&gt; use ImDrawFlags_RoundCornersXXX flags. Read 1.82 Changelog for details</span></div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span><span class="comment"> - 2023/08/25 (1.89.9) - clipper: Renamed IncludeRangeByIndices() (also called ForceDisplayRangeByIndices() before 1.89.6) to IncludeItemsByIndex(). Kept inline redirection function. Sorry!</span></div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span><span class="comment"> - 2023/07/12 (1.89.8) - ImDrawData: CmdLists now owned, changed from ImDrawList** to ImVector&lt;ImDrawList*&gt;. Majority of users shouldn&#39;t be affected, but you cannot compare to NULL nor reassign manually anymore. Instead use AddDrawList(). (#6406, #4879, #1878)</span></div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span><span class="comment"> - 2023/06/28 (1.89.7) - overlapping items: obsoleted &#39;SetItemAllowOverlap()&#39; (called after item) in favor of calling &#39;SetNextItemAllowOverlap()&#39; (called before item). &#39;SetItemAllowOverlap()&#39; didn&#39;t and couldn&#39;t work reliably since 1.89 (2022-11-15).</span></div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span><span class="comment"> - 2023/06/28 (1.89.7) - overlapping items: renamed &#39;ImGuiTreeNodeFlags_AllowItemOverlap&#39; to &#39;ImGuiTreeNodeFlags_AllowOverlap&#39;, &#39;ImGuiSelectableFlags_AllowItemOverlap&#39; to &#39;ImGuiSelectableFlags_AllowOverlap&#39;. Kept redirecting enums (will obsolete).</span></div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span><span class="comment"> - 2023/06/28 (1.89.7) - overlapping items: IsItemHovered() now by default return false when querying an item using AllowOverlap mode which is being overlapped. Use ImGuiHoveredFlags_AllowWhenOverlappedByItem to revert to old behavior.</span></div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span><span class="comment"> - 2023/06/28 (1.89.7) - overlapping items: Selectable and TreeNode don&#39;t allow overlap when active so overlapping widgets won&#39;t appear as hovered. While this fixes a common small visual issue, it also means that calling IsItemHovered() after a non-reactive elements - e.g. Text() - overlapping an active one may fail if you don&#39;t use IsItemHovered(ImGuiHoveredFlags_AllowWhenBlockedByActiveItem). (#6610)</span></div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span><span class="comment"> - 2023/06/20 (1.89.7) - moved io.HoverDelayShort/io.HoverDelayNormal to style.HoverDelayShort/style.HoverDelayNormal. As the fields were added in 1.89 and expected to be left unchanged by most users, or only tweaked once during app initialization, we are exceptionally accepting the breakage.</span></div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span><span class="comment"> - 2023/05/30 (1.89.6) - backends: renamed &quot;imgui_impl_sdlrenderer.cpp&quot; to &quot;imgui_impl_sdlrenderer2.cpp&quot; and &quot;imgui_impl_sdlrenderer.h&quot; to &quot;imgui_impl_sdlrenderer2.h&quot;. This is in prevision for the future release of SDL3.</span></div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span><span class="comment"> - 2023/05/22 (1.89.6) - listbox: commented out obsolete/redirecting functions that were marked obsolete more than two years ago:</span></div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span><span class="comment">                           - ListBoxHeader()  -&gt; use BeginListBox() (note how two variants of ListBoxHeader() existed. Check commented versions in imgui.h for reference)</span></div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span><span class="comment">                           - ListBoxFooter()  -&gt; use EndListBox()</span></div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span><span class="comment"> - 2023/05/15 (1.89.6) - clipper: commented out obsolete redirection constructor &#39;ImGuiListClipper(int items_count, float items_height = -1.0f)&#39; that was marked obsolete in 1.79. Use default constructor + clipper.Begin().</span></div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span><span class="comment"> - 2023/05/15 (1.89.6) - clipper: renamed ImGuiListClipper::ForceDisplayRangeByIndices() to ImGuiListClipper::IncludeRangeByIndices().</span></div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span><span class="comment"> - 2023/03/14 (1.89.4) - commented out redirecting enums/functions names that were marked obsolete two years ago:</span></div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span><span class="comment">                           - ImGuiSliderFlags_ClampOnInput        -&gt; use ImGuiSliderFlags_AlwaysClamp</span></div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span><span class="comment">                           - ImGuiInputTextFlags_AlwaysInsertMode -&gt; use ImGuiInputTextFlags_AlwaysOverwrite</span></div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span><span class="comment">                           - ImDrawList::AddBezierCurve()         -&gt; use ImDrawList::AddBezierCubic()</span></div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span><span class="comment">                           - ImDrawList::PathBezierCurveTo()      -&gt; use ImDrawList::PathBezierCubicCurveTo()</span></div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span><span class="comment"> - 2023/03/09 (1.89.4) - renamed PushAllowKeyboardFocus()/PopAllowKeyboardFocus() to PushTabStop()/PopTabStop(). Kept inline redirection functions (will obsolete).</span></div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span><span class="comment"> - 2023/03/09 (1.89.4) - tooltips: Added &#39;bool&#39; return value to BeginTooltip() for API consistency. Please only submit contents and call EndTooltip() if BeginTooltip() returns true. In reality the function will _currently_ always return true, but further changes down the line may change this, best to clarify API sooner.</span></div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span><span class="comment"> - 2023/02/15 (1.89.4) - moved the optional &quot;courtesy maths operators&quot; implementation from imgui_internal.h in imgui.h.</span></div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span><span class="comment">                         Even though we encourage using your own maths types and operators by setting up IM_VEC2_CLASS_EXTRA,</span></div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span><span class="comment">                         it has been frequently requested by people to use our own. We had an opt-in define which was</span></div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span><span class="comment">                         previously fulfilled in imgui_internal.h. It is now fulfilled in imgui.h. (#6164)</span></div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span><span class="comment">                           - OK:     #define IMGUI_DEFINE_MATH_OPERATORS / #include &quot;imgui.h&quot; / #include &quot;imgui_internal.h&quot;</span></div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span><span class="comment">                           - Error:  #include &quot;imgui.h&quot; / #define IMGUI_DEFINE_MATH_OPERATORS / #include &quot;imgui_internal.h&quot;</span></div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span><span class="comment"> - 2023/02/07 (1.89.3) - backends: renamed &quot;imgui_impl_sdl.cpp&quot; to &quot;imgui_impl_sdl2.cpp&quot; and &quot;imgui_impl_sdl.h&quot; to &quot;imgui_impl_sdl2.h&quot;. (#6146) This is in prevision for the future release of SDL3.</span></div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span><span class="comment"> - 2022/10/26 (1.89)   - commented out redirecting OpenPopupContextItem() which was briefly the name of OpenPopupOnItemClick() from 1.77 to 1.79.</span></div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span><span class="comment"> - 2022/10/12 (1.89)   - removed runtime patching of invalid &quot;%f&quot;/&quot;%0.f&quot; format strings for DragInt()/SliderInt(). This was obsoleted in 1.61 (May 2018). See 1.61 changelog for details.</span></div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span><span class="comment"> - 2022/09/26 (1.89)   - renamed and merged keyboard modifiers key enums and flags into a same set. Kept inline redirection enums (will obsolete).</span></div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span><span class="comment">                           - ImGuiKey_ModCtrl  and ImGuiModFlags_Ctrl  -&gt; ImGuiMod_Ctrl</span></div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span><span class="comment">                           - ImGuiKey_ModShift and ImGuiModFlags_Shift -&gt; ImGuiMod_Shift</span></div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span><span class="comment">                           - ImGuiKey_ModAlt   and ImGuiModFlags_Alt   -&gt; ImGuiMod_Alt</span></div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span><span class="comment">                           - ImGuiKey_ModSuper and ImGuiModFlags_Super -&gt; ImGuiMod_Super</span></div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span><span class="comment">                         the ImGuiKey_ModXXX were introduced in 1.87 and mostly used by backends.</span></div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span><span class="comment">                         the ImGuiModFlags_XXX have been exposed in imgui.h but not really used by any public api only by third-party extensions.</span></div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span><span class="comment">                         exceptionally commenting out the older ImGuiKeyModFlags_XXX names ahead of obsolescence schedule to reduce confusion and because they were not meant to be used anyway.</span></div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span><span class="comment"> - 2022/09/20 (1.89)   - ImGuiKey is now a typed enum, allowing ImGuiKey_XXX symbols to be named in debuggers.</span></div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span><span class="comment">                         this will require uses of legacy backend-dependent indices to be casted, e.g.</span></div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span><span class="comment">                            - with imgui_impl_glfw:  IsKeyPressed(GLFW_KEY_A) -&gt; IsKeyPressed((ImGuiKey)GLFW_KEY_A);</span></div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span><span class="comment">                            - with imgui_impl_win32: IsKeyPressed(&#39;A&#39;)        -&gt; IsKeyPressed((ImGuiKey)&#39;A&#39;)</span></div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span><span class="comment">                            - etc. However if you are upgrading code you might well use the better, backend-agnostic IsKeyPressed(ImGuiKey_A) now!</span></div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span><span class="comment"> - 2022/09/12 (1.89) - removed the bizarre legacy default argument for &#39;TreePush(const void* ptr = NULL)&#39;, always pass a pointer value explicitly. NULL/nullptr is ok but require cast, e.g. TreePush((void*)nullptr);</span></div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span><span class="comment"> - 2022/09/05 (1.89) - commented out redirecting functions/enums names that were marked obsolete in 1.77 and 1.78 (June 2020):</span></div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span><span class="comment">                         - DragScalar(), DragScalarN(), DragFloat(), DragFloat2(), DragFloat3(), DragFloat4(): For old signatures ending with (..., const char* format, float power = 1.0f) -&gt; use (..., format ImGuiSliderFlags_Logarithmic) if power != 1.0f.</span></div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span><span class="comment">                         - SliderScalar(), SliderScalarN(), SliderFloat(), SliderFloat2(), SliderFloat3(), SliderFloat4(): For old signatures ending with (..., const char* format, float power = 1.0f) -&gt; use (..., format ImGuiSliderFlags_Logarithmic) if power != 1.0f.</span></div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span><span class="comment">                         - BeginPopupContextWindow(const char*, ImGuiMouseButton, bool) -&gt; use BeginPopupContextWindow(const char*, ImGuiPopupFlags)</span></div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span><span class="comment"> - 2022/09/02 (1.89) - obsoleted using SetCursorPos()/SetCursorScreenPos() to extend parent window/cell boundaries.</span></div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span><span class="comment">                       this relates to when moving the cursor position beyond current boundaries WITHOUT submitting an item.</span></div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span><span class="comment">                         - previously this would make the window content size ~200x200:</span></div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span><span class="comment">                              Begin(...) + SetCursorScreenPos(GetCursorScreenPos() + ImVec2(200,200)) + End();</span></div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span><span class="comment">                         - instead, please submit an item:</span></div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span><span class="comment">                              Begin(...) + SetCursorScreenPos(GetCursorScreenPos() + ImVec2(200,200)) + Dummy(ImVec2(0,0)) + End();</span></div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span><span class="comment">                         - alternative:</span></div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span><span class="comment">                              Begin(...) + Dummy(ImVec2(200,200)) + End();</span></div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span><span class="comment">                         - content size is now only extended when submitting an item!</span></div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span><span class="comment">                         - with &#39;#define IMGUI_DISABLE_OBSOLETE_FUNCTIONS&#39; this will now be detected and assert.</span></div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span><span class="comment">                         - without &#39;#define IMGUI_DISABLE_OBSOLETE_FUNCTIONS&#39; this will silently be fixed until we obsolete it.</span></div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span><span class="comment"> - 2022/08/03 (1.89) - changed signature of ImageButton() function. Kept redirection function (will obsolete).</span></div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span><span class="comment">                        - added &#39;const char* str_id&#39; parameter + removed &#39;int frame_padding = -1&#39; parameter.</span></div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span><span class="comment">                        - old signature: bool ImageButton(ImTextureID tex_id, ImVec2 size, ImVec2 uv0 = ImVec2(0,0), ImVec2 uv1 = ImVec2(1,1), int frame_padding = -1, ImVec4 bg_col = ImVec4(0,0,0,0), ImVec4 tint_col = ImVec4(1,1,1,1));</span></div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span><span class="comment">                          - used the ImTextureID value to create an ID. This was inconsistent with other functions, led to ID conflicts, and caused problems with engines using transient ImTextureID values.</span></div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span><span class="comment">                          - had a FramePadding override which was inconsistent with other functions and made the already-long signature even longer.</span></div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span><span class="comment">                        - new signature: bool ImageButton(const char* str_id, ImTextureID tex_id, ImVec2 size, ImVec2 uv0 = ImVec2(0,0), ImVec2 uv1 = ImVec2(1,1), ImVec4 bg_col = ImVec4(0,0,0,0), ImVec4 tint_col = ImVec4(1,1,1,1));</span></div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span><span class="comment">                          - requires an explicit identifier. You may still use e.g. PushID() calls and then pass an empty identifier.</span></div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span><span class="comment">                          - always uses style.FramePadding for padding, to be consistent with other buttons. You may use PushStyleVar() to alter this.</span></div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span><span class="comment"> - 2022/07/08 (1.89) - inputs: removed io.NavInputs[] and ImGuiNavInput enum (following 1.87 changes).</span></div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span><span class="comment">                        - Official backends from 1.87+                  -&gt; no issue.</span></div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span><span class="comment">                        - Official backends from 1.60 to 1.86           -&gt; will build and convert gamepad inputs, unless IMGUI_DISABLE_OBSOLETE_KEYIO is defined. Need updating!</span></div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span><span class="comment">                        - Custom backends not writing to io.NavInputs[] -&gt; no issue.</span></div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span><span class="comment">                        - Custom backends writing to io.NavInputs[]     -&gt; will build and convert gamepad inputs, unless IMGUI_DISABLE_OBSOLETE_KEYIO is defined. Need fixing!</span></div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span><span class="comment">                        - TL;DR: Backends should call io.AddKeyEvent()/io.AddKeyAnalogEvent() with ImGuiKey_GamepadXXX values instead of filling io.NavInput[].</span></div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span><span class="comment"> - 2022/06/15 (1.88) - renamed IMGUI_DISABLE_METRICS_WINDOW to IMGUI_DISABLE_DEBUG_TOOLS for correctness. kept support for old define (will obsolete).</span></div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span><span class="comment"> - 2022/05/03 (1.88) - backends: osx: removed ImGui_ImplOSX_HandleEvent() from backend API in favor of backend automatically handling event capture. All ImGui_ImplOSX_HandleEvent() calls should be removed as they are now unnecessary.</span></div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span><span class="comment"> - 2022/04/05 (1.88) - inputs: renamed ImGuiKeyModFlags to ImGuiModFlags. Kept inline redirection enums (will obsolete). This was never used in public API functions but technically present in imgui.h and ImGuiIO.</span></div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span><span class="comment"> - 2022/01/20 (1.87) - inputs: reworded gamepad IO.</span></div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span><span class="comment">                        - Backend writing to io.NavInputs[]            -&gt; backend should call io.AddKeyEvent()/io.AddKeyAnalogEvent() with ImGuiKey_GamepadXXX values.</span></div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span><span class="comment"> - 2022/01/19 (1.87) - sliders, drags: removed support for legacy arithmetic operators (+,+-,*,/) when inputting text. This doesn&#39;t break any api/code but a feature that used to be accessible by end-users (which seemingly no one used).</span></div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span><span class="comment"> - 2022/01/17 (1.87) - inputs: reworked mouse IO.</span></div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span><span class="comment">                        - Backend writing to io.MousePos               -&gt; backend should call io.AddMousePosEvent()</span></div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span><span class="comment">                        - Backend writing to io.MouseDown[]            -&gt; backend should call io.AddMouseButtonEvent()</span></div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span><span class="comment">                        - Backend writing to io.MouseWheel             -&gt; backend should call io.AddMouseWheelEvent()</span></div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span><span class="comment">                        - Backend writing to io.MouseHoveredViewport   -&gt; backend should call io.AddMouseViewportEvent() [Docking branch w/ multi-viewports only]</span></div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span><span class="comment">                       note: for all calls to IO new functions, the Dear ImGui context should be bound/current.</span></div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span><span class="comment">                       read https://github.com/ocornut/imgui/issues/4921 for details.</span></div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span><span class="comment"> - 2022/01/10 (1.87) - inputs: reworked keyboard IO. Removed io.KeyMap[], io.KeysDown[] in favor of calling io.AddKeyEvent(), ImGui::IsKeyDown(). Removed GetKeyIndex(), now unnecessary. All IsKeyXXX() functions now take ImGuiKey values. All features are still functional until IMGUI_DISABLE_OBSOLETE_KEYIO is defined. Read Changelog and Release Notes for details.</span></div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span><span class="comment">                        - IsKeyPressed(MY_NATIVE_KEY_XXX)              -&gt; use IsKeyPressed(ImGuiKey_XXX)</span></div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span><span class="comment">                        - IsKeyPressed(GetKeyIndex(ImGuiKey_XXX))      -&gt; use IsKeyPressed(ImGuiKey_XXX)</span></div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span><span class="comment">                        - Backend writing to io.KeyMap[],io.KeysDown[] -&gt; backend should call io.AddKeyEvent() (+ call io.SetKeyEventNativeData() if you want legacy user code to still function with legacy key codes).</span></div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span><span class="comment">                        - Backend writing to io.KeyCtrl, io.KeyShift.. -&gt; backend should call io.AddKeyEvent() with ImGuiMod_XXX values. *IF YOU PULLED CODE BETWEEN 2021/01/10 and 2021/01/27: We used to have a io.AddKeyModsEvent() function which was now replaced by io.AddKeyEvent() with ImGuiMod_XXX values.*</span></div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span><span class="comment">                     - one case won&#39;t work with backward compatibility: if your custom backend used ImGuiKey as mock native indices (e.g. &quot;io.KeyMap[ImGuiKey_A] = ImGuiKey_A&quot;) because those values are now larger than the legacy KeyDown[] array. Will assert.</span></div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span><span class="comment">                     - inputs: added ImGuiKey_ModCtrl/ImGuiKey_ModShift/ImGuiKey_ModAlt/ImGuiKey_ModSuper values to submit keyboard modifiers using io.AddKeyEvent(), instead of writing directly to io.KeyCtrl, io.KeyShift, io.KeyAlt, io.KeySuper.</span></div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span><span class="comment"> - 2022/01/05 (1.87) - inputs: renamed ImGuiKey_KeyPadEnter to ImGuiKey_KeypadEnter to align with new symbols. Kept redirection enum.</span></div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span><span class="comment"> - 2022/01/05 (1.87) - removed io.ImeSetInputScreenPosFn() in favor of more flexible io.SetPlatformImeDataFn(). Removed &#39;void* io.ImeWindowHandle&#39; in favor of writing to &#39;void* ImGuiViewport::PlatformHandleRaw&#39;.</span></div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span><span class="comment"> - 2022/01/01 (1.87) - commented out redirecting functions/enums names that were marked obsolete in 1.69, 1.70, 1.71, 1.72 (March-July 2019)</span></div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span><span class="comment">                        - ImGui::SetNextTreeNodeOpen()        -&gt; use ImGui::SetNextItemOpen()</span></div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span><span class="comment">                        - ImGui::GetContentRegionAvailWidth() -&gt; use ImGui::GetContentRegionAvail().x</span></div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span><span class="comment">                        - ImGui::TreeAdvanceToLabelPos()      -&gt; use ImGui::SetCursorPosX(ImGui::GetCursorPosX() + ImGui::GetTreeNodeToLabelSpacing());</span></div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span><span class="comment">                        - ImFontAtlas::CustomRect             -&gt; use ImFontAtlasCustomRect</span></div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span><span class="comment">                        - ImGuiColorEditFlags_RGB/HSV/HEX     -&gt; use ImGuiColorEditFlags_DisplayRGB/HSV/Hex</span></div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span><span class="comment"> - 2021/12/20 (1.86) - backends: removed obsolete Marmalade backend (imgui_impl_marmalade.cpp) + example. Find last supported version at https://github.com/ocornut/imgui/wiki/Bindings</span></div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span><span class="comment"> - 2021/11/04 (1.86) - removed CalcListClipping() function. Prefer using ImGuiListClipper which can return non-contiguous ranges. Please open an issue if you think you really need this function.</span></div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span><span class="comment"> - 2021/08/23 (1.85) - removed GetWindowContentRegionWidth() function. keep inline redirection helper. can use &#39;GetWindowContentRegionMax().x - GetWindowContentRegionMin().x&#39; instead for generally &#39;GetContentRegionAvail().x&#39; is more useful.</span></div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span><span class="comment"> - 2021/07/26 (1.84) - commented out redirecting functions/enums names that were marked obsolete in 1.67 and 1.69 (March 2019):</span></div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span><span class="comment">                        - ImGui::GetOverlayDrawList() -&gt; use ImGui::GetForegroundDrawList()</span></div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span><span class="comment">                        - ImFont::GlyphRangesBuilder  -&gt; use ImFontGlyphRangesBuilder</span></div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span><span class="comment"> - 2021/05/19 (1.83) - backends: obsoleted direct access to ImDrawCmd::TextureId in favor of calling ImDrawCmd::GetTexID().</span></div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span><span class="comment">                        - if you are using official backends from the source tree: you have nothing to do.</span></div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span><span class="comment">                        - if you have copied old backend code or using your own: change access to draw_cmd-&gt;TextureId to draw_cmd-&gt;GetTexID().</span></div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span><span class="comment"> - 2021/03/12 (1.82) - upgraded ImDrawList::AddRect(), AddRectFilled(), PathRect() to use ImDrawFlags instead of ImDrawCornersFlags.</span></div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span><span class="comment">                        - ImDrawCornerFlags_TopLeft  -&gt; use ImDrawFlags_RoundCornersTopLeft</span></div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span><span class="comment">                        - ImDrawCornerFlags_BotRight -&gt; use ImDrawFlags_RoundCornersBottomRight</span></div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span><span class="comment">                        - ImDrawCornerFlags_None     -&gt; use ImDrawFlags_RoundCornersNone etc.</span></div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span><span class="comment">                       flags now sanely defaults to 0 instead of 0x0F, consistent with all other flags in the API.</span></div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span><span class="comment">                       breaking: the default with rounding &gt; 0.0f is now &quot;round all corners&quot; vs old implicit &quot;round no corners&quot;:</span></div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span><span class="comment">                        - rounding == 0.0f + flags == 0 --&gt; meant no rounding  --&gt; unchanged (common use)</span></div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span><span class="comment">                        - rounding  &gt; 0.0f + flags != 0 --&gt; meant rounding     --&gt; unchanged (common use)</span></div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span><span class="comment">                        - rounding == 0.0f + flags != 0 --&gt; meant no rounding  --&gt; unchanged (unlikely use)</span></div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span><span class="comment">                        - rounding  &gt; 0.0f + flags == 0 --&gt; meant no rounding  --&gt; BREAKING (unlikely use): will now round all corners --&gt; use ImDrawFlags_RoundCornersNone or rounding == 0.0f.</span></div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span><span class="comment">                       this ONLY matters for hard coded use of 0 + rounding &gt; 0.0f. Use of named ImDrawFlags_RoundCornersNone (new) or ImDrawCornerFlags_None (old) are ok.</span></div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span><span class="comment">                       the old ImDrawCornersFlags used awkward default values of ~0 or 0xF (4 lower bits set) to signify &quot;round all corners&quot; and we sometimes encouraged using them as shortcuts.</span></div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span><span class="comment">                       legacy path still support use of hard coded ~0 or any value from 0x1 or 0xF. They will behave the same with legacy paths enabled (will assert otherwise).</span></div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span><span class="comment"> - 2021/03/11 (1.82) - removed redirecting functions/enums names that were marked obsolete in 1.66 (September 2018):</span></div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span><span class="comment">                        - ImGui::SetScrollHere()              -&gt; use ImGui::SetScrollHereY()</span></div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span><span class="comment"> - 2021/03/11 (1.82) - clarified that ImDrawList::PathArcTo(), ImDrawList::PathArcToFast() won&#39;t render with radius &lt; 0.0f. Previously it sorts of accidentally worked but would generally lead to counter-clockwise paths and have an effect on anti-aliasing.</span></div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span><span class="comment"> - 2021/03/10 (1.82) - upgraded ImDrawList::AddPolyline() and PathStroke() &quot;bool closed&quot; parameter to &quot;ImDrawFlags flags&quot;. The matching ImDrawFlags_Closed value is guaranteed to always stay == 1 in the future.</span></div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span><span class="comment"> - 2021/02/22 (1.82) - (*undone in 1.84*) win32+mingw: Re-enabled IME functions by default even under MinGW. In July 2016, issue #738 had me incorrectly disable those default functions for MinGW. MinGW users should: either link with -limm32, either set their imconfig file  with &#39;#define IMGUI_DISABLE_WIN32_DEFAULT_IME_FUNCTIONS&#39;.</span></div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span><span class="comment"> - 2021/02/17 (1.82) - renamed rarely used style.CircleSegmentMaxError (old default = 1.60f) to style.CircleTessellationMaxError (new default = 0.30f) as the meaning of the value changed.</span></div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span><span class="comment"> - 2021/02/03 (1.81) - renamed ListBoxHeader(const char* label, ImVec2 size) to BeginListBox(). Kept inline redirection function (will obsolete).</span></div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span><span class="comment">                     - removed ListBoxHeader(const char* label, int items_count, int height_in_items = -1) in favor of specifying size. Kept inline redirection function (will obsolete).</span></div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span><span class="comment">                     - renamed ListBoxFooter() to EndListBox(). Kept inline redirection function (will obsolete).</span></div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span><span class="comment"> - 2021/01/26 (1.81) - removed ImGuiFreeType::BuildFontAtlas(). Kept inline redirection function. Prefer using &#39;#define IMGUI_ENABLE_FREETYPE&#39;, but there&#39;s a runtime selection path available too. The shared extra flags parameters (very rarely used) are now stored in ImFontAtlas::FontBuilderFlags.</span></div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span><span class="comment">                     - renamed ImFontConfig::RasterizerFlags (used by FreeType) to ImFontConfig::FontBuilderFlags.</span></div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span><span class="comment">                     - renamed ImGuiFreeType::XXX flags to ImGuiFreeTypeBuilderFlags_XXX for consistency with other API.</span></div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span><span class="comment"> - 2020/10/12 (1.80) - removed redirecting functions/enums that were marked obsolete in 1.63 (August 2018):</span></div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span><span class="comment">                        - ImGui::IsItemDeactivatedAfterChange() -&gt; use ImGui::IsItemDeactivatedAfterEdit().</span></div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span><span class="comment">                        - ImGuiCol_ModalWindowDarkening       -&gt; use ImGuiCol_ModalWindowDimBg</span></div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span><span class="comment">                        - ImGuiInputTextCallback              -&gt; use ImGuiTextEditCallback</span></div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span><span class="comment">                        - ImGuiInputTextCallbackData          -&gt; use ImGuiTextEditCallbackData</span></div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span><span class="comment"> - 2020/12/21 (1.80) - renamed ImDrawList::AddBezierCurve() to AddBezierCubic(), and PathBezierCurveTo() to PathBezierCubicCurveTo(). Kept inline redirection function (will obsolete).</span></div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span><span class="comment"> - 2020/12/04 (1.80) - added imgui_tables.cpp file! Manually constructed project files will need the new file added!</span></div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span><span class="comment"> - 2020/11/18 (1.80) - renamed undocumented/internals ImGuiColumnsFlags_* to ImGuiOldColumnFlags_* in prevision of incoming Tables API.</span></div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span><span class="comment"> - 2020/11/03 (1.80) - renamed io.ConfigWindowsMemoryCompactTimer to io.ConfigMemoryCompactTimer as the feature will apply to other data structures</span></div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span><span class="comment"> - 2020/10/14 (1.80) - backends: moved all backends files (imgui_impl_XXXX.cpp, imgui_impl_XXXX.h) from examples/ to backends/.</span></div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span><span class="comment"> - 2020/10/12 (1.80) - removed redirecting functions/enums that were marked obsolete in 1.60 (April 2018):</span></div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span><span class="comment">                        - io.RenderDrawListsFn pointer        -&gt; use ImGui::GetDrawData() value and call the render function of your backend</span></div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span><span class="comment">                        - ImGui::IsAnyWindowFocused()         -&gt; use ImGui::IsWindowFocused(ImGuiFocusedFlags_AnyWindow)</span></div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span><span class="comment">                        - ImGui::IsAnyWindowHovered()         -&gt; use ImGui::IsWindowHovered(ImGuiHoveredFlags_AnyWindow)</span></div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span><span class="comment">                        - ImGuiStyleVar_Count_                -&gt; use ImGuiStyleVar_COUNT</span></div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span><span class="comment">                        - ImGuiMouseCursor_Count_             -&gt; use ImGuiMouseCursor_COUNT</span></div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span><span class="comment">                      - removed redirecting functions names that were marked obsolete in 1.61 (May 2018):</span></div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span><span class="comment">                        - InputFloat (... int decimal_precision ...) -&gt; use InputFloat (... const char* format ...) with format = &quot;%.Xf&quot; where X is your value for decimal_precision.</span></div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span><span class="comment">                        - same for InputFloat2()/InputFloat3()/InputFloat4() variants taking a `int decimal_precision` parameter.</span></div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span><span class="comment"> - 2020/10/05 (1.79) - removed ImGuiListClipper: Renamed constructor parameters which created an ambiguous alternative to using the ImGuiListClipper::Begin() function, with misleading edge cases (note: imgui_memory_editor &lt;0.40 from imgui_club/ used this old clipper API. Update your copy if needed).</span></div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span><span class="comment"> - 2020/09/25 (1.79) - renamed ImGuiSliderFlags_ClampOnInput to ImGuiSliderFlags_AlwaysClamp. Kept redirection enum (will obsolete sooner because previous name was added recently).</span></div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span><span class="comment"> - 2020/09/25 (1.79) - renamed style.TabMinWidthForUnselectedCloseButton to style.TabMinWidthForCloseButton.</span></div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span><span class="comment"> - 2020/09/21 (1.79) - renamed OpenPopupContextItem() back to OpenPopupOnItemClick(), reverting the change from 1.77. For varieties of reason this is more self-explanatory.</span></div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span><span class="comment"> - 2020/09/21 (1.79) - removed return value from OpenPopupOnItemClick() - returned true on mouse release on an item - because it is inconsistent with other popup APIs and makes others misleading. It&#39;s also and unnecessary: you can use IsWindowAppearing() after BeginPopup() for a similar result.</span></div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span><span class="comment"> - 2020/09/17 (1.79) - removed ImFont::DisplayOffset in favor of ImFontConfig::GlyphOffset. DisplayOffset was applied after scaling and not very meaningful/useful outside of being needed by the default ProggyClean font. If you scaled this value after calling AddFontDefault(), this is now done automatically. It was also getting in the way of better font scaling, so let&#39;s get rid of it now!</span></div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span><span class="comment"> - 2020/08/17 (1.78) - obsoleted use of the trailing &#39;float power=1.0f&#39; parameter for DragFloat(), DragFloat2(), DragFloat3(), DragFloat4(), DragFloatRange2(), DragScalar(), DragScalarN(), SliderFloat(), SliderFloat2(), SliderFloat3(), SliderFloat4(), SliderScalar(), SliderScalarN(), VSliderFloat() and VSliderScalar().</span></div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span><span class="comment">                       replaced the &#39;float power=1.0f&#39; argument with integer-based flags defaulting to 0 (as with all our flags).</span></div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span><span class="comment">                       worked out a backward-compatibility scheme so hopefully most C++ codebase should not be affected. in short, when calling those functions:</span></div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span><span class="comment">                       - if you omitted the &#39;power&#39; parameter (likely!), you are not affected.</span></div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span><span class="comment">                       - if you set the &#39;power&#39; parameter to 1.0f (same as previous default value): 1/ your compiler may warn on float&gt;int conversion, 2/ everything else will work. 3/ you can replace the 1.0f value with 0 to fix the warning, and be technically correct.</span></div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span><span class="comment">                       - if you set the &#39;power&#39; parameter to &gt;1.0f (to enable non-linear editing): 1/ your compiler may warn on float&gt;int conversion, 2/ code will assert at runtime, 3/ in case asserts are disabled, the code will not crash and enable the _Logarithmic flag. 4/ you can replace the &gt;1.0f value with ImGuiSliderFlags_Logarithmic to fix the warning/assert and get a _similar_ effect as previous uses of power &gt;1.0f.</span></div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span><span class="comment">                       see https://github.com/ocornut/imgui/issues/3361 for all details.</span></div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span><span class="comment">                       kept inline redirection functions (will obsolete) apart for: DragFloatRange2(), VSliderFloat(), VSliderScalar(). For those three the &#39;float power=1.0f&#39; version was removed directly as they were most unlikely ever used.</span></div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span><span class="comment">                       for shared code, you can version check at compile-time with `#if IMGUI_VERSION_NUM &gt;= 17704`.</span></div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span><span class="comment">                     - obsoleted use of v_min &gt; v_max in DragInt, DragFloat, DragScalar to lock edits (introduced in 1.73, was not demoed nor documented very), will be replaced by a more generic ReadOnly feature. You may use the ImGuiSliderFlags_ReadOnly internal flag in the meantime.</span></div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span><span class="comment"> - 2020/06/23 (1.77) - removed BeginPopupContextWindow(const char*, int mouse_button, bool also_over_items) in favor of BeginPopupContextWindow(const char*, ImGuiPopupFlags flags) with ImGuiPopupFlags_NoOverItems.</span></div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span><span class="comment"> - 2020/06/15 (1.77) - renamed OpenPopupOnItemClick() to OpenPopupContextItem(). Kept inline redirection function (will obsolete). [NOTE: THIS WAS REVERTED IN 1.79]</span></div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span><span class="comment"> - 2020/06/15 (1.77) - removed CalcItemRectClosestPoint() entry point which was made obsolete and asserting in December 2017.</span></div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span><span class="comment"> - 2020/04/23 (1.77) - removed unnecessary ID (first arg) of ImFontAtlas::AddCustomRectRegular().</span></div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span><span class="comment"> - 2020/01/22 (1.75) - ImDrawList::AddCircle()/AddCircleFilled() functions don&#39;t accept negative radius any more.</span></div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span><span class="comment"> - 2019/12/17 (1.75) - [undid this change in 1.76] made Columns() limited to 64 columns by asserting above that limit. While the current code technically supports it, future code may not so we&#39;re putting the restriction ahead.</span></div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span><span class="comment"> - 2019/12/13 (1.75) - [imgui_internal.h] changed ImRect() default constructor initializes all fields to 0.0f instead of (FLT_MAX,FLT_MAX,-FLT_MAX,-FLT_MAX). If you used ImRect::Add() to create bounding boxes by adding multiple points into it, you may need to fix your initial value.</span></div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span><span class="comment"> - 2019/12/08 (1.75) - removed redirecting functions/enums that were marked obsolete in 1.53 (December 2017):</span></div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span><span class="comment">                       - ShowTestWindow()                    -&gt; use ShowDemoWindow()</span></div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span><span class="comment">                       - IsRootWindowFocused()               -&gt; use IsWindowFocused(ImGuiFocusedFlags_RootWindow)</span></div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span><span class="comment">                       - IsRootWindowOrAnyChildFocused()     -&gt; use IsWindowFocused(ImGuiFocusedFlags_RootAndChildWindows)</span></div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span><span class="comment">                       - SetNextWindowContentWidth(w)        -&gt; use SetNextWindowContentSize(ImVec2(w, 0.0f)</span></div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span><span class="comment">                       - GetItemsLineHeightWithSpacing()     -&gt; use GetFrameHeightWithSpacing()</span></div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span><span class="comment">                       - ImGuiCol_ChildWindowBg              -&gt; use ImGuiCol_ChildBg</span></div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span><span class="comment">                       - ImGuiStyleVar_ChildWindowRounding   -&gt; use ImGuiStyleVar_ChildRounding</span></div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span><span class="comment">                       - ImGuiTreeNodeFlags_AllowOverlapMode -&gt; use ImGuiTreeNodeFlags_AllowItemOverlap</span></div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span><span class="comment">                       - IMGUI_DISABLE_TEST_WINDOWS          -&gt; use IMGUI_DISABLE_DEMO_WINDOWS</span></div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span><span class="comment"> - 2019/12/08 (1.75) - obsoleted calling ImDrawList::PrimReserve() with a negative count (which was vaguely documented and rarely if ever used). Instead, we added an explicit PrimUnreserve() API.</span></div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span><span class="comment"> - 2019/12/06 (1.75) - removed implicit default parameter to IsMouseDragging(int button = 0) to be consistent with other mouse functions (none of the other functions have it).</span></div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span><span class="comment"> - 2019/11/21 (1.74) - ImFontAtlas::AddCustomRectRegular() now requires an ID larger than 0x110000 (instead of 0x10000) to conform with supporting Unicode planes 1-16 in a future update. ID below 0x110000 will now assert.</span></div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span><span class="comment"> - 2019/11/19 (1.74) - renamed IMGUI_DISABLE_FORMAT_STRING_FUNCTIONS to IMGUI_DISABLE_DEFAULT_FORMAT_FUNCTIONS for consistency.</span></div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span><span class="comment"> - 2019/11/19 (1.74) - renamed IMGUI_DISABLE_MATH_FUNCTIONS to IMGUI_DISABLE_DEFAULT_MATH_FUNCTIONS for consistency.</span></div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span><span class="comment"> - 2019/10/22 (1.74) - removed redirecting functions/enums that were marked obsolete in 1.52 (October 2017):</span></div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span><span class="comment">                       - Begin() [old 5 args version]        -&gt; use Begin() [3 args], use SetNextWindowSize() SetNextWindowBgAlpha() if needed</span></div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span><span class="comment">                       - IsRootWindowOrAnyChildHovered()     -&gt; use IsWindowHovered(ImGuiHoveredFlags_RootAndChildWindows)</span></div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span><span class="comment">                       - AlignFirstTextHeightToWidgets()     -&gt; use AlignTextToFramePadding()</span></div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span><span class="comment">                       - SetNextWindowPosCenter()            -&gt; use SetNextWindowPos() with a pivot of (0.5f, 0.5f)</span></div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span><span class="comment">                       - ImFont::Glyph                       -&gt; use ImFontGlyph</span></div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span><span class="comment"> - 2019/10/14 (1.74) - inputs: Fixed a miscalculation in the keyboard/mouse &quot;typematic&quot; repeat delay/rate calculation, used by keys and e.g. repeating mouse buttons as well as the GetKeyPressedAmount() function.</span></div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span><span class="comment">                       if you were using a non-default value for io.KeyRepeatRate (previous default was 0.250), you can add +io.KeyRepeatDelay to it to compensate for the fix.</span></div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span><span class="comment">                       The function was triggering on: 0.0 and (delay+rate*N) where (N&gt;=1). Fixed formula responds to (N&gt;=0). Effectively it made io.KeyRepeatRate behave like it was set to (io.KeyRepeatRate + io.KeyRepeatDelay).</span></div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span><span class="comment">                       If you never altered io.KeyRepeatRate nor used GetKeyPressedAmount() this won&#39;t affect you.</span></div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span><span class="comment"> - 2019/07/15 (1.72) - removed TreeAdvanceToLabelPos() which is rarely used and only does SetCursorPosX(GetCursorPosX() + GetTreeNodeToLabelSpacing()). Kept redirection function (will obsolete).</span></div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span><span class="comment"> - 2019/07/12 (1.72) - renamed ImFontAtlas::CustomRect to ImFontAtlasCustomRect. Kept redirection typedef (will obsolete).</span></div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span><span class="comment"> - 2019/06/14 (1.72) - removed redirecting functions/enums names that were marked obsolete in 1.51 (June 2017): ImGuiCol_Column*, ImGuiSetCond_*, IsItemHoveredRect(), IsPosHoveringAnyWindow(), IsMouseHoveringAnyWindow(), IsMouseHoveringWindow(), IMGUI_ONCE_UPON_A_FRAME. Grep this log for details and new names, or see how they were implemented until 1.71.</span></div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span><span class="comment"> - 2019/06/07 (1.71) - rendering of child window outer decorations (bg color, border, scrollbars) is now performed as part of the parent window. If you have</span></div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span><span class="comment">                       overlapping child windows in a same parent, and relied on their relative z-order to be mapped to their submission order, this will affect your rendering.</span></div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span><span class="comment">                       This optimization is disabled if the parent window has no visual output, because it appears to be the most common situation leading to the creation of overlapping child windows.</span></div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span><span class="comment">                       Please reach out if you are affected.</span></div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span><span class="comment"> - 2019/05/13 (1.71) - renamed SetNextTreeNodeOpen() to SetNextItemOpen(). Kept inline redirection function (will obsolete).</span></div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span><span class="comment"> - 2019/05/11 (1.71) - changed io.AddInputCharacter(unsigned short c) signature to io.AddInputCharacter(unsigned int c).</span></div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span><span class="comment"> - 2019/04/29 (1.70) - improved ImDrawList thick strokes (&gt;1.0f) preserving correct thickness up to 90 degrees angles (e.g. rectangles). If you have custom rendering using thick lines, they will appear thicker now.</span></div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span><span class="comment"> - 2019/04/29 (1.70) - removed GetContentRegionAvailWidth(), use GetContentRegionAvail().x instead. Kept inline redirection function (will obsolete).</span></div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span><span class="comment"> - 2019/03/04 (1.69) - renamed GetOverlayDrawList() to GetForegroundDrawList(). Kept redirection function (will obsolete).</span></div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span><span class="comment"> - 2019/02/26 (1.69) - renamed ImGuiColorEditFlags_RGB/ImGuiColorEditFlags_HSV/ImGuiColorEditFlags_HEX to ImGuiColorEditFlags_DisplayRGB/ImGuiColorEditFlags_DisplayHSV/ImGuiColorEditFlags_DisplayHex. Kept redirection enums (will obsolete).</span></div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span><span class="comment"> - 2019/02/14 (1.68) - made it illegal/assert when io.DisplayTime == 0.0f (with an exception for the first frame). If for some reason your time step calculation gives you a zero value, replace it with an arbitrarily small value!</span></div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span><span class="comment"> - 2019/02/01 (1.68) - removed io.DisplayVisibleMin/DisplayVisibleMax (which were marked obsolete and removed from viewport/docking branch already).</span></div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span><span class="comment"> - 2019/01/06 (1.67) - renamed io.InputCharacters[], marked internal as was always intended. Please don&#39;t access directly, and use AddInputCharacter() instead!</span></div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span><span class="comment"> - 2019/01/06 (1.67) - renamed ImFontAtlas::GlyphRangesBuilder to ImFontGlyphRangesBuilder. Kept redirection typedef (will obsolete).</span></div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span><span class="comment"> - 2018/12/20 (1.67) - made it illegal to call Begin(&quot;&quot;) with an empty string. This somehow half-worked before but had various undesirable side-effects.</span></div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span><span class="comment"> - 2018/12/10 (1.67) - renamed io.ConfigResizeWindowsFromEdges to io.ConfigWindowsResizeFromEdges as we are doing a large pass on configuration flags.</span></div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span><span class="comment"> - 2018/10/12 (1.66) - renamed misc/stl/imgui_stl.* to misc/cpp/imgui_stdlib.* in prevision for other C++ helper files.</span></div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span><span class="comment"> - 2018/09/28 (1.66) - renamed SetScrollHere() to SetScrollHereY(). Kept redirection function (will obsolete).</span></div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span><span class="comment"> - 2018/09/06 (1.65) - renamed stb_truetype.h to imstb_truetype.h, stb_textedit.h to imstb_textedit.h, and stb_rect_pack.h to imstb_rectpack.h.</span></div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span><span class="comment">                       If you were conveniently using the imgui copy of those STB headers in your project you will have to update your include paths.</span></div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span><span class="comment"> - 2018/09/05 (1.65) - renamed io.OptCursorBlink/io.ConfigCursorBlink to io.ConfigInputTextCursorBlink. (#1427)</span></div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span><span class="comment"> - 2018/08/31 (1.64) - added imgui_widgets.cpp file, extracted and moved widgets code out of imgui.cpp into imgui_widgets.cpp. Re-ordered some of the code remaining in imgui.cpp.</span></div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span><span class="comment">                       NONE OF THE FUNCTIONS HAVE CHANGED. THE CODE IS SEMANTICALLY 100% IDENTICAL, BUT _EVERY_ FUNCTION HAS BEEN MOVED.</span></div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span><span class="comment">                       Because of this, any local modifications to imgui.cpp will likely conflict when you update. Read docs/CHANGELOG.txt for suggestions.</span></div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span><span class="comment"> - 2018/08/22 (1.63) - renamed IsItemDeactivatedAfterChange() to IsItemDeactivatedAfterEdit() for consistency with new IsItemEdited() API. Kept redirection function (will obsolete soonish as IsItemDeactivatedAfterChange() is very recent).</span></div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span><span class="comment"> - 2018/08/21 (1.63) - renamed ImGuiTextEditCallback to ImGuiInputTextCallback, ImGuiTextEditCallbackData to ImGuiInputTextCallbackData for consistency. Kept redirection types (will obsolete).</span></div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span><span class="comment"> - 2018/08/21 (1.63) - removed ImGuiInputTextCallbackData::ReadOnly since it is a duplication of (ImGuiInputTextCallbackData::Flags &amp; ImGuiInputTextFlags_ReadOnly).</span></div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span><span class="comment"> - 2018/08/01 (1.63) - removed per-window ImGuiWindowFlags_ResizeFromAnySide beta flag in favor of a global io.ConfigResizeWindowsFromEdges [update 1.67 renamed to ConfigWindowsResizeFromEdges] to enable the feature.</span></div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span><span class="comment"> - 2018/08/01 (1.63) - renamed io.OptCursorBlink to io.ConfigCursorBlink [-&gt; io.ConfigInputTextCursorBlink in 1.65], io.OptMacOSXBehaviors to ConfigMacOSXBehaviors for consistency.</span></div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span><span class="comment"> - 2018/07/22 (1.63) - changed ImGui::GetTime() return value from float to double to avoid accumulating floating point imprecisions over time.</span></div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span><span class="comment"> - 2018/07/08 (1.63) - style: renamed ImGuiCol_ModalWindowDarkening to ImGuiCol_ModalWindowDimBg for consistency with other features. Kept redirection enum (will obsolete).</span></div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span><span class="comment"> - 2018/06/08 (1.62) - examples: the imgui_impl_XXX files have been split to separate platform (Win32, GLFW, SDL2, etc.) from renderer (DX11, OpenGL, Vulkan,  etc.).</span></div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span><span class="comment">                       old backends will still work as is, however prefer using the separated backends as they will be updated to support multi-viewports.</span></div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span><span class="comment">                       when adopting new backends follow the main.cpp code of your preferred examples/ folder to know which functions to call.</span></div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span><span class="comment">                       in particular, note that old backends called ImGui::NewFrame() at the end of their ImGui_ImplXXXX_NewFrame() function.</span></div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span><span class="comment"> - 2018/06/06 (1.62) - renamed GetGlyphRangesChinese() to GetGlyphRangesChineseFull() to distinguish other variants and discourage using the full set.</span></div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span><span class="comment"> - 2018/06/06 (1.62) - TreeNodeEx()/TreeNodeBehavior(): the ImGuiTreeNodeFlags_CollapsingHeader helper now include the ImGuiTreeNodeFlags_NoTreePushOnOpen flag. See Changelog for details.</span></div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span><span class="comment"> - 2018/05/03 (1.61) - DragInt(): the default compile-time format string has been changed from &quot;%.0f&quot; to &quot;%d&quot;, as we are not using integers internally any more.</span></div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span><span class="comment">                       If you used DragInt() with custom format strings, make sure you change them to use %d or an integer-compatible format.</span></div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span><span class="comment">                       To honor backward-compatibility, the DragInt() code will currently parse and modify format strings to replace %*f with %d, giving time to users to upgrade their code.</span></div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span><span class="comment">                       If you have IMGUI_DISABLE_OBSOLETE_FUNCTIONS enabled, the code will instead assert! You may run a reg-exp search on your codebase for e.g. &quot;DragInt.*%f&quot; to help you find them.</span></div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span><span class="comment"> - 2018/04/28 (1.61) - obsoleted InputFloat() functions taking an optional &quot;int decimal_precision&quot; in favor of an equivalent and more flexible &quot;const char* format&quot;,</span></div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span><span class="comment">                       consistent with other functions. Kept redirection functions (will obsolete).</span></div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span><span class="comment"> - 2018/04/09 (1.61) - IM_DELETE() helper function added in 1.60 doesn&#39;t clear the input _pointer_ reference, more consistent with expectation and allows passing r-value.</span></div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span><span class="comment"> - 2018/03/20 (1.60) - renamed io.WantMoveMouse to io.WantSetMousePos for consistency and ease of understanding (was added in 1.52, _not_ used by core and only honored by some backend ahead of merging the Nav branch).</span></div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span><span class="comment"> - 2018/03/12 (1.60) - removed ImGuiCol_CloseButton, ImGuiCol_CloseButtonActive, ImGuiCol_CloseButtonHovered as the closing cross uses regular button colors now.</span></div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span><span class="comment"> - 2018/03/08 (1.60) - changed ImFont::DisplayOffset.y to default to 0 instead of +1. Fixed rounding of Ascent/Descent to match TrueType renderer. If you were adding or subtracting to ImFont::DisplayOffset check if your fonts are correctly aligned vertically.</span></div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span><span class="comment"> - 2018/03/03 (1.60) - renamed ImGuiStyleVar_Count_ to ImGuiStyleVar_COUNT and ImGuiMouseCursor_Count_ to ImGuiMouseCursor_COUNT for consistency with other public enums.</span></div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span><span class="comment"> - 2018/02/18 (1.60) - BeginDragDropSource(): temporarily removed the optional mouse_button=0 parameter because it is not really usable in many situations at the moment.</span></div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span><span class="comment"> - 2018/02/16 (1.60) - obsoleted the io.RenderDrawListsFn callback, you can call your graphics engine render function after ImGui::Render(). Use ImGui::GetDrawData() to retrieve the ImDrawData* to display.</span></div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span><span class="comment"> - 2018/02/07 (1.60) - reorganized context handling to be more explicit,</span></div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span><span class="comment">                       - YOU NOW NEED TO CALL ImGui::CreateContext() AT THE BEGINNING OF YOUR APP, AND CALL ImGui::DestroyContext() AT THE END.</span></div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span><span class="comment">                       - removed Shutdown() function, as DestroyContext() serve this purpose.</span></div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span><span class="comment">                       - you may pass a ImFontAtlas* pointer to CreateContext() to share a font atlas between contexts. Otherwise CreateContext() will create its own font atlas instance.</span></div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span><span class="comment">                       - removed allocator parameters from CreateContext(), they are now setup with SetAllocatorFunctions(), and shared by all contexts.</span></div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span><span class="comment">                       - removed the default global context and font atlas instance, which were confusing for users of DLL reloading and users of multiple contexts.</span></div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span><span class="comment"> - 2018/01/31 (1.60) - moved sample TTF files from extra_fonts/ to misc/fonts/. If you loaded files directly from the imgui repo you may need to update your paths.</span></div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span><span class="comment"> - 2018/01/11 (1.60) - obsoleted IsAnyWindowHovered() in favor of IsWindowHovered(ImGuiHoveredFlags_AnyWindow). Kept redirection function (will obsolete).</span></div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span><span class="comment"> - 2018/01/11 (1.60) - obsoleted IsAnyWindowFocused() in favor of IsWindowFocused(ImGuiFocusedFlags_AnyWindow). Kept redirection function (will obsolete).</span></div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span><span class="comment"> - 2018/01/03 (1.60) - renamed ImGuiSizeConstraintCallback to ImGuiSizeCallback, ImGuiSizeConstraintCallbackData to ImGuiSizeCallbackData.</span></div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span><span class="comment"> - 2017/12/29 (1.60) - removed CalcItemRectClosestPoint() which was weird and not really used by anyone except demo code. If you need it it&#39;s easy to replicate on your side.</span></div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span><span class="comment"> - 2017/12/24 (1.53) - renamed the emblematic ShowTestWindow() function to ShowDemoWindow(). Kept redirection function (will obsolete).</span></div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span><span class="comment"> - 2017/12/21 (1.53) - ImDrawList: renamed style.AntiAliasedShapes to style.AntiAliasedFill for consistency and as a way to explicitly break code that manipulate those flag at runtime. You can now manipulate ImDrawList::Flags</span></div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span><span class="comment"> - 2017/12/21 (1.53) - ImDrawList: removed &#39;bool anti_aliased = true&#39; final parameter of ImDrawList::AddPolyline() and ImDrawList::AddConvexPolyFilled(). Prefer manipulating ImDrawList::Flags if you need to toggle them during the frame.</span></div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span><span class="comment"> - 2017/12/14 (1.53) - using the ImGuiWindowFlags_NoScrollWithMouse flag on a child window forwards the mouse wheel event to the parent window, unless either ImGuiWindowFlags_NoInputs or ImGuiWindowFlags_NoScrollbar are also set.</span></div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span><span class="comment"> - 2017/12/13 (1.53) - renamed GetItemsLineHeightWithSpacing() to GetFrameHeightWithSpacing(). Kept redirection function (will obsolete).</span></div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span><span class="comment"> - 2017/12/13 (1.53) - obsoleted IsRootWindowFocused() in favor of using IsWindowFocused(ImGuiFocusedFlags_RootWindow). Kept redirection function (will obsolete).</span></div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span><span class="comment">                     - obsoleted IsRootWindowOrAnyChildFocused() in favor of using IsWindowFocused(ImGuiFocusedFlags_RootAndChildWindows). Kept redirection function (will obsolete).</span></div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span><span class="comment"> - 2017/12/12 (1.53) - renamed ImGuiTreeNodeFlags_AllowOverlapMode to ImGuiTreeNodeFlags_AllowItemOverlap. Kept redirection enum (will obsolete).</span></div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span><span class="comment"> - 2017/12/10 (1.53) - removed SetNextWindowContentWidth(), prefer using SetNextWindowContentSize(). Kept redirection function (will obsolete).</span></div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span><span class="comment"> - 2017/11/27 (1.53) - renamed ImGuiTextBuffer::append() helper to appendf(), appendv() to appendfv(). If you copied the &#39;Log&#39; demo in your code, it uses appendv() so that needs to be renamed.</span></div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span><span class="comment"> - 2017/11/18 (1.53) - Style, Begin: removed ImGuiWindowFlags_ShowBorders window flag. Borders are now fully set up in the ImGuiStyle structure (see e.g. style.FrameBorderSize, style.WindowBorderSize). Use ImGui::ShowStyleEditor() to look them up.</span></div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span><span class="comment">                       Please note that the style system will keep evolving (hopefully stabilizing in Q1 2018), and so custom styles will probably subtly break over time. It is recommended you use the StyleColorsClassic(), StyleColorsDark(), StyleColorsLight() functions.</span></div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span><span class="comment"> - 2017/11/18 (1.53) - Style: removed ImGuiCol_ComboBg in favor of combo boxes using ImGuiCol_PopupBg for consistency.</span></div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span><span class="comment"> - 2017/11/18 (1.53) - Style: renamed ImGuiCol_ChildWindowBg to ImGuiCol_ChildBg.</span></div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span><span class="comment"> - 2017/11/18 (1.53) - Style: renamed style.ChildWindowRounding to style.ChildRounding, ImGuiStyleVar_ChildWindowRounding to ImGuiStyleVar_ChildRounding.</span></div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span><span class="comment"> - 2017/11/02 (1.53) - obsoleted IsRootWindowOrAnyChildHovered() in favor of using IsWindowHovered(ImGuiHoveredFlags_RootAndChildWindows);</span></div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span><span class="comment"> - 2017/10/24 (1.52) - renamed IMGUI_DISABLE_WIN32_DEFAULT_CLIPBOARD_FUNCS/IMGUI_DISABLE_WIN32_DEFAULT_IME_FUNCS to IMGUI_DISABLE_WIN32_DEFAULT_CLIPBOARD_FUNCTIONS/IMGUI_DISABLE_WIN32_DEFAULT_IME_FUNCTIONS for consistency.</span></div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span><span class="comment"> - 2017/10/20 (1.52) - changed IsWindowHovered() default parameters behavior to return false if an item is active in another window (e.g. click-dragging item from another window to this window). You can use the newly introduced IsWindowHovered() flags to requests this specific behavior if you need it.</span></div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span><span class="comment"> - 2017/10/20 (1.52) - marked IsItemHoveredRect()/IsMouseHoveringWindow() as obsolete, in favor of using the newly introduced flags for IsItemHovered() and IsWindowHovered(). See https://github.com/ocornut/imgui/issues/1382 for details.</span></div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span><span class="comment">                       removed the IsItemRectHovered()/IsWindowRectHovered() names introduced in 1.51 since they were merely more consistent names for the two functions we are now obsoleting.</span></div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span><span class="comment">                         IsItemHoveredRect()        --&gt; IsItemHovered(ImGuiHoveredFlags_RectOnly)</span></div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span><span class="comment">                         IsMouseHoveringAnyWindow() --&gt; IsWindowHovered(ImGuiHoveredFlags_AnyWindow)</span></div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span><span class="comment">                         IsMouseHoveringWindow()    --&gt; IsWindowHovered(ImGuiHoveredFlags_AllowWhenBlockedByPopup | ImGuiHoveredFlags_AllowWhenBlockedByActiveItem) [weird, old behavior]</span></div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span><span class="comment"> - 2017/10/17 (1.52) - marked the old 5-parameters version of Begin() as obsolete (still available). Use SetNextWindowSize()+Begin() instead!</span></div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span><span class="comment"> - 2017/10/11 (1.52) - renamed AlignFirstTextHeightToWidgets() to AlignTextToFramePadding(). Kept inline redirection function (will obsolete).</span></div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span><span class="comment"> - 2017/09/26 (1.52) - renamed ImFont::Glyph to ImFontGlyph. Kept redirection typedef (will obsolete).</span></div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span><span class="comment"> - 2017/09/25 (1.52) - removed SetNextWindowPosCenter() because SetNextWindowPos() now has the optional pivot information to do the same and more. Kept redirection function (will obsolete).</span></div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span><span class="comment"> - 2017/08/25 (1.52) - io.MousePos needs to be set to ImVec2(-FLT_MAX,-FLT_MAX) when mouse is unavailable/missing. Previously ImVec2(-1,-1) was enough but we now accept negative mouse coordinates. In your backend if you need to support unavailable mouse, make sure to replace &quot;io.MousePos = ImVec2(-1,-1)&quot; with &quot;io.MousePos = ImVec2(-FLT_MAX,-FLT_MAX)&quot;.</span></div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span><span class="comment"> - 2017/08/22 (1.51) - renamed IsItemHoveredRect() to IsItemRectHovered(). Kept inline redirection function (will obsolete). -&gt; (1.52) use IsItemHovered(ImGuiHoveredFlags_RectOnly)!</span></div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span><span class="comment">                     - renamed IsMouseHoveringAnyWindow() to IsAnyWindowHovered() for consistency. Kept inline redirection function (will obsolete).</span></div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span><span class="comment">                     - renamed IsMouseHoveringWindow() to IsWindowRectHovered() for consistency. Kept inline redirection function (will obsolete).</span></div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span><span class="comment"> - 2017/08/20 (1.51) - renamed GetStyleColName() to GetStyleColorName() for consistency.</span></div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span><span class="comment"> - 2017/08/20 (1.51) - added PushStyleColor(ImGuiCol idx, ImU32 col) overload, which _might_ cause an &quot;ambiguous call&quot; compilation error if you are using ImColor() with implicit cast. Cast to ImU32 or ImVec4 explicitly to fix.</span></div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span><span class="comment"> - 2017/08/15 (1.51) - marked the weird IMGUI_ONCE_UPON_A_FRAME helper macro as obsolete. prefer using the more explicit ImGuiOnceUponAFrame type.</span></div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span><span class="comment"> - 2017/08/15 (1.51) - changed parameter order for BeginPopupContextWindow() from (const char*,int buttons,bool also_over_items) to (const char*,int buttons,bool also_over_items). Note that most calls relied on default parameters completely.</span></div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span><span class="comment"> - 2017/08/13 (1.51) - renamed ImGuiCol_Column to ImGuiCol_Separator, ImGuiCol_ColumnHovered to ImGuiCol_SeparatorHovered, ImGuiCol_ColumnActive to ImGuiCol_SeparatorActive. Kept redirection enums (will obsolete).</span></div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span><span class="comment"> - 2017/08/11 (1.51) - renamed ImGuiSetCond_Always to ImGuiCond_Always, ImGuiSetCond_Once to ImGuiCond_Once, ImGuiSetCond_FirstUseEver to ImGuiCond_FirstUseEver, ImGuiSetCond_Appearing to ImGuiCond_Appearing. Kept redirection enums (will obsolete).</span></div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span><span class="comment"> - 2017/08/09 (1.51) - removed ValueColor() helpers, they are equivalent to calling Text(label) + SameLine() + ColorButton().</span></div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span><span class="comment"> - 2017/08/08 (1.51) - removed ColorEditMode() and ImGuiColorEditMode in favor of ImGuiColorEditFlags and parameters to the various Color*() functions. The SetColorEditOptions() allows to initialize default but the user can still change them with right-click context menu.</span></div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span><span class="comment">                     - changed prototype of &#39;ColorEdit4(const char* label, float col[4], bool show_alpha = true)&#39; to &#39;ColorEdit4(const char* label, float col[4], ImGuiColorEditFlags flags = 0)&#39;, where passing flags = 0x01 is a safe no-op (hello dodgy backward compatibility!). - check and run the demo window, under &quot;Color/Picker Widgets&quot;, to understand the various new options.</span></div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span><span class="comment">                     - changed prototype of rarely used &#39;ColorButton(ImVec4 col, bool small_height = false, bool outline_border = true)&#39; to &#39;ColorButton(const char* desc_id, ImVec4 col, ImGuiColorEditFlags flags = 0, ImVec2 size = ImVec2(0, 0))&#39;</span></div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span><span class="comment"> - 2017/07/20 (1.51) - removed IsPosHoveringAnyWindow(ImVec2), which was partly broken and misleading. ASSERT + redirect user to io.WantCaptureMouse</span></div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span><span class="comment"> - 2017/05/26 (1.50) - removed ImFontConfig::MergeGlyphCenterV in favor of a more multipurpose ImFontConfig::GlyphOffset.</span></div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span><span class="comment"> - 2017/05/01 (1.50) - renamed ImDrawList::PathFill() (rarely used directly) to ImDrawList::PathFillConvex() for clarity.</span></div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span><span class="comment"> - 2016/11/06 (1.50) - BeginChild(const char*) now applies the stack id to the provided label, consistently with other functions as it should always have been. It shouldn&#39;t affect you unless (extremely unlikely) you were appending multiple times to a same child from different locations of the stack id. If that&#39;s the case, generate an id with GetID() and use it instead of passing string to BeginChild().</span></div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span><span class="comment"> - 2016/10/15 (1.50) - avoid &#39;void* user_data&#39; parameter to io.SetClipboardTextFn/io.GetClipboardTextFn pointers. We pass io.ClipboardUserData to it.</span></div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span><span class="comment"> - 2016/09/25 (1.50) - style.WindowTitleAlign is now a ImVec2 (ImGuiAlign enum was removed). set to (0.5f,0.5f) for horizontal+vertical centering, (0.0f,0.0f) for upper-left, etc.</span></div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span><span class="comment"> - 2016/07/30 (1.50) - SameLine(x) with x&gt;0.0f is now relative to left of column/group if any, and not always to left of window. This was sort of always the intent and hopefully, breakage should be minimal.</span></div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span><span class="comment"> - 2016/05/12 (1.49) - title bar (using ImGuiCol_TitleBg/ImGuiCol_TitleBgActive colors) isn&#39;t rendered over a window background (ImGuiCol_WindowBg color) anymore.</span></div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span><span class="comment">                       If your TitleBg/TitleBgActive alpha was 1.0f or you are using the default theme it will not affect you, otherwise if &lt;1.0f you need to tweak your custom theme to readjust for the fact that we don&#39;t draw a WindowBg background behind the title bar.</span></div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span><span class="comment">                       This helper function will convert an old TitleBg/TitleBgActive color into a new one with the same visual output, given the OLD color and the OLD WindowBg color:</span></div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span><span class="comment">                       ImVec4 ConvertTitleBgCol(const ImVec4&amp; win_bg_col, const ImVec4&amp; title_bg_col) { float new_a = 1.0f - ((1.0f - win_bg_col.w) * (1.0f - title_bg_col.w)), k = title_bg_col.w / new_a; return ImVec4((win_bg_col.x * win_bg_col.w + title_bg_col.x) * k, (win_bg_col.y * win_bg_col.w + title_bg_col.y) * k, (win_bg_col.z * win_bg_col.w + title_bg_col.z) * k, new_a); }</span></div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span><span class="comment">                       If this is confusing, pick the RGB value from title bar from an old screenshot and apply this as TitleBg/TitleBgActive. Or you may just create TitleBgActive from a tweaked TitleBg color.</span></div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span><span class="comment"> - 2016/05/07 (1.49) - removed confusing set of GetInternalState(), GetInternalStateSize(), SetInternalState() functions. Now using CreateContext(), DestroyContext(), GetCurrentContext(), SetCurrentContext().</span></div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span><span class="comment"> - 2016/05/02 (1.49) - renamed SetNextTreeNodeOpened() to SetNextTreeNodeOpen(), no redirection.</span></div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span><span class="comment"> - 2016/05/01 (1.49) - obsoleted old signature of CollapsingHeader(const char* label, const char* str_id = NULL, bool display_frame = true, bool default_open = false) as extra parameters were badly designed and rarely used. You can replace the &quot;default_open = true&quot; flag in new API with CollapsingHeader(label, ImGuiTreeNodeFlags_DefaultOpen).</span></div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span><span class="comment"> - 2016/04/26 (1.49) - changed ImDrawList::PushClipRect(ImVec4 rect) to ImDrawList::PushClipRect(Imvec2 min,ImVec2 max,bool intersect_with_current_clip_rect=false). Note that higher-level ImGui::PushClipRect() is preferable because it will clip at logic/widget level, whereas ImDrawList::PushClipRect() only affect your renderer.</span></div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span><span class="comment"> - 2016/04/03 (1.48) - removed style.WindowFillAlphaDefault setting which was redundant. Bake default BG alpha inside style.Colors[ImGuiCol_WindowBg] and all other Bg color values. (ref GitHub issue #337).</span></div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span><span class="comment"> - 2016/04/03 (1.48) - renamed ImGuiCol_TooltipBg to ImGuiCol_PopupBg, used by popups/menus and tooltips. popups/menus were previously using ImGuiCol_WindowBg. (ref github issue #337)</span></div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span><span class="comment"> - 2016/03/21 (1.48) - renamed GetWindowFont() to GetFont(), GetWindowFontSize() to GetFontSize(). Kept inline redirection function (will obsolete).</span></div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span><span class="comment"> - 2016/03/02 (1.48) - InputText() completion/history/always callbacks: if you modify the text buffer manually (without using DeleteChars()/InsertChars() helper) you need to maintain the BufTextLen field. added an assert.</span></div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span><span class="comment"> - 2016/01/23 (1.48) - fixed not honoring exact width passed to PushItemWidth(), previously it would add extra FramePadding.x*2 over that width. if you had manual pixel-perfect alignment in place it might affect you.</span></div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span><span class="comment"> - 2015/12/27 (1.48) - fixed ImDrawList::AddRect() which used to render a rectangle 1 px too large on each axis.</span></div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span><span class="comment"> - 2015/12/04 (1.47) - renamed Color() helpers to ValueColor() - dangerously named, rarely used and probably to be made obsolete.</span></div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span><span class="comment"> - 2015/08/29 (1.45) - with the addition of horizontal scrollbar we made various fixes to inconsistencies with dealing with cursor position.</span></div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span><span class="comment">                       GetCursorPos()/SetCursorPos() functions now include the scrolled amount. It shouldn&#39;t affect the majority of users, but take note that SetCursorPosX(100.0f) puts you at +100 from the starting x position which may include scrolling, not at +100 from the window left side.</span></div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span><span class="comment">                       GetContentRegionMax()/GetWindowContentRegionMin()/GetWindowContentRegionMax() functions allow include the scrolled amount. Typically those were used in cases where no scrolling would happen so it may not be a problem, but watch out!</span></div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span><span class="comment"> - 2015/08/29 (1.45) - renamed style.ScrollbarWidth to style.ScrollbarSize</span></div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span><span class="comment"> - 2015/08/05 (1.44) - split imgui.cpp into extra files: imgui_demo.cpp imgui_draw.cpp imgui_internal.h that you need to add to your project.</span></div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span><span class="comment"> - 2015/07/18 (1.44) - fixed angles in ImDrawList::PathArcTo(), PathArcToFast() (introduced in 1.43) being off by an extra PI for no justifiable reason</span></div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span><span class="comment"> - 2015/07/14 (1.43) - add new ImFontAtlas::AddFont() API. For the old AddFont***, moved the &#39;font_no&#39; parameter of ImFontAtlas::AddFont** functions to the ImFontConfig structure.</span></div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span><span class="comment">                       you need to render your textured triangles with bilinear filtering to benefit from sub-pixel positioning of text.</span></div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span><span class="comment"> - 2015/07/08 (1.43) - switched rendering data to use indexed rendering. this is saving a fair amount of CPU/GPU and enables us to get anti-aliasing for a marginal cost.</span></div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span><span class="comment">                       this necessary change will break your rendering function! the fix should be very easy. sorry for that :(</span></div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span><span class="comment">                     - if you are using a vanilla copy of one of the imgui_impl_XXX.cpp provided in the example, you just need to update your copy and you can ignore the rest.</span></div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span><span class="comment">                     - the signature of the io.RenderDrawListsFn handler has changed!</span></div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span><span class="comment">                       old: ImGui_XXXX_RenderDrawLists(ImDrawList** const cmd_lists, int cmd_lists_count)</span></div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span><span class="comment">                       new: ImGui_XXXX_RenderDrawLists(ImDrawData* draw_data).</span></div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span><span class="comment">                         parameters: &#39;cmd_lists&#39; becomes &#39;draw_data-&gt;CmdLists&#39;, &#39;cmd_lists_count&#39; becomes &#39;draw_data-&gt;CmdListsCount&#39;</span></div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span><span class="comment">                         ImDrawList: &#39;commands&#39; becomes &#39;CmdBuffer&#39;, &#39;vtx_buffer&#39; becomes &#39;VtxBuffer&#39;, &#39;IdxBuffer&#39; is new.</span></div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span><span class="comment">                         ImDrawCmd:  &#39;vtx_count&#39; becomes &#39;ElemCount&#39;, &#39;clip_rect&#39; becomes &#39;ClipRect&#39;, &#39;user_callback&#39; becomes &#39;UserCallback&#39;, &#39;texture_id&#39; becomes &#39;TextureId&#39;.</span></div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span><span class="comment">                     - each ImDrawList now contains both a vertex buffer and an index buffer. For each command, render ElemCount/3 triangles using indices from the index buffer.</span></div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span><span class="comment">                     - if you REALLY cannot render indexed primitives, you can call the draw_data-&gt;DeIndexAllBuffers() method to de-index the buffers. This is slow and a waste of CPU/GPU. Prefer using indexed rendering!</span></div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span><span class="comment">                     - refer to code in the examples/ folder or ask on the GitHub if you are unsure of how to upgrade. please upgrade!</span></div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span><span class="comment"> - 2015/07/10 (1.43) - changed SameLine() parameters from int to float.</span></div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span><span class="comment"> - 2015/07/02 (1.42) - renamed SetScrollPosHere() to SetScrollFromCursorPos(). Kept inline redirection function (will obsolete).</span></div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span><span class="comment"> - 2015/07/02 (1.42) - renamed GetScrollPosY() to GetScrollY(). Necessary to reduce confusion along with other scrolling functions, because positions (e.g. cursor position) are not equivalent to scrolling amount.</span></div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span><span class="comment"> - 2015/06/14 (1.41) - changed ImageButton() default bg_col parameter from (0,0,0,1) (black) to (0,0,0,0) (transparent) - makes a difference when texture have transparence</span></div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span><span class="comment"> - 2015/06/14 (1.41) - changed Selectable() API from (label, selected, size) to (label, selected, flags, size). Size override should have been rarely used. Sorry!</span></div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span><span class="comment"> - 2015/05/31 (1.40) - renamed GetWindowCollapsed() to IsWindowCollapsed() for consistency. Kept inline redirection function (will obsolete).</span></div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span><span class="comment"> - 2015/05/31 (1.40) - renamed IsRectClipped() to IsRectVisible() for consistency. Note that return value is opposite! Kept inline redirection function (will obsolete).</span></div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span><span class="comment"> - 2015/05/27 (1.40) - removed the third &#39;repeat_if_held&#39; parameter from Button() - sorry! it was rarely used and inconsistent. Use PushButtonRepeat(true) / PopButtonRepeat() to enable repeat on desired buttons.</span></div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span><span class="comment"> - 2015/05/11 (1.40) - changed BeginPopup() API, takes a string identifier instead of a bool. ImGui needs to manage the open/closed state of popups. Call OpenPopup() to actually set the &quot;open&quot; state of a popup. BeginPopup() returns true if the popup is opened.</span></div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span><span class="comment"> - 2015/05/03 (1.40) - removed style.AutoFitPadding, using style.WindowPadding makes more sense (the default values were already the same).</span></div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span><span class="comment"> - 2015/04/13 (1.38) - renamed IsClipped() to IsRectClipped(). Kept inline redirection function until 1.50.</span></div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span><span class="comment"> - 2015/04/09 (1.38) - renamed ImDrawList::AddArc() to ImDrawList::AddArcFast() for compatibility with future API</span></div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span><span class="comment"> - 2015/04/03 (1.38) - removed ImGuiCol_CheckHovered, ImGuiCol_CheckActive, replaced with the more general ImGuiCol_FrameBgHovered, ImGuiCol_FrameBgActive.</span></div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span><span class="comment"> - 2014/04/03 (1.38) - removed support for passing -FLT_MAX..+FLT_MAX as the range for a SliderFloat(). Use DragFloat() or Inputfloat() instead.</span></div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span><span class="comment"> - 2015/03/17 (1.36) - renamed GetItemBoxMin()/GetItemBoxMax()/IsMouseHoveringBox() to GetItemRectMin()/GetItemRectMax()/IsMouseHoveringRect(). Kept inline redirection function until 1.50.</span></div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span><span class="comment"> - 2015/03/15 (1.36) - renamed style.TreeNodeSpacing to style.IndentSpacing, ImGuiStyleVar_TreeNodeSpacing to ImGuiStyleVar_IndentSpacing</span></div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span><span class="comment"> - 2015/03/13 (1.36) - renamed GetWindowIsFocused() to IsWindowFocused(). Kept inline redirection function until 1.50.</span></div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span><span class="comment"> - 2015/03/08 (1.35) - renamed style.ScrollBarWidth to style.ScrollbarWidth (casing)</span></div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span><span class="comment"> - 2015/02/27 (1.34) - renamed OpenNextNode(bool) to SetNextTreeNodeOpened(bool, ImGuiSetCond). Kept inline redirection function until 1.50.</span></div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span><span class="comment"> - 2015/02/27 (1.34) - renamed ImGuiSetCondition_*** to ImGuiSetCond_***, and _FirstUseThisSession becomes _Once.</span></div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span><span class="comment"> - 2015/02/11 (1.32) - changed text input callback ImGuiTextEditCallback return type from void--&gt;int. reserved for future use, return 0 for now.</span></div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span><span class="comment"> - 2015/02/10 (1.32) - renamed GetItemWidth() to CalcItemWidth() to clarify its evolving behavior</span></div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span><span class="comment"> - 2015/02/08 (1.31) - renamed GetTextLineSpacing() to GetTextLineHeightWithSpacing()</span></div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span><span class="comment"> - 2015/02/01 (1.31) - removed IO.MemReallocFn (unused)</span></div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span><span class="comment"> - 2015/01/19 (1.30) - renamed ImGuiStorage::GetIntPtr()/GetFloatPtr() to GetIntRef()/GetIntRef() because Ptr was conflicting with actual pointer storage functions.</span></div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span><span class="comment"> - 2015/01/11 (1.30) - big font/image API change! now loads TTF file. allow for multiple fonts. no need for a PNG loader.</span></div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span><span class="comment"> - 2015/01/11 (1.30) - removed GetDefaultFontData(). uses io.Fonts-&gt;GetTextureData*() API to retrieve uncompressed pixels.</span></div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span><span class="comment">                       - old:  const void* png_data; unsigned int png_size; ImGui::GetDefaultFontData(NULL, NULL, &amp;png_data, &amp;png_size); [..Upload texture to GPU..];</span></div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span><span class="comment">                       - new:  unsigned char* pixels; int width, height; io.Fonts-&gt;GetTexDataAsRGBA32(&amp;pixels, &amp;width, &amp;height); [..Upload texture to GPU..]; io.Fonts-&gt;SetTexID(YourTexIdentifier);</span></div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span><span class="comment">                       you now have more flexibility to load multiple TTF fonts and manage the texture buffer for internal needs. It is now recommended that you sample the font texture with bilinear interpolation.</span></div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span><span class="comment"> - 2015/01/11 (1.30) - added texture identifier in ImDrawCmd passed to your render function (we can now render images). make sure to call io.Fonts-&gt;SetTexID()</span></div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span><span class="comment"> - 2015/01/11 (1.30) - removed IO.PixelCenterOffset (unnecessary, can be handled in user projection matrix)</span></div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span><span class="comment"> - 2015/01/11 (1.30) - removed ImGui::IsItemFocused() in favor of ImGui::IsItemActive() which handles all widgets</span></div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span><span class="comment"> - 2014/12/10 (1.18) - removed SetNewWindowDefaultPos() in favor of new generic API SetNextWindowPos(pos, ImGuiSetCondition_FirstUseEver)</span></div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span><span class="comment"> - 2014/11/28 (1.17) - moved IO.Font*** options to inside the IO.Font-&gt; structure (FontYOffset, FontTexUvForWhite, FontBaseScale, FontFallbackGlyph)</span></div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span><span class="comment"> - 2014/11/26 (1.17) - reworked syntax of IMGUI_ONCE_UPON_A_FRAME helper macro to increase compiler compatibility</span></div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span><span class="comment"> - 2014/11/07 (1.15) - renamed IsHovered() to IsItemHovered()</span></div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span><span class="comment"> - 2014/10/02 (1.14) - renamed IMGUI_INCLUDE_IMGUI_USER_CPP to IMGUI_INCLUDE_IMGUI_USER_INL and imgui_user.cpp to imgui_user.inl (more IDE friendly)</span></div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span><span class="comment"> - 2014/09/25 (1.13) - removed &#39;text_end&#39; parameter from IO.SetClipboardTextFn (the string is now always zero-terminated for simplicity)</span></div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span><span class="comment"> - 2014/09/24 (1.12) - renamed SetFontScale() to SetWindowFontScale()</span></div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span><span class="comment"> - 2014/09/24 (1.12) - moved IM_MALLOC/IM_REALLOC/IM_FREE preprocessor defines to IO.MemAllocFn/IO.MemReallocFn/IO.MemFreeFn</span></div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span><span class="comment"> - 2014/08/30 (1.09) - removed IO.FontHeight (now computed automatically)</span></div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span><span class="comment"> - 2014/08/30 (1.09) - moved IMGUI_FONT_TEX_UV_FOR_WHITE preprocessor define to IO.FontTexUvForWhite</span></div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span><span class="comment"> - 2014/08/28 (1.09) - changed the behavior of IO.PixelCenterOffset following various rendering fixes</span></div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span><span class="comment"></span> </div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span><span class="comment"></span> </div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span><span class="comment"> FREQUENTLY ASKED QUESTIONS (FAQ)</span></div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span><span class="comment"> ================================</span></div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span><span class="comment"></span> </div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span><span class="comment"> Read all answers online:</span></div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span><span class="comment">   https://www.dearimgui.com/faq or https://github.com/ocornut/imgui/blob/master/docs/FAQ.md (same url)</span></div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span><span class="comment"> Read all answers locally (with a text editor or ideally a Markdown viewer):</span></div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span><span class="comment">   docs/FAQ.md</span></div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span><span class="comment"> Some answers are copied down here to facilitate searching in code.</span></div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span><span class="comment"></span> </div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span><span class="comment"> Q&amp;A: Basics</span></div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span><span class="comment"> ===========</span></div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span><span class="comment"></span> </div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span><span class="comment"> Q: Where is the documentation?</span></div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span><span class="comment"> A: This library is poorly documented at the moment and expects the user to be acquainted with C/C++.</span></div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span><span class="comment">    - Run the examples/ applications and explore them.</span></div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span><span class="comment">    - Read Getting Started (https://github.com/ocornut/imgui/wiki/Getting-Started) guide.</span></div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span><span class="comment">    - See demo code in imgui_demo.cpp and particularly the ImGui::ShowDemoWindow() function.</span></div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span><span class="comment">    - The demo covers most features of Dear ImGui, so you can read the code and see its output.</span></div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span><span class="comment">    - See documentation and comments at the top of imgui.cpp + effectively imgui.h.</span></div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span><span class="comment">    - 20+ standalone example applications using e.g. OpenGL/DirectX are provided in the</span></div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span><span class="comment">      examples/ folder to explain how to integrate Dear ImGui with your own engine/application.</span></div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span><span class="comment">    - The Wiki (https://github.com/ocornut/imgui/wiki) has many resources and links.</span></div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span><span class="comment">    - The Glossary (https://github.com/ocornut/imgui/wiki/Glossary) page also may be useful.</span></div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span><span class="comment">    - Your programming IDE is your friend, find the type or function declaration to find comments</span></div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span><span class="comment">      associated with it.</span></div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span><span class="comment"></span> </div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span><span class="comment"> Q: What is this library called?</span></div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span><span class="comment"> Q: Which version should I get?</span></div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span><span class="comment"> &gt;&gt; This library is called &quot;Dear ImGui&quot;, please don&#39;t call it &quot;ImGui&quot; :)</span></div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span><span class="comment"> &gt;&gt; See https://www.dearimgui.com/faq for details.</span></div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span><span class="comment"></span> </div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span><span class="comment"> Q&amp;A: Integration</span></div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span><span class="comment"> ================</span></div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span><span class="comment"></span> </div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span><span class="comment"> Q: How to get started?</span></div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span><span class="comment"> A: Read https://github.com/ocornut/imgui/wiki/Getting-Started. Read &#39;PROGRAMMER GUIDE&#39; above. Read examples/README.txt.</span></div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span><span class="comment"></span> </div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span><span class="comment"> Q: How can I tell whether to dispatch mouse/keyboard to Dear ImGui or my application?</span></div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span><span class="comment"> A: You should read the &#39;io.WantCaptureMouse&#39;, &#39;io.WantCaptureKeyboard&#39; and &#39;io.WantTextInput&#39; flags!</span></div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span><span class="comment"> &gt;&gt; See https://www.dearimgui.com/faq for a fully detailed answer. You really want to read this.</span></div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span><span class="comment"></span> </div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span><span class="comment"> Q. How can I enable keyboard or gamepad controls?</span></div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span><span class="comment"> Q: How can I use this on a machine without mouse, keyboard or screen? (input share, remote display)</span></div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span><span class="comment"> Q: I integrated Dear ImGui in my engine and little squares are showing instead of text...</span></div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span><span class="comment"> Q: I integrated Dear ImGui in my engine and some elements are clipping or disappearing when I move windows around...</span></div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span><span class="comment"> Q: I integrated Dear ImGui in my engine and some elements are displaying outside their expected windows boundaries...</span></div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span><span class="comment"> &gt;&gt; See https://www.dearimgui.com/faq</span></div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span><span class="comment"></span> </div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span><span class="comment"> Q&amp;A: Usage</span></div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span><span class="comment"> ----------</span></div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span><span class="comment"></span> </div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span><span class="comment"> Q: About the ID Stack system..</span></div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span><span class="comment">   - Why is my widget not reacting when I click on it?</span></div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span><span class="comment">   - How can I have widgets with an empty label?</span></div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span><span class="comment">   - How can I have multiple widgets with the same label?</span></div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span><span class="comment">   - How can I have multiple windows with the same label?</span></div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span><span class="comment"> Q: How can I display an image? What is ImTextureID, how does it work?</span></div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span><span class="comment"> Q: How can I use my own math types instead of ImVec2?</span></div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span><span class="comment"> Q: How can I interact with standard C++ types (such as std::string and std::vector)?</span></div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span><span class="comment"> Q: How can I display custom shapes? (using low-level ImDrawList API)</span></div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span><span class="comment"> &gt;&gt; See https://www.dearimgui.com/faq</span></div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span><span class="comment"></span> </div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span><span class="comment"> Q&amp;A: Fonts, Text</span></div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span><span class="comment"> ================</span></div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span><span class="comment"></span> </div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span><span class="comment"> Q: How should I handle DPI in my application?</span></div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span><span class="comment"> Q: How can I load a different font than the default?</span></div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span><span class="comment"> Q: How can I easily use icons in my application?</span></div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span><span class="comment"> Q: How can I load multiple fonts?</span></div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span><span class="comment"> Q: How can I display and input non-Latin characters such as Chinese, Japanese, Korean, Cyrillic?</span></div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span><span class="comment"> &gt;&gt; See https://www.dearimgui.com/faq and https://github.com/ocornut/imgui/blob/master/docs/FONTS.md</span></div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span><span class="comment"></span> </div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span><span class="comment"> Q&amp;A: Concerns</span></div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span><span class="comment"> =============</span></div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span><span class="comment"></span> </div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span><span class="comment"> Q: Who uses Dear ImGui?</span></div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span><span class="comment"> Q: Can you create elaborate/serious tools with Dear ImGui?</span></div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span><span class="comment"> Q: Can you reskin the look of Dear ImGui?</span></div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span><span class="comment"> Q: Why using C++ (as opposed to C)?</span></div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span><span class="comment"> &gt;&gt; See https://www.dearimgui.com/faq</span></div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span><span class="comment"></span> </div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span><span class="comment"> Q&amp;A: Community</span></div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span><span class="comment"> ==============</span></div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span><span class="comment"></span> </div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span><span class="comment"> Q: How can I help?</span></div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span><span class="comment"> A: - Businesses: please reach out to &quot;omar AT dearimgui DOT com&quot; if you work in a place using Dear ImGui!</span></div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span><span class="comment">      We can discuss ways for your company to fund development via invoiced technical support, maintenance or sponsoring contacts.</span></div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span><span class="comment">      This is among the most useful thing you can do for Dear ImGui. With increased funding, we sustain and grow work on this project.</span></div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span><span class="comment">      &gt;&gt;&gt; See https://github.com/ocornut/imgui/wiki/Funding</span></div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span><span class="comment">    - Businesses: you can also purchase licenses for the Dear ImGui Automation/Test Engine.</span></div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span><span class="comment">    - If you are experienced with Dear ImGui and C++, look at the GitHub issues, look at the Wiki, and see how you want to help and can help!</span></div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span><span class="comment">    - Disclose your usage of Dear ImGui via a dev blog post, a tweet, a screenshot, a mention somewhere etc.</span></div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span><span class="comment">      You may post screenshot or links in the gallery threads. Visuals are ideal as they inspire other programmers.</span></div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span><span class="comment">      But even without visuals, disclosing your use of dear imgui helps the library grow credibility, and help other teams and programmers with taking decisions.</span></div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span><span class="comment">    - If you have issues or if you need to hack into the library, even if you don&#39;t expect any support it is useful that you share your issues (on GitHub or privately).</span></div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span><span class="comment"></span> </div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span><span class="comment">*/</span></div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span> </div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span><span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span><span class="comment">// [SECTION] INCLUDES</span></div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span><span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span> </div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span><span class="preprocessor">#if defined(_MSC_VER) &amp;&amp; !defined(_CRT_SECURE_NO_WARNINGS)</span></div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span><span class="preprocessor">#define _CRT_SECURE_NO_WARNINGS</span></div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span> </div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span><span class="preprocessor">#ifndef IMGUI_DEFINE_MATH_OPERATORS</span></div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span><span class="preprocessor">#define IMGUI_DEFINE_MATH_OPERATORS</span></div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span> </div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span><span class="preprocessor">#include &quot;imgui.h&quot;</span></div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span><span class="preprocessor">#ifndef IMGUI_DISABLE</span></div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span><span class="preprocessor">#include &quot;imgui_internal.h&quot;</span></div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span> </div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span><span class="comment">// System includes</span></div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span><span class="preprocessor">#include &lt;stdio.h&gt;</span>      <span class="comment">// vsnprintf, sscanf, printf</span></div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span><span class="preprocessor">#include &lt;stdint.h&gt;</span>     <span class="comment">// intptr_t</span></div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span> </div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span><span class="comment">// [Windows] On non-Visual Studio compilers, we default to IMGUI_DISABLE_WIN32_DEFAULT_IME_FUNCTIONS unless explicitly enabled</span></div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span><span class="preprocessor">#if defined(_WIN32) &amp;&amp; !defined(_MSC_VER) &amp;&amp; !defined(IMGUI_ENABLE_WIN32_DEFAULT_IME_FUNCTIONS) &amp;&amp; !defined(IMGUI_DISABLE_WIN32_DEFAULT_IME_FUNCTIONS)</span></div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span><span class="preprocessor">#define IMGUI_DISABLE_WIN32_DEFAULT_IME_FUNCTIONS</span></div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span> </div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span><span class="comment">// [Windows] OS specific includes (optional)</span></div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span><span class="preprocessor">#if defined(_WIN32) &amp;&amp; defined(IMGUI_DISABLE_DEFAULT_FILE_FUNCTIONS) &amp;&amp; defined(IMGUI_DISABLE_WIN32_DEFAULT_CLIPBOARD_FUNCTIONS) &amp;&amp; defined(IMGUI_DISABLE_WIN32_DEFAULT_IME_FUNCTIONS) &amp;&amp; defined(IMGUI_DISABLE_DEFAULT_SHELL_FUNCTIONS) &amp;&amp; !defined(IMGUI_DISABLE_WIN32_FUNCTIONS)</span></div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span><span class="preprocessor">#define IMGUI_DISABLE_WIN32_FUNCTIONS</span></div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span><span class="preprocessor">#if defined(_WIN32) &amp;&amp; !defined(IMGUI_DISABLE_WIN32_FUNCTIONS)</span></div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span><span class="preprocessor">#ifndef WIN32_LEAN_AND_MEAN</span></div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span><span class="preprocessor">#define WIN32_LEAN_AND_MEAN</span></div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span><span class="preprocessor">#ifndef NOMINMAX</span></div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span><span class="preprocessor">#define NOMINMAX</span></div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span><span class="preprocessor">#ifndef __MINGW32__</span></div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span><span class="preprocessor">#include &lt;Windows.h&gt;</span>        <span class="comment">// _wfopen, OpenClipboard</span></div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span><span class="preprocessor">#include &lt;windows.h&gt;</span></div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span><span class="preprocessor">#if defined(WINAPI_FAMILY) &amp;&amp; ((defined(WINAPI_FAMILY_APP) &amp;&amp; WINAPI_FAMILY == WINAPI_FAMILY_APP) || (defined(WINAPI_FAMILY_GAMES) &amp;&amp; WINAPI_FAMILY == WINAPI_FAMILY_GAMES))</span></div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span><span class="comment">// The UWP and GDK Win32 API subsets don&#39;t support clipboard nor IME functions</span></div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span><span class="preprocessor">#define IMGUI_DISABLE_WIN32_DEFAULT_CLIPBOARD_FUNCTIONS</span></div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span><span class="preprocessor">#define IMGUI_DISABLE_WIN32_DEFAULT_IME_FUNCTIONS</span></div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span><span class="preprocessor">#define IMGUI_DISABLE_DEFAULT_SHELL_FUNCTIONS</span></div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span> </div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span><span class="comment">// [Apple] OS specific includes</span></div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span><span class="preprocessor">#if defined(__APPLE__)</span></div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span><span class="preprocessor">#include &lt;TargetConditionals.h&gt;</span></div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span> </div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span><span class="comment">// Visual Studio warnings</span></div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span><span class="preprocessor">#ifdef _MSC_VER</span></div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span><span class="preprocessor">#pragma warning (disable: 4127)             </span><span class="comment">// condition expression is constant</span></div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span><span class="preprocessor">#pragma warning (disable: 4996)             </span><span class="comment">// &#39;This function or variable may be unsafe&#39;: strcpy, strdup, sprintf, vsnprintf, sscanf, fopen</span></div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span><span class="preprocessor">#if defined(_MSC_VER) &amp;&amp; _MSC_VER &gt;= 1922   </span><span class="comment">// MSVC 2019 16.2 or later</span></div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span><span class="preprocessor">#pragma warning (disable: 5054)             </span><span class="comment">// operator &#39;|&#39;: deprecated between enumerations of different types</span></div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span><span class="preprocessor">#pragma warning (disable: 26451)            </span><span class="comment">// [Static Analyzer] Arithmetic overflow : Using operator &#39;xxx&#39; on a 4 byte value and then casting the result to an 8 byte value. Cast the value to the wider type before calling operator &#39;xxx&#39; to avoid overflow(io.2).</span></div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span><span class="preprocessor">#pragma warning (disable: 26495)            </span><span class="comment">// [Static Analyzer] Variable &#39;XXX&#39; is uninitialized. Always initialize a member variable (type.6).</span></div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span><span class="preprocessor">#pragma warning (disable: 26812)            </span><span class="comment">// [Static Analyzer] The enum type &#39;xxx&#39; is unscoped. Prefer &#39;enum class&#39; over &#39;enum&#39; (Enum.3).</span></div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span> </div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span><span class="comment">// Clang/GCC warnings with -Weverything</span></div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span><span class="preprocessor">#if defined(__clang__)</span></div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span><span class="preprocessor">#if __has_warning(&quot;-Wunknown-warning-option&quot;)</span></div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span><span class="preprocessor">#pragma clang diagnostic ignored &quot;-Wunknown-warning-option&quot;         </span><span class="comment">// warning: unknown warning group &#39;xxx&#39;                      // not all warnings are known by all Clang versions and they tend to be rename-happy.. so ignoring warnings triggers new warnings on some configuration. Great!</span></div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span><span class="preprocessor">#pragma clang diagnostic ignored &quot;-Wunknown-pragmas&quot;                </span><span class="comment">// warning: unknown warning group &#39;xxx&#39;</span></div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span><span class="preprocessor">#pragma clang diagnostic ignored &quot;-Wold-style-cast&quot;                 </span><span class="comment">// warning: use of old-style cast                            // yes, they are more terse.</span></div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span><span class="preprocessor">#pragma clang diagnostic ignored &quot;-Wfloat-equal&quot;                    </span><span class="comment">// warning: comparing floating point with == or != is unsafe // storing and comparing against same constants (typically 0.0f) is ok.</span></div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span><span class="preprocessor">#pragma clang diagnostic ignored &quot;-Wformat&quot;                         </span><span class="comment">// warning: format specifies type &#39;int&#39; but the argument has type &#39;unsigned int&#39;</span></div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span><span class="preprocessor">#pragma clang diagnostic ignored &quot;-Wformat-nonliteral&quot;              </span><span class="comment">// warning: format string is not a string literal            // passing non-literal to vsnformat(). yes, user passing incorrect format strings can crash the code.</span></div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span><span class="preprocessor">#pragma clang diagnostic ignored &quot;-Wformat-pedantic&quot;                </span><span class="comment">// warning: format specifies type &#39;void *&#39; but the argument has type &#39;xxxx *&#39; // unreasonable, would lead to casting every %p arg to void*. probably enabled by -pedantic.</span></div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span><span class="preprocessor">#pragma clang diagnostic ignored &quot;-Wexit-time-destructors&quot;          </span><span class="comment">// warning: declaration requires an exit-time destructor     // exit-time destruction order is undefined. if MemFree() leads to users code that has been disabled before exit it might cause problems. ImGui coding style welcomes static/globals.</span></div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span><span class="preprocessor">#pragma clang diagnostic ignored &quot;-Wglobal-constructors&quot;            </span><span class="comment">// warning: declaration requires a global destructor         // similar to above, not sure what the exact difference is.</span></div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span><span class="preprocessor">#pragma clang diagnostic ignored &quot;-Wsign-conversion&quot;                </span><span class="comment">// warning: implicit conversion changes signedness</span></div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span><span class="preprocessor">#pragma clang diagnostic ignored &quot;-Wint-to-void-pointer-cast&quot;       </span><span class="comment">// warning: cast to &#39;void *&#39; from smaller integer type &#39;int&#39;</span></div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span><span class="preprocessor">#pragma clang diagnostic ignored &quot;-Wzero-as-null-pointer-constant&quot;  </span><span class="comment">// warning: zero as null pointer constant                    // some standard header variations use #define NULL 0</span></div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span><span class="preprocessor">#pragma clang diagnostic ignored &quot;-Wdouble-promotion&quot;               </span><span class="comment">// warning: implicit conversion from &#39;float&#39; to &#39;double&#39; when passing argument to function  // using printf() is a misery with this as C++ va_arg ellipsis changes float to double.</span></div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span><span class="preprocessor">#pragma clang diagnostic ignored &quot;-Wimplicit-int-float-conversion&quot;  </span><span class="comment">// warning: implicit conversion from &#39;xxx&#39; to &#39;float&#39; may lose precision</span></div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span><span class="preprocessor">#pragma clang diagnostic ignored &quot;-Wunsafe-buffer-usage&quot;            </span><span class="comment">// warning: &#39;xxx&#39; is an unsafe pointer used for buffer access</span></div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span><span class="preprocessor">#pragma clang diagnostic ignored &quot;-Wnontrivial-memaccess&quot;           </span><span class="comment">// warning: first argument in call to &#39;memset&#39; is a pointer to non-trivially copyable type</span></div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span><span class="preprocessor">#pragma clang diagnostic ignored &quot;-Wswitch-default&quot;                 </span><span class="comment">// warning: &#39;switch&#39; missing &#39;default&#39; label</span></div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span><span class="preprocessor">#elif defined(__GNUC__)</span></div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span><span class="comment">// We disable -Wpragmas because GCC doesn&#39;t provide a has_warning equivalent and some forks/patches may not follow the warning/version association.</span></div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span><span class="preprocessor">#pragma GCC diagnostic ignored &quot;-Wpragmas&quot;                          </span><span class="comment">// warning: unknown option after &#39;#pragma GCC diagnostic&#39; kind</span></div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span><span class="preprocessor">#pragma GCC diagnostic ignored &quot;-Wunused-function&quot;                  </span><span class="comment">// warning: &#39;xxxx&#39; defined but not used</span></div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span><span class="preprocessor">#pragma GCC diagnostic ignored &quot;-Wint-to-pointer-cast&quot;              </span><span class="comment">// warning: cast to pointer from integer of different size</span></div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span><span class="preprocessor">#pragma GCC diagnostic ignored &quot;-Wfloat-equal&quot;                      </span><span class="comment">// warning: comparing floating-point with &#39;==&#39; or &#39;!=&#39; is unsafe</span></div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span><span class="preprocessor">#pragma GCC diagnostic ignored &quot;-Wformat&quot;                           </span><span class="comment">// warning: format &#39;%p&#39; expects argument of type &#39;int&#39;/&#39;void*&#39;, but argument X has type &#39;unsigned int&#39;/&#39;ImGuiWindow*&#39;</span></div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span><span class="preprocessor">#pragma GCC diagnostic ignored &quot;-Wdouble-promotion&quot;                 </span><span class="comment">// warning: implicit conversion from &#39;float&#39; to &#39;double&#39; when passing argument to function</span></div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span><span class="preprocessor">#pragma GCC diagnostic ignored &quot;-Wconversion&quot;                       </span><span class="comment">// warning: conversion to &#39;xxxx&#39; from &#39;xxxx&#39; may alter its value</span></div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span><span class="preprocessor">#pragma GCC diagnostic ignored &quot;-Wformat-nonliteral&quot;                </span><span class="comment">// warning: format not a string literal, format string not checked</span></div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span><span class="preprocessor">#pragma GCC diagnostic ignored &quot;-Wstrict-overflow&quot;                  </span><span class="comment">// warning: assuming signed overflow does not occur when assuming that (X - c) &gt; X is always false</span></div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span><span class="preprocessor">#pragma GCC diagnostic ignored &quot;-Wclass-memaccess&quot;                  </span><span class="comment">// [__GNUC__ &gt;= 8] warning: &#39;memset/memcpy&#39; clearing/writing an object of type &#39;xxxx&#39; with no trivial copy-assignment; use assignment or value-initialization instead</span></div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span><span class="preprocessor">#pragma GCC diagnostic ignored &quot;-Wcast-qual&quot;                        </span><span class="comment">// warning: cast from type &#39;const xxxx *&#39; to type &#39;xxxx *&#39; casts away qualifiers</span></div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span> </div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span><span class="comment">// Debug options</span></div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span><span class="preprocessor">#define IMGUI_DEBUG_NAV_SCORING     0   </span><span class="comment">// Display navigation scoring preview when hovering items. Hold CTRL to display for all candidates. CTRL+Arrow to change last direction.</span></div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span><span class="preprocessor">#define IMGUI_DEBUG_NAV_RECTS       0   </span><span class="comment">// Display the reference navigation rectangle for each window</span></div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span> </div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span><span class="comment">// When using CTRL+TAB (or Gamepad Square+L/R) we delay the visual a little in order to reduce visual noise doing a fast switch.</span></div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">float</span> NAV_WINDOWING_HIGHLIGHT_DELAY            = 0.20f;    <span class="comment">// Time before the highlight and screen dimming starts fading in</span></div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">float</span> NAV_WINDOWING_LIST_APPEAR_DELAY          = 0.15f;    <span class="comment">// Time before the window list starts to appear</span></div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">float</span> NAV_ACTIVATE_HIGHLIGHT_TIMER             = 0.10f;    <span class="comment">// Time to highlight an item activated by a shortcut.</span></div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">float</span> WINDOWS_RESIZE_FROM_EDGES_FEEDBACK_TIMER = 0.04f;    <span class="comment">// Reduce visual noise by only highlighting the border after a certain time.</span></div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">float</span> WINDOWS_MOUSE_WHEEL_SCROLL_LOCK_TIMER    = 0.70f;    <span class="comment">// Lock scrolled window (so it doesn&#39;t pick child windows that are scrolling through) for a certain time, unless mouse moved.</span></div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span> </div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span><span class="comment">// Tooltip offset</span></div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> TOOLTIP_DEFAULT_OFFSET_MOUSE = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(16, 10);      <span class="comment">// Multiplied by g.Style.MouseCursorScale</span></div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> TOOLTIP_DEFAULT_OFFSET_TOUCH = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0, -20);      <span class="comment">// Multiplied by g.Style.MouseCursorScale</span></div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> TOOLTIP_DEFAULT_PIVOT_TOUCH = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.5f, 1.0f);   <span class="comment">// Multiplied by g.Style.MouseCursorScale</span></div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span> </div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span><span class="comment">// Docking</span></div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">float</span> DOCKING_TRANSPARENT_PAYLOAD_ALPHA        = 0.50f;    <span class="comment">// For use with io.ConfigDockingTransparentPayload. Apply to Viewport _or_ WindowBg in host viewport.</span></div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span> </div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span><span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span><span class="comment">// [SECTION] FORWARD DECLARATIONS</span></div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span><span class="comment">//-------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span> </div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span><span class="keyword">static</span> <span class="keywordtype">void</span>             SetCurrentWindow(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window);</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span><span class="keyword">static</span> <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>*     CreateNewWindow(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, ImGuiWindowFlags flags);</div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span><span class="keyword">static</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>           CalcNextScrollFromScrollTargetAndClamp(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window);</div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span> </div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span><span class="keyword">static</span> <span class="keywordtype">void</span>             AddWindowToSortBuffer(<a class="code hl_struct" href="structImVector.html">ImVector&lt;ImGuiWindow*&gt;</a>* out_sorted_windows, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window);</div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span> </div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span><span class="comment">// Settings</span></div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span><span class="keyword">static</span> <span class="keywordtype">void</span>             WindowSettingsHandler_ClearAll(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>*, <a class="code hl_struct" href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a>*);</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span><span class="keyword">static</span> <span class="keywordtype">void</span>*            WindowSettingsHandler_ReadOpen(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>*, <a class="code hl_struct" href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a>*, <span class="keyword">const</span> <span class="keywordtype">char</span>* name);</div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span><span class="keyword">static</span> <span class="keywordtype">void</span>             WindowSettingsHandler_ReadLine(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>*, <a class="code hl_struct" href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a>*, <span class="keywordtype">void</span>* entry, <span class="keyword">const</span> <span class="keywordtype">char</span>* line);</div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span><span class="keyword">static</span> <span class="keywordtype">void</span>             WindowSettingsHandler_ApplyAll(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>*, <a class="code hl_struct" href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a>*);</div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span><span class="keyword">static</span> <span class="keywordtype">void</span>             WindowSettingsHandler_WriteAll(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>*, <a class="code hl_struct" href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a>*, <a class="code hl_struct" href="structImGuiTextBuffer.html">ImGuiTextBuffer</a>* buf);</div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span> </div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span><span class="comment">// Platform Dependents default implementation for ImGuiPlatformIO functions</span></div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>*      Platform_GetClipboardTextFn_DefaultImpl(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx);</div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span><span class="keyword">static</span> <span class="keywordtype">void</span>             Platform_SetClipboardTextFn_DefaultImpl(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <span class="keyword">const</span> <span class="keywordtype">char</span>* text);</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span><span class="keyword">static</span> <span class="keywordtype">void</span>             Platform_SetImeDataFn_DefaultImpl(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <a class="code hl_struct" href="structImGuiViewport.html">ImGuiViewport</a>* viewport, <a class="code hl_struct" href="structImGuiPlatformImeData.html">ImGuiPlatformImeData</a>* data);</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span><span class="keyword">static</span> <span class="keywordtype">bool</span>             Platform_OpenInShellFn_DefaultImpl(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <span class="keyword">const</span> <span class="keywordtype">char</span>* path);</div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span> </div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span><span class="keyword">namespace </span>ImGui</div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>{</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span><span class="comment">// Item</span></div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span><span class="keyword">static</span> <span class="keywordtype">void</span>             ItemHandleShortcut(ImGuiID <span class="keywordtype">id</span>);</div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span> </div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span><span class="comment">// Window Focus</span></div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span><span class="keyword">static</span> <span class="keywordtype">int</span>              FindWindowFocusIndex(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window);</div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span><span class="keyword">static</span> <span class="keywordtype">void</span>             UpdateWindowInFocusOrderList(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keywordtype">bool</span> just_created, ImGuiWindowFlags new_flags);</div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span> </div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span><span class="comment">// Navigation</span></div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span><span class="keyword">static</span> <span class="keywordtype">void</span>             NavUpdate();</div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span><span class="keyword">static</span> <span class="keywordtype">void</span>             NavUpdateWindowing();</div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span><span class="keyword">static</span> <span class="keywordtype">void</span>             NavUpdateWindowingApplyFocus(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window);</div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span><span class="keyword">static</span> <span class="keywordtype">void</span>             NavUpdateWindowingOverlay();</div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span><span class="keyword">static</span> <span class="keywordtype">void</span>             NavUpdateCancelRequest();</div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span><span class="keyword">static</span> <span class="keywordtype">void</span>             NavUpdateCreateMoveRequest();</div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span><span class="keyword">static</span> <span class="keywordtype">void</span>             NavUpdateCreateTabbingRequest();</div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span><span class="keyword">static</span> <span class="keywordtype">float</span>            NavUpdatePageUpPageDown();</div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span>      NavUpdateAnyRequestFlag();</div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span><span class="keyword">static</span> <span class="keywordtype">void</span>             NavUpdateCreateWrappingRequest();</div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span><span class="keyword">static</span> <span class="keywordtype">void</span>             NavEndFrame();</div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span><span class="keyword">static</span> <span class="keywordtype">bool</span>             NavScoreItem(<a class="code hl_struct" href="structImGuiNavItemData.html">ImGuiNavItemData</a>* result);</div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span><span class="keyword">static</span> <span class="keywordtype">void</span>             NavApplyItemToResult(<a class="code hl_struct" href="structImGuiNavItemData.html">ImGuiNavItemData</a>* result);</div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span><span class="keyword">static</span> <span class="keywordtype">void</span>             NavProcessItem();</div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span><span class="keyword">static</span> <span class="keywordtype">void</span>             NavProcessItemForTabbingRequest(ImGuiID <span class="keywordtype">id</span>, ImGuiItemFlags item_flags, ImGuiNavMoveFlags move_flags);</div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span><span class="keyword">static</span> ImGuiInputSource NavCalcPreferredRefPosSource();</div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span><span class="keyword">static</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>           NavCalcPreferredRefPos();</div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span><span class="keyword">static</span> <span class="keywordtype">void</span>             NavSaveLastChildNavWindowIntoParent(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* nav_window);</div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span><span class="keyword">static</span> <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>*     NavRestoreLastChildNavWindow(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window);</div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span><span class="keyword">static</span> <span class="keywordtype">void</span>             NavRestoreLayer(ImGuiNavLayer layer);</div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span> </div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span><span class="comment">// Error Checking and Debug Tools</span></div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span><span class="keyword">static</span> <span class="keywordtype">void</span>             ErrorCheckNewFrameSanityChecks();</div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span><span class="keyword">static</span> <span class="keywordtype">void</span>             ErrorCheckEndFrameSanityChecks();</div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span><span class="preprocessor">#ifndef IMGUI_DISABLE_DEBUG_TOOLS</span></div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span><span class="keyword">static</span> <span class="keywordtype">void</span>             UpdateDebugToolItemPicker();</div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"> 1266</span><span class="keyword">static</span> <span class="keywordtype">void</span>             UpdateDebugToolStackQueries();</div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span><span class="keyword">static</span> <span class="keywordtype">void</span>             UpdateDebugToolFlashStyleColor();</div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span> </div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span><span class="comment">// Inputs</span></div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span><span class="keyword">static</span> <span class="keywordtype">void</span>             UpdateKeyboardInputs();</div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span><span class="keyword">static</span> <span class="keywordtype">void</span>             UpdateMouseInputs();</div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span><span class="keyword">static</span> <span class="keywordtype">void</span>             UpdateMouseWheel();</div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span><span class="keyword">static</span> <span class="keywordtype">void</span>             UpdateKeyRoutingTable(<a class="code hl_struct" href="structImGuiKeyRoutingTable.html">ImGuiKeyRoutingTable</a>* rt);</div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span> </div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span><span class="comment">// Misc</span></div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span><span class="keyword">static</span> <span class="keywordtype">void</span>             UpdateSettings();</div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span><span class="keyword">static</span> <span class="keywordtype">int</span>              UpdateWindowManualResize(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; size_auto_fit, <span class="keywordtype">int</span>* border_hovered, <span class="keywordtype">int</span>* border_held, <span class="keywordtype">int</span> resize_grip_count, ImU32 resize_grip_col[4], <span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; visibility_rect);</div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span><span class="keyword">static</span> <span class="keywordtype">void</span>             RenderWindowOuterBorders(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window);</div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span><span class="keyword">static</span> <span class="keywordtype">void</span>             RenderWindowDecorations(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; title_bar_rect, <span class="keywordtype">bool</span> title_bar_is_highlight, <span class="keywordtype">bool</span> handle_borders_and_resize_grips, <span class="keywordtype">int</span> resize_grip_count, <span class="keyword">const</span> ImU32 resize_grip_col[4], <span class="keywordtype">float</span> resize_grip_draw_size);</div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span><span class="keyword">static</span> <span class="keywordtype">void</span>             RenderWindowTitleBarContents(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; title_bar_rect, <span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keywordtype">bool</span>* p_open);</div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span><span class="keyword">static</span> <span class="keywordtype">void</span>             RenderDimmedBackgroundBehindWindow(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, ImU32 col);</div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span><span class="keyword">static</span> <span class="keywordtype">void</span>             RenderDimmedBackgrounds();</div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span><span class="keyword">static</span> <span class="keywordtype">void</span>             SetLastItemDataForWindow(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; rect);</div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span><span class="keyword">static</span> <span class="keywordtype">void</span>             SetLastItemDataForChildWindowItem(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; rect);</div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span> </div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span><span class="comment">// Viewports</span></div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span><span class="keyword">const</span> ImGuiID           IMGUI_VIEWPORT_DEFAULT_ID = 0x11111111; <span class="comment">// Using an arbitrary constant instead of e.g. ImHashStr(&quot;ViewportDefault&quot;, 0); so it&#39;s easier to spot in the debugger. The exact value doesn&#39;t matter.</span></div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span><span class="keyword">static</span> <a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>*  AddUpdateViewport(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, ImGuiID <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; platform_pos, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; size, ImGuiViewportFlags flags);</div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span><span class="keyword">static</span> <span class="keywordtype">void</span>             DestroyViewport(<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport);</div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span><span class="keyword">static</span> <span class="keywordtype">void</span>             UpdateViewportsNewFrame();</div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span><span class="keyword">static</span> <span class="keywordtype">void</span>             UpdateViewportsEndFrame();</div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span><span class="keyword">static</span> <span class="keywordtype">void</span>             WindowSelectViewport(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window);</div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span><span class="keyword">static</span> <span class="keywordtype">void</span>             WindowSyncOwnedViewport(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* parent_window_in_stack);</div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span><span class="keyword">static</span> <span class="keywordtype">bool</span>             UpdateTryMergeWindowIntoHostViewport(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* host_viewport);</div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span><span class="keyword">static</span> <span class="keywordtype">bool</span>             UpdateTryMergeWindowIntoHostViewports(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window);</div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span><span class="keyword">static</span> <span class="keywordtype">bool</span>             GetWindowAlwaysWantOwnViewport(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window);</div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span><span class="keyword">static</span> <span class="keywordtype">int</span>              FindPlatformMonitorForPos(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; pos);</div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span><span class="keyword">static</span> <span class="keywordtype">int</span>              FindPlatformMonitorForRect(<span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; r);</div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span><span class="keyword">static</span> <span class="keywordtype">void</span>             UpdateViewportPlatformMonitor(<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport);</div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span> </div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"> 1302</span>}</div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span> </div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"> 1305</span><span class="comment">// [SECTION] CONTEXT AND MEMORY ALLOCATORS</span></div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span> </div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span><span class="comment">// DLL users:</span></div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span><span class="comment">// - Heaps and globals are not shared across DLL boundaries!</span></div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span><span class="comment">// - You will need to call SetCurrentContext() + SetAllocatorFunctions() for each static/DLL boundary you are calling from.</span></div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span><span class="comment">// - Same applies for hot-reloading mechanisms that are reliant on reloading DLL (note that many hot-reloading mechanisms work without DLL).</span></div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span><span class="comment">// - Using Dear ImGui via a shared library is not recommended, because of function call overhead and because we don&#39;t guarantee backward nor forward ABI compatibility.</span></div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span><span class="comment">// - Confused? In a debugger: add GImGui to your watch window and notice how its value changes depending on your current location (which DLL boundary you are in).</span></div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span> </div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span><span class="comment">// Current context pointer. Implicitly used by all Dear ImGui functions. Always assumed to be != NULL.</span></div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span><span class="comment">// - ImGui::CreateContext() will automatically set this pointer if it is NULL.</span></div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span><span class="comment">//   Change to a different context by calling ImGui::SetCurrentContext().</span></div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span><span class="comment">// - Important: Dear ImGui functions are not thread-safe because of this pointer.</span></div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span><span class="comment">//   If you want thread-safety to allow N threads to access N different contexts:</span></div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span><span class="comment">//   - Change this variable to use thread local storage so each thread can refer to a different context, in your imconfig.h:</span></div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span><span class="comment">//         struct ImGuiContext;</span></div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span><span class="comment">//         extern thread_local ImGuiContext* MyImGuiTLS;</span></div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span><span class="comment">//         #define GImGui MyImGuiTLS</span></div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span><span class="comment">//     And then define MyImGuiTLS in one of your cpp files. Note that thread_local is a C++11 keyword, earlier C++ uses compiler-specific keyword.</span></div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"> 1325</span><span class="comment">//   - Future development aims to make this context pointer explicit to all calls. Also read https://github.com/ocornut/imgui/issues/586</span></div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span><span class="comment">//   - If you need a finite number of contexts, you may compile and use multiple instances of the ImGui code from a different namespace.</span></div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span><span class="comment">// - DLL users: read comments above.</span></div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span><span class="preprocessor">#ifndef GImGui</span></div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span><a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>*   GImGui = NULL;</div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"> 1331</span> </div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"> 1332</span><span class="comment">// Memory Allocator functions. Use SetAllocatorFunctions() to change them.</span></div>
<div class="line"><a id="l01333" name="l01333"></a><span class="lineno"> 1333</span><span class="comment">// - You probably don&#39;t want to modify that mid-program, and if you use global/static e.g. ImVector&lt;&gt; instances you may need to keep them accessible during program destruction.</span></div>
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"> 1334</span><span class="comment">// - DLL users: read comments above.</span></div>
<div class="line"><a id="l01335" name="l01335"></a><span class="lineno"> 1335</span><span class="preprocessor">#ifndef IMGUI_DISABLE_DEFAULT_ALLOCATORS</span></div>
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"> 1336</span><span class="keyword">static</span> <span class="keywordtype">void</span>*   MallocWrapper(<span class="keywordtype">size_t</span> size, <span class="keywordtype">void</span>* user_data)    { IM_UNUSED(user_data); <span class="keywordflow">return</span> malloc(size); }</div>
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"> 1337</span><span class="keyword">static</span> <span class="keywordtype">void</span>    FreeWrapper(<span class="keywordtype">void</span>* ptr, <span class="keywordtype">void</span>* user_data)        { IM_UNUSED(user_data); free(ptr); }</div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"> 1338</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span><span class="keyword">static</span> <span class="keywordtype">void</span>*   MallocWrapper(<span class="keywordtype">size_t</span> size, <span class="keywordtype">void</span>* user_data)    { IM_UNUSED(user_data); IM_UNUSED(size); IM_ASSERT(0); <span class="keywordflow">return</span> NULL; }</div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span><span class="keyword">static</span> <span class="keywordtype">void</span>    FreeWrapper(<span class="keywordtype">void</span>* ptr, <span class="keywordtype">void</span>* user_data)        { IM_UNUSED(user_data); IM_UNUSED(ptr); IM_ASSERT(0); }</div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"> 1341</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01342" name="l01342"></a><span class="lineno"> 1342</span><span class="keyword">static</span> ImGuiMemAllocFunc    GImAllocatorAllocFunc = MallocWrapper;</div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"> 1343</span><span class="keyword">static</span> ImGuiMemFreeFunc     GImAllocatorFreeFunc = FreeWrapper;</div>
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"> 1344</span><span class="keyword">static</span> <span class="keywordtype">void</span>*                GImAllocatorUserData = NULL;</div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span> </div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span><span class="comment">// [SECTION] USER FACING STRUCTURES (ImGuiStyle, ImGuiIO, ImGuiPlatformIO)</span></div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span> </div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span>ImGuiStyle::ImGuiStyle()</div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span>{</div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span>    Alpha                       = 1.0f;             <span class="comment">// Global alpha applies to everything in Dear ImGui.</span></div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span>    DisabledAlpha               = 0.60f;            <span class="comment">// Additional alpha multiplier applied by BeginDisabled(). Multiply over current value of Alpha.</span></div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span>    WindowPadding               = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(8,8);      <span class="comment">// Padding within a window</span></div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span>    WindowRounding              = 0.0f;             <span class="comment">// Radius of window corners rounding. Set to 0.0f to have rectangular windows. Large values tend to lead to variety of artifacts and are not recommended.</span></div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span>    WindowBorderSize            = 1.0f;             <span class="comment">// Thickness of border around windows. Generally set to 0.0f or 1.0f. Other values not well tested.</span></div>
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"> 1357</span>    WindowBorderHoverPadding    = 4.0f;             <span class="comment">// Hit-testing extent outside/inside resizing border. Also extend determination of hovered window. Generally meaningfully larger than WindowBorderSize to make it easy to reach borders.</span></div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span>    WindowMinSize               = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(32,32);    <span class="comment">// Minimum window size</span></div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span>    WindowTitleAlign            = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f,0.5f);<span class="comment">// Alignment for title bar text</span></div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span>    WindowMenuButtonPosition    = ImGuiDir_Left;    <span class="comment">// Position of the collapsing/docking button in the title bar (left/right). Defaults to ImGuiDir_Left.</span></div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span>    ChildRounding               = 0.0f;             <span class="comment">// Radius of child window corners rounding. Set to 0.0f to have rectangular child windows</span></div>
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"> 1362</span>    ChildBorderSize             = 1.0f;             <span class="comment">// Thickness of border around child windows. Generally set to 0.0f or 1.0f. Other values not well tested.</span></div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span>    PopupRounding               = 0.0f;             <span class="comment">// Radius of popup window corners rounding. Set to 0.0f to have rectangular child windows</span></div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span>    PopupBorderSize             = 1.0f;             <span class="comment">// Thickness of border around popup or tooltip windows. Generally set to 0.0f or 1.0f. Other values not well tested.</span></div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span>    FramePadding                = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(4,3);      <span class="comment">// Padding within a framed rectangle (used by most widgets)</span></div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span>    FrameRounding               = 0.0f;             <span class="comment">// Radius of frame corners rounding. Set to 0.0f to have rectangular frames (used by most widgets).</span></div>
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"> 1367</span>    FrameBorderSize             = 0.0f;             <span class="comment">// Thickness of border around frames. Generally set to 0.0f or 1.0f. Other values not well tested.</span></div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span>    ItemSpacing                 = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(8,4);      <span class="comment">// Horizontal and vertical spacing between widgets/lines</span></div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span>    ItemInnerSpacing            = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(4,4);      <span class="comment">// Horizontal and vertical spacing between within elements of a composed widget (e.g. a slider and its label)</span></div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span>    CellPadding                 = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(4,2);      <span class="comment">// Padding within a table cell. Cellpadding.x is locked for entire table. CellPadding.y may be altered between different rows.</span></div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"> 1371</span>    TouchExtraPadding           = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0,0);      <span class="comment">// Expand reactive bounding box for touch-based system where touch position is not accurate enough. Unfortunately we don&#39;t sort widgets so priority on overlap will always be given to the first widget. So don&#39;t grow this too much!</span></div>
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span>    IndentSpacing               = 21.0f;            <span class="comment">// Horizontal spacing when e.g. entering a tree node. Generally == (FontSize + FramePadding.x*2).</span></div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span>    ColumnsMinSpacing           = 6.0f;             <span class="comment">// Minimum horizontal spacing between two columns. Preferably &gt; (FramePadding.x + 1).</span></div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span>    ScrollbarSize               = 14.0f;            <span class="comment">// Width of the vertical scrollbar, Height of the horizontal scrollbar</span></div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span>    ScrollbarRounding           = 9.0f;             <span class="comment">// Radius of grab corners rounding for scrollbar</span></div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span>    GrabMinSize                 = 12.0f;            <span class="comment">// Minimum width/height of a grab box for slider/scrollbar</span></div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span>    GrabRounding                = 0.0f;             <span class="comment">// Radius of grabs corners rounding. Set to 0.0f to have rectangular slider grabs.</span></div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span>    LogSliderDeadzone           = 4.0f;             <span class="comment">// The size in pixels of the dead-zone around zero on logarithmic sliders that cross zero.</span></div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span>    ImageBorderSize             = 0.0f;             <span class="comment">// Thickness of border around tabs.</span></div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span>    TabRounding                 = 5.0f;             <span class="comment">// Radius of upper corners of a tab. Set to 0.0f to have rectangular tabs.</span></div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span>    TabBorderSize               = 0.0f;             <span class="comment">// Thickness of border around tabs.</span></div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span>    TabCloseButtonMinWidthSelected   = -1.0f;       <span class="comment">// -1: always visible. 0.0f: visible when hovered. &gt;0.0f: visible when hovered if minimum width.</span></div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span>    TabCloseButtonMinWidthUnselected = 0.0f;        <span class="comment">// -1: always visible. 0.0f: visible when hovered. &gt;0.0f: visible when hovered if minimum width. FLT_MAX: never show close button when unselected.</span></div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span>    TabBarBorderSize            = 1.0f;             <span class="comment">// Thickness of tab-bar separator, which takes on the tab active color to denote focus.</span></div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span>    TabBarOverlineSize          = 1.0f;             <span class="comment">// Thickness of tab-bar overline, which highlights the selected tab-bar.</span></div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span>    TableAngledHeadersAngle     = 35.0f * (IM_PI / 180.0f); <span class="comment">// Angle of angled headers (supported values range from -50 degrees to +50 degrees).</span></div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span>    TableAngledHeadersTextAlign = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.5f,0.0f);<span class="comment">// Alignment of angled headers within the cell</span></div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span>    ColorButtonPosition         = ImGuiDir_Right;   <span class="comment">// Side of the color button in the ColorEdit4 widget (left/right). Defaults to ImGuiDir_Right.</span></div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span>    ButtonTextAlign             = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.5f,0.5f);<span class="comment">// Alignment of button text when button is larger than text.</span></div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span>    SelectableTextAlign         = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f,0.0f);<span class="comment">// Alignment of selectable text. Defaults to (0.0f, 0.0f) (top-left aligned). It&#39;s generally important to keep this left-aligned if you want to lay multiple items on a same line.</span></div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span>    SeparatorTextBorderSize     = 3.0f;             <span class="comment">// Thickness of border in SeparatorText()</span></div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"> 1392</span>    SeparatorTextAlign          = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f,0.5f);<span class="comment">// Alignment of text within the separator. Defaults to (0.0f, 0.5f) (left aligned, center).</span></div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span>    SeparatorTextPadding        = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(20.0f,3.f);<span class="comment">// Horizontal offset of text from each edge of the separator + spacing on other axis. Generally small values. .y is recommended to be == FramePadding.y.</span></div>
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"> 1394</span>    DisplayWindowPadding        = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(19,19);    <span class="comment">// Window position are clamped to be visible within the display area or monitors by at least this amount. Only applies to regular windows.</span></div>
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"> 1395</span>    DisplaySafeAreaPadding      = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(3,3);      <span class="comment">// If you cannot see the edge of your screen (e.g. on a TV) increase the safe area padding. Covers popups/tooltips as well regular windows.</span></div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span>    DockingSeparatorSize        = 2.0f;             <span class="comment">// Thickness of resizing border between docked windows</span></div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span>    MouseCursorScale            = 1.0f;             <span class="comment">// Scale software rendered mouse cursor (when io.MouseDrawCursor is enabled). May be removed later.</span></div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span>    AntiAliasedLines            = <span class="keyword">true</span>;             <span class="comment">// Enable anti-aliased lines/borders. Disable if you are really tight on CPU/GPU.</span></div>
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"> 1399</span>    AntiAliasedLinesUseTex      = <span class="keyword">true</span>;             <span class="comment">// Enable anti-aliased lines/borders using textures where possible. Require backend to render with bilinear filtering (NOT point/nearest filtering).</span></div>
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"> 1400</span>    AntiAliasedFill             = <span class="keyword">true</span>;             <span class="comment">// Enable anti-aliased filled shapes (rounded rectangles, circles, etc.).</span></div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>    CurveTessellationTol        = 1.25f;            <span class="comment">// Tessellation tolerance when using PathBezierCurveTo() without a specific number of segments. Decrease for highly tessellated curves (higher quality, more polygons), increase to reduce quality.</span></div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>    CircleTessellationMaxError  = 0.30f;            <span class="comment">// Maximum error (in pixels) allowed when using AddCircle()/AddCircleFilled() or drawing rounded corner rectangles with no explicit segment count specified. Decrease for higher quality but more geometry.</span></div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span> </div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span>    <span class="comment">// Behaviors</span></div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span>    HoverStationaryDelay        = 0.15f;            <span class="comment">// Delay for IsItemHovered(ImGuiHoveredFlags_Stationary). Time required to consider mouse stationary.</span></div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span>    HoverDelayShort             = 0.15f;            <span class="comment">// Delay for IsItemHovered(ImGuiHoveredFlags_DelayShort). Usually used along with HoverStationaryDelay.</span></div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"> 1407</span>    HoverDelayNormal            = 0.40f;            <span class="comment">// Delay for IsItemHovered(ImGuiHoveredFlags_DelayNormal). &quot;</span></div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span>    HoverFlagsForTooltipMouse   = ImGuiHoveredFlags_Stationary | ImGuiHoveredFlags_DelayShort | ImGuiHoveredFlags_AllowWhenDisabled;    <span class="comment">// Default flags when using IsItemHovered(ImGuiHoveredFlags_ForTooltip) or BeginItemTooltip()/SetItemTooltip() while using mouse.</span></div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span>    HoverFlagsForTooltipNav     = ImGuiHoveredFlags_NoSharedDelay | ImGuiHoveredFlags_DelayNormal | ImGuiHoveredFlags_AllowWhenDisabled;  <span class="comment">// Default flags when using IsItemHovered(ImGuiHoveredFlags_ForTooltip) or BeginItemTooltip()/SetItemTooltip() while using keyboard/gamepad.</span></div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span> </div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span>    <span class="comment">// Default theme</span></div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span>    ImGui::StyleColorsDark(<span class="keyword">this</span>);</div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span>}</div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span> </div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span><span class="comment">// To scale your entire UI (e.g. if you want your app to use High DPI or generally be DPI aware) you may use this helper function. Scaling the fonts is done separately and is up to you.</span></div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span><span class="comment">// Important: This operation is lossy because we round all sizes to integer. If you need to change your scale multiples, call this over a freshly initialized ImGuiStyle structure rather than scaling multiple times.</span></div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span><span class="keywordtype">void</span> ImGuiStyle::ScaleAllSizes(<span class="keywordtype">float</span> scale_factor)</div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span>{</div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"> 1419</span>    WindowPadding = ImTrunc(WindowPadding * scale_factor);</div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span>    WindowRounding = ImTrunc(WindowRounding * scale_factor);</div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span>    WindowMinSize = ImTrunc(WindowMinSize * scale_factor);</div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span>    WindowBorderHoverPadding = ImTrunc(WindowBorderHoverPadding * scale_factor);</div>
<div class="line"><a id="l01423" name="l01423"></a><span class="lineno"> 1423</span>    ChildRounding = ImTrunc(ChildRounding * scale_factor);</div>
<div class="line"><a id="l01424" name="l01424"></a><span class="lineno"> 1424</span>    PopupRounding = ImTrunc(PopupRounding * scale_factor);</div>
<div class="line"><a id="l01425" name="l01425"></a><span class="lineno"> 1425</span>    FramePadding = ImTrunc(FramePadding * scale_factor);</div>
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"> 1426</span>    FrameRounding = ImTrunc(FrameRounding * scale_factor);</div>
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"> 1427</span>    ItemSpacing = ImTrunc(ItemSpacing * scale_factor);</div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"> 1428</span>    ItemInnerSpacing = ImTrunc(ItemInnerSpacing * scale_factor);</div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span>    CellPadding = ImTrunc(CellPadding * scale_factor);</div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"> 1430</span>    TouchExtraPadding = ImTrunc(TouchExtraPadding * scale_factor);</div>
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"> 1431</span>    IndentSpacing = ImTrunc(IndentSpacing * scale_factor);</div>
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"> 1432</span>    ColumnsMinSpacing = ImTrunc(ColumnsMinSpacing * scale_factor);</div>
<div class="line"><a id="l01433" name="l01433"></a><span class="lineno"> 1433</span>    ScrollbarSize = ImTrunc(ScrollbarSize * scale_factor);</div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span>    ScrollbarRounding = ImTrunc(ScrollbarRounding * scale_factor);</div>
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"> 1435</span>    GrabMinSize = ImTrunc(GrabMinSize * scale_factor);</div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span>    GrabRounding = ImTrunc(GrabRounding * scale_factor);</div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span>    LogSliderDeadzone = ImTrunc(LogSliderDeadzone * scale_factor);</div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span>    ImageBorderSize = ImTrunc(ImageBorderSize * scale_factor);</div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span>    TabRounding = ImTrunc(TabRounding * scale_factor);</div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span>    TabCloseButtonMinWidthSelected = (TabCloseButtonMinWidthSelected &gt; 0.0f &amp;&amp; TabCloseButtonMinWidthSelected != FLT_MAX) ? ImTrunc(TabCloseButtonMinWidthSelected * scale_factor) : TabCloseButtonMinWidthSelected;</div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span>    TabCloseButtonMinWidthUnselected = (TabCloseButtonMinWidthUnselected &gt; 0.0f &amp;&amp; TabCloseButtonMinWidthUnselected != FLT_MAX) ? ImTrunc(TabCloseButtonMinWidthUnselected * scale_factor) : TabCloseButtonMinWidthUnselected;</div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span>    TabBarOverlineSize = ImTrunc(TabBarOverlineSize * scale_factor);</div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span>    SeparatorTextPadding = ImTrunc(SeparatorTextPadding * scale_factor);</div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span>    DockingSeparatorSize = ImTrunc(DockingSeparatorSize * scale_factor);</div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span>    DisplayWindowPadding = ImTrunc(DisplayWindowPadding * scale_factor);</div>
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"> 1446</span>    DisplaySafeAreaPadding = ImTrunc(DisplaySafeAreaPadding * scale_factor);</div>
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"> 1447</span>    MouseCursorScale = ImTrunc(MouseCursorScale * scale_factor);</div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"> 1448</span>}</div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span> </div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span>ImGuiIO::ImGuiIO()</div>
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"> 1451</span>{</div>
<div class="line"><a id="l01452" name="l01452"></a><span class="lineno"> 1452</span>    <span class="comment">// Most fields are initialized with zero</span></div>
<div class="line"><a id="l01453" name="l01453"></a><span class="lineno"> 1453</span>    memset(<span class="keyword">this</span>, 0, <span class="keyword">sizeof</span>(*<span class="keyword">this</span>));</div>
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"> 1454</span>    IM_STATIC_ASSERT(IM_ARRAYSIZE(ImGuiIO::MouseDown) == ImGuiMouseButton_COUNT &amp;&amp; IM_ARRAYSIZE(ImGuiIO::MouseClicked) == ImGuiMouseButton_COUNT);</div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span> </div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"> 1456</span>    <span class="comment">// Settings</span></div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span>    ConfigFlags = ImGuiConfigFlags_None;</div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span>    BackendFlags = ImGuiBackendFlags_None;</div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span>    DisplaySize = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(-1.0f, -1.0f);</div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span>    DeltaTime = 1.0f / 60.0f;</div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span>    IniSavingRate = 5.0f;</div>
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"> 1462</span>    IniFilename = <span class="stringliteral">&quot;imgui.ini&quot;</span>; <span class="comment">// Important: &quot;imgui.ini&quot; is relative to current working dir, most apps will want to lock this to an absolute path (e.g. same path as executables).</span></div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"> 1463</span>    LogFilename = <span class="stringliteral">&quot;imgui_log.txt&quot;</span>;</div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span>    UserData = NULL;</div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span> </div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span>    Fonts = NULL;</div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"> 1467</span>    FontGlobalScale = 1.0f;</div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span>    FontDefault = NULL;</div>
<div class="line"><a id="l01469" name="l01469"></a><span class="lineno"> 1469</span>    FontAllowUserScaling = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01470" name="l01470"></a><span class="lineno"> 1470</span>    DisplayFramebufferScale = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(1.0f, 1.0f);</div>
<div class="line"><a id="l01471" name="l01471"></a><span class="lineno"> 1471</span> </div>
<div class="line"><a id="l01472" name="l01472"></a><span class="lineno"> 1472</span>    <span class="comment">// Keyboard/Gamepad Navigation options</span></div>
<div class="line"><a id="l01473" name="l01473"></a><span class="lineno"> 1473</span>    ConfigNavSwapGamepadButtons = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01474" name="l01474"></a><span class="lineno"> 1474</span>    ConfigNavMoveSetMousePos = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01475" name="l01475"></a><span class="lineno"> 1475</span>    ConfigNavCaptureKeyboard = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"> 1476</span>    ConfigNavEscapeClearFocusItem = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"> 1477</span>    ConfigNavEscapeClearFocusWindow = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"> 1478</span>    ConfigNavCursorVisibleAuto = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"> 1479</span>    ConfigNavCursorVisibleAlways = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span> </div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span>    <span class="comment">// Docking options (when ImGuiConfigFlags_DockingEnable is set)</span></div>
<div class="line"><a id="l01482" name="l01482"></a><span class="lineno"> 1482</span>    ConfigDockingNoSplit = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01483" name="l01483"></a><span class="lineno"> 1483</span>    ConfigDockingWithShift = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01484" name="l01484"></a><span class="lineno"> 1484</span>    ConfigDockingAlwaysTabBar = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01485" name="l01485"></a><span class="lineno"> 1485</span>    ConfigDockingTransparentPayload = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01486" name="l01486"></a><span class="lineno"> 1486</span> </div>
<div class="line"><a id="l01487" name="l01487"></a><span class="lineno"> 1487</span>    <span class="comment">// Viewport options (when ImGuiConfigFlags_ViewportsEnable is set)</span></div>
<div class="line"><a id="l01488" name="l01488"></a><span class="lineno"> 1488</span>    ConfigViewportsNoAutoMerge = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01489" name="l01489"></a><span class="lineno"> 1489</span>    ConfigViewportsNoTaskBarIcon = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01490" name="l01490"></a><span class="lineno"> 1490</span>    ConfigViewportsNoDecoration = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01491" name="l01491"></a><span class="lineno"> 1491</span>    ConfigViewportsNoDefaultParent = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01492" name="l01492"></a><span class="lineno"> 1492</span> </div>
<div class="line"><a id="l01493" name="l01493"></a><span class="lineno"> 1493</span>    <span class="comment">// Miscellaneous options</span></div>
<div class="line"><a id="l01494" name="l01494"></a><span class="lineno"> 1494</span>    MouseDrawCursor = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01495" name="l01495"></a><span class="lineno"> 1495</span><span class="preprocessor">#ifdef __APPLE__</span></div>
<div class="line"><a id="l01496" name="l01496"></a><span class="lineno"> 1496</span>    ConfigMacOSXBehaviors = <span class="keyword">true</span>;  <span class="comment">// Set Mac OS X style defaults based on __APPLE__ compile time flag</span></div>
<div class="line"><a id="l01497" name="l01497"></a><span class="lineno"> 1497</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l01498" name="l01498"></a><span class="lineno"> 1498</span>    ConfigMacOSXBehaviors = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01499" name="l01499"></a><span class="lineno"> 1499</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01500" name="l01500"></a><span class="lineno"> 1500</span>    ConfigInputTrickleEventQueue = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01501" name="l01501"></a><span class="lineno"> 1501</span>    ConfigInputTextCursorBlink = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01502" name="l01502"></a><span class="lineno"> 1502</span>    ConfigInputTextEnterKeepActive = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01503" name="l01503"></a><span class="lineno"> 1503</span>    ConfigDragClickToInputText = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01504" name="l01504"></a><span class="lineno"> 1504</span>    ConfigWindowsResizeFromEdges = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01505" name="l01505"></a><span class="lineno"> 1505</span>    ConfigWindowsMoveFromTitleBarOnly = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01506" name="l01506"></a><span class="lineno"> 1506</span>    ConfigWindowsCopyContentsWithCtrlC = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01507" name="l01507"></a><span class="lineno"> 1507</span>    ConfigScrollbarScrollByPage = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01508" name="l01508"></a><span class="lineno"> 1508</span>    ConfigMemoryCompactTimer = 60.0f;</div>
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"> 1509</span>    ConfigDebugIsDebuggerPresent = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"> 1510</span>    ConfigDebugHighlightIdConflicts = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"> 1511</span>    ConfigDebugHighlightIdConflictsShowItemPicker = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"> 1512</span>    ConfigDebugBeginReturnValueOnce = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"> 1513</span>    ConfigDebugBeginReturnValueLoop = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span> </div>
<div class="line"><a id="l01515" name="l01515"></a><span class="lineno"> 1515</span>    ConfigErrorRecovery = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01516" name="l01516"></a><span class="lineno"> 1516</span>    ConfigErrorRecoveryEnableAssert = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01517" name="l01517"></a><span class="lineno"> 1517</span>    ConfigErrorRecoveryEnableDebugLog = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"> 1518</span>    ConfigErrorRecoveryEnableTooltip = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"> 1519</span> </div>
<div class="line"><a id="l01520" name="l01520"></a><span class="lineno"> 1520</span>    <span class="comment">// Inputs Behaviors</span></div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"> 1521</span>    MouseDoubleClickTime = 0.30f;</div>
<div class="line"><a id="l01522" name="l01522"></a><span class="lineno"> 1522</span>    MouseDoubleClickMaxDist = 6.0f;</div>
<div class="line"><a id="l01523" name="l01523"></a><span class="lineno"> 1523</span>    MouseDragThreshold = 6.0f;</div>
<div class="line"><a id="l01524" name="l01524"></a><span class="lineno"> 1524</span>    KeyRepeatDelay = 0.275f;</div>
<div class="line"><a id="l01525" name="l01525"></a><span class="lineno"> 1525</span>    KeyRepeatRate = 0.050f;</div>
<div class="line"><a id="l01526" name="l01526"></a><span class="lineno"> 1526</span> </div>
<div class="line"><a id="l01527" name="l01527"></a><span class="lineno"> 1527</span>    <span class="comment">// Platform Functions</span></div>
<div class="line"><a id="l01528" name="l01528"></a><span class="lineno"> 1528</span>    <span class="comment">// Note: Initialize() will setup default clipboard/ime handlers.</span></div>
<div class="line"><a id="l01529" name="l01529"></a><span class="lineno"> 1529</span>    BackendPlatformName = BackendRendererName = NULL;</div>
<div class="line"><a id="l01530" name="l01530"></a><span class="lineno"> 1530</span>    BackendPlatformUserData = BackendRendererUserData = BackendLanguageUserData = NULL;</div>
<div class="line"><a id="l01531" name="l01531"></a><span class="lineno"> 1531</span> </div>
<div class="line"><a id="l01532" name="l01532"></a><span class="lineno"> 1532</span>    <span class="comment">// Input (NB: we already have memset zero the entire structure!)</span></div>
<div class="line"><a id="l01533" name="l01533"></a><span class="lineno"> 1533</span>    MousePos = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(-FLT_MAX, -FLT_MAX);</div>
<div class="line"><a id="l01534" name="l01534"></a><span class="lineno"> 1534</span>    MousePosPrev = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(-FLT_MAX, -FLT_MAX);</div>
<div class="line"><a id="l01535" name="l01535"></a><span class="lineno"> 1535</span>    MouseSource = ImGuiMouseSource_Mouse;</div>
<div class="line"><a id="l01536" name="l01536"></a><span class="lineno"> 1536</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; IM_ARRAYSIZE(MouseDownDuration); i++) MouseDownDuration[i] = MouseDownDurationPrev[i] = -1.0f;</div>
<div class="line"><a id="l01537" name="l01537"></a><span class="lineno"> 1537</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; IM_ARRAYSIZE(KeysData); i++) { KeysData[i].DownDuration = KeysData[i].DownDurationPrev = -1.0f; }</div>
<div class="line"><a id="l01538" name="l01538"></a><span class="lineno"> 1538</span>    AppAcceptingEvents = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01539" name="l01539"></a><span class="lineno"> 1539</span>}</div>
<div class="line"><a id="l01540" name="l01540"></a><span class="lineno"> 1540</span> </div>
<div class="line"><a id="l01541" name="l01541"></a><span class="lineno"> 1541</span><span class="comment">// Pass in translated ASCII characters for text input.</span></div>
<div class="line"><a id="l01542" name="l01542"></a><span class="lineno"> 1542</span><span class="comment">// - with glfw you can get those from the callback set in glfwSetCharCallback()</span></div>
<div class="line"><a id="l01543" name="l01543"></a><span class="lineno"> 1543</span><span class="comment">// - on Windows you can get those using ToAscii+keyboard state, or via the WM_CHAR message</span></div>
<div class="line"><a id="l01544" name="l01544"></a><span class="lineno"> 1544</span><span class="comment">// FIXME: Should in theory be called &quot;AddCharacterEvent()&quot; to be consistent with new API</span></div>
<div class="line"><a id="l01545" name="l01545"></a><span class="lineno"> 1545</span><span class="keywordtype">void</span> ImGuiIO::AddInputCharacter(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> c)</div>
<div class="line"><a id="l01546" name="l01546"></a><span class="lineno"> 1546</span>{</div>
<div class="line"><a id="l01547" name="l01547"></a><span class="lineno"> 1547</span>    IM_ASSERT(Ctx != NULL);</div>
<div class="line"><a id="l01548" name="l01548"></a><span class="lineno"> 1548</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *Ctx;</div>
<div class="line"><a id="l01549" name="l01549"></a><span class="lineno"> 1549</span>    <span class="keywordflow">if</span> (c == 0 || !AppAcceptingEvents)</div>
<div class="line"><a id="l01550" name="l01550"></a><span class="lineno"> 1550</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01551" name="l01551"></a><span class="lineno"> 1551</span> </div>
<div class="line"><a id="l01552" name="l01552"></a><span class="lineno"> 1552</span>    <a class="code hl_struct" href="structImGuiInputEvent.html">ImGuiInputEvent</a> e;</div>
<div class="line"><a id="l01553" name="l01553"></a><span class="lineno"> 1553</span>    e.Type = ImGuiInputEventType_Text;</div>
<div class="line"><a id="l01554" name="l01554"></a><span class="lineno"> 1554</span>    e.Source = ImGuiInputSource_Keyboard;</div>
<div class="line"><a id="l01555" name="l01555"></a><span class="lineno"> 1555</span>    e.EventId = g.InputEventsNextEventId++;</div>
<div class="line"><a id="l01556" name="l01556"></a><span class="lineno"> 1556</span>    e.Text.Char = c;</div>
<div class="line"><a id="l01557" name="l01557"></a><span class="lineno"> 1557</span>    g.InputEventsQueue.push_back(e);</div>
<div class="line"><a id="l01558" name="l01558"></a><span class="lineno"> 1558</span>}</div>
<div class="line"><a id="l01559" name="l01559"></a><span class="lineno"> 1559</span> </div>
<div class="line"><a id="l01560" name="l01560"></a><span class="lineno"> 1560</span><span class="comment">// UTF16 strings use surrogate pairs to encode codepoints &gt;= 0x10000, so</span></div>
<div class="line"><a id="l01561" name="l01561"></a><span class="lineno"> 1561</span><span class="comment">// we should save the high surrogate.</span></div>
<div class="line"><a id="l01562" name="l01562"></a><span class="lineno"> 1562</span><span class="keywordtype">void</span> ImGuiIO::AddInputCharacterUTF16(ImWchar16 c)</div>
<div class="line"><a id="l01563" name="l01563"></a><span class="lineno"> 1563</span>{</div>
<div class="line"><a id="l01564" name="l01564"></a><span class="lineno"> 1564</span>    <span class="keywordflow">if</span> ((c == 0 &amp;&amp; InputQueueSurrogate == 0) || !AppAcceptingEvents)</div>
<div class="line"><a id="l01565" name="l01565"></a><span class="lineno"> 1565</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01566" name="l01566"></a><span class="lineno"> 1566</span> </div>
<div class="line"><a id="l01567" name="l01567"></a><span class="lineno"> 1567</span>    <span class="keywordflow">if</span> ((c &amp; 0xFC00) == 0xD800) <span class="comment">// High surrogate, must save</span></div>
<div class="line"><a id="l01568" name="l01568"></a><span class="lineno"> 1568</span>    {</div>
<div class="line"><a id="l01569" name="l01569"></a><span class="lineno"> 1569</span>        <span class="keywordflow">if</span> (InputQueueSurrogate != 0)</div>
<div class="line"><a id="l01570" name="l01570"></a><span class="lineno"> 1570</span>            AddInputCharacter(IM_UNICODE_CODEPOINT_INVALID);</div>
<div class="line"><a id="l01571" name="l01571"></a><span class="lineno"> 1571</span>        InputQueueSurrogate = c;</div>
<div class="line"><a id="l01572" name="l01572"></a><span class="lineno"> 1572</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01573" name="l01573"></a><span class="lineno"> 1573</span>    }</div>
<div class="line"><a id="l01574" name="l01574"></a><span class="lineno"> 1574</span> </div>
<div class="line"><a id="l01575" name="l01575"></a><span class="lineno"> 1575</span>    ImWchar cp = c;</div>
<div class="line"><a id="l01576" name="l01576"></a><span class="lineno"> 1576</span>    <span class="keywordflow">if</span> (InputQueueSurrogate != 0)</div>
<div class="line"><a id="l01577" name="l01577"></a><span class="lineno"> 1577</span>    {</div>
<div class="line"><a id="l01578" name="l01578"></a><span class="lineno"> 1578</span>        <span class="keywordflow">if</span> ((c &amp; 0xFC00) != 0xDC00) <span class="comment">// Invalid low surrogate</span></div>
<div class="line"><a id="l01579" name="l01579"></a><span class="lineno"> 1579</span>        {</div>
<div class="line"><a id="l01580" name="l01580"></a><span class="lineno"> 1580</span>            AddInputCharacter(IM_UNICODE_CODEPOINT_INVALID);</div>
<div class="line"><a id="l01581" name="l01581"></a><span class="lineno"> 1581</span>        }</div>
<div class="line"><a id="l01582" name="l01582"></a><span class="lineno"> 1582</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01583" name="l01583"></a><span class="lineno"> 1583</span>        {</div>
<div class="line"><a id="l01584" name="l01584"></a><span class="lineno"> 1584</span><span class="preprocessor">#if IM_UNICODE_CODEPOINT_MAX == 0xFFFF</span></div>
<div class="line"><a id="l01585" name="l01585"></a><span class="lineno"> 1585</span>            cp = IM_UNICODE_CODEPOINT_INVALID; <span class="comment">// Codepoint will not fit in ImWchar</span></div>
<div class="line"><a id="l01586" name="l01586"></a><span class="lineno"> 1586</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l01587" name="l01587"></a><span class="lineno"> 1587</span>            cp = (ImWchar)(((InputQueueSurrogate - 0xD800) &lt;&lt; 10) + (c - 0xDC00) + 0x10000);</div>
<div class="line"><a id="l01588" name="l01588"></a><span class="lineno"> 1588</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01589" name="l01589"></a><span class="lineno"> 1589</span>        }</div>
<div class="line"><a id="l01590" name="l01590"></a><span class="lineno"> 1590</span> </div>
<div class="line"><a id="l01591" name="l01591"></a><span class="lineno"> 1591</span>        InputQueueSurrogate = 0;</div>
<div class="line"><a id="l01592" name="l01592"></a><span class="lineno"> 1592</span>    }</div>
<div class="line"><a id="l01593" name="l01593"></a><span class="lineno"> 1593</span>    AddInputCharacter((<span class="keywordtype">unsigned</span>)cp);</div>
<div class="line"><a id="l01594" name="l01594"></a><span class="lineno"> 1594</span>}</div>
<div class="line"><a id="l01595" name="l01595"></a><span class="lineno"> 1595</span> </div>
<div class="line"><a id="l01596" name="l01596"></a><span class="lineno"> 1596</span><span class="keywordtype">void</span> ImGuiIO::AddInputCharactersUTF8(<span class="keyword">const</span> <span class="keywordtype">char</span>* utf8_chars)</div>
<div class="line"><a id="l01597" name="l01597"></a><span class="lineno"> 1597</span>{</div>
<div class="line"><a id="l01598" name="l01598"></a><span class="lineno"> 1598</span>    <span class="keywordflow">if</span> (!AppAcceptingEvents)</div>
<div class="line"><a id="l01599" name="l01599"></a><span class="lineno"> 1599</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01600" name="l01600"></a><span class="lineno"> 1600</span>    <span class="keywordflow">while</span> (*utf8_chars != 0)</div>
<div class="line"><a id="l01601" name="l01601"></a><span class="lineno"> 1601</span>    {</div>
<div class="line"><a id="l01602" name="l01602"></a><span class="lineno"> 1602</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> c = 0;</div>
<div class="line"><a id="l01603" name="l01603"></a><span class="lineno"> 1603</span>        utf8_chars += ImTextCharFromUtf8(&amp;c, utf8_chars, NULL);</div>
<div class="line"><a id="l01604" name="l01604"></a><span class="lineno"> 1604</span>        AddInputCharacter(c);</div>
<div class="line"><a id="l01605" name="l01605"></a><span class="lineno"> 1605</span>    }</div>
<div class="line"><a id="l01606" name="l01606"></a><span class="lineno"> 1606</span>}</div>
<div class="line"><a id="l01607" name="l01607"></a><span class="lineno"> 1607</span> </div>
<div class="line"><a id="l01608" name="l01608"></a><span class="lineno"> 1608</span><span class="comment">// Clear all incoming events.</span></div>
<div class="line"><a id="l01609" name="l01609"></a><span class="lineno"> 1609</span><span class="keywordtype">void</span> ImGuiIO::ClearEventsQueue()</div>
<div class="line"><a id="l01610" name="l01610"></a><span class="lineno"> 1610</span>{</div>
<div class="line"><a id="l01611" name="l01611"></a><span class="lineno"> 1611</span>    IM_ASSERT(Ctx != NULL);</div>
<div class="line"><a id="l01612" name="l01612"></a><span class="lineno"> 1612</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *Ctx;</div>
<div class="line"><a id="l01613" name="l01613"></a><span class="lineno"> 1613</span>    g.InputEventsQueue.clear();</div>
<div class="line"><a id="l01614" name="l01614"></a><span class="lineno"> 1614</span>}</div>
<div class="line"><a id="l01615" name="l01615"></a><span class="lineno"> 1615</span> </div>
<div class="line"><a id="l01616" name="l01616"></a><span class="lineno"> 1616</span><span class="comment">// Clear current keyboard/gamepad state + current frame text input buffer. Equivalent to releasing all keys/buttons.</span></div>
<div class="line"><a id="l01617" name="l01617"></a><span class="lineno"> 1617</span><span class="keywordtype">void</span> ImGuiIO::ClearInputKeys()</div>
<div class="line"><a id="l01618" name="l01618"></a><span class="lineno"> 1618</span>{</div>
<div class="line"><a id="l01619" name="l01619"></a><span class="lineno"> 1619</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *Ctx;</div>
<div class="line"><a id="l01620" name="l01620"></a><span class="lineno"> 1620</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> key = ImGuiKey_NamedKey_BEGIN; key &lt; ImGuiKey_NamedKey_END; key++)</div>
<div class="line"><a id="l01621" name="l01621"></a><span class="lineno"> 1621</span>    {</div>
<div class="line"><a id="l01622" name="l01622"></a><span class="lineno"> 1622</span>        <span class="keywordflow">if</span> (ImGui::IsMouseKey((ImGuiKey)key))</div>
<div class="line"><a id="l01623" name="l01623"></a><span class="lineno"> 1623</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01624" name="l01624"></a><span class="lineno"> 1624</span>        <a class="code hl_struct" href="structImGuiKeyData.html">ImGuiKeyData</a>* key_data = &amp;g.IO.KeysData[key - ImGuiKey_NamedKey_BEGIN];</div>
<div class="line"><a id="l01625" name="l01625"></a><span class="lineno"> 1625</span>        key_data-&gt;Down = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01626" name="l01626"></a><span class="lineno"> 1626</span>        key_data-&gt;DownDuration = -1.0f;</div>
<div class="line"><a id="l01627" name="l01627"></a><span class="lineno"> 1627</span>        key_data-&gt;DownDurationPrev = -1.0f;</div>
<div class="line"><a id="l01628" name="l01628"></a><span class="lineno"> 1628</span>    }</div>
<div class="line"><a id="l01629" name="l01629"></a><span class="lineno"> 1629</span>    KeyCtrl = KeyShift = KeyAlt = KeySuper = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01630" name="l01630"></a><span class="lineno"> 1630</span>    KeyMods = ImGuiMod_None;</div>
<div class="line"><a id="l01631" name="l01631"></a><span class="lineno"> 1631</span>    InputQueueCharacters.resize(0); <span class="comment">// Behavior of old ClearInputCharacters().</span></div>
<div class="line"><a id="l01632" name="l01632"></a><span class="lineno"> 1632</span>}</div>
<div class="line"><a id="l01633" name="l01633"></a><span class="lineno"> 1633</span> </div>
<div class="line"><a id="l01634" name="l01634"></a><span class="lineno"> 1634</span><span class="keywordtype">void</span> ImGuiIO::ClearInputMouse()</div>
<div class="line"><a id="l01635" name="l01635"></a><span class="lineno"> 1635</span>{</div>
<div class="line"><a id="l01636" name="l01636"></a><span class="lineno"> 1636</span>    <span class="keywordflow">for</span> (ImGuiKey key = ImGuiKey_Mouse_BEGIN; key &lt; ImGuiKey_Mouse_END; key = (ImGuiKey)(key + 1))</div>
<div class="line"><a id="l01637" name="l01637"></a><span class="lineno"> 1637</span>    {</div>
<div class="line"><a id="l01638" name="l01638"></a><span class="lineno"> 1638</span>        <a class="code hl_struct" href="structImGuiKeyData.html">ImGuiKeyData</a>* key_data = &amp;KeysData[key - ImGuiKey_NamedKey_BEGIN];</div>
<div class="line"><a id="l01639" name="l01639"></a><span class="lineno"> 1639</span>        key_data-&gt;Down = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01640" name="l01640"></a><span class="lineno"> 1640</span>        key_data-&gt;DownDuration = -1.0f;</div>
<div class="line"><a id="l01641" name="l01641"></a><span class="lineno"> 1641</span>        key_data-&gt;DownDurationPrev = -1.0f;</div>
<div class="line"><a id="l01642" name="l01642"></a><span class="lineno"> 1642</span>    }</div>
<div class="line"><a id="l01643" name="l01643"></a><span class="lineno"> 1643</span>    MousePos = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(-FLT_MAX, -FLT_MAX);</div>
<div class="line"><a id="l01644" name="l01644"></a><span class="lineno"> 1644</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; IM_ARRAYSIZE(MouseDown); n++)</div>
<div class="line"><a id="l01645" name="l01645"></a><span class="lineno"> 1645</span>    {</div>
<div class="line"><a id="l01646" name="l01646"></a><span class="lineno"> 1646</span>        MouseDown[n] = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01647" name="l01647"></a><span class="lineno"> 1647</span>        MouseDownDuration[n] = MouseDownDurationPrev[n] = -1.0f;</div>
<div class="line"><a id="l01648" name="l01648"></a><span class="lineno"> 1648</span>    }</div>
<div class="line"><a id="l01649" name="l01649"></a><span class="lineno"> 1649</span>    MouseWheel = MouseWheelH = 0.0f;</div>
<div class="line"><a id="l01650" name="l01650"></a><span class="lineno"> 1650</span>}</div>
<div class="line"><a id="l01651" name="l01651"></a><span class="lineno"> 1651</span> </div>
<div class="line"><a id="l01652" name="l01652"></a><span class="lineno"> 1652</span><span class="comment">// Removed this as it is ambiguous/misleading and generally incorrect to use with the existence of a higher-level input queue.</span></div>
<div class="line"><a id="l01653" name="l01653"></a><span class="lineno"> 1653</span><span class="comment">// Current frame character buffer is now also cleared by ClearInputKeys().</span></div>
<div class="line"><a id="l01654" name="l01654"></a><span class="lineno"> 1654</span><span class="preprocessor">#ifndef IMGUI_DISABLE_OBSOLETE_FUNCTIONS</span></div>
<div class="line"><a id="l01655" name="l01655"></a><span class="lineno"> 1655</span><span class="keywordtype">void</span> ImGuiIO::ClearInputCharacters()</div>
<div class="line"><a id="l01656" name="l01656"></a><span class="lineno"> 1656</span>{</div>
<div class="line"><a id="l01657" name="l01657"></a><span class="lineno"> 1657</span>    InputQueueCharacters.resize(0);</div>
<div class="line"><a id="l01658" name="l01658"></a><span class="lineno"> 1658</span>}</div>
<div class="line"><a id="l01659" name="l01659"></a><span class="lineno"> 1659</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01660" name="l01660"></a><span class="lineno"> 1660</span> </div>
<div class="line"><a id="l01661" name="l01661"></a><span class="lineno"> 1661</span><span class="keyword">static</span> <a class="code hl_struct" href="structImGuiInputEvent.html">ImGuiInputEvent</a>* FindLatestInputEvent(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, ImGuiInputEventType type, <span class="keywordtype">int</span> arg = -1)</div>
<div class="line"><a id="l01662" name="l01662"></a><span class="lineno"> 1662</span>{</div>
<div class="line"><a id="l01663" name="l01663"></a><span class="lineno"> 1663</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *ctx;</div>
<div class="line"><a id="l01664" name="l01664"></a><span class="lineno"> 1664</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = g.InputEventsQueue.Size - 1; n &gt;= 0; n--)</div>
<div class="line"><a id="l01665" name="l01665"></a><span class="lineno"> 1665</span>    {</div>
<div class="line"><a id="l01666" name="l01666"></a><span class="lineno"> 1666</span>        <a class="code hl_struct" href="structImGuiInputEvent.html">ImGuiInputEvent</a>* e = &amp;g.InputEventsQueue[n];</div>
<div class="line"><a id="l01667" name="l01667"></a><span class="lineno"> 1667</span>        <span class="keywordflow">if</span> (e-&gt;Type != type)</div>
<div class="line"><a id="l01668" name="l01668"></a><span class="lineno"> 1668</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01669" name="l01669"></a><span class="lineno"> 1669</span>        <span class="keywordflow">if</span> (type == ImGuiInputEventType_Key &amp;&amp; e-&gt;Key.Key != arg)</div>
<div class="line"><a id="l01670" name="l01670"></a><span class="lineno"> 1670</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01671" name="l01671"></a><span class="lineno"> 1671</span>        <span class="keywordflow">if</span> (type == ImGuiInputEventType_MouseButton &amp;&amp; e-&gt;MouseButton.Button != arg)</div>
<div class="line"><a id="l01672" name="l01672"></a><span class="lineno"> 1672</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01673" name="l01673"></a><span class="lineno"> 1673</span>        <span class="keywordflow">return</span> e;</div>
<div class="line"><a id="l01674" name="l01674"></a><span class="lineno"> 1674</span>    }</div>
<div class="line"><a id="l01675" name="l01675"></a><span class="lineno"> 1675</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l01676" name="l01676"></a><span class="lineno"> 1676</span>}</div>
<div class="line"><a id="l01677" name="l01677"></a><span class="lineno"> 1677</span> </div>
<div class="line"><a id="l01678" name="l01678"></a><span class="lineno"> 1678</span><span class="comment">// Queue a new key down/up event.</span></div>
<div class="line"><a id="l01679" name="l01679"></a><span class="lineno"> 1679</span><span class="comment">// - ImGuiKey key:       Translated key (as in, generally ImGuiKey_A matches the key end-user would use to emit an &#39;A&#39; character)</span></div>
<div class="line"><a id="l01680" name="l01680"></a><span class="lineno"> 1680</span><span class="comment">// - bool down:          Is the key down? use false to signify a key release.</span></div>
<div class="line"><a id="l01681" name="l01681"></a><span class="lineno"> 1681</span><span class="comment">// - float analog_value: 0.0f..1.0f</span></div>
<div class="line"><a id="l01682" name="l01682"></a><span class="lineno"> 1682</span><span class="comment">// IMPORTANT: THIS FUNCTION AND OTHER &quot;ADD&quot; GRABS THE CONTEXT FROM OUR INSTANCE.</span></div>
<div class="line"><a id="l01683" name="l01683"></a><span class="lineno"> 1683</span><span class="comment">// WE NEED TO ENSURE THAT ALL FUNCTION CALLS ARE FULFILLING THIS, WHICH IS WHY GetKeyData() HAS AN EXPLICIT CONTEXT.</span></div>
<div class="line"><a id="l01684" name="l01684"></a><span class="lineno"> 1684</span><span class="keywordtype">void</span> ImGuiIO::AddKeyAnalogEvent(ImGuiKey key, <span class="keywordtype">bool</span> down, <span class="keywordtype">float</span> analog_value)</div>
<div class="line"><a id="l01685" name="l01685"></a><span class="lineno"> 1685</span>{</div>
<div class="line"><a id="l01686" name="l01686"></a><span class="lineno"> 1686</span>    <span class="comment">//if (e-&gt;Down) { IMGUI_DEBUG_LOG_IO(&quot;AddKeyEvent() Key=&#39;%s&#39; %d, NativeKeycode = %d, NativeScancode = %d\n&quot;, ImGui::GetKeyName(e-&gt;Key), e-&gt;Down, e-&gt;NativeKeycode, e-&gt;NativeScancode); }</span></div>
<div class="line"><a id="l01687" name="l01687"></a><span class="lineno"> 1687</span>    IM_ASSERT(Ctx != NULL);</div>
<div class="line"><a id="l01688" name="l01688"></a><span class="lineno"> 1688</span>    <span class="keywordflow">if</span> (key == ImGuiKey_None || !AppAcceptingEvents)</div>
<div class="line"><a id="l01689" name="l01689"></a><span class="lineno"> 1689</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01690" name="l01690"></a><span class="lineno"> 1690</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *Ctx;</div>
<div class="line"><a id="l01691" name="l01691"></a><span class="lineno"> 1691</span>    IM_ASSERT(ImGui::IsNamedKeyOrMod(key)); <span class="comment">// Backend needs to pass a valid ImGuiKey_ constant. 0..511 values are legacy native key codes which are not accepted by this API.</span></div>
<div class="line"><a id="l01692" name="l01692"></a><span class="lineno"> 1692</span>    IM_ASSERT(ImGui::IsAliasKey(key) == <span class="keyword">false</span>); <span class="comment">// Backend cannot submit ImGuiKey_MouseXXX values they are automatically inferred from AddMouseXXX() events.</span></div>
<div class="line"><a id="l01693" name="l01693"></a><span class="lineno"> 1693</span> </div>
<div class="line"><a id="l01694" name="l01694"></a><span class="lineno"> 1694</span>    <span class="comment">// MacOS: swap Cmd(Super) and Ctrl</span></div>
<div class="line"><a id="l01695" name="l01695"></a><span class="lineno"> 1695</span>    <span class="keywordflow">if</span> (g.IO.ConfigMacOSXBehaviors)</div>
<div class="line"><a id="l01696" name="l01696"></a><span class="lineno"> 1696</span>    {</div>
<div class="line"><a id="l01697" name="l01697"></a><span class="lineno"> 1697</span>        <span class="keywordflow">if</span> (key == ImGuiMod_Super)          { key = ImGuiMod_Ctrl; }</div>
<div class="line"><a id="l01698" name="l01698"></a><span class="lineno"> 1698</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (key == ImGuiMod_Ctrl)      { key = ImGuiMod_Super; }</div>
<div class="line"><a id="l01699" name="l01699"></a><span class="lineno"> 1699</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (key == ImGuiKey_LeftSuper) { key = ImGuiKey_LeftCtrl; }</div>
<div class="line"><a id="l01700" name="l01700"></a><span class="lineno"> 1700</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (key == ImGuiKey_RightSuper){ key = ImGuiKey_RightCtrl; }</div>
<div class="line"><a id="l01701" name="l01701"></a><span class="lineno"> 1701</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (key == ImGuiKey_LeftCtrl)  { key = ImGuiKey_LeftSuper; }</div>
<div class="line"><a id="l01702" name="l01702"></a><span class="lineno"> 1702</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (key == ImGuiKey_RightCtrl) { key = ImGuiKey_RightSuper; }</div>
<div class="line"><a id="l01703" name="l01703"></a><span class="lineno"> 1703</span>    }</div>
<div class="line"><a id="l01704" name="l01704"></a><span class="lineno"> 1704</span> </div>
<div class="line"><a id="l01705" name="l01705"></a><span class="lineno"> 1705</span>    <span class="comment">// Filter duplicate (in particular: key mods and gamepad analog values are commonly spammed)</span></div>
<div class="line"><a id="l01706" name="l01706"></a><span class="lineno"> 1706</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiInputEvent.html">ImGuiInputEvent</a>* latest_event = FindLatestInputEvent(&amp;g, ImGuiInputEventType_Key, (<span class="keywordtype">int</span>)key);</div>
<div class="line"><a id="l01707" name="l01707"></a><span class="lineno"> 1707</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiKeyData.html">ImGuiKeyData</a>* key_data = ImGui::GetKeyData(&amp;g, key);</div>
<div class="line"><a id="l01708" name="l01708"></a><span class="lineno"> 1708</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> latest_key_down = latest_event ? latest_event-&gt;Key.Down : key_data-&gt;Down;</div>
<div class="line"><a id="l01709" name="l01709"></a><span class="lineno"> 1709</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> latest_key_analog = latest_event ? latest_event-&gt;Key.AnalogValue : key_data-&gt;AnalogValue;</div>
<div class="line"><a id="l01710" name="l01710"></a><span class="lineno"> 1710</span>    <span class="keywordflow">if</span> (latest_key_down == down &amp;&amp; latest_key_analog == analog_value)</div>
<div class="line"><a id="l01711" name="l01711"></a><span class="lineno"> 1711</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01712" name="l01712"></a><span class="lineno"> 1712</span> </div>
<div class="line"><a id="l01713" name="l01713"></a><span class="lineno"> 1713</span>    <span class="comment">// Add event</span></div>
<div class="line"><a id="l01714" name="l01714"></a><span class="lineno"> 1714</span>    <a class="code hl_struct" href="structImGuiInputEvent.html">ImGuiInputEvent</a> e;</div>
<div class="line"><a id="l01715" name="l01715"></a><span class="lineno"> 1715</span>    e.Type = ImGuiInputEventType_Key;</div>
<div class="line"><a id="l01716" name="l01716"></a><span class="lineno"> 1716</span>    e.Source = ImGui::IsGamepadKey(key) ? ImGuiInputSource_Gamepad : ImGuiInputSource_Keyboard;</div>
<div class="line"><a id="l01717" name="l01717"></a><span class="lineno"> 1717</span>    e.EventId = g.InputEventsNextEventId++;</div>
<div class="line"><a id="l01718" name="l01718"></a><span class="lineno"> 1718</span>    e.Key.Key = key;</div>
<div class="line"><a id="l01719" name="l01719"></a><span class="lineno"> 1719</span>    e.Key.Down = down;</div>
<div class="line"><a id="l01720" name="l01720"></a><span class="lineno"> 1720</span>    e.Key.AnalogValue = analog_value;</div>
<div class="line"><a id="l01721" name="l01721"></a><span class="lineno"> 1721</span>    g.InputEventsQueue.push_back(e);</div>
<div class="line"><a id="l01722" name="l01722"></a><span class="lineno"> 1722</span>}</div>
<div class="line"><a id="l01723" name="l01723"></a><span class="lineno"> 1723</span> </div>
<div class="line"><a id="l01724" name="l01724"></a><span class="lineno"> 1724</span><span class="keywordtype">void</span> ImGuiIO::AddKeyEvent(ImGuiKey key, <span class="keywordtype">bool</span> down)</div>
<div class="line"><a id="l01725" name="l01725"></a><span class="lineno"> 1725</span>{</div>
<div class="line"><a id="l01726" name="l01726"></a><span class="lineno"> 1726</span>    <span class="keywordflow">if</span> (!AppAcceptingEvents)</div>
<div class="line"><a id="l01727" name="l01727"></a><span class="lineno"> 1727</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01728" name="l01728"></a><span class="lineno"> 1728</span>    AddKeyAnalogEvent(key, down, down ? 1.0f : 0.0f);</div>
<div class="line"><a id="l01729" name="l01729"></a><span class="lineno"> 1729</span>}</div>
<div class="line"><a id="l01730" name="l01730"></a><span class="lineno"> 1730</span> </div>
<div class="line"><a id="l01731" name="l01731"></a><span class="lineno"> 1731</span><span class="comment">// [Optional] Call after AddKeyEvent().</span></div>
<div class="line"><a id="l01732" name="l01732"></a><span class="lineno"> 1732</span><span class="comment">// Specify native keycode, scancode + Specify index for legacy &lt;1.87 IsKeyXXX() functions with native indices.</span></div>
<div class="line"><a id="l01733" name="l01733"></a><span class="lineno"> 1733</span><span class="comment">// If you are writing a backend in 2022 or don&#39;t use IsKeyXXX() with native values that are not ImGuiKey values, you can avoid calling this.</span></div>
<div class="line"><a id="l01734" name="l01734"></a><span class="lineno"> 1734</span><span class="keywordtype">void</span> ImGuiIO::SetKeyEventNativeData(ImGuiKey key, <span class="keywordtype">int</span> native_keycode, <span class="keywordtype">int</span> native_scancode, <span class="keywordtype">int</span> native_legacy_index)</div>
<div class="line"><a id="l01735" name="l01735"></a><span class="lineno"> 1735</span>{</div>
<div class="line"><a id="l01736" name="l01736"></a><span class="lineno"> 1736</span>    <span class="keywordflow">if</span> (key == ImGuiKey_None)</div>
<div class="line"><a id="l01737" name="l01737"></a><span class="lineno"> 1737</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01738" name="l01738"></a><span class="lineno"> 1738</span>    IM_ASSERT(ImGui::IsNamedKey(key)); <span class="comment">// &gt;= 512</span></div>
<div class="line"><a id="l01739" name="l01739"></a><span class="lineno"> 1739</span>    IM_ASSERT(native_legacy_index == -1 || ImGui::IsLegacyKey((ImGuiKey)native_legacy_index)); <span class="comment">// &gt;= 0 &amp;&amp; &lt;= 511</span></div>
<div class="line"><a id="l01740" name="l01740"></a><span class="lineno"> 1740</span>    IM_UNUSED(key);                 <span class="comment">// Yet unused</span></div>
<div class="line"><a id="l01741" name="l01741"></a><span class="lineno"> 1741</span>    IM_UNUSED(native_keycode);      <span class="comment">// Yet unused</span></div>
<div class="line"><a id="l01742" name="l01742"></a><span class="lineno"> 1742</span>    IM_UNUSED(native_scancode);     <span class="comment">// Yet unused</span></div>
<div class="line"><a id="l01743" name="l01743"></a><span class="lineno"> 1743</span>    IM_UNUSED(native_legacy_index); <span class="comment">// Yet unused</span></div>
<div class="line"><a id="l01744" name="l01744"></a><span class="lineno"> 1744</span>}</div>
<div class="line"><a id="l01745" name="l01745"></a><span class="lineno"> 1745</span> </div>
<div class="line"><a id="l01746" name="l01746"></a><span class="lineno"> 1746</span><span class="comment">// Set master flag for accepting key/mouse/text events (default to true). Useful if you have native dialog boxes that are interrupting your application loop/refresh, and you want to disable events being queued while your app is frozen.</span></div>
<div class="line"><a id="l01747" name="l01747"></a><span class="lineno"> 1747</span><span class="keywordtype">void</span> ImGuiIO::SetAppAcceptingEvents(<span class="keywordtype">bool</span> accepting_events)</div>
<div class="line"><a id="l01748" name="l01748"></a><span class="lineno"> 1748</span>{</div>
<div class="line"><a id="l01749" name="l01749"></a><span class="lineno"> 1749</span>    AppAcceptingEvents = accepting_events;</div>
<div class="line"><a id="l01750" name="l01750"></a><span class="lineno"> 1750</span>}</div>
<div class="line"><a id="l01751" name="l01751"></a><span class="lineno"> 1751</span> </div>
<div class="line"><a id="l01752" name="l01752"></a><span class="lineno"> 1752</span><span class="comment">// Queue a mouse move event</span></div>
<div class="line"><a id="l01753" name="l01753"></a><span class="lineno"> 1753</span><span class="keywordtype">void</span> ImGuiIO::AddMousePosEvent(<span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y)</div>
<div class="line"><a id="l01754" name="l01754"></a><span class="lineno"> 1754</span>{</div>
<div class="line"><a id="l01755" name="l01755"></a><span class="lineno"> 1755</span>    IM_ASSERT(Ctx != NULL);</div>
<div class="line"><a id="l01756" name="l01756"></a><span class="lineno"> 1756</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *Ctx;</div>
<div class="line"><a id="l01757" name="l01757"></a><span class="lineno"> 1757</span>    <span class="keywordflow">if</span> (!AppAcceptingEvents)</div>
<div class="line"><a id="l01758" name="l01758"></a><span class="lineno"> 1758</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01759" name="l01759"></a><span class="lineno"> 1759</span> </div>
<div class="line"><a id="l01760" name="l01760"></a><span class="lineno"> 1760</span>    <span class="comment">// Apply same flooring as UpdateMouseInputs()</span></div>
<div class="line"><a id="l01761" name="l01761"></a><span class="lineno"> 1761</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> pos((x &gt; -FLT_MAX) ? ImFloor(x) : x, (y &gt; -FLT_MAX) ? ImFloor(y) : y);</div>
<div class="line"><a id="l01762" name="l01762"></a><span class="lineno"> 1762</span> </div>
<div class="line"><a id="l01763" name="l01763"></a><span class="lineno"> 1763</span>    <span class="comment">// Filter duplicate</span></div>
<div class="line"><a id="l01764" name="l01764"></a><span class="lineno"> 1764</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiInputEvent.html">ImGuiInputEvent</a>* latest_event = FindLatestInputEvent(&amp;g, ImGuiInputEventType_MousePos);</div>
<div class="line"><a id="l01765" name="l01765"></a><span class="lineno"> 1765</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> latest_pos = latest_event ? <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(latest_event-&gt;MousePos.PosX, latest_event-&gt;MousePos.PosY) : g.IO.MousePos;</div>
<div class="line"><a id="l01766" name="l01766"></a><span class="lineno"> 1766</span>    <span class="keywordflow">if</span> (latest_pos.x == pos.x &amp;&amp; latest_pos.y == pos.y)</div>
<div class="line"><a id="l01767" name="l01767"></a><span class="lineno"> 1767</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01768" name="l01768"></a><span class="lineno"> 1768</span> </div>
<div class="line"><a id="l01769" name="l01769"></a><span class="lineno"> 1769</span>    <a class="code hl_struct" href="structImGuiInputEvent.html">ImGuiInputEvent</a> e;</div>
<div class="line"><a id="l01770" name="l01770"></a><span class="lineno"> 1770</span>    e.Type = ImGuiInputEventType_MousePos;</div>
<div class="line"><a id="l01771" name="l01771"></a><span class="lineno"> 1771</span>    e.Source = ImGuiInputSource_Mouse;</div>
<div class="line"><a id="l01772" name="l01772"></a><span class="lineno"> 1772</span>    e.EventId = g.InputEventsNextEventId++;</div>
<div class="line"><a id="l01773" name="l01773"></a><span class="lineno"> 1773</span>    e.MousePos.PosX = pos.x;</div>
<div class="line"><a id="l01774" name="l01774"></a><span class="lineno"> 1774</span>    e.MousePos.PosY = pos.y;</div>
<div class="line"><a id="l01775" name="l01775"></a><span class="lineno"> 1775</span>    e.MousePos.MouseSource = g.InputEventsNextMouseSource;</div>
<div class="line"><a id="l01776" name="l01776"></a><span class="lineno"> 1776</span>    g.InputEventsQueue.push_back(e);</div>
<div class="line"><a id="l01777" name="l01777"></a><span class="lineno"> 1777</span>}</div>
<div class="line"><a id="l01778" name="l01778"></a><span class="lineno"> 1778</span> </div>
<div class="line"><a id="l01779" name="l01779"></a><span class="lineno"> 1779</span><span class="keywordtype">void</span> ImGuiIO::AddMouseButtonEvent(<span class="keywordtype">int</span> mouse_button, <span class="keywordtype">bool</span> down)</div>
<div class="line"><a id="l01780" name="l01780"></a><span class="lineno"> 1780</span>{</div>
<div class="line"><a id="l01781" name="l01781"></a><span class="lineno"> 1781</span>    IM_ASSERT(Ctx != NULL);</div>
<div class="line"><a id="l01782" name="l01782"></a><span class="lineno"> 1782</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *Ctx;</div>
<div class="line"><a id="l01783" name="l01783"></a><span class="lineno"> 1783</span>    IM_ASSERT(mouse_button &gt;= 0 &amp;&amp; mouse_button &lt; ImGuiMouseButton_COUNT);</div>
<div class="line"><a id="l01784" name="l01784"></a><span class="lineno"> 1784</span>    <span class="keywordflow">if</span> (!AppAcceptingEvents)</div>
<div class="line"><a id="l01785" name="l01785"></a><span class="lineno"> 1785</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01786" name="l01786"></a><span class="lineno"> 1786</span> </div>
<div class="line"><a id="l01787" name="l01787"></a><span class="lineno"> 1787</span>    <span class="comment">// On MacOS X: Convert Ctrl(Super)+Left click into Right-click: handle held button.</span></div>
<div class="line"><a id="l01788" name="l01788"></a><span class="lineno"> 1788</span>    <span class="keywordflow">if</span> (ConfigMacOSXBehaviors &amp;&amp; mouse_button == 0 &amp;&amp; MouseCtrlLeftAsRightClick)</div>
<div class="line"><a id="l01789" name="l01789"></a><span class="lineno"> 1789</span>    {</div>
<div class="line"><a id="l01790" name="l01790"></a><span class="lineno"> 1790</span>        <span class="comment">// Order of both statements matters: this event will still release mouse button 1</span></div>
<div class="line"><a id="l01791" name="l01791"></a><span class="lineno"> 1791</span>        mouse_button = 1;</div>
<div class="line"><a id="l01792" name="l01792"></a><span class="lineno"> 1792</span>        <span class="keywordflow">if</span> (!down)</div>
<div class="line"><a id="l01793" name="l01793"></a><span class="lineno"> 1793</span>            MouseCtrlLeftAsRightClick = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01794" name="l01794"></a><span class="lineno"> 1794</span>    }</div>
<div class="line"><a id="l01795" name="l01795"></a><span class="lineno"> 1795</span> </div>
<div class="line"><a id="l01796" name="l01796"></a><span class="lineno"> 1796</span>    <span class="comment">// Filter duplicate</span></div>
<div class="line"><a id="l01797" name="l01797"></a><span class="lineno"> 1797</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiInputEvent.html">ImGuiInputEvent</a>* latest_event = FindLatestInputEvent(&amp;g, ImGuiInputEventType_MouseButton, (<span class="keywordtype">int</span>)mouse_button);</div>
<div class="line"><a id="l01798" name="l01798"></a><span class="lineno"> 1798</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> latest_button_down = latest_event ? latest_event-&gt;MouseButton.Down : g.IO.MouseDown[mouse_button];</div>
<div class="line"><a id="l01799" name="l01799"></a><span class="lineno"> 1799</span>    <span class="keywordflow">if</span> (latest_button_down == down)</div>
<div class="line"><a id="l01800" name="l01800"></a><span class="lineno"> 1800</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01801" name="l01801"></a><span class="lineno"> 1801</span> </div>
<div class="line"><a id="l01802" name="l01802"></a><span class="lineno"> 1802</span>    <span class="comment">// On MacOS X: Convert Ctrl(Super)+Left click into Right-click.</span></div>
<div class="line"><a id="l01803" name="l01803"></a><span class="lineno"> 1803</span>    <span class="comment">// - Note that this is actual physical Ctrl which is ImGuiMod_Super for us.</span></div>
<div class="line"><a id="l01804" name="l01804"></a><span class="lineno"> 1804</span>    <span class="comment">// - At this point we want from !down to down, so this is handling the initial press.</span></div>
<div class="line"><a id="l01805" name="l01805"></a><span class="lineno"> 1805</span>    <span class="keywordflow">if</span> (ConfigMacOSXBehaviors &amp;&amp; mouse_button == 0 &amp;&amp; down)</div>
<div class="line"><a id="l01806" name="l01806"></a><span class="lineno"> 1806</span>    {</div>
<div class="line"><a id="l01807" name="l01807"></a><span class="lineno"> 1807</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiInputEvent.html">ImGuiInputEvent</a>* latest_super_event = FindLatestInputEvent(&amp;g, ImGuiInputEventType_Key, (<span class="keywordtype">int</span>)ImGuiMod_Super);</div>
<div class="line"><a id="l01808" name="l01808"></a><span class="lineno"> 1808</span>        <span class="keywordflow">if</span> (latest_super_event ? latest_super_event-&gt;Key.Down : g.IO.KeySuper)</div>
<div class="line"><a id="l01809" name="l01809"></a><span class="lineno"> 1809</span>        {</div>
<div class="line"><a id="l01810" name="l01810"></a><span class="lineno"> 1810</span>            IMGUI_DEBUG_LOG_IO(<span class="stringliteral">&quot;[io] Super+Left Click aliased into Right Click\n&quot;</span>);</div>
<div class="line"><a id="l01811" name="l01811"></a><span class="lineno"> 1811</span>            MouseCtrlLeftAsRightClick = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01812" name="l01812"></a><span class="lineno"> 1812</span>            AddMouseButtonEvent(1, <span class="keyword">true</span>); <span class="comment">// This is just quicker to write that passing through, as we need to filter duplicate again.</span></div>
<div class="line"><a id="l01813" name="l01813"></a><span class="lineno"> 1813</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01814" name="l01814"></a><span class="lineno"> 1814</span>        }</div>
<div class="line"><a id="l01815" name="l01815"></a><span class="lineno"> 1815</span>    }</div>
<div class="line"><a id="l01816" name="l01816"></a><span class="lineno"> 1816</span> </div>
<div class="line"><a id="l01817" name="l01817"></a><span class="lineno"> 1817</span>    <a class="code hl_struct" href="structImGuiInputEvent.html">ImGuiInputEvent</a> e;</div>
<div class="line"><a id="l01818" name="l01818"></a><span class="lineno"> 1818</span>    e.Type = ImGuiInputEventType_MouseButton;</div>
<div class="line"><a id="l01819" name="l01819"></a><span class="lineno"> 1819</span>    e.Source = ImGuiInputSource_Mouse;</div>
<div class="line"><a id="l01820" name="l01820"></a><span class="lineno"> 1820</span>    e.EventId = g.InputEventsNextEventId++;</div>
<div class="line"><a id="l01821" name="l01821"></a><span class="lineno"> 1821</span>    e.MouseButton.Button = mouse_button;</div>
<div class="line"><a id="l01822" name="l01822"></a><span class="lineno"> 1822</span>    e.MouseButton.Down = down;</div>
<div class="line"><a id="l01823" name="l01823"></a><span class="lineno"> 1823</span>    e.MouseButton.MouseSource = g.InputEventsNextMouseSource;</div>
<div class="line"><a id="l01824" name="l01824"></a><span class="lineno"> 1824</span>    g.InputEventsQueue.push_back(e);</div>
<div class="line"><a id="l01825" name="l01825"></a><span class="lineno"> 1825</span>}</div>
<div class="line"><a id="l01826" name="l01826"></a><span class="lineno"> 1826</span> </div>
<div class="line"><a id="l01827" name="l01827"></a><span class="lineno"> 1827</span><span class="comment">// Queue a mouse wheel event (some mouse/API may only have a Y component)</span></div>
<div class="line"><a id="l01828" name="l01828"></a><span class="lineno"> 1828</span><span class="keywordtype">void</span> ImGuiIO::AddMouseWheelEvent(<span class="keywordtype">float</span> wheel_x, <span class="keywordtype">float</span> wheel_y)</div>
<div class="line"><a id="l01829" name="l01829"></a><span class="lineno"> 1829</span>{</div>
<div class="line"><a id="l01830" name="l01830"></a><span class="lineno"> 1830</span>    IM_ASSERT(Ctx != NULL);</div>
<div class="line"><a id="l01831" name="l01831"></a><span class="lineno"> 1831</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *Ctx;</div>
<div class="line"><a id="l01832" name="l01832"></a><span class="lineno"> 1832</span> </div>
<div class="line"><a id="l01833" name="l01833"></a><span class="lineno"> 1833</span>    <span class="comment">// Filter duplicate (unlike most events, wheel values are relative and easy to filter)</span></div>
<div class="line"><a id="l01834" name="l01834"></a><span class="lineno"> 1834</span>    <span class="keywordflow">if</span> (!AppAcceptingEvents || (wheel_x == 0.0f &amp;&amp; wheel_y == 0.0f))</div>
<div class="line"><a id="l01835" name="l01835"></a><span class="lineno"> 1835</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01836" name="l01836"></a><span class="lineno"> 1836</span> </div>
<div class="line"><a id="l01837" name="l01837"></a><span class="lineno"> 1837</span>    <a class="code hl_struct" href="structImGuiInputEvent.html">ImGuiInputEvent</a> e;</div>
<div class="line"><a id="l01838" name="l01838"></a><span class="lineno"> 1838</span>    e.Type = ImGuiInputEventType_MouseWheel;</div>
<div class="line"><a id="l01839" name="l01839"></a><span class="lineno"> 1839</span>    e.Source = ImGuiInputSource_Mouse;</div>
<div class="line"><a id="l01840" name="l01840"></a><span class="lineno"> 1840</span>    e.EventId = g.InputEventsNextEventId++;</div>
<div class="line"><a id="l01841" name="l01841"></a><span class="lineno"> 1841</span>    e.MouseWheel.WheelX = wheel_x;</div>
<div class="line"><a id="l01842" name="l01842"></a><span class="lineno"> 1842</span>    e.MouseWheel.WheelY = wheel_y;</div>
<div class="line"><a id="l01843" name="l01843"></a><span class="lineno"> 1843</span>    e.MouseWheel.MouseSource = g.InputEventsNextMouseSource;</div>
<div class="line"><a id="l01844" name="l01844"></a><span class="lineno"> 1844</span>    g.InputEventsQueue.push_back(e);</div>
<div class="line"><a id="l01845" name="l01845"></a><span class="lineno"> 1845</span>}</div>
<div class="line"><a id="l01846" name="l01846"></a><span class="lineno"> 1846</span> </div>
<div class="line"><a id="l01847" name="l01847"></a><span class="lineno"> 1847</span><span class="comment">// This is not a real event, the data is latched in order to be stored in actual Mouse events.</span></div>
<div class="line"><a id="l01848" name="l01848"></a><span class="lineno"> 1848</span><span class="comment">// This is so that duplicate events (e.g. Windows sending extraneous WM_MOUSEMOVE) gets filtered and are not leading to actual source changes.</span></div>
<div class="line"><a id="l01849" name="l01849"></a><span class="lineno"> 1849</span><span class="keywordtype">void</span> ImGuiIO::AddMouseSourceEvent(ImGuiMouseSource source)</div>
<div class="line"><a id="l01850" name="l01850"></a><span class="lineno"> 1850</span>{</div>
<div class="line"><a id="l01851" name="l01851"></a><span class="lineno"> 1851</span>    IM_ASSERT(Ctx != NULL);</div>
<div class="line"><a id="l01852" name="l01852"></a><span class="lineno"> 1852</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *Ctx;</div>
<div class="line"><a id="l01853" name="l01853"></a><span class="lineno"> 1853</span>    g.InputEventsNextMouseSource = source;</div>
<div class="line"><a id="l01854" name="l01854"></a><span class="lineno"> 1854</span>}</div>
<div class="line"><a id="l01855" name="l01855"></a><span class="lineno"> 1855</span> </div>
<div class="line"><a id="l01856" name="l01856"></a><span class="lineno"> 1856</span><span class="keywordtype">void</span> ImGuiIO::AddMouseViewportEvent(ImGuiID viewport_id)</div>
<div class="line"><a id="l01857" name="l01857"></a><span class="lineno"> 1857</span>{</div>
<div class="line"><a id="l01858" name="l01858"></a><span class="lineno"> 1858</span>    IM_ASSERT(Ctx != NULL);</div>
<div class="line"><a id="l01859" name="l01859"></a><span class="lineno"> 1859</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *Ctx;</div>
<div class="line"><a id="l01860" name="l01860"></a><span class="lineno"> 1860</span>    <span class="comment">//IM_ASSERT(g.IO.BackendFlags &amp; ImGuiBackendFlags_HasMouseHoveredViewport);</span></div>
<div class="line"><a id="l01861" name="l01861"></a><span class="lineno"> 1861</span>    <span class="keywordflow">if</span> (!AppAcceptingEvents)</div>
<div class="line"><a id="l01862" name="l01862"></a><span class="lineno"> 1862</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01863" name="l01863"></a><span class="lineno"> 1863</span> </div>
<div class="line"><a id="l01864" name="l01864"></a><span class="lineno"> 1864</span>    <span class="comment">// Filter duplicate</span></div>
<div class="line"><a id="l01865" name="l01865"></a><span class="lineno"> 1865</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiInputEvent.html">ImGuiInputEvent</a>* latest_event = FindLatestInputEvent(&amp;g, ImGuiInputEventType_MouseViewport);</div>
<div class="line"><a id="l01866" name="l01866"></a><span class="lineno"> 1866</span>    <span class="keyword">const</span> ImGuiID latest_viewport_id = latest_event ? latest_event-&gt;MouseViewport.HoveredViewportID : g.IO.MouseHoveredViewport;</div>
<div class="line"><a id="l01867" name="l01867"></a><span class="lineno"> 1867</span>    <span class="keywordflow">if</span> (latest_viewport_id == viewport_id)</div>
<div class="line"><a id="l01868" name="l01868"></a><span class="lineno"> 1868</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01869" name="l01869"></a><span class="lineno"> 1869</span> </div>
<div class="line"><a id="l01870" name="l01870"></a><span class="lineno"> 1870</span>    <a class="code hl_struct" href="structImGuiInputEvent.html">ImGuiInputEvent</a> e;</div>
<div class="line"><a id="l01871" name="l01871"></a><span class="lineno"> 1871</span>    e.Type = ImGuiInputEventType_MouseViewport;</div>
<div class="line"><a id="l01872" name="l01872"></a><span class="lineno"> 1872</span>    e.Source = ImGuiInputSource_Mouse;</div>
<div class="line"><a id="l01873" name="l01873"></a><span class="lineno"> 1873</span>    e.MouseViewport.HoveredViewportID = viewport_id;</div>
<div class="line"><a id="l01874" name="l01874"></a><span class="lineno"> 1874</span>    g.InputEventsQueue.push_back(e);</div>
<div class="line"><a id="l01875" name="l01875"></a><span class="lineno"> 1875</span>}</div>
<div class="line"><a id="l01876" name="l01876"></a><span class="lineno"> 1876</span> </div>
<div class="line"><a id="l01877" name="l01877"></a><span class="lineno"> 1877</span><span class="keywordtype">void</span> ImGuiIO::AddFocusEvent(<span class="keywordtype">bool</span> focused)</div>
<div class="line"><a id="l01878" name="l01878"></a><span class="lineno"> 1878</span>{</div>
<div class="line"><a id="l01879" name="l01879"></a><span class="lineno"> 1879</span>    IM_ASSERT(Ctx != NULL);</div>
<div class="line"><a id="l01880" name="l01880"></a><span class="lineno"> 1880</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *Ctx;</div>
<div class="line"><a id="l01881" name="l01881"></a><span class="lineno"> 1881</span> </div>
<div class="line"><a id="l01882" name="l01882"></a><span class="lineno"> 1882</span>    <span class="comment">// Filter duplicate</span></div>
<div class="line"><a id="l01883" name="l01883"></a><span class="lineno"> 1883</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiInputEvent.html">ImGuiInputEvent</a>* latest_event = FindLatestInputEvent(&amp;g, ImGuiInputEventType_Focus);</div>
<div class="line"><a id="l01884" name="l01884"></a><span class="lineno"> 1884</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> latest_focused = latest_event ? latest_event-&gt;AppFocused.Focused : !g.IO.AppFocusLost;</div>
<div class="line"><a id="l01885" name="l01885"></a><span class="lineno"> 1885</span>    <span class="keywordflow">if</span> (latest_focused == focused || (ConfigDebugIgnoreFocusLoss &amp;&amp; !focused))</div>
<div class="line"><a id="l01886" name="l01886"></a><span class="lineno"> 1886</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01887" name="l01887"></a><span class="lineno"> 1887</span> </div>
<div class="line"><a id="l01888" name="l01888"></a><span class="lineno"> 1888</span>    <a class="code hl_struct" href="structImGuiInputEvent.html">ImGuiInputEvent</a> e;</div>
<div class="line"><a id="l01889" name="l01889"></a><span class="lineno"> 1889</span>    e.Type = ImGuiInputEventType_Focus;</div>
<div class="line"><a id="l01890" name="l01890"></a><span class="lineno"> 1890</span>    e.EventId = g.InputEventsNextEventId++;</div>
<div class="line"><a id="l01891" name="l01891"></a><span class="lineno"> 1891</span>    e.AppFocused.Focused = focused;</div>
<div class="line"><a id="l01892" name="l01892"></a><span class="lineno"> 1892</span>    g.InputEventsQueue.push_back(e);</div>
<div class="line"><a id="l01893" name="l01893"></a><span class="lineno"> 1893</span>}</div>
<div class="line"><a id="l01894" name="l01894"></a><span class="lineno"> 1894</span> </div>
<div class="line"><a id="l01895" name="l01895"></a><span class="lineno"> 1895</span>ImGuiPlatformIO::ImGuiPlatformIO()</div>
<div class="line"><a id="l01896" name="l01896"></a><span class="lineno"> 1896</span>{</div>
<div class="line"><a id="l01897" name="l01897"></a><span class="lineno"> 1897</span>    <span class="comment">// Most fields are initialized with zero</span></div>
<div class="line"><a id="l01898" name="l01898"></a><span class="lineno"> 1898</span>    memset(<span class="keyword">this</span>, 0, <span class="keyword">sizeof</span>(*<span class="keyword">this</span>));</div>
<div class="line"><a id="l01899" name="l01899"></a><span class="lineno"> 1899</span>    Platform_LocaleDecimalPoint = <span class="charliteral">&#39;.&#39;</span>;</div>
<div class="line"><a id="l01900" name="l01900"></a><span class="lineno"> 1900</span>}</div>
<div class="line"><a id="l01901" name="l01901"></a><span class="lineno"> 1901</span> </div>
<div class="line"><a id="l01902" name="l01902"></a><span class="lineno"> 1902</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01903" name="l01903"></a><span class="lineno"> 1903</span><span class="comment">// [SECTION] MISC HELPERS/UTILITIES (Geometry functions)</span></div>
<div class="line"><a id="l01904" name="l01904"></a><span class="lineno"> 1904</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01905" name="l01905"></a><span class="lineno"> 1905</span> </div>
<div class="line"><a id="l01906" name="l01906"></a><span class="lineno"> 1906</span><a class="code hl_struct" href="structImVec2.html">ImVec2</a> ImBezierCubicClosestPoint(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; p1, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; p2, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; p3, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; p4, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; p, <span class="keywordtype">int</span> num_segments)</div>
<div class="line"><a id="l01907" name="l01907"></a><span class="lineno"> 1907</span>{</div>
<div class="line"><a id="l01908" name="l01908"></a><span class="lineno"> 1908</span>    IM_ASSERT(num_segments &gt; 0); <span class="comment">// Use ImBezierCubicClosestPointCasteljau()</span></div>
<div class="line"><a id="l01909" name="l01909"></a><span class="lineno"> 1909</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> p_last = p1;</div>
<div class="line"><a id="l01910" name="l01910"></a><span class="lineno"> 1910</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> p_closest;</div>
<div class="line"><a id="l01911" name="l01911"></a><span class="lineno"> 1911</span>    <span class="keywordtype">float</span> p_closest_dist2 = FLT_MAX;</div>
<div class="line"><a id="l01912" name="l01912"></a><span class="lineno"> 1912</span>    <span class="keywordtype">float</span> t_step = 1.0f / (float)num_segments;</div>
<div class="line"><a id="l01913" name="l01913"></a><span class="lineno"> 1913</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_step = 1; i_step &lt;= num_segments; i_step++)</div>
<div class="line"><a id="l01914" name="l01914"></a><span class="lineno"> 1914</span>    {</div>
<div class="line"><a id="l01915" name="l01915"></a><span class="lineno"> 1915</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> p_current = ImBezierCubicCalc(p1, p2, p3, p4, t_step * i_step);</div>
<div class="line"><a id="l01916" name="l01916"></a><span class="lineno"> 1916</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> p_line = ImLineClosestPoint(p_last, p_current, p);</div>
<div class="line"><a id="l01917" name="l01917"></a><span class="lineno"> 1917</span>        <span class="keywordtype">float</span> dist2 = ImLengthSqr(p - p_line);</div>
<div class="line"><a id="l01918" name="l01918"></a><span class="lineno"> 1918</span>        <span class="keywordflow">if</span> (dist2 &lt; p_closest_dist2)</div>
<div class="line"><a id="l01919" name="l01919"></a><span class="lineno"> 1919</span>        {</div>
<div class="line"><a id="l01920" name="l01920"></a><span class="lineno"> 1920</span>            p_closest = p_line;</div>
<div class="line"><a id="l01921" name="l01921"></a><span class="lineno"> 1921</span>            p_closest_dist2 = dist2;</div>
<div class="line"><a id="l01922" name="l01922"></a><span class="lineno"> 1922</span>        }</div>
<div class="line"><a id="l01923" name="l01923"></a><span class="lineno"> 1923</span>        p_last = p_current;</div>
<div class="line"><a id="l01924" name="l01924"></a><span class="lineno"> 1924</span>    }</div>
<div class="line"><a id="l01925" name="l01925"></a><span class="lineno"> 1925</span>    <span class="keywordflow">return</span> p_closest;</div>
<div class="line"><a id="l01926" name="l01926"></a><span class="lineno"> 1926</span>}</div>
<div class="line"><a id="l01927" name="l01927"></a><span class="lineno"> 1927</span> </div>
<div class="line"><a id="l01928" name="l01928"></a><span class="lineno"> 1928</span><span class="comment">// Closely mimics PathBezierToCasteljau() in imgui_draw.cpp</span></div>
<div class="line"><a id="l01929" name="l01929"></a><span class="lineno"> 1929</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImBezierCubicClosestPointCasteljauStep(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; p, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; p_closest, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; p_last, <span class="keywordtype">float</span>&amp; p_closest_dist2, <span class="keywordtype">float</span> x1, <span class="keywordtype">float</span> y1, <span class="keywordtype">float</span> x2, <span class="keywordtype">float</span> y2, <span class="keywordtype">float</span> x3, <span class="keywordtype">float</span> y3, <span class="keywordtype">float</span> x4, <span class="keywordtype">float</span> y4, <span class="keywordtype">float</span> tess_tol, <span class="keywordtype">int</span> level)</div>
<div class="line"><a id="l01930" name="l01930"></a><span class="lineno"> 1930</span>{</div>
<div class="line"><a id="l01931" name="l01931"></a><span class="lineno"> 1931</span>    <span class="keywordtype">float</span> dx = x4 - x1;</div>
<div class="line"><a id="l01932" name="l01932"></a><span class="lineno"> 1932</span>    <span class="keywordtype">float</span> dy = y4 - y1;</div>
<div class="line"><a id="l01933" name="l01933"></a><span class="lineno"> 1933</span>    <span class="keywordtype">float</span> d2 = ((x2 - x4) * dy - (y2 - y4) * dx);</div>
<div class="line"><a id="l01934" name="l01934"></a><span class="lineno"> 1934</span>    <span class="keywordtype">float</span> d3 = ((x3 - x4) * dy - (y3 - y4) * dx);</div>
<div class="line"><a id="l01935" name="l01935"></a><span class="lineno"> 1935</span>    d2 = (d2 &gt;= 0) ? d2 : -d2;</div>
<div class="line"><a id="l01936" name="l01936"></a><span class="lineno"> 1936</span>    d3 = (d3 &gt;= 0) ? d3 : -d3;</div>
<div class="line"><a id="l01937" name="l01937"></a><span class="lineno"> 1937</span>    <span class="keywordflow">if</span> ((d2 + d3) * (d2 + d3) &lt; tess_tol * (dx * dx + dy * dy))</div>
<div class="line"><a id="l01938" name="l01938"></a><span class="lineno"> 1938</span>    {</div>
<div class="line"><a id="l01939" name="l01939"></a><span class="lineno"> 1939</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> p_current(x4, y4);</div>
<div class="line"><a id="l01940" name="l01940"></a><span class="lineno"> 1940</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> p_line = ImLineClosestPoint(p_last, p_current, p);</div>
<div class="line"><a id="l01941" name="l01941"></a><span class="lineno"> 1941</span>        <span class="keywordtype">float</span> dist2 = ImLengthSqr(p - p_line);</div>
<div class="line"><a id="l01942" name="l01942"></a><span class="lineno"> 1942</span>        <span class="keywordflow">if</span> (dist2 &lt; p_closest_dist2)</div>
<div class="line"><a id="l01943" name="l01943"></a><span class="lineno"> 1943</span>        {</div>
<div class="line"><a id="l01944" name="l01944"></a><span class="lineno"> 1944</span>            p_closest = p_line;</div>
<div class="line"><a id="l01945" name="l01945"></a><span class="lineno"> 1945</span>            p_closest_dist2 = dist2;</div>
<div class="line"><a id="l01946" name="l01946"></a><span class="lineno"> 1946</span>        }</div>
<div class="line"><a id="l01947" name="l01947"></a><span class="lineno"> 1947</span>        p_last = p_current;</div>
<div class="line"><a id="l01948" name="l01948"></a><span class="lineno"> 1948</span>    }</div>
<div class="line"><a id="l01949" name="l01949"></a><span class="lineno"> 1949</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (level &lt; 10)</div>
<div class="line"><a id="l01950" name="l01950"></a><span class="lineno"> 1950</span>    {</div>
<div class="line"><a id="l01951" name="l01951"></a><span class="lineno"> 1951</span>        <span class="keywordtype">float</span> x12 = (x1 + x2)*0.5f,       y12 = (y1 + y2)*0.5f;</div>
<div class="line"><a id="l01952" name="l01952"></a><span class="lineno"> 1952</span>        <span class="keywordtype">float</span> x23 = (x2 + x3)*0.5f,       y23 = (y2 + y3)*0.5f;</div>
<div class="line"><a id="l01953" name="l01953"></a><span class="lineno"> 1953</span>        <span class="keywordtype">float</span> x34 = (x3 + x4)*0.5f,       y34 = (y3 + y4)*0.5f;</div>
<div class="line"><a id="l01954" name="l01954"></a><span class="lineno"> 1954</span>        <span class="keywordtype">float</span> x123 = (x12 + x23)*0.5f,    y123 = (y12 + y23)*0.5f;</div>
<div class="line"><a id="l01955" name="l01955"></a><span class="lineno"> 1955</span>        <span class="keywordtype">float</span> x234 = (x23 + x34)*0.5f,    y234 = (y23 + y34)*0.5f;</div>
<div class="line"><a id="l01956" name="l01956"></a><span class="lineno"> 1956</span>        <span class="keywordtype">float</span> x1234 = (x123 + x234)*0.5f, y1234 = (y123 + y234)*0.5f;</div>
<div class="line"><a id="l01957" name="l01957"></a><span class="lineno"> 1957</span>        ImBezierCubicClosestPointCasteljauStep(p, p_closest, p_last, p_closest_dist2, x1, y1, x12, y12, x123, y123, x1234, y1234, tess_tol, level + 1);</div>
<div class="line"><a id="l01958" name="l01958"></a><span class="lineno"> 1958</span>        ImBezierCubicClosestPointCasteljauStep(p, p_closest, p_last, p_closest_dist2, x1234, y1234, x234, y234, x34, y34, x4, y4, tess_tol, level + 1);</div>
<div class="line"><a id="l01959" name="l01959"></a><span class="lineno"> 1959</span>    }</div>
<div class="line"><a id="l01960" name="l01960"></a><span class="lineno"> 1960</span>}</div>
<div class="line"><a id="l01961" name="l01961"></a><span class="lineno"> 1961</span> </div>
<div class="line"><a id="l01962" name="l01962"></a><span class="lineno"> 1962</span><span class="comment">// tess_tol is generally the same value you would find in ImGui::GetStyle().CurveTessellationTol</span></div>
<div class="line"><a id="l01963" name="l01963"></a><span class="lineno"> 1963</span><span class="comment">// Because those ImXXX functions are lower-level than ImGui:: we cannot access this value automatically.</span></div>
<div class="line"><a id="l01964" name="l01964"></a><span class="lineno"> 1964</span><a class="code hl_struct" href="structImVec2.html">ImVec2</a> ImBezierCubicClosestPointCasteljau(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; p1, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; p2, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; p3, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; p4, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; p, <span class="keywordtype">float</span> tess_tol)</div>
<div class="line"><a id="l01965" name="l01965"></a><span class="lineno"> 1965</span>{</div>
<div class="line"><a id="l01966" name="l01966"></a><span class="lineno"> 1966</span>    IM_ASSERT(tess_tol &gt; 0.0f);</div>
<div class="line"><a id="l01967" name="l01967"></a><span class="lineno"> 1967</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> p_last = p1;</div>
<div class="line"><a id="l01968" name="l01968"></a><span class="lineno"> 1968</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> p_closest;</div>
<div class="line"><a id="l01969" name="l01969"></a><span class="lineno"> 1969</span>    <span class="keywordtype">float</span> p_closest_dist2 = FLT_MAX;</div>
<div class="line"><a id="l01970" name="l01970"></a><span class="lineno"> 1970</span>    ImBezierCubicClosestPointCasteljauStep(p, p_closest, p_last, p_closest_dist2, p1.x, p1.y, p2.x, p2.y, p3.x, p3.y, p4.x, p4.y, tess_tol, 0);</div>
<div class="line"><a id="l01971" name="l01971"></a><span class="lineno"> 1971</span>    <span class="keywordflow">return</span> p_closest;</div>
<div class="line"><a id="l01972" name="l01972"></a><span class="lineno"> 1972</span>}</div>
<div class="line"><a id="l01973" name="l01973"></a><span class="lineno"> 1973</span> </div>
<div class="line"><a id="l01974" name="l01974"></a><span class="lineno"> 1974</span><a class="code hl_struct" href="structImVec2.html">ImVec2</a> ImLineClosestPoint(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; a, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; b, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; p)</div>
<div class="line"><a id="l01975" name="l01975"></a><span class="lineno"> 1975</span>{</div>
<div class="line"><a id="l01976" name="l01976"></a><span class="lineno"> 1976</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> ap = p - a;</div>
<div class="line"><a id="l01977" name="l01977"></a><span class="lineno"> 1977</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> ab_dir = b - a;</div>
<div class="line"><a id="l01978" name="l01978"></a><span class="lineno"> 1978</span>    <span class="keywordtype">float</span> dot = ap.x * ab_dir.x + ap.y * ab_dir.y;</div>
<div class="line"><a id="l01979" name="l01979"></a><span class="lineno"> 1979</span>    <span class="keywordflow">if</span> (dot &lt; 0.0f)</div>
<div class="line"><a id="l01980" name="l01980"></a><span class="lineno"> 1980</span>        <span class="keywordflow">return</span> a;</div>
<div class="line"><a id="l01981" name="l01981"></a><span class="lineno"> 1981</span>    <span class="keywordtype">float</span> ab_len_sqr = ab_dir.x * ab_dir.x + ab_dir.y * ab_dir.y;</div>
<div class="line"><a id="l01982" name="l01982"></a><span class="lineno"> 1982</span>    <span class="keywordflow">if</span> (dot &gt; ab_len_sqr)</div>
<div class="line"><a id="l01983" name="l01983"></a><span class="lineno"> 1983</span>        <span class="keywordflow">return</span> b;</div>
<div class="line"><a id="l01984" name="l01984"></a><span class="lineno"> 1984</span>    <span class="keywordflow">return</span> a + ab_dir * dot / ab_len_sqr;</div>
<div class="line"><a id="l01985" name="l01985"></a><span class="lineno"> 1985</span>}</div>
<div class="line"><a id="l01986" name="l01986"></a><span class="lineno"> 1986</span> </div>
<div class="line"><a id="l01987" name="l01987"></a><span class="lineno"> 1987</span><span class="keywordtype">bool</span> ImTriangleContainsPoint(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; a, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; b, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; c, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; p)</div>
<div class="line"><a id="l01988" name="l01988"></a><span class="lineno"> 1988</span>{</div>
<div class="line"><a id="l01989" name="l01989"></a><span class="lineno"> 1989</span>    <span class="keywordtype">bool</span> b1 = ((p.x - b.x) * (a.y - b.y) - (p.y - b.y) * (a.x - b.x)) &lt; 0.0f;</div>
<div class="line"><a id="l01990" name="l01990"></a><span class="lineno"> 1990</span>    <span class="keywordtype">bool</span> b2 = ((p.x - c.x) * (b.y - c.y) - (p.y - c.y) * (b.x - c.x)) &lt; 0.0f;</div>
<div class="line"><a id="l01991" name="l01991"></a><span class="lineno"> 1991</span>    <span class="keywordtype">bool</span> b3 = ((p.x - a.x) * (c.y - a.y) - (p.y - a.y) * (c.x - a.x)) &lt; 0.0f;</div>
<div class="line"><a id="l01992" name="l01992"></a><span class="lineno"> 1992</span>    <span class="keywordflow">return</span> ((b1 == b2) &amp;&amp; (b2 == b3));</div>
<div class="line"><a id="l01993" name="l01993"></a><span class="lineno"> 1993</span>}</div>
<div class="line"><a id="l01994" name="l01994"></a><span class="lineno"> 1994</span> </div>
<div class="line"><a id="l01995" name="l01995"></a><span class="lineno"> 1995</span><span class="keywordtype">void</span> ImTriangleBarycentricCoords(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; a, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; b, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; c, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; p, <span class="keywordtype">float</span>&amp; out_u, <span class="keywordtype">float</span>&amp; out_v, <span class="keywordtype">float</span>&amp; out_w)</div>
<div class="line"><a id="l01996" name="l01996"></a><span class="lineno"> 1996</span>{</div>
<div class="line"><a id="l01997" name="l01997"></a><span class="lineno"> 1997</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> v0 = b - a;</div>
<div class="line"><a id="l01998" name="l01998"></a><span class="lineno"> 1998</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> v1 = c - a;</div>
<div class="line"><a id="l01999" name="l01999"></a><span class="lineno"> 1999</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> v2 = p - a;</div>
<div class="line"><a id="l02000" name="l02000"></a><span class="lineno"> 2000</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> denom = v0.x * v1.y - v1.x * v0.y;</div>
<div class="line"><a id="l02001" name="l02001"></a><span class="lineno"> 2001</span>    out_v = (v2.x * v1.y - v1.x * v2.y) / denom;</div>
<div class="line"><a id="l02002" name="l02002"></a><span class="lineno"> 2002</span>    out_w = (v0.x * v2.y - v2.x * v0.y) / denom;</div>
<div class="line"><a id="l02003" name="l02003"></a><span class="lineno"> 2003</span>    out_u = 1.0f - out_v - out_w;</div>
<div class="line"><a id="l02004" name="l02004"></a><span class="lineno"> 2004</span>}</div>
<div class="line"><a id="l02005" name="l02005"></a><span class="lineno"> 2005</span> </div>
<div class="line"><a id="l02006" name="l02006"></a><span class="lineno"> 2006</span><a class="code hl_struct" href="structImVec2.html">ImVec2</a> ImTriangleClosestPoint(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; a, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; b, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; c, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; p)</div>
<div class="line"><a id="l02007" name="l02007"></a><span class="lineno"> 2007</span>{</div>
<div class="line"><a id="l02008" name="l02008"></a><span class="lineno"> 2008</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> proj_ab = ImLineClosestPoint(a, b, p);</div>
<div class="line"><a id="l02009" name="l02009"></a><span class="lineno"> 2009</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> proj_bc = ImLineClosestPoint(b, c, p);</div>
<div class="line"><a id="l02010" name="l02010"></a><span class="lineno"> 2010</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> proj_ca = ImLineClosestPoint(c, a, p);</div>
<div class="line"><a id="l02011" name="l02011"></a><span class="lineno"> 2011</span>    <span class="keywordtype">float</span> dist2_ab = ImLengthSqr(p - proj_ab);</div>
<div class="line"><a id="l02012" name="l02012"></a><span class="lineno"> 2012</span>    <span class="keywordtype">float</span> dist2_bc = ImLengthSqr(p - proj_bc);</div>
<div class="line"><a id="l02013" name="l02013"></a><span class="lineno"> 2013</span>    <span class="keywordtype">float</span> dist2_ca = ImLengthSqr(p - proj_ca);</div>
<div class="line"><a id="l02014" name="l02014"></a><span class="lineno"> 2014</span>    <span class="keywordtype">float</span> m = ImMin(dist2_ab, ImMin(dist2_bc, dist2_ca));</div>
<div class="line"><a id="l02015" name="l02015"></a><span class="lineno"> 2015</span>    <span class="keywordflow">if</span> (m == dist2_ab)</div>
<div class="line"><a id="l02016" name="l02016"></a><span class="lineno"> 2016</span>        <span class="keywordflow">return</span> proj_ab;</div>
<div class="line"><a id="l02017" name="l02017"></a><span class="lineno"> 2017</span>    <span class="keywordflow">if</span> (m == dist2_bc)</div>
<div class="line"><a id="l02018" name="l02018"></a><span class="lineno"> 2018</span>        <span class="keywordflow">return</span> proj_bc;</div>
<div class="line"><a id="l02019" name="l02019"></a><span class="lineno"> 2019</span>    <span class="keywordflow">return</span> proj_ca;</div>
<div class="line"><a id="l02020" name="l02020"></a><span class="lineno"> 2020</span>}</div>
<div class="line"><a id="l02021" name="l02021"></a><span class="lineno"> 2021</span> </div>
<div class="line"><a id="l02022" name="l02022"></a><span class="lineno"> 2022</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02023" name="l02023"></a><span class="lineno"> 2023</span><span class="comment">// [SECTION] MISC HELPERS/UTILITIES (String, Format, Hash functions)</span></div>
<div class="line"><a id="l02024" name="l02024"></a><span class="lineno"> 2024</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02025" name="l02025"></a><span class="lineno"> 2025</span> </div>
<div class="line"><a id="l02026" name="l02026"></a><span class="lineno"> 2026</span><span class="comment">// Consider using _stricmp/_strnicmp under Windows or strcasecmp/strncasecmp. We don&#39;t actually use either ImStricmp/ImStrnicmp in the codebase any more.</span></div>
<div class="line"><a id="l02027" name="l02027"></a><span class="lineno"> 2027</span><span class="keywordtype">int</span> ImStricmp(<span class="keyword">const</span> <span class="keywordtype">char</span>* str1, <span class="keyword">const</span> <span class="keywordtype">char</span>* str2)</div>
<div class="line"><a id="l02028" name="l02028"></a><span class="lineno"> 2028</span>{</div>
<div class="line"><a id="l02029" name="l02029"></a><span class="lineno"> 2029</span>    <span class="keywordtype">int</span> d;</div>
<div class="line"><a id="l02030" name="l02030"></a><span class="lineno"> 2030</span>    <span class="keywordflow">while</span> ((d = ImToUpper(*str2) - ImToUpper(*str1)) == 0 &amp;&amp; *str1) { str1++; str2++; }</div>
<div class="line"><a id="l02031" name="l02031"></a><span class="lineno"> 2031</span>    <span class="keywordflow">return</span> d;</div>
<div class="line"><a id="l02032" name="l02032"></a><span class="lineno"> 2032</span>}</div>
<div class="line"><a id="l02033" name="l02033"></a><span class="lineno"> 2033</span> </div>
<div class="line"><a id="l02034" name="l02034"></a><span class="lineno"> 2034</span><span class="keywordtype">int</span> ImStrnicmp(<span class="keyword">const</span> <span class="keywordtype">char</span>* str1, <span class="keyword">const</span> <span class="keywordtype">char</span>* str2, <span class="keywordtype">size_t</span> count)</div>
<div class="line"><a id="l02035" name="l02035"></a><span class="lineno"> 2035</span>{</div>
<div class="line"><a id="l02036" name="l02036"></a><span class="lineno"> 2036</span>    <span class="keywordtype">int</span> d = 0;</div>
<div class="line"><a id="l02037" name="l02037"></a><span class="lineno"> 2037</span>    <span class="keywordflow">while</span> (count &gt; 0 &amp;&amp; (d = ImToUpper(*str2) - ImToUpper(*str1)) == 0 &amp;&amp; *str1) { str1++; str2++; count--; }</div>
<div class="line"><a id="l02038" name="l02038"></a><span class="lineno"> 2038</span>    <span class="keywordflow">return</span> d;</div>
<div class="line"><a id="l02039" name="l02039"></a><span class="lineno"> 2039</span>}</div>
<div class="line"><a id="l02040" name="l02040"></a><span class="lineno"> 2040</span> </div>
<div class="line"><a id="l02041" name="l02041"></a><span class="lineno"> 2041</span><span class="keywordtype">void</span> ImStrncpy(<span class="keywordtype">char</span>* dst, <span class="keyword">const</span> <span class="keywordtype">char</span>* src, <span class="keywordtype">size_t</span> count)</div>
<div class="line"><a id="l02042" name="l02042"></a><span class="lineno"> 2042</span>{</div>
<div class="line"><a id="l02043" name="l02043"></a><span class="lineno"> 2043</span>    <span class="keywordflow">if</span> (count &lt; 1)</div>
<div class="line"><a id="l02044" name="l02044"></a><span class="lineno"> 2044</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02045" name="l02045"></a><span class="lineno"> 2045</span>    <span class="keywordflow">if</span> (count &gt; 1)</div>
<div class="line"><a id="l02046" name="l02046"></a><span class="lineno"> 2046</span>        strncpy(dst, src, count - 1);</div>
<div class="line"><a id="l02047" name="l02047"></a><span class="lineno"> 2047</span>    dst[count - 1] = 0;</div>
<div class="line"><a id="l02048" name="l02048"></a><span class="lineno"> 2048</span>}</div>
<div class="line"><a id="l02049" name="l02049"></a><span class="lineno"> 2049</span> </div>
<div class="line"><a id="l02050" name="l02050"></a><span class="lineno"> 2050</span><span class="keywordtype">char</span>* ImStrdup(<span class="keyword">const</span> <span class="keywordtype">char</span>* str)</div>
<div class="line"><a id="l02051" name="l02051"></a><span class="lineno"> 2051</span>{</div>
<div class="line"><a id="l02052" name="l02052"></a><span class="lineno"> 2052</span>    <span class="keywordtype">size_t</span> len = ImStrlen(str);</div>
<div class="line"><a id="l02053" name="l02053"></a><span class="lineno"> 2053</span>    <span class="keywordtype">void</span>* buf = IM_ALLOC(len + 1);</div>
<div class="line"><a id="l02054" name="l02054"></a><span class="lineno"> 2054</span>    <span class="keywordflow">return</span> (<span class="keywordtype">char</span>*)memcpy(buf, (<span class="keyword">const</span> <span class="keywordtype">void</span>*)str, len + 1);</div>
<div class="line"><a id="l02055" name="l02055"></a><span class="lineno"> 2055</span>}</div>
<div class="line"><a id="l02056" name="l02056"></a><span class="lineno"> 2056</span> </div>
<div class="line"><a id="l02057" name="l02057"></a><span class="lineno"> 2057</span><span class="keywordtype">char</span>* ImStrdupcpy(<span class="keywordtype">char</span>* dst, <span class="keywordtype">size_t</span>* p_dst_size, <span class="keyword">const</span> <span class="keywordtype">char</span>* src)</div>
<div class="line"><a id="l02058" name="l02058"></a><span class="lineno"> 2058</span>{</div>
<div class="line"><a id="l02059" name="l02059"></a><span class="lineno"> 2059</span>    <span class="keywordtype">size_t</span> dst_buf_size = p_dst_size ? *p_dst_size : ImStrlen(dst) + 1;</div>
<div class="line"><a id="l02060" name="l02060"></a><span class="lineno"> 2060</span>    <span class="keywordtype">size_t</span> src_size = ImStrlen(src) + 1;</div>
<div class="line"><a id="l02061" name="l02061"></a><span class="lineno"> 2061</span>    <span class="keywordflow">if</span> (dst_buf_size &lt; src_size)</div>
<div class="line"><a id="l02062" name="l02062"></a><span class="lineno"> 2062</span>    {</div>
<div class="line"><a id="l02063" name="l02063"></a><span class="lineno"> 2063</span>        IM_FREE(dst);</div>
<div class="line"><a id="l02064" name="l02064"></a><span class="lineno"> 2064</span>        dst = (<span class="keywordtype">char</span>*)IM_ALLOC(src_size);</div>
<div class="line"><a id="l02065" name="l02065"></a><span class="lineno"> 2065</span>        <span class="keywordflow">if</span> (p_dst_size)</div>
<div class="line"><a id="l02066" name="l02066"></a><span class="lineno"> 2066</span>            *p_dst_size = src_size;</div>
<div class="line"><a id="l02067" name="l02067"></a><span class="lineno"> 2067</span>    }</div>
<div class="line"><a id="l02068" name="l02068"></a><span class="lineno"> 2068</span>    <span class="keywordflow">return</span> (<span class="keywordtype">char</span>*)memcpy(dst, (<span class="keyword">const</span> <span class="keywordtype">void</span>*)src, src_size);</div>
<div class="line"><a id="l02069" name="l02069"></a><span class="lineno"> 2069</span>}</div>
<div class="line"><a id="l02070" name="l02070"></a><span class="lineno"> 2070</span> </div>
<div class="line"><a id="l02071" name="l02071"></a><span class="lineno"> 2071</span><span class="keyword">const</span> <span class="keywordtype">char</span>* ImStrchrRange(<span class="keyword">const</span> <span class="keywordtype">char</span>* str, <span class="keyword">const</span> <span class="keywordtype">char</span>* str_end, <span class="keywordtype">char</span> c)</div>
<div class="line"><a id="l02072" name="l02072"></a><span class="lineno"> 2072</span>{</div>
<div class="line"><a id="l02073" name="l02073"></a><span class="lineno"> 2073</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* p = (<span class="keyword">const</span> <span class="keywordtype">char</span>*)ImMemchr(str, (<span class="keywordtype">int</span>)c, str_end - str);</div>
<div class="line"><a id="l02074" name="l02074"></a><span class="lineno"> 2074</span>    <span class="keywordflow">return</span> p;</div>
<div class="line"><a id="l02075" name="l02075"></a><span class="lineno"> 2075</span>}</div>
<div class="line"><a id="l02076" name="l02076"></a><span class="lineno"> 2076</span> </div>
<div class="line"><a id="l02077" name="l02077"></a><span class="lineno"> 2077</span><span class="keywordtype">int</span> ImStrlenW(<span class="keyword">const</span> ImWchar* str)</div>
<div class="line"><a id="l02078" name="l02078"></a><span class="lineno"> 2078</span>{</div>
<div class="line"><a id="l02079" name="l02079"></a><span class="lineno"> 2079</span>    <span class="comment">//return (int)wcslen((const wchar_t*)str);  // FIXME-OPT: Could use this when wchar_t are 16-bit</span></div>
<div class="line"><a id="l02080" name="l02080"></a><span class="lineno"> 2080</span>    <span class="keywordtype">int</span> n = 0;</div>
<div class="line"><a id="l02081" name="l02081"></a><span class="lineno"> 2081</span>    <span class="keywordflow">while</span> (*str++) n++;</div>
<div class="line"><a id="l02082" name="l02082"></a><span class="lineno"> 2082</span>    <span class="keywordflow">return</span> n;</div>
<div class="line"><a id="l02083" name="l02083"></a><span class="lineno"> 2083</span>}</div>
<div class="line"><a id="l02084" name="l02084"></a><span class="lineno"> 2084</span> </div>
<div class="line"><a id="l02085" name="l02085"></a><span class="lineno"> 2085</span><span class="comment">// Find end-of-line. Return pointer will point to either first \n, either str_end.</span></div>
<div class="line"><a id="l02086" name="l02086"></a><span class="lineno"> 2086</span><span class="keyword">const</span> <span class="keywordtype">char</span>* ImStreolRange(<span class="keyword">const</span> <span class="keywordtype">char</span>* str, <span class="keyword">const</span> <span class="keywordtype">char</span>* str_end)</div>
<div class="line"><a id="l02087" name="l02087"></a><span class="lineno"> 2087</span>{</div>
<div class="line"><a id="l02088" name="l02088"></a><span class="lineno"> 2088</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* p = (<span class="keyword">const</span> <span class="keywordtype">char</span>*)ImMemchr(str, <span class="charliteral">&#39;\n&#39;</span>, str_end - str);</div>
<div class="line"><a id="l02089" name="l02089"></a><span class="lineno"> 2089</span>    <span class="keywordflow">return</span> p ? p : str_end;</div>
<div class="line"><a id="l02090" name="l02090"></a><span class="lineno"> 2090</span>}</div>
<div class="line"><a id="l02091" name="l02091"></a><span class="lineno"> 2091</span> </div>
<div class="line"><a id="l02092" name="l02092"></a><span class="lineno"> 2092</span><span class="keyword">const</span> <span class="keywordtype">char</span>* ImStrbol(<span class="keyword">const</span> <span class="keywordtype">char</span>* buf_mid_line, <span class="keyword">const</span> <span class="keywordtype">char</span>* buf_begin) <span class="comment">// find beginning-of-line</span></div>
<div class="line"><a id="l02093" name="l02093"></a><span class="lineno"> 2093</span>{</div>
<div class="line"><a id="l02094" name="l02094"></a><span class="lineno"> 2094</span>    IM_ASSERT_PARANOID(buf_mid_line &gt;= buf_begin &amp;&amp; buf_mid_line &lt;= buf_begin + ImStrlen(buf_begin));</div>
<div class="line"><a id="l02095" name="l02095"></a><span class="lineno"> 2095</span>    <span class="keywordflow">while</span> (buf_mid_line &gt; buf_begin &amp;&amp; buf_mid_line[-1] != <span class="charliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a id="l02096" name="l02096"></a><span class="lineno"> 2096</span>        buf_mid_line--;</div>
<div class="line"><a id="l02097" name="l02097"></a><span class="lineno"> 2097</span>    <span class="keywordflow">return</span> buf_mid_line;</div>
<div class="line"><a id="l02098" name="l02098"></a><span class="lineno"> 2098</span>}</div>
<div class="line"><a id="l02099" name="l02099"></a><span class="lineno"> 2099</span> </div>
<div class="line"><a id="l02100" name="l02100"></a><span class="lineno"> 2100</span><span class="keyword">const</span> <span class="keywordtype">char</span>* ImStristr(<span class="keyword">const</span> <span class="keywordtype">char</span>* haystack, <span class="keyword">const</span> <span class="keywordtype">char</span>* haystack_end, <span class="keyword">const</span> <span class="keywordtype">char</span>* needle, <span class="keyword">const</span> <span class="keywordtype">char</span>* needle_end)</div>
<div class="line"><a id="l02101" name="l02101"></a><span class="lineno"> 2101</span>{</div>
<div class="line"><a id="l02102" name="l02102"></a><span class="lineno"> 2102</span>    <span class="keywordflow">if</span> (!needle_end)</div>
<div class="line"><a id="l02103" name="l02103"></a><span class="lineno"> 2103</span>        needle_end = needle + ImStrlen(needle);</div>
<div class="line"><a id="l02104" name="l02104"></a><span class="lineno"> 2104</span> </div>
<div class="line"><a id="l02105" name="l02105"></a><span class="lineno"> 2105</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> un0 = (char)ImToUpper(*needle);</div>
<div class="line"><a id="l02106" name="l02106"></a><span class="lineno"> 2106</span>    <span class="keywordflow">while</span> ((!haystack_end &amp;&amp; *haystack) || (haystack_end &amp;&amp; haystack &lt; haystack_end))</div>
<div class="line"><a id="l02107" name="l02107"></a><span class="lineno"> 2107</span>    {</div>
<div class="line"><a id="l02108" name="l02108"></a><span class="lineno"> 2108</span>        <span class="keywordflow">if</span> (ImToUpper(*haystack) == un0)</div>
<div class="line"><a id="l02109" name="l02109"></a><span class="lineno"> 2109</span>        {</div>
<div class="line"><a id="l02110" name="l02110"></a><span class="lineno"> 2110</span>            <span class="keyword">const</span> <span class="keywordtype">char</span>* b = needle + 1;</div>
<div class="line"><a id="l02111" name="l02111"></a><span class="lineno"> 2111</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keywordtype">char</span>* a = haystack + 1; b &lt; needle_end; a++, b++)</div>
<div class="line"><a id="l02112" name="l02112"></a><span class="lineno"> 2112</span>                <span class="keywordflow">if</span> (ImToUpper(*a) != ImToUpper(*b))</div>
<div class="line"><a id="l02113" name="l02113"></a><span class="lineno"> 2113</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02114" name="l02114"></a><span class="lineno"> 2114</span>            <span class="keywordflow">if</span> (b == needle_end)</div>
<div class="line"><a id="l02115" name="l02115"></a><span class="lineno"> 2115</span>                <span class="keywordflow">return</span> haystack;</div>
<div class="line"><a id="l02116" name="l02116"></a><span class="lineno"> 2116</span>        }</div>
<div class="line"><a id="l02117" name="l02117"></a><span class="lineno"> 2117</span>        haystack++;</div>
<div class="line"><a id="l02118" name="l02118"></a><span class="lineno"> 2118</span>    }</div>
<div class="line"><a id="l02119" name="l02119"></a><span class="lineno"> 2119</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l02120" name="l02120"></a><span class="lineno"> 2120</span>}</div>
<div class="line"><a id="l02121" name="l02121"></a><span class="lineno"> 2121</span> </div>
<div class="line"><a id="l02122" name="l02122"></a><span class="lineno"> 2122</span><span class="comment">// Trim str by offsetting contents when there&#39;s leading data + writing a \0 at the trailing position. We use this in situation where the cost is negligible.</span></div>
<div class="line"><a id="l02123" name="l02123"></a><span class="lineno"> 2123</span><span class="keywordtype">void</span> ImStrTrimBlanks(<span class="keywordtype">char</span>* buf)</div>
<div class="line"><a id="l02124" name="l02124"></a><span class="lineno"> 2124</span>{</div>
<div class="line"><a id="l02125" name="l02125"></a><span class="lineno"> 2125</span>    <span class="keywordtype">char</span>* p = buf;</div>
<div class="line"><a id="l02126" name="l02126"></a><span class="lineno"> 2126</span>    <span class="keywordflow">while</span> (p[0] == <span class="charliteral">&#39; &#39;</span> || p[0] == <span class="charliteral">&#39;\t&#39;</span>)     <span class="comment">// Leading blanks</span></div>
<div class="line"><a id="l02127" name="l02127"></a><span class="lineno"> 2127</span>        p++;</div>
<div class="line"><a id="l02128" name="l02128"></a><span class="lineno"> 2128</span>    <span class="keywordtype">char</span>* p_start = p;</div>
<div class="line"><a id="l02129" name="l02129"></a><span class="lineno"> 2129</span>    <span class="keywordflow">while</span> (*p != 0)                         <span class="comment">// Find end of string</span></div>
<div class="line"><a id="l02130" name="l02130"></a><span class="lineno"> 2130</span>        p++;</div>
<div class="line"><a id="l02131" name="l02131"></a><span class="lineno"> 2131</span>    <span class="keywordflow">while</span> (p &gt; p_start &amp;&amp; (p[-1] == <span class="charliteral">&#39; &#39;</span> || p[-1] == <span class="charliteral">&#39;\t&#39;</span>))  <span class="comment">// Trailing blanks</span></div>
<div class="line"><a id="l02132" name="l02132"></a><span class="lineno"> 2132</span>        p--;</div>
<div class="line"><a id="l02133" name="l02133"></a><span class="lineno"> 2133</span>    <span class="keywordflow">if</span> (p_start != buf)                     <span class="comment">// Copy memory if we had leading blanks</span></div>
<div class="line"><a id="l02134" name="l02134"></a><span class="lineno"> 2134</span>        memmove(buf, p_start, p - p_start);</div>
<div class="line"><a id="l02135" name="l02135"></a><span class="lineno"> 2135</span>    buf[p - p_start] = 0;                   <span class="comment">// Zero terminate</span></div>
<div class="line"><a id="l02136" name="l02136"></a><span class="lineno"> 2136</span>}</div>
<div class="line"><a id="l02137" name="l02137"></a><span class="lineno"> 2137</span> </div>
<div class="line"><a id="l02138" name="l02138"></a><span class="lineno"> 2138</span><span class="keyword">const</span> <span class="keywordtype">char</span>* ImStrSkipBlank(<span class="keyword">const</span> <span class="keywordtype">char</span>* str)</div>
<div class="line"><a id="l02139" name="l02139"></a><span class="lineno"> 2139</span>{</div>
<div class="line"><a id="l02140" name="l02140"></a><span class="lineno"> 2140</span>    <span class="keywordflow">while</span> (str[0] == <span class="charliteral">&#39; &#39;</span> || str[0] == <span class="charliteral">&#39;\t&#39;</span>)</div>
<div class="line"><a id="l02141" name="l02141"></a><span class="lineno"> 2141</span>        str++;</div>
<div class="line"><a id="l02142" name="l02142"></a><span class="lineno"> 2142</span>    <span class="keywordflow">return</span> str;</div>
<div class="line"><a id="l02143" name="l02143"></a><span class="lineno"> 2143</span>}</div>
<div class="line"><a id="l02144" name="l02144"></a><span class="lineno"> 2144</span> </div>
<div class="line"><a id="l02145" name="l02145"></a><span class="lineno"> 2145</span><span class="comment">// A) MSVC version appears to return -1 on overflow, whereas glibc appears to return total count (which may be &gt;= buf_size).</span></div>
<div class="line"><a id="l02146" name="l02146"></a><span class="lineno"> 2146</span><span class="comment">// Ideally we would test for only one of those limits at runtime depending on the behavior the vsnprintf(), but trying to deduct it at compile time sounds like a pandora can of worm.</span></div>
<div class="line"><a id="l02147" name="l02147"></a><span class="lineno"> 2147</span><span class="comment">// B) When buf==NULL vsnprintf() will return the output size.</span></div>
<div class="line"><a id="l02148" name="l02148"></a><span class="lineno"> 2148</span><span class="preprocessor">#ifndef IMGUI_DISABLE_DEFAULT_FORMAT_FUNCTIONS</span></div>
<div class="line"><a id="l02149" name="l02149"></a><span class="lineno"> 2149</span> </div>
<div class="line"><a id="l02150" name="l02150"></a><span class="lineno"> 2150</span><span class="comment">// We support stb_sprintf which is much faster (see: https://github.com/nothings/stb/blob/master/stb_sprintf.h)</span></div>
<div class="line"><a id="l02151" name="l02151"></a><span class="lineno"> 2151</span><span class="comment">// You may set IMGUI_USE_STB_SPRINTF to use our default wrapper, or set IMGUI_DISABLE_DEFAULT_FORMAT_FUNCTIONS</span></div>
<div class="line"><a id="l02152" name="l02152"></a><span class="lineno"> 2152</span><span class="comment">// and setup the wrapper yourself. (FIXME-OPT: Some of our high-level operations such as ImGuiTextBuffer::appendfv() are</span></div>
<div class="line"><a id="l02153" name="l02153"></a><span class="lineno"> 2153</span><span class="comment">// designed using two-passes worst case, which probably could be improved using the stbsp_vsprintfcb() function.)</span></div>
<div class="line"><a id="l02154" name="l02154"></a><span class="lineno"> 2154</span><span class="preprocessor">#ifdef IMGUI_USE_STB_SPRINTF</span></div>
<div class="line"><a id="l02155" name="l02155"></a><span class="lineno"> 2155</span><span class="preprocessor">#ifndef IMGUI_DISABLE_STB_SPRINTF_IMPLEMENTATION</span></div>
<div class="line"><a id="l02156" name="l02156"></a><span class="lineno"> 2156</span><span class="preprocessor">#define STB_SPRINTF_IMPLEMENTATION</span></div>
<div class="line"><a id="l02157" name="l02157"></a><span class="lineno"> 2157</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02158" name="l02158"></a><span class="lineno"> 2158</span><span class="preprocessor">#ifdef IMGUI_STB_SPRINTF_FILENAME</span></div>
<div class="line"><a id="l02159" name="l02159"></a><span class="lineno"> 2159</span><span class="preprocessor">#include IMGUI_STB_SPRINTF_FILENAME</span></div>
<div class="line"><a id="l02160" name="l02160"></a><span class="lineno"> 2160</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l02161" name="l02161"></a><span class="lineno"> 2161</span><span class="preprocessor">#include &quot;stb_sprintf.h&quot;</span></div>
<div class="line"><a id="l02162" name="l02162"></a><span class="lineno"> 2162</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02163" name="l02163"></a><span class="lineno"> 2163</span><span class="preprocessor">#endif </span><span class="comment">// #ifdef IMGUI_USE_STB_SPRINTF</span></div>
<div class="line"><a id="l02164" name="l02164"></a><span class="lineno"> 2164</span> </div>
<div class="line"><a id="l02165" name="l02165"></a><span class="lineno"> 2165</span><span class="preprocessor">#if defined(_MSC_VER) &amp;&amp; !defined(vsnprintf)</span></div>
<div class="line"><a id="l02166" name="l02166"></a><span class="lineno"> 2166</span><span class="preprocessor">#define vsnprintf _vsnprintf</span></div>
<div class="line"><a id="l02167" name="l02167"></a><span class="lineno"> 2167</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02168" name="l02168"></a><span class="lineno"> 2168</span> </div>
<div class="line"><a id="l02169" name="l02169"></a><span class="lineno"> 2169</span><span class="keywordtype">int</span> ImFormatString(<span class="keywordtype">char</span>* buf, <span class="keywordtype">size_t</span> buf_size, <span class="keyword">const</span> <span class="keywordtype">char</span>* fmt, ...)</div>
<div class="line"><a id="l02170" name="l02170"></a><span class="lineno"> 2170</span>{</div>
<div class="line"><a id="l02171" name="l02171"></a><span class="lineno"> 2171</span>    va_list args;</div>
<div class="line"><a id="l02172" name="l02172"></a><span class="lineno"> 2172</span>    va_start(args, fmt);</div>
<div class="line"><a id="l02173" name="l02173"></a><span class="lineno"> 2173</span><span class="preprocessor">#ifdef IMGUI_USE_STB_SPRINTF</span></div>
<div class="line"><a id="l02174" name="l02174"></a><span class="lineno"> 2174</span>    <span class="keywordtype">int</span> w = stbsp_vsnprintf(buf, (<span class="keywordtype">int</span>)buf_size, fmt, args);</div>
<div class="line"><a id="l02175" name="l02175"></a><span class="lineno"> 2175</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l02176" name="l02176"></a><span class="lineno"> 2176</span>    <span class="keywordtype">int</span> w = vsnprintf(buf, buf_size, fmt, args);</div>
<div class="line"><a id="l02177" name="l02177"></a><span class="lineno"> 2177</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02178" name="l02178"></a><span class="lineno"> 2178</span>    va_end(args);</div>
<div class="line"><a id="l02179" name="l02179"></a><span class="lineno"> 2179</span>    <span class="keywordflow">if</span> (buf == NULL)</div>
<div class="line"><a id="l02180" name="l02180"></a><span class="lineno"> 2180</span>        <span class="keywordflow">return</span> w;</div>
<div class="line"><a id="l02181" name="l02181"></a><span class="lineno"> 2181</span>    <span class="keywordflow">if</span> (w == -1 || w &gt;= (<span class="keywordtype">int</span>)buf_size)</div>
<div class="line"><a id="l02182" name="l02182"></a><span class="lineno"> 2182</span>        w = (int)buf_size - 1;</div>
<div class="line"><a id="l02183" name="l02183"></a><span class="lineno"> 2183</span>    buf[w] = 0;</div>
<div class="line"><a id="l02184" name="l02184"></a><span class="lineno"> 2184</span>    <span class="keywordflow">return</span> w;</div>
<div class="line"><a id="l02185" name="l02185"></a><span class="lineno"> 2185</span>}</div>
<div class="line"><a id="l02186" name="l02186"></a><span class="lineno"> 2186</span> </div>
<div class="line"><a id="l02187" name="l02187"></a><span class="lineno"> 2187</span><span class="keywordtype">int</span> ImFormatStringV(<span class="keywordtype">char</span>* buf, <span class="keywordtype">size_t</span> buf_size, <span class="keyword">const</span> <span class="keywordtype">char</span>* fmt, va_list args)</div>
<div class="line"><a id="l02188" name="l02188"></a><span class="lineno"> 2188</span>{</div>
<div class="line"><a id="l02189" name="l02189"></a><span class="lineno"> 2189</span><span class="preprocessor">#ifdef IMGUI_USE_STB_SPRINTF</span></div>
<div class="line"><a id="l02190" name="l02190"></a><span class="lineno"> 2190</span>    <span class="keywordtype">int</span> w = stbsp_vsnprintf(buf, (<span class="keywordtype">int</span>)buf_size, fmt, args);</div>
<div class="line"><a id="l02191" name="l02191"></a><span class="lineno"> 2191</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l02192" name="l02192"></a><span class="lineno"> 2192</span>    <span class="keywordtype">int</span> w = vsnprintf(buf, buf_size, fmt, args);</div>
<div class="line"><a id="l02193" name="l02193"></a><span class="lineno"> 2193</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02194" name="l02194"></a><span class="lineno"> 2194</span>    <span class="keywordflow">if</span> (buf == NULL)</div>
<div class="line"><a id="l02195" name="l02195"></a><span class="lineno"> 2195</span>        <span class="keywordflow">return</span> w;</div>
<div class="line"><a id="l02196" name="l02196"></a><span class="lineno"> 2196</span>    <span class="keywordflow">if</span> (w == -1 || w &gt;= (<span class="keywordtype">int</span>)buf_size)</div>
<div class="line"><a id="l02197" name="l02197"></a><span class="lineno"> 2197</span>        w = (int)buf_size - 1;</div>
<div class="line"><a id="l02198" name="l02198"></a><span class="lineno"> 2198</span>    buf[w] = 0;</div>
<div class="line"><a id="l02199" name="l02199"></a><span class="lineno"> 2199</span>    <span class="keywordflow">return</span> w;</div>
<div class="line"><a id="l02200" name="l02200"></a><span class="lineno"> 2200</span>}</div>
<div class="line"><a id="l02201" name="l02201"></a><span class="lineno"> 2201</span><span class="preprocessor">#endif </span><span class="comment">// #ifdef IMGUI_DISABLE_DEFAULT_FORMAT_FUNCTIONS</span></div>
<div class="line"><a id="l02202" name="l02202"></a><span class="lineno"> 2202</span> </div>
<div class="line"><a id="l02203" name="l02203"></a><span class="lineno"> 2203</span><span class="keywordtype">void</span> ImFormatStringToTempBuffer(<span class="keyword">const</span> <span class="keywordtype">char</span>** out_buf, <span class="keyword">const</span> <span class="keywordtype">char</span>** out_buf_end, <span class="keyword">const</span> <span class="keywordtype">char</span>* fmt, ...)</div>
<div class="line"><a id="l02204" name="l02204"></a><span class="lineno"> 2204</span>{</div>
<div class="line"><a id="l02205" name="l02205"></a><span class="lineno"> 2205</span>    va_list args;</div>
<div class="line"><a id="l02206" name="l02206"></a><span class="lineno"> 2206</span>    va_start(args, fmt);</div>
<div class="line"><a id="l02207" name="l02207"></a><span class="lineno"> 2207</span>    ImFormatStringToTempBufferV(out_buf, out_buf_end, fmt, args);</div>
<div class="line"><a id="l02208" name="l02208"></a><span class="lineno"> 2208</span>    va_end(args);</div>
<div class="line"><a id="l02209" name="l02209"></a><span class="lineno"> 2209</span>}</div>
<div class="line"><a id="l02210" name="l02210"></a><span class="lineno"> 2210</span> </div>
<div class="line"><a id="l02211" name="l02211"></a><span class="lineno"> 2211</span><span class="comment">// FIXME: Should rework API toward allowing multiple in-flight temp buffers (easier and safer for caller)</span></div>
<div class="line"><a id="l02212" name="l02212"></a><span class="lineno"> 2212</span><span class="comment">// by making the caller acquire a temp buffer token, with either explicit or destructor release, e.g.</span></div>
<div class="line"><a id="l02213" name="l02213"></a><span class="lineno"> 2213</span><span class="comment">//  ImGuiTempBufferToken token;</span></div>
<div class="line"><a id="l02214" name="l02214"></a><span class="lineno"> 2214</span><span class="comment">//  ImFormatStringToTempBuffer(token, ...);</span></div>
<div class="line"><a id="l02215" name="l02215"></a><span class="lineno"> 2215</span><span class="keywordtype">void</span> ImFormatStringToTempBufferV(<span class="keyword">const</span> <span class="keywordtype">char</span>** out_buf, <span class="keyword">const</span> <span class="keywordtype">char</span>** out_buf_end, <span class="keyword">const</span> <span class="keywordtype">char</span>* fmt, va_list args)</div>
<div class="line"><a id="l02216" name="l02216"></a><span class="lineno"> 2216</span>{</div>
<div class="line"><a id="l02217" name="l02217"></a><span class="lineno"> 2217</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l02218" name="l02218"></a><span class="lineno"> 2218</span>    <span class="keywordflow">if</span> (fmt[0] == <span class="charliteral">&#39;%&#39;</span> &amp;&amp; fmt[1] == <span class="charliteral">&#39;s&#39;</span> &amp;&amp; fmt[2] == 0)</div>
<div class="line"><a id="l02219" name="l02219"></a><span class="lineno"> 2219</span>    {</div>
<div class="line"><a id="l02220" name="l02220"></a><span class="lineno"> 2220</span>        <span class="keyword">const</span> <span class="keywordtype">char</span>* buf = va_arg(args, <span class="keyword">const</span> <span class="keywordtype">char</span>*); <span class="comment">// Skip formatting when using &quot;%s&quot;</span></div>
<div class="line"><a id="l02221" name="l02221"></a><span class="lineno"> 2221</span>        <span class="keywordflow">if</span> (buf == NULL)</div>
<div class="line"><a id="l02222" name="l02222"></a><span class="lineno"> 2222</span>            buf = <span class="stringliteral">&quot;(null)&quot;</span>;</div>
<div class="line"><a id="l02223" name="l02223"></a><span class="lineno"> 2223</span>        *out_buf = buf;</div>
<div class="line"><a id="l02224" name="l02224"></a><span class="lineno"> 2224</span>        <span class="keywordflow">if</span> (out_buf_end) { *out_buf_end = buf + ImStrlen(buf); }</div>
<div class="line"><a id="l02225" name="l02225"></a><span class="lineno"> 2225</span>    }</div>
<div class="line"><a id="l02226" name="l02226"></a><span class="lineno"> 2226</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fmt[0] == <span class="charliteral">&#39;%&#39;</span> &amp;&amp; fmt[1] == <span class="charliteral">&#39;.&#39;</span> &amp;&amp; fmt[2] == <span class="charliteral">&#39;*&#39;</span> &amp;&amp; fmt[3] == <span class="charliteral">&#39;s&#39;</span> &amp;&amp; fmt[4] == 0)</div>
<div class="line"><a id="l02227" name="l02227"></a><span class="lineno"> 2227</span>    {</div>
<div class="line"><a id="l02228" name="l02228"></a><span class="lineno"> 2228</span>        <span class="keywordtype">int</span> buf_len = va_arg(args, <span class="keywordtype">int</span>); <span class="comment">// Skip formatting when using &quot;%.*s&quot;</span></div>
<div class="line"><a id="l02229" name="l02229"></a><span class="lineno"> 2229</span>        <span class="keyword">const</span> <span class="keywordtype">char</span>* buf = va_arg(args, <span class="keyword">const</span> <span class="keywordtype">char</span>*);</div>
<div class="line"><a id="l02230" name="l02230"></a><span class="lineno"> 2230</span>        <span class="keywordflow">if</span> (buf == NULL)</div>
<div class="line"><a id="l02231" name="l02231"></a><span class="lineno"> 2231</span>        {</div>
<div class="line"><a id="l02232" name="l02232"></a><span class="lineno"> 2232</span>            buf = <span class="stringliteral">&quot;(null)&quot;</span>;</div>
<div class="line"><a id="l02233" name="l02233"></a><span class="lineno"> 2233</span>            buf_len = ImMin(buf_len, 6);</div>
<div class="line"><a id="l02234" name="l02234"></a><span class="lineno"> 2234</span>        }</div>
<div class="line"><a id="l02235" name="l02235"></a><span class="lineno"> 2235</span>        *out_buf = buf;</div>
<div class="line"><a id="l02236" name="l02236"></a><span class="lineno"> 2236</span>        *out_buf_end = buf + buf_len; <span class="comment">// Disallow not passing &#39;out_buf_end&#39; here. User is expected to use it.</span></div>
<div class="line"><a id="l02237" name="l02237"></a><span class="lineno"> 2237</span>    }</div>
<div class="line"><a id="l02238" name="l02238"></a><span class="lineno"> 2238</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l02239" name="l02239"></a><span class="lineno"> 2239</span>    {</div>
<div class="line"><a id="l02240" name="l02240"></a><span class="lineno"> 2240</span>        <span class="keywordtype">int</span> buf_len = ImFormatStringV(g.TempBuffer.Data, g.TempBuffer.Size, fmt, args);</div>
<div class="line"><a id="l02241" name="l02241"></a><span class="lineno"> 2241</span>        *out_buf = g.TempBuffer.Data;</div>
<div class="line"><a id="l02242" name="l02242"></a><span class="lineno"> 2242</span>        <span class="keywordflow">if</span> (out_buf_end) { *out_buf_end = g.TempBuffer.Data + buf_len; }</div>
<div class="line"><a id="l02243" name="l02243"></a><span class="lineno"> 2243</span>    }</div>
<div class="line"><a id="l02244" name="l02244"></a><span class="lineno"> 2244</span>}</div>
<div class="line"><a id="l02245" name="l02245"></a><span class="lineno"> 2245</span> </div>
<div class="line"><a id="l02246" name="l02246"></a><span class="lineno"> 2246</span><span class="preprocessor">#ifndef IMGUI_ENABLE_SSE4_2_CRC</span></div>
<div class="line"><a id="l02247" name="l02247"></a><span class="lineno"> 2247</span><span class="comment">// CRC32 needs a 1KB lookup table (not cache friendly)</span></div>
<div class="line"><a id="l02248" name="l02248"></a><span class="lineno"> 2248</span><span class="comment">// Although the code to generate the table is simple and shorter than the table itself, using a const table allows us to easily:</span></div>
<div class="line"><a id="l02249" name="l02249"></a><span class="lineno"> 2249</span><span class="comment">// - avoid an unnecessary branch/memory tap, - keep the ImHashXXX functions usable by static constructors, - make it thread-safe.</span></div>
<div class="line"><a id="l02250" name="l02250"></a><span class="lineno"> 2250</span><span class="keyword">static</span> <span class="keyword">const</span> ImU32 GCrc32LookupTable[256] =</div>
<div class="line"><a id="l02251" name="l02251"></a><span class="lineno"> 2251</span>{</div>
<div class="line"><a id="l02252" name="l02252"></a><span class="lineno"> 2252</span><span class="preprocessor">#ifdef IMGUI_USE_LEGACY_CRC32_ADLER</span></div>
<div class="line"><a id="l02253" name="l02253"></a><span class="lineno"> 2253</span>    <span class="comment">// Legacy CRC32-adler table used pre 1.91.6 (before 2024/11/27). Only use if you cannot afford invalidating old .ini data.</span></div>
<div class="line"><a id="l02254" name="l02254"></a><span class="lineno"> 2254</span>    0x00000000,0x77073096,0xEE0E612C,0x990951BA,0x076DC419,0x706AF48F,0xE963A535,0x9E6495A3,0x0EDB8832,0x79DCB8A4,0xE0D5E91E,0x97D2D988,0x09B64C2B,0x7EB17CBD,0xE7B82D07,0x90BF1D91,</div>
<div class="line"><a id="l02255" name="l02255"></a><span class="lineno"> 2255</span>    0x1DB71064,0x6AB020F2,0xF3B97148,0x84BE41DE,0x1ADAD47D,0x6DDDE4EB,0xF4D4B551,0x83D385C7,0x136C9856,0x646BA8C0,0xFD62F97A,0x8A65C9EC,0x14015C4F,0x63066CD9,0xFA0F3D63,0x8D080DF5,</div>
<div class="line"><a id="l02256" name="l02256"></a><span class="lineno"> 2256</span>    0x3B6E20C8,0x4C69105E,0xD56041E4,0xA2677172,0x3C03E4D1,0x4B04D447,0xD20D85FD,0xA50AB56B,0x35B5A8FA,0x42B2986C,0xDBBBC9D6,0xACBCF940,0x32D86CE3,0x45DF5C75,0xDCD60DCF,0xABD13D59,</div>
<div class="line"><a id="l02257" name="l02257"></a><span class="lineno"> 2257</span>    0x26D930AC,0x51DE003A,0xC8D75180,0xBFD06116,0x21B4F4B5,0x56B3C423,0xCFBA9599,0xB8BDA50F,0x2802B89E,0x5F058808,0xC60CD9B2,0xB10BE924,0x2F6F7C87,0x58684C11,0xC1611DAB,0xB6662D3D,</div>
<div class="line"><a id="l02258" name="l02258"></a><span class="lineno"> 2258</span>    0x76DC4190,0x01DB7106,0x98D220BC,0xEFD5102A,0x71B18589,0x06B6B51F,0x9FBFE4A5,0xE8B8D433,0x7807C9A2,0x0F00F934,0x9609A88E,0xE10E9818,0x7F6A0DBB,0x086D3D2D,0x91646C97,0xE6635C01,</div>
<div class="line"><a id="l02259" name="l02259"></a><span class="lineno"> 2259</span>    0x6B6B51F4,0x1C6C6162,0x856530D8,0xF262004E,0x6C0695ED,0x1B01A57B,0x8208F4C1,0xF50FC457,0x65B0D9C6,0x12B7E950,0x8BBEB8EA,0xFCB9887C,0x62DD1DDF,0x15DA2D49,0x8CD37CF3,0xFBD44C65,</div>
<div class="line"><a id="l02260" name="l02260"></a><span class="lineno"> 2260</span>    0x4DB26158,0x3AB551CE,0xA3BC0074,0xD4BB30E2,0x4ADFA541,0x3DD895D7,0xA4D1C46D,0xD3D6F4FB,0x4369E96A,0x346ED9FC,0xAD678846,0xDA60B8D0,0x44042D73,0x33031DE5,0xAA0A4C5F,0xDD0D7CC9,</div>
<div class="line"><a id="l02261" name="l02261"></a><span class="lineno"> 2261</span>    0x5005713C,0x270241AA,0xBE0B1010,0xC90C2086,0x5768B525,0x206F85B3,0xB966D409,0xCE61E49F,0x5EDEF90E,0x29D9C998,0xB0D09822,0xC7D7A8B4,0x59B33D17,0x2EB40D81,0xB7BD5C3B,0xC0BA6CAD,</div>
<div class="line"><a id="l02262" name="l02262"></a><span class="lineno"> 2262</span>    0xEDB88320,0x9ABFB3B6,0x03B6E20C,0x74B1D29A,0xEAD54739,0x9DD277AF,0x04DB2615,0x73DC1683,0xE3630B12,0x94643B84,0x0D6D6A3E,0x7A6A5AA8,0xE40ECF0B,0x9309FF9D,0x0A00AE27,0x7D079EB1,</div>
<div class="line"><a id="l02263" name="l02263"></a><span class="lineno"> 2263</span>    0xF00F9344,0x8708A3D2,0x1E01F268,0x6906C2FE,0xF762575D,0x806567CB,0x196C3671,0x6E6B06E7,0xFED41B76,0x89D32BE0,0x10DA7A5A,0x67DD4ACC,0xF9B9DF6F,0x8EBEEFF9,0x17B7BE43,0x60B08ED5,</div>
<div class="line"><a id="l02264" name="l02264"></a><span class="lineno"> 2264</span>    0xD6D6A3E8,0xA1D1937E,0x38D8C2C4,0x4FDFF252,0xD1BB67F1,0xA6BC5767,0x3FB506DD,0x48B2364B,0xD80D2BDA,0xAF0A1B4C,0x36034AF6,0x41047A60,0xDF60EFC3,0xA867DF55,0x316E8EEF,0x4669BE79,</div>
<div class="line"><a id="l02265" name="l02265"></a><span class="lineno"> 2265</span>    0xCB61B38C,0xBC66831A,0x256FD2A0,0x5268E236,0xCC0C7795,0xBB0B4703,0x220216B9,0x5505262F,0xC5BA3BBE,0xB2BD0B28,0x2BB45A92,0x5CB36A04,0xC2D7FFA7,0xB5D0CF31,0x2CD99E8B,0x5BDEAE1D,</div>
<div class="line"><a id="l02266" name="l02266"></a><span class="lineno"> 2266</span>    0x9B64C2B0,0xEC63F226,0x756AA39C,0x026D930A,0x9C0906A9,0xEB0E363F,0x72076785,0x05005713,0x95BF4A82,0xE2B87A14,0x7BB12BAE,0x0CB61B38,0x92D28E9B,0xE5D5BE0D,0x7CDCEFB7,0x0BDBDF21,</div>
<div class="line"><a id="l02267" name="l02267"></a><span class="lineno"> 2267</span>    0x86D3D2D4,0xF1D4E242,0x68DDB3F8,0x1FDA836E,0x81BE16CD,0xF6B9265B,0x6FB077E1,0x18B74777,0x88085AE6,0xFF0F6A70,0x66063BCA,0x11010B5C,0x8F659EFF,0xF862AE69,0x616BFFD3,0x166CCF45,</div>
<div class="line"><a id="l02268" name="l02268"></a><span class="lineno"> 2268</span>    0xA00AE278,0xD70DD2EE,0x4E048354,0x3903B3C2,0xA7672661,0xD06016F7,0x4969474D,0x3E6E77DB,0xAED16A4A,0xD9D65ADC,0x40DF0B66,0x37D83BF0,0xA9BCAE53,0xDEBB9EC5,0x47B2CF7F,0x30B5FFE9,</div>
<div class="line"><a id="l02269" name="l02269"></a><span class="lineno"> 2269</span>    0xBDBDF21C,0xCABAC28A,0x53B39330,0x24B4A3A6,0xBAD03605,0xCDD70693,0x54DE5729,0x23D967BF,0xB3667A2E,0xC4614AB8,0x5D681B02,0x2A6F2B94,0xB40BBE37,0xC30C8EA1,0x5A05DF1B,0x2D02EF8D,</div>
<div class="line"><a id="l02270" name="l02270"></a><span class="lineno"> 2270</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l02271" name="l02271"></a><span class="lineno"> 2271</span>    <span class="comment">// CRC32c table compatible with SSE 4.2 instructions</span></div>
<div class="line"><a id="l02272" name="l02272"></a><span class="lineno"> 2272</span>    0x00000000,0xF26B8303,0xE13B70F7,0x1350F3F4,0xC79A971F,0x35F1141C,0x26A1E7E8,0xD4CA64EB,0x8AD958CF,0x78B2DBCC,0x6BE22838,0x9989AB3B,0x4D43CFD0,0xBF284CD3,0xAC78BF27,0x5E133C24,</div>
<div class="line"><a id="l02273" name="l02273"></a><span class="lineno"> 2273</span>    0x105EC76F,0xE235446C,0xF165B798,0x030E349B,0xD7C45070,0x25AFD373,0x36FF2087,0xC494A384,0x9A879FA0,0x68EC1CA3,0x7BBCEF57,0x89D76C54,0x5D1D08BF,0xAF768BBC,0xBC267848,0x4E4DFB4B,</div>
<div class="line"><a id="l02274" name="l02274"></a><span class="lineno"> 2274</span>    0x20BD8EDE,0xD2D60DDD,0xC186FE29,0x33ED7D2A,0xE72719C1,0x154C9AC2,0x061C6936,0xF477EA35,0xAA64D611,0x580F5512,0x4B5FA6E6,0xB93425E5,0x6DFE410E,0x9F95C20D,0x8CC531F9,0x7EAEB2FA,</div>
<div class="line"><a id="l02275" name="l02275"></a><span class="lineno"> 2275</span>    0x30E349B1,0xC288CAB2,0xD1D83946,0x23B3BA45,0xF779DEAE,0x05125DAD,0x1642AE59,0xE4292D5A,0xBA3A117E,0x4851927D,0x5B016189,0xA96AE28A,0x7DA08661,0x8FCB0562,0x9C9BF696,0x6EF07595,</div>
<div class="line"><a id="l02276" name="l02276"></a><span class="lineno"> 2276</span>    0x417B1DBC,0xB3109EBF,0xA0406D4B,0x522BEE48,0x86E18AA3,0x748A09A0,0x67DAFA54,0x95B17957,0xCBA24573,0x39C9C670,0x2A993584,0xD8F2B687,0x0C38D26C,0xFE53516F,0xED03A29B,0x1F682198,</div>
<div class="line"><a id="l02277" name="l02277"></a><span class="lineno"> 2277</span>    0x5125DAD3,0xA34E59D0,0xB01EAA24,0x42752927,0x96BF4DCC,0x64D4CECF,0x77843D3B,0x85EFBE38,0xDBFC821C,0x2997011F,0x3AC7F2EB,0xC8AC71E8,0x1C661503,0xEE0D9600,0xFD5D65F4,0x0F36E6F7,</div>
<div class="line"><a id="l02278" name="l02278"></a><span class="lineno"> 2278</span>    0x61C69362,0x93AD1061,0x80FDE395,0x72966096,0xA65C047D,0x5437877E,0x4767748A,0xB50CF789,0xEB1FCBAD,0x197448AE,0x0A24BB5A,0xF84F3859,0x2C855CB2,0xDEEEDFB1,0xCDBE2C45,0x3FD5AF46,</div>
<div class="line"><a id="l02279" name="l02279"></a><span class="lineno"> 2279</span>    0x7198540D,0x83F3D70E,0x90A324FA,0x62C8A7F9,0xB602C312,0x44694011,0x5739B3E5,0xA55230E6,0xFB410CC2,0x092A8FC1,0x1A7A7C35,0xE811FF36,0x3CDB9BDD,0xCEB018DE,0xDDE0EB2A,0x2F8B6829,</div>
<div class="line"><a id="l02280" name="l02280"></a><span class="lineno"> 2280</span>    0x82F63B78,0x709DB87B,0x63CD4B8F,0x91A6C88C,0x456CAC67,0xB7072F64,0xA457DC90,0x563C5F93,0x082F63B7,0xFA44E0B4,0xE9141340,0x1B7F9043,0xCFB5F4A8,0x3DDE77AB,0x2E8E845F,0xDCE5075C,</div>
<div class="line"><a id="l02281" name="l02281"></a><span class="lineno"> 2281</span>    0x92A8FC17,0x60C37F14,0x73938CE0,0x81F80FE3,0x55326B08,0xA759E80B,0xB4091BFF,0x466298FC,0x1871A4D8,0xEA1A27DB,0xF94AD42F,0x0B21572C,0xDFEB33C7,0x2D80B0C4,0x3ED04330,0xCCBBC033,</div>
<div class="line"><a id="l02282" name="l02282"></a><span class="lineno"> 2282</span>    0xA24BB5A6,0x502036A5,0x4370C551,0xB11B4652,0x65D122B9,0x97BAA1BA,0x84EA524E,0x7681D14D,0x2892ED69,0xDAF96E6A,0xC9A99D9E,0x3BC21E9D,0xEF087A76,0x1D63F975,0x0E330A81,0xFC588982,</div>
<div class="line"><a id="l02283" name="l02283"></a><span class="lineno"> 2283</span>    0xB21572C9,0x407EF1CA,0x532E023E,0xA145813D,0x758FE5D6,0x87E466D5,0x94B49521,0x66DF1622,0x38CC2A06,0xCAA7A905,0xD9F75AF1,0x2B9CD9F2,0xFF56BD19,0x0D3D3E1A,0x1E6DCDEE,0xEC064EED,</div>
<div class="line"><a id="l02284" name="l02284"></a><span class="lineno"> 2284</span>    0xC38D26C4,0x31E6A5C7,0x22B65633,0xD0DDD530,0x0417B1DB,0xF67C32D8,0xE52CC12C,0x1747422F,0x49547E0B,0xBB3FFD08,0xA86F0EFC,0x5A048DFF,0x8ECEE914,0x7CA56A17,0x6FF599E3,0x9D9E1AE0,</div>
<div class="line"><a id="l02285" name="l02285"></a><span class="lineno"> 2285</span>    0xD3D3E1AB,0x21B862A8,0x32E8915C,0xC083125F,0x144976B4,0xE622F5B7,0xF5720643,0x07198540,0x590AB964,0xAB613A67,0xB831C993,0x4A5A4A90,0x9E902E7B,0x6CFBAD78,0x7FAB5E8C,0x8DC0DD8F,</div>
<div class="line"><a id="l02286" name="l02286"></a><span class="lineno"> 2286</span>    0xE330A81A,0x115B2B19,0x020BD8ED,0xF0605BEE,0x24AA3F05,0xD6C1BC06,0xC5914FF2,0x37FACCF1,0x69E9F0D5,0x9B8273D6,0x88D28022,0x7AB90321,0xAE7367CA,0x5C18E4C9,0x4F48173D,0xBD23943E,</div>
<div class="line"><a id="l02287" name="l02287"></a><span class="lineno"> 2287</span>    0xF36E6F75,0x0105EC76,0x12551F82,0xE03E9C81,0x34F4F86A,0xC69F7B69,0xD5CF889D,0x27A40B9E,0x79B737BA,0x8BDCB4B9,0x988C474D,0x6AE7C44E,0xBE2DA0A5,0x4C4623A6,0x5F16D052,0xAD7D5351</div>
<div class="line"><a id="l02288" name="l02288"></a><span class="lineno"> 2288</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02289" name="l02289"></a><span class="lineno"> 2289</span>};</div>
<div class="line"><a id="l02290" name="l02290"></a><span class="lineno"> 2290</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02291" name="l02291"></a><span class="lineno"> 2291</span> </div>
<div class="line"><a id="l02292" name="l02292"></a><span class="lineno"> 2292</span><span class="comment">// Known size hash</span></div>
<div class="line"><a id="l02293" name="l02293"></a><span class="lineno"> 2293</span><span class="comment">// It is ok to call ImHashData on a string with known length but the ### operator won&#39;t be supported.</span></div>
<div class="line"><a id="l02294" name="l02294"></a><span class="lineno"> 2294</span><span class="comment">// FIXME-OPT: Replace with e.g. FNV1a hash? CRC32 pretty much randomly access 1KB. Need to do proper measurements.</span></div>
<div class="line"><a id="l02295" name="l02295"></a><span class="lineno"> 2295</span>ImGuiID ImHashData(<span class="keyword">const</span> <span class="keywordtype">void</span>* data_p, <span class="keywordtype">size_t</span> data_size, ImGuiID seed)</div>
<div class="line"><a id="l02296" name="l02296"></a><span class="lineno"> 2296</span>{</div>
<div class="line"><a id="l02297" name="l02297"></a><span class="lineno"> 2297</span>    ImU32 crc = ~seed;</div>
<div class="line"><a id="l02298" name="l02298"></a><span class="lineno"> 2298</span>    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* data = (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)data_p;</div>
<div class="line"><a id="l02299" name="l02299"></a><span class="lineno"> 2299</span>    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *data_end = (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)data_p + data_size;</div>
<div class="line"><a id="l02300" name="l02300"></a><span class="lineno"> 2300</span><span class="preprocessor">#ifndef IMGUI_ENABLE_SSE4_2_CRC</span></div>
<div class="line"><a id="l02301" name="l02301"></a><span class="lineno"> 2301</span>    <span class="keyword">const</span> ImU32* crc32_lut = GCrc32LookupTable;</div>
<div class="line"><a id="l02302" name="l02302"></a><span class="lineno"> 2302</span>    <span class="keywordflow">while</span> (data &lt; data_end)</div>
<div class="line"><a id="l02303" name="l02303"></a><span class="lineno"> 2303</span>        crc = (crc &gt;&gt; 8) ^ crc32_lut[(crc &amp; 0xFF) ^ *data++];</div>
<div class="line"><a id="l02304" name="l02304"></a><span class="lineno"> 2304</span>    <span class="keywordflow">return</span> ~crc;</div>
<div class="line"><a id="l02305" name="l02305"></a><span class="lineno"> 2305</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l02306" name="l02306"></a><span class="lineno"> 2306</span>    <span class="keywordflow">while</span> (data + 4 &lt;= data_end)</div>
<div class="line"><a id="l02307" name="l02307"></a><span class="lineno"> 2307</span>    {</div>
<div class="line"><a id="l02308" name="l02308"></a><span class="lineno"> 2308</span>        crc = _mm_crc32_u32(crc, *(ImU32*)data);</div>
<div class="line"><a id="l02309" name="l02309"></a><span class="lineno"> 2309</span>        data += 4;</div>
<div class="line"><a id="l02310" name="l02310"></a><span class="lineno"> 2310</span>    }</div>
<div class="line"><a id="l02311" name="l02311"></a><span class="lineno"> 2311</span>    <span class="keywordflow">while</span> (data &lt; data_end)</div>
<div class="line"><a id="l02312" name="l02312"></a><span class="lineno"> 2312</span>        crc = _mm_crc32_u8(crc, *data++);</div>
<div class="line"><a id="l02313" name="l02313"></a><span class="lineno"> 2313</span>    <span class="keywordflow">return</span> ~crc;</div>
<div class="line"><a id="l02314" name="l02314"></a><span class="lineno"> 2314</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02315" name="l02315"></a><span class="lineno"> 2315</span>}</div>
<div class="line"><a id="l02316" name="l02316"></a><span class="lineno"> 2316</span> </div>
<div class="line"><a id="l02317" name="l02317"></a><span class="lineno"> 2317</span><span class="comment">// Zero-terminated string hash, with support for ### to reset back to seed value</span></div>
<div class="line"><a id="l02318" name="l02318"></a><span class="lineno"> 2318</span><span class="comment">// We support a syntax of &quot;label###id&quot; where only &quot;###id&quot; is included in the hash, and only &quot;label&quot; gets displayed.</span></div>
<div class="line"><a id="l02319" name="l02319"></a><span class="lineno"> 2319</span><span class="comment">// Because this syntax is rarely used we are optimizing for the common case.</span></div>
<div class="line"><a id="l02320" name="l02320"></a><span class="lineno"> 2320</span><span class="comment">// - If we reach ### in the string we discard the hash so far and reset to the seed.</span></div>
<div class="line"><a id="l02321" name="l02321"></a><span class="lineno"> 2321</span><span class="comment">// - We don&#39;t do &#39;current += 2; continue;&#39; after handling ### to keep the code smaller/faster (measured ~10% diff in Debug build)</span></div>
<div class="line"><a id="l02322" name="l02322"></a><span class="lineno"> 2322</span><span class="comment">// FIXME-OPT: Replace with e.g. FNV1a hash? CRC32 pretty much randomly access 1KB. Need to do proper measurements.</span></div>
<div class="line"><a id="l02323" name="l02323"></a><span class="lineno"> 2323</span>ImGuiID ImHashStr(<span class="keyword">const</span> <span class="keywordtype">char</span>* data_p, <span class="keywordtype">size_t</span> data_size, ImGuiID seed)</div>
<div class="line"><a id="l02324" name="l02324"></a><span class="lineno"> 2324</span>{</div>
<div class="line"><a id="l02325" name="l02325"></a><span class="lineno"> 2325</span>    seed = ~seed;</div>
<div class="line"><a id="l02326" name="l02326"></a><span class="lineno"> 2326</span>    ImU32 crc = seed;</div>
<div class="line"><a id="l02327" name="l02327"></a><span class="lineno"> 2327</span>    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* data = (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)data_p;</div>
<div class="line"><a id="l02328" name="l02328"></a><span class="lineno"> 2328</span><span class="preprocessor">#ifndef IMGUI_ENABLE_SSE4_2_CRC</span></div>
<div class="line"><a id="l02329" name="l02329"></a><span class="lineno"> 2329</span>    <span class="keyword">const</span> ImU32* crc32_lut = GCrc32LookupTable;</div>
<div class="line"><a id="l02330" name="l02330"></a><span class="lineno"> 2330</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02331" name="l02331"></a><span class="lineno"> 2331</span>    <span class="keywordflow">if</span> (data_size != 0)</div>
<div class="line"><a id="l02332" name="l02332"></a><span class="lineno"> 2332</span>    {</div>
<div class="line"><a id="l02333" name="l02333"></a><span class="lineno"> 2333</span>        <span class="keywordflow">while</span> (data_size-- != 0)</div>
<div class="line"><a id="l02334" name="l02334"></a><span class="lineno"> 2334</span>        {</div>
<div class="line"><a id="l02335" name="l02335"></a><span class="lineno"> 2335</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> c = *data++;</div>
<div class="line"><a id="l02336" name="l02336"></a><span class="lineno"> 2336</span>            <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;#&#39;</span> &amp;&amp; data_size &gt;= 2 &amp;&amp; data[0] == <span class="charliteral">&#39;#&#39;</span> &amp;&amp; data[1] == <span class="charliteral">&#39;#&#39;</span>)</div>
<div class="line"><a id="l02337" name="l02337"></a><span class="lineno"> 2337</span>                crc = seed;</div>
<div class="line"><a id="l02338" name="l02338"></a><span class="lineno"> 2338</span><span class="preprocessor">#ifndef IMGUI_ENABLE_SSE4_2_CRC</span></div>
<div class="line"><a id="l02339" name="l02339"></a><span class="lineno"> 2339</span>            crc = (crc &gt;&gt; 8) ^ crc32_lut[(crc &amp; 0xFF) ^ c];</div>
<div class="line"><a id="l02340" name="l02340"></a><span class="lineno"> 2340</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l02341" name="l02341"></a><span class="lineno"> 2341</span>            crc = _mm_crc32_u8(crc, c);</div>
<div class="line"><a id="l02342" name="l02342"></a><span class="lineno"> 2342</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02343" name="l02343"></a><span class="lineno"> 2343</span>        }</div>
<div class="line"><a id="l02344" name="l02344"></a><span class="lineno"> 2344</span>    }</div>
<div class="line"><a id="l02345" name="l02345"></a><span class="lineno"> 2345</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l02346" name="l02346"></a><span class="lineno"> 2346</span>    {</div>
<div class="line"><a id="l02347" name="l02347"></a><span class="lineno"> 2347</span>        <span class="keywordflow">while</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> c = *data++)</div>
<div class="line"><a id="l02348" name="l02348"></a><span class="lineno"> 2348</span>        {</div>
<div class="line"><a id="l02349" name="l02349"></a><span class="lineno"> 2349</span>            <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;#&#39;</span> &amp;&amp; data[0] == <span class="charliteral">&#39;#&#39;</span> &amp;&amp; data[1] == <span class="charliteral">&#39;#&#39;</span>)</div>
<div class="line"><a id="l02350" name="l02350"></a><span class="lineno"> 2350</span>                crc = seed;</div>
<div class="line"><a id="l02351" name="l02351"></a><span class="lineno"> 2351</span><span class="preprocessor">#ifndef IMGUI_ENABLE_SSE4_2_CRC</span></div>
<div class="line"><a id="l02352" name="l02352"></a><span class="lineno"> 2352</span>            crc = (crc &gt;&gt; 8) ^ crc32_lut[(crc &amp; 0xFF) ^ c];</div>
<div class="line"><a id="l02353" name="l02353"></a><span class="lineno"> 2353</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l02354" name="l02354"></a><span class="lineno"> 2354</span>            crc = _mm_crc32_u8(crc, c);</div>
<div class="line"><a id="l02355" name="l02355"></a><span class="lineno"> 2355</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02356" name="l02356"></a><span class="lineno"> 2356</span>        }</div>
<div class="line"><a id="l02357" name="l02357"></a><span class="lineno"> 2357</span>    }</div>
<div class="line"><a id="l02358" name="l02358"></a><span class="lineno"> 2358</span>    <span class="keywordflow">return</span> ~crc;</div>
<div class="line"><a id="l02359" name="l02359"></a><span class="lineno"> 2359</span>}</div>
<div class="line"><a id="l02360" name="l02360"></a><span class="lineno"> 2360</span> </div>
<div class="line"><a id="l02361" name="l02361"></a><span class="lineno"> 2361</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02362" name="l02362"></a><span class="lineno"> 2362</span><span class="comment">// [SECTION] MISC HELPERS/UTILITIES (File functions)</span></div>
<div class="line"><a id="l02363" name="l02363"></a><span class="lineno"> 2363</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02364" name="l02364"></a><span class="lineno"> 2364</span> </div>
<div class="line"><a id="l02365" name="l02365"></a><span class="lineno"> 2365</span><span class="comment">// Default file functions</span></div>
<div class="line"><a id="l02366" name="l02366"></a><span class="lineno"> 2366</span><span class="preprocessor">#ifndef IMGUI_DISABLE_DEFAULT_FILE_FUNCTIONS</span></div>
<div class="line"><a id="l02367" name="l02367"></a><span class="lineno"> 2367</span> </div>
<div class="line"><a id="l02368" name="l02368"></a><span class="lineno"> 2368</span>ImFileHandle ImFileOpen(<span class="keyword">const</span> <span class="keywordtype">char</span>* filename, <span class="keyword">const</span> <span class="keywordtype">char</span>* mode)</div>
<div class="line"><a id="l02369" name="l02369"></a><span class="lineno"> 2369</span>{</div>
<div class="line"><a id="l02370" name="l02370"></a><span class="lineno"> 2370</span><span class="preprocessor">#if defined(_WIN32) &amp;&amp; !defined(IMGUI_DISABLE_WIN32_FUNCTIONS) &amp;&amp; (defined(__MINGW32__) || (!defined(__CYGWIN__) &amp;&amp; !defined(__GNUC__)))</span></div>
<div class="line"><a id="l02371" name="l02371"></a><span class="lineno"> 2371</span>    <span class="comment">// We need a fopen() wrapper because MSVC/Windows fopen doesn&#39;t handle UTF-8 filenames.</span></div>
<div class="line"><a id="l02372" name="l02372"></a><span class="lineno"> 2372</span>    <span class="comment">// Previously we used ImTextCountCharsFromUtf8/ImTextStrFromUtf8 here but we now need to support ImWchar16 and ImWchar32!</span></div>
<div class="line"><a id="l02373" name="l02373"></a><span class="lineno"> 2373</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> filename_wsize = ::MultiByteToWideChar(CP_UTF8, 0, filename, -1, NULL, 0);</div>
<div class="line"><a id="l02374" name="l02374"></a><span class="lineno"> 2374</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> mode_wsize = ::MultiByteToWideChar(CP_UTF8, 0, mode, -1, NULL, 0);</div>
<div class="line"><a id="l02375" name="l02375"></a><span class="lineno"> 2375</span> </div>
<div class="line"><a id="l02376" name="l02376"></a><span class="lineno"> 2376</span>    <span class="comment">// Use stack buffer if possible, otherwise heap buffer. Sizes include zero terminator.</span></div>
<div class="line"><a id="l02377" name="l02377"></a><span class="lineno"> 2377</span>    <span class="comment">// We don&#39;t rely on current ImGuiContext as this is implied to be a helper function which doesn&#39;t depend on it (see #7314).</span></div>
<div class="line"><a id="l02378" name="l02378"></a><span class="lineno"> 2378</span>    <span class="keywordtype">wchar_t</span> local_temp_stack[FILENAME_MAX];</div>
<div class="line"><a id="l02379" name="l02379"></a><span class="lineno"> 2379</span>    <a class="code hl_struct" href="structImVector.html">ImVector&lt;wchar_t&gt;</a> local_temp_heap;</div>
<div class="line"><a id="l02380" name="l02380"></a><span class="lineno"> 2380</span>    <span class="keywordflow">if</span> (filename_wsize + mode_wsize &gt; IM_ARRAYSIZE(local_temp_stack))</div>
<div class="line"><a id="l02381" name="l02381"></a><span class="lineno"> 2381</span>        local_temp_heap.resize(filename_wsize + mode_wsize);</div>
<div class="line"><a id="l02382" name="l02382"></a><span class="lineno"> 2382</span>    <span class="keywordtype">wchar_t</span>* filename_wbuf = local_temp_heap.Data ? local_temp_heap.Data : local_temp_stack;</div>
<div class="line"><a id="l02383" name="l02383"></a><span class="lineno"> 2383</span>    <span class="keywordtype">wchar_t</span>* mode_wbuf = filename_wbuf + filename_wsize;</div>
<div class="line"><a id="l02384" name="l02384"></a><span class="lineno"> 2384</span>    ::MultiByteToWideChar(CP_UTF8, 0, filename, -1, filename_wbuf, filename_wsize);</div>
<div class="line"><a id="l02385" name="l02385"></a><span class="lineno"> 2385</span>    ::MultiByteToWideChar(CP_UTF8, 0, mode, -1, mode_wbuf, mode_wsize);</div>
<div class="line"><a id="l02386" name="l02386"></a><span class="lineno"> 2386</span>    return ::_wfopen(filename_wbuf, mode_wbuf);</div>
<div class="line"><a id="l02387" name="l02387"></a><span class="lineno"> 2387</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l02388" name="l02388"></a><span class="lineno"> 2388</span>    <span class="keywordflow">return</span> fopen(filename, mode);</div>
<div class="line"><a id="l02389" name="l02389"></a><span class="lineno"> 2389</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02390" name="l02390"></a><span class="lineno"> 2390</span>}</div>
<div class="line"><a id="l02391" name="l02391"></a><span class="lineno"> 2391</span> </div>
<div class="line"><a id="l02392" name="l02392"></a><span class="lineno"> 2392</span><span class="comment">// We should in theory be using fseeko()/ftello() with off_t and _fseeki64()/_ftelli64() with __int64, waiting for the PR that does that in a very portable pre-C++11 zero-warnings way.</span></div>
<div class="line"><a id="l02393" name="l02393"></a><span class="lineno"> 2393</span><span class="keywordtype">bool</span>    ImFileClose(ImFileHandle f)     { <span class="keywordflow">return</span> fclose(f) == 0; }</div>
<div class="line"><a id="l02394" name="l02394"></a><span class="lineno"> 2394</span>ImU64   ImFileGetSize(ImFileHandle f)   { <span class="keywordtype">long</span> off = 0, sz = 0; <span class="keywordflow">return</span> ((off = ftell(f)) != -1 &amp;&amp; !fseek(f, 0, SEEK_END) &amp;&amp; (sz = ftell(f)) != -1 &amp;&amp; !fseek(f, off, SEEK_SET)) ? (ImU64)sz : (ImU64)-1; }</div>
<div class="line"><a id="l02395" name="l02395"></a><span class="lineno"> 2395</span>ImU64   ImFileRead(<span class="keywordtype">void</span>* data, ImU64 sz, ImU64 count, ImFileHandle f)           { <span class="keywordflow">return</span> fread(data, (<span class="keywordtype">size_t</span>)sz, (<span class="keywordtype">size_t</span>)count, f); }</div>
<div class="line"><a id="l02396" name="l02396"></a><span class="lineno"> 2396</span>ImU64   ImFileWrite(<span class="keyword">const</span> <span class="keywordtype">void</span>* data, ImU64 sz, ImU64 count, ImFileHandle f)    { <span class="keywordflow">return</span> fwrite(data, (<span class="keywordtype">size_t</span>)sz, (<span class="keywordtype">size_t</span>)count, f); }</div>
<div class="line"><a id="l02397" name="l02397"></a><span class="lineno"> 2397</span><span class="preprocessor">#endif </span><span class="comment">// #ifndef IMGUI_DISABLE_DEFAULT_FILE_FUNCTIONS</span></div>
<div class="line"><a id="l02398" name="l02398"></a><span class="lineno"> 2398</span> </div>
<div class="line"><a id="l02399" name="l02399"></a><span class="lineno"> 2399</span><span class="comment">// Helper: Load file content into memory</span></div>
<div class="line"><a id="l02400" name="l02400"></a><span class="lineno"> 2400</span><span class="comment">// Memory allocated with IM_ALLOC(), must be freed by user using IM_FREE() == ImGui::MemFree()</span></div>
<div class="line"><a id="l02401" name="l02401"></a><span class="lineno"> 2401</span><span class="comment">// This can&#39;t really be used with &quot;rt&quot; because fseek size won&#39;t match read size.</span></div>
<div class="line"><a id="l02402" name="l02402"></a><span class="lineno"> 2402</span><span class="keywordtype">void</span>*   ImFileLoadToMemory(<span class="keyword">const</span> <span class="keywordtype">char</span>* filename, <span class="keyword">const</span> <span class="keywordtype">char</span>* mode, <span class="keywordtype">size_t</span>* out_file_size, <span class="keywordtype">int</span> padding_bytes)</div>
<div class="line"><a id="l02403" name="l02403"></a><span class="lineno"> 2403</span>{</div>
<div class="line"><a id="l02404" name="l02404"></a><span class="lineno"> 2404</span>    IM_ASSERT(filename &amp;&amp; mode);</div>
<div class="line"><a id="l02405" name="l02405"></a><span class="lineno"> 2405</span>    <span class="keywordflow">if</span> (out_file_size)</div>
<div class="line"><a id="l02406" name="l02406"></a><span class="lineno"> 2406</span>        *out_file_size = 0;</div>
<div class="line"><a id="l02407" name="l02407"></a><span class="lineno"> 2407</span> </div>
<div class="line"><a id="l02408" name="l02408"></a><span class="lineno"> 2408</span>    ImFileHandle f;</div>
<div class="line"><a id="l02409" name="l02409"></a><span class="lineno"> 2409</span>    <span class="keywordflow">if</span> ((f = ImFileOpen(filename, mode)) == NULL)</div>
<div class="line"><a id="l02410" name="l02410"></a><span class="lineno"> 2410</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l02411" name="l02411"></a><span class="lineno"> 2411</span> </div>
<div class="line"><a id="l02412" name="l02412"></a><span class="lineno"> 2412</span>    <span class="keywordtype">size_t</span> file_size = (size_t)ImFileGetSize(f);</div>
<div class="line"><a id="l02413" name="l02413"></a><span class="lineno"> 2413</span>    <span class="keywordflow">if</span> (file_size == (<span class="keywordtype">size_t</span>)-1)</div>
<div class="line"><a id="l02414" name="l02414"></a><span class="lineno"> 2414</span>    {</div>
<div class="line"><a id="l02415" name="l02415"></a><span class="lineno"> 2415</span>        ImFileClose(f);</div>
<div class="line"><a id="l02416" name="l02416"></a><span class="lineno"> 2416</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l02417" name="l02417"></a><span class="lineno"> 2417</span>    }</div>
<div class="line"><a id="l02418" name="l02418"></a><span class="lineno"> 2418</span> </div>
<div class="line"><a id="l02419" name="l02419"></a><span class="lineno"> 2419</span>    <span class="keywordtype">void</span>* file_data = IM_ALLOC(file_size + padding_bytes);</div>
<div class="line"><a id="l02420" name="l02420"></a><span class="lineno"> 2420</span>    <span class="keywordflow">if</span> (file_data == NULL)</div>
<div class="line"><a id="l02421" name="l02421"></a><span class="lineno"> 2421</span>    {</div>
<div class="line"><a id="l02422" name="l02422"></a><span class="lineno"> 2422</span>        ImFileClose(f);</div>
<div class="line"><a id="l02423" name="l02423"></a><span class="lineno"> 2423</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l02424" name="l02424"></a><span class="lineno"> 2424</span>    }</div>
<div class="line"><a id="l02425" name="l02425"></a><span class="lineno"> 2425</span>    <span class="keywordflow">if</span> (ImFileRead(file_data, 1, file_size, f) != file_size)</div>
<div class="line"><a id="l02426" name="l02426"></a><span class="lineno"> 2426</span>    {</div>
<div class="line"><a id="l02427" name="l02427"></a><span class="lineno"> 2427</span>        ImFileClose(f);</div>
<div class="line"><a id="l02428" name="l02428"></a><span class="lineno"> 2428</span>        IM_FREE(file_data);</div>
<div class="line"><a id="l02429" name="l02429"></a><span class="lineno"> 2429</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l02430" name="l02430"></a><span class="lineno"> 2430</span>    }</div>
<div class="line"><a id="l02431" name="l02431"></a><span class="lineno"> 2431</span>    <span class="keywordflow">if</span> (padding_bytes &gt; 0)</div>
<div class="line"><a id="l02432" name="l02432"></a><span class="lineno"> 2432</span>        memset((<span class="keywordtype">void</span>*)(((<span class="keywordtype">char</span>*)file_data) + file_size), 0, (<span class="keywordtype">size_t</span>)padding_bytes);</div>
<div class="line"><a id="l02433" name="l02433"></a><span class="lineno"> 2433</span> </div>
<div class="line"><a id="l02434" name="l02434"></a><span class="lineno"> 2434</span>    ImFileClose(f);</div>
<div class="line"><a id="l02435" name="l02435"></a><span class="lineno"> 2435</span>    <span class="keywordflow">if</span> (out_file_size)</div>
<div class="line"><a id="l02436" name="l02436"></a><span class="lineno"> 2436</span>        *out_file_size = file_size;</div>
<div class="line"><a id="l02437" name="l02437"></a><span class="lineno"> 2437</span> </div>
<div class="line"><a id="l02438" name="l02438"></a><span class="lineno"> 2438</span>    <span class="keywordflow">return</span> file_data;</div>
<div class="line"><a id="l02439" name="l02439"></a><span class="lineno"> 2439</span>}</div>
<div class="line"><a id="l02440" name="l02440"></a><span class="lineno"> 2440</span> </div>
<div class="line"><a id="l02441" name="l02441"></a><span class="lineno"> 2441</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02442" name="l02442"></a><span class="lineno"> 2442</span><span class="comment">// [SECTION] MISC HELPERS/UTILITIES (ImText* functions)</span></div>
<div class="line"><a id="l02443" name="l02443"></a><span class="lineno"> 2443</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02444" name="l02444"></a><span class="lineno"> 2444</span> </div>
<div class="line"><a id="l02445" name="l02445"></a><span class="lineno"> 2445</span>IM_MSVC_RUNTIME_CHECKS_OFF</div>
<div class="line"><a id="l02446" name="l02446"></a><span class="lineno"> 2446</span> </div>
<div class="line"><a id="l02447" name="l02447"></a><span class="lineno"> 2447</span><span class="comment">// Convert UTF-8 to 32-bit character, process single character input.</span></div>
<div class="line"><a id="l02448" name="l02448"></a><span class="lineno"> 2448</span><span class="comment">// A nearly-branchless UTF-8 decoder, based on work of Christopher Wellons (https://github.com/skeeto/branchless-utf8).</span></div>
<div class="line"><a id="l02449" name="l02449"></a><span class="lineno"> 2449</span><span class="comment">// We handle UTF-8 decoding error by skipping forward.</span></div>
<div class="line"><a id="l02450" name="l02450"></a><span class="lineno"> 2450</span><span class="keywordtype">int</span> ImTextCharFromUtf8(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>* out_char, <span class="keyword">const</span> <span class="keywordtype">char</span>* in_text, <span class="keyword">const</span> <span class="keywordtype">char</span>* in_text_end)</div>
<div class="line"><a id="l02451" name="l02451"></a><span class="lineno"> 2451</span>{</div>
<div class="line"><a id="l02452" name="l02452"></a><span class="lineno"> 2452</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> lengths[32] = { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 2, 3, 3, 4, 0 };</div>
<div class="line"><a id="l02453" name="l02453"></a><span class="lineno"> 2453</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> masks[]  = { 0x00, 0x7f, 0x1f, 0x0f, 0x07 };</div>
<div class="line"><a id="l02454" name="l02454"></a><span class="lineno"> 2454</span>    <span class="keyword">static</span> <span class="keyword">const</span> uint32_t mins[] = { 0x400000, 0, 0x80, 0x800, 0x10000 };</div>
<div class="line"><a id="l02455" name="l02455"></a><span class="lineno"> 2455</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> shiftc[] = { 0, 18, 12, 6, 0 };</div>
<div class="line"><a id="l02456" name="l02456"></a><span class="lineno"> 2456</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> shifte[] = { 0, 6, 4, 2, 0 };</div>
<div class="line"><a id="l02457" name="l02457"></a><span class="lineno"> 2457</span>    <span class="keywordtype">int</span> len = lengths[*(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)in_text &gt;&gt; 3];</div>
<div class="line"><a id="l02458" name="l02458"></a><span class="lineno"> 2458</span>    <span class="keywordtype">int</span> wanted = len + (len ? 0 : 1);</div>
<div class="line"><a id="l02459" name="l02459"></a><span class="lineno"> 2459</span> </div>
<div class="line"><a id="l02460" name="l02460"></a><span class="lineno"> 2460</span>    <span class="keywordflow">if</span> (in_text_end == NULL)</div>
<div class="line"><a id="l02461" name="l02461"></a><span class="lineno"> 2461</span>        in_text_end = in_text + wanted; <span class="comment">// Max length, nulls will be taken into account.</span></div>
<div class="line"><a id="l02462" name="l02462"></a><span class="lineno"> 2462</span> </div>
<div class="line"><a id="l02463" name="l02463"></a><span class="lineno"> 2463</span>    <span class="comment">// Copy at most &#39;len&#39; bytes, stop copying at 0 or past in_text_end. Branch predictor does a good job here,</span></div>
<div class="line"><a id="l02464" name="l02464"></a><span class="lineno"> 2464</span>    <span class="comment">// so it is fast even with excessive branching.</span></div>
<div class="line"><a id="l02465" name="l02465"></a><span class="lineno"> 2465</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> s[4];</div>
<div class="line"><a id="l02466" name="l02466"></a><span class="lineno"> 2466</span>    s[0] = in_text + 0 &lt; in_text_end ? in_text[0] : 0;</div>
<div class="line"><a id="l02467" name="l02467"></a><span class="lineno"> 2467</span>    s[1] = in_text + 1 &lt; in_text_end ? in_text[1] : 0;</div>
<div class="line"><a id="l02468" name="l02468"></a><span class="lineno"> 2468</span>    s[2] = in_text + 2 &lt; in_text_end ? in_text[2] : 0;</div>
<div class="line"><a id="l02469" name="l02469"></a><span class="lineno"> 2469</span>    s[3] = in_text + 3 &lt; in_text_end ? in_text[3] : 0;</div>
<div class="line"><a id="l02470" name="l02470"></a><span class="lineno"> 2470</span> </div>
<div class="line"><a id="l02471" name="l02471"></a><span class="lineno"> 2471</span>    <span class="comment">// Assume a four-byte character and load four bytes. Unused bits are shifted out.</span></div>
<div class="line"><a id="l02472" name="l02472"></a><span class="lineno"> 2472</span>    *out_char  = (uint32_t)(s[0] &amp; masks[len]) &lt;&lt; 18;</div>
<div class="line"><a id="l02473" name="l02473"></a><span class="lineno"> 2473</span>    *out_char |= (uint32_t)(s[1] &amp; 0x3f) &lt;&lt; 12;</div>
<div class="line"><a id="l02474" name="l02474"></a><span class="lineno"> 2474</span>    *out_char |= (uint32_t)(s[2] &amp; 0x3f) &lt;&lt;  6;</div>
<div class="line"><a id="l02475" name="l02475"></a><span class="lineno"> 2475</span>    *out_char |= (uint32_t)(s[3] &amp; 0x3f) &lt;&lt;  0;</div>
<div class="line"><a id="l02476" name="l02476"></a><span class="lineno"> 2476</span>    *out_char &gt;&gt;= shiftc[len];</div>
<div class="line"><a id="l02477" name="l02477"></a><span class="lineno"> 2477</span> </div>
<div class="line"><a id="l02478" name="l02478"></a><span class="lineno"> 2478</span>    <span class="comment">// Accumulate the various error conditions.</span></div>
<div class="line"><a id="l02479" name="l02479"></a><span class="lineno"> 2479</span>    <span class="keywordtype">int</span> e = 0;</div>
<div class="line"><a id="l02480" name="l02480"></a><span class="lineno"> 2480</span>    e  = (*out_char &lt; mins[len]) &lt;&lt; 6; <span class="comment">// non-canonical encoding</span></div>
<div class="line"><a id="l02481" name="l02481"></a><span class="lineno"> 2481</span>    e |= ((*out_char &gt;&gt; 11) == 0x1b) &lt;&lt; 7;  <span class="comment">// surrogate half?</span></div>
<div class="line"><a id="l02482" name="l02482"></a><span class="lineno"> 2482</span>    e |= (*out_char &gt; IM_UNICODE_CODEPOINT_MAX) &lt;&lt; 8;  <span class="comment">// out of range we can store in ImWchar (FIXME: May evolve)</span></div>
<div class="line"><a id="l02483" name="l02483"></a><span class="lineno"> 2483</span>    e |= (s[1] &amp; 0xc0) &gt;&gt; 2;</div>
<div class="line"><a id="l02484" name="l02484"></a><span class="lineno"> 2484</span>    e |= (s[2] &amp; 0xc0) &gt;&gt; 4;</div>
<div class="line"><a id="l02485" name="l02485"></a><span class="lineno"> 2485</span>    e |= (s[3]       ) &gt;&gt; 6;</div>
<div class="line"><a id="l02486" name="l02486"></a><span class="lineno"> 2486</span>    e ^= 0x2a; <span class="comment">// top two bits of each tail byte correct?</span></div>
<div class="line"><a id="l02487" name="l02487"></a><span class="lineno"> 2487</span>    e &gt;&gt;= shifte[len];</div>
<div class="line"><a id="l02488" name="l02488"></a><span class="lineno"> 2488</span> </div>
<div class="line"><a id="l02489" name="l02489"></a><span class="lineno"> 2489</span>    <span class="keywordflow">if</span> (e)</div>
<div class="line"><a id="l02490" name="l02490"></a><span class="lineno"> 2490</span>    {</div>
<div class="line"><a id="l02491" name="l02491"></a><span class="lineno"> 2491</span>        <span class="comment">// No bytes are consumed when *in_text == 0 || in_text == in_text_end.</span></div>
<div class="line"><a id="l02492" name="l02492"></a><span class="lineno"> 2492</span>        <span class="comment">// One byte is consumed in case of invalid first byte of in_text.</span></div>
<div class="line"><a id="l02493" name="l02493"></a><span class="lineno"> 2493</span>        <span class="comment">// All available bytes (at most `len` bytes) are consumed on incomplete/invalid second to last bytes.</span></div>
<div class="line"><a id="l02494" name="l02494"></a><span class="lineno"> 2494</span>        <span class="comment">// Invalid or incomplete input may consume less bytes than wanted, therefore every byte has to be inspected in s.</span></div>
<div class="line"><a id="l02495" name="l02495"></a><span class="lineno"> 2495</span>        wanted = ImMin(wanted, !!s[0] + !!s[1] + !!s[2] + !!s[3]);</div>
<div class="line"><a id="l02496" name="l02496"></a><span class="lineno"> 2496</span>        *out_char = IM_UNICODE_CODEPOINT_INVALID;</div>
<div class="line"><a id="l02497" name="l02497"></a><span class="lineno"> 2497</span>    }</div>
<div class="line"><a id="l02498" name="l02498"></a><span class="lineno"> 2498</span> </div>
<div class="line"><a id="l02499" name="l02499"></a><span class="lineno"> 2499</span>    <span class="keywordflow">return</span> wanted;</div>
<div class="line"><a id="l02500" name="l02500"></a><span class="lineno"> 2500</span>}</div>
<div class="line"><a id="l02501" name="l02501"></a><span class="lineno"> 2501</span> </div>
<div class="line"><a id="l02502" name="l02502"></a><span class="lineno"> 2502</span><span class="keywordtype">int</span> ImTextStrFromUtf8(ImWchar* buf, <span class="keywordtype">int</span> buf_size, <span class="keyword">const</span> <span class="keywordtype">char</span>* in_text, <span class="keyword">const</span> <span class="keywordtype">char</span>* in_text_end, <span class="keyword">const</span> <span class="keywordtype">char</span>** in_text_remaining)</div>
<div class="line"><a id="l02503" name="l02503"></a><span class="lineno"> 2503</span>{</div>
<div class="line"><a id="l02504" name="l02504"></a><span class="lineno"> 2504</span>    ImWchar* buf_out = buf;</div>
<div class="line"><a id="l02505" name="l02505"></a><span class="lineno"> 2505</span>    ImWchar* buf_end = buf + buf_size;</div>
<div class="line"><a id="l02506" name="l02506"></a><span class="lineno"> 2506</span>    <span class="keywordflow">while</span> (buf_out &lt; buf_end - 1 &amp;&amp; (!in_text_end || in_text &lt; in_text_end) &amp;&amp; *in_text)</div>
<div class="line"><a id="l02507" name="l02507"></a><span class="lineno"> 2507</span>    {</div>
<div class="line"><a id="l02508" name="l02508"></a><span class="lineno"> 2508</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> c;</div>
<div class="line"><a id="l02509" name="l02509"></a><span class="lineno"> 2509</span>        in_text += ImTextCharFromUtf8(&amp;c, in_text, in_text_end);</div>
<div class="line"><a id="l02510" name="l02510"></a><span class="lineno"> 2510</span>        *buf_out++ = (ImWchar)c;</div>
<div class="line"><a id="l02511" name="l02511"></a><span class="lineno"> 2511</span>    }</div>
<div class="line"><a id="l02512" name="l02512"></a><span class="lineno"> 2512</span>    *buf_out = 0;</div>
<div class="line"><a id="l02513" name="l02513"></a><span class="lineno"> 2513</span>    <span class="keywordflow">if</span> (in_text_remaining)</div>
<div class="line"><a id="l02514" name="l02514"></a><span class="lineno"> 2514</span>        *in_text_remaining = in_text;</div>
<div class="line"><a id="l02515" name="l02515"></a><span class="lineno"> 2515</span>    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)(buf_out - buf);</div>
<div class="line"><a id="l02516" name="l02516"></a><span class="lineno"> 2516</span>}</div>
<div class="line"><a id="l02517" name="l02517"></a><span class="lineno"> 2517</span> </div>
<div class="line"><a id="l02518" name="l02518"></a><span class="lineno"> 2518</span><span class="keywordtype">int</span> ImTextCountCharsFromUtf8(<span class="keyword">const</span> <span class="keywordtype">char</span>* in_text, <span class="keyword">const</span> <span class="keywordtype">char</span>* in_text_end)</div>
<div class="line"><a id="l02519" name="l02519"></a><span class="lineno"> 2519</span>{</div>
<div class="line"><a id="l02520" name="l02520"></a><span class="lineno"> 2520</span>    <span class="keywordtype">int</span> char_count = 0;</div>
<div class="line"><a id="l02521" name="l02521"></a><span class="lineno"> 2521</span>    <span class="keywordflow">while</span> ((!in_text_end || in_text &lt; in_text_end) &amp;&amp; *in_text)</div>
<div class="line"><a id="l02522" name="l02522"></a><span class="lineno"> 2522</span>    {</div>
<div class="line"><a id="l02523" name="l02523"></a><span class="lineno"> 2523</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> c;</div>
<div class="line"><a id="l02524" name="l02524"></a><span class="lineno"> 2524</span>        in_text += ImTextCharFromUtf8(&amp;c, in_text, in_text_end);</div>
<div class="line"><a id="l02525" name="l02525"></a><span class="lineno"> 2525</span>        char_count++;</div>
<div class="line"><a id="l02526" name="l02526"></a><span class="lineno"> 2526</span>    }</div>
<div class="line"><a id="l02527" name="l02527"></a><span class="lineno"> 2527</span>    <span class="keywordflow">return</span> char_count;</div>
<div class="line"><a id="l02528" name="l02528"></a><span class="lineno"> 2528</span>}</div>
<div class="line"><a id="l02529" name="l02529"></a><span class="lineno"> 2529</span> </div>
<div class="line"><a id="l02530" name="l02530"></a><span class="lineno"> 2530</span><span class="comment">// Based on stb_to_utf8() from github.com/nothings/stb/</span></div>
<div class="line"><a id="l02531" name="l02531"></a><span class="lineno"> 2531</span><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> ImTextCharToUtf8_inline(<span class="keywordtype">char</span>* buf, <span class="keywordtype">int</span> buf_size, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> c)</div>
<div class="line"><a id="l02532" name="l02532"></a><span class="lineno"> 2532</span>{</div>
<div class="line"><a id="l02533" name="l02533"></a><span class="lineno"> 2533</span>    <span class="keywordflow">if</span> (c &lt; 0x80)</div>
<div class="line"><a id="l02534" name="l02534"></a><span class="lineno"> 2534</span>    {</div>
<div class="line"><a id="l02535" name="l02535"></a><span class="lineno"> 2535</span>        buf[0] = (char)c;</div>
<div class="line"><a id="l02536" name="l02536"></a><span class="lineno"> 2536</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l02537" name="l02537"></a><span class="lineno"> 2537</span>    }</div>
<div class="line"><a id="l02538" name="l02538"></a><span class="lineno"> 2538</span>    <span class="keywordflow">if</span> (c &lt; 0x800)</div>
<div class="line"><a id="l02539" name="l02539"></a><span class="lineno"> 2539</span>    {</div>
<div class="line"><a id="l02540" name="l02540"></a><span class="lineno"> 2540</span>        <span class="keywordflow">if</span> (buf_size &lt; 2) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02541" name="l02541"></a><span class="lineno"> 2541</span>        buf[0] = (char)(0xc0 + (c &gt;&gt; 6));</div>
<div class="line"><a id="l02542" name="l02542"></a><span class="lineno"> 2542</span>        buf[1] = (char)(0x80 + (c &amp; 0x3f));</div>
<div class="line"><a id="l02543" name="l02543"></a><span class="lineno"> 2543</span>        <span class="keywordflow">return</span> 2;</div>
<div class="line"><a id="l02544" name="l02544"></a><span class="lineno"> 2544</span>    }</div>
<div class="line"><a id="l02545" name="l02545"></a><span class="lineno"> 2545</span>    <span class="keywordflow">if</span> (c &lt; 0x10000)</div>
<div class="line"><a id="l02546" name="l02546"></a><span class="lineno"> 2546</span>    {</div>
<div class="line"><a id="l02547" name="l02547"></a><span class="lineno"> 2547</span>        <span class="keywordflow">if</span> (buf_size &lt; 3) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02548" name="l02548"></a><span class="lineno"> 2548</span>        buf[0] = (char)(0xe0 + (c &gt;&gt; 12));</div>
<div class="line"><a id="l02549" name="l02549"></a><span class="lineno"> 2549</span>        buf[1] = (char)(0x80 + ((c &gt;&gt; 6) &amp; 0x3f));</div>
<div class="line"><a id="l02550" name="l02550"></a><span class="lineno"> 2550</span>        buf[2] = (char)(0x80 + ((c ) &amp; 0x3f));</div>
<div class="line"><a id="l02551" name="l02551"></a><span class="lineno"> 2551</span>        <span class="keywordflow">return</span> 3;</div>
<div class="line"><a id="l02552" name="l02552"></a><span class="lineno"> 2552</span>    }</div>
<div class="line"><a id="l02553" name="l02553"></a><span class="lineno"> 2553</span>    <span class="keywordflow">if</span> (c &lt;= 0x10FFFF)</div>
<div class="line"><a id="l02554" name="l02554"></a><span class="lineno"> 2554</span>    {</div>
<div class="line"><a id="l02555" name="l02555"></a><span class="lineno"> 2555</span>        <span class="keywordflow">if</span> (buf_size &lt; 4) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02556" name="l02556"></a><span class="lineno"> 2556</span>        buf[0] = (char)(0xf0 + (c &gt;&gt; 18));</div>
<div class="line"><a id="l02557" name="l02557"></a><span class="lineno"> 2557</span>        buf[1] = (char)(0x80 + ((c &gt;&gt; 12) &amp; 0x3f));</div>
<div class="line"><a id="l02558" name="l02558"></a><span class="lineno"> 2558</span>        buf[2] = (char)(0x80 + ((c &gt;&gt; 6) &amp; 0x3f));</div>
<div class="line"><a id="l02559" name="l02559"></a><span class="lineno"> 2559</span>        buf[3] = (char)(0x80 + ((c ) &amp; 0x3f));</div>
<div class="line"><a id="l02560" name="l02560"></a><span class="lineno"> 2560</span>        <span class="keywordflow">return</span> 4;</div>
<div class="line"><a id="l02561" name="l02561"></a><span class="lineno"> 2561</span>    }</div>
<div class="line"><a id="l02562" name="l02562"></a><span class="lineno"> 2562</span>    <span class="comment">// Invalid code point, the max unicode is 0x10FFFF</span></div>
<div class="line"><a id="l02563" name="l02563"></a><span class="lineno"> 2563</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02564" name="l02564"></a><span class="lineno"> 2564</span>}</div>
<div class="line"><a id="l02565" name="l02565"></a><span class="lineno"> 2565</span> </div>
<div class="line"><a id="l02566" name="l02566"></a><span class="lineno"> 2566</span><span class="keyword">const</span> <span class="keywordtype">char</span>* ImTextCharToUtf8(<span class="keywordtype">char</span> out_buf[5], <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> c)</div>
<div class="line"><a id="l02567" name="l02567"></a><span class="lineno"> 2567</span>{</div>
<div class="line"><a id="l02568" name="l02568"></a><span class="lineno"> 2568</span>    <span class="keywordtype">int</span> count = ImTextCharToUtf8_inline(out_buf, 5, c);</div>
<div class="line"><a id="l02569" name="l02569"></a><span class="lineno"> 2569</span>    out_buf[count] = 0;</div>
<div class="line"><a id="l02570" name="l02570"></a><span class="lineno"> 2570</span>    <span class="keywordflow">return</span> out_buf;</div>
<div class="line"><a id="l02571" name="l02571"></a><span class="lineno"> 2571</span>}</div>
<div class="line"><a id="l02572" name="l02572"></a><span class="lineno"> 2572</span> </div>
<div class="line"><a id="l02573" name="l02573"></a><span class="lineno"> 2573</span><span class="comment">// Not optimal but we very rarely use this function.</span></div>
<div class="line"><a id="l02574" name="l02574"></a><span class="lineno"> 2574</span><span class="keywordtype">int</span> ImTextCountUtf8BytesFromChar(<span class="keyword">const</span> <span class="keywordtype">char</span>* in_text, <span class="keyword">const</span> <span class="keywordtype">char</span>* in_text_end)</div>
<div class="line"><a id="l02575" name="l02575"></a><span class="lineno"> 2575</span>{</div>
<div class="line"><a id="l02576" name="l02576"></a><span class="lineno"> 2576</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> unused = 0;</div>
<div class="line"><a id="l02577" name="l02577"></a><span class="lineno"> 2577</span>    <span class="keywordflow">return</span> ImTextCharFromUtf8(&amp;unused, in_text, in_text_end);</div>
<div class="line"><a id="l02578" name="l02578"></a><span class="lineno"> 2578</span>}</div>
<div class="line"><a id="l02579" name="l02579"></a><span class="lineno"> 2579</span> </div>
<div class="line"><a id="l02580" name="l02580"></a><span class="lineno"> 2580</span><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> ImTextCountUtf8BytesFromChar(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> c)</div>
<div class="line"><a id="l02581" name="l02581"></a><span class="lineno"> 2581</span>{</div>
<div class="line"><a id="l02582" name="l02582"></a><span class="lineno"> 2582</span>    <span class="keywordflow">if</span> (c &lt; 0x80) <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l02583" name="l02583"></a><span class="lineno"> 2583</span>    <span class="keywordflow">if</span> (c &lt; 0x800) <span class="keywordflow">return</span> 2;</div>
<div class="line"><a id="l02584" name="l02584"></a><span class="lineno"> 2584</span>    <span class="keywordflow">if</span> (c &lt; 0x10000) <span class="keywordflow">return</span> 3;</div>
<div class="line"><a id="l02585" name="l02585"></a><span class="lineno"> 2585</span>    <span class="keywordflow">if</span> (c &lt;= 0x10FFFF) <span class="keywordflow">return</span> 4;</div>
<div class="line"><a id="l02586" name="l02586"></a><span class="lineno"> 2586</span>    <span class="keywordflow">return</span> 3;</div>
<div class="line"><a id="l02587" name="l02587"></a><span class="lineno"> 2587</span>}</div>
<div class="line"><a id="l02588" name="l02588"></a><span class="lineno"> 2588</span> </div>
<div class="line"><a id="l02589" name="l02589"></a><span class="lineno"> 2589</span><span class="keywordtype">int</span> ImTextStrToUtf8(<span class="keywordtype">char</span>* out_buf, <span class="keywordtype">int</span> out_buf_size, <span class="keyword">const</span> ImWchar* in_text, <span class="keyword">const</span> ImWchar* in_text_end)</div>
<div class="line"><a id="l02590" name="l02590"></a><span class="lineno"> 2590</span>{</div>
<div class="line"><a id="l02591" name="l02591"></a><span class="lineno"> 2591</span>    <span class="keywordtype">char</span>* buf_p = out_buf;</div>
<div class="line"><a id="l02592" name="l02592"></a><span class="lineno"> 2592</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* buf_end = out_buf + out_buf_size;</div>
<div class="line"><a id="l02593" name="l02593"></a><span class="lineno"> 2593</span>    <span class="keywordflow">while</span> (buf_p &lt; buf_end - 1 &amp;&amp; (!in_text_end || in_text &lt; in_text_end) &amp;&amp; *in_text)</div>
<div class="line"><a id="l02594" name="l02594"></a><span class="lineno"> 2594</span>    {</div>
<div class="line"><a id="l02595" name="l02595"></a><span class="lineno"> 2595</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> c = (<span class="keywordtype">unsigned</span> int)(*in_text++);</div>
<div class="line"><a id="l02596" name="l02596"></a><span class="lineno"> 2596</span>        <span class="keywordflow">if</span> (c &lt; 0x80)</div>
<div class="line"><a id="l02597" name="l02597"></a><span class="lineno"> 2597</span>            *buf_p++ = (char)c;</div>
<div class="line"><a id="l02598" name="l02598"></a><span class="lineno"> 2598</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l02599" name="l02599"></a><span class="lineno"> 2599</span>            buf_p += ImTextCharToUtf8_inline(buf_p, (<span class="keywordtype">int</span>)(buf_end - buf_p - 1), c);</div>
<div class="line"><a id="l02600" name="l02600"></a><span class="lineno"> 2600</span>    }</div>
<div class="line"><a id="l02601" name="l02601"></a><span class="lineno"> 2601</span>    *buf_p = 0;</div>
<div class="line"><a id="l02602" name="l02602"></a><span class="lineno"> 2602</span>    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)(buf_p - out_buf);</div>
<div class="line"><a id="l02603" name="l02603"></a><span class="lineno"> 2603</span>}</div>
<div class="line"><a id="l02604" name="l02604"></a><span class="lineno"> 2604</span> </div>
<div class="line"><a id="l02605" name="l02605"></a><span class="lineno"> 2605</span><span class="keywordtype">int</span> ImTextCountUtf8BytesFromStr(<span class="keyword">const</span> ImWchar* in_text, <span class="keyword">const</span> ImWchar* in_text_end)</div>
<div class="line"><a id="l02606" name="l02606"></a><span class="lineno"> 2606</span>{</div>
<div class="line"><a id="l02607" name="l02607"></a><span class="lineno"> 2607</span>    <span class="keywordtype">int</span> bytes_count = 0;</div>
<div class="line"><a id="l02608" name="l02608"></a><span class="lineno"> 2608</span>    <span class="keywordflow">while</span> ((!in_text_end || in_text &lt; in_text_end) &amp;&amp; *in_text)</div>
<div class="line"><a id="l02609" name="l02609"></a><span class="lineno"> 2609</span>    {</div>
<div class="line"><a id="l02610" name="l02610"></a><span class="lineno"> 2610</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> c = (<span class="keywordtype">unsigned</span> int)(*in_text++);</div>
<div class="line"><a id="l02611" name="l02611"></a><span class="lineno"> 2611</span>        <span class="keywordflow">if</span> (c &lt; 0x80)</div>
<div class="line"><a id="l02612" name="l02612"></a><span class="lineno"> 2612</span>            bytes_count++;</div>
<div class="line"><a id="l02613" name="l02613"></a><span class="lineno"> 2613</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l02614" name="l02614"></a><span class="lineno"> 2614</span>            bytes_count += ImTextCountUtf8BytesFromChar(c);</div>
<div class="line"><a id="l02615" name="l02615"></a><span class="lineno"> 2615</span>    }</div>
<div class="line"><a id="l02616" name="l02616"></a><span class="lineno"> 2616</span>    <span class="keywordflow">return</span> bytes_count;</div>
<div class="line"><a id="l02617" name="l02617"></a><span class="lineno"> 2617</span>}</div>
<div class="line"><a id="l02618" name="l02618"></a><span class="lineno"> 2618</span> </div>
<div class="line"><a id="l02619" name="l02619"></a><span class="lineno"> 2619</span><span class="keyword">const</span> <span class="keywordtype">char</span>* ImTextFindPreviousUtf8Codepoint(<span class="keyword">const</span> <span class="keywordtype">char</span>* in_text_start, <span class="keyword">const</span> <span class="keywordtype">char</span>* in_text_curr)</div>
<div class="line"><a id="l02620" name="l02620"></a><span class="lineno"> 2620</span>{</div>
<div class="line"><a id="l02621" name="l02621"></a><span class="lineno"> 2621</span>    <span class="keywordflow">while</span> (in_text_curr &gt; in_text_start)</div>
<div class="line"><a id="l02622" name="l02622"></a><span class="lineno"> 2622</span>    {</div>
<div class="line"><a id="l02623" name="l02623"></a><span class="lineno"> 2623</span>        in_text_curr--;</div>
<div class="line"><a id="l02624" name="l02624"></a><span class="lineno"> 2624</span>        <span class="keywordflow">if</span> ((*in_text_curr &amp; 0xC0) != 0x80)</div>
<div class="line"><a id="l02625" name="l02625"></a><span class="lineno"> 2625</span>            <span class="keywordflow">return</span> in_text_curr;</div>
<div class="line"><a id="l02626" name="l02626"></a><span class="lineno"> 2626</span>    }</div>
<div class="line"><a id="l02627" name="l02627"></a><span class="lineno"> 2627</span>    <span class="keywordflow">return</span> in_text_start;</div>
<div class="line"><a id="l02628" name="l02628"></a><span class="lineno"> 2628</span>}</div>
<div class="line"><a id="l02629" name="l02629"></a><span class="lineno"> 2629</span> </div>
<div class="line"><a id="l02630" name="l02630"></a><span class="lineno"> 2630</span><span class="keywordtype">int</span> ImTextCountLines(<span class="keyword">const</span> <span class="keywordtype">char</span>* in_text, <span class="keyword">const</span> <span class="keywordtype">char</span>* in_text_end)</div>
<div class="line"><a id="l02631" name="l02631"></a><span class="lineno"> 2631</span>{</div>
<div class="line"><a id="l02632" name="l02632"></a><span class="lineno"> 2632</span>    <span class="keywordflow">if</span> (in_text_end == NULL)</div>
<div class="line"><a id="l02633" name="l02633"></a><span class="lineno"> 2633</span>        in_text_end = in_text + ImStrlen(in_text); <span class="comment">// FIXME-OPT: Not optimal approach, discourage use for now.</span></div>
<div class="line"><a id="l02634" name="l02634"></a><span class="lineno"> 2634</span>    <span class="keywordtype">int</span> count = 0;</div>
<div class="line"><a id="l02635" name="l02635"></a><span class="lineno"> 2635</span>    <span class="keywordflow">while</span> (in_text &lt; in_text_end)</div>
<div class="line"><a id="l02636" name="l02636"></a><span class="lineno"> 2636</span>    {</div>
<div class="line"><a id="l02637" name="l02637"></a><span class="lineno"> 2637</span>        <span class="keyword">const</span> <span class="keywordtype">char</span>* line_end = (<span class="keyword">const</span> <span class="keywordtype">char</span>*)ImMemchr(in_text, <span class="charliteral">&#39;\n&#39;</span>, in_text_end - in_text);</div>
<div class="line"><a id="l02638" name="l02638"></a><span class="lineno"> 2638</span>        in_text = line_end ? line_end + 1 : in_text_end;</div>
<div class="line"><a id="l02639" name="l02639"></a><span class="lineno"> 2639</span>        count++;</div>
<div class="line"><a id="l02640" name="l02640"></a><span class="lineno"> 2640</span>    }</div>
<div class="line"><a id="l02641" name="l02641"></a><span class="lineno"> 2641</span>    <span class="keywordflow">return</span> count;</div>
<div class="line"><a id="l02642" name="l02642"></a><span class="lineno"> 2642</span>}</div>
<div class="line"><a id="l02643" name="l02643"></a><span class="lineno"> 2643</span> </div>
<div class="line"><a id="l02644" name="l02644"></a><span class="lineno"> 2644</span>IM_MSVC_RUNTIME_CHECKS_RESTORE</div>
<div class="line"><a id="l02645" name="l02645"></a><span class="lineno"> 2645</span> </div>
<div class="line"><a id="l02646" name="l02646"></a><span class="lineno"> 2646</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02647" name="l02647"></a><span class="lineno"> 2647</span><span class="comment">// [SECTION] MISC HELPERS/UTILITIES (Color functions)</span></div>
<div class="line"><a id="l02648" name="l02648"></a><span class="lineno"> 2648</span><span class="comment">// Note: The Convert functions are early design which are not consistent with other API.</span></div>
<div class="line"><a id="l02649" name="l02649"></a><span class="lineno"> 2649</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02650" name="l02650"></a><span class="lineno"> 2650</span> </div>
<div class="line"><a id="l02651" name="l02651"></a><span class="lineno"> 2651</span>IMGUI_API ImU32 ImAlphaBlendColors(ImU32 col_a, ImU32 col_b)</div>
<div class="line"><a id="l02652" name="l02652"></a><span class="lineno"> 2652</span>{</div>
<div class="line"><a id="l02653" name="l02653"></a><span class="lineno"> 2653</span>    <span class="keywordtype">float</span> t = ((col_b &gt;&gt; IM_COL32_A_SHIFT) &amp; 0xFF) / 255.f;</div>
<div class="line"><a id="l02654" name="l02654"></a><span class="lineno"> 2654</span>    <span class="keywordtype">int</span> r = ImLerp((<span class="keywordtype">int</span>)(col_a &gt;&gt; IM_COL32_R_SHIFT) &amp; 0xFF, (<span class="keywordtype">int</span>)(col_b &gt;&gt; IM_COL32_R_SHIFT) &amp; 0xFF, t);</div>
<div class="line"><a id="l02655" name="l02655"></a><span class="lineno"> 2655</span>    <span class="keywordtype">int</span> g = ImLerp((<span class="keywordtype">int</span>)(col_a &gt;&gt; IM_COL32_G_SHIFT) &amp; 0xFF, (<span class="keywordtype">int</span>)(col_b &gt;&gt; IM_COL32_G_SHIFT) &amp; 0xFF, t);</div>
<div class="line"><a id="l02656" name="l02656"></a><span class="lineno"> 2656</span>    <span class="keywordtype">int</span> b = ImLerp((<span class="keywordtype">int</span>)(col_a &gt;&gt; IM_COL32_B_SHIFT) &amp; 0xFF, (<span class="keywordtype">int</span>)(col_b &gt;&gt; IM_COL32_B_SHIFT) &amp; 0xFF, t);</div>
<div class="line"><a id="l02657" name="l02657"></a><span class="lineno"> 2657</span>    <span class="keywordflow">return</span> IM_COL32(r, g, b, 0xFF);</div>
<div class="line"><a id="l02658" name="l02658"></a><span class="lineno"> 2658</span>}</div>
<div class="line"><a id="l02659" name="l02659"></a><span class="lineno"> 2659</span> </div>
<div class="line"><a id="l02660" name="l02660"></a><span class="lineno"> 2660</span><a class="code hl_struct" href="structImVec4.html">ImVec4</a> ImGui::ColorConvertU32ToFloat4(ImU32 in)</div>
<div class="line"><a id="l02661" name="l02661"></a><span class="lineno"> 2661</span>{</div>
<div class="line"><a id="l02662" name="l02662"></a><span class="lineno"> 2662</span>    <span class="keywordtype">float</span> s = 1.0f / 255.0f;</div>
<div class="line"><a id="l02663" name="l02663"></a><span class="lineno"> 2663</span>    <span class="keywordflow">return</span> <a class="code hl_struct" href="structImVec4.html">ImVec4</a>(</div>
<div class="line"><a id="l02664" name="l02664"></a><span class="lineno"> 2664</span>        ((in &gt;&gt; IM_COL32_R_SHIFT) &amp; 0xFF) * s,</div>
<div class="line"><a id="l02665" name="l02665"></a><span class="lineno"> 2665</span>        ((in &gt;&gt; IM_COL32_G_SHIFT) &amp; 0xFF) * s,</div>
<div class="line"><a id="l02666" name="l02666"></a><span class="lineno"> 2666</span>        ((in &gt;&gt; IM_COL32_B_SHIFT) &amp; 0xFF) * s,</div>
<div class="line"><a id="l02667" name="l02667"></a><span class="lineno"> 2667</span>        ((in &gt;&gt; IM_COL32_A_SHIFT) &amp; 0xFF) * s);</div>
<div class="line"><a id="l02668" name="l02668"></a><span class="lineno"> 2668</span>}</div>
<div class="line"><a id="l02669" name="l02669"></a><span class="lineno"> 2669</span> </div>
<div class="line"><a id="l02670" name="l02670"></a><span class="lineno"> 2670</span>ImU32 ImGui::ColorConvertFloat4ToU32(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec4.html">ImVec4</a>&amp; in)</div>
<div class="line"><a id="l02671" name="l02671"></a><span class="lineno"> 2671</span>{</div>
<div class="line"><a id="l02672" name="l02672"></a><span class="lineno"> 2672</span>    ImU32 out;</div>
<div class="line"><a id="l02673" name="l02673"></a><span class="lineno"> 2673</span>    out  = ((ImU32)IM_F32_TO_INT8_SAT(in.x)) &lt;&lt; IM_COL32_R_SHIFT;</div>
<div class="line"><a id="l02674" name="l02674"></a><span class="lineno"> 2674</span>    out |= ((ImU32)IM_F32_TO_INT8_SAT(in.y)) &lt;&lt; IM_COL32_G_SHIFT;</div>
<div class="line"><a id="l02675" name="l02675"></a><span class="lineno"> 2675</span>    out |= ((ImU32)IM_F32_TO_INT8_SAT(in.z)) &lt;&lt; IM_COL32_B_SHIFT;</div>
<div class="line"><a id="l02676" name="l02676"></a><span class="lineno"> 2676</span>    out |= ((ImU32)IM_F32_TO_INT8_SAT(in.w)) &lt;&lt; IM_COL32_A_SHIFT;</div>
<div class="line"><a id="l02677" name="l02677"></a><span class="lineno"> 2677</span>    <span class="keywordflow">return</span> out;</div>
<div class="line"><a id="l02678" name="l02678"></a><span class="lineno"> 2678</span>}</div>
<div class="line"><a id="l02679" name="l02679"></a><span class="lineno"> 2679</span> </div>
<div class="line"><a id="l02680" name="l02680"></a><span class="lineno"> 2680</span><span class="comment">// Convert rgb floats ([0-1],[0-1],[0-1]) to hsv floats ([0-1],[0-1],[0-1]), from Foley &amp; van Dam p592</span></div>
<div class="line"><a id="l02681" name="l02681"></a><span class="lineno"> 2681</span><span class="comment">// Optimized http://lolengine.net/blog/2013/01/13/fast-rgb-to-hsv</span></div>
<div class="line"><a id="l02682" name="l02682"></a><span class="lineno"> 2682</span><span class="keywordtype">void</span> ImGui::ColorConvertRGBtoHSV(<span class="keywordtype">float</span> r, <span class="keywordtype">float</span> g, <span class="keywordtype">float</span> b, <span class="keywordtype">float</span>&amp; out_h, <span class="keywordtype">float</span>&amp; out_s, <span class="keywordtype">float</span>&amp; out_v)</div>
<div class="line"><a id="l02683" name="l02683"></a><span class="lineno"> 2683</span>{</div>
<div class="line"><a id="l02684" name="l02684"></a><span class="lineno"> 2684</span>    <span class="keywordtype">float</span> K = 0.f;</div>
<div class="line"><a id="l02685" name="l02685"></a><span class="lineno"> 2685</span>    <span class="keywordflow">if</span> (g &lt; b)</div>
<div class="line"><a id="l02686" name="l02686"></a><span class="lineno"> 2686</span>    {</div>
<div class="line"><a id="l02687" name="l02687"></a><span class="lineno"> 2687</span>        ImSwap(g, b);</div>
<div class="line"><a id="l02688" name="l02688"></a><span class="lineno"> 2688</span>        K = -1.f;</div>
<div class="line"><a id="l02689" name="l02689"></a><span class="lineno"> 2689</span>    }</div>
<div class="line"><a id="l02690" name="l02690"></a><span class="lineno"> 2690</span>    <span class="keywordflow">if</span> (r &lt; g)</div>
<div class="line"><a id="l02691" name="l02691"></a><span class="lineno"> 2691</span>    {</div>
<div class="line"><a id="l02692" name="l02692"></a><span class="lineno"> 2692</span>        ImSwap(r, g);</div>
<div class="line"><a id="l02693" name="l02693"></a><span class="lineno"> 2693</span>        K = -2.f / 6.f - K;</div>
<div class="line"><a id="l02694" name="l02694"></a><span class="lineno"> 2694</span>    }</div>
<div class="line"><a id="l02695" name="l02695"></a><span class="lineno"> 2695</span> </div>
<div class="line"><a id="l02696" name="l02696"></a><span class="lineno"> 2696</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> chroma = r - (g &lt; b ? g : b);</div>
<div class="line"><a id="l02697" name="l02697"></a><span class="lineno"> 2697</span>    out_h = ImFabs(K + (g - b) / (6.f * chroma + 1e-20f));</div>
<div class="line"><a id="l02698" name="l02698"></a><span class="lineno"> 2698</span>    out_s = chroma / (r + 1e-20f);</div>
<div class="line"><a id="l02699" name="l02699"></a><span class="lineno"> 2699</span>    out_v = r;</div>
<div class="line"><a id="l02700" name="l02700"></a><span class="lineno"> 2700</span>}</div>
<div class="line"><a id="l02701" name="l02701"></a><span class="lineno"> 2701</span> </div>
<div class="line"><a id="l02702" name="l02702"></a><span class="lineno"> 2702</span><span class="comment">// Convert hsv floats ([0-1],[0-1],[0-1]) to rgb floats ([0-1],[0-1],[0-1]), from Foley &amp; van Dam p593</span></div>
<div class="line"><a id="l02703" name="l02703"></a><span class="lineno"> 2703</span><span class="comment">// also http://en.wikipedia.org/wiki/HSL_and_HSV</span></div>
<div class="line"><a id="l02704" name="l02704"></a><span class="lineno"> 2704</span><span class="keywordtype">void</span> ImGui::ColorConvertHSVtoRGB(<span class="keywordtype">float</span> h, <span class="keywordtype">float</span> s, <span class="keywordtype">float</span> v, <span class="keywordtype">float</span>&amp; out_r, <span class="keywordtype">float</span>&amp; out_g, <span class="keywordtype">float</span>&amp; out_b)</div>
<div class="line"><a id="l02705" name="l02705"></a><span class="lineno"> 2705</span>{</div>
<div class="line"><a id="l02706" name="l02706"></a><span class="lineno"> 2706</span>    <span class="keywordflow">if</span> (s == 0.0f)</div>
<div class="line"><a id="l02707" name="l02707"></a><span class="lineno"> 2707</span>    {</div>
<div class="line"><a id="l02708" name="l02708"></a><span class="lineno"> 2708</span>        <span class="comment">// gray</span></div>
<div class="line"><a id="l02709" name="l02709"></a><span class="lineno"> 2709</span>        out_r = out_g = out_b = v;</div>
<div class="line"><a id="l02710" name="l02710"></a><span class="lineno"> 2710</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02711" name="l02711"></a><span class="lineno"> 2711</span>    }</div>
<div class="line"><a id="l02712" name="l02712"></a><span class="lineno"> 2712</span> </div>
<div class="line"><a id="l02713" name="l02713"></a><span class="lineno"> 2713</span>    h = ImFmod(h, 1.0f) / (60.0f / 360.0f);</div>
<div class="line"><a id="l02714" name="l02714"></a><span class="lineno"> 2714</span>    <span class="keywordtype">int</span>   i = (int)h;</div>
<div class="line"><a id="l02715" name="l02715"></a><span class="lineno"> 2715</span>    <span class="keywordtype">float</span> f = h - (float)i;</div>
<div class="line"><a id="l02716" name="l02716"></a><span class="lineno"> 2716</span>    <span class="keywordtype">float</span> p = v * (1.0f - s);</div>
<div class="line"><a id="l02717" name="l02717"></a><span class="lineno"> 2717</span>    <span class="keywordtype">float</span> q = v * (1.0f - s * f);</div>
<div class="line"><a id="l02718" name="l02718"></a><span class="lineno"> 2718</span>    <span class="keywordtype">float</span> t = v * (1.0f - s * (1.0f - f));</div>
<div class="line"><a id="l02719" name="l02719"></a><span class="lineno"> 2719</span> </div>
<div class="line"><a id="l02720" name="l02720"></a><span class="lineno"> 2720</span>    <span class="keywordflow">switch</span> (i)</div>
<div class="line"><a id="l02721" name="l02721"></a><span class="lineno"> 2721</span>    {</div>
<div class="line"><a id="l02722" name="l02722"></a><span class="lineno"> 2722</span>    <span class="keywordflow">case</span> 0: out_r = v; out_g = t; out_b = p; <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02723" name="l02723"></a><span class="lineno"> 2723</span>    <span class="keywordflow">case</span> 1: out_r = q; out_g = v; out_b = p; <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02724" name="l02724"></a><span class="lineno"> 2724</span>    <span class="keywordflow">case</span> 2: out_r = p; out_g = v; out_b = t; <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02725" name="l02725"></a><span class="lineno"> 2725</span>    <span class="keywordflow">case</span> 3: out_r = p; out_g = q; out_b = v; <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02726" name="l02726"></a><span class="lineno"> 2726</span>    <span class="keywordflow">case</span> 4: out_r = t; out_g = p; out_b = v; <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02727" name="l02727"></a><span class="lineno"> 2727</span>    <span class="keywordflow">case</span> 5: <span class="keywordflow">default</span>: out_r = v; out_g = p; out_b = q; <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02728" name="l02728"></a><span class="lineno"> 2728</span>    }</div>
<div class="line"><a id="l02729" name="l02729"></a><span class="lineno"> 2729</span>}</div>
<div class="line"><a id="l02730" name="l02730"></a><span class="lineno"> 2730</span> </div>
<div class="line"><a id="l02731" name="l02731"></a><span class="lineno"> 2731</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02732" name="l02732"></a><span class="lineno"> 2732</span><span class="comment">// [SECTION] ImGuiStorage</span></div>
<div class="line"><a id="l02733" name="l02733"></a><span class="lineno"> 2733</span><span class="comment">// Helper: Key-&gt;value storage</span></div>
<div class="line"><a id="l02734" name="l02734"></a><span class="lineno"> 2734</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02735" name="l02735"></a><span class="lineno"> 2735</span> </div>
<div class="line"><a id="l02736" name="l02736"></a><span class="lineno"> 2736</span><span class="comment">// std::lower_bound but without the bullshit</span></div>
<div class="line"><a id="l02737" name="l02737"></a><span class="lineno"> 2737</span><a class="code hl_struct" href="structImGuiStoragePair.html">ImGuiStoragePair</a>* ImLowerBound(<a class="code hl_struct" href="structImGuiStoragePair.html">ImGuiStoragePair</a>* in_begin, <a class="code hl_struct" href="structImGuiStoragePair.html">ImGuiStoragePair</a>* in_end, ImGuiID key)</div>
<div class="line"><a id="l02738" name="l02738"></a><span class="lineno"> 2738</span>{</div>
<div class="line"><a id="l02739" name="l02739"></a><span class="lineno"> 2739</span>    <a class="code hl_struct" href="structImGuiStoragePair.html">ImGuiStoragePair</a>* in_p = in_begin;</div>
<div class="line"><a id="l02740" name="l02740"></a><span class="lineno"> 2740</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> count = (<span class="keywordtype">size_t</span>)(in_end - in_p); count &gt; 0; )</div>
<div class="line"><a id="l02741" name="l02741"></a><span class="lineno"> 2741</span>    {</div>
<div class="line"><a id="l02742" name="l02742"></a><span class="lineno"> 2742</span>        <span class="keywordtype">size_t</span> count2 = count &gt;&gt; 1;</div>
<div class="line"><a id="l02743" name="l02743"></a><span class="lineno"> 2743</span>        <a class="code hl_struct" href="structImGuiStoragePair.html">ImGuiStoragePair</a>* mid = in_p + count2;</div>
<div class="line"><a id="l02744" name="l02744"></a><span class="lineno"> 2744</span>        <span class="keywordflow">if</span> (mid-&gt;key &lt; key)</div>
<div class="line"><a id="l02745" name="l02745"></a><span class="lineno"> 2745</span>        {</div>
<div class="line"><a id="l02746" name="l02746"></a><span class="lineno"> 2746</span>            in_p = ++mid;</div>
<div class="line"><a id="l02747" name="l02747"></a><span class="lineno"> 2747</span>            count -= count2 + 1;</div>
<div class="line"><a id="l02748" name="l02748"></a><span class="lineno"> 2748</span>        }</div>
<div class="line"><a id="l02749" name="l02749"></a><span class="lineno"> 2749</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l02750" name="l02750"></a><span class="lineno"> 2750</span>        {</div>
<div class="line"><a id="l02751" name="l02751"></a><span class="lineno"> 2751</span>            count = count2;</div>
<div class="line"><a id="l02752" name="l02752"></a><span class="lineno"> 2752</span>        }</div>
<div class="line"><a id="l02753" name="l02753"></a><span class="lineno"> 2753</span>    }</div>
<div class="line"><a id="l02754" name="l02754"></a><span class="lineno"> 2754</span>    <span class="keywordflow">return</span> in_p;</div>
<div class="line"><a id="l02755" name="l02755"></a><span class="lineno"> 2755</span>}</div>
<div class="line"><a id="l02756" name="l02756"></a><span class="lineno"> 2756</span> </div>
<div class="line"><a id="l02757" name="l02757"></a><span class="lineno"> 2757</span>IM_MSVC_RUNTIME_CHECKS_OFF</div>
<div class="line"><a id="l02758" name="l02758"></a><span class="lineno"> 2758</span><span class="keyword">static</span> <span class="keywordtype">int</span> IMGUI_CDECL PairComparerByID(<span class="keyword">const</span> <span class="keywordtype">void</span>* lhs, <span class="keyword">const</span> <span class="keywordtype">void</span>* rhs)</div>
<div class="line"><a id="l02759" name="l02759"></a><span class="lineno"> 2759</span>{</div>
<div class="line"><a id="l02760" name="l02760"></a><span class="lineno"> 2760</span>    <span class="comment">// We can&#39;t just do a subtraction because qsort uses signed integers and subtracting our ID doesn&#39;t play well with that.</span></div>
<div class="line"><a id="l02761" name="l02761"></a><span class="lineno"> 2761</span>    ImGuiID lhs_v = ((<span class="keyword">const</span> <a class="code hl_struct" href="structImGuiStoragePair.html">ImGuiStoragePair</a>*)lhs)-&gt;key;</div>
<div class="line"><a id="l02762" name="l02762"></a><span class="lineno"> 2762</span>    ImGuiID rhs_v = ((<span class="keyword">const</span> <a class="code hl_struct" href="structImGuiStoragePair.html">ImGuiStoragePair</a>*)rhs)-&gt;key;</div>
<div class="line"><a id="l02763" name="l02763"></a><span class="lineno"> 2763</span>    <span class="keywordflow">return</span> (lhs_v &gt; rhs_v ? +1 : lhs_v &lt; rhs_v ? -1 : 0);</div>
<div class="line"><a id="l02764" name="l02764"></a><span class="lineno"> 2764</span>}</div>
<div class="line"><a id="l02765" name="l02765"></a><span class="lineno"> 2765</span> </div>
<div class="line"><a id="l02766" name="l02766"></a><span class="lineno"> 2766</span><span class="comment">// For quicker full rebuild of a storage (instead of an incremental one), you may add all your contents and then sort once.</span></div>
<div class="line"><a id="l02767" name="l02767"></a><span class="lineno"> 2767</span><span class="keywordtype">void</span> ImGuiStorage::BuildSortByKey()</div>
<div class="line"><a id="l02768" name="l02768"></a><span class="lineno"> 2768</span>{</div>
<div class="line"><a id="l02769" name="l02769"></a><span class="lineno"> 2769</span>    ImQsort(Data.Data, (<span class="keywordtype">size_t</span>)Data.Size, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structImGuiStoragePair.html">ImGuiStoragePair</a>), PairComparerByID);</div>
<div class="line"><a id="l02770" name="l02770"></a><span class="lineno"> 2770</span>}</div>
<div class="line"><a id="l02771" name="l02771"></a><span class="lineno"> 2771</span> </div>
<div class="line"><a id="l02772" name="l02772"></a><span class="lineno"> 2772</span><span class="keywordtype">int</span> ImGuiStorage::GetInt(ImGuiID key, <span class="keywordtype">int</span> default_val)<span class="keyword"> const</span></div>
<div class="line"><a id="l02773" name="l02773"></a><span class="lineno"> 2773</span><span class="keyword"></span>{</div>
<div class="line"><a id="l02774" name="l02774"></a><span class="lineno"> 2774</span>    <a class="code hl_struct" href="structImGuiStoragePair.html">ImGuiStoragePair</a>* it = ImLowerBound(<span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="structImGuiStoragePair.html">ImGuiStoragePair</a>*<span class="keyword">&gt;</span>(Data.Data), <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="structImGuiStoragePair.html">ImGuiStoragePair</a>*<span class="keyword">&gt;</span>(Data.Data + Data.Size), key);</div>
<div class="line"><a id="l02775" name="l02775"></a><span class="lineno"> 2775</span>    <span class="keywordflow">if</span> (it == Data.Data + Data.Size || it-&gt;key != key)</div>
<div class="line"><a id="l02776" name="l02776"></a><span class="lineno"> 2776</span>        <span class="keywordflow">return</span> default_val;</div>
<div class="line"><a id="l02777" name="l02777"></a><span class="lineno"> 2777</span>    <span class="keywordflow">return</span> it-&gt;val_i;</div>
<div class="line"><a id="l02778" name="l02778"></a><span class="lineno"> 2778</span>}</div>
<div class="line"><a id="l02779" name="l02779"></a><span class="lineno"> 2779</span> </div>
<div class="line"><a id="l02780" name="l02780"></a><span class="lineno"> 2780</span><span class="keywordtype">bool</span> ImGuiStorage::GetBool(ImGuiID key, <span class="keywordtype">bool</span> default_val)<span class="keyword"> const</span></div>
<div class="line"><a id="l02781" name="l02781"></a><span class="lineno"> 2781</span><span class="keyword"></span>{</div>
<div class="line"><a id="l02782" name="l02782"></a><span class="lineno"> 2782</span>    <span class="keywordflow">return</span> GetInt(key, default_val ? 1 : 0) != 0;</div>
<div class="line"><a id="l02783" name="l02783"></a><span class="lineno"> 2783</span>}</div>
<div class="line"><a id="l02784" name="l02784"></a><span class="lineno"> 2784</span> </div>
<div class="line"><a id="l02785" name="l02785"></a><span class="lineno"> 2785</span><span class="keywordtype">float</span> ImGuiStorage::GetFloat(ImGuiID key, <span class="keywordtype">float</span> default_val)<span class="keyword"> const</span></div>
<div class="line"><a id="l02786" name="l02786"></a><span class="lineno"> 2786</span><span class="keyword"></span>{</div>
<div class="line"><a id="l02787" name="l02787"></a><span class="lineno"> 2787</span>    <a class="code hl_struct" href="structImGuiStoragePair.html">ImGuiStoragePair</a>* it = ImLowerBound(<span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="structImGuiStoragePair.html">ImGuiStoragePair</a>*<span class="keyword">&gt;</span>(Data.Data), <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="structImGuiStoragePair.html">ImGuiStoragePair</a>*<span class="keyword">&gt;</span>(Data.Data + Data.Size), key);</div>
<div class="line"><a id="l02788" name="l02788"></a><span class="lineno"> 2788</span>    <span class="keywordflow">if</span> (it == Data.Data + Data.Size || it-&gt;key != key)</div>
<div class="line"><a id="l02789" name="l02789"></a><span class="lineno"> 2789</span>        <span class="keywordflow">return</span> default_val;</div>
<div class="line"><a id="l02790" name="l02790"></a><span class="lineno"> 2790</span>    <span class="keywordflow">return</span> it-&gt;val_f;</div>
<div class="line"><a id="l02791" name="l02791"></a><span class="lineno"> 2791</span>}</div>
<div class="line"><a id="l02792" name="l02792"></a><span class="lineno"> 2792</span> </div>
<div class="line"><a id="l02793" name="l02793"></a><span class="lineno"> 2793</span><span class="keywordtype">void</span>* ImGuiStorage::GetVoidPtr(ImGuiID key)<span class="keyword"> const</span></div>
<div class="line"><a id="l02794" name="l02794"></a><span class="lineno"> 2794</span><span class="keyword"></span>{</div>
<div class="line"><a id="l02795" name="l02795"></a><span class="lineno"> 2795</span>    <a class="code hl_struct" href="structImGuiStoragePair.html">ImGuiStoragePair</a>* it = ImLowerBound(<span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="structImGuiStoragePair.html">ImGuiStoragePair</a>*<span class="keyword">&gt;</span>(Data.Data), <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="structImGuiStoragePair.html">ImGuiStoragePair</a>*<span class="keyword">&gt;</span>(Data.Data + Data.Size), key);</div>
<div class="line"><a id="l02796" name="l02796"></a><span class="lineno"> 2796</span>    <span class="keywordflow">if</span> (it == Data.Data + Data.Size || it-&gt;key != key)</div>
<div class="line"><a id="l02797" name="l02797"></a><span class="lineno"> 2797</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l02798" name="l02798"></a><span class="lineno"> 2798</span>    <span class="keywordflow">return</span> it-&gt;val_p;</div>
<div class="line"><a id="l02799" name="l02799"></a><span class="lineno"> 2799</span>}</div>
<div class="line"><a id="l02800" name="l02800"></a><span class="lineno"> 2800</span> </div>
<div class="line"><a id="l02801" name="l02801"></a><span class="lineno"> 2801</span><span class="comment">// References are only valid until a new value is added to the storage. Calling a Set***() function or a Get***Ref() function invalidates the pointer.</span></div>
<div class="line"><a id="l02802" name="l02802"></a><span class="lineno"> 2802</span><span class="keywordtype">int</span>* ImGuiStorage::GetIntRef(ImGuiID key, <span class="keywordtype">int</span> default_val)</div>
<div class="line"><a id="l02803" name="l02803"></a><span class="lineno"> 2803</span>{</div>
<div class="line"><a id="l02804" name="l02804"></a><span class="lineno"> 2804</span>    <a class="code hl_struct" href="structImGuiStoragePair.html">ImGuiStoragePair</a>* it = ImLowerBound(Data.Data, Data.Data + Data.Size, key);</div>
<div class="line"><a id="l02805" name="l02805"></a><span class="lineno"> 2805</span>    <span class="keywordflow">if</span> (it == Data.Data + Data.Size || it-&gt;key != key)</div>
<div class="line"><a id="l02806" name="l02806"></a><span class="lineno"> 2806</span>        it = Data.insert(it, <a class="code hl_struct" href="structImGuiStoragePair.html">ImGuiStoragePair</a>(key, default_val));</div>
<div class="line"><a id="l02807" name="l02807"></a><span class="lineno"> 2807</span>    <span class="keywordflow">return</span> &amp;it-&gt;val_i;</div>
<div class="line"><a id="l02808" name="l02808"></a><span class="lineno"> 2808</span>}</div>
<div class="line"><a id="l02809" name="l02809"></a><span class="lineno"> 2809</span> </div>
<div class="line"><a id="l02810" name="l02810"></a><span class="lineno"> 2810</span><span class="keywordtype">bool</span>* ImGuiStorage::GetBoolRef(ImGuiID key, <span class="keywordtype">bool</span> default_val)</div>
<div class="line"><a id="l02811" name="l02811"></a><span class="lineno"> 2811</span>{</div>
<div class="line"><a id="l02812" name="l02812"></a><span class="lineno"> 2812</span>    <span class="keywordflow">return</span> (<span class="keywordtype">bool</span>*)GetIntRef(key, default_val ? 1 : 0);</div>
<div class="line"><a id="l02813" name="l02813"></a><span class="lineno"> 2813</span>}</div>
<div class="line"><a id="l02814" name="l02814"></a><span class="lineno"> 2814</span> </div>
<div class="line"><a id="l02815" name="l02815"></a><span class="lineno"> 2815</span><span class="keywordtype">float</span>* ImGuiStorage::GetFloatRef(ImGuiID key, <span class="keywordtype">float</span> default_val)</div>
<div class="line"><a id="l02816" name="l02816"></a><span class="lineno"> 2816</span>{</div>
<div class="line"><a id="l02817" name="l02817"></a><span class="lineno"> 2817</span>    <a class="code hl_struct" href="structImGuiStoragePair.html">ImGuiStoragePair</a>* it = ImLowerBound(Data.Data, Data.Data + Data.Size, key);</div>
<div class="line"><a id="l02818" name="l02818"></a><span class="lineno"> 2818</span>    <span class="keywordflow">if</span> (it == Data.Data + Data.Size || it-&gt;key != key)</div>
<div class="line"><a id="l02819" name="l02819"></a><span class="lineno"> 2819</span>        it = Data.insert(it, <a class="code hl_struct" href="structImGuiStoragePair.html">ImGuiStoragePair</a>(key, default_val));</div>
<div class="line"><a id="l02820" name="l02820"></a><span class="lineno"> 2820</span>    <span class="keywordflow">return</span> &amp;it-&gt;val_f;</div>
<div class="line"><a id="l02821" name="l02821"></a><span class="lineno"> 2821</span>}</div>
<div class="line"><a id="l02822" name="l02822"></a><span class="lineno"> 2822</span> </div>
<div class="line"><a id="l02823" name="l02823"></a><span class="lineno"> 2823</span><span class="keywordtype">void</span>** ImGuiStorage::GetVoidPtrRef(ImGuiID key, <span class="keywordtype">void</span>* default_val)</div>
<div class="line"><a id="l02824" name="l02824"></a><span class="lineno"> 2824</span>{</div>
<div class="line"><a id="l02825" name="l02825"></a><span class="lineno"> 2825</span>    <a class="code hl_struct" href="structImGuiStoragePair.html">ImGuiStoragePair</a>* it = ImLowerBound(Data.Data, Data.Data + Data.Size, key);</div>
<div class="line"><a id="l02826" name="l02826"></a><span class="lineno"> 2826</span>    <span class="keywordflow">if</span> (it == Data.Data + Data.Size || it-&gt;key != key)</div>
<div class="line"><a id="l02827" name="l02827"></a><span class="lineno"> 2827</span>        it = Data.insert(it, <a class="code hl_struct" href="structImGuiStoragePair.html">ImGuiStoragePair</a>(key, default_val));</div>
<div class="line"><a id="l02828" name="l02828"></a><span class="lineno"> 2828</span>    <span class="keywordflow">return</span> &amp;it-&gt;val_p;</div>
<div class="line"><a id="l02829" name="l02829"></a><span class="lineno"> 2829</span>}</div>
<div class="line"><a id="l02830" name="l02830"></a><span class="lineno"> 2830</span> </div>
<div class="line"><a id="l02831" name="l02831"></a><span class="lineno"> 2831</span><span class="comment">// FIXME-OPT: Need a way to reuse the result of lower_bound when doing GetInt()/SetInt() - not too bad because it only happens on explicit interaction (maximum one a frame)</span></div>
<div class="line"><a id="l02832" name="l02832"></a><span class="lineno"> 2832</span><span class="keywordtype">void</span> ImGuiStorage::SetInt(ImGuiID key, <span class="keywordtype">int</span> val)</div>
<div class="line"><a id="l02833" name="l02833"></a><span class="lineno"> 2833</span>{</div>
<div class="line"><a id="l02834" name="l02834"></a><span class="lineno"> 2834</span>    <a class="code hl_struct" href="structImGuiStoragePair.html">ImGuiStoragePair</a>* it = ImLowerBound(Data.Data, Data.Data + Data.Size, key);</div>
<div class="line"><a id="l02835" name="l02835"></a><span class="lineno"> 2835</span>    <span class="keywordflow">if</span> (it == Data.Data + Data.Size || it-&gt;key != key)</div>
<div class="line"><a id="l02836" name="l02836"></a><span class="lineno"> 2836</span>        Data.insert(it, <a class="code hl_struct" href="structImGuiStoragePair.html">ImGuiStoragePair</a>(key, val));</div>
<div class="line"><a id="l02837" name="l02837"></a><span class="lineno"> 2837</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l02838" name="l02838"></a><span class="lineno"> 2838</span>        it-&gt;val_i = val;</div>
<div class="line"><a id="l02839" name="l02839"></a><span class="lineno"> 2839</span>}</div>
<div class="line"><a id="l02840" name="l02840"></a><span class="lineno"> 2840</span> </div>
<div class="line"><a id="l02841" name="l02841"></a><span class="lineno"> 2841</span><span class="keywordtype">void</span> ImGuiStorage::SetBool(ImGuiID key, <span class="keywordtype">bool</span> val)</div>
<div class="line"><a id="l02842" name="l02842"></a><span class="lineno"> 2842</span>{</div>
<div class="line"><a id="l02843" name="l02843"></a><span class="lineno"> 2843</span>    SetInt(key, val ? 1 : 0);</div>
<div class="line"><a id="l02844" name="l02844"></a><span class="lineno"> 2844</span>}</div>
<div class="line"><a id="l02845" name="l02845"></a><span class="lineno"> 2845</span> </div>
<div class="line"><a id="l02846" name="l02846"></a><span class="lineno"> 2846</span><span class="keywordtype">void</span> ImGuiStorage::SetFloat(ImGuiID key, <span class="keywordtype">float</span> val)</div>
<div class="line"><a id="l02847" name="l02847"></a><span class="lineno"> 2847</span>{</div>
<div class="line"><a id="l02848" name="l02848"></a><span class="lineno"> 2848</span>    <a class="code hl_struct" href="structImGuiStoragePair.html">ImGuiStoragePair</a>* it = ImLowerBound(Data.Data, Data.Data + Data.Size, key);</div>
<div class="line"><a id="l02849" name="l02849"></a><span class="lineno"> 2849</span>    <span class="keywordflow">if</span> (it == Data.Data + Data.Size || it-&gt;key != key)</div>
<div class="line"><a id="l02850" name="l02850"></a><span class="lineno"> 2850</span>        Data.insert(it, <a class="code hl_struct" href="structImGuiStoragePair.html">ImGuiStoragePair</a>(key, val));</div>
<div class="line"><a id="l02851" name="l02851"></a><span class="lineno"> 2851</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l02852" name="l02852"></a><span class="lineno"> 2852</span>        it-&gt;val_f = val;</div>
<div class="line"><a id="l02853" name="l02853"></a><span class="lineno"> 2853</span>}</div>
<div class="line"><a id="l02854" name="l02854"></a><span class="lineno"> 2854</span> </div>
<div class="line"><a id="l02855" name="l02855"></a><span class="lineno"> 2855</span><span class="keywordtype">void</span> ImGuiStorage::SetVoidPtr(ImGuiID key, <span class="keywordtype">void</span>* val)</div>
<div class="line"><a id="l02856" name="l02856"></a><span class="lineno"> 2856</span>{</div>
<div class="line"><a id="l02857" name="l02857"></a><span class="lineno"> 2857</span>    <a class="code hl_struct" href="structImGuiStoragePair.html">ImGuiStoragePair</a>* it = ImLowerBound(Data.Data, Data.Data + Data.Size, key);</div>
<div class="line"><a id="l02858" name="l02858"></a><span class="lineno"> 2858</span>    <span class="keywordflow">if</span> (it == Data.Data + Data.Size || it-&gt;key != key)</div>
<div class="line"><a id="l02859" name="l02859"></a><span class="lineno"> 2859</span>        Data.insert(it, <a class="code hl_struct" href="structImGuiStoragePair.html">ImGuiStoragePair</a>(key, val));</div>
<div class="line"><a id="l02860" name="l02860"></a><span class="lineno"> 2860</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l02861" name="l02861"></a><span class="lineno"> 2861</span>        it-&gt;val_p = val;</div>
<div class="line"><a id="l02862" name="l02862"></a><span class="lineno"> 2862</span>}</div>
<div class="line"><a id="l02863" name="l02863"></a><span class="lineno"> 2863</span> </div>
<div class="line"><a id="l02864" name="l02864"></a><span class="lineno"> 2864</span><span class="keywordtype">void</span> ImGuiStorage::SetAllInt(<span class="keywordtype">int</span> v)</div>
<div class="line"><a id="l02865" name="l02865"></a><span class="lineno"> 2865</span>{</div>
<div class="line"><a id="l02866" name="l02866"></a><span class="lineno"> 2866</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; Data.Size; i++)</div>
<div class="line"><a id="l02867" name="l02867"></a><span class="lineno"> 2867</span>        Data[i].val_i = v;</div>
<div class="line"><a id="l02868" name="l02868"></a><span class="lineno"> 2868</span>}</div>
<div class="line"><a id="l02869" name="l02869"></a><span class="lineno"> 2869</span>IM_MSVC_RUNTIME_CHECKS_RESTORE</div>
<div class="line"><a id="l02870" name="l02870"></a><span class="lineno"> 2870</span> </div>
<div class="line"><a id="l02871" name="l02871"></a><span class="lineno"> 2871</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02872" name="l02872"></a><span class="lineno"> 2872</span><span class="comment">// [SECTION] ImGuiTextFilter</span></div>
<div class="line"><a id="l02873" name="l02873"></a><span class="lineno"> 2873</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02874" name="l02874"></a><span class="lineno"> 2874</span> </div>
<div class="line"><a id="l02875" name="l02875"></a><span class="lineno"> 2875</span><span class="comment">// Helper: Parse and apply text filters. In format &quot;aaaaa[,bbbb][,ccccc]&quot;</span></div>
<div class="line"><a id="l02876" name="l02876"></a><span class="lineno"> 2876</span>ImGuiTextFilter::ImGuiTextFilter(<span class="keyword">const</span> <span class="keywordtype">char</span>* default_filter) <span class="comment">//-V1077</span></div>
<div class="line"><a id="l02877" name="l02877"></a><span class="lineno"> 2877</span>{</div>
<div class="line"><a id="l02878" name="l02878"></a><span class="lineno"> 2878</span>    InputBuf[0] = 0;</div>
<div class="line"><a id="l02879" name="l02879"></a><span class="lineno"> 2879</span>    CountGrep = 0;</div>
<div class="line"><a id="l02880" name="l02880"></a><span class="lineno"> 2880</span>    <span class="keywordflow">if</span> (default_filter)</div>
<div class="line"><a id="l02881" name="l02881"></a><span class="lineno"> 2881</span>    {</div>
<div class="line"><a id="l02882" name="l02882"></a><span class="lineno"> 2882</span>        ImStrncpy(InputBuf, default_filter, IM_ARRAYSIZE(InputBuf));</div>
<div class="line"><a id="l02883" name="l02883"></a><span class="lineno"> 2883</span>        Build();</div>
<div class="line"><a id="l02884" name="l02884"></a><span class="lineno"> 2884</span>    }</div>
<div class="line"><a id="l02885" name="l02885"></a><span class="lineno"> 2885</span>}</div>
<div class="line"><a id="l02886" name="l02886"></a><span class="lineno"> 2886</span> </div>
<div class="line"><a id="l02887" name="l02887"></a><span class="lineno"> 2887</span><span class="keywordtype">bool</span> ImGuiTextFilter::Draw(<span class="keyword">const</span> <span class="keywordtype">char</span>* label, <span class="keywordtype">float</span> width)</div>
<div class="line"><a id="l02888" name="l02888"></a><span class="lineno"> 2888</span>{</div>
<div class="line"><a id="l02889" name="l02889"></a><span class="lineno"> 2889</span>    <span class="keywordflow">if</span> (width != 0.0f)</div>
<div class="line"><a id="l02890" name="l02890"></a><span class="lineno"> 2890</span>        ImGui::SetNextItemWidth(width);</div>
<div class="line"><a id="l02891" name="l02891"></a><span class="lineno"> 2891</span>    <span class="keywordtype">bool</span> value_changed = ImGui::InputText(label, InputBuf, IM_ARRAYSIZE(InputBuf));</div>
<div class="line"><a id="l02892" name="l02892"></a><span class="lineno"> 2892</span>    <span class="keywordflow">if</span> (value_changed)</div>
<div class="line"><a id="l02893" name="l02893"></a><span class="lineno"> 2893</span>        Build();</div>
<div class="line"><a id="l02894" name="l02894"></a><span class="lineno"> 2894</span>    <span class="keywordflow">return</span> value_changed;</div>
<div class="line"><a id="l02895" name="l02895"></a><span class="lineno"> 2895</span>}</div>
<div class="line"><a id="l02896" name="l02896"></a><span class="lineno"> 2896</span> </div>
<div class="line"><a id="l02897" name="l02897"></a><span class="lineno"> 2897</span><span class="keywordtype">void</span> ImGuiTextFilter::ImGuiTextRange::split(<span class="keywordtype">char</span> separator, <a class="code hl_struct" href="structImVector.html">ImVector&lt;ImGuiTextRange&gt;</a>* out)<span class="keyword"> const</span></div>
<div class="line"><a id="l02898" name="l02898"></a><span class="lineno"> 2898</span><span class="keyword"></span>{</div>
<div class="line"><a id="l02899" name="l02899"></a><span class="lineno"> 2899</span>    out-&gt;resize(0);</div>
<div class="line"><a id="l02900" name="l02900"></a><span class="lineno"> 2900</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* wb = b;</div>
<div class="line"><a id="l02901" name="l02901"></a><span class="lineno"> 2901</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* we = wb;</div>
<div class="line"><a id="l02902" name="l02902"></a><span class="lineno"> 2902</span>    <span class="keywordflow">while</span> (we &lt; e)</div>
<div class="line"><a id="l02903" name="l02903"></a><span class="lineno"> 2903</span>    {</div>
<div class="line"><a id="l02904" name="l02904"></a><span class="lineno"> 2904</span>        <span class="keywordflow">if</span> (*we == separator)</div>
<div class="line"><a id="l02905" name="l02905"></a><span class="lineno"> 2905</span>        {</div>
<div class="line"><a id="l02906" name="l02906"></a><span class="lineno"> 2906</span>            out-&gt;push_back(ImGuiTextRange(wb, we));</div>
<div class="line"><a id="l02907" name="l02907"></a><span class="lineno"> 2907</span>            wb = we + 1;</div>
<div class="line"><a id="l02908" name="l02908"></a><span class="lineno"> 2908</span>        }</div>
<div class="line"><a id="l02909" name="l02909"></a><span class="lineno"> 2909</span>        we++;</div>
<div class="line"><a id="l02910" name="l02910"></a><span class="lineno"> 2910</span>    }</div>
<div class="line"><a id="l02911" name="l02911"></a><span class="lineno"> 2911</span>    <span class="keywordflow">if</span> (wb != we)</div>
<div class="line"><a id="l02912" name="l02912"></a><span class="lineno"> 2912</span>        out-&gt;push_back(ImGuiTextRange(wb, we));</div>
<div class="line"><a id="l02913" name="l02913"></a><span class="lineno"> 2913</span>}</div>
<div class="line"><a id="l02914" name="l02914"></a><span class="lineno"> 2914</span> </div>
<div class="line"><a id="l02915" name="l02915"></a><span class="lineno"> 2915</span><span class="keywordtype">void</span> ImGuiTextFilter::Build()</div>
<div class="line"><a id="l02916" name="l02916"></a><span class="lineno"> 2916</span>{</div>
<div class="line"><a id="l02917" name="l02917"></a><span class="lineno"> 2917</span>    Filters.resize(0);</div>
<div class="line"><a id="l02918" name="l02918"></a><span class="lineno"> 2918</span>    ImGuiTextRange input_range(InputBuf, InputBuf + ImStrlen(InputBuf));</div>
<div class="line"><a id="l02919" name="l02919"></a><span class="lineno"> 2919</span>    input_range.split(<span class="charliteral">&#39;,&#39;</span>, &amp;Filters);</div>
<div class="line"><a id="l02920" name="l02920"></a><span class="lineno"> 2920</span> </div>
<div class="line"><a id="l02921" name="l02921"></a><span class="lineno"> 2921</span>    CountGrep = 0;</div>
<div class="line"><a id="l02922" name="l02922"></a><span class="lineno"> 2922</span>    <span class="keywordflow">for</span> (ImGuiTextRange&amp; f : Filters)</div>
<div class="line"><a id="l02923" name="l02923"></a><span class="lineno"> 2923</span>    {</div>
<div class="line"><a id="l02924" name="l02924"></a><span class="lineno"> 2924</span>        <span class="keywordflow">while</span> (f.b &lt; f.e &amp;&amp; ImCharIsBlankA(f.b[0]))</div>
<div class="line"><a id="l02925" name="l02925"></a><span class="lineno"> 2925</span>            f.b++;</div>
<div class="line"><a id="l02926" name="l02926"></a><span class="lineno"> 2926</span>        <span class="keywordflow">while</span> (f.e &gt; f.b &amp;&amp; ImCharIsBlankA(f.e[-1]))</div>
<div class="line"><a id="l02927" name="l02927"></a><span class="lineno"> 2927</span>            f.e--;</div>
<div class="line"><a id="l02928" name="l02928"></a><span class="lineno"> 2928</span>        <span class="keywordflow">if</span> (f.empty())</div>
<div class="line"><a id="l02929" name="l02929"></a><span class="lineno"> 2929</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02930" name="l02930"></a><span class="lineno"> 2930</span>        <span class="keywordflow">if</span> (f.b[0] != <span class="charliteral">&#39;-&#39;</span>)</div>
<div class="line"><a id="l02931" name="l02931"></a><span class="lineno"> 2931</span>            CountGrep += 1;</div>
<div class="line"><a id="l02932" name="l02932"></a><span class="lineno"> 2932</span>    }</div>
<div class="line"><a id="l02933" name="l02933"></a><span class="lineno"> 2933</span>}</div>
<div class="line"><a id="l02934" name="l02934"></a><span class="lineno"> 2934</span> </div>
<div class="line"><a id="l02935" name="l02935"></a><span class="lineno"> 2935</span><span class="keywordtype">bool</span> ImGuiTextFilter::PassFilter(<span class="keyword">const</span> <span class="keywordtype">char</span>* text, <span class="keyword">const</span> <span class="keywordtype">char</span>* text_end)<span class="keyword"> const</span></div>
<div class="line"><a id="l02936" name="l02936"></a><span class="lineno"> 2936</span><span class="keyword"></span>{</div>
<div class="line"><a id="l02937" name="l02937"></a><span class="lineno"> 2937</span>    <span class="keywordflow">if</span> (Filters.Size == 0)</div>
<div class="line"><a id="l02938" name="l02938"></a><span class="lineno"> 2938</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l02939" name="l02939"></a><span class="lineno"> 2939</span> </div>
<div class="line"><a id="l02940" name="l02940"></a><span class="lineno"> 2940</span>    <span class="keywordflow">if</span> (text == NULL)</div>
<div class="line"><a id="l02941" name="l02941"></a><span class="lineno"> 2941</span>        text = text_end = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l02942" name="l02942"></a><span class="lineno"> 2942</span> </div>
<div class="line"><a id="l02943" name="l02943"></a><span class="lineno"> 2943</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> ImGuiTextRange&amp; f : Filters)</div>
<div class="line"><a id="l02944" name="l02944"></a><span class="lineno"> 2944</span>    {</div>
<div class="line"><a id="l02945" name="l02945"></a><span class="lineno"> 2945</span>        <span class="keywordflow">if</span> (f.b == f.e)</div>
<div class="line"><a id="l02946" name="l02946"></a><span class="lineno"> 2946</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02947" name="l02947"></a><span class="lineno"> 2947</span>        <span class="keywordflow">if</span> (f.b[0] == <span class="charliteral">&#39;-&#39;</span>)</div>
<div class="line"><a id="l02948" name="l02948"></a><span class="lineno"> 2948</span>        {</div>
<div class="line"><a id="l02949" name="l02949"></a><span class="lineno"> 2949</span>            <span class="comment">// Subtract</span></div>
<div class="line"><a id="l02950" name="l02950"></a><span class="lineno"> 2950</span>            <span class="keywordflow">if</span> (ImStristr(text, text_end, f.b + 1, f.e) != NULL)</div>
<div class="line"><a id="l02951" name="l02951"></a><span class="lineno"> 2951</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02952" name="l02952"></a><span class="lineno"> 2952</span>        }</div>
<div class="line"><a id="l02953" name="l02953"></a><span class="lineno"> 2953</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l02954" name="l02954"></a><span class="lineno"> 2954</span>        {</div>
<div class="line"><a id="l02955" name="l02955"></a><span class="lineno"> 2955</span>            <span class="comment">// Grep</span></div>
<div class="line"><a id="l02956" name="l02956"></a><span class="lineno"> 2956</span>            <span class="keywordflow">if</span> (ImStristr(text, text_end, f.b, f.e) != NULL)</div>
<div class="line"><a id="l02957" name="l02957"></a><span class="lineno"> 2957</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l02958" name="l02958"></a><span class="lineno"> 2958</span>        }</div>
<div class="line"><a id="l02959" name="l02959"></a><span class="lineno"> 2959</span>    }</div>
<div class="line"><a id="l02960" name="l02960"></a><span class="lineno"> 2960</span> </div>
<div class="line"><a id="l02961" name="l02961"></a><span class="lineno"> 2961</span>    <span class="comment">// Implicit * grep</span></div>
<div class="line"><a id="l02962" name="l02962"></a><span class="lineno"> 2962</span>    <span class="keywordflow">if</span> (CountGrep == 0)</div>
<div class="line"><a id="l02963" name="l02963"></a><span class="lineno"> 2963</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l02964" name="l02964"></a><span class="lineno"> 2964</span> </div>
<div class="line"><a id="l02965" name="l02965"></a><span class="lineno"> 2965</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02966" name="l02966"></a><span class="lineno"> 2966</span>}</div>
<div class="line"><a id="l02967" name="l02967"></a><span class="lineno"> 2967</span> </div>
<div class="line"><a id="l02968" name="l02968"></a><span class="lineno"> 2968</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02969" name="l02969"></a><span class="lineno"> 2969</span><span class="comment">// [SECTION] ImGuiTextBuffer, ImGuiTextIndex</span></div>
<div class="line"><a id="l02970" name="l02970"></a><span class="lineno"> 2970</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02971" name="l02971"></a><span class="lineno"> 2971</span> </div>
<div class="line"><a id="l02972" name="l02972"></a><span class="lineno"> 2972</span><span class="comment">// On some platform vsnprintf() takes va_list by reference and modifies it.</span></div>
<div class="line"><a id="l02973" name="l02973"></a><span class="lineno"> 2973</span><span class="comment">// va_copy is the &#39;correct&#39; way to copy a va_list but Visual Studio prior to 2013 doesn&#39;t have it.</span></div>
<div class="line"><a id="l02974" name="l02974"></a><span class="lineno"> 2974</span><span class="preprocessor">#ifndef va_copy</span></div>
<div class="line"><a id="l02975" name="l02975"></a><span class="lineno"> 2975</span><span class="preprocessor">#if defined(__GNUC__) || defined(__clang__)</span></div>
<div class="line"><a id="l02976" name="l02976"></a><span class="lineno"> 2976</span><span class="preprocessor">#define va_copy(dest, src) __builtin_va_copy(dest, src)</span></div>
<div class="line"><a id="l02977" name="l02977"></a><span class="lineno"> 2977</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l02978" name="l02978"></a><span class="lineno"> 2978</span><span class="preprocessor">#define va_copy(dest, src) (dest = src)</span></div>
<div class="line"><a id="l02979" name="l02979"></a><span class="lineno"> 2979</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02980" name="l02980"></a><span class="lineno"> 2980</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02981" name="l02981"></a><span class="lineno"> 2981</span> </div>
<div class="line"><a id="l02982" name="l02982"></a><span class="lineno"> 2982</span><span class="keywordtype">char</span> ImGuiTextBuffer::EmptyString[1] = { 0 };</div>
<div class="line"><a id="l02983" name="l02983"></a><span class="lineno"> 2983</span> </div>
<div class="line"><a id="l02984" name="l02984"></a><span class="lineno"> 2984</span><span class="keywordtype">void</span> ImGuiTextBuffer::append(<span class="keyword">const</span> <span class="keywordtype">char</span>* str, <span class="keyword">const</span> <span class="keywordtype">char</span>* str_end)</div>
<div class="line"><a id="l02985" name="l02985"></a><span class="lineno"> 2985</span>{</div>
<div class="line"><a id="l02986" name="l02986"></a><span class="lineno"> 2986</span>    <span class="keywordtype">int</span> len = str_end ? (int)(str_end - str) : (int)ImStrlen(str);</div>
<div class="line"><a id="l02987" name="l02987"></a><span class="lineno"> 2987</span> </div>
<div class="line"><a id="l02988" name="l02988"></a><span class="lineno"> 2988</span>    <span class="comment">// Add zero-terminator the first time</span></div>
<div class="line"><a id="l02989" name="l02989"></a><span class="lineno"> 2989</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> write_off = (Buf.Size != 0) ? Buf.Size : 1;</div>
<div class="line"><a id="l02990" name="l02990"></a><span class="lineno"> 2990</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> needed_sz = write_off + len;</div>
<div class="line"><a id="l02991" name="l02991"></a><span class="lineno"> 2991</span>    <span class="keywordflow">if</span> (write_off + len &gt;= Buf.Capacity)</div>
<div class="line"><a id="l02992" name="l02992"></a><span class="lineno"> 2992</span>    {</div>
<div class="line"><a id="l02993" name="l02993"></a><span class="lineno"> 2993</span>        <span class="keywordtype">int</span> new_capacity = Buf.Capacity * 2;</div>
<div class="line"><a id="l02994" name="l02994"></a><span class="lineno"> 2994</span>        Buf.reserve(needed_sz &gt; new_capacity ? needed_sz : new_capacity);</div>
<div class="line"><a id="l02995" name="l02995"></a><span class="lineno"> 2995</span>    }</div>
<div class="line"><a id="l02996" name="l02996"></a><span class="lineno"> 2996</span> </div>
<div class="line"><a id="l02997" name="l02997"></a><span class="lineno"> 2997</span>    Buf.resize(needed_sz);</div>
<div class="line"><a id="l02998" name="l02998"></a><span class="lineno"> 2998</span>    memcpy(&amp;Buf[write_off - 1], str, (<span class="keywordtype">size_t</span>)len);</div>
<div class="line"><a id="l02999" name="l02999"></a><span class="lineno"> 2999</span>    Buf[write_off - 1 + len] = 0;</div>
<div class="line"><a id="l03000" name="l03000"></a><span class="lineno"> 3000</span>}</div>
<div class="line"><a id="l03001" name="l03001"></a><span class="lineno"> 3001</span> </div>
<div class="line"><a id="l03002" name="l03002"></a><span class="lineno"> 3002</span><span class="keywordtype">void</span> ImGuiTextBuffer::appendf(<span class="keyword">const</span> <span class="keywordtype">char</span>* fmt, ...)</div>
<div class="line"><a id="l03003" name="l03003"></a><span class="lineno"> 3003</span>{</div>
<div class="line"><a id="l03004" name="l03004"></a><span class="lineno"> 3004</span>    va_list args;</div>
<div class="line"><a id="l03005" name="l03005"></a><span class="lineno"> 3005</span>    va_start(args, fmt);</div>
<div class="line"><a id="l03006" name="l03006"></a><span class="lineno"> 3006</span>    appendfv(fmt, args);</div>
<div class="line"><a id="l03007" name="l03007"></a><span class="lineno"> 3007</span>    va_end(args);</div>
<div class="line"><a id="l03008" name="l03008"></a><span class="lineno"> 3008</span>}</div>
<div class="line"><a id="l03009" name="l03009"></a><span class="lineno"> 3009</span> </div>
<div class="line"><a id="l03010" name="l03010"></a><span class="lineno"> 3010</span><span class="comment">// Helper: Text buffer for logging/accumulating text</span></div>
<div class="line"><a id="l03011" name="l03011"></a><span class="lineno"> 3011</span><span class="keywordtype">void</span> ImGuiTextBuffer::appendfv(<span class="keyword">const</span> <span class="keywordtype">char</span>* fmt, va_list args)</div>
<div class="line"><a id="l03012" name="l03012"></a><span class="lineno"> 3012</span>{</div>
<div class="line"><a id="l03013" name="l03013"></a><span class="lineno"> 3013</span>    va_list args_copy;</div>
<div class="line"><a id="l03014" name="l03014"></a><span class="lineno"> 3014</span>    va_copy(args_copy, args);</div>
<div class="line"><a id="l03015" name="l03015"></a><span class="lineno"> 3015</span> </div>
<div class="line"><a id="l03016" name="l03016"></a><span class="lineno"> 3016</span>    <span class="keywordtype">int</span> len = ImFormatStringV(NULL, 0, fmt, args);         <span class="comment">// FIXME-OPT: could do a first pass write attempt, likely successful on first pass.</span></div>
<div class="line"><a id="l03017" name="l03017"></a><span class="lineno"> 3017</span>    <span class="keywordflow">if</span> (len &lt;= 0)</div>
<div class="line"><a id="l03018" name="l03018"></a><span class="lineno"> 3018</span>    {</div>
<div class="line"><a id="l03019" name="l03019"></a><span class="lineno"> 3019</span>        va_end(args_copy);</div>
<div class="line"><a id="l03020" name="l03020"></a><span class="lineno"> 3020</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03021" name="l03021"></a><span class="lineno"> 3021</span>    }</div>
<div class="line"><a id="l03022" name="l03022"></a><span class="lineno"> 3022</span> </div>
<div class="line"><a id="l03023" name="l03023"></a><span class="lineno"> 3023</span>    <span class="comment">// Add zero-terminator the first time</span></div>
<div class="line"><a id="l03024" name="l03024"></a><span class="lineno"> 3024</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> write_off = (Buf.Size != 0) ? Buf.Size : 1;</div>
<div class="line"><a id="l03025" name="l03025"></a><span class="lineno"> 3025</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> needed_sz = write_off + len;</div>
<div class="line"><a id="l03026" name="l03026"></a><span class="lineno"> 3026</span>    <span class="keywordflow">if</span> (write_off + len &gt;= Buf.Capacity)</div>
<div class="line"><a id="l03027" name="l03027"></a><span class="lineno"> 3027</span>    {</div>
<div class="line"><a id="l03028" name="l03028"></a><span class="lineno"> 3028</span>        <span class="keywordtype">int</span> new_capacity = Buf.Capacity * 2;</div>
<div class="line"><a id="l03029" name="l03029"></a><span class="lineno"> 3029</span>        Buf.reserve(needed_sz &gt; new_capacity ? needed_sz : new_capacity);</div>
<div class="line"><a id="l03030" name="l03030"></a><span class="lineno"> 3030</span>    }</div>
<div class="line"><a id="l03031" name="l03031"></a><span class="lineno"> 3031</span> </div>
<div class="line"><a id="l03032" name="l03032"></a><span class="lineno"> 3032</span>    Buf.resize(needed_sz);</div>
<div class="line"><a id="l03033" name="l03033"></a><span class="lineno"> 3033</span>    ImFormatStringV(&amp;Buf[write_off - 1], (<span class="keywordtype">size_t</span>)len + 1, fmt, args_copy);</div>
<div class="line"><a id="l03034" name="l03034"></a><span class="lineno"> 3034</span>    va_end(args_copy);</div>
<div class="line"><a id="l03035" name="l03035"></a><span class="lineno"> 3035</span>}</div>
<div class="line"><a id="l03036" name="l03036"></a><span class="lineno"> 3036</span> </div>
<div class="line"><a id="l03037" name="l03037"></a><span class="lineno"> 3037</span><span class="keywordtype">void</span> ImGuiTextIndex::append(<span class="keyword">const</span> <span class="keywordtype">char</span>* base, <span class="keywordtype">int</span> old_size, <span class="keywordtype">int</span> new_size)</div>
<div class="line"><a id="l03038" name="l03038"></a><span class="lineno"> 3038</span>{</div>
<div class="line"><a id="l03039" name="l03039"></a><span class="lineno"> 3039</span>    IM_ASSERT(old_size &gt;= 0 &amp;&amp; new_size &gt;= old_size &amp;&amp; new_size &gt;= EndOffset);</div>
<div class="line"><a id="l03040" name="l03040"></a><span class="lineno"> 3040</span>    <span class="keywordflow">if</span> (old_size == new_size)</div>
<div class="line"><a id="l03041" name="l03041"></a><span class="lineno"> 3041</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03042" name="l03042"></a><span class="lineno"> 3042</span>    <span class="keywordflow">if</span> (EndOffset == 0 || base[EndOffset - 1] == <span class="charliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a id="l03043" name="l03043"></a><span class="lineno"> 3043</span>        LineOffsets.push_back(EndOffset);</div>
<div class="line"><a id="l03044" name="l03044"></a><span class="lineno"> 3044</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* base_end = base + new_size;</div>
<div class="line"><a id="l03045" name="l03045"></a><span class="lineno"> 3045</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keywordtype">char</span>* p = base + old_size; (p = (<span class="keyword">const</span> <span class="keywordtype">char</span>*)ImMemchr(p, <span class="charliteral">&#39;\n&#39;</span>, base_end - p)) != 0; )</div>
<div class="line"><a id="l03046" name="l03046"></a><span class="lineno"> 3046</span>        <span class="keywordflow">if</span> (++p &lt; base_end) <span class="comment">// Don&#39;t push a trailing offset on last \n</span></div>
<div class="line"><a id="l03047" name="l03047"></a><span class="lineno"> 3047</span>            LineOffsets.push_back((<span class="keywordtype">int</span>)(intptr_t)(p - base));</div>
<div class="line"><a id="l03048" name="l03048"></a><span class="lineno"> 3048</span>    EndOffset = ImMax(EndOffset, new_size);</div>
<div class="line"><a id="l03049" name="l03049"></a><span class="lineno"> 3049</span>}</div>
<div class="line"><a id="l03050" name="l03050"></a><span class="lineno"> 3050</span> </div>
<div class="line"><a id="l03051" name="l03051"></a><span class="lineno"> 3051</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03052" name="l03052"></a><span class="lineno"> 3052</span><span class="comment">// [SECTION] ImGuiListClipper</span></div>
<div class="line"><a id="l03053" name="l03053"></a><span class="lineno"> 3053</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03054" name="l03054"></a><span class="lineno"> 3054</span> </div>
<div class="line"><a id="l03055" name="l03055"></a><span class="lineno"> 3055</span><span class="comment">// FIXME-TABLE: This prevents us from using ImGuiListClipper _inside_ a table cell.</span></div>
<div class="line"><a id="l03056" name="l03056"></a><span class="lineno"> 3056</span><span class="comment">// The problem we have is that without a Begin/End scheme for rows using the clipper is ambiguous.</span></div>
<div class="line"><a id="l03057" name="l03057"></a><span class="lineno"> 3057</span><span class="keyword">static</span> <span class="keywordtype">bool</span> GetSkipItemForListClipping()</div>
<div class="line"><a id="l03058" name="l03058"></a><span class="lineno"> 3058</span>{</div>
<div class="line"><a id="l03059" name="l03059"></a><span class="lineno"> 3059</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l03060" name="l03060"></a><span class="lineno"> 3060</span>    <span class="keywordflow">return</span> (g.CurrentTable ? g.CurrentTable-&gt;HostSkipItems : g.CurrentWindow-&gt;SkipItems);</div>
<div class="line"><a id="l03061" name="l03061"></a><span class="lineno"> 3061</span>}</div>
<div class="line"><a id="l03062" name="l03062"></a><span class="lineno"> 3062</span> </div>
<div class="line"><a id="l03063" name="l03063"></a><span class="lineno"> 3063</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGuiListClipper_SortAndFuseRanges(<a class="code hl_struct" href="structImVector.html">ImVector&lt;ImGuiListClipperRange&gt;</a>&amp; ranges, <span class="keywordtype">int</span> offset = 0)</div>
<div class="line"><a id="l03064" name="l03064"></a><span class="lineno"> 3064</span>{</div>
<div class="line"><a id="l03065" name="l03065"></a><span class="lineno"> 3065</span>    <span class="keywordflow">if</span> (ranges.Size - offset &lt;= 1)</div>
<div class="line"><a id="l03066" name="l03066"></a><span class="lineno"> 3066</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03067" name="l03067"></a><span class="lineno"> 3067</span> </div>
<div class="line"><a id="l03068" name="l03068"></a><span class="lineno"> 3068</span>    <span class="comment">// Helper to order ranges and fuse them together if possible (bubble sort is fine as we are only sorting 2-3 entries)</span></div>
<div class="line"><a id="l03069" name="l03069"></a><span class="lineno"> 3069</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> sort_end = ranges.Size - offset - 1; sort_end &gt; 0; --sort_end)</div>
<div class="line"><a id="l03070" name="l03070"></a><span class="lineno"> 3070</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = offset; i &lt; sort_end + offset; ++i)</div>
<div class="line"><a id="l03071" name="l03071"></a><span class="lineno"> 3071</span>            <span class="keywordflow">if</span> (ranges[i].Min &gt; ranges[i + 1].Min)</div>
<div class="line"><a id="l03072" name="l03072"></a><span class="lineno"> 3072</span>                ImSwap(ranges[i], ranges[i + 1]);</div>
<div class="line"><a id="l03073" name="l03073"></a><span class="lineno"> 3073</span> </div>
<div class="line"><a id="l03074" name="l03074"></a><span class="lineno"> 3074</span>    <span class="comment">// Now fuse ranges together as much as possible.</span></div>
<div class="line"><a id="l03075" name="l03075"></a><span class="lineno"> 3075</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1 + offset; i &lt; ranges.Size; i++)</div>
<div class="line"><a id="l03076" name="l03076"></a><span class="lineno"> 3076</span>    {</div>
<div class="line"><a id="l03077" name="l03077"></a><span class="lineno"> 3077</span>        IM_ASSERT(!ranges[i].PosToIndexConvert &amp;&amp; !ranges[i - 1].PosToIndexConvert);</div>
<div class="line"><a id="l03078" name="l03078"></a><span class="lineno"> 3078</span>        <span class="keywordflow">if</span> (ranges[i - 1].Max &lt; ranges[i].Min)</div>
<div class="line"><a id="l03079" name="l03079"></a><span class="lineno"> 3079</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l03080" name="l03080"></a><span class="lineno"> 3080</span>        ranges[i - 1].Min = ImMin(ranges[i - 1].Min, ranges[i].Min);</div>
<div class="line"><a id="l03081" name="l03081"></a><span class="lineno"> 3081</span>        ranges[i - 1].Max = ImMax(ranges[i - 1].Max, ranges[i].Max);</div>
<div class="line"><a id="l03082" name="l03082"></a><span class="lineno"> 3082</span>        ranges.erase(ranges.Data + i);</div>
<div class="line"><a id="l03083" name="l03083"></a><span class="lineno"> 3083</span>        i--;</div>
<div class="line"><a id="l03084" name="l03084"></a><span class="lineno"> 3084</span>    }</div>
<div class="line"><a id="l03085" name="l03085"></a><span class="lineno"> 3085</span>}</div>
<div class="line"><a id="l03086" name="l03086"></a><span class="lineno"> 3086</span> </div>
<div class="line"><a id="l03087" name="l03087"></a><span class="lineno"> 3087</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGuiListClipper_SeekCursorAndSetupPrevLine(<span class="keywordtype">float</span> pos_y, <span class="keywordtype">float</span> line_height)</div>
<div class="line"><a id="l03088" name="l03088"></a><span class="lineno"> 3088</span>{</div>
<div class="line"><a id="l03089" name="l03089"></a><span class="lineno"> 3089</span>    <span class="comment">// Set cursor position and a few other things so that SetScrollHereY() and Columns() can work when seeking cursor.</span></div>
<div class="line"><a id="l03090" name="l03090"></a><span class="lineno"> 3090</span>    <span class="comment">// FIXME: It is problematic that we have to do that here, because custom/equivalent end-user code would stumble on the same issue.</span></div>
<div class="line"><a id="l03091" name="l03091"></a><span class="lineno"> 3091</span>    <span class="comment">// The clipper should probably have a final step to display the last item in a regular manner, maybe with an opt-out flag for data sets which may have costly seek?</span></div>
<div class="line"><a id="l03092" name="l03092"></a><span class="lineno"> 3092</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l03093" name="l03093"></a><span class="lineno"> 3093</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l03094" name="l03094"></a><span class="lineno"> 3094</span>    <span class="keywordtype">float</span> off_y = pos_y - window-&gt;DC.CursorPos.y;</div>
<div class="line"><a id="l03095" name="l03095"></a><span class="lineno"> 3095</span>    window-&gt;DC.CursorPos.y = pos_y;</div>
<div class="line"><a id="l03096" name="l03096"></a><span class="lineno"> 3096</span>    window-&gt;DC.CursorMaxPos.y = ImMax(window-&gt;DC.CursorMaxPos.y, pos_y - g.Style.ItemSpacing.y);</div>
<div class="line"><a id="l03097" name="l03097"></a><span class="lineno"> 3097</span>    window-&gt;DC.CursorPosPrevLine.y = window-&gt;DC.CursorPos.y - line_height;  <span class="comment">// Setting those fields so that SetScrollHereY() can properly function after the end of our clipper usage.</span></div>
<div class="line"><a id="l03098" name="l03098"></a><span class="lineno"> 3098</span>    window-&gt;DC.PrevLineSize.y = (line_height - g.Style.ItemSpacing.y);      <span class="comment">// If we end up needing more accurate data (to e.g. use SameLine) we may as well make the clipper have a fourth step to let user process and display the last item in their list.</span></div>
<div class="line"><a id="l03099" name="l03099"></a><span class="lineno"> 3099</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiOldColumns.html">ImGuiOldColumns</a>* columns = window-&gt;DC.CurrentColumns)</div>
<div class="line"><a id="l03100" name="l03100"></a><span class="lineno"> 3100</span>        columns-&gt;LineMinY = window-&gt;DC.CursorPos.y;                         <span class="comment">// Setting this so that cell Y position are set properly</span></div>
<div class="line"><a id="l03101" name="l03101"></a><span class="lineno"> 3101</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiTable.html">ImGuiTable</a>* table = g.CurrentTable)</div>
<div class="line"><a id="l03102" name="l03102"></a><span class="lineno"> 3102</span>    {</div>
<div class="line"><a id="l03103" name="l03103"></a><span class="lineno"> 3103</span>        <span class="keywordflow">if</span> (table-&gt;IsInsideRow)</div>
<div class="line"><a id="l03104" name="l03104"></a><span class="lineno"> 3104</span>            ImGui::TableEndRow(table);</div>
<div class="line"><a id="l03105" name="l03105"></a><span class="lineno"> 3105</span>        table-&gt;RowPosY2 = window-&gt;DC.CursorPos.y;</div>
<div class="line"><a id="l03106" name="l03106"></a><span class="lineno"> 3106</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> row_increase = (int)((off_y / line_height) + 0.5f);</div>
<div class="line"><a id="l03107" name="l03107"></a><span class="lineno"> 3107</span>        <span class="comment">//table-&gt;CurrentRow += row_increase; // Can&#39;t do without fixing TableEndRow()</span></div>
<div class="line"><a id="l03108" name="l03108"></a><span class="lineno"> 3108</span>        table-&gt;RowBgColorCounter += row_increase;</div>
<div class="line"><a id="l03109" name="l03109"></a><span class="lineno"> 3109</span>    }</div>
<div class="line"><a id="l03110" name="l03110"></a><span class="lineno"> 3110</span>}</div>
<div class="line"><a id="l03111" name="l03111"></a><span class="lineno"> 3111</span> </div>
<div class="line"><a id="l03112" name="l03112"></a><span class="lineno"> 3112</span>ImGuiListClipper::ImGuiListClipper()</div>
<div class="line"><a id="l03113" name="l03113"></a><span class="lineno"> 3113</span>{</div>
<div class="line"><a id="l03114" name="l03114"></a><span class="lineno"> 3114</span>    memset(<span class="keyword">this</span>, 0, <span class="keyword">sizeof</span>(*<span class="keyword">this</span>));</div>
<div class="line"><a id="l03115" name="l03115"></a><span class="lineno"> 3115</span>}</div>
<div class="line"><a id="l03116" name="l03116"></a><span class="lineno"> 3116</span> </div>
<div class="line"><a id="l03117" name="l03117"></a><span class="lineno"> 3117</span>ImGuiListClipper::~ImGuiListClipper()</div>
<div class="line"><a id="l03118" name="l03118"></a><span class="lineno"> 3118</span>{</div>
<div class="line"><a id="l03119" name="l03119"></a><span class="lineno"> 3119</span>    End();</div>
<div class="line"><a id="l03120" name="l03120"></a><span class="lineno"> 3120</span>}</div>
<div class="line"><a id="l03121" name="l03121"></a><span class="lineno"> 3121</span> </div>
<div class="line"><a id="l03122" name="l03122"></a><span class="lineno"> 3122</span><span class="keywordtype">void</span> ImGuiListClipper::Begin(<span class="keywordtype">int</span> items_count, <span class="keywordtype">float</span> items_height)</div>
<div class="line"><a id="l03123" name="l03123"></a><span class="lineno"> 3123</span>{</div>
<div class="line"><a id="l03124" name="l03124"></a><span class="lineno"> 3124</span>    <span class="keywordflow">if</span> (Ctx == NULL)</div>
<div class="line"><a id="l03125" name="l03125"></a><span class="lineno"> 3125</span>        Ctx = ImGui::GetCurrentContext();</div>
<div class="line"><a id="l03126" name="l03126"></a><span class="lineno"> 3126</span> </div>
<div class="line"><a id="l03127" name="l03127"></a><span class="lineno"> 3127</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *Ctx;</div>
<div class="line"><a id="l03128" name="l03128"></a><span class="lineno"> 3128</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l03129" name="l03129"></a><span class="lineno"> 3129</span>    IMGUI_DEBUG_LOG_CLIPPER(<span class="stringliteral">&quot;Clipper: Begin(%d,%.2f) in &#39;%s&#39;\n&quot;</span>, items_count, items_height, window-&gt;Name);</div>
<div class="line"><a id="l03130" name="l03130"></a><span class="lineno"> 3130</span> </div>
<div class="line"><a id="l03131" name="l03131"></a><span class="lineno"> 3131</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiTable.html">ImGuiTable</a>* table = g.CurrentTable)</div>
<div class="line"><a id="l03132" name="l03132"></a><span class="lineno"> 3132</span>        <span class="keywordflow">if</span> (table-&gt;IsInsideRow)</div>
<div class="line"><a id="l03133" name="l03133"></a><span class="lineno"> 3133</span>            ImGui::TableEndRow(table);</div>
<div class="line"><a id="l03134" name="l03134"></a><span class="lineno"> 3134</span> </div>
<div class="line"><a id="l03135" name="l03135"></a><span class="lineno"> 3135</span>    StartPosY = window-&gt;DC.CursorPos.y;</div>
<div class="line"><a id="l03136" name="l03136"></a><span class="lineno"> 3136</span>    ItemsHeight = items_height;</div>
<div class="line"><a id="l03137" name="l03137"></a><span class="lineno"> 3137</span>    ItemsCount = items_count;</div>
<div class="line"><a id="l03138" name="l03138"></a><span class="lineno"> 3138</span>    DisplayStart = -1;</div>
<div class="line"><a id="l03139" name="l03139"></a><span class="lineno"> 3139</span>    DisplayEnd = 0;</div>
<div class="line"><a id="l03140" name="l03140"></a><span class="lineno"> 3140</span> </div>
<div class="line"><a id="l03141" name="l03141"></a><span class="lineno"> 3141</span>    <span class="comment">// Acquire temporary buffer</span></div>
<div class="line"><a id="l03142" name="l03142"></a><span class="lineno"> 3142</span>    <span class="keywordflow">if</span> (++g.ClipperTempDataStacked &gt; g.ClipperTempData.Size)</div>
<div class="line"><a id="l03143" name="l03143"></a><span class="lineno"> 3143</span>        g.ClipperTempData.resize(g.ClipperTempDataStacked, <a class="code hl_struct" href="structImGuiListClipperData.html">ImGuiListClipperData</a>());</div>
<div class="line"><a id="l03144" name="l03144"></a><span class="lineno"> 3144</span>    <a class="code hl_struct" href="structImGuiListClipperData.html">ImGuiListClipperData</a>* data = &amp;g.ClipperTempData[g.ClipperTempDataStacked - 1];</div>
<div class="line"><a id="l03145" name="l03145"></a><span class="lineno"> 3145</span>    data-&gt;Reset(<span class="keyword">this</span>);</div>
<div class="line"><a id="l03146" name="l03146"></a><span class="lineno"> 3146</span>    data-&gt;LossynessOffset = window-&gt;DC.CursorStartPosLossyness.y;</div>
<div class="line"><a id="l03147" name="l03147"></a><span class="lineno"> 3147</span>    TempData = data;</div>
<div class="line"><a id="l03148" name="l03148"></a><span class="lineno"> 3148</span>    StartSeekOffsetY = data-&gt;LossynessOffset;</div>
<div class="line"><a id="l03149" name="l03149"></a><span class="lineno"> 3149</span>}</div>
<div class="line"><a id="l03150" name="l03150"></a><span class="lineno"> 3150</span> </div>
<div class="line"><a id="l03151" name="l03151"></a><span class="lineno"> 3151</span><span class="keywordtype">void</span> ImGuiListClipper::End()</div>
<div class="line"><a id="l03152" name="l03152"></a><span class="lineno"> 3152</span>{</div>
<div class="line"><a id="l03153" name="l03153"></a><span class="lineno"> 3153</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiListClipperData.html">ImGuiListClipperData</a>* data = (<a class="code hl_struct" href="structImGuiListClipperData.html">ImGuiListClipperData</a>*)TempData)</div>
<div class="line"><a id="l03154" name="l03154"></a><span class="lineno"> 3154</span>    {</div>
<div class="line"><a id="l03155" name="l03155"></a><span class="lineno"> 3155</span>        <span class="comment">// In theory here we should assert that we are already at the right position, but it seems saner to just seek at the end and not assert/crash the user.</span></div>
<div class="line"><a id="l03156" name="l03156"></a><span class="lineno"> 3156</span>        <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *Ctx;</div>
<div class="line"><a id="l03157" name="l03157"></a><span class="lineno"> 3157</span>        IMGUI_DEBUG_LOG_CLIPPER(<span class="stringliteral">&quot;Clipper: End() in &#39;%s&#39;\n&quot;</span>, g.CurrentWindow-&gt;Name);</div>
<div class="line"><a id="l03158" name="l03158"></a><span class="lineno"> 3158</span>        <span class="keywordflow">if</span> (ItemsCount &gt;= 0 &amp;&amp; ItemsCount &lt; INT_MAX &amp;&amp; DisplayStart &gt;= 0)</div>
<div class="line"><a id="l03159" name="l03159"></a><span class="lineno"> 3159</span>            SeekCursorForItem(ItemsCount);</div>
<div class="line"><a id="l03160" name="l03160"></a><span class="lineno"> 3160</span> </div>
<div class="line"><a id="l03161" name="l03161"></a><span class="lineno"> 3161</span>        <span class="comment">// Restore temporary buffer and fix back pointers which may be invalidated when nesting</span></div>
<div class="line"><a id="l03162" name="l03162"></a><span class="lineno"> 3162</span>        IM_ASSERT(data-&gt;ListClipper == <span class="keyword">this</span>);</div>
<div class="line"><a id="l03163" name="l03163"></a><span class="lineno"> 3163</span>        data-&gt;StepNo = data-&gt;Ranges.Size;</div>
<div class="line"><a id="l03164" name="l03164"></a><span class="lineno"> 3164</span>        <span class="keywordflow">if</span> (--g.ClipperTempDataStacked &gt; 0)</div>
<div class="line"><a id="l03165" name="l03165"></a><span class="lineno"> 3165</span>        {</div>
<div class="line"><a id="l03166" name="l03166"></a><span class="lineno"> 3166</span>            data = &amp;g.ClipperTempData[g.ClipperTempDataStacked - 1];</div>
<div class="line"><a id="l03167" name="l03167"></a><span class="lineno"> 3167</span>            data-&gt;ListClipper-&gt;TempData = data;</div>
<div class="line"><a id="l03168" name="l03168"></a><span class="lineno"> 3168</span>        }</div>
<div class="line"><a id="l03169" name="l03169"></a><span class="lineno"> 3169</span>        TempData = NULL;</div>
<div class="line"><a id="l03170" name="l03170"></a><span class="lineno"> 3170</span>    }</div>
<div class="line"><a id="l03171" name="l03171"></a><span class="lineno"> 3171</span>    ItemsCount = -1;</div>
<div class="line"><a id="l03172" name="l03172"></a><span class="lineno"> 3172</span>}</div>
<div class="line"><a id="l03173" name="l03173"></a><span class="lineno"> 3173</span> </div>
<div class="line"><a id="l03174" name="l03174"></a><span class="lineno"> 3174</span><span class="keywordtype">void</span> ImGuiListClipper::IncludeItemsByIndex(<span class="keywordtype">int</span> item_begin, <span class="keywordtype">int</span> item_end)</div>
<div class="line"><a id="l03175" name="l03175"></a><span class="lineno"> 3175</span>{</div>
<div class="line"><a id="l03176" name="l03176"></a><span class="lineno"> 3176</span>    <a class="code hl_struct" href="structImGuiListClipperData.html">ImGuiListClipperData</a>* data = (<a class="code hl_struct" href="structImGuiListClipperData.html">ImGuiListClipperData</a>*)TempData;</div>
<div class="line"><a id="l03177" name="l03177"></a><span class="lineno"> 3177</span>    IM_ASSERT(DisplayStart &lt; 0); <span class="comment">// Only allowed after Begin() and if there has not been a specified range yet.</span></div>
<div class="line"><a id="l03178" name="l03178"></a><span class="lineno"> 3178</span>    IM_ASSERT(item_begin &lt;= item_end);</div>
<div class="line"><a id="l03179" name="l03179"></a><span class="lineno"> 3179</span>    <span class="keywordflow">if</span> (item_begin &lt; item_end)</div>
<div class="line"><a id="l03180" name="l03180"></a><span class="lineno"> 3180</span>        data-&gt;Ranges.push_back(ImGuiListClipperRange::FromIndices(item_begin, item_end));</div>
<div class="line"><a id="l03181" name="l03181"></a><span class="lineno"> 3181</span>}</div>
<div class="line"><a id="l03182" name="l03182"></a><span class="lineno"> 3182</span> </div>
<div class="line"><a id="l03183" name="l03183"></a><span class="lineno"> 3183</span><span class="comment">// This is already called while stepping.</span></div>
<div class="line"><a id="l03184" name="l03184"></a><span class="lineno"> 3184</span><span class="comment">// The ONLY reason you may want to call this is if you passed INT_MAX to ImGuiListClipper::Begin() because you couldn&#39;t step item count beforehand.</span></div>
<div class="line"><a id="l03185" name="l03185"></a><span class="lineno"> 3185</span><span class="keywordtype">void</span> ImGuiListClipper::SeekCursorForItem(<span class="keywordtype">int</span> item_n)</div>
<div class="line"><a id="l03186" name="l03186"></a><span class="lineno"> 3186</span>{</div>
<div class="line"><a id="l03187" name="l03187"></a><span class="lineno"> 3187</span>    <span class="comment">// - Perform the add and multiply with double to allow seeking through larger ranges.</span></div>
<div class="line"><a id="l03188" name="l03188"></a><span class="lineno"> 3188</span>    <span class="comment">// - StartPosY starts from ItemsFrozen, by adding SeekOffsetY we generally cancel that out (SeekOffsetY == LossynessOffset - ItemsFrozen * ItemsHeight).</span></div>
<div class="line"><a id="l03189" name="l03189"></a><span class="lineno"> 3189</span>    <span class="comment">// - The reason we store SeekOffsetY instead of inferring it, is because we want to allow user to perform Seek after the last step, where ImGuiListClipperData is already done.</span></div>
<div class="line"><a id="l03190" name="l03190"></a><span class="lineno"> 3190</span>    <span class="keywordtype">float</span> pos_y = (float)((<span class="keywordtype">double</span>)StartPosY + StartSeekOffsetY + (double)item_n * ItemsHeight);</div>
<div class="line"><a id="l03191" name="l03191"></a><span class="lineno"> 3191</span>    ImGuiListClipper_SeekCursorAndSetupPrevLine(pos_y, ItemsHeight);</div>
<div class="line"><a id="l03192" name="l03192"></a><span class="lineno"> 3192</span>}</div>
<div class="line"><a id="l03193" name="l03193"></a><span class="lineno"> 3193</span> </div>
<div class="line"><a id="l03194" name="l03194"></a><span class="lineno"> 3194</span><span class="keyword">static</span> <span class="keywordtype">bool</span> ImGuiListClipper_StepInternal(<a class="code hl_struct" href="structImGuiListClipper.html">ImGuiListClipper</a>* clipper)</div>
<div class="line"><a id="l03195" name="l03195"></a><span class="lineno"> 3195</span>{</div>
<div class="line"><a id="l03196" name="l03196"></a><span class="lineno"> 3196</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *clipper-&gt;Ctx;</div>
<div class="line"><a id="l03197" name="l03197"></a><span class="lineno"> 3197</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l03198" name="l03198"></a><span class="lineno"> 3198</span>    <a class="code hl_struct" href="structImGuiListClipperData.html">ImGuiListClipperData</a>* data = (<a class="code hl_struct" href="structImGuiListClipperData.html">ImGuiListClipperData</a>*)clipper-&gt;TempData;</div>
<div class="line"><a id="l03199" name="l03199"></a><span class="lineno"> 3199</span>    IM_ASSERT(data != NULL &amp;&amp; <span class="stringliteral">&quot;Called ImGuiListClipper::Step() too many times, or before ImGuiListClipper::Begin() ?&quot;</span>);</div>
<div class="line"><a id="l03200" name="l03200"></a><span class="lineno"> 3200</span> </div>
<div class="line"><a id="l03201" name="l03201"></a><span class="lineno"> 3201</span>    <a class="code hl_struct" href="structImGuiTable.html">ImGuiTable</a>* table = g.CurrentTable;</div>
<div class="line"><a id="l03202" name="l03202"></a><span class="lineno"> 3202</span>    <span class="keywordflow">if</span> (table &amp;&amp; table-&gt;IsInsideRow)</div>
<div class="line"><a id="l03203" name="l03203"></a><span class="lineno"> 3203</span>        ImGui::TableEndRow(table);</div>
<div class="line"><a id="l03204" name="l03204"></a><span class="lineno"> 3204</span> </div>
<div class="line"><a id="l03205" name="l03205"></a><span class="lineno"> 3205</span>    <span class="comment">// No items</span></div>
<div class="line"><a id="l03206" name="l03206"></a><span class="lineno"> 3206</span>    <span class="keywordflow">if</span> (clipper-&gt;ItemsCount == 0 || GetSkipItemForListClipping())</div>
<div class="line"><a id="l03207" name="l03207"></a><span class="lineno"> 3207</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03208" name="l03208"></a><span class="lineno"> 3208</span> </div>
<div class="line"><a id="l03209" name="l03209"></a><span class="lineno"> 3209</span>    <span class="comment">// While we are in frozen row state, keep displaying items one by one, unclipped</span></div>
<div class="line"><a id="l03210" name="l03210"></a><span class="lineno"> 3210</span>    <span class="comment">// FIXME: Could be stored as a table-agnostic state.</span></div>
<div class="line"><a id="l03211" name="l03211"></a><span class="lineno"> 3211</span>    <span class="keywordflow">if</span> (data-&gt;StepNo == 0 &amp;&amp; table != NULL &amp;&amp; !table-&gt;IsUnfrozenRows)</div>
<div class="line"><a id="l03212" name="l03212"></a><span class="lineno"> 3212</span>    {</div>
<div class="line"><a id="l03213" name="l03213"></a><span class="lineno"> 3213</span>        clipper-&gt;DisplayStart = data-&gt;ItemsFrozen;</div>
<div class="line"><a id="l03214" name="l03214"></a><span class="lineno"> 3214</span>        clipper-&gt;DisplayEnd = ImMin(data-&gt;ItemsFrozen + 1, clipper-&gt;ItemsCount);</div>
<div class="line"><a id="l03215" name="l03215"></a><span class="lineno"> 3215</span>        <span class="keywordflow">if</span> (clipper-&gt;DisplayStart &lt; clipper-&gt;DisplayEnd)</div>
<div class="line"><a id="l03216" name="l03216"></a><span class="lineno"> 3216</span>            data-&gt;ItemsFrozen++;</div>
<div class="line"><a id="l03217" name="l03217"></a><span class="lineno"> 3217</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l03218" name="l03218"></a><span class="lineno"> 3218</span>    }</div>
<div class="line"><a id="l03219" name="l03219"></a><span class="lineno"> 3219</span> </div>
<div class="line"><a id="l03220" name="l03220"></a><span class="lineno"> 3220</span>    <span class="comment">// Step 0: Let you process the first element (regardless of it being visible or not, so we can measure the element height)</span></div>
<div class="line"><a id="l03221" name="l03221"></a><span class="lineno"> 3221</span>    <span class="keywordtype">bool</span> calc_clipping = <span class="keyword">false</span>;</div>
<div class="line"><a id="l03222" name="l03222"></a><span class="lineno"> 3222</span>    <span class="keywordflow">if</span> (data-&gt;StepNo == 0)</div>
<div class="line"><a id="l03223" name="l03223"></a><span class="lineno"> 3223</span>    {</div>
<div class="line"><a id="l03224" name="l03224"></a><span class="lineno"> 3224</span>        clipper-&gt;StartPosY = window-&gt;DC.CursorPos.y;</div>
<div class="line"><a id="l03225" name="l03225"></a><span class="lineno"> 3225</span>        <span class="keywordflow">if</span> (clipper-&gt;ItemsHeight &lt;= 0.0f)</div>
<div class="line"><a id="l03226" name="l03226"></a><span class="lineno"> 3226</span>        {</div>
<div class="line"><a id="l03227" name="l03227"></a><span class="lineno"> 3227</span>            <span class="comment">// Submit the first item (or range) so we can measure its height (generally the first range is 0..1)</span></div>
<div class="line"><a id="l03228" name="l03228"></a><span class="lineno"> 3228</span>            data-&gt;Ranges.push_front(ImGuiListClipperRange::FromIndices(data-&gt;ItemsFrozen, data-&gt;ItemsFrozen + 1));</div>
<div class="line"><a id="l03229" name="l03229"></a><span class="lineno"> 3229</span>            clipper-&gt;DisplayStart = ImMax(data-&gt;Ranges[0].Min, data-&gt;ItemsFrozen);</div>
<div class="line"><a id="l03230" name="l03230"></a><span class="lineno"> 3230</span>            clipper-&gt;DisplayEnd = ImMin(data-&gt;Ranges[0].Max, clipper-&gt;ItemsCount);</div>
<div class="line"><a id="l03231" name="l03231"></a><span class="lineno"> 3231</span>            data-&gt;StepNo = 1;</div>
<div class="line"><a id="l03232" name="l03232"></a><span class="lineno"> 3232</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l03233" name="l03233"></a><span class="lineno"> 3233</span>        }</div>
<div class="line"><a id="l03234" name="l03234"></a><span class="lineno"> 3234</span>        calc_clipping = <span class="keyword">true</span>;   <span class="comment">// If on the first step with known item height, calculate clipping.</span></div>
<div class="line"><a id="l03235" name="l03235"></a><span class="lineno"> 3235</span>    }</div>
<div class="line"><a id="l03236" name="l03236"></a><span class="lineno"> 3236</span> </div>
<div class="line"><a id="l03237" name="l03237"></a><span class="lineno"> 3237</span>    <span class="comment">// Step 1: Let the clipper infer height from first range</span></div>
<div class="line"><a id="l03238" name="l03238"></a><span class="lineno"> 3238</span>    <span class="keywordflow">if</span> (clipper-&gt;ItemsHeight &lt;= 0.0f)</div>
<div class="line"><a id="l03239" name="l03239"></a><span class="lineno"> 3239</span>    {</div>
<div class="line"><a id="l03240" name="l03240"></a><span class="lineno"> 3240</span>        IM_ASSERT(data-&gt;StepNo == 1);</div>
<div class="line"><a id="l03241" name="l03241"></a><span class="lineno"> 3241</span>        <span class="keywordflow">if</span> (table)</div>
<div class="line"><a id="l03242" name="l03242"></a><span class="lineno"> 3242</span>            IM_ASSERT(table-&gt;RowPosY1 == clipper-&gt;StartPosY &amp;&amp; table-&gt;RowPosY2 == window-&gt;DC.CursorPos.y);</div>
<div class="line"><a id="l03243" name="l03243"></a><span class="lineno"> 3243</span> </div>
<div class="line"><a id="l03244" name="l03244"></a><span class="lineno"> 3244</span>        clipper-&gt;ItemsHeight = (window-&gt;DC.CursorPos.y - clipper-&gt;StartPosY) / (<span class="keywordtype">float</span>)(clipper-&gt;DisplayEnd - clipper-&gt;DisplayStart);</div>
<div class="line"><a id="l03245" name="l03245"></a><span class="lineno"> 3245</span>        <span class="keywordtype">bool</span> affected_by_floating_point_precision = ImIsFloatAboveGuaranteedIntegerPrecision(clipper-&gt;StartPosY) || ImIsFloatAboveGuaranteedIntegerPrecision(window-&gt;DC.CursorPos.y);</div>
<div class="line"><a id="l03246" name="l03246"></a><span class="lineno"> 3246</span>        <span class="keywordflow">if</span> (affected_by_floating_point_precision)</div>
<div class="line"><a id="l03247" name="l03247"></a><span class="lineno"> 3247</span>            clipper-&gt;ItemsHeight = window-&gt;DC.PrevLineSize.y + g.Style.ItemSpacing.y; <span class="comment">// FIXME: Technically wouldn&#39;t allow multi-line entries.</span></div>
<div class="line"><a id="l03248" name="l03248"></a><span class="lineno"> 3248</span>        <span class="keywordflow">if</span> (clipper-&gt;ItemsHeight == 0.0f &amp;&amp; clipper-&gt;ItemsCount == INT_MAX) <span class="comment">// Accept that no item have been submitted if in indeterminate mode.</span></div>
<div class="line"><a id="l03249" name="l03249"></a><span class="lineno"> 3249</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03250" name="l03250"></a><span class="lineno"> 3250</span>        IM_ASSERT(clipper-&gt;ItemsHeight &gt; 0.0f &amp;&amp; <span class="stringliteral">&quot;Unable to calculate item height! First item hasn&#39;t moved the cursor vertically!&quot;</span>);</div>
<div class="line"><a id="l03251" name="l03251"></a><span class="lineno"> 3251</span>        calc_clipping = <span class="keyword">true</span>;   <span class="comment">// If item height had to be calculated, calculate clipping afterwards.</span></div>
<div class="line"><a id="l03252" name="l03252"></a><span class="lineno"> 3252</span>    }</div>
<div class="line"><a id="l03253" name="l03253"></a><span class="lineno"> 3253</span> </div>
<div class="line"><a id="l03254" name="l03254"></a><span class="lineno"> 3254</span>    <span class="comment">// Step 0 or 1: Calculate the actual ranges of visible elements.</span></div>
<div class="line"><a id="l03255" name="l03255"></a><span class="lineno"> 3255</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> already_submitted = clipper-&gt;DisplayEnd;</div>
<div class="line"><a id="l03256" name="l03256"></a><span class="lineno"> 3256</span>    <span class="keywordflow">if</span> (calc_clipping)</div>
<div class="line"><a id="l03257" name="l03257"></a><span class="lineno"> 3257</span>    {</div>
<div class="line"><a id="l03258" name="l03258"></a><span class="lineno"> 3258</span>        <span class="comment">// Record seek offset, this is so ImGuiListClipper::Seek() can be called after ImGuiListClipperData is done</span></div>
<div class="line"><a id="l03259" name="l03259"></a><span class="lineno"> 3259</span>        clipper-&gt;StartSeekOffsetY = (double)data-&gt;LossynessOffset - data-&gt;ItemsFrozen * (<span class="keywordtype">double</span>)clipper-&gt;ItemsHeight;</div>
<div class="line"><a id="l03260" name="l03260"></a><span class="lineno"> 3260</span> </div>
<div class="line"><a id="l03261" name="l03261"></a><span class="lineno"> 3261</span>        <span class="keywordflow">if</span> (g.LogEnabled)</div>
<div class="line"><a id="l03262" name="l03262"></a><span class="lineno"> 3262</span>        {</div>
<div class="line"><a id="l03263" name="l03263"></a><span class="lineno"> 3263</span>            <span class="comment">// If logging is active, do not perform any clipping</span></div>
<div class="line"><a id="l03264" name="l03264"></a><span class="lineno"> 3264</span>            data-&gt;Ranges.push_back(ImGuiListClipperRange::FromIndices(0, clipper-&gt;ItemsCount));</div>
<div class="line"><a id="l03265" name="l03265"></a><span class="lineno"> 3265</span>        }</div>
<div class="line"><a id="l03266" name="l03266"></a><span class="lineno"> 3266</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l03267" name="l03267"></a><span class="lineno"> 3267</span>        {</div>
<div class="line"><a id="l03268" name="l03268"></a><span class="lineno"> 3268</span>            <span class="comment">// Add range selected to be included for navigation</span></div>
<div class="line"><a id="l03269" name="l03269"></a><span class="lineno"> 3269</span>            <span class="keyword">const</span> <span class="keywordtype">bool</span> is_nav_request = (g.NavMoveScoringItems &amp;&amp; g.NavWindow &amp;&amp; g.NavWindow-&gt;RootWindowForNav == window-&gt;RootWindowForNav);</div>
<div class="line"><a id="l03270" name="l03270"></a><span class="lineno"> 3270</span>            <span class="keywordflow">if</span> (is_nav_request)</div>
<div class="line"><a id="l03271" name="l03271"></a><span class="lineno"> 3271</span>                data-&gt;Ranges.push_back(ImGuiListClipperRange::FromPositions(g.NavScoringNoClipRect.Min.y, g.NavScoringNoClipRect.Max.y, 0, 0));</div>
<div class="line"><a id="l03272" name="l03272"></a><span class="lineno"> 3272</span>            <span class="keywordflow">if</span> (is_nav_request &amp;&amp; (g.NavMoveFlags &amp; ImGuiNavMoveFlags_IsTabbing) &amp;&amp; g.NavTabbingDir == -1)</div>
<div class="line"><a id="l03273" name="l03273"></a><span class="lineno"> 3273</span>                data-&gt;Ranges.push_back(ImGuiListClipperRange::FromIndices(clipper-&gt;ItemsCount - 1, clipper-&gt;ItemsCount));</div>
<div class="line"><a id="l03274" name="l03274"></a><span class="lineno"> 3274</span> </div>
<div class="line"><a id="l03275" name="l03275"></a><span class="lineno"> 3275</span>            <span class="comment">// Add focused/active item</span></div>
<div class="line"><a id="l03276" name="l03276"></a><span class="lineno"> 3276</span>            <a class="code hl_struct" href="structImRect.html">ImRect</a> nav_rect_abs = ImGui::WindowRectRelToAbs(window, window-&gt;NavRectRel[0]);</div>
<div class="line"><a id="l03277" name="l03277"></a><span class="lineno"> 3277</span>            <span class="keywordflow">if</span> (g.NavId != 0 &amp;&amp; window-&gt;NavLastIds[0] == g.NavId)</div>
<div class="line"><a id="l03278" name="l03278"></a><span class="lineno"> 3278</span>                data-&gt;Ranges.push_back(ImGuiListClipperRange::FromPositions(nav_rect_abs.Min.y, nav_rect_abs.Max.y, 0, 0));</div>
<div class="line"><a id="l03279" name="l03279"></a><span class="lineno"> 3279</span> </div>
<div class="line"><a id="l03280" name="l03280"></a><span class="lineno"> 3280</span>            <span class="comment">// Add visible range</span></div>
<div class="line"><a id="l03281" name="l03281"></a><span class="lineno"> 3281</span>            <span class="keywordtype">float</span> min_y = window-&gt;ClipRect.Min.y;</div>
<div class="line"><a id="l03282" name="l03282"></a><span class="lineno"> 3282</span>            <span class="keywordtype">float</span> max_y = window-&gt;ClipRect.Max.y;</div>
<div class="line"><a id="l03283" name="l03283"></a><span class="lineno"> 3283</span> </div>
<div class="line"><a id="l03284" name="l03284"></a><span class="lineno"> 3284</span>            <span class="comment">// Add box selection range</span></div>
<div class="line"><a id="l03285" name="l03285"></a><span class="lineno"> 3285</span>            <a class="code hl_struct" href="structImGuiBoxSelectState.html">ImGuiBoxSelectState</a>* bs = &amp;g.BoxSelectState;</div>
<div class="line"><a id="l03286" name="l03286"></a><span class="lineno"> 3286</span>            <span class="keywordflow">if</span> (bs-&gt;IsActive &amp;&amp; bs-&gt;Window == window)</div>
<div class="line"><a id="l03287" name="l03287"></a><span class="lineno"> 3287</span>            {</div>
<div class="line"><a id="l03288" name="l03288"></a><span class="lineno"> 3288</span>                <span class="comment">// FIXME: Selectable() use of half-ItemSpacing isn&#39;t consistent in matter of layout, as ItemAdd(bb) stray above ItemSize()&#39;s CursorPos.</span></div>
<div class="line"><a id="l03289" name="l03289"></a><span class="lineno"> 3289</span>                <span class="comment">// RangeSelect&#39;s BoxSelect relies on comparing overlap of previous and current rectangle and is sensitive to that.</span></div>
<div class="line"><a id="l03290" name="l03290"></a><span class="lineno"> 3290</span>                <span class="comment">// As a workaround we currently half ItemSpacing worth on each side.</span></div>
<div class="line"><a id="l03291" name="l03291"></a><span class="lineno"> 3291</span>                min_y -= g.Style.ItemSpacing.y;</div>
<div class="line"><a id="l03292" name="l03292"></a><span class="lineno"> 3292</span>                max_y += g.Style.ItemSpacing.y;</div>
<div class="line"><a id="l03293" name="l03293"></a><span class="lineno"> 3293</span> </div>
<div class="line"><a id="l03294" name="l03294"></a><span class="lineno"> 3294</span>                <span class="comment">// Box-select on 2D area requires different clipping.</span></div>
<div class="line"><a id="l03295" name="l03295"></a><span class="lineno"> 3295</span>                <span class="keywordflow">if</span> (bs-&gt;UnclipMode)</div>
<div class="line"><a id="l03296" name="l03296"></a><span class="lineno"> 3296</span>                    data-&gt;Ranges.push_back(ImGuiListClipperRange::FromPositions(bs-&gt;UnclipRect.Min.y, bs-&gt;UnclipRect.Max.y, 0, 0));</div>
<div class="line"><a id="l03297" name="l03297"></a><span class="lineno"> 3297</span>            }</div>
<div class="line"><a id="l03298" name="l03298"></a><span class="lineno"> 3298</span> </div>
<div class="line"><a id="l03299" name="l03299"></a><span class="lineno"> 3299</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> off_min = (is_nav_request &amp;&amp; g.NavMoveClipDir == ImGuiDir_Up) ? -1 : 0;</div>
<div class="line"><a id="l03300" name="l03300"></a><span class="lineno"> 3300</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> off_max = (is_nav_request &amp;&amp; g.NavMoveClipDir == ImGuiDir_Down) ? 1 : 0;</div>
<div class="line"><a id="l03301" name="l03301"></a><span class="lineno"> 3301</span>            data-&gt;Ranges.push_back(ImGuiListClipperRange::FromPositions(min_y, max_y, off_min, off_max));</div>
<div class="line"><a id="l03302" name="l03302"></a><span class="lineno"> 3302</span>        }</div>
<div class="line"><a id="l03303" name="l03303"></a><span class="lineno"> 3303</span> </div>
<div class="line"><a id="l03304" name="l03304"></a><span class="lineno"> 3304</span>        <span class="comment">// Convert position ranges to item index ranges</span></div>
<div class="line"><a id="l03305" name="l03305"></a><span class="lineno"> 3305</span>        <span class="comment">// - Very important: when a starting position is after our maximum item, we set Min to (ItemsCount - 1). This allows us to handle most forms of wrapping.</span></div>
<div class="line"><a id="l03306" name="l03306"></a><span class="lineno"> 3306</span>        <span class="comment">// - Due to how Selectable extra padding they tend to be &quot;unaligned&quot; with exact unit in the item list,</span></div>
<div class="line"><a id="l03307" name="l03307"></a><span class="lineno"> 3307</span>        <span class="comment">//   which with the flooring/ceiling tend to lead to 2 items instead of one being submitted.</span></div>
<div class="line"><a id="l03308" name="l03308"></a><span class="lineno"> 3308</span>        <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiListClipperRange.html">ImGuiListClipperRange</a>&amp; range : data-&gt;Ranges)</div>
<div class="line"><a id="l03309" name="l03309"></a><span class="lineno"> 3309</span>            if (range.PosToIndexConvert)</div>
<div class="line"><a id="l03310" name="l03310"></a><span class="lineno"> 3310</span>            {</div>
<div class="line"><a id="l03311" name="l03311"></a><span class="lineno"> 3311</span>                <span class="keywordtype">int</span> m1 = (int)(((<span class="keywordtype">double</span>)range.Min - window-&gt;DC.CursorPos.y - data-&gt;LossynessOffset) / clipper-&gt;ItemsHeight);</div>
<div class="line"><a id="l03312" name="l03312"></a><span class="lineno"> 3312</span>                <span class="keywordtype">int</span> m2 = (int)((((<span class="keywordtype">double</span>)range.Max - window-&gt;DC.CursorPos.y - data-&gt;LossynessOffset) / clipper-&gt;ItemsHeight) + 0.999999f);</div>
<div class="line"><a id="l03313" name="l03313"></a><span class="lineno"> 3313</span>                range.Min = ImClamp(already_submitted + m1 + range.PosToIndexOffsetMin, already_submitted, clipper-&gt;ItemsCount - 1);</div>
<div class="line"><a id="l03314" name="l03314"></a><span class="lineno"> 3314</span>                range.Max = ImClamp(already_submitted + m2 + range.PosToIndexOffsetMax, range.Min + 1, clipper-&gt;ItemsCount);</div>
<div class="line"><a id="l03315" name="l03315"></a><span class="lineno"> 3315</span>                range.PosToIndexConvert = <span class="keyword">false</span>;</div>
<div class="line"><a id="l03316" name="l03316"></a><span class="lineno"> 3316</span>            }</div>
<div class="line"><a id="l03317" name="l03317"></a><span class="lineno"> 3317</span>        ImGuiListClipper_SortAndFuseRanges(data-&gt;Ranges, data-&gt;StepNo);</div>
<div class="line"><a id="l03318" name="l03318"></a><span class="lineno"> 3318</span>    }</div>
<div class="line"><a id="l03319" name="l03319"></a><span class="lineno"> 3319</span> </div>
<div class="line"><a id="l03320" name="l03320"></a><span class="lineno"> 3320</span>    <span class="comment">// Step 0+ (if item height is given in advance) or 1+: Display the next range in line.</span></div>
<div class="line"><a id="l03321" name="l03321"></a><span class="lineno"> 3321</span>    <span class="keywordflow">while</span> (data-&gt;StepNo &lt; data-&gt;Ranges.Size)</div>
<div class="line"><a id="l03322" name="l03322"></a><span class="lineno"> 3322</span>    {</div>
<div class="line"><a id="l03323" name="l03323"></a><span class="lineno"> 3323</span>        clipper-&gt;DisplayStart = ImMax(data-&gt;Ranges[data-&gt;StepNo].Min, already_submitted);</div>
<div class="line"><a id="l03324" name="l03324"></a><span class="lineno"> 3324</span>        clipper-&gt;DisplayEnd = ImMin(data-&gt;Ranges[data-&gt;StepNo].Max, clipper-&gt;ItemsCount);</div>
<div class="line"><a id="l03325" name="l03325"></a><span class="lineno"> 3325</span>        data-&gt;StepNo++;</div>
<div class="line"><a id="l03326" name="l03326"></a><span class="lineno"> 3326</span>        <span class="keywordflow">if</span> (clipper-&gt;DisplayStart &gt;= clipper-&gt;DisplayEnd)</div>
<div class="line"><a id="l03327" name="l03327"></a><span class="lineno"> 3327</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l03328" name="l03328"></a><span class="lineno"> 3328</span>        <span class="keywordflow">if</span> (clipper-&gt;DisplayStart &gt; already_submitted)</div>
<div class="line"><a id="l03329" name="l03329"></a><span class="lineno"> 3329</span>            clipper-&gt;SeekCursorForItem(clipper-&gt;DisplayStart);</div>
<div class="line"><a id="l03330" name="l03330"></a><span class="lineno"> 3330</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l03331" name="l03331"></a><span class="lineno"> 3331</span>    }</div>
<div class="line"><a id="l03332" name="l03332"></a><span class="lineno"> 3332</span> </div>
<div class="line"><a id="l03333" name="l03333"></a><span class="lineno"> 3333</span>    <span class="comment">// After the last step: Let the clipper validate that we have reached the expected Y position (corresponding to element DisplayEnd),</span></div>
<div class="line"><a id="l03334" name="l03334"></a><span class="lineno"> 3334</span>    <span class="comment">// Advance the cursor to the end of the list and then returns &#39;false&#39; to end the loop.</span></div>
<div class="line"><a id="l03335" name="l03335"></a><span class="lineno"> 3335</span>    <span class="keywordflow">if</span> (clipper-&gt;ItemsCount &lt; INT_MAX)</div>
<div class="line"><a id="l03336" name="l03336"></a><span class="lineno"> 3336</span>        clipper-&gt;SeekCursorForItem(clipper-&gt;ItemsCount);</div>
<div class="line"><a id="l03337" name="l03337"></a><span class="lineno"> 3337</span> </div>
<div class="line"><a id="l03338" name="l03338"></a><span class="lineno"> 3338</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03339" name="l03339"></a><span class="lineno"> 3339</span>}</div>
<div class="line"><a id="l03340" name="l03340"></a><span class="lineno"> 3340</span> </div>
<div class="line"><a id="l03341" name="l03341"></a><span class="lineno"> 3341</span><span class="keywordtype">bool</span> ImGuiListClipper::Step()</div>
<div class="line"><a id="l03342" name="l03342"></a><span class="lineno"> 3342</span>{</div>
<div class="line"><a id="l03343" name="l03343"></a><span class="lineno"> 3343</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *Ctx;</div>
<div class="line"><a id="l03344" name="l03344"></a><span class="lineno"> 3344</span>    <span class="keywordtype">bool</span> need_items_height = (ItemsHeight &lt;= 0.0f);</div>
<div class="line"><a id="l03345" name="l03345"></a><span class="lineno"> 3345</span>    <span class="keywordtype">bool</span> ret = ImGuiListClipper_StepInternal(<span class="keyword">this</span>);</div>
<div class="line"><a id="l03346" name="l03346"></a><span class="lineno"> 3346</span>    <span class="keywordflow">if</span> (ret &amp;&amp; (DisplayStart &gt;= DisplayEnd))</div>
<div class="line"><a id="l03347" name="l03347"></a><span class="lineno"> 3347</span>        ret = <span class="keyword">false</span>;</div>
<div class="line"><a id="l03348" name="l03348"></a><span class="lineno"> 3348</span>    <span class="keywordflow">if</span> (g.CurrentTable &amp;&amp; g.CurrentTable-&gt;IsUnfrozenRows == <span class="keyword">false</span>)</div>
<div class="line"><a id="l03349" name="l03349"></a><span class="lineno"> 3349</span>        IMGUI_DEBUG_LOG_CLIPPER(<span class="stringliteral">&quot;Clipper: Step(): inside frozen table row.\n&quot;</span>);</div>
<div class="line"><a id="l03350" name="l03350"></a><span class="lineno"> 3350</span>    <span class="keywordflow">if</span> (need_items_height &amp;&amp; ItemsHeight &gt; 0.0f)</div>
<div class="line"><a id="l03351" name="l03351"></a><span class="lineno"> 3351</span>        IMGUI_DEBUG_LOG_CLIPPER(<span class="stringliteral">&quot;Clipper: Step(): computed ItemsHeight: %.2f.\n&quot;</span>, ItemsHeight);</div>
<div class="line"><a id="l03352" name="l03352"></a><span class="lineno"> 3352</span>    <span class="keywordflow">if</span> (ret)</div>
<div class="line"><a id="l03353" name="l03353"></a><span class="lineno"> 3353</span>    {</div>
<div class="line"><a id="l03354" name="l03354"></a><span class="lineno"> 3354</span>        IMGUI_DEBUG_LOG_CLIPPER(<span class="stringliteral">&quot;Clipper: Step(): display %d to %d.\n&quot;</span>, DisplayStart, DisplayEnd);</div>
<div class="line"><a id="l03355" name="l03355"></a><span class="lineno"> 3355</span>    }</div>
<div class="line"><a id="l03356" name="l03356"></a><span class="lineno"> 3356</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l03357" name="l03357"></a><span class="lineno"> 3357</span>    {</div>
<div class="line"><a id="l03358" name="l03358"></a><span class="lineno"> 3358</span>        IMGUI_DEBUG_LOG_CLIPPER(<span class="stringliteral">&quot;Clipper: Step(): End.\n&quot;</span>);</div>
<div class="line"><a id="l03359" name="l03359"></a><span class="lineno"> 3359</span>        End();</div>
<div class="line"><a id="l03360" name="l03360"></a><span class="lineno"> 3360</span>    }</div>
<div class="line"><a id="l03361" name="l03361"></a><span class="lineno"> 3361</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a id="l03362" name="l03362"></a><span class="lineno"> 3362</span>}</div>
<div class="line"><a id="l03363" name="l03363"></a><span class="lineno"> 3363</span> </div>
<div class="line"><a id="l03364" name="l03364"></a><span class="lineno"> 3364</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03365" name="l03365"></a><span class="lineno"> 3365</span><span class="comment">// [SECTION] STYLING</span></div>
<div class="line"><a id="l03366" name="l03366"></a><span class="lineno"> 3366</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03367" name="l03367"></a><span class="lineno"> 3367</span> </div>
<div class="line"><a id="l03368" name="l03368"></a><span class="lineno"> 3368</span><a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>&amp; ImGui::GetStyle()</div>
<div class="line"><a id="l03369" name="l03369"></a><span class="lineno"> 3369</span>{</div>
<div class="line"><a id="l03370" name="l03370"></a><span class="lineno"> 3370</span>    IM_ASSERT(GImGui != NULL &amp;&amp; <span class="stringliteral">&quot;No current context. Did you call ImGui::CreateContext() and ImGui::SetCurrentContext() ?&quot;</span>);</div>
<div class="line"><a id="l03371" name="l03371"></a><span class="lineno"> 3371</span>    <span class="keywordflow">return</span> GImGui-&gt;Style;</div>
<div class="line"><a id="l03372" name="l03372"></a><span class="lineno"> 3372</span>}</div>
<div class="line"><a id="l03373" name="l03373"></a><span class="lineno"> 3373</span> </div>
<div class="line"><a id="l03374" name="l03374"></a><span class="lineno"> 3374</span>ImU32 ImGui::GetColorU32(ImGuiCol idx, <span class="keywordtype">float</span> alpha_mul)</div>
<div class="line"><a id="l03375" name="l03375"></a><span class="lineno"> 3375</span>{</div>
<div class="line"><a id="l03376" name="l03376"></a><span class="lineno"> 3376</span>    <a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>&amp; style = GImGui-&gt;Style;</div>
<div class="line"><a id="l03377" name="l03377"></a><span class="lineno"> 3377</span>    <a class="code hl_struct" href="structImVec4.html">ImVec4</a> c = style.Colors[idx];</div>
<div class="line"><a id="l03378" name="l03378"></a><span class="lineno"> 3378</span>    c.w *= style.Alpha * alpha_mul;</div>
<div class="line"><a id="l03379" name="l03379"></a><span class="lineno"> 3379</span>    <span class="keywordflow">return</span> ColorConvertFloat4ToU32(c);</div>
<div class="line"><a id="l03380" name="l03380"></a><span class="lineno"> 3380</span>}</div>
<div class="line"><a id="l03381" name="l03381"></a><span class="lineno"> 3381</span> </div>
<div class="line"><a id="l03382" name="l03382"></a><span class="lineno"> 3382</span>ImU32 ImGui::GetColorU32(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec4.html">ImVec4</a>&amp; col)</div>
<div class="line"><a id="l03383" name="l03383"></a><span class="lineno"> 3383</span>{</div>
<div class="line"><a id="l03384" name="l03384"></a><span class="lineno"> 3384</span>    <a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>&amp; style = GImGui-&gt;Style;</div>
<div class="line"><a id="l03385" name="l03385"></a><span class="lineno"> 3385</span>    <a class="code hl_struct" href="structImVec4.html">ImVec4</a> c = col;</div>
<div class="line"><a id="l03386" name="l03386"></a><span class="lineno"> 3386</span>    c.w *= style.Alpha;</div>
<div class="line"><a id="l03387" name="l03387"></a><span class="lineno"> 3387</span>    <span class="keywordflow">return</span> ColorConvertFloat4ToU32(c);</div>
<div class="line"><a id="l03388" name="l03388"></a><span class="lineno"> 3388</span>}</div>
<div class="line"><a id="l03389" name="l03389"></a><span class="lineno"> 3389</span> </div>
<div class="line"><a id="l03390" name="l03390"></a><span class="lineno"> 3390</span><span class="keyword">const</span> <a class="code hl_struct" href="structImVec4.html">ImVec4</a>&amp; ImGui::GetStyleColorVec4(ImGuiCol idx)</div>
<div class="line"><a id="l03391" name="l03391"></a><span class="lineno"> 3391</span>{</div>
<div class="line"><a id="l03392" name="l03392"></a><span class="lineno"> 3392</span>    <a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>&amp; style = GImGui-&gt;Style;</div>
<div class="line"><a id="l03393" name="l03393"></a><span class="lineno"> 3393</span>    <span class="keywordflow">return</span> style.Colors[idx];</div>
<div class="line"><a id="l03394" name="l03394"></a><span class="lineno"> 3394</span>}</div>
<div class="line"><a id="l03395" name="l03395"></a><span class="lineno"> 3395</span> </div>
<div class="line"><a id="l03396" name="l03396"></a><span class="lineno"> 3396</span>ImU32 ImGui::GetColorU32(ImU32 col, <span class="keywordtype">float</span> alpha_mul)</div>
<div class="line"><a id="l03397" name="l03397"></a><span class="lineno"> 3397</span>{</div>
<div class="line"><a id="l03398" name="l03398"></a><span class="lineno"> 3398</span>    <a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>&amp; style = GImGui-&gt;Style;</div>
<div class="line"><a id="l03399" name="l03399"></a><span class="lineno"> 3399</span>    alpha_mul *= style.Alpha;</div>
<div class="line"><a id="l03400" name="l03400"></a><span class="lineno"> 3400</span>    <span class="keywordflow">if</span> (alpha_mul &gt;= 1.0f)</div>
<div class="line"><a id="l03401" name="l03401"></a><span class="lineno"> 3401</span>        <span class="keywordflow">return</span> col;</div>
<div class="line"><a id="l03402" name="l03402"></a><span class="lineno"> 3402</span>    ImU32 a = (col &amp; IM_COL32_A_MASK) &gt;&gt; IM_COL32_A_SHIFT;</div>
<div class="line"><a id="l03403" name="l03403"></a><span class="lineno"> 3403</span>    a = (ImU32)(a * alpha_mul); <span class="comment">// We don&#39;t need to clamp 0..255 because alpha is in 0..1 range.</span></div>
<div class="line"><a id="l03404" name="l03404"></a><span class="lineno"> 3404</span>    <span class="keywordflow">return</span> (col &amp; ~IM_COL32_A_MASK) | (a &lt;&lt; IM_COL32_A_SHIFT);</div>
<div class="line"><a id="l03405" name="l03405"></a><span class="lineno"> 3405</span>}</div>
<div class="line"><a id="l03406" name="l03406"></a><span class="lineno"> 3406</span> </div>
<div class="line"><a id="l03407" name="l03407"></a><span class="lineno"> 3407</span><span class="comment">// FIXME: This may incur a round-trip (if the end user got their data from a float4) but eventually we aim to store the in-flight colors as ImU32</span></div>
<div class="line"><a id="l03408" name="l03408"></a><span class="lineno"> 3408</span><span class="keywordtype">void</span> ImGui::PushStyleColor(ImGuiCol idx, ImU32 col)</div>
<div class="line"><a id="l03409" name="l03409"></a><span class="lineno"> 3409</span>{</div>
<div class="line"><a id="l03410" name="l03410"></a><span class="lineno"> 3410</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l03411" name="l03411"></a><span class="lineno"> 3411</span>    <a class="code hl_struct" href="structImGuiColorMod.html">ImGuiColorMod</a> backup;</div>
<div class="line"><a id="l03412" name="l03412"></a><span class="lineno"> 3412</span>    backup.Col = idx;</div>
<div class="line"><a id="l03413" name="l03413"></a><span class="lineno"> 3413</span>    backup.BackupValue = g.Style.Colors[idx];</div>
<div class="line"><a id="l03414" name="l03414"></a><span class="lineno"> 3414</span>    g.ColorStack.push_back(backup);</div>
<div class="line"><a id="l03415" name="l03415"></a><span class="lineno"> 3415</span>    <span class="keywordflow">if</span> (g.DebugFlashStyleColorIdx != idx)</div>
<div class="line"><a id="l03416" name="l03416"></a><span class="lineno"> 3416</span>        g.Style.Colors[idx] = ColorConvertU32ToFloat4(col);</div>
<div class="line"><a id="l03417" name="l03417"></a><span class="lineno"> 3417</span>}</div>
<div class="line"><a id="l03418" name="l03418"></a><span class="lineno"> 3418</span> </div>
<div class="line"><a id="l03419" name="l03419"></a><span class="lineno"> 3419</span><span class="keywordtype">void</span> ImGui::PushStyleColor(ImGuiCol idx, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec4.html">ImVec4</a>&amp; col)</div>
<div class="line"><a id="l03420" name="l03420"></a><span class="lineno"> 3420</span>{</div>
<div class="line"><a id="l03421" name="l03421"></a><span class="lineno"> 3421</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l03422" name="l03422"></a><span class="lineno"> 3422</span>    <a class="code hl_struct" href="structImGuiColorMod.html">ImGuiColorMod</a> backup;</div>
<div class="line"><a id="l03423" name="l03423"></a><span class="lineno"> 3423</span>    backup.Col = idx;</div>
<div class="line"><a id="l03424" name="l03424"></a><span class="lineno"> 3424</span>    backup.BackupValue = g.Style.Colors[idx];</div>
<div class="line"><a id="l03425" name="l03425"></a><span class="lineno"> 3425</span>    g.ColorStack.push_back(backup);</div>
<div class="line"><a id="l03426" name="l03426"></a><span class="lineno"> 3426</span>    <span class="keywordflow">if</span> (g.DebugFlashStyleColorIdx != idx)</div>
<div class="line"><a id="l03427" name="l03427"></a><span class="lineno"> 3427</span>        g.Style.Colors[idx] = col;</div>
<div class="line"><a id="l03428" name="l03428"></a><span class="lineno"> 3428</span>}</div>
<div class="line"><a id="l03429" name="l03429"></a><span class="lineno"> 3429</span> </div>
<div class="line"><a id="l03430" name="l03430"></a><span class="lineno"> 3430</span><span class="keywordtype">void</span> ImGui::PopStyleColor(<span class="keywordtype">int</span> count)</div>
<div class="line"><a id="l03431" name="l03431"></a><span class="lineno"> 3431</span>{</div>
<div class="line"><a id="l03432" name="l03432"></a><span class="lineno"> 3432</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l03433" name="l03433"></a><span class="lineno"> 3433</span>    <span class="keywordflow">if</span> (g.ColorStack.Size &lt; count)</div>
<div class="line"><a id="l03434" name="l03434"></a><span class="lineno"> 3434</span>    {</div>
<div class="line"><a id="l03435" name="l03435"></a><span class="lineno"> 3435</span>        IM_ASSERT_USER_ERROR(0, <span class="stringliteral">&quot;Calling PopStyleColor() too many times!&quot;</span>);</div>
<div class="line"><a id="l03436" name="l03436"></a><span class="lineno"> 3436</span>        count = g.ColorStack.Size;</div>
<div class="line"><a id="l03437" name="l03437"></a><span class="lineno"> 3437</span>    }</div>
<div class="line"><a id="l03438" name="l03438"></a><span class="lineno"> 3438</span>    <span class="keywordflow">while</span> (count &gt; 0)</div>
<div class="line"><a id="l03439" name="l03439"></a><span class="lineno"> 3439</span>    {</div>
<div class="line"><a id="l03440" name="l03440"></a><span class="lineno"> 3440</span>        <a class="code hl_struct" href="structImGuiColorMod.html">ImGuiColorMod</a>&amp; backup = g.ColorStack.back();</div>
<div class="line"><a id="l03441" name="l03441"></a><span class="lineno"> 3441</span>        g.Style.Colors[backup.Col] = backup.BackupValue;</div>
<div class="line"><a id="l03442" name="l03442"></a><span class="lineno"> 3442</span>        g.ColorStack.pop_back();</div>
<div class="line"><a id="l03443" name="l03443"></a><span class="lineno"> 3443</span>        count--;</div>
<div class="line"><a id="l03444" name="l03444"></a><span class="lineno"> 3444</span>    }</div>
<div class="line"><a id="l03445" name="l03445"></a><span class="lineno"> 3445</span>}</div>
<div class="line"><a id="l03446" name="l03446"></a><span class="lineno"> 3446</span> </div>
<div class="line"><a id="l03447" name="l03447"></a><span class="lineno"> 3447</span><span class="keyword">static</span> <span class="keyword">const</span> ImGuiCol GWindowDockStyleColors[ImGuiWindowDockStyleCol_COUNT] =</div>
<div class="line"><a id="l03448" name="l03448"></a><span class="lineno"> 3448</span>{</div>
<div class="line"><a id="l03449" name="l03449"></a><span class="lineno"> 3449</span>    ImGuiCol_Text, ImGuiCol_TabHovered, ImGuiCol_Tab, ImGuiCol_TabSelected, ImGuiCol_TabSelectedOverline, ImGuiCol_TabDimmed, ImGuiCol_TabDimmedSelected, ImGuiCol_TabDimmedSelectedOverline,</div>
<div class="line"><a id="l03450" name="l03450"></a><span class="lineno"> 3450</span>};</div>
<div class="line"><a id="l03451" name="l03451"></a><span class="lineno"> 3451</span> </div>
<div class="line"><a id="l03452" name="l03452"></a><span class="lineno"> 3452</span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiStyleVarInfo.html">ImGuiStyleVarInfo</a> GStyleVarsInfo[] =</div>
<div class="line"><a id="l03453" name="l03453"></a><span class="lineno"> 3453</span>{</div>
<div class="line"><a id="l03454" name="l03454"></a><span class="lineno"> 3454</span>    { 1, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, Alpha) },                     <span class="comment">// ImGuiStyleVar_Alpha</span></div>
<div class="line"><a id="l03455" name="l03455"></a><span class="lineno"> 3455</span>    { 1, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, DisabledAlpha) },             <span class="comment">// ImGuiStyleVar_DisabledAlpha</span></div>
<div class="line"><a id="l03456" name="l03456"></a><span class="lineno"> 3456</span>    { 2, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, WindowPadding) },             <span class="comment">// ImGuiStyleVar_WindowPadding</span></div>
<div class="line"><a id="l03457" name="l03457"></a><span class="lineno"> 3457</span>    { 1, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, WindowRounding) },            <span class="comment">// ImGuiStyleVar_WindowRounding</span></div>
<div class="line"><a id="l03458" name="l03458"></a><span class="lineno"> 3458</span>    { 1, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, WindowBorderSize) },          <span class="comment">// ImGuiStyleVar_WindowBorderSize</span></div>
<div class="line"><a id="l03459" name="l03459"></a><span class="lineno"> 3459</span>    { 2, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, WindowMinSize) },             <span class="comment">// ImGuiStyleVar_WindowMinSize</span></div>
<div class="line"><a id="l03460" name="l03460"></a><span class="lineno"> 3460</span>    { 2, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, WindowTitleAlign) },          <span class="comment">// ImGuiStyleVar_WindowTitleAlign</span></div>
<div class="line"><a id="l03461" name="l03461"></a><span class="lineno"> 3461</span>    { 1, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, ChildRounding) },             <span class="comment">// ImGuiStyleVar_ChildRounding</span></div>
<div class="line"><a id="l03462" name="l03462"></a><span class="lineno"> 3462</span>    { 1, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, ChildBorderSize) },           <span class="comment">// ImGuiStyleVar_ChildBorderSize</span></div>
<div class="line"><a id="l03463" name="l03463"></a><span class="lineno"> 3463</span>    { 1, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, PopupRounding) },             <span class="comment">// ImGuiStyleVar_PopupRounding</span></div>
<div class="line"><a id="l03464" name="l03464"></a><span class="lineno"> 3464</span>    { 1, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, PopupBorderSize) },           <span class="comment">// ImGuiStyleVar_PopupBorderSize</span></div>
<div class="line"><a id="l03465" name="l03465"></a><span class="lineno"> 3465</span>    { 2, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, FramePadding) },              <span class="comment">// ImGuiStyleVar_FramePadding</span></div>
<div class="line"><a id="l03466" name="l03466"></a><span class="lineno"> 3466</span>    { 1, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, FrameRounding) },             <span class="comment">// ImGuiStyleVar_FrameRounding</span></div>
<div class="line"><a id="l03467" name="l03467"></a><span class="lineno"> 3467</span>    { 1, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, FrameBorderSize) },           <span class="comment">// ImGuiStyleVar_FrameBorderSize</span></div>
<div class="line"><a id="l03468" name="l03468"></a><span class="lineno"> 3468</span>    { 2, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, ItemSpacing) },               <span class="comment">// ImGuiStyleVar_ItemSpacing</span></div>
<div class="line"><a id="l03469" name="l03469"></a><span class="lineno"> 3469</span>    { 2, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, ItemInnerSpacing) },          <span class="comment">// ImGuiStyleVar_ItemInnerSpacing</span></div>
<div class="line"><a id="l03470" name="l03470"></a><span class="lineno"> 3470</span>    { 1, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, IndentSpacing) },             <span class="comment">// ImGuiStyleVar_IndentSpacing</span></div>
<div class="line"><a id="l03471" name="l03471"></a><span class="lineno"> 3471</span>    { 2, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, CellPadding) },               <span class="comment">// ImGuiStyleVar_CellPadding</span></div>
<div class="line"><a id="l03472" name="l03472"></a><span class="lineno"> 3472</span>    { 1, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, ScrollbarSize) },             <span class="comment">// ImGuiStyleVar_ScrollbarSize</span></div>
<div class="line"><a id="l03473" name="l03473"></a><span class="lineno"> 3473</span>    { 1, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, ScrollbarRounding) },         <span class="comment">// ImGuiStyleVar_ScrollbarRounding</span></div>
<div class="line"><a id="l03474" name="l03474"></a><span class="lineno"> 3474</span>    { 1, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, GrabMinSize) },               <span class="comment">// ImGuiStyleVar_GrabMinSize</span></div>
<div class="line"><a id="l03475" name="l03475"></a><span class="lineno"> 3475</span>    { 1, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, GrabRounding) },              <span class="comment">// ImGuiStyleVar_GrabRounding</span></div>
<div class="line"><a id="l03476" name="l03476"></a><span class="lineno"> 3476</span>    { 1, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, ImageBorderSize) },           <span class="comment">// ImGuiStyleVar_ImageBorderSize</span></div>
<div class="line"><a id="l03477" name="l03477"></a><span class="lineno"> 3477</span>    { 1, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, TabRounding) },               <span class="comment">// ImGuiStyleVar_TabRounding</span></div>
<div class="line"><a id="l03478" name="l03478"></a><span class="lineno"> 3478</span>    { 1, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, TabBorderSize) },             <span class="comment">// ImGuiStyleVar_TabBorderSize</span></div>
<div class="line"><a id="l03479" name="l03479"></a><span class="lineno"> 3479</span>    { 1, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, TabBarBorderSize) },          <span class="comment">// ImGuiStyleVar_TabBarBorderSize</span></div>
<div class="line"><a id="l03480" name="l03480"></a><span class="lineno"> 3480</span>    { 1, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, TabBarOverlineSize) },        <span class="comment">// ImGuiStyleVar_TabBarOverlineSize</span></div>
<div class="line"><a id="l03481" name="l03481"></a><span class="lineno"> 3481</span>    { 1, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, TableAngledHeadersAngle)},    <span class="comment">// ImGuiStyleVar_TableAngledHeadersAngle</span></div>
<div class="line"><a id="l03482" name="l03482"></a><span class="lineno"> 3482</span>    { 2, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, TableAngledHeadersTextAlign)},<span class="comment">// ImGuiStyleVar_TableAngledHeadersTextAlign</span></div>
<div class="line"><a id="l03483" name="l03483"></a><span class="lineno"> 3483</span>    { 2, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, ButtonTextAlign) },           <span class="comment">// ImGuiStyleVar_ButtonTextAlign</span></div>
<div class="line"><a id="l03484" name="l03484"></a><span class="lineno"> 3484</span>    { 2, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, SelectableTextAlign) },       <span class="comment">// ImGuiStyleVar_SelectableTextAlign</span></div>
<div class="line"><a id="l03485" name="l03485"></a><span class="lineno"> 3485</span>    { 1, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, SeparatorTextBorderSize)},    <span class="comment">// ImGuiStyleVar_SeparatorTextBorderSize</span></div>
<div class="line"><a id="l03486" name="l03486"></a><span class="lineno"> 3486</span>    { 2, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, SeparatorTextAlign) },        <span class="comment">// ImGuiStyleVar_SeparatorTextAlign</span></div>
<div class="line"><a id="l03487" name="l03487"></a><span class="lineno"> 3487</span>    { 2, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, SeparatorTextPadding) },      <span class="comment">// ImGuiStyleVar_SeparatorTextPadding</span></div>
<div class="line"><a id="l03488" name="l03488"></a><span class="lineno"> 3488</span>    { 1, ImGuiDataType_Float, (ImU32)offsetof(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>, DockingSeparatorSize) },      <span class="comment">// ImGuiStyleVar_DockingSeparatorSize</span></div>
<div class="line"><a id="l03489" name="l03489"></a><span class="lineno"> 3489</span>};</div>
<div class="line"><a id="l03490" name="l03490"></a><span class="lineno"> 3490</span> </div>
<div class="line"><a id="l03491" name="l03491"></a><span class="lineno"> 3491</span><span class="keyword">const</span> <a class="code hl_struct" href="structImGuiStyleVarInfo.html">ImGuiStyleVarInfo</a>* ImGui::GetStyleVarInfo(ImGuiStyleVar idx)</div>
<div class="line"><a id="l03492" name="l03492"></a><span class="lineno"> 3492</span>{</div>
<div class="line"><a id="l03493" name="l03493"></a><span class="lineno"> 3493</span>    IM_ASSERT(idx &gt;= 0 &amp;&amp; idx &lt; ImGuiStyleVar_COUNT);</div>
<div class="line"><a id="l03494" name="l03494"></a><span class="lineno"> 3494</span>    IM_STATIC_ASSERT(IM_ARRAYSIZE(GStyleVarsInfo) == ImGuiStyleVar_COUNT);</div>
<div class="line"><a id="l03495" name="l03495"></a><span class="lineno"> 3495</span>    <span class="keywordflow">return</span> &amp;GStyleVarsInfo[idx];</div>
<div class="line"><a id="l03496" name="l03496"></a><span class="lineno"> 3496</span>}</div>
<div class="line"><a id="l03497" name="l03497"></a><span class="lineno"> 3497</span> </div>
<div class="line"><a id="l03498" name="l03498"></a><span class="lineno"> 3498</span><span class="keywordtype">void</span> ImGui::PushStyleVar(ImGuiStyleVar idx, <span class="keywordtype">float</span> val)</div>
<div class="line"><a id="l03499" name="l03499"></a><span class="lineno"> 3499</span>{</div>
<div class="line"><a id="l03500" name="l03500"></a><span class="lineno"> 3500</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l03501" name="l03501"></a><span class="lineno"> 3501</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiStyleVarInfo.html">ImGuiStyleVarInfo</a>* var_info = GetStyleVarInfo(idx);</div>
<div class="line"><a id="l03502" name="l03502"></a><span class="lineno"> 3502</span>    <span class="keywordflow">if</span> (var_info-&gt;DataType != ImGuiDataType_Float || var_info-&gt;Count != 1)</div>
<div class="line"><a id="l03503" name="l03503"></a><span class="lineno"> 3503</span>    {</div>
<div class="line"><a id="l03504" name="l03504"></a><span class="lineno"> 3504</span>        IM_ASSERT_USER_ERROR(0, <span class="stringliteral">&quot;Calling PushStyleVar() variant with wrong type!&quot;</span>);</div>
<div class="line"><a id="l03505" name="l03505"></a><span class="lineno"> 3505</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03506" name="l03506"></a><span class="lineno"> 3506</span>    }</div>
<div class="line"><a id="l03507" name="l03507"></a><span class="lineno"> 3507</span>    <span class="keywordtype">float</span>* pvar = (<span class="keywordtype">float</span>*)var_info-&gt;GetVarPtr(&amp;g.Style);</div>
<div class="line"><a id="l03508" name="l03508"></a><span class="lineno"> 3508</span>    g.StyleVarStack.push_back(<a class="code hl_struct" href="structImGuiStyleMod.html">ImGuiStyleMod</a>(idx, *pvar));</div>
<div class="line"><a id="l03509" name="l03509"></a><span class="lineno"> 3509</span>    *pvar = val;</div>
<div class="line"><a id="l03510" name="l03510"></a><span class="lineno"> 3510</span>}</div>
<div class="line"><a id="l03511" name="l03511"></a><span class="lineno"> 3511</span> </div>
<div class="line"><a id="l03512" name="l03512"></a><span class="lineno"> 3512</span><span class="keywordtype">void</span> ImGui::PushStyleVarX(ImGuiStyleVar idx, <span class="keywordtype">float</span> val_x)</div>
<div class="line"><a id="l03513" name="l03513"></a><span class="lineno"> 3513</span>{</div>
<div class="line"><a id="l03514" name="l03514"></a><span class="lineno"> 3514</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l03515" name="l03515"></a><span class="lineno"> 3515</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiStyleVarInfo.html">ImGuiStyleVarInfo</a>* var_info = GetStyleVarInfo(idx);</div>
<div class="line"><a id="l03516" name="l03516"></a><span class="lineno"> 3516</span>    <span class="keywordflow">if</span> (var_info-&gt;DataType != ImGuiDataType_Float || var_info-&gt;Count != 2)</div>
<div class="line"><a id="l03517" name="l03517"></a><span class="lineno"> 3517</span>    {</div>
<div class="line"><a id="l03518" name="l03518"></a><span class="lineno"> 3518</span>        IM_ASSERT_USER_ERROR(0, <span class="stringliteral">&quot;Calling PushStyleVar() variant with wrong type!&quot;</span>);</div>
<div class="line"><a id="l03519" name="l03519"></a><span class="lineno"> 3519</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03520" name="l03520"></a><span class="lineno"> 3520</span>    }</div>
<div class="line"><a id="l03521" name="l03521"></a><span class="lineno"> 3521</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a>* pvar = (<a class="code hl_struct" href="structImVec2.html">ImVec2</a>*)var_info-&gt;GetVarPtr(&amp;g.Style);</div>
<div class="line"><a id="l03522" name="l03522"></a><span class="lineno"> 3522</span>    g.StyleVarStack.push_back(<a class="code hl_struct" href="structImGuiStyleMod.html">ImGuiStyleMod</a>(idx, *pvar));</div>
<div class="line"><a id="l03523" name="l03523"></a><span class="lineno"> 3523</span>    pvar-&gt;x = val_x;</div>
<div class="line"><a id="l03524" name="l03524"></a><span class="lineno"> 3524</span>}</div>
<div class="line"><a id="l03525" name="l03525"></a><span class="lineno"> 3525</span> </div>
<div class="line"><a id="l03526" name="l03526"></a><span class="lineno"> 3526</span><span class="keywordtype">void</span> ImGui::PushStyleVarY(ImGuiStyleVar idx, <span class="keywordtype">float</span> val_y)</div>
<div class="line"><a id="l03527" name="l03527"></a><span class="lineno"> 3527</span>{</div>
<div class="line"><a id="l03528" name="l03528"></a><span class="lineno"> 3528</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l03529" name="l03529"></a><span class="lineno"> 3529</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiStyleVarInfo.html">ImGuiStyleVarInfo</a>* var_info = GetStyleVarInfo(idx);</div>
<div class="line"><a id="l03530" name="l03530"></a><span class="lineno"> 3530</span>    <span class="keywordflow">if</span> (var_info-&gt;DataType != ImGuiDataType_Float || var_info-&gt;Count != 2)</div>
<div class="line"><a id="l03531" name="l03531"></a><span class="lineno"> 3531</span>    {</div>
<div class="line"><a id="l03532" name="l03532"></a><span class="lineno"> 3532</span>        IM_ASSERT_USER_ERROR(0, <span class="stringliteral">&quot;Calling PushStyleVar() variant with wrong type!&quot;</span>);</div>
<div class="line"><a id="l03533" name="l03533"></a><span class="lineno"> 3533</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03534" name="l03534"></a><span class="lineno"> 3534</span>    }</div>
<div class="line"><a id="l03535" name="l03535"></a><span class="lineno"> 3535</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a>* pvar = (<a class="code hl_struct" href="structImVec2.html">ImVec2</a>*)var_info-&gt;GetVarPtr(&amp;g.Style);</div>
<div class="line"><a id="l03536" name="l03536"></a><span class="lineno"> 3536</span>    g.StyleVarStack.push_back(<a class="code hl_struct" href="structImGuiStyleMod.html">ImGuiStyleMod</a>(idx, *pvar));</div>
<div class="line"><a id="l03537" name="l03537"></a><span class="lineno"> 3537</span>    pvar-&gt;y = val_y;</div>
<div class="line"><a id="l03538" name="l03538"></a><span class="lineno"> 3538</span>}</div>
<div class="line"><a id="l03539" name="l03539"></a><span class="lineno"> 3539</span> </div>
<div class="line"><a id="l03540" name="l03540"></a><span class="lineno"> 3540</span><span class="keywordtype">void</span> ImGui::PushStyleVar(ImGuiStyleVar idx, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; val)</div>
<div class="line"><a id="l03541" name="l03541"></a><span class="lineno"> 3541</span>{</div>
<div class="line"><a id="l03542" name="l03542"></a><span class="lineno"> 3542</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l03543" name="l03543"></a><span class="lineno"> 3543</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiStyleVarInfo.html">ImGuiStyleVarInfo</a>* var_info = GetStyleVarInfo(idx);</div>
<div class="line"><a id="l03544" name="l03544"></a><span class="lineno"> 3544</span>    <span class="keywordflow">if</span> (var_info-&gt;DataType != ImGuiDataType_Float || var_info-&gt;Count != 2)</div>
<div class="line"><a id="l03545" name="l03545"></a><span class="lineno"> 3545</span>    {</div>
<div class="line"><a id="l03546" name="l03546"></a><span class="lineno"> 3546</span>        IM_ASSERT_USER_ERROR(0, <span class="stringliteral">&quot;Calling PushStyleVar() variant with wrong type!&quot;</span>);</div>
<div class="line"><a id="l03547" name="l03547"></a><span class="lineno"> 3547</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03548" name="l03548"></a><span class="lineno"> 3548</span>    }</div>
<div class="line"><a id="l03549" name="l03549"></a><span class="lineno"> 3549</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a>* pvar = (<a class="code hl_struct" href="structImVec2.html">ImVec2</a>*)var_info-&gt;GetVarPtr(&amp;g.Style);</div>
<div class="line"><a id="l03550" name="l03550"></a><span class="lineno"> 3550</span>    g.StyleVarStack.push_back(<a class="code hl_struct" href="structImGuiStyleMod.html">ImGuiStyleMod</a>(idx, *pvar));</div>
<div class="line"><a id="l03551" name="l03551"></a><span class="lineno"> 3551</span>    *pvar = val;</div>
<div class="line"><a id="l03552" name="l03552"></a><span class="lineno"> 3552</span>}</div>
<div class="line"><a id="l03553" name="l03553"></a><span class="lineno"> 3553</span> </div>
<div class="line"><a id="l03554" name="l03554"></a><span class="lineno"> 3554</span><span class="keywordtype">void</span> ImGui::PopStyleVar(<span class="keywordtype">int</span> count)</div>
<div class="line"><a id="l03555" name="l03555"></a><span class="lineno"> 3555</span>{</div>
<div class="line"><a id="l03556" name="l03556"></a><span class="lineno"> 3556</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l03557" name="l03557"></a><span class="lineno"> 3557</span>    <span class="keywordflow">if</span> (g.StyleVarStack.Size &lt; count)</div>
<div class="line"><a id="l03558" name="l03558"></a><span class="lineno"> 3558</span>    {</div>
<div class="line"><a id="l03559" name="l03559"></a><span class="lineno"> 3559</span>        IM_ASSERT_USER_ERROR(0, <span class="stringliteral">&quot;Calling PopStyleVar() too many times!&quot;</span>);</div>
<div class="line"><a id="l03560" name="l03560"></a><span class="lineno"> 3560</span>        count = g.StyleVarStack.Size;</div>
<div class="line"><a id="l03561" name="l03561"></a><span class="lineno"> 3561</span>    }</div>
<div class="line"><a id="l03562" name="l03562"></a><span class="lineno"> 3562</span>    <span class="keywordflow">while</span> (count &gt; 0)</div>
<div class="line"><a id="l03563" name="l03563"></a><span class="lineno"> 3563</span>    {</div>
<div class="line"><a id="l03564" name="l03564"></a><span class="lineno"> 3564</span>        <span class="comment">// We avoid a generic memcpy(data, &amp;backup.Backup.., GDataTypeSize[info-&gt;Type] * info-&gt;Count), the overhead in Debug is not worth it.</span></div>
<div class="line"><a id="l03565" name="l03565"></a><span class="lineno"> 3565</span>        <a class="code hl_struct" href="structImGuiStyleMod.html">ImGuiStyleMod</a>&amp; backup = g.StyleVarStack.back();</div>
<div class="line"><a id="l03566" name="l03566"></a><span class="lineno"> 3566</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiStyleVarInfo.html">ImGuiStyleVarInfo</a>* var_info = GetStyleVarInfo(backup.VarIdx);</div>
<div class="line"><a id="l03567" name="l03567"></a><span class="lineno"> 3567</span>        <span class="keywordtype">void</span>* data = var_info-&gt;GetVarPtr(&amp;g.Style);</div>
<div class="line"><a id="l03568" name="l03568"></a><span class="lineno"> 3568</span>        <span class="keywordflow">if</span> (var_info-&gt;DataType == ImGuiDataType_Float &amp;&amp; var_info-&gt;Count == 1)      { ((<span class="keywordtype">float</span>*)data)[0] = backup.BackupFloat[0]; }</div>
<div class="line"><a id="l03569" name="l03569"></a><span class="lineno"> 3569</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (var_info-&gt;DataType == ImGuiDataType_Float &amp;&amp; var_info-&gt;Count == 2) { ((<span class="keywordtype">float</span>*)data)[0] = backup.BackupFloat[0]; ((<span class="keywordtype">float</span>*)data)[1] = backup.BackupFloat[1]; }</div>
<div class="line"><a id="l03570" name="l03570"></a><span class="lineno"> 3570</span>        g.StyleVarStack.pop_back();</div>
<div class="line"><a id="l03571" name="l03571"></a><span class="lineno"> 3571</span>        count--;</div>
<div class="line"><a id="l03572" name="l03572"></a><span class="lineno"> 3572</span>    }</div>
<div class="line"><a id="l03573" name="l03573"></a><span class="lineno"> 3573</span>}</div>
<div class="line"><a id="l03574" name="l03574"></a><span class="lineno"> 3574</span> </div>
<div class="line"><a id="l03575" name="l03575"></a><span class="lineno"> 3575</span><span class="keyword">const</span> <span class="keywordtype">char</span>* ImGui::GetStyleColorName(ImGuiCol idx)</div>
<div class="line"><a id="l03576" name="l03576"></a><span class="lineno"> 3576</span>{</div>
<div class="line"><a id="l03577" name="l03577"></a><span class="lineno"> 3577</span>    <span class="comment">// Create switch-case from enum with regexp: ImGuiCol_{.*}, --&gt; case ImGuiCol_\1: return &quot;\1&quot;;</span></div>
<div class="line"><a id="l03578" name="l03578"></a><span class="lineno"> 3578</span>    <span class="keywordflow">switch</span> (idx)</div>
<div class="line"><a id="l03579" name="l03579"></a><span class="lineno"> 3579</span>    {</div>
<div class="line"><a id="l03580" name="l03580"></a><span class="lineno"> 3580</span>    <span class="keywordflow">case</span> ImGuiCol_Text: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Text&quot;</span>;</div>
<div class="line"><a id="l03581" name="l03581"></a><span class="lineno"> 3581</span>    <span class="keywordflow">case</span> ImGuiCol_TextDisabled: <span class="keywordflow">return</span> <span class="stringliteral">&quot;TextDisabled&quot;</span>;</div>
<div class="line"><a id="l03582" name="l03582"></a><span class="lineno"> 3582</span>    <span class="keywordflow">case</span> ImGuiCol_WindowBg: <span class="keywordflow">return</span> <span class="stringliteral">&quot;WindowBg&quot;</span>;</div>
<div class="line"><a id="l03583" name="l03583"></a><span class="lineno"> 3583</span>    <span class="keywordflow">case</span> ImGuiCol_ChildBg: <span class="keywordflow">return</span> <span class="stringliteral">&quot;ChildBg&quot;</span>;</div>
<div class="line"><a id="l03584" name="l03584"></a><span class="lineno"> 3584</span>    <span class="keywordflow">case</span> ImGuiCol_PopupBg: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PopupBg&quot;</span>;</div>
<div class="line"><a id="l03585" name="l03585"></a><span class="lineno"> 3585</span>    <span class="keywordflow">case</span> ImGuiCol_Border: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Border&quot;</span>;</div>
<div class="line"><a id="l03586" name="l03586"></a><span class="lineno"> 3586</span>    <span class="keywordflow">case</span> ImGuiCol_BorderShadow: <span class="keywordflow">return</span> <span class="stringliteral">&quot;BorderShadow&quot;</span>;</div>
<div class="line"><a id="l03587" name="l03587"></a><span class="lineno"> 3587</span>    <span class="keywordflow">case</span> ImGuiCol_FrameBg: <span class="keywordflow">return</span> <span class="stringliteral">&quot;FrameBg&quot;</span>;</div>
<div class="line"><a id="l03588" name="l03588"></a><span class="lineno"> 3588</span>    <span class="keywordflow">case</span> ImGuiCol_FrameBgHovered: <span class="keywordflow">return</span> <span class="stringliteral">&quot;FrameBgHovered&quot;</span>;</div>
<div class="line"><a id="l03589" name="l03589"></a><span class="lineno"> 3589</span>    <span class="keywordflow">case</span> ImGuiCol_FrameBgActive: <span class="keywordflow">return</span> <span class="stringliteral">&quot;FrameBgActive&quot;</span>;</div>
<div class="line"><a id="l03590" name="l03590"></a><span class="lineno"> 3590</span>    <span class="keywordflow">case</span> ImGuiCol_TitleBg: <span class="keywordflow">return</span> <span class="stringliteral">&quot;TitleBg&quot;</span>;</div>
<div class="line"><a id="l03591" name="l03591"></a><span class="lineno"> 3591</span>    <span class="keywordflow">case</span> ImGuiCol_TitleBgActive: <span class="keywordflow">return</span> <span class="stringliteral">&quot;TitleBgActive&quot;</span>;</div>
<div class="line"><a id="l03592" name="l03592"></a><span class="lineno"> 3592</span>    <span class="keywordflow">case</span> ImGuiCol_TitleBgCollapsed: <span class="keywordflow">return</span> <span class="stringliteral">&quot;TitleBgCollapsed&quot;</span>;</div>
<div class="line"><a id="l03593" name="l03593"></a><span class="lineno"> 3593</span>    <span class="keywordflow">case</span> ImGuiCol_MenuBarBg: <span class="keywordflow">return</span> <span class="stringliteral">&quot;MenuBarBg&quot;</span>;</div>
<div class="line"><a id="l03594" name="l03594"></a><span class="lineno"> 3594</span>    <span class="keywordflow">case</span> ImGuiCol_ScrollbarBg: <span class="keywordflow">return</span> <span class="stringliteral">&quot;ScrollbarBg&quot;</span>;</div>
<div class="line"><a id="l03595" name="l03595"></a><span class="lineno"> 3595</span>    <span class="keywordflow">case</span> ImGuiCol_ScrollbarGrab: <span class="keywordflow">return</span> <span class="stringliteral">&quot;ScrollbarGrab&quot;</span>;</div>
<div class="line"><a id="l03596" name="l03596"></a><span class="lineno"> 3596</span>    <span class="keywordflow">case</span> ImGuiCol_ScrollbarGrabHovered: <span class="keywordflow">return</span> <span class="stringliteral">&quot;ScrollbarGrabHovered&quot;</span>;</div>
<div class="line"><a id="l03597" name="l03597"></a><span class="lineno"> 3597</span>    <span class="keywordflow">case</span> ImGuiCol_ScrollbarGrabActive: <span class="keywordflow">return</span> <span class="stringliteral">&quot;ScrollbarGrabActive&quot;</span>;</div>
<div class="line"><a id="l03598" name="l03598"></a><span class="lineno"> 3598</span>    <span class="keywordflow">case</span> ImGuiCol_CheckMark: <span class="keywordflow">return</span> <span class="stringliteral">&quot;CheckMark&quot;</span>;</div>
<div class="line"><a id="l03599" name="l03599"></a><span class="lineno"> 3599</span>    <span class="keywordflow">case</span> ImGuiCol_SliderGrab: <span class="keywordflow">return</span> <span class="stringliteral">&quot;SliderGrab&quot;</span>;</div>
<div class="line"><a id="l03600" name="l03600"></a><span class="lineno"> 3600</span>    <span class="keywordflow">case</span> ImGuiCol_SliderGrabActive: <span class="keywordflow">return</span> <span class="stringliteral">&quot;SliderGrabActive&quot;</span>;</div>
<div class="line"><a id="l03601" name="l03601"></a><span class="lineno"> 3601</span>    <span class="keywordflow">case</span> ImGuiCol_Button: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Button&quot;</span>;</div>
<div class="line"><a id="l03602" name="l03602"></a><span class="lineno"> 3602</span>    <span class="keywordflow">case</span> ImGuiCol_ButtonHovered: <span class="keywordflow">return</span> <span class="stringliteral">&quot;ButtonHovered&quot;</span>;</div>
<div class="line"><a id="l03603" name="l03603"></a><span class="lineno"> 3603</span>    <span class="keywordflow">case</span> ImGuiCol_ButtonActive: <span class="keywordflow">return</span> <span class="stringliteral">&quot;ButtonActive&quot;</span>;</div>
<div class="line"><a id="l03604" name="l03604"></a><span class="lineno"> 3604</span>    <span class="keywordflow">case</span> ImGuiCol_Header: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Header&quot;</span>;</div>
<div class="line"><a id="l03605" name="l03605"></a><span class="lineno"> 3605</span>    <span class="keywordflow">case</span> ImGuiCol_HeaderHovered: <span class="keywordflow">return</span> <span class="stringliteral">&quot;HeaderHovered&quot;</span>;</div>
<div class="line"><a id="l03606" name="l03606"></a><span class="lineno"> 3606</span>    <span class="keywordflow">case</span> ImGuiCol_HeaderActive: <span class="keywordflow">return</span> <span class="stringliteral">&quot;HeaderActive&quot;</span>;</div>
<div class="line"><a id="l03607" name="l03607"></a><span class="lineno"> 3607</span>    <span class="keywordflow">case</span> ImGuiCol_Separator: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Separator&quot;</span>;</div>
<div class="line"><a id="l03608" name="l03608"></a><span class="lineno"> 3608</span>    <span class="keywordflow">case</span> ImGuiCol_SeparatorHovered: <span class="keywordflow">return</span> <span class="stringliteral">&quot;SeparatorHovered&quot;</span>;</div>
<div class="line"><a id="l03609" name="l03609"></a><span class="lineno"> 3609</span>    <span class="keywordflow">case</span> ImGuiCol_SeparatorActive: <span class="keywordflow">return</span> <span class="stringliteral">&quot;SeparatorActive&quot;</span>;</div>
<div class="line"><a id="l03610" name="l03610"></a><span class="lineno"> 3610</span>    <span class="keywordflow">case</span> ImGuiCol_ResizeGrip: <span class="keywordflow">return</span> <span class="stringliteral">&quot;ResizeGrip&quot;</span>;</div>
<div class="line"><a id="l03611" name="l03611"></a><span class="lineno"> 3611</span>    <span class="keywordflow">case</span> ImGuiCol_ResizeGripHovered: <span class="keywordflow">return</span> <span class="stringliteral">&quot;ResizeGripHovered&quot;</span>;</div>
<div class="line"><a id="l03612" name="l03612"></a><span class="lineno"> 3612</span>    <span class="keywordflow">case</span> ImGuiCol_ResizeGripActive: <span class="keywordflow">return</span> <span class="stringliteral">&quot;ResizeGripActive&quot;</span>;</div>
<div class="line"><a id="l03613" name="l03613"></a><span class="lineno"> 3613</span>    <span class="keywordflow">case</span> ImGuiCol_InputTextCursor: <span class="keywordflow">return</span> <span class="stringliteral">&quot;InputTextCursor&quot;</span>;</div>
<div class="line"><a id="l03614" name="l03614"></a><span class="lineno"> 3614</span>    <span class="keywordflow">case</span> ImGuiCol_TabHovered: <span class="keywordflow">return</span> <span class="stringliteral">&quot;TabHovered&quot;</span>;</div>
<div class="line"><a id="l03615" name="l03615"></a><span class="lineno"> 3615</span>    <span class="keywordflow">case</span> ImGuiCol_Tab: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Tab&quot;</span>;</div>
<div class="line"><a id="l03616" name="l03616"></a><span class="lineno"> 3616</span>    <span class="keywordflow">case</span> ImGuiCol_TabSelected: <span class="keywordflow">return</span> <span class="stringliteral">&quot;TabSelected&quot;</span>;</div>
<div class="line"><a id="l03617" name="l03617"></a><span class="lineno"> 3617</span>    <span class="keywordflow">case</span> ImGuiCol_TabSelectedOverline: <span class="keywordflow">return</span> <span class="stringliteral">&quot;TabSelectedOverline&quot;</span>;</div>
<div class="line"><a id="l03618" name="l03618"></a><span class="lineno"> 3618</span>    <span class="keywordflow">case</span> ImGuiCol_TabDimmed: <span class="keywordflow">return</span> <span class="stringliteral">&quot;TabDimmed&quot;</span>;</div>
<div class="line"><a id="l03619" name="l03619"></a><span class="lineno"> 3619</span>    <span class="keywordflow">case</span> ImGuiCol_TabDimmedSelected: <span class="keywordflow">return</span> <span class="stringliteral">&quot;TabDimmedSelected&quot;</span>;</div>
<div class="line"><a id="l03620" name="l03620"></a><span class="lineno"> 3620</span>    <span class="keywordflow">case</span> ImGuiCol_TabDimmedSelectedOverline: <span class="keywordflow">return</span> <span class="stringliteral">&quot;TabDimmedSelectedOverline&quot;</span>;</div>
<div class="line"><a id="l03621" name="l03621"></a><span class="lineno"> 3621</span>    <span class="keywordflow">case</span> ImGuiCol_DockingPreview: <span class="keywordflow">return</span> <span class="stringliteral">&quot;DockingPreview&quot;</span>;</div>
<div class="line"><a id="l03622" name="l03622"></a><span class="lineno"> 3622</span>    <span class="keywordflow">case</span> ImGuiCol_DockingEmptyBg: <span class="keywordflow">return</span> <span class="stringliteral">&quot;DockingEmptyBg&quot;</span>;</div>
<div class="line"><a id="l03623" name="l03623"></a><span class="lineno"> 3623</span>    <span class="keywordflow">case</span> ImGuiCol_PlotLines: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PlotLines&quot;</span>;</div>
<div class="line"><a id="l03624" name="l03624"></a><span class="lineno"> 3624</span>    <span class="keywordflow">case</span> ImGuiCol_PlotLinesHovered: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PlotLinesHovered&quot;</span>;</div>
<div class="line"><a id="l03625" name="l03625"></a><span class="lineno"> 3625</span>    <span class="keywordflow">case</span> ImGuiCol_PlotHistogram: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PlotHistogram&quot;</span>;</div>
<div class="line"><a id="l03626" name="l03626"></a><span class="lineno"> 3626</span>    <span class="keywordflow">case</span> ImGuiCol_PlotHistogramHovered: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PlotHistogramHovered&quot;</span>;</div>
<div class="line"><a id="l03627" name="l03627"></a><span class="lineno"> 3627</span>    <span class="keywordflow">case</span> ImGuiCol_TableHeaderBg: <span class="keywordflow">return</span> <span class="stringliteral">&quot;TableHeaderBg&quot;</span>;</div>
<div class="line"><a id="l03628" name="l03628"></a><span class="lineno"> 3628</span>    <span class="keywordflow">case</span> ImGuiCol_TableBorderStrong: <span class="keywordflow">return</span> <span class="stringliteral">&quot;TableBorderStrong&quot;</span>;</div>
<div class="line"><a id="l03629" name="l03629"></a><span class="lineno"> 3629</span>    <span class="keywordflow">case</span> ImGuiCol_TableBorderLight: <span class="keywordflow">return</span> <span class="stringliteral">&quot;TableBorderLight&quot;</span>;</div>
<div class="line"><a id="l03630" name="l03630"></a><span class="lineno"> 3630</span>    <span class="keywordflow">case</span> ImGuiCol_TableRowBg: <span class="keywordflow">return</span> <span class="stringliteral">&quot;TableRowBg&quot;</span>;</div>
<div class="line"><a id="l03631" name="l03631"></a><span class="lineno"> 3631</span>    <span class="keywordflow">case</span> ImGuiCol_TableRowBgAlt: <span class="keywordflow">return</span> <span class="stringliteral">&quot;TableRowBgAlt&quot;</span>;</div>
<div class="line"><a id="l03632" name="l03632"></a><span class="lineno"> 3632</span>    <span class="keywordflow">case</span> ImGuiCol_TextLink: <span class="keywordflow">return</span> <span class="stringliteral">&quot;TextLink&quot;</span>;</div>
<div class="line"><a id="l03633" name="l03633"></a><span class="lineno"> 3633</span>    <span class="keywordflow">case</span> ImGuiCol_TextSelectedBg: <span class="keywordflow">return</span> <span class="stringliteral">&quot;TextSelectedBg&quot;</span>;</div>
<div class="line"><a id="l03634" name="l03634"></a><span class="lineno"> 3634</span>    <span class="keywordflow">case</span> ImGuiCol_DragDropTarget: <span class="keywordflow">return</span> <span class="stringliteral">&quot;DragDropTarget&quot;</span>;</div>
<div class="line"><a id="l03635" name="l03635"></a><span class="lineno"> 3635</span>    <span class="keywordflow">case</span> ImGuiCol_NavCursor: <span class="keywordflow">return</span> <span class="stringliteral">&quot;NavCursor&quot;</span>;</div>
<div class="line"><a id="l03636" name="l03636"></a><span class="lineno"> 3636</span>    <span class="keywordflow">case</span> ImGuiCol_NavWindowingHighlight: <span class="keywordflow">return</span> <span class="stringliteral">&quot;NavWindowingHighlight&quot;</span>;</div>
<div class="line"><a id="l03637" name="l03637"></a><span class="lineno"> 3637</span>    <span class="keywordflow">case</span> ImGuiCol_NavWindowingDimBg: <span class="keywordflow">return</span> <span class="stringliteral">&quot;NavWindowingDimBg&quot;</span>;</div>
<div class="line"><a id="l03638" name="l03638"></a><span class="lineno"> 3638</span>    <span class="keywordflow">case</span> ImGuiCol_ModalWindowDimBg: <span class="keywordflow">return</span> <span class="stringliteral">&quot;ModalWindowDimBg&quot;</span>;</div>
<div class="line"><a id="l03639" name="l03639"></a><span class="lineno"> 3639</span>    }</div>
<div class="line"><a id="l03640" name="l03640"></a><span class="lineno"> 3640</span>    IM_ASSERT(0);</div>
<div class="line"><a id="l03641" name="l03641"></a><span class="lineno"> 3641</span>    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unknown&quot;</span>;</div>
<div class="line"><a id="l03642" name="l03642"></a><span class="lineno"> 3642</span>}</div>
<div class="line"><a id="l03643" name="l03643"></a><span class="lineno"> 3643</span> </div>
<div class="line"><a id="l03644" name="l03644"></a><span class="lineno"> 3644</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03645" name="l03645"></a><span class="lineno"> 3645</span><span class="comment">// [SECTION] RENDER HELPERS</span></div>
<div class="line"><a id="l03646" name="l03646"></a><span class="lineno"> 3646</span><span class="comment">// Some of those (internal) functions are currently quite a legacy mess - their signature and behavior will change,</span></div>
<div class="line"><a id="l03647" name="l03647"></a><span class="lineno"> 3647</span><span class="comment">// we need a nicer separation between low-level functions and high-level functions relying on the ImGui context.</span></div>
<div class="line"><a id="l03648" name="l03648"></a><span class="lineno"> 3648</span><span class="comment">// Also see imgui_draw.cpp for some more which have been reworked to not rely on ImGui:: context.</span></div>
<div class="line"><a id="l03649" name="l03649"></a><span class="lineno"> 3649</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03650" name="l03650"></a><span class="lineno"> 3650</span> </div>
<div class="line"><a id="l03651" name="l03651"></a><span class="lineno"> 3651</span><span class="keyword">const</span> <span class="keywordtype">char</span>* ImGui::FindRenderedTextEnd(<span class="keyword">const</span> <span class="keywordtype">char</span>* text, <span class="keyword">const</span> <span class="keywordtype">char</span>* text_end)</div>
<div class="line"><a id="l03652" name="l03652"></a><span class="lineno"> 3652</span>{</div>
<div class="line"><a id="l03653" name="l03653"></a><span class="lineno"> 3653</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* text_display_end = text;</div>
<div class="line"><a id="l03654" name="l03654"></a><span class="lineno"> 3654</span>    <span class="keywordflow">if</span> (!text_end)</div>
<div class="line"><a id="l03655" name="l03655"></a><span class="lineno"> 3655</span>        text_end = (<span class="keyword">const</span> <span class="keywordtype">char</span>*)-1;</div>
<div class="line"><a id="l03656" name="l03656"></a><span class="lineno"> 3656</span> </div>
<div class="line"><a id="l03657" name="l03657"></a><span class="lineno"> 3657</span>    <span class="keywordflow">while</span> (text_display_end &lt; text_end &amp;&amp; *text_display_end != <span class="charliteral">&#39;\0&#39;</span> &amp;&amp; (text_display_end[0] != <span class="charliteral">&#39;#&#39;</span> || text_display_end[1] != <span class="charliteral">&#39;#&#39;</span>))</div>
<div class="line"><a id="l03658" name="l03658"></a><span class="lineno"> 3658</span>        text_display_end++;</div>
<div class="line"><a id="l03659" name="l03659"></a><span class="lineno"> 3659</span>    <span class="keywordflow">return</span> text_display_end;</div>
<div class="line"><a id="l03660" name="l03660"></a><span class="lineno"> 3660</span>}</div>
<div class="line"><a id="l03661" name="l03661"></a><span class="lineno"> 3661</span> </div>
<div class="line"><a id="l03662" name="l03662"></a><span class="lineno"> 3662</span><span class="comment">// Internal ImGui functions to render text</span></div>
<div class="line"><a id="l03663" name="l03663"></a><span class="lineno"> 3663</span><span class="comment">// RenderText***() functions calls ImDrawList::AddText() calls ImBitmapFont::RenderText()</span></div>
<div class="line"><a id="l03664" name="l03664"></a><span class="lineno"> 3664</span><span class="keywordtype">void</span> ImGui::RenderText(<a class="code hl_struct" href="structImVec2.html">ImVec2</a> pos, <span class="keyword">const</span> <span class="keywordtype">char</span>* text, <span class="keyword">const</span> <span class="keywordtype">char</span>* text_end, <span class="keywordtype">bool</span> hide_text_after_hash)</div>
<div class="line"><a id="l03665" name="l03665"></a><span class="lineno"> 3665</span>{</div>
<div class="line"><a id="l03666" name="l03666"></a><span class="lineno"> 3666</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l03667" name="l03667"></a><span class="lineno"> 3667</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l03668" name="l03668"></a><span class="lineno"> 3668</span> </div>
<div class="line"><a id="l03669" name="l03669"></a><span class="lineno"> 3669</span>    <span class="comment">// Hide anything after a &#39;##&#39; string</span></div>
<div class="line"><a id="l03670" name="l03670"></a><span class="lineno"> 3670</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* text_display_end;</div>
<div class="line"><a id="l03671" name="l03671"></a><span class="lineno"> 3671</span>    <span class="keywordflow">if</span> (hide_text_after_hash)</div>
<div class="line"><a id="l03672" name="l03672"></a><span class="lineno"> 3672</span>    {</div>
<div class="line"><a id="l03673" name="l03673"></a><span class="lineno"> 3673</span>        text_display_end = FindRenderedTextEnd(text, text_end);</div>
<div class="line"><a id="l03674" name="l03674"></a><span class="lineno"> 3674</span>    }</div>
<div class="line"><a id="l03675" name="l03675"></a><span class="lineno"> 3675</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l03676" name="l03676"></a><span class="lineno"> 3676</span>    {</div>
<div class="line"><a id="l03677" name="l03677"></a><span class="lineno"> 3677</span>        <span class="keywordflow">if</span> (!text_end)</div>
<div class="line"><a id="l03678" name="l03678"></a><span class="lineno"> 3678</span>            text_end = text + ImStrlen(text); <span class="comment">// FIXME-OPT</span></div>
<div class="line"><a id="l03679" name="l03679"></a><span class="lineno"> 3679</span>        text_display_end = text_end;</div>
<div class="line"><a id="l03680" name="l03680"></a><span class="lineno"> 3680</span>    }</div>
<div class="line"><a id="l03681" name="l03681"></a><span class="lineno"> 3681</span> </div>
<div class="line"><a id="l03682" name="l03682"></a><span class="lineno"> 3682</span>    <span class="keywordflow">if</span> (text != text_display_end)</div>
<div class="line"><a id="l03683" name="l03683"></a><span class="lineno"> 3683</span>    {</div>
<div class="line"><a id="l03684" name="l03684"></a><span class="lineno"> 3684</span>        window-&gt;DrawList-&gt;AddText(g.Font, g.FontSize, pos, GetColorU32(ImGuiCol_Text), text, text_display_end);</div>
<div class="line"><a id="l03685" name="l03685"></a><span class="lineno"> 3685</span>        <span class="keywordflow">if</span> (g.LogEnabled)</div>
<div class="line"><a id="l03686" name="l03686"></a><span class="lineno"> 3686</span>            LogRenderedText(&amp;pos, text, text_display_end);</div>
<div class="line"><a id="l03687" name="l03687"></a><span class="lineno"> 3687</span>    }</div>
<div class="line"><a id="l03688" name="l03688"></a><span class="lineno"> 3688</span>}</div>
<div class="line"><a id="l03689" name="l03689"></a><span class="lineno"> 3689</span> </div>
<div class="line"><a id="l03690" name="l03690"></a><span class="lineno"> 3690</span><span class="keywordtype">void</span> ImGui::RenderTextWrapped(<a class="code hl_struct" href="structImVec2.html">ImVec2</a> pos, <span class="keyword">const</span> <span class="keywordtype">char</span>* text, <span class="keyword">const</span> <span class="keywordtype">char</span>* text_end, <span class="keywordtype">float</span> wrap_width)</div>
<div class="line"><a id="l03691" name="l03691"></a><span class="lineno"> 3691</span>{</div>
<div class="line"><a id="l03692" name="l03692"></a><span class="lineno"> 3692</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l03693" name="l03693"></a><span class="lineno"> 3693</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l03694" name="l03694"></a><span class="lineno"> 3694</span> </div>
<div class="line"><a id="l03695" name="l03695"></a><span class="lineno"> 3695</span>    <span class="keywordflow">if</span> (!text_end)</div>
<div class="line"><a id="l03696" name="l03696"></a><span class="lineno"> 3696</span>        text_end = text + ImStrlen(text); <span class="comment">// FIXME-OPT</span></div>
<div class="line"><a id="l03697" name="l03697"></a><span class="lineno"> 3697</span> </div>
<div class="line"><a id="l03698" name="l03698"></a><span class="lineno"> 3698</span>    <span class="keywordflow">if</span> (text != text_end)</div>
<div class="line"><a id="l03699" name="l03699"></a><span class="lineno"> 3699</span>    {</div>
<div class="line"><a id="l03700" name="l03700"></a><span class="lineno"> 3700</span>        window-&gt;DrawList-&gt;AddText(g.Font, g.FontSize, pos, GetColorU32(ImGuiCol_Text), text, text_end, wrap_width);</div>
<div class="line"><a id="l03701" name="l03701"></a><span class="lineno"> 3701</span>        <span class="keywordflow">if</span> (g.LogEnabled)</div>
<div class="line"><a id="l03702" name="l03702"></a><span class="lineno"> 3702</span>            LogRenderedText(&amp;pos, text, text_end);</div>
<div class="line"><a id="l03703" name="l03703"></a><span class="lineno"> 3703</span>    }</div>
<div class="line"><a id="l03704" name="l03704"></a><span class="lineno"> 3704</span>}</div>
<div class="line"><a id="l03705" name="l03705"></a><span class="lineno"> 3705</span> </div>
<div class="line"><a id="l03706" name="l03706"></a><span class="lineno"> 3706</span><span class="comment">// Default clip_rect uses (pos_min,pos_max)</span></div>
<div class="line"><a id="l03707" name="l03707"></a><span class="lineno"> 3707</span><span class="comment">// Handle clipping on CPU immediately (vs typically let the GPU clip the triangles that are overlapping the clipping rectangle edges)</span></div>
<div class="line"><a id="l03708" name="l03708"></a><span class="lineno"> 3708</span><span class="comment">// FIXME-OPT: Since we have or calculate text_size we could coarse clip whole block immediately, especially for text above draw_list-&gt;DrawList.</span></div>
<div class="line"><a id="l03709" name="l03709"></a><span class="lineno"> 3709</span><span class="comment">// Effectively as this is called from widget doing their own coarse clipping it&#39;s not very valuable presently. Next time function will take</span></div>
<div class="line"><a id="l03710" name="l03710"></a><span class="lineno"> 3710</span><span class="comment">// better advantage of the render function taking size into account for coarse clipping.</span></div>
<div class="line"><a id="l03711" name="l03711"></a><span class="lineno"> 3711</span><span class="keywordtype">void</span> ImGui::RenderTextClippedEx(<a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>* draw_list, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; pos_min, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; pos_max, <span class="keyword">const</span> <span class="keywordtype">char</span>* text, <span class="keyword">const</span> <span class="keywordtype">char</span>* text_display_end, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>* text_size_if_known, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; align, <span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>* clip_rect)</div>
<div class="line"><a id="l03712" name="l03712"></a><span class="lineno"> 3712</span>{</div>
<div class="line"><a id="l03713" name="l03713"></a><span class="lineno"> 3713</span>    <span class="comment">// Perform CPU side clipping for single clipped element to avoid using scissor state</span></div>
<div class="line"><a id="l03714" name="l03714"></a><span class="lineno"> 3714</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> pos = pos_min;</div>
<div class="line"><a id="l03715" name="l03715"></a><span class="lineno"> 3715</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> text_size = text_size_if_known ? *text_size_if_known : CalcTextSize(text, text_display_end, <span class="keyword">false</span>, 0.0f);</div>
<div class="line"><a id="l03716" name="l03716"></a><span class="lineno"> 3716</span> </div>
<div class="line"><a id="l03717" name="l03717"></a><span class="lineno"> 3717</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>* clip_min = clip_rect ? &amp;clip_rect-&gt;Min : &amp;pos_min;</div>
<div class="line"><a id="l03718" name="l03718"></a><span class="lineno"> 3718</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>* clip_max = clip_rect ? &amp;clip_rect-&gt;Max : &amp;pos_max;</div>
<div class="line"><a id="l03719" name="l03719"></a><span class="lineno"> 3719</span>    <span class="keywordtype">bool</span> need_clipping = (pos.x + text_size.x &gt;= clip_max-&gt;x) || (pos.y + text_size.y &gt;= clip_max-&gt;y);</div>
<div class="line"><a id="l03720" name="l03720"></a><span class="lineno"> 3720</span>    <span class="keywordflow">if</span> (clip_rect) <span class="comment">// If we had no explicit clipping rectangle then pos==clip_min</span></div>
<div class="line"><a id="l03721" name="l03721"></a><span class="lineno"> 3721</span>        need_clipping |= (pos.x &lt; clip_min-&gt;x) || (pos.y &lt; clip_min-&gt;y);</div>
<div class="line"><a id="l03722" name="l03722"></a><span class="lineno"> 3722</span> </div>
<div class="line"><a id="l03723" name="l03723"></a><span class="lineno"> 3723</span>    <span class="comment">// Align whole block. We should defer that to the better rendering function when we&#39;ll have support for individual line alignment.</span></div>
<div class="line"><a id="l03724" name="l03724"></a><span class="lineno"> 3724</span>    <span class="keywordflow">if</span> (align.x &gt; 0.0f) pos.x = ImMax(pos.x, pos.x + (pos_max.x - pos.x - text_size.x) * align.x);</div>
<div class="line"><a id="l03725" name="l03725"></a><span class="lineno"> 3725</span>    <span class="keywordflow">if</span> (align.y &gt; 0.0f) pos.y = ImMax(pos.y, pos.y + (pos_max.y - pos.y - text_size.y) * align.y);</div>
<div class="line"><a id="l03726" name="l03726"></a><span class="lineno"> 3726</span> </div>
<div class="line"><a id="l03727" name="l03727"></a><span class="lineno"> 3727</span>    <span class="comment">// Render</span></div>
<div class="line"><a id="l03728" name="l03728"></a><span class="lineno"> 3728</span>    <span class="keywordflow">if</span> (need_clipping)</div>
<div class="line"><a id="l03729" name="l03729"></a><span class="lineno"> 3729</span>    {</div>
<div class="line"><a id="l03730" name="l03730"></a><span class="lineno"> 3730</span>        <a class="code hl_struct" href="structImVec4.html">ImVec4</a> fine_clip_rect(clip_min-&gt;x, clip_min-&gt;y, clip_max-&gt;x, clip_max-&gt;y);</div>
<div class="line"><a id="l03731" name="l03731"></a><span class="lineno"> 3731</span>        draw_list-&gt;AddText(NULL, 0.0f, pos, GetColorU32(ImGuiCol_Text), text, text_display_end, 0.0f, &amp;fine_clip_rect);</div>
<div class="line"><a id="l03732" name="l03732"></a><span class="lineno"> 3732</span>    }</div>
<div class="line"><a id="l03733" name="l03733"></a><span class="lineno"> 3733</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l03734" name="l03734"></a><span class="lineno"> 3734</span>    {</div>
<div class="line"><a id="l03735" name="l03735"></a><span class="lineno"> 3735</span>        draw_list-&gt;AddText(NULL, 0.0f, pos, GetColorU32(ImGuiCol_Text), text, text_display_end, 0.0f, NULL);</div>
<div class="line"><a id="l03736" name="l03736"></a><span class="lineno"> 3736</span>    }</div>
<div class="line"><a id="l03737" name="l03737"></a><span class="lineno"> 3737</span>}</div>
<div class="line"><a id="l03738" name="l03738"></a><span class="lineno"> 3738</span> </div>
<div class="line"><a id="l03739" name="l03739"></a><span class="lineno"> 3739</span><span class="keywordtype">void</span> ImGui::RenderTextClipped(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; pos_min, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; pos_max, <span class="keyword">const</span> <span class="keywordtype">char</span>* text, <span class="keyword">const</span> <span class="keywordtype">char</span>* text_end, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>* text_size_if_known, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; align, <span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>* clip_rect)</div>
<div class="line"><a id="l03740" name="l03740"></a><span class="lineno"> 3740</span>{</div>
<div class="line"><a id="l03741" name="l03741"></a><span class="lineno"> 3741</span>    <span class="comment">// Hide anything after a &#39;##&#39; string</span></div>
<div class="line"><a id="l03742" name="l03742"></a><span class="lineno"> 3742</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* text_display_end = FindRenderedTextEnd(text, text_end);</div>
<div class="line"><a id="l03743" name="l03743"></a><span class="lineno"> 3743</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> text_len = (int)(text_display_end - text);</div>
<div class="line"><a id="l03744" name="l03744"></a><span class="lineno"> 3744</span>    <span class="keywordflow">if</span> (text_len == 0)</div>
<div class="line"><a id="l03745" name="l03745"></a><span class="lineno"> 3745</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03746" name="l03746"></a><span class="lineno"> 3746</span> </div>
<div class="line"><a id="l03747" name="l03747"></a><span class="lineno"> 3747</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l03748" name="l03748"></a><span class="lineno"> 3748</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l03749" name="l03749"></a><span class="lineno"> 3749</span>    RenderTextClippedEx(window-&gt;DrawList, pos_min, pos_max, text, text_display_end, text_size_if_known, align, clip_rect);</div>
<div class="line"><a id="l03750" name="l03750"></a><span class="lineno"> 3750</span>    <span class="keywordflow">if</span> (g.LogEnabled)</div>
<div class="line"><a id="l03751" name="l03751"></a><span class="lineno"> 3751</span>        LogRenderedText(&amp;pos_min, text, text_display_end);</div>
<div class="line"><a id="l03752" name="l03752"></a><span class="lineno"> 3752</span>}</div>
<div class="line"><a id="l03753" name="l03753"></a><span class="lineno"> 3753</span> </div>
<div class="line"><a id="l03754" name="l03754"></a><span class="lineno"> 3754</span><span class="comment">// Another overly complex function until we reorganize everything into a nice all-in-one helper.</span></div>
<div class="line"><a id="l03755" name="l03755"></a><span class="lineno"> 3755</span><span class="comment">// This is made more complex because we have dissociated the layout rectangle (pos_min..pos_max) which define _where_ the ellipsis is, from actual clipping of text and limit of the ellipsis display.</span></div>
<div class="line"><a id="l03756" name="l03756"></a><span class="lineno"> 3756</span><span class="comment">// This is because in the context of tabs we selectively hide part of the text when the Close Button appears, but we don&#39;t want the ellipsis to move.</span></div>
<div class="line"><a id="l03757" name="l03757"></a><span class="lineno"> 3757</span><span class="keywordtype">void</span> ImGui::RenderTextEllipsis(<a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>* draw_list, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; pos_min, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; pos_max, <span class="keywordtype">float</span> clip_max_x, <span class="keywordtype">float</span> ellipsis_max_x, <span class="keyword">const</span> <span class="keywordtype">char</span>* text, <span class="keyword">const</span> <span class="keywordtype">char</span>* text_end_full, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>* text_size_if_known)</div>
<div class="line"><a id="l03758" name="l03758"></a><span class="lineno"> 3758</span>{</div>
<div class="line"><a id="l03759" name="l03759"></a><span class="lineno"> 3759</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l03760" name="l03760"></a><span class="lineno"> 3760</span>    <span class="keywordflow">if</span> (text_end_full == NULL)</div>
<div class="line"><a id="l03761" name="l03761"></a><span class="lineno"> 3761</span>        text_end_full = FindRenderedTextEnd(text);</div>
<div class="line"><a id="l03762" name="l03762"></a><span class="lineno"> 3762</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> text_size = text_size_if_known ? *text_size_if_known : CalcTextSize(text, text_end_full, <span class="keyword">false</span>, 0.0f);</div>
<div class="line"><a id="l03763" name="l03763"></a><span class="lineno"> 3763</span> </div>
<div class="line"><a id="l03764" name="l03764"></a><span class="lineno"> 3764</span>    <span class="comment">//draw_list-&gt;AddLine(ImVec2(pos_max.x, pos_min.y - 4), ImVec2(pos_max.x, pos_max.y + 4), IM_COL32(0, 0, 255, 255));</span></div>
<div class="line"><a id="l03765" name="l03765"></a><span class="lineno"> 3765</span>    <span class="comment">//draw_list-&gt;AddLine(ImVec2(ellipsis_max_x, pos_min.y-2), ImVec2(ellipsis_max_x, pos_max.y+2), IM_COL32(0, 255, 0, 255));</span></div>
<div class="line"><a id="l03766" name="l03766"></a><span class="lineno"> 3766</span>    <span class="comment">//draw_list-&gt;AddLine(ImVec2(clip_max_x, pos_min.y), ImVec2(clip_max_x, pos_max.y), IM_COL32(255, 0, 0, 255));</span></div>
<div class="line"><a id="l03767" name="l03767"></a><span class="lineno"> 3767</span>    <span class="comment">// FIXME: We could technically remove (last_glyph-&gt;AdvanceX - last_glyph-&gt;X1) from text_size.x here and save a few pixels.</span></div>
<div class="line"><a id="l03768" name="l03768"></a><span class="lineno"> 3768</span>    <span class="keywordflow">if</span> (text_size.x &gt; pos_max.x - pos_min.x)</div>
<div class="line"><a id="l03769" name="l03769"></a><span class="lineno"> 3769</span>    {</div>
<div class="line"><a id="l03770" name="l03770"></a><span class="lineno"> 3770</span>        <span class="comment">// Hello wo...</span></div>
<div class="line"><a id="l03771" name="l03771"></a><span class="lineno"> 3771</span>        <span class="comment">// |       |   |</span></div>
<div class="line"><a id="l03772" name="l03772"></a><span class="lineno"> 3772</span>        <span class="comment">// min   max   ellipsis_max</span></div>
<div class="line"><a id="l03773" name="l03773"></a><span class="lineno"> 3773</span>        <span class="comment">//          &lt;-&gt; this is generally some padding value</span></div>
<div class="line"><a id="l03774" name="l03774"></a><span class="lineno"> 3774</span> </div>
<div class="line"><a id="l03775" name="l03775"></a><span class="lineno"> 3775</span>        <a class="code hl_struct" href="structImFont.html">ImFont</a>* font = draw_list-&gt;_Data-&gt;Font;</div>
<div class="line"><a id="l03776" name="l03776"></a><span class="lineno"> 3776</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> font_size = draw_list-&gt;_Data-&gt;FontSize;</div>
<div class="line"><a id="l03777" name="l03777"></a><span class="lineno"> 3777</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> font_scale = draw_list-&gt;_Data-&gt;FontScale;</div>
<div class="line"><a id="l03778" name="l03778"></a><span class="lineno"> 3778</span>        <span class="keyword">const</span> <span class="keywordtype">char</span>* text_end_ellipsis = NULL;</div>
<div class="line"><a id="l03779" name="l03779"></a><span class="lineno"> 3779</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> ellipsis_width = font-&gt;EllipsisWidth * font_scale;</div>
<div class="line"><a id="l03780" name="l03780"></a><span class="lineno"> 3780</span> </div>
<div class="line"><a id="l03781" name="l03781"></a><span class="lineno"> 3781</span>        <span class="comment">// We can now claim the space between pos_max.x and ellipsis_max.x</span></div>
<div class="line"><a id="l03782" name="l03782"></a><span class="lineno"> 3782</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> text_avail_width = ImMax((ImMax(pos_max.x, ellipsis_max_x) - ellipsis_width) - pos_min.x, 1.0f);</div>
<div class="line"><a id="l03783" name="l03783"></a><span class="lineno"> 3783</span>        <span class="keywordtype">float</span> text_size_clipped_x = font-&gt;CalcTextSizeA(font_size, text_avail_width, 0.0f, text, text_end_full, &amp;text_end_ellipsis).x;</div>
<div class="line"><a id="l03784" name="l03784"></a><span class="lineno"> 3784</span>        <span class="keywordflow">if</span> (text == text_end_ellipsis &amp;&amp; text_end_ellipsis &lt; text_end_full)</div>
<div class="line"><a id="l03785" name="l03785"></a><span class="lineno"> 3785</span>        {</div>
<div class="line"><a id="l03786" name="l03786"></a><span class="lineno"> 3786</span>            <span class="comment">// Always display at least 1 character if there&#39;s no room for character + ellipsis</span></div>
<div class="line"><a id="l03787" name="l03787"></a><span class="lineno"> 3787</span>            text_end_ellipsis = text + ImTextCountUtf8BytesFromChar(text, text_end_full);</div>
<div class="line"><a id="l03788" name="l03788"></a><span class="lineno"> 3788</span>            text_size_clipped_x = font-&gt;CalcTextSizeA(font_size, FLT_MAX, 0.0f, text, text_end_ellipsis).x;</div>
<div class="line"><a id="l03789" name="l03789"></a><span class="lineno"> 3789</span>        }</div>
<div class="line"><a id="l03790" name="l03790"></a><span class="lineno"> 3790</span>        <span class="keywordflow">while</span> (text_end_ellipsis &gt; text &amp;&amp; ImCharIsBlankA(text_end_ellipsis[-1]))</div>
<div class="line"><a id="l03791" name="l03791"></a><span class="lineno"> 3791</span>        {</div>
<div class="line"><a id="l03792" name="l03792"></a><span class="lineno"> 3792</span>            <span class="comment">// Trim trailing space before ellipsis (FIXME: Supporting non-ascii blanks would be nice, for this we need a function to backtrack in UTF-8 text)</span></div>
<div class="line"><a id="l03793" name="l03793"></a><span class="lineno"> 3793</span>            text_end_ellipsis--;</div>
<div class="line"><a id="l03794" name="l03794"></a><span class="lineno"> 3794</span>            text_size_clipped_x -= font-&gt;CalcTextSizeA(font_size, FLT_MAX, 0.0f, text_end_ellipsis, text_end_ellipsis + 1).x; <span class="comment">// Ascii blanks are always 1 byte</span></div>
<div class="line"><a id="l03795" name="l03795"></a><span class="lineno"> 3795</span>        }</div>
<div class="line"><a id="l03796" name="l03796"></a><span class="lineno"> 3796</span> </div>
<div class="line"><a id="l03797" name="l03797"></a><span class="lineno"> 3797</span>        <span class="comment">// Render text, render ellipsis</span></div>
<div class="line"><a id="l03798" name="l03798"></a><span class="lineno"> 3798</span>        RenderTextClippedEx(draw_list, pos_min, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(clip_max_x, pos_max.y), text, text_end_ellipsis, &amp;text_size, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, 0.0f));</div>
<div class="line"><a id="l03799" name="l03799"></a><span class="lineno"> 3799</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> ellipsis_pos = ImTrunc(<a class="code hl_struct" href="structImVec2.html">ImVec2</a>(pos_min.x + text_size_clipped_x, pos_min.y));</div>
<div class="line"><a id="l03800" name="l03800"></a><span class="lineno"> 3800</span>        <span class="keywordflow">if</span> (ellipsis_pos.x + ellipsis_width &lt;= ellipsis_max_x)</div>
<div class="line"><a id="l03801" name="l03801"></a><span class="lineno"> 3801</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; font-&gt;EllipsisCharCount; i++, ellipsis_pos.x += font-&gt;EllipsisCharStep * font_scale)</div>
<div class="line"><a id="l03802" name="l03802"></a><span class="lineno"> 3802</span>                font-&gt;RenderChar(draw_list, font_size, ellipsis_pos, GetColorU32(ImGuiCol_Text), font-&gt;EllipsisChar);</div>
<div class="line"><a id="l03803" name="l03803"></a><span class="lineno"> 3803</span>    }</div>
<div class="line"><a id="l03804" name="l03804"></a><span class="lineno"> 3804</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l03805" name="l03805"></a><span class="lineno"> 3805</span>    {</div>
<div class="line"><a id="l03806" name="l03806"></a><span class="lineno"> 3806</span>        RenderTextClippedEx(draw_list, pos_min, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(clip_max_x, pos_max.y), text, text_end_full, &amp;text_size, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, 0.0f));</div>
<div class="line"><a id="l03807" name="l03807"></a><span class="lineno"> 3807</span>    }</div>
<div class="line"><a id="l03808" name="l03808"></a><span class="lineno"> 3808</span> </div>
<div class="line"><a id="l03809" name="l03809"></a><span class="lineno"> 3809</span>    <span class="keywordflow">if</span> (g.LogEnabled)</div>
<div class="line"><a id="l03810" name="l03810"></a><span class="lineno"> 3810</span>        LogRenderedText(&amp;pos_min, text, text_end_full);</div>
<div class="line"><a id="l03811" name="l03811"></a><span class="lineno"> 3811</span>}</div>
<div class="line"><a id="l03812" name="l03812"></a><span class="lineno"> 3812</span> </div>
<div class="line"><a id="l03813" name="l03813"></a><span class="lineno"> 3813</span><span class="comment">// Render a rectangle shaped with optional rounding and borders</span></div>
<div class="line"><a id="l03814" name="l03814"></a><span class="lineno"> 3814</span><span class="keywordtype">void</span> ImGui::RenderFrame(<a class="code hl_struct" href="structImVec2.html">ImVec2</a> p_min, <a class="code hl_struct" href="structImVec2.html">ImVec2</a> p_max, ImU32 fill_col, <span class="keywordtype">bool</span> borders, <span class="keywordtype">float</span> rounding)</div>
<div class="line"><a id="l03815" name="l03815"></a><span class="lineno"> 3815</span>{</div>
<div class="line"><a id="l03816" name="l03816"></a><span class="lineno"> 3816</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l03817" name="l03817"></a><span class="lineno"> 3817</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l03818" name="l03818"></a><span class="lineno"> 3818</span>    window-&gt;DrawList-&gt;AddRectFilled(p_min, p_max, fill_col, rounding);</div>
<div class="line"><a id="l03819" name="l03819"></a><span class="lineno"> 3819</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> border_size = g.Style.FrameBorderSize;</div>
<div class="line"><a id="l03820" name="l03820"></a><span class="lineno"> 3820</span>    <span class="keywordflow">if</span> (borders &amp;&amp; border_size &gt; 0.0f)</div>
<div class="line"><a id="l03821" name="l03821"></a><span class="lineno"> 3821</span>    {</div>
<div class="line"><a id="l03822" name="l03822"></a><span class="lineno"> 3822</span>        window-&gt;DrawList-&gt;AddRect(p_min + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(1, 1), p_max + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(1, 1), GetColorU32(ImGuiCol_BorderShadow), rounding, 0, border_size);</div>
<div class="line"><a id="l03823" name="l03823"></a><span class="lineno"> 3823</span>        window-&gt;DrawList-&gt;AddRect(p_min, p_max, GetColorU32(ImGuiCol_Border), rounding, 0, border_size);</div>
<div class="line"><a id="l03824" name="l03824"></a><span class="lineno"> 3824</span>    }</div>
<div class="line"><a id="l03825" name="l03825"></a><span class="lineno"> 3825</span>}</div>
<div class="line"><a id="l03826" name="l03826"></a><span class="lineno"> 3826</span> </div>
<div class="line"><a id="l03827" name="l03827"></a><span class="lineno"> 3827</span><span class="keywordtype">void</span> ImGui::RenderFrameBorder(<a class="code hl_struct" href="structImVec2.html">ImVec2</a> p_min, <a class="code hl_struct" href="structImVec2.html">ImVec2</a> p_max, <span class="keywordtype">float</span> rounding)</div>
<div class="line"><a id="l03828" name="l03828"></a><span class="lineno"> 3828</span>{</div>
<div class="line"><a id="l03829" name="l03829"></a><span class="lineno"> 3829</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l03830" name="l03830"></a><span class="lineno"> 3830</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l03831" name="l03831"></a><span class="lineno"> 3831</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> border_size = g.Style.FrameBorderSize;</div>
<div class="line"><a id="l03832" name="l03832"></a><span class="lineno"> 3832</span>    <span class="keywordflow">if</span> (border_size &gt; 0.0f)</div>
<div class="line"><a id="l03833" name="l03833"></a><span class="lineno"> 3833</span>    {</div>
<div class="line"><a id="l03834" name="l03834"></a><span class="lineno"> 3834</span>        window-&gt;DrawList-&gt;AddRect(p_min + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(1, 1), p_max + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(1, 1), GetColorU32(ImGuiCol_BorderShadow), rounding, 0, border_size);</div>
<div class="line"><a id="l03835" name="l03835"></a><span class="lineno"> 3835</span>        window-&gt;DrawList-&gt;AddRect(p_min, p_max, GetColorU32(ImGuiCol_Border), rounding, 0, border_size);</div>
<div class="line"><a id="l03836" name="l03836"></a><span class="lineno"> 3836</span>    }</div>
<div class="line"><a id="l03837" name="l03837"></a><span class="lineno"> 3837</span>}</div>
<div class="line"><a id="l03838" name="l03838"></a><span class="lineno"> 3838</span> </div>
<div class="line"><a id="l03839" name="l03839"></a><span class="lineno"> 3839</span><span class="keywordtype">void</span> ImGui::RenderNavCursor(<span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; bb, ImGuiID <span class="keywordtype">id</span>, ImGuiNavRenderCursorFlags flags)</div>
<div class="line"><a id="l03840" name="l03840"></a><span class="lineno"> 3840</span>{</div>
<div class="line"><a id="l03841" name="l03841"></a><span class="lineno"> 3841</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l03842" name="l03842"></a><span class="lineno"> 3842</span>    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> != g.NavId)</div>
<div class="line"><a id="l03843" name="l03843"></a><span class="lineno"> 3843</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03844" name="l03844"></a><span class="lineno"> 3844</span>    <span class="keywordflow">if</span> (!g.NavCursorVisible &amp;&amp; !(flags &amp; ImGuiNavRenderCursorFlags_AlwaysDraw))</div>
<div class="line"><a id="l03845" name="l03845"></a><span class="lineno"> 3845</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03846" name="l03846"></a><span class="lineno"> 3846</span>    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == g.LastItemData.ID &amp;&amp; (g.LastItemData.ItemFlags &amp; ImGuiItemFlags_NoNav))</div>
<div class="line"><a id="l03847" name="l03847"></a><span class="lineno"> 3847</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03848" name="l03848"></a><span class="lineno"> 3848</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l03849" name="l03849"></a><span class="lineno"> 3849</span>    <span class="keywordflow">if</span> (window-&gt;DC.NavHideHighlightOneFrame)</div>
<div class="line"><a id="l03850" name="l03850"></a><span class="lineno"> 3850</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03851" name="l03851"></a><span class="lineno"> 3851</span> </div>
<div class="line"><a id="l03852" name="l03852"></a><span class="lineno"> 3852</span>    <span class="keywordtype">float</span> rounding = (flags &amp; ImGuiNavRenderCursorFlags_NoRounding) ? 0.0f : g.Style.FrameRounding;</div>
<div class="line"><a id="l03853" name="l03853"></a><span class="lineno"> 3853</span>    <a class="code hl_struct" href="structImRect.html">ImRect</a> display_rect = bb;</div>
<div class="line"><a id="l03854" name="l03854"></a><span class="lineno"> 3854</span>    display_rect.ClipWith(window-&gt;ClipRect);</div>
<div class="line"><a id="l03855" name="l03855"></a><span class="lineno"> 3855</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> thickness = 2.0f;</div>
<div class="line"><a id="l03856" name="l03856"></a><span class="lineno"> 3856</span>    <span class="keywordflow">if</span> (flags &amp; ImGuiNavRenderCursorFlags_Compact)</div>
<div class="line"><a id="l03857" name="l03857"></a><span class="lineno"> 3857</span>    {</div>
<div class="line"><a id="l03858" name="l03858"></a><span class="lineno"> 3858</span>        window-&gt;DrawList-&gt;AddRect(display_rect.Min, display_rect.Max, GetColorU32(ImGuiCol_NavCursor), rounding, 0, thickness);</div>
<div class="line"><a id="l03859" name="l03859"></a><span class="lineno"> 3859</span>    }</div>
<div class="line"><a id="l03860" name="l03860"></a><span class="lineno"> 3860</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l03861" name="l03861"></a><span class="lineno"> 3861</span>    {</div>
<div class="line"><a id="l03862" name="l03862"></a><span class="lineno"> 3862</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> distance = 3.0f + thickness * 0.5f;</div>
<div class="line"><a id="l03863" name="l03863"></a><span class="lineno"> 3863</span>        display_rect.Expand(<a class="code hl_struct" href="structImVec2.html">ImVec2</a>(distance, distance));</div>
<div class="line"><a id="l03864" name="l03864"></a><span class="lineno"> 3864</span>        <span class="keywordtype">bool</span> fully_visible = window-&gt;ClipRect.Contains(display_rect);</div>
<div class="line"><a id="l03865" name="l03865"></a><span class="lineno"> 3865</span>        <span class="keywordflow">if</span> (!fully_visible)</div>
<div class="line"><a id="l03866" name="l03866"></a><span class="lineno"> 3866</span>            window-&gt;DrawList-&gt;PushClipRect(display_rect.Min, display_rect.Max);</div>
<div class="line"><a id="l03867" name="l03867"></a><span class="lineno"> 3867</span>        window-&gt;DrawList-&gt;AddRect(display_rect.Min, display_rect.Max, GetColorU32(ImGuiCol_NavCursor), rounding, 0, thickness);</div>
<div class="line"><a id="l03868" name="l03868"></a><span class="lineno"> 3868</span>        <span class="keywordflow">if</span> (!fully_visible)</div>
<div class="line"><a id="l03869" name="l03869"></a><span class="lineno"> 3869</span>            window-&gt;DrawList-&gt;PopClipRect();</div>
<div class="line"><a id="l03870" name="l03870"></a><span class="lineno"> 3870</span>    }</div>
<div class="line"><a id="l03871" name="l03871"></a><span class="lineno"> 3871</span>}</div>
<div class="line"><a id="l03872" name="l03872"></a><span class="lineno"> 3872</span> </div>
<div class="line"><a id="l03873" name="l03873"></a><span class="lineno"> 3873</span><span class="keywordtype">void</span> ImGui::RenderMouseCursor(<a class="code hl_struct" href="structImVec2.html">ImVec2</a> base_pos, <span class="keywordtype">float</span> base_scale, ImGuiMouseCursor mouse_cursor, ImU32 col_fill, ImU32 col_border, ImU32 col_shadow)</div>
<div class="line"><a id="l03874" name="l03874"></a><span class="lineno"> 3874</span>{</div>
<div class="line"><a id="l03875" name="l03875"></a><span class="lineno"> 3875</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l03876" name="l03876"></a><span class="lineno"> 3876</span>    <span class="keywordflow">if</span> (mouse_cursor &lt;= ImGuiMouseCursor_None || mouse_cursor &gt;= ImGuiMouseCursor_COUNT) <span class="comment">// We intentionally accept out of bound values.</span></div>
<div class="line"><a id="l03877" name="l03877"></a><span class="lineno"> 3877</span>        mouse_cursor = ImGuiMouseCursor_Arrow;</div>
<div class="line"><a id="l03878" name="l03878"></a><span class="lineno"> 3878</span>    <a class="code hl_struct" href="structImFontAtlas.html">ImFontAtlas</a>* font_atlas = g.DrawListSharedData.Font-&gt;ContainerAtlas;</div>
<div class="line"><a id="l03879" name="l03879"></a><span class="lineno"> 3879</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport : g.Viewports)</div>
<div class="line"><a id="l03880" name="l03880"></a><span class="lineno"> 3880</span>    {</div>
<div class="line"><a id="l03881" name="l03881"></a><span class="lineno"> 3881</span>        <span class="comment">// We scale cursor with current viewport/monitor, however Windows 10 for its own hardware cursor seems to be using a different scale factor.</span></div>
<div class="line"><a id="l03882" name="l03882"></a><span class="lineno"> 3882</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> offset, size, uv[4];</div>
<div class="line"><a id="l03883" name="l03883"></a><span class="lineno"> 3883</span>        <span class="keywordflow">if</span> (!ImFontAtlasGetMouseCursorTexData(font_atlas, mouse_cursor, &amp;offset, &amp;size, &amp;uv[0], &amp;uv[2]))</div>
<div class="line"><a id="l03884" name="l03884"></a><span class="lineno"> 3884</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l03885" name="l03885"></a><span class="lineno"> 3885</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> pos = base_pos - offset;</div>
<div class="line"><a id="l03886" name="l03886"></a><span class="lineno"> 3886</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> scale = base_scale * viewport-&gt;DpiScale;</div>
<div class="line"><a id="l03887" name="l03887"></a><span class="lineno"> 3887</span>        <span class="keywordflow">if</span> (!viewport-&gt;GetMainRect().Overlaps(<a class="code hl_struct" href="structImRect.html">ImRect</a>(pos, pos + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(size.x + 2, size.y + 2) * scale)))</div>
<div class="line"><a id="l03888" name="l03888"></a><span class="lineno"> 3888</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l03889" name="l03889"></a><span class="lineno"> 3889</span>        <a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>* draw_list = GetForegroundDrawList(viewport);</div>
<div class="line"><a id="l03890" name="l03890"></a><span class="lineno"> 3890</span>        ImTextureID tex_id = font_atlas-&gt;TexID;</div>
<div class="line"><a id="l03891" name="l03891"></a><span class="lineno"> 3891</span>        draw_list-&gt;PushTextureID(tex_id);</div>
<div class="line"><a id="l03892" name="l03892"></a><span class="lineno"> 3892</span>        draw_list-&gt;AddImage(tex_id, pos + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(1, 0) * scale, pos + (<a class="code hl_struct" href="structImVec2.html">ImVec2</a>(1, 0) + size) * scale, uv[2], uv[3], col_shadow);</div>
<div class="line"><a id="l03893" name="l03893"></a><span class="lineno"> 3893</span>        draw_list-&gt;AddImage(tex_id, pos + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(2, 0) * scale, pos + (<a class="code hl_struct" href="structImVec2.html">ImVec2</a>(2, 0) + size) * scale, uv[2], uv[3], col_shadow);</div>
<div class="line"><a id="l03894" name="l03894"></a><span class="lineno"> 3894</span>        draw_list-&gt;AddImage(tex_id, pos,                        pos + size * scale,                  uv[2], uv[3], col_border);</div>
<div class="line"><a id="l03895" name="l03895"></a><span class="lineno"> 3895</span>        draw_list-&gt;AddImage(tex_id, pos,                        pos + size * scale,                  uv[0], uv[1], col_fill);</div>
<div class="line"><a id="l03896" name="l03896"></a><span class="lineno"> 3896</span>        <span class="keywordflow">if</span> (mouse_cursor == ImGuiMouseCursor_Wait || mouse_cursor == ImGuiMouseCursor_Progress)</div>
<div class="line"><a id="l03897" name="l03897"></a><span class="lineno"> 3897</span>        {</div>
<div class="line"><a id="l03898" name="l03898"></a><span class="lineno"> 3898</span>            <span class="keywordtype">float</span> a_min = ImFmod((<span class="keywordtype">float</span>)g.Time * 5.0f, 2.0f * IM_PI);</div>
<div class="line"><a id="l03899" name="l03899"></a><span class="lineno"> 3899</span>            <span class="keywordtype">float</span> a_max = a_min + IM_PI * 1.65f;</div>
<div class="line"><a id="l03900" name="l03900"></a><span class="lineno"> 3900</span>            draw_list-&gt;PathArcTo(pos + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(14, -1) * scale, 6.0f * scale, a_min, a_max);</div>
<div class="line"><a id="l03901" name="l03901"></a><span class="lineno"> 3901</span>            draw_list-&gt;PathStroke(col_fill, ImDrawFlags_None, 3.0f * scale);</div>
<div class="line"><a id="l03902" name="l03902"></a><span class="lineno"> 3902</span>        }</div>
<div class="line"><a id="l03903" name="l03903"></a><span class="lineno"> 3903</span>        draw_list-&gt;PopTextureID();</div>
<div class="line"><a id="l03904" name="l03904"></a><span class="lineno"> 3904</span>    }</div>
<div class="line"><a id="l03905" name="l03905"></a><span class="lineno"> 3905</span>}</div>
<div class="line"><a id="l03906" name="l03906"></a><span class="lineno"> 3906</span> </div>
<div class="line"><a id="l03907" name="l03907"></a><span class="lineno"> 3907</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03908" name="l03908"></a><span class="lineno"> 3908</span><span class="comment">// [SECTION] INITIALIZATION, SHUTDOWN</span></div>
<div class="line"><a id="l03909" name="l03909"></a><span class="lineno"> 3909</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03910" name="l03910"></a><span class="lineno"> 3910</span> </div>
<div class="line"><a id="l03911" name="l03911"></a><span class="lineno"> 3911</span><span class="comment">// Internal state access - if you want to share Dear ImGui state between modules (e.g. DLL) or allocate it yourself</span></div>
<div class="line"><a id="l03912" name="l03912"></a><span class="lineno"> 3912</span><span class="comment">// Note that we still point to some static data and members (such as GFontAtlas), so the state instance you end up using will point to the static data within its module</span></div>
<div class="line"><a id="l03913" name="l03913"></a><span class="lineno"> 3913</span><a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ImGui::GetCurrentContext()</div>
<div class="line"><a id="l03914" name="l03914"></a><span class="lineno"> 3914</span>{</div>
<div class="line"><a id="l03915" name="l03915"></a><span class="lineno"> 3915</span>    <span class="keywordflow">return</span> GImGui;</div>
<div class="line"><a id="l03916" name="l03916"></a><span class="lineno"> 3916</span>}</div>
<div class="line"><a id="l03917" name="l03917"></a><span class="lineno"> 3917</span> </div>
<div class="line"><a id="l03918" name="l03918"></a><span class="lineno"> 3918</span><span class="keywordtype">void</span> ImGui::SetCurrentContext(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx)</div>
<div class="line"><a id="l03919" name="l03919"></a><span class="lineno"> 3919</span>{</div>
<div class="line"><a id="l03920" name="l03920"></a><span class="lineno"> 3920</span><span class="preprocessor">#ifdef IMGUI_SET_CURRENT_CONTEXT_FUNC</span></div>
<div class="line"><a id="l03921" name="l03921"></a><span class="lineno"> 3921</span>    IMGUI_SET_CURRENT_CONTEXT_FUNC(ctx); <span class="comment">// For custom thread-based hackery you may want to have control over this.</span></div>
<div class="line"><a id="l03922" name="l03922"></a><span class="lineno"> 3922</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l03923" name="l03923"></a><span class="lineno"> 3923</span>    GImGui = ctx;</div>
<div class="line"><a id="l03924" name="l03924"></a><span class="lineno"> 3924</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l03925" name="l03925"></a><span class="lineno"> 3925</span>}</div>
<div class="line"><a id="l03926" name="l03926"></a><span class="lineno"> 3926</span> </div>
<div class="line"><a id="l03927" name="l03927"></a><span class="lineno"> 3927</span><span class="keywordtype">void</span> ImGui::SetAllocatorFunctions(ImGuiMemAllocFunc alloc_func, ImGuiMemFreeFunc free_func, <span class="keywordtype">void</span>* user_data)</div>
<div class="line"><a id="l03928" name="l03928"></a><span class="lineno"> 3928</span>{</div>
<div class="line"><a id="l03929" name="l03929"></a><span class="lineno"> 3929</span>    GImAllocatorAllocFunc = alloc_func;</div>
<div class="line"><a id="l03930" name="l03930"></a><span class="lineno"> 3930</span>    GImAllocatorFreeFunc = free_func;</div>
<div class="line"><a id="l03931" name="l03931"></a><span class="lineno"> 3931</span>    GImAllocatorUserData = user_data;</div>
<div class="line"><a id="l03932" name="l03932"></a><span class="lineno"> 3932</span>}</div>
<div class="line"><a id="l03933" name="l03933"></a><span class="lineno"> 3933</span> </div>
<div class="line"><a id="l03934" name="l03934"></a><span class="lineno"> 3934</span><span class="comment">// This is provided to facilitate copying allocators from one static/DLL boundary to another (e.g. retrieve default allocator of your executable address space)</span></div>
<div class="line"><a id="l03935" name="l03935"></a><span class="lineno"> 3935</span><span class="keywordtype">void</span> ImGui::GetAllocatorFunctions(ImGuiMemAllocFunc* p_alloc_func, ImGuiMemFreeFunc* p_free_func, <span class="keywordtype">void</span>** p_user_data)</div>
<div class="line"><a id="l03936" name="l03936"></a><span class="lineno"> 3936</span>{</div>
<div class="line"><a id="l03937" name="l03937"></a><span class="lineno"> 3937</span>    *p_alloc_func = GImAllocatorAllocFunc;</div>
<div class="line"><a id="l03938" name="l03938"></a><span class="lineno"> 3938</span>    *p_free_func = GImAllocatorFreeFunc;</div>
<div class="line"><a id="l03939" name="l03939"></a><span class="lineno"> 3939</span>    *p_user_data = GImAllocatorUserData;</div>
<div class="line"><a id="l03940" name="l03940"></a><span class="lineno"> 3940</span>}</div>
<div class="line"><a id="l03941" name="l03941"></a><span class="lineno"> 3941</span> </div>
<div class="line"><a id="l03942" name="l03942"></a><span class="lineno"> 3942</span><a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ImGui::CreateContext(<a class="code hl_struct" href="structImFontAtlas.html">ImFontAtlas</a>* shared_font_atlas)</div>
<div class="line"><a id="l03943" name="l03943"></a><span class="lineno"> 3943</span>{</div>
<div class="line"><a id="l03944" name="l03944"></a><span class="lineno"> 3944</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* prev_ctx = GetCurrentContext();</div>
<div class="line"><a id="l03945" name="l03945"></a><span class="lineno"> 3945</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx = IM_NEW(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>)(shared_font_atlas);</div>
<div class="line"><a id="l03946" name="l03946"></a><span class="lineno"> 3946</span>    SetCurrentContext(ctx);</div>
<div class="line"><a id="l03947" name="l03947"></a><span class="lineno"> 3947</span>    Initialize();</div>
<div class="line"><a id="l03948" name="l03948"></a><span class="lineno"> 3948</span>    <span class="keywordflow">if</span> (prev_ctx != NULL)</div>
<div class="line"><a id="l03949" name="l03949"></a><span class="lineno"> 3949</span>        SetCurrentContext(prev_ctx); <span class="comment">// Restore previous context if any, else keep new one.</span></div>
<div class="line"><a id="l03950" name="l03950"></a><span class="lineno"> 3950</span>    <span class="keywordflow">return</span> ctx;</div>
<div class="line"><a id="l03951" name="l03951"></a><span class="lineno"> 3951</span>}</div>
<div class="line"><a id="l03952" name="l03952"></a><span class="lineno"> 3952</span> </div>
<div class="line"><a id="l03953" name="l03953"></a><span class="lineno"> 3953</span><span class="keywordtype">void</span> ImGui::DestroyContext(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx)</div>
<div class="line"><a id="l03954" name="l03954"></a><span class="lineno"> 3954</span>{</div>
<div class="line"><a id="l03955" name="l03955"></a><span class="lineno"> 3955</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* prev_ctx = GetCurrentContext();</div>
<div class="line"><a id="l03956" name="l03956"></a><span class="lineno"> 3956</span>    <span class="keywordflow">if</span> (ctx == NULL) <span class="comment">//-V1051</span></div>
<div class="line"><a id="l03957" name="l03957"></a><span class="lineno"> 3957</span>        ctx = prev_ctx;</div>
<div class="line"><a id="l03958" name="l03958"></a><span class="lineno"> 3958</span>    SetCurrentContext(ctx);</div>
<div class="line"><a id="l03959" name="l03959"></a><span class="lineno"> 3959</span>    Shutdown();</div>
<div class="line"><a id="l03960" name="l03960"></a><span class="lineno"> 3960</span>    SetCurrentContext((prev_ctx != ctx) ? prev_ctx : NULL);</div>
<div class="line"><a id="l03961" name="l03961"></a><span class="lineno"> 3961</span>    IM_DELETE(ctx);</div>
<div class="line"><a id="l03962" name="l03962"></a><span class="lineno"> 3962</span>}</div>
<div class="line"><a id="l03963" name="l03963"></a><span class="lineno"> 3963</span> </div>
<div class="line"><a id="l03964" name="l03964"></a><span class="lineno"> 3964</span><span class="comment">// IMPORTANT: interactive elements requires a fixed ###xxx suffix, it must be same in ALL languages to allow for automation.</span></div>
<div class="line"><a id="l03965" name="l03965"></a><span class="lineno"> 3965</span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiLocEntry.html">ImGuiLocEntry</a> GLocalizationEntriesEnUS[] =</div>
<div class="line"><a id="l03966" name="l03966"></a><span class="lineno"> 3966</span>{</div>
<div class="line"><a id="l03967" name="l03967"></a><span class="lineno"> 3967</span>    { ImGuiLocKey_VersionStr,           <span class="stringliteral">&quot;Dear ImGui &quot;</span> IMGUI_VERSION <span class="stringliteral">&quot; (&quot;</span> IM_STRINGIFY(IMGUI_VERSION_NUM) <span class="stringliteral">&quot;)&quot;</span> },</div>
<div class="line"><a id="l03968" name="l03968"></a><span class="lineno"> 3968</span>    { ImGuiLocKey_TableSizeOne,         <span class="stringliteral">&quot;Size column to fit###SizeOne&quot;</span>          },</div>
<div class="line"><a id="l03969" name="l03969"></a><span class="lineno"> 3969</span>    { ImGuiLocKey_TableSizeAllFit,      <span class="stringliteral">&quot;Size all columns to fit###SizeAll&quot;</span>     },</div>
<div class="line"><a id="l03970" name="l03970"></a><span class="lineno"> 3970</span>    { ImGuiLocKey_TableSizeAllDefault,  <span class="stringliteral">&quot;Size all columns to default###SizeAll&quot;</span> },</div>
<div class="line"><a id="l03971" name="l03971"></a><span class="lineno"> 3971</span>    { ImGuiLocKey_TableResetOrder,      <span class="stringliteral">&quot;Reset order###ResetOrder&quot;</span>              },</div>
<div class="line"><a id="l03972" name="l03972"></a><span class="lineno"> 3972</span>    { ImGuiLocKey_WindowingMainMenuBar, <span class="stringliteral">&quot;(Main menu bar)&quot;</span>                       },</div>
<div class="line"><a id="l03973" name="l03973"></a><span class="lineno"> 3973</span>    { ImGuiLocKey_WindowingPopup,       <span class="stringliteral">&quot;(Popup)&quot;</span>                               },</div>
<div class="line"><a id="l03974" name="l03974"></a><span class="lineno"> 3974</span>    { ImGuiLocKey_WindowingUntitled,    <span class="stringliteral">&quot;(Untitled)&quot;</span>                            },</div>
<div class="line"><a id="l03975" name="l03975"></a><span class="lineno"> 3975</span>    { ImGuiLocKey_OpenLink_s,           <span class="stringliteral">&quot;Open &#39;%s&#39;&quot;</span>                             },</div>
<div class="line"><a id="l03976" name="l03976"></a><span class="lineno"> 3976</span>    { ImGuiLocKey_CopyLink,             <span class="stringliteral">&quot;Copy Link###CopyLink&quot;</span>                  },</div>
<div class="line"><a id="l03977" name="l03977"></a><span class="lineno"> 3977</span>    { ImGuiLocKey_DockingHideTabBar,            <span class="stringliteral">&quot;Hide tab bar###HideTabBar&quot;</span>             },</div>
<div class="line"><a id="l03978" name="l03978"></a><span class="lineno"> 3978</span>    { ImGuiLocKey_DockingHoldShiftToDock,       <span class="stringliteral">&quot;Hold SHIFT to enable Docking window.&quot;</span>  },</div>
<div class="line"><a id="l03979" name="l03979"></a><span class="lineno"> 3979</span>    { ImGuiLocKey_DockingDragToUndockOrMoveNode,<span class="stringliteral">&quot;Click and drag to move or undock whole node.&quot;</span>    },</div>
<div class="line"><a id="l03980" name="l03980"></a><span class="lineno"> 3980</span>};</div>
<div class="line"><a id="l03981" name="l03981"></a><span class="lineno"> 3981</span> </div>
<div class="line"><a id="l03982" name="l03982"></a><span class="lineno"> 3982</span>ImGuiContext::ImGuiContext(<a class="code hl_struct" href="structImFontAtlas.html">ImFontAtlas</a>* shared_font_atlas)</div>
<div class="line"><a id="l03983" name="l03983"></a><span class="lineno"> 3983</span>{</div>
<div class="line"><a id="l03984" name="l03984"></a><span class="lineno"> 3984</span>    IO.Ctx = <span class="keyword">this</span>;</div>
<div class="line"><a id="l03985" name="l03985"></a><span class="lineno"> 3985</span>    InputTextState.Ctx = <span class="keyword">this</span>;</div>
<div class="line"><a id="l03986" name="l03986"></a><span class="lineno"> 3986</span> </div>
<div class="line"><a id="l03987" name="l03987"></a><span class="lineno"> 3987</span>    Initialized = <span class="keyword">false</span>;</div>
<div class="line"><a id="l03988" name="l03988"></a><span class="lineno"> 3988</span>    ConfigFlagsCurrFrame = ConfigFlagsLastFrame = ImGuiConfigFlags_None;</div>
<div class="line"><a id="l03989" name="l03989"></a><span class="lineno"> 3989</span>    FontAtlasOwnedByContext = shared_font_atlas ? false : <span class="keyword">true</span>;</div>
<div class="line"><a id="l03990" name="l03990"></a><span class="lineno"> 3990</span>    Font = NULL;</div>
<div class="line"><a id="l03991" name="l03991"></a><span class="lineno"> 3991</span>    FontSize = FontBaseSize = FontScale = CurrentDpiScale = 0.0f;</div>
<div class="line"><a id="l03992" name="l03992"></a><span class="lineno"> 3992</span>    IO.Fonts = shared_font_atlas ? shared_font_atlas : IM_NEW(<a class="code hl_struct" href="structImFontAtlas.html">ImFontAtlas</a>)();</div>
<div class="line"><a id="l03993" name="l03993"></a><span class="lineno"> 3993</span>    Time = 0.0f;</div>
<div class="line"><a id="l03994" name="l03994"></a><span class="lineno"> 3994</span>    FrameCount = 0;</div>
<div class="line"><a id="l03995" name="l03995"></a><span class="lineno"> 3995</span>    FrameCountEnded = FrameCountPlatformEnded = FrameCountRendered = -1;</div>
<div class="line"><a id="l03996" name="l03996"></a><span class="lineno"> 3996</span>    WithinEndChildID = 0;</div>
<div class="line"><a id="l03997" name="l03997"></a><span class="lineno"> 3997</span>    WithinFrameScope = WithinFrameScopeWithImplicitWindow = <span class="keyword">false</span>;</div>
<div class="line"><a id="l03998" name="l03998"></a><span class="lineno"> 3998</span>    GcCompactAll = <span class="keyword">false</span>;</div>
<div class="line"><a id="l03999" name="l03999"></a><span class="lineno"> 3999</span>    TestEngineHookItems = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04000" name="l04000"></a><span class="lineno"> 4000</span>    TestEngine = NULL;</div>
<div class="line"><a id="l04001" name="l04001"></a><span class="lineno"> 4001</span>    memset(ContextName, 0, <span class="keyword">sizeof</span>(ContextName));</div>
<div class="line"><a id="l04002" name="l04002"></a><span class="lineno"> 4002</span> </div>
<div class="line"><a id="l04003" name="l04003"></a><span class="lineno"> 4003</span>    InputEventsNextMouseSource = ImGuiMouseSource_Mouse;</div>
<div class="line"><a id="l04004" name="l04004"></a><span class="lineno"> 4004</span>    InputEventsNextEventId = 1;</div>
<div class="line"><a id="l04005" name="l04005"></a><span class="lineno"> 4005</span> </div>
<div class="line"><a id="l04006" name="l04006"></a><span class="lineno"> 4006</span>    WindowsActiveCount = 0;</div>
<div class="line"><a id="l04007" name="l04007"></a><span class="lineno"> 4007</span>    WindowsBorderHoverPadding = 0.0f;</div>
<div class="line"><a id="l04008" name="l04008"></a><span class="lineno"> 4008</span>    CurrentWindow = NULL;</div>
<div class="line"><a id="l04009" name="l04009"></a><span class="lineno"> 4009</span>    HoveredWindow = NULL;</div>
<div class="line"><a id="l04010" name="l04010"></a><span class="lineno"> 4010</span>    HoveredWindowUnderMovingWindow = NULL;</div>
<div class="line"><a id="l04011" name="l04011"></a><span class="lineno"> 4011</span>    HoveredWindowBeforeClear = NULL;</div>
<div class="line"><a id="l04012" name="l04012"></a><span class="lineno"> 4012</span>    MovingWindow = NULL;</div>
<div class="line"><a id="l04013" name="l04013"></a><span class="lineno"> 4013</span>    WheelingWindow = NULL;</div>
<div class="line"><a id="l04014" name="l04014"></a><span class="lineno"> 4014</span>    WheelingWindowStartFrame = WheelingWindowScrolledFrame = -1;</div>
<div class="line"><a id="l04015" name="l04015"></a><span class="lineno"> 4015</span>    WheelingWindowReleaseTimer = 0.0f;</div>
<div class="line"><a id="l04016" name="l04016"></a><span class="lineno"> 4016</span> </div>
<div class="line"><a id="l04017" name="l04017"></a><span class="lineno"> 4017</span>    DebugDrawIdConflicts = 0;</div>
<div class="line"><a id="l04018" name="l04018"></a><span class="lineno"> 4018</span>    DebugHookIdInfo = 0;</div>
<div class="line"><a id="l04019" name="l04019"></a><span class="lineno"> 4019</span>    HoveredId = HoveredIdPreviousFrame = 0;</div>
<div class="line"><a id="l04020" name="l04020"></a><span class="lineno"> 4020</span>    HoveredIdPreviousFrameItemCount = 0;</div>
<div class="line"><a id="l04021" name="l04021"></a><span class="lineno"> 4021</span>    HoveredIdAllowOverlap = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04022" name="l04022"></a><span class="lineno"> 4022</span>    HoveredIdIsDisabled = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04023" name="l04023"></a><span class="lineno"> 4023</span>    HoveredIdTimer = HoveredIdNotActiveTimer = 0.0f;</div>
<div class="line"><a id="l04024" name="l04024"></a><span class="lineno"> 4024</span>    ItemUnclipByLog = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04025" name="l04025"></a><span class="lineno"> 4025</span>    ActiveId = 0;</div>
<div class="line"><a id="l04026" name="l04026"></a><span class="lineno"> 4026</span>    ActiveIdIsAlive = 0;</div>
<div class="line"><a id="l04027" name="l04027"></a><span class="lineno"> 4027</span>    ActiveIdTimer = 0.0f;</div>
<div class="line"><a id="l04028" name="l04028"></a><span class="lineno"> 4028</span>    ActiveIdIsJustActivated = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04029" name="l04029"></a><span class="lineno"> 4029</span>    ActiveIdAllowOverlap = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04030" name="l04030"></a><span class="lineno"> 4030</span>    ActiveIdNoClearOnFocusLoss = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04031" name="l04031"></a><span class="lineno"> 4031</span>    ActiveIdHasBeenPressedBefore = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04032" name="l04032"></a><span class="lineno"> 4032</span>    ActiveIdHasBeenEditedBefore = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04033" name="l04033"></a><span class="lineno"> 4033</span>    ActiveIdHasBeenEditedThisFrame = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04034" name="l04034"></a><span class="lineno"> 4034</span>    ActiveIdFromShortcut = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04035" name="l04035"></a><span class="lineno"> 4035</span>    ActiveIdClickOffset = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(-1, -1);</div>
<div class="line"><a id="l04036" name="l04036"></a><span class="lineno"> 4036</span>    ActiveIdWindow = NULL;</div>
<div class="line"><a id="l04037" name="l04037"></a><span class="lineno"> 4037</span>    ActiveIdSource = ImGuiInputSource_None;</div>
<div class="line"><a id="l04038" name="l04038"></a><span class="lineno"> 4038</span>    ActiveIdMouseButton = -1;</div>
<div class="line"><a id="l04039" name="l04039"></a><span class="lineno"> 4039</span>    ActiveIdPreviousFrame = 0;</div>
<div class="line"><a id="l04040" name="l04040"></a><span class="lineno"> 4040</span>    memset(&amp;DeactivatedItemData, 0, <span class="keyword">sizeof</span>(DeactivatedItemData));</div>
<div class="line"><a id="l04041" name="l04041"></a><span class="lineno"> 4041</span>    memset(&amp;ActiveIdValueOnActivation, 0, <span class="keyword">sizeof</span>(ActiveIdValueOnActivation));</div>
<div class="line"><a id="l04042" name="l04042"></a><span class="lineno"> 4042</span>    LastActiveId = 0;</div>
<div class="line"><a id="l04043" name="l04043"></a><span class="lineno"> 4043</span>    LastActiveIdTimer = 0.0f;</div>
<div class="line"><a id="l04044" name="l04044"></a><span class="lineno"> 4044</span> </div>
<div class="line"><a id="l04045" name="l04045"></a><span class="lineno"> 4045</span>    LastKeyboardKeyPressTime = LastKeyModsChangeTime = LastKeyModsChangeFromNoneTime = -1.0;</div>
<div class="line"><a id="l04046" name="l04046"></a><span class="lineno"> 4046</span> </div>
<div class="line"><a id="l04047" name="l04047"></a><span class="lineno"> 4047</span>    ActiveIdUsingNavDirMask = 0x00;</div>
<div class="line"><a id="l04048" name="l04048"></a><span class="lineno"> 4048</span>    ActiveIdUsingAllKeyboardKeys = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04049" name="l04049"></a><span class="lineno"> 4049</span> </div>
<div class="line"><a id="l04050" name="l04050"></a><span class="lineno"> 4050</span>    CurrentFocusScopeId = 0;</div>
<div class="line"><a id="l04051" name="l04051"></a><span class="lineno"> 4051</span>    CurrentItemFlags = ImGuiItemFlags_None;</div>
<div class="line"><a id="l04052" name="l04052"></a><span class="lineno"> 4052</span>    DebugShowGroupRects = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04053" name="l04053"></a><span class="lineno"> 4053</span> </div>
<div class="line"><a id="l04054" name="l04054"></a><span class="lineno"> 4054</span>    CurrentViewport = NULL;</div>
<div class="line"><a id="l04055" name="l04055"></a><span class="lineno"> 4055</span>    MouseViewport = MouseLastHoveredViewport = NULL;</div>
<div class="line"><a id="l04056" name="l04056"></a><span class="lineno"> 4056</span>    PlatformLastFocusedViewportId = 0;</div>
<div class="line"><a id="l04057" name="l04057"></a><span class="lineno"> 4057</span>    ViewportCreatedCount = PlatformWindowsCreatedCount = 0;</div>
<div class="line"><a id="l04058" name="l04058"></a><span class="lineno"> 4058</span>    ViewportFocusedStampCount = 0;</div>
<div class="line"><a id="l04059" name="l04059"></a><span class="lineno"> 4059</span> </div>
<div class="line"><a id="l04060" name="l04060"></a><span class="lineno"> 4060</span>    NavCursorVisible = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04061" name="l04061"></a><span class="lineno"> 4061</span>    NavHighlightItemUnderNav = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04062" name="l04062"></a><span class="lineno"> 4062</span>    NavMousePosDirty = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04063" name="l04063"></a><span class="lineno"> 4063</span>    NavIdIsAlive = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04064" name="l04064"></a><span class="lineno"> 4064</span>    NavId = 0;</div>
<div class="line"><a id="l04065" name="l04065"></a><span class="lineno"> 4065</span>    NavWindow = NULL;</div>
<div class="line"><a id="l04066" name="l04066"></a><span class="lineno"> 4066</span>    NavFocusScopeId = NavActivateId = NavActivateDownId = NavActivatePressedId = 0;</div>
<div class="line"><a id="l04067" name="l04067"></a><span class="lineno"> 4067</span>    NavLayer = ImGuiNavLayer_Main;</div>
<div class="line"><a id="l04068" name="l04068"></a><span class="lineno"> 4068</span>    NavNextActivateId = 0;</div>
<div class="line"><a id="l04069" name="l04069"></a><span class="lineno"> 4069</span>    NavActivateFlags = NavNextActivateFlags = ImGuiActivateFlags_None;</div>
<div class="line"><a id="l04070" name="l04070"></a><span class="lineno"> 4070</span>    NavHighlightActivatedId = 0;</div>
<div class="line"><a id="l04071" name="l04071"></a><span class="lineno"> 4071</span>    NavHighlightActivatedTimer = 0.0f;</div>
<div class="line"><a id="l04072" name="l04072"></a><span class="lineno"> 4072</span>    NavInputSource = ImGuiInputSource_Keyboard;</div>
<div class="line"><a id="l04073" name="l04073"></a><span class="lineno"> 4073</span>    NavLastValidSelectionUserData = ImGuiSelectionUserData_Invalid;</div>
<div class="line"><a id="l04074" name="l04074"></a><span class="lineno"> 4074</span>    NavCursorHideFrames = 0;</div>
<div class="line"><a id="l04075" name="l04075"></a><span class="lineno"> 4075</span> </div>
<div class="line"><a id="l04076" name="l04076"></a><span class="lineno"> 4076</span>    NavAnyRequest = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04077" name="l04077"></a><span class="lineno"> 4077</span>    NavInitRequest = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04078" name="l04078"></a><span class="lineno"> 4078</span>    NavInitRequestFromMove = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04079" name="l04079"></a><span class="lineno"> 4079</span>    NavMoveSubmitted = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04080" name="l04080"></a><span class="lineno"> 4080</span>    NavMoveScoringItems = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04081" name="l04081"></a><span class="lineno"> 4081</span>    NavMoveForwardToNextFrame = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04082" name="l04082"></a><span class="lineno"> 4082</span>    NavMoveFlags = ImGuiNavMoveFlags_None;</div>
<div class="line"><a id="l04083" name="l04083"></a><span class="lineno"> 4083</span>    NavMoveScrollFlags = ImGuiScrollFlags_None;</div>
<div class="line"><a id="l04084" name="l04084"></a><span class="lineno"> 4084</span>    NavMoveKeyMods = ImGuiMod_None;</div>
<div class="line"><a id="l04085" name="l04085"></a><span class="lineno"> 4085</span>    NavMoveDir = NavMoveDirForDebug = NavMoveClipDir = ImGuiDir_None;</div>
<div class="line"><a id="l04086" name="l04086"></a><span class="lineno"> 4086</span>    NavScoringDebugCount = 0;</div>
<div class="line"><a id="l04087" name="l04087"></a><span class="lineno"> 4087</span>    NavTabbingDir = 0;</div>
<div class="line"><a id="l04088" name="l04088"></a><span class="lineno"> 4088</span>    NavTabbingCounter = 0;</div>
<div class="line"><a id="l04089" name="l04089"></a><span class="lineno"> 4089</span> </div>
<div class="line"><a id="l04090" name="l04090"></a><span class="lineno"> 4090</span>    NavJustMovedFromFocusScopeId = NavJustMovedToId = NavJustMovedToFocusScopeId = 0;</div>
<div class="line"><a id="l04091" name="l04091"></a><span class="lineno"> 4091</span>    NavJustMovedToKeyMods = ImGuiMod_None;</div>
<div class="line"><a id="l04092" name="l04092"></a><span class="lineno"> 4092</span>    NavJustMovedToIsTabbing = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04093" name="l04093"></a><span class="lineno"> 4093</span>    NavJustMovedToHasSelectionData = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04094" name="l04094"></a><span class="lineno"> 4094</span> </div>
<div class="line"><a id="l04095" name="l04095"></a><span class="lineno"> 4095</span>    <span class="comment">// All platforms use Ctrl+Tab but Ctrl&lt;&gt;Super are swapped on Mac...</span></div>
<div class="line"><a id="l04096" name="l04096"></a><span class="lineno"> 4096</span>    <span class="comment">// FIXME: Because this value is stored, it annoyingly interfere with toggling io.ConfigMacOSXBehaviors updating this..</span></div>
<div class="line"><a id="l04097" name="l04097"></a><span class="lineno"> 4097</span>    ConfigNavWindowingWithGamepad = <span class="keyword">true</span>;</div>
<div class="line"><a id="l04098" name="l04098"></a><span class="lineno"> 4098</span>    ConfigNavWindowingKeyNext = IO.ConfigMacOSXBehaviors ? (ImGuiMod_Super | ImGuiKey_Tab) : (ImGuiMod_Ctrl | ImGuiKey_Tab);</div>
<div class="line"><a id="l04099" name="l04099"></a><span class="lineno"> 4099</span>    ConfigNavWindowingKeyPrev = IO.ConfigMacOSXBehaviors ? (ImGuiMod_Super | ImGuiMod_Shift | ImGuiKey_Tab) : (ImGuiMod_Ctrl | ImGuiMod_Shift | ImGuiKey_Tab);</div>
<div class="line"><a id="l04100" name="l04100"></a><span class="lineno"> 4100</span>    NavWindowingTarget = NavWindowingTargetAnim = NavWindowingListWindow = NULL;</div>
<div class="line"><a id="l04101" name="l04101"></a><span class="lineno"> 4101</span>    NavWindowingInputSource = ImGuiInputSource_None;</div>
<div class="line"><a id="l04102" name="l04102"></a><span class="lineno"> 4102</span>    NavWindowingTimer = NavWindowingHighlightAlpha = 0.0f;</div>
<div class="line"><a id="l04103" name="l04103"></a><span class="lineno"> 4103</span>    NavWindowingToggleLayer = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04104" name="l04104"></a><span class="lineno"> 4104</span>    NavWindowingToggleKey = ImGuiKey_None;</div>
<div class="line"><a id="l04105" name="l04105"></a><span class="lineno"> 4105</span> </div>
<div class="line"><a id="l04106" name="l04106"></a><span class="lineno"> 4106</span>    DimBgRatio = 0.0f;</div>
<div class="line"><a id="l04107" name="l04107"></a><span class="lineno"> 4107</span> </div>
<div class="line"><a id="l04108" name="l04108"></a><span class="lineno"> 4108</span>    DragDropActive = DragDropWithinSource = DragDropWithinTarget = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04109" name="l04109"></a><span class="lineno"> 4109</span>    DragDropSourceFlags = ImGuiDragDropFlags_None;</div>
<div class="line"><a id="l04110" name="l04110"></a><span class="lineno"> 4110</span>    DragDropSourceFrameCount = -1;</div>
<div class="line"><a id="l04111" name="l04111"></a><span class="lineno"> 4111</span>    DragDropMouseButton = -1;</div>
<div class="line"><a id="l04112" name="l04112"></a><span class="lineno"> 4112</span>    DragDropTargetId = 0;</div>
<div class="line"><a id="l04113" name="l04113"></a><span class="lineno"> 4113</span>    DragDropAcceptFlags = ImGuiDragDropFlags_None;</div>
<div class="line"><a id="l04114" name="l04114"></a><span class="lineno"> 4114</span>    DragDropAcceptIdCurrRectSurface = 0.0f;</div>
<div class="line"><a id="l04115" name="l04115"></a><span class="lineno"> 4115</span>    DragDropAcceptIdPrev = DragDropAcceptIdCurr = 0;</div>
<div class="line"><a id="l04116" name="l04116"></a><span class="lineno"> 4116</span>    DragDropAcceptFrameCount = -1;</div>
<div class="line"><a id="l04117" name="l04117"></a><span class="lineno"> 4117</span>    DragDropHoldJustPressedId = 0;</div>
<div class="line"><a id="l04118" name="l04118"></a><span class="lineno"> 4118</span>    memset(DragDropPayloadBufLocal, 0, <span class="keyword">sizeof</span>(DragDropPayloadBufLocal));</div>
<div class="line"><a id="l04119" name="l04119"></a><span class="lineno"> 4119</span> </div>
<div class="line"><a id="l04120" name="l04120"></a><span class="lineno"> 4120</span>    ClipperTempDataStacked = 0;</div>
<div class="line"><a id="l04121" name="l04121"></a><span class="lineno"> 4121</span> </div>
<div class="line"><a id="l04122" name="l04122"></a><span class="lineno"> 4122</span>    CurrentTable = NULL;</div>
<div class="line"><a id="l04123" name="l04123"></a><span class="lineno"> 4123</span>    TablesTempDataStacked = 0;</div>
<div class="line"><a id="l04124" name="l04124"></a><span class="lineno"> 4124</span>    CurrentTabBar = NULL;</div>
<div class="line"><a id="l04125" name="l04125"></a><span class="lineno"> 4125</span>    CurrentMultiSelect = NULL;</div>
<div class="line"><a id="l04126" name="l04126"></a><span class="lineno"> 4126</span>    MultiSelectTempDataStacked = 0;</div>
<div class="line"><a id="l04127" name="l04127"></a><span class="lineno"> 4127</span> </div>
<div class="line"><a id="l04128" name="l04128"></a><span class="lineno"> 4128</span>    HoverItemDelayId = HoverItemDelayIdPreviousFrame = HoverItemUnlockedStationaryId = HoverWindowUnlockedStationaryId = 0;</div>
<div class="line"><a id="l04129" name="l04129"></a><span class="lineno"> 4129</span>    HoverItemDelayTimer = HoverItemDelayClearTimer = 0.0f;</div>
<div class="line"><a id="l04130" name="l04130"></a><span class="lineno"> 4130</span> </div>
<div class="line"><a id="l04131" name="l04131"></a><span class="lineno"> 4131</span>    MouseCursor = ImGuiMouseCursor_Arrow;</div>
<div class="line"><a id="l04132" name="l04132"></a><span class="lineno"> 4132</span>    MouseStationaryTimer = 0.0f;</div>
<div class="line"><a id="l04133" name="l04133"></a><span class="lineno"> 4133</span> </div>
<div class="line"><a id="l04134" name="l04134"></a><span class="lineno"> 4134</span>    TempInputId = 0;</div>
<div class="line"><a id="l04135" name="l04135"></a><span class="lineno"> 4135</span>    memset(&amp;DataTypeZeroValue, 0, <span class="keyword">sizeof</span>(DataTypeZeroValue));</div>
<div class="line"><a id="l04136" name="l04136"></a><span class="lineno"> 4136</span>    BeginMenuDepth = BeginComboDepth = 0;</div>
<div class="line"><a id="l04137" name="l04137"></a><span class="lineno"> 4137</span>    ColorEditOptions = ImGuiColorEditFlags_DefaultOptions_;</div>
<div class="line"><a id="l04138" name="l04138"></a><span class="lineno"> 4138</span>    ColorEditCurrentID = ColorEditSavedID = 0;</div>
<div class="line"><a id="l04139" name="l04139"></a><span class="lineno"> 4139</span>    ColorEditSavedHue = ColorEditSavedSat = 0.0f;</div>
<div class="line"><a id="l04140" name="l04140"></a><span class="lineno"> 4140</span>    ColorEditSavedColor = 0;</div>
<div class="line"><a id="l04141" name="l04141"></a><span class="lineno"> 4141</span>    WindowResizeRelativeMode = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04142" name="l04142"></a><span class="lineno"> 4142</span>    ScrollbarSeekMode = 0;</div>
<div class="line"><a id="l04143" name="l04143"></a><span class="lineno"> 4143</span>    ScrollbarClickDeltaToGrabCenter = 0.0f;</div>
<div class="line"><a id="l04144" name="l04144"></a><span class="lineno"> 4144</span>    SliderGrabClickOffset = 0.0f;</div>
<div class="line"><a id="l04145" name="l04145"></a><span class="lineno"> 4145</span>    SliderCurrentAccum = 0.0f;</div>
<div class="line"><a id="l04146" name="l04146"></a><span class="lineno"> 4146</span>    SliderCurrentAccumDirty = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04147" name="l04147"></a><span class="lineno"> 4147</span>    DragCurrentAccumDirty = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04148" name="l04148"></a><span class="lineno"> 4148</span>    DragCurrentAccum = 0.0f;</div>
<div class="line"><a id="l04149" name="l04149"></a><span class="lineno"> 4149</span>    DragSpeedDefaultRatio = 1.0f / 100.0f;</div>
<div class="line"><a id="l04150" name="l04150"></a><span class="lineno"> 4150</span>    DisabledAlphaBackup = 0.0f;</div>
<div class="line"><a id="l04151" name="l04151"></a><span class="lineno"> 4151</span>    DisabledStackSize = 0;</div>
<div class="line"><a id="l04152" name="l04152"></a><span class="lineno"> 4152</span>    TooltipOverrideCount = 0;</div>
<div class="line"><a id="l04153" name="l04153"></a><span class="lineno"> 4153</span>    TooltipPreviousWindow = NULL;</div>
<div class="line"><a id="l04154" name="l04154"></a><span class="lineno"> 4154</span> </div>
<div class="line"><a id="l04155" name="l04155"></a><span class="lineno"> 4155</span>    PlatformImeData.InputPos = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, 0.0f);</div>
<div class="line"><a id="l04156" name="l04156"></a><span class="lineno"> 4156</span>    PlatformImeDataPrev.InputPos = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(-1.0f, -1.0f); <span class="comment">// Different to ensure initial submission</span></div>
<div class="line"><a id="l04157" name="l04157"></a><span class="lineno"> 4157</span>    PlatformImeViewport = 0;</div>
<div class="line"><a id="l04158" name="l04158"></a><span class="lineno"> 4158</span> </div>
<div class="line"><a id="l04159" name="l04159"></a><span class="lineno"> 4159</span>    DockNodeWindowMenuHandler = NULL;</div>
<div class="line"><a id="l04160" name="l04160"></a><span class="lineno"> 4160</span> </div>
<div class="line"><a id="l04161" name="l04161"></a><span class="lineno"> 4161</span>    SettingsLoaded = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04162" name="l04162"></a><span class="lineno"> 4162</span>    SettingsDirtyTimer = 0.0f;</div>
<div class="line"><a id="l04163" name="l04163"></a><span class="lineno"> 4163</span>    HookIdNext = 0;</div>
<div class="line"><a id="l04164" name="l04164"></a><span class="lineno"> 4164</span> </div>
<div class="line"><a id="l04165" name="l04165"></a><span class="lineno"> 4165</span>    memset(LocalizationTable, 0, <span class="keyword">sizeof</span>(LocalizationTable));</div>
<div class="line"><a id="l04166" name="l04166"></a><span class="lineno"> 4166</span> </div>
<div class="line"><a id="l04167" name="l04167"></a><span class="lineno"> 4167</span>    LogEnabled = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04168" name="l04168"></a><span class="lineno"> 4168</span>    LogFlags = ImGuiLogFlags_None;</div>
<div class="line"><a id="l04169" name="l04169"></a><span class="lineno"> 4169</span>    LogWindow = NULL;</div>
<div class="line"><a id="l04170" name="l04170"></a><span class="lineno"> 4170</span>    LogNextPrefix = LogNextSuffix = NULL;</div>
<div class="line"><a id="l04171" name="l04171"></a><span class="lineno"> 4171</span>    LogFile = NULL;</div>
<div class="line"><a id="l04172" name="l04172"></a><span class="lineno"> 4172</span>    LogLinePosY = FLT_MAX;</div>
<div class="line"><a id="l04173" name="l04173"></a><span class="lineno"> 4173</span>    LogLineFirstItem = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04174" name="l04174"></a><span class="lineno"> 4174</span>    LogDepthRef = 0;</div>
<div class="line"><a id="l04175" name="l04175"></a><span class="lineno"> 4175</span>    LogDepthToExpand = LogDepthToExpandDefault = 2;</div>
<div class="line"><a id="l04176" name="l04176"></a><span class="lineno"> 4176</span> </div>
<div class="line"><a id="l04177" name="l04177"></a><span class="lineno"> 4177</span>    ErrorCallback = NULL;</div>
<div class="line"><a id="l04178" name="l04178"></a><span class="lineno"> 4178</span>    ErrorCallbackUserData = NULL;</div>
<div class="line"><a id="l04179" name="l04179"></a><span class="lineno"> 4179</span>    ErrorFirst = <span class="keyword">true</span>;</div>
<div class="line"><a id="l04180" name="l04180"></a><span class="lineno"> 4180</span>    ErrorCountCurrentFrame = 0;</div>
<div class="line"><a id="l04181" name="l04181"></a><span class="lineno"> 4181</span>    StackSizesInBeginForCurrentWindow = NULL;</div>
<div class="line"><a id="l04182" name="l04182"></a><span class="lineno"> 4182</span> </div>
<div class="line"><a id="l04183" name="l04183"></a><span class="lineno"> 4183</span>    DebugDrawIdConflictsCount = 0;</div>
<div class="line"><a id="l04184" name="l04184"></a><span class="lineno"> 4184</span>    DebugLogFlags = ImGuiDebugLogFlags_EventError | ImGuiDebugLogFlags_OutputToTTY;</div>
<div class="line"><a id="l04185" name="l04185"></a><span class="lineno"> 4185</span>    DebugLocateId = 0;</div>
<div class="line"><a id="l04186" name="l04186"></a><span class="lineno"> 4186</span>    DebugLogSkippedErrors = 0;</div>
<div class="line"><a id="l04187" name="l04187"></a><span class="lineno"> 4187</span>    DebugLogAutoDisableFlags = ImGuiDebugLogFlags_None;</div>
<div class="line"><a id="l04188" name="l04188"></a><span class="lineno"> 4188</span>    DebugLogAutoDisableFrames = 0;</div>
<div class="line"><a id="l04189" name="l04189"></a><span class="lineno"> 4189</span>    DebugLocateFrames = 0;</div>
<div class="line"><a id="l04190" name="l04190"></a><span class="lineno"> 4190</span>    DebugBeginReturnValueCullDepth = -1;</div>
<div class="line"><a id="l04191" name="l04191"></a><span class="lineno"> 4191</span>    DebugItemPickerActive = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04192" name="l04192"></a><span class="lineno"> 4192</span>    DebugItemPickerMouseButton = ImGuiMouseButton_Left;</div>
<div class="line"><a id="l04193" name="l04193"></a><span class="lineno"> 4193</span>    DebugItemPickerBreakId = 0;</div>
<div class="line"><a id="l04194" name="l04194"></a><span class="lineno"> 4194</span>    DebugFlashStyleColorTime = 0.0f;</div>
<div class="line"><a id="l04195" name="l04195"></a><span class="lineno"> 4195</span>    DebugFlashStyleColorIdx = ImGuiCol_COUNT;</div>
<div class="line"><a id="l04196" name="l04196"></a><span class="lineno"> 4196</span>    DebugHoveredDockNode = NULL;</div>
<div class="line"><a id="l04197" name="l04197"></a><span class="lineno"> 4197</span> </div>
<div class="line"><a id="l04198" name="l04198"></a><span class="lineno"> 4198</span>    <span class="comment">// Same as DebugBreakClearData(). Those fields are scattered in their respective subsystem to stay in hot-data locations</span></div>
<div class="line"><a id="l04199" name="l04199"></a><span class="lineno"> 4199</span>    DebugBreakInWindow = 0;</div>
<div class="line"><a id="l04200" name="l04200"></a><span class="lineno"> 4200</span>    DebugBreakInTable = 0;</div>
<div class="line"><a id="l04201" name="l04201"></a><span class="lineno"> 4201</span>    DebugBreakInLocateId = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04202" name="l04202"></a><span class="lineno"> 4202</span>    DebugBreakKeyChord = ImGuiKey_Pause;</div>
<div class="line"><a id="l04203" name="l04203"></a><span class="lineno"> 4203</span>    DebugBreakInShortcutRouting = ImGuiKey_None;</div>
<div class="line"><a id="l04204" name="l04204"></a><span class="lineno"> 4204</span> </div>
<div class="line"><a id="l04205" name="l04205"></a><span class="lineno"> 4205</span>    memset(FramerateSecPerFrame, 0, <span class="keyword">sizeof</span>(FramerateSecPerFrame));</div>
<div class="line"><a id="l04206" name="l04206"></a><span class="lineno"> 4206</span>    FramerateSecPerFrameIdx = FramerateSecPerFrameCount = 0;</div>
<div class="line"><a id="l04207" name="l04207"></a><span class="lineno"> 4207</span>    FramerateSecPerFrameAccum = 0.0f;</div>
<div class="line"><a id="l04208" name="l04208"></a><span class="lineno"> 4208</span>    WantCaptureMouseNextFrame = WantCaptureKeyboardNextFrame = WantTextInputNextFrame = -1;</div>
<div class="line"><a id="l04209" name="l04209"></a><span class="lineno"> 4209</span>    memset(TempKeychordName, 0, <span class="keyword">sizeof</span>(TempKeychordName));</div>
<div class="line"><a id="l04210" name="l04210"></a><span class="lineno"> 4210</span>}</div>
<div class="line"><a id="l04211" name="l04211"></a><span class="lineno"> 4211</span> </div>
<div class="line"><a id="l04212" name="l04212"></a><span class="lineno"> 4212</span><span class="keywordtype">void</span> ImGui::Initialize()</div>
<div class="line"><a id="l04213" name="l04213"></a><span class="lineno"> 4213</span>{</div>
<div class="line"><a id="l04214" name="l04214"></a><span class="lineno"> 4214</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l04215" name="l04215"></a><span class="lineno"> 4215</span>    IM_ASSERT(!g.Initialized &amp;&amp; !g.SettingsLoaded);</div>
<div class="line"><a id="l04216" name="l04216"></a><span class="lineno"> 4216</span> </div>
<div class="line"><a id="l04217" name="l04217"></a><span class="lineno"> 4217</span>    <span class="comment">// Add .ini handle for ImGuiWindow and ImGuiTable types</span></div>
<div class="line"><a id="l04218" name="l04218"></a><span class="lineno"> 4218</span>    {</div>
<div class="line"><a id="l04219" name="l04219"></a><span class="lineno"> 4219</span>        <a class="code hl_struct" href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a> ini_handler;</div>
<div class="line"><a id="l04220" name="l04220"></a><span class="lineno"> 4220</span>        ini_handler.TypeName = <span class="stringliteral">&quot;Window&quot;</span>;</div>
<div class="line"><a id="l04221" name="l04221"></a><span class="lineno"> 4221</span>        ini_handler.TypeHash = ImHashStr(<span class="stringliteral">&quot;Window&quot;</span>);</div>
<div class="line"><a id="l04222" name="l04222"></a><span class="lineno"> 4222</span>        ini_handler.ClearAllFn = WindowSettingsHandler_ClearAll;</div>
<div class="line"><a id="l04223" name="l04223"></a><span class="lineno"> 4223</span>        ini_handler.ReadOpenFn = WindowSettingsHandler_ReadOpen;</div>
<div class="line"><a id="l04224" name="l04224"></a><span class="lineno"> 4224</span>        ini_handler.ReadLineFn = WindowSettingsHandler_ReadLine;</div>
<div class="line"><a id="l04225" name="l04225"></a><span class="lineno"> 4225</span>        ini_handler.ApplyAllFn = WindowSettingsHandler_ApplyAll;</div>
<div class="line"><a id="l04226" name="l04226"></a><span class="lineno"> 4226</span>        ini_handler.WriteAllFn = WindowSettingsHandler_WriteAll;</div>
<div class="line"><a id="l04227" name="l04227"></a><span class="lineno"> 4227</span>        AddSettingsHandler(&amp;ini_handler);</div>
<div class="line"><a id="l04228" name="l04228"></a><span class="lineno"> 4228</span>    }</div>
<div class="line"><a id="l04229" name="l04229"></a><span class="lineno"> 4229</span>    TableSettingsAddSettingsHandler();</div>
<div class="line"><a id="l04230" name="l04230"></a><span class="lineno"> 4230</span> </div>
<div class="line"><a id="l04231" name="l04231"></a><span class="lineno"> 4231</span>    <span class="comment">// Setup default localization table</span></div>
<div class="line"><a id="l04232" name="l04232"></a><span class="lineno"> 4232</span>    LocalizeRegisterEntries(GLocalizationEntriesEnUS, IM_ARRAYSIZE(GLocalizationEntriesEnUS));</div>
<div class="line"><a id="l04233" name="l04233"></a><span class="lineno"> 4233</span> </div>
<div class="line"><a id="l04234" name="l04234"></a><span class="lineno"> 4234</span>    <span class="comment">// Setup default ImGuiPlatformIO clipboard/IME handlers.</span></div>
<div class="line"><a id="l04235" name="l04235"></a><span class="lineno"> 4235</span>    g.PlatformIO.Platform_GetClipboardTextFn = Platform_GetClipboardTextFn_DefaultImpl;    <span class="comment">// Platform dependent default implementations</span></div>
<div class="line"><a id="l04236" name="l04236"></a><span class="lineno"> 4236</span>    g.PlatformIO.Platform_SetClipboardTextFn = Platform_SetClipboardTextFn_DefaultImpl;</div>
<div class="line"><a id="l04237" name="l04237"></a><span class="lineno"> 4237</span>    g.PlatformIO.Platform_OpenInShellFn = Platform_OpenInShellFn_DefaultImpl;</div>
<div class="line"><a id="l04238" name="l04238"></a><span class="lineno"> 4238</span>    g.PlatformIO.Platform_SetImeDataFn = Platform_SetImeDataFn_DefaultImpl;</div>
<div class="line"><a id="l04239" name="l04239"></a><span class="lineno"> 4239</span> </div>
<div class="line"><a id="l04240" name="l04240"></a><span class="lineno"> 4240</span>    <span class="comment">// Create default viewport</span></div>
<div class="line"><a id="l04241" name="l04241"></a><span class="lineno"> 4241</span>    <a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport = IM_NEW(<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>)();</div>
<div class="line"><a id="l04242" name="l04242"></a><span class="lineno"> 4242</span>    viewport-&gt;ID = IMGUI_VIEWPORT_DEFAULT_ID;</div>
<div class="line"><a id="l04243" name="l04243"></a><span class="lineno"> 4243</span>    viewport-&gt;Idx = 0;</div>
<div class="line"><a id="l04244" name="l04244"></a><span class="lineno"> 4244</span>    viewport-&gt;PlatformWindowCreated = <span class="keyword">true</span>;</div>
<div class="line"><a id="l04245" name="l04245"></a><span class="lineno"> 4245</span>    viewport-&gt;Flags = ImGuiViewportFlags_OwnedByApp;</div>
<div class="line"><a id="l04246" name="l04246"></a><span class="lineno"> 4246</span>    g.Viewports.push_back(viewport);</div>
<div class="line"><a id="l04247" name="l04247"></a><span class="lineno"> 4247</span>    g.TempBuffer.resize(1024 * 3 + 1, 0);</div>
<div class="line"><a id="l04248" name="l04248"></a><span class="lineno"> 4248</span>    g.ViewportCreatedCount++;</div>
<div class="line"><a id="l04249" name="l04249"></a><span class="lineno"> 4249</span>    g.PlatformIO.Viewports.push_back(g.Viewports[0]);</div>
<div class="line"><a id="l04250" name="l04250"></a><span class="lineno"> 4250</span> </div>
<div class="line"><a id="l04251" name="l04251"></a><span class="lineno"> 4251</span>    <span class="comment">// Build KeysMayBeCharInput[] lookup table (1 bool per named key)</span></div>
<div class="line"><a id="l04252" name="l04252"></a><span class="lineno"> 4252</span>    <span class="keywordflow">for</span> (ImGuiKey key = ImGuiKey_NamedKey_BEGIN; key &lt; ImGuiKey_NamedKey_END; key = (ImGuiKey)(key + 1))</div>
<div class="line"><a id="l04253" name="l04253"></a><span class="lineno"> 4253</span>        <span class="keywordflow">if</span> ((key &gt;= ImGuiKey_0 &amp;&amp; key &lt;= ImGuiKey_9) || (key &gt;= ImGuiKey_A &amp;&amp; key &lt;= ImGuiKey_Z) || (key &gt;= ImGuiKey_Keypad0 &amp;&amp; key &lt;= ImGuiKey_Keypad9)</div>
<div class="line"><a id="l04254" name="l04254"></a><span class="lineno"> 4254</span>            || key == ImGuiKey_Tab || key == ImGuiKey_Space || key == ImGuiKey_Apostrophe || key == ImGuiKey_Comma || key == ImGuiKey_Minus || key == ImGuiKey_Period</div>
<div class="line"><a id="l04255" name="l04255"></a><span class="lineno"> 4255</span>            || key == ImGuiKey_Slash || key == ImGuiKey_Semicolon || key == ImGuiKey_Equal || key == ImGuiKey_LeftBracket || key == ImGuiKey_RightBracket || key == ImGuiKey_GraveAccent</div>
<div class="line"><a id="l04256" name="l04256"></a><span class="lineno"> 4256</span>            || key == ImGuiKey_KeypadDecimal || key == ImGuiKey_KeypadDivide || key == ImGuiKey_KeypadMultiply || key == ImGuiKey_KeypadSubtract || key == ImGuiKey_KeypadAdd || key == ImGuiKey_KeypadEqual)</div>
<div class="line"><a id="l04257" name="l04257"></a><span class="lineno"> 4257</span>            g.KeysMayBeCharInput.SetBit(key);</div>
<div class="line"><a id="l04258" name="l04258"></a><span class="lineno"> 4258</span> </div>
<div class="line"><a id="l04259" name="l04259"></a><span class="lineno"> 4259</span><span class="preprocessor">#ifdef IMGUI_HAS_DOCK</span></div>
<div class="line"><a id="l04260" name="l04260"></a><span class="lineno"> 4260</span>    <span class="comment">// Initialize Docking</span></div>
<div class="line"><a id="l04261" name="l04261"></a><span class="lineno"> 4261</span>    DockContextInitialize(&amp;g);</div>
<div class="line"><a id="l04262" name="l04262"></a><span class="lineno"> 4262</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l04263" name="l04263"></a><span class="lineno"> 4263</span> </div>
<div class="line"><a id="l04264" name="l04264"></a><span class="lineno"> 4264</span>    g.Initialized = <span class="keyword">true</span>;</div>
<div class="line"><a id="l04265" name="l04265"></a><span class="lineno"> 4265</span>}</div>
<div class="line"><a id="l04266" name="l04266"></a><span class="lineno"> 4266</span> </div>
<div class="line"><a id="l04267" name="l04267"></a><span class="lineno"> 4267</span><span class="comment">// This function is merely here to free heap allocations.</span></div>
<div class="line"><a id="l04268" name="l04268"></a><span class="lineno"> 4268</span><span class="keywordtype">void</span> ImGui::Shutdown()</div>
<div class="line"><a id="l04269" name="l04269"></a><span class="lineno"> 4269</span>{</div>
<div class="line"><a id="l04270" name="l04270"></a><span class="lineno"> 4270</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l04271" name="l04271"></a><span class="lineno"> 4271</span>    IM_ASSERT_USER_ERROR(g.IO.BackendPlatformUserData == NULL, <span class="stringliteral">&quot;Forgot to shutdown Platform backend?&quot;</span>);</div>
<div class="line"><a id="l04272" name="l04272"></a><span class="lineno"> 4272</span>    IM_ASSERT_USER_ERROR(g.IO.BackendRendererUserData == NULL, <span class="stringliteral">&quot;Forgot to shutdown Renderer backend?&quot;</span>);</div>
<div class="line"><a id="l04273" name="l04273"></a><span class="lineno"> 4273</span> </div>
<div class="line"><a id="l04274" name="l04274"></a><span class="lineno"> 4274</span>    <span class="comment">// The fonts atlas can be used prior to calling NewFrame(), so we clear it even if g.Initialized is FALSE (which would happen if we never called NewFrame)</span></div>
<div class="line"><a id="l04275" name="l04275"></a><span class="lineno"> 4275</span>    <span class="keywordflow">if</span> (g.IO.Fonts &amp;&amp; g.FontAtlasOwnedByContext)</div>
<div class="line"><a id="l04276" name="l04276"></a><span class="lineno"> 4276</span>    {</div>
<div class="line"><a id="l04277" name="l04277"></a><span class="lineno"> 4277</span>        g.IO.Fonts-&gt;Locked = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04278" name="l04278"></a><span class="lineno"> 4278</span>        IM_DELETE(g.IO.Fonts);</div>
<div class="line"><a id="l04279" name="l04279"></a><span class="lineno"> 4279</span>    }</div>
<div class="line"><a id="l04280" name="l04280"></a><span class="lineno"> 4280</span>    g.IO.Fonts = NULL;</div>
<div class="line"><a id="l04281" name="l04281"></a><span class="lineno"> 4281</span>    g.DrawListSharedData.TempBuffer.clear();</div>
<div class="line"><a id="l04282" name="l04282"></a><span class="lineno"> 4282</span> </div>
<div class="line"><a id="l04283" name="l04283"></a><span class="lineno"> 4283</span>    <span class="comment">// Cleanup of other data are conditional on actually having initialized Dear ImGui.</span></div>
<div class="line"><a id="l04284" name="l04284"></a><span class="lineno"> 4284</span>    <span class="keywordflow">if</span> (!g.Initialized)</div>
<div class="line"><a id="l04285" name="l04285"></a><span class="lineno"> 4285</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l04286" name="l04286"></a><span class="lineno"> 4286</span> </div>
<div class="line"><a id="l04287" name="l04287"></a><span class="lineno"> 4287</span>    <span class="comment">// Save settings (unless we haven&#39;t attempted to load them: CreateContext/DestroyContext without a call to NewFrame shouldn&#39;t save an empty file)</span></div>
<div class="line"><a id="l04288" name="l04288"></a><span class="lineno"> 4288</span>    <span class="keywordflow">if</span> (g.SettingsLoaded &amp;&amp; g.IO.IniFilename != NULL)</div>
<div class="line"><a id="l04289" name="l04289"></a><span class="lineno"> 4289</span>        SaveIniSettingsToDisk(g.IO.IniFilename);</div>
<div class="line"><a id="l04290" name="l04290"></a><span class="lineno"> 4290</span> </div>
<div class="line"><a id="l04291" name="l04291"></a><span class="lineno"> 4291</span>    <span class="comment">// Destroy platform windows</span></div>
<div class="line"><a id="l04292" name="l04292"></a><span class="lineno"> 4292</span>    DestroyPlatformWindows();</div>
<div class="line"><a id="l04293" name="l04293"></a><span class="lineno"> 4293</span> </div>
<div class="line"><a id="l04294" name="l04294"></a><span class="lineno"> 4294</span>    <span class="comment">// Shutdown extensions</span></div>
<div class="line"><a id="l04295" name="l04295"></a><span class="lineno"> 4295</span>    DockContextShutdown(&amp;g);</div>
<div class="line"><a id="l04296" name="l04296"></a><span class="lineno"> 4296</span> </div>
<div class="line"><a id="l04297" name="l04297"></a><span class="lineno"> 4297</span>    CallContextHooks(&amp;g, ImGuiContextHookType_Shutdown);</div>
<div class="line"><a id="l04298" name="l04298"></a><span class="lineno"> 4298</span> </div>
<div class="line"><a id="l04299" name="l04299"></a><span class="lineno"> 4299</span>    <span class="comment">// Clear everything else</span></div>
<div class="line"><a id="l04300" name="l04300"></a><span class="lineno"> 4300</span>    g.Windows.clear_delete();</div>
<div class="line"><a id="l04301" name="l04301"></a><span class="lineno"> 4301</span>    g.WindowsFocusOrder.clear();</div>
<div class="line"><a id="l04302" name="l04302"></a><span class="lineno"> 4302</span>    g.WindowsTempSortBuffer.clear();</div>
<div class="line"><a id="l04303" name="l04303"></a><span class="lineno"> 4303</span>    g.CurrentWindow = NULL;</div>
<div class="line"><a id="l04304" name="l04304"></a><span class="lineno"> 4304</span>    g.CurrentWindowStack.clear();</div>
<div class="line"><a id="l04305" name="l04305"></a><span class="lineno"> 4305</span>    g.WindowsById.Clear();</div>
<div class="line"><a id="l04306" name="l04306"></a><span class="lineno"> 4306</span>    g.NavWindow = NULL;</div>
<div class="line"><a id="l04307" name="l04307"></a><span class="lineno"> 4307</span>    g.HoveredWindow = g.HoveredWindowUnderMovingWindow = NULL;</div>
<div class="line"><a id="l04308" name="l04308"></a><span class="lineno"> 4308</span>    g.ActiveIdWindow = NULL;</div>
<div class="line"><a id="l04309" name="l04309"></a><span class="lineno"> 4309</span>    g.MovingWindow = NULL;</div>
<div class="line"><a id="l04310" name="l04310"></a><span class="lineno"> 4310</span> </div>
<div class="line"><a id="l04311" name="l04311"></a><span class="lineno"> 4311</span>    g.KeysRoutingTable.Clear();</div>
<div class="line"><a id="l04312" name="l04312"></a><span class="lineno"> 4312</span> </div>
<div class="line"><a id="l04313" name="l04313"></a><span class="lineno"> 4313</span>    g.ColorStack.clear();</div>
<div class="line"><a id="l04314" name="l04314"></a><span class="lineno"> 4314</span>    g.StyleVarStack.clear();</div>
<div class="line"><a id="l04315" name="l04315"></a><span class="lineno"> 4315</span>    g.FontStack.clear();</div>
<div class="line"><a id="l04316" name="l04316"></a><span class="lineno"> 4316</span>    g.OpenPopupStack.clear();</div>
<div class="line"><a id="l04317" name="l04317"></a><span class="lineno"> 4317</span>    g.BeginPopupStack.clear();</div>
<div class="line"><a id="l04318" name="l04318"></a><span class="lineno"> 4318</span>    g.TreeNodeStack.clear();</div>
<div class="line"><a id="l04319" name="l04319"></a><span class="lineno"> 4319</span> </div>
<div class="line"><a id="l04320" name="l04320"></a><span class="lineno"> 4320</span>    g.CurrentViewport = g.MouseViewport = g.MouseLastHoveredViewport = NULL;</div>
<div class="line"><a id="l04321" name="l04321"></a><span class="lineno"> 4321</span>    g.Viewports.clear_delete();</div>
<div class="line"><a id="l04322" name="l04322"></a><span class="lineno"> 4322</span> </div>
<div class="line"><a id="l04323" name="l04323"></a><span class="lineno"> 4323</span>    g.TabBars.Clear();</div>
<div class="line"><a id="l04324" name="l04324"></a><span class="lineno"> 4324</span>    g.CurrentTabBarStack.clear();</div>
<div class="line"><a id="l04325" name="l04325"></a><span class="lineno"> 4325</span>    g.ShrinkWidthBuffer.clear();</div>
<div class="line"><a id="l04326" name="l04326"></a><span class="lineno"> 4326</span> </div>
<div class="line"><a id="l04327" name="l04327"></a><span class="lineno"> 4327</span>    g.ClipperTempData.clear_destruct();</div>
<div class="line"><a id="l04328" name="l04328"></a><span class="lineno"> 4328</span> </div>
<div class="line"><a id="l04329" name="l04329"></a><span class="lineno"> 4329</span>    g.Tables.Clear();</div>
<div class="line"><a id="l04330" name="l04330"></a><span class="lineno"> 4330</span>    g.TablesTempData.clear_destruct();</div>
<div class="line"><a id="l04331" name="l04331"></a><span class="lineno"> 4331</span>    g.DrawChannelsTempMergeBuffer.clear();</div>
<div class="line"><a id="l04332" name="l04332"></a><span class="lineno"> 4332</span> </div>
<div class="line"><a id="l04333" name="l04333"></a><span class="lineno"> 4333</span>    g.MultiSelectStorage.Clear();</div>
<div class="line"><a id="l04334" name="l04334"></a><span class="lineno"> 4334</span>    g.MultiSelectTempData.clear_destruct();</div>
<div class="line"><a id="l04335" name="l04335"></a><span class="lineno"> 4335</span> </div>
<div class="line"><a id="l04336" name="l04336"></a><span class="lineno"> 4336</span>    g.ClipboardHandlerData.clear();</div>
<div class="line"><a id="l04337" name="l04337"></a><span class="lineno"> 4337</span>    g.MenusIdSubmittedThisFrame.clear();</div>
<div class="line"><a id="l04338" name="l04338"></a><span class="lineno"> 4338</span>    g.InputTextState.ClearFreeMemory();</div>
<div class="line"><a id="l04339" name="l04339"></a><span class="lineno"> 4339</span>    g.InputTextDeactivatedState.ClearFreeMemory();</div>
<div class="line"><a id="l04340" name="l04340"></a><span class="lineno"> 4340</span> </div>
<div class="line"><a id="l04341" name="l04341"></a><span class="lineno"> 4341</span>    g.SettingsWindows.clear();</div>
<div class="line"><a id="l04342" name="l04342"></a><span class="lineno"> 4342</span>    g.SettingsHandlers.clear();</div>
<div class="line"><a id="l04343" name="l04343"></a><span class="lineno"> 4343</span> </div>
<div class="line"><a id="l04344" name="l04344"></a><span class="lineno"> 4344</span>    <span class="keywordflow">if</span> (g.LogFile)</div>
<div class="line"><a id="l04345" name="l04345"></a><span class="lineno"> 4345</span>    {</div>
<div class="line"><a id="l04346" name="l04346"></a><span class="lineno"> 4346</span><span class="preprocessor">#ifndef IMGUI_DISABLE_TTY_FUNCTIONS</span></div>
<div class="line"><a id="l04347" name="l04347"></a><span class="lineno"> 4347</span>        <span class="keywordflow">if</span> (g.LogFile != stdout)</div>
<div class="line"><a id="l04348" name="l04348"></a><span class="lineno"> 4348</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l04349" name="l04349"></a><span class="lineno"> 4349</span>            ImFileClose(g.LogFile);</div>
<div class="line"><a id="l04350" name="l04350"></a><span class="lineno"> 4350</span>        g.LogFile = NULL;</div>
<div class="line"><a id="l04351" name="l04351"></a><span class="lineno"> 4351</span>    }</div>
<div class="line"><a id="l04352" name="l04352"></a><span class="lineno"> 4352</span>    g.LogBuffer.clear();</div>
<div class="line"><a id="l04353" name="l04353"></a><span class="lineno"> 4353</span>    g.DebugLogBuf.clear();</div>
<div class="line"><a id="l04354" name="l04354"></a><span class="lineno"> 4354</span>    g.DebugLogIndex.clear();</div>
<div class="line"><a id="l04355" name="l04355"></a><span class="lineno"> 4355</span> </div>
<div class="line"><a id="l04356" name="l04356"></a><span class="lineno"> 4356</span>    g.Initialized = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04357" name="l04357"></a><span class="lineno"> 4357</span>}</div>
<div class="line"><a id="l04358" name="l04358"></a><span class="lineno"> 4358</span> </div>
<div class="line"><a id="l04359" name="l04359"></a><span class="lineno"> 4359</span><span class="comment">// No specific ordering/dependency support, will see as needed</span></div>
<div class="line"><a id="l04360" name="l04360"></a><span class="lineno"> 4360</span>ImGuiID ImGui::AddContextHook(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiContextHook.html">ImGuiContextHook</a>* hook)</div>
<div class="line"><a id="l04361" name="l04361"></a><span class="lineno"> 4361</span>{</div>
<div class="line"><a id="l04362" name="l04362"></a><span class="lineno"> 4362</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *ctx;</div>
<div class="line"><a id="l04363" name="l04363"></a><span class="lineno"> 4363</span>    IM_ASSERT(hook-&gt;Callback != NULL &amp;&amp; hook-&gt;HookId == 0 &amp;&amp; hook-&gt;Type != ImGuiContextHookType_PendingRemoval_);</div>
<div class="line"><a id="l04364" name="l04364"></a><span class="lineno"> 4364</span>    g.Hooks.push_back(*hook);</div>
<div class="line"><a id="l04365" name="l04365"></a><span class="lineno"> 4365</span>    g.Hooks.back().HookId = ++g.HookIdNext;</div>
<div class="line"><a id="l04366" name="l04366"></a><span class="lineno"> 4366</span>    <span class="keywordflow">return</span> g.HookIdNext;</div>
<div class="line"><a id="l04367" name="l04367"></a><span class="lineno"> 4367</span>}</div>
<div class="line"><a id="l04368" name="l04368"></a><span class="lineno"> 4368</span> </div>
<div class="line"><a id="l04369" name="l04369"></a><span class="lineno"> 4369</span><span class="comment">// Deferred removal, avoiding issue with changing vector while iterating it</span></div>
<div class="line"><a id="l04370" name="l04370"></a><span class="lineno"> 4370</span><span class="keywordtype">void</span> ImGui::RemoveContextHook(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, ImGuiID hook_id)</div>
<div class="line"><a id="l04371" name="l04371"></a><span class="lineno"> 4371</span>{</div>
<div class="line"><a id="l04372" name="l04372"></a><span class="lineno"> 4372</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *ctx;</div>
<div class="line"><a id="l04373" name="l04373"></a><span class="lineno"> 4373</span>    IM_ASSERT(hook_id != 0);</div>
<div class="line"><a id="l04374" name="l04374"></a><span class="lineno"> 4374</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiContextHook.html">ImGuiContextHook</a>&amp; hook : g.Hooks)</div>
<div class="line"><a id="l04375" name="l04375"></a><span class="lineno"> 4375</span>        if (hook.HookId == hook_id)</div>
<div class="line"><a id="l04376" name="l04376"></a><span class="lineno"> 4376</span>            hook.Type = ImGuiContextHookType_PendingRemoval_;</div>
<div class="line"><a id="l04377" name="l04377"></a><span class="lineno"> 4377</span>}</div>
<div class="line"><a id="l04378" name="l04378"></a><span class="lineno"> 4378</span> </div>
<div class="line"><a id="l04379" name="l04379"></a><span class="lineno"> 4379</span><span class="comment">// Call context hooks (used by e.g. test engine)</span></div>
<div class="line"><a id="l04380" name="l04380"></a><span class="lineno"> 4380</span><span class="comment">// We assume a small number of hooks so all stored in same array</span></div>
<div class="line"><a id="l04381" name="l04381"></a><span class="lineno"> 4381</span><span class="keywordtype">void</span> ImGui::CallContextHooks(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, ImGuiContextHookType hook_type)</div>
<div class="line"><a id="l04382" name="l04382"></a><span class="lineno"> 4382</span>{</div>
<div class="line"><a id="l04383" name="l04383"></a><span class="lineno"> 4383</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *ctx;</div>
<div class="line"><a id="l04384" name="l04384"></a><span class="lineno"> 4384</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiContextHook.html">ImGuiContextHook</a>&amp; hook : g.Hooks)</div>
<div class="line"><a id="l04385" name="l04385"></a><span class="lineno"> 4385</span>        if (hook.Type == hook_type)</div>
<div class="line"><a id="l04386" name="l04386"></a><span class="lineno"> 4386</span>            hook.Callback(&amp;g, &amp;hook);</div>
<div class="line"><a id="l04387" name="l04387"></a><span class="lineno"> 4387</span>}</div>
<div class="line"><a id="l04388" name="l04388"></a><span class="lineno"> 4388</span> </div>
<div class="line"><a id="l04389" name="l04389"></a><span class="lineno"> 4389</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04390" name="l04390"></a><span class="lineno"> 4390</span><span class="comment">// [SECTION] MAIN CODE (most of the code! lots of stuff, needs tidying up!)</span></div>
<div class="line"><a id="l04391" name="l04391"></a><span class="lineno"> 4391</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04392" name="l04392"></a><span class="lineno"> 4392</span> </div>
<div class="line"><a id="l04393" name="l04393"></a><span class="lineno"> 4393</span><span class="comment">// ImGuiWindow is mostly a dumb struct. It merely has a constructor and a few helper methods</span></div>
<div class="line"><a id="l04394" name="l04394"></a><span class="lineno"> 4394</span>ImGuiWindow::ImGuiWindow(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <span class="keyword">const</span> <span class="keywordtype">char</span>* name) : DrawListInst(NULL)</div>
<div class="line"><a id="l04395" name="l04395"></a><span class="lineno"> 4395</span>{</div>
<div class="line"><a id="l04396" name="l04396"></a><span class="lineno"> 4396</span>    memset(<span class="keyword">this</span>, 0, <span class="keyword">sizeof</span>(*<span class="keyword">this</span>));</div>
<div class="line"><a id="l04397" name="l04397"></a><span class="lineno"> 4397</span>    Ctx = ctx;</div>
<div class="line"><a id="l04398" name="l04398"></a><span class="lineno"> 4398</span>    Name = ImStrdup(name);</div>
<div class="line"><a id="l04399" name="l04399"></a><span class="lineno"> 4399</span>    NameBufLen = (int)ImStrlen(name) + 1;</div>
<div class="line"><a id="l04400" name="l04400"></a><span class="lineno"> 4400</span>    ID = ImHashStr(name);</div>
<div class="line"><a id="l04401" name="l04401"></a><span class="lineno"> 4401</span>    IDStack.push_back(ID);</div>
<div class="line"><a id="l04402" name="l04402"></a><span class="lineno"> 4402</span>    ViewportAllowPlatformMonitorExtend = -1;</div>
<div class="line"><a id="l04403" name="l04403"></a><span class="lineno"> 4403</span>    ViewportPos = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(FLT_MAX, FLT_MAX);</div>
<div class="line"><a id="l04404" name="l04404"></a><span class="lineno"> 4404</span>    MoveId = GetID(<span class="stringliteral">&quot;#MOVE&quot;</span>);</div>
<div class="line"><a id="l04405" name="l04405"></a><span class="lineno"> 4405</span>    TabId = GetID(<span class="stringliteral">&quot;#TAB&quot;</span>);</div>
<div class="line"><a id="l04406" name="l04406"></a><span class="lineno"> 4406</span>    ScrollTarget = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(FLT_MAX, FLT_MAX);</div>
<div class="line"><a id="l04407" name="l04407"></a><span class="lineno"> 4407</span>    ScrollTargetCenterRatio = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.5f, 0.5f);</div>
<div class="line"><a id="l04408" name="l04408"></a><span class="lineno"> 4408</span>    AutoFitFramesX = AutoFitFramesY = -1;</div>
<div class="line"><a id="l04409" name="l04409"></a><span class="lineno"> 4409</span>    AutoPosLastDirection = ImGuiDir_None;</div>
<div class="line"><a id="l04410" name="l04410"></a><span class="lineno"> 4410</span>    SetWindowPosAllowFlags = SetWindowSizeAllowFlags = SetWindowCollapsedAllowFlags = SetWindowDockAllowFlags = 0;</div>
<div class="line"><a id="l04411" name="l04411"></a><span class="lineno"> 4411</span>    SetWindowPosVal = SetWindowPosPivot = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(FLT_MAX, FLT_MAX);</div>
<div class="line"><a id="l04412" name="l04412"></a><span class="lineno"> 4412</span>    LastFrameActive = -1;</div>
<div class="line"><a id="l04413" name="l04413"></a><span class="lineno"> 4413</span>    LastFrameJustFocused = -1;</div>
<div class="line"><a id="l04414" name="l04414"></a><span class="lineno"> 4414</span>    LastTimeActive = -1.0f;</div>
<div class="line"><a id="l04415" name="l04415"></a><span class="lineno"> 4415</span>    FontRefSize = 0.0f;</div>
<div class="line"><a id="l04416" name="l04416"></a><span class="lineno"> 4416</span>    FontWindowScale = FontWindowScaleParents = FontDpiScale = 1.0f;</div>
<div class="line"><a id="l04417" name="l04417"></a><span class="lineno"> 4417</span>    SettingsOffset = -1;</div>
<div class="line"><a id="l04418" name="l04418"></a><span class="lineno"> 4418</span>    DockOrder = -1;</div>
<div class="line"><a id="l04419" name="l04419"></a><span class="lineno"> 4419</span>    DrawList = &amp;DrawListInst;</div>
<div class="line"><a id="l04420" name="l04420"></a><span class="lineno"> 4420</span>    DrawList-&gt;_OwnerName = Name;</div>
<div class="line"><a id="l04421" name="l04421"></a><span class="lineno"> 4421</span>    DrawList-&gt;_Data = &amp;Ctx-&gt;DrawListSharedData;</div>
<div class="line"><a id="l04422" name="l04422"></a><span class="lineno"> 4422</span>    NavPreferredScoringPosRel[0] = NavPreferredScoringPosRel[1] = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(FLT_MAX, FLT_MAX);</div>
<div class="line"><a id="l04423" name="l04423"></a><span class="lineno"> 4423</span>    IM_PLACEMENT_NEW(&amp;WindowClass) <a class="code hl_struct" href="structImGuiWindowClass.html">ImGuiWindowClass</a>();</div>
<div class="line"><a id="l04424" name="l04424"></a><span class="lineno"> 4424</span>}</div>
<div class="line"><a id="l04425" name="l04425"></a><span class="lineno"> 4425</span> </div>
<div class="line"><a id="l04426" name="l04426"></a><span class="lineno"> 4426</span>ImGuiWindow::~ImGuiWindow()</div>
<div class="line"><a id="l04427" name="l04427"></a><span class="lineno"> 4427</span>{</div>
<div class="line"><a id="l04428" name="l04428"></a><span class="lineno"> 4428</span>    IM_ASSERT(DrawList == &amp;DrawListInst);</div>
<div class="line"><a id="l04429" name="l04429"></a><span class="lineno"> 4429</span>    IM_DELETE(Name);</div>
<div class="line"><a id="l04430" name="l04430"></a><span class="lineno"> 4430</span>    ColumnsStorage.clear_destruct();</div>
<div class="line"><a id="l04431" name="l04431"></a><span class="lineno"> 4431</span>}</div>
<div class="line"><a id="l04432" name="l04432"></a><span class="lineno"> 4432</span> </div>
<div class="line"><a id="l04433" name="l04433"></a><span class="lineno"> 4433</span><span class="keyword">static</span> <span class="keywordtype">void</span> SetCurrentWindow(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l04434" name="l04434"></a><span class="lineno"> 4434</span>{</div>
<div class="line"><a id="l04435" name="l04435"></a><span class="lineno"> 4435</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l04436" name="l04436"></a><span class="lineno"> 4436</span>    g.CurrentWindow = window;</div>
<div class="line"><a id="l04437" name="l04437"></a><span class="lineno"> 4437</span>    g.StackSizesInBeginForCurrentWindow = g.CurrentWindow ? &amp;g.CurrentWindowStack.back().StackSizesInBegin : NULL;</div>
<div class="line"><a id="l04438" name="l04438"></a><span class="lineno"> 4438</span>    g.CurrentTable = window &amp;&amp; window-&gt;DC.CurrentTableIdx != -1 ? g.Tables.GetByIndex(window-&gt;DC.CurrentTableIdx) : NULL;</div>
<div class="line"><a id="l04439" name="l04439"></a><span class="lineno"> 4439</span>    <span class="keywordflow">if</span> (window)</div>
<div class="line"><a id="l04440" name="l04440"></a><span class="lineno"> 4440</span>    {</div>
<div class="line"><a id="l04441" name="l04441"></a><span class="lineno"> 4441</span>        g.FontSize = g.DrawListSharedData.FontSize = window-&gt;CalcFontSize();</div>
<div class="line"><a id="l04442" name="l04442"></a><span class="lineno"> 4442</span>        g.FontScale = g.DrawListSharedData.FontScale = g.FontSize / g.Font-&gt;FontSize;</div>
<div class="line"><a id="l04443" name="l04443"></a><span class="lineno"> 4443</span>        ImGui::NavUpdateCurrentWindowIsScrollPushableX();</div>
<div class="line"><a id="l04444" name="l04444"></a><span class="lineno"> 4444</span>    }</div>
<div class="line"><a id="l04445" name="l04445"></a><span class="lineno"> 4445</span>}</div>
<div class="line"><a id="l04446" name="l04446"></a><span class="lineno"> 4446</span> </div>
<div class="line"><a id="l04447" name="l04447"></a><span class="lineno"> 4447</span><span class="keywordtype">void</span> ImGui::GcCompactTransientMiscBuffers()</div>
<div class="line"><a id="l04448" name="l04448"></a><span class="lineno"> 4448</span>{</div>
<div class="line"><a id="l04449" name="l04449"></a><span class="lineno"> 4449</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l04450" name="l04450"></a><span class="lineno"> 4450</span>    g.ItemFlagsStack.clear();</div>
<div class="line"><a id="l04451" name="l04451"></a><span class="lineno"> 4451</span>    g.GroupStack.clear();</div>
<div class="line"><a id="l04452" name="l04452"></a><span class="lineno"> 4452</span>    g.MultiSelectTempDataStacked = 0;</div>
<div class="line"><a id="l04453" name="l04453"></a><span class="lineno"> 4453</span>    g.MultiSelectTempData.clear_destruct();</div>
<div class="line"><a id="l04454" name="l04454"></a><span class="lineno"> 4454</span>    TableGcCompactSettings();</div>
<div class="line"><a id="l04455" name="l04455"></a><span class="lineno"> 4455</span>}</div>
<div class="line"><a id="l04456" name="l04456"></a><span class="lineno"> 4456</span> </div>
<div class="line"><a id="l04457" name="l04457"></a><span class="lineno"> 4457</span><span class="comment">// Free up/compact internal window buffers, we can use this when a window becomes unused.</span></div>
<div class="line"><a id="l04458" name="l04458"></a><span class="lineno"> 4458</span><span class="comment">// Not freed:</span></div>
<div class="line"><a id="l04459" name="l04459"></a><span class="lineno"> 4459</span><span class="comment">// - ImGuiWindow, ImGuiWindowSettings, Name, StateStorage, ColumnsStorage (may hold useful data)</span></div>
<div class="line"><a id="l04460" name="l04460"></a><span class="lineno"> 4460</span><span class="comment">// This should have no noticeable visual effect. When the window reappear however, expect new allocation/buffer growth/copy cost.</span></div>
<div class="line"><a id="l04461" name="l04461"></a><span class="lineno"> 4461</span><span class="keywordtype">void</span> ImGui::GcCompactTransientWindowBuffers(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l04462" name="l04462"></a><span class="lineno"> 4462</span>{</div>
<div class="line"><a id="l04463" name="l04463"></a><span class="lineno"> 4463</span>    window-&gt;MemoryCompacted = <span class="keyword">true</span>;</div>
<div class="line"><a id="l04464" name="l04464"></a><span class="lineno"> 4464</span>    window-&gt;MemoryDrawListIdxCapacity = window-&gt;DrawList-&gt;IdxBuffer.Capacity;</div>
<div class="line"><a id="l04465" name="l04465"></a><span class="lineno"> 4465</span>    window-&gt;MemoryDrawListVtxCapacity = window-&gt;DrawList-&gt;VtxBuffer.Capacity;</div>
<div class="line"><a id="l04466" name="l04466"></a><span class="lineno"> 4466</span>    window-&gt;IDStack.clear();</div>
<div class="line"><a id="l04467" name="l04467"></a><span class="lineno"> 4467</span>    window-&gt;DrawList-&gt;_ClearFreeMemory();</div>
<div class="line"><a id="l04468" name="l04468"></a><span class="lineno"> 4468</span>    window-&gt;DC.ChildWindows.clear();</div>
<div class="line"><a id="l04469" name="l04469"></a><span class="lineno"> 4469</span>    window-&gt;DC.ItemWidthStack.clear();</div>
<div class="line"><a id="l04470" name="l04470"></a><span class="lineno"> 4470</span>    window-&gt;DC.TextWrapPosStack.clear();</div>
<div class="line"><a id="l04471" name="l04471"></a><span class="lineno"> 4471</span>}</div>
<div class="line"><a id="l04472" name="l04472"></a><span class="lineno"> 4472</span> </div>
<div class="line"><a id="l04473" name="l04473"></a><span class="lineno"> 4473</span><span class="keywordtype">void</span> ImGui::GcAwakeTransientWindowBuffers(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l04474" name="l04474"></a><span class="lineno"> 4474</span>{</div>
<div class="line"><a id="l04475" name="l04475"></a><span class="lineno"> 4475</span>    <span class="comment">// We stored capacity of the ImDrawList buffer to reduce growth-caused allocation/copy when awakening.</span></div>
<div class="line"><a id="l04476" name="l04476"></a><span class="lineno"> 4476</span>    <span class="comment">// The other buffers tends to amortize much faster.</span></div>
<div class="line"><a id="l04477" name="l04477"></a><span class="lineno"> 4477</span>    window-&gt;MemoryCompacted = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04478" name="l04478"></a><span class="lineno"> 4478</span>    window-&gt;DrawList-&gt;IdxBuffer.reserve(window-&gt;MemoryDrawListIdxCapacity);</div>
<div class="line"><a id="l04479" name="l04479"></a><span class="lineno"> 4479</span>    window-&gt;DrawList-&gt;VtxBuffer.reserve(window-&gt;MemoryDrawListVtxCapacity);</div>
<div class="line"><a id="l04480" name="l04480"></a><span class="lineno"> 4480</span>    window-&gt;MemoryDrawListIdxCapacity = window-&gt;MemoryDrawListVtxCapacity = 0;</div>
<div class="line"><a id="l04481" name="l04481"></a><span class="lineno"> 4481</span>}</div>
<div class="line"><a id="l04482" name="l04482"></a><span class="lineno"> 4482</span> </div>
<div class="line"><a id="l04483" name="l04483"></a><span class="lineno"> 4483</span><span class="keywordtype">void</span> ImGui::SetActiveID(ImGuiID <span class="keywordtype">id</span>, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l04484" name="l04484"></a><span class="lineno"> 4484</span>{</div>
<div class="line"><a id="l04485" name="l04485"></a><span class="lineno"> 4485</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l04486" name="l04486"></a><span class="lineno"> 4486</span> </div>
<div class="line"><a id="l04487" name="l04487"></a><span class="lineno"> 4487</span>    <span class="comment">// Clear previous active id</span></div>
<div class="line"><a id="l04488" name="l04488"></a><span class="lineno"> 4488</span>    <span class="keywordflow">if</span> (g.ActiveId != 0)</div>
<div class="line"><a id="l04489" name="l04489"></a><span class="lineno"> 4489</span>    {</div>
<div class="line"><a id="l04490" name="l04490"></a><span class="lineno"> 4490</span>        <span class="comment">// While most behaved code would make an effort to not steal active id during window move/drag operations,</span></div>
<div class="line"><a id="l04491" name="l04491"></a><span class="lineno"> 4491</span>        <span class="comment">// we at least need to be resilient to it. Canceling the move is rather aggressive and users of &#39;master&#39; branch</span></div>
<div class="line"><a id="l04492" name="l04492"></a><span class="lineno"> 4492</span>        <span class="comment">// may prefer the weird ill-defined half working situation (&#39;docking&#39; did assert), so may need to rework that.</span></div>
<div class="line"><a id="l04493" name="l04493"></a><span class="lineno"> 4493</span>        <span class="keywordflow">if</span> (g.MovingWindow != NULL &amp;&amp; g.ActiveId == g.MovingWindow-&gt;MoveId)</div>
<div class="line"><a id="l04494" name="l04494"></a><span class="lineno"> 4494</span>        {</div>
<div class="line"><a id="l04495" name="l04495"></a><span class="lineno"> 4495</span>            IMGUI_DEBUG_LOG_ACTIVEID(<span class="stringliteral">&quot;SetActiveID() cancel MovingWindow\n&quot;</span>);</div>
<div class="line"><a id="l04496" name="l04496"></a><span class="lineno"> 4496</span>            g.MovingWindow = NULL;</div>
<div class="line"><a id="l04497" name="l04497"></a><span class="lineno"> 4497</span>        }</div>
<div class="line"><a id="l04498" name="l04498"></a><span class="lineno"> 4498</span> </div>
<div class="line"><a id="l04499" name="l04499"></a><span class="lineno"> 4499</span>        <span class="comment">// Store deactivate data</span></div>
<div class="line"><a id="l04500" name="l04500"></a><span class="lineno"> 4500</span>        <a class="code hl_struct" href="structImGuiDeactivatedItemData.html">ImGuiDeactivatedItemData</a>* deactivated_data = &amp;g.DeactivatedItemData;</div>
<div class="line"><a id="l04501" name="l04501"></a><span class="lineno"> 4501</span>        deactivated_data-&gt;ID = g.ActiveId;</div>
<div class="line"><a id="l04502" name="l04502"></a><span class="lineno"> 4502</span>        deactivated_data-&gt;ElapseFrame = (g.LastItemData.ID == g.ActiveId) ? g.FrameCount : g.FrameCount + 1; <span class="comment">// FIXME: OK to use LastItemData?</span></div>
<div class="line"><a id="l04503" name="l04503"></a><span class="lineno"> 4503</span>        deactivated_data-&gt;HasBeenEditedBefore = g.ActiveIdHasBeenEditedBefore;</div>
<div class="line"><a id="l04504" name="l04504"></a><span class="lineno"> 4504</span>        deactivated_data-&gt;IsAlive = (g.ActiveIdIsAlive == g.ActiveId);</div>
<div class="line"><a id="l04505" name="l04505"></a><span class="lineno"> 4505</span> </div>
<div class="line"><a id="l04506" name="l04506"></a><span class="lineno"> 4506</span>        <span class="comment">// This could be written in a more general way (e.g associate a hook to ActiveId),</span></div>
<div class="line"><a id="l04507" name="l04507"></a><span class="lineno"> 4507</span>        <span class="comment">// but since this is currently quite an exception we&#39;ll leave it as is.</span></div>
<div class="line"><a id="l04508" name="l04508"></a><span class="lineno"> 4508</span>        <span class="comment">// One common scenario leading to this is: pressing Key -&gt;NavMoveRequestApplyResult() -&gt; ClearActiveID()</span></div>
<div class="line"><a id="l04509" name="l04509"></a><span class="lineno"> 4509</span>        <span class="keywordflow">if</span> (g.InputTextState.ID == g.ActiveId)</div>
<div class="line"><a id="l04510" name="l04510"></a><span class="lineno"> 4510</span>            InputTextDeactivateHook(g.ActiveId);</div>
<div class="line"><a id="l04511" name="l04511"></a><span class="lineno"> 4511</span>    }</div>
<div class="line"><a id="l04512" name="l04512"></a><span class="lineno"> 4512</span> </div>
<div class="line"><a id="l04513" name="l04513"></a><span class="lineno"> 4513</span>    <span class="comment">// Set active id</span></div>
<div class="line"><a id="l04514" name="l04514"></a><span class="lineno"> 4514</span>    g.ActiveIdIsJustActivated = (g.ActiveId != id);</div>
<div class="line"><a id="l04515" name="l04515"></a><span class="lineno"> 4515</span>    <span class="keywordflow">if</span> (g.ActiveIdIsJustActivated)</div>
<div class="line"><a id="l04516" name="l04516"></a><span class="lineno"> 4516</span>    {</div>
<div class="line"><a id="l04517" name="l04517"></a><span class="lineno"> 4517</span>        IMGUI_DEBUG_LOG_ACTIVEID(<span class="stringliteral">&quot;SetActiveID() old:0x%08X (window \&quot;%s\&quot;) -&gt; new:0x%08X (window \&quot;%s\&quot;)\n&quot;</span>, g.ActiveId, g.ActiveIdWindow ? g.ActiveIdWindow-&gt;Name : <span class="stringliteral">&quot;&quot;</span>, id, window ? window-&gt;Name : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a id="l04518" name="l04518"></a><span class="lineno"> 4518</span>        g.ActiveIdTimer = 0.0f;</div>
<div class="line"><a id="l04519" name="l04519"></a><span class="lineno"> 4519</span>        g.ActiveIdHasBeenPressedBefore = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04520" name="l04520"></a><span class="lineno"> 4520</span>        g.ActiveIdHasBeenEditedBefore = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04521" name="l04521"></a><span class="lineno"> 4521</span>        g.ActiveIdMouseButton = -1;</div>
<div class="line"><a id="l04522" name="l04522"></a><span class="lineno"> 4522</span>        <span class="keywordflow">if</span> (<span class="keywordtype">id</span> != 0)</div>
<div class="line"><a id="l04523" name="l04523"></a><span class="lineno"> 4523</span>        {</div>
<div class="line"><a id="l04524" name="l04524"></a><span class="lineno"> 4524</span>            g.LastActiveId = id;</div>
<div class="line"><a id="l04525" name="l04525"></a><span class="lineno"> 4525</span>            g.LastActiveIdTimer = 0.0f;</div>
<div class="line"><a id="l04526" name="l04526"></a><span class="lineno"> 4526</span>        }</div>
<div class="line"><a id="l04527" name="l04527"></a><span class="lineno"> 4527</span>    }</div>
<div class="line"><a id="l04528" name="l04528"></a><span class="lineno"> 4528</span>    g.ActiveId = id;</div>
<div class="line"><a id="l04529" name="l04529"></a><span class="lineno"> 4529</span>    g.ActiveIdAllowOverlap = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04530" name="l04530"></a><span class="lineno"> 4530</span>    g.ActiveIdNoClearOnFocusLoss = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04531" name="l04531"></a><span class="lineno"> 4531</span>    g.ActiveIdWindow = window;</div>
<div class="line"><a id="l04532" name="l04532"></a><span class="lineno"> 4532</span>    g.ActiveIdHasBeenEditedThisFrame = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04533" name="l04533"></a><span class="lineno"> 4533</span>    g.ActiveIdFromShortcut = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04534" name="l04534"></a><span class="lineno"> 4534</span>    <span class="keywordflow">if</span> (<span class="keywordtype">id</span>)</div>
<div class="line"><a id="l04535" name="l04535"></a><span class="lineno"> 4535</span>    {</div>
<div class="line"><a id="l04536" name="l04536"></a><span class="lineno"> 4536</span>        g.ActiveIdIsAlive = id;</div>
<div class="line"><a id="l04537" name="l04537"></a><span class="lineno"> 4537</span>        g.ActiveIdSource = (g.NavActivateId == <span class="keywordtype">id</span> || g.NavJustMovedToId == id) ? g.NavInputSource : ImGuiInputSource_Mouse;</div>
<div class="line"><a id="l04538" name="l04538"></a><span class="lineno"> 4538</span>        IM_ASSERT(g.ActiveIdSource != ImGuiInputSource_None);</div>
<div class="line"><a id="l04539" name="l04539"></a><span class="lineno"> 4539</span>    }</div>
<div class="line"><a id="l04540" name="l04540"></a><span class="lineno"> 4540</span> </div>
<div class="line"><a id="l04541" name="l04541"></a><span class="lineno"> 4541</span>    <span class="comment">// Clear declaration of inputs claimed by the widget</span></div>
<div class="line"><a id="l04542" name="l04542"></a><span class="lineno"> 4542</span>    <span class="comment">// (Please note that this is WIP and not all keys/inputs are thoroughly declared by all widgets yet)</span></div>
<div class="line"><a id="l04543" name="l04543"></a><span class="lineno"> 4543</span>    g.ActiveIdUsingNavDirMask = 0x00;</div>
<div class="line"><a id="l04544" name="l04544"></a><span class="lineno"> 4544</span>    g.ActiveIdUsingAllKeyboardKeys = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04545" name="l04545"></a><span class="lineno"> 4545</span>}</div>
<div class="line"><a id="l04546" name="l04546"></a><span class="lineno"> 4546</span> </div>
<div class="line"><a id="l04547" name="l04547"></a><span class="lineno"> 4547</span><span class="keywordtype">void</span> ImGui::ClearActiveID()</div>
<div class="line"><a id="l04548" name="l04548"></a><span class="lineno"> 4548</span>{</div>
<div class="line"><a id="l04549" name="l04549"></a><span class="lineno"> 4549</span>    SetActiveID(0, NULL); <span class="comment">// g.ActiveId = 0;</span></div>
<div class="line"><a id="l04550" name="l04550"></a><span class="lineno"> 4550</span>}</div>
<div class="line"><a id="l04551" name="l04551"></a><span class="lineno"> 4551</span> </div>
<div class="line"><a id="l04552" name="l04552"></a><span class="lineno"> 4552</span><span class="keywordtype">void</span> ImGui::SetHoveredID(ImGuiID <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l04553" name="l04553"></a><span class="lineno"> 4553</span>{</div>
<div class="line"><a id="l04554" name="l04554"></a><span class="lineno"> 4554</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l04555" name="l04555"></a><span class="lineno"> 4555</span>    g.HoveredId = id;</div>
<div class="line"><a id="l04556" name="l04556"></a><span class="lineno"> 4556</span>    g.HoveredIdAllowOverlap = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04557" name="l04557"></a><span class="lineno"> 4557</span>    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> != 0 &amp;&amp; g.HoveredIdPreviousFrame != <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l04558" name="l04558"></a><span class="lineno"> 4558</span>        g.HoveredIdTimer = g.HoveredIdNotActiveTimer = 0.0f;</div>
<div class="line"><a id="l04559" name="l04559"></a><span class="lineno"> 4559</span>}</div>
<div class="line"><a id="l04560" name="l04560"></a><span class="lineno"> 4560</span> </div>
<div class="line"><a id="l04561" name="l04561"></a><span class="lineno"> 4561</span>ImGuiID ImGui::GetHoveredID()</div>
<div class="line"><a id="l04562" name="l04562"></a><span class="lineno"> 4562</span>{</div>
<div class="line"><a id="l04563" name="l04563"></a><span class="lineno"> 4563</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l04564" name="l04564"></a><span class="lineno"> 4564</span>    <span class="keywordflow">return</span> g.HoveredId ? g.HoveredId : g.HoveredIdPreviousFrame;</div>
<div class="line"><a id="l04565" name="l04565"></a><span class="lineno"> 4565</span>}</div>
<div class="line"><a id="l04566" name="l04566"></a><span class="lineno"> 4566</span> </div>
<div class="line"><a id="l04567" name="l04567"></a><span class="lineno"> 4567</span><span class="keywordtype">void</span> ImGui::MarkItemEdited(ImGuiID <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l04568" name="l04568"></a><span class="lineno"> 4568</span>{</div>
<div class="line"><a id="l04569" name="l04569"></a><span class="lineno"> 4569</span>    <span class="comment">// This marking is to be able to provide info for IsItemDeactivatedAfterEdit().</span></div>
<div class="line"><a id="l04570" name="l04570"></a><span class="lineno"> 4570</span>    <span class="comment">// ActiveId might have been released by the time we call this (as in the typical press/release button behavior) but still need to fill the data.</span></div>
<div class="line"><a id="l04571" name="l04571"></a><span class="lineno"> 4571</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l04572" name="l04572"></a><span class="lineno"> 4572</span>    <span class="keywordflow">if</span> (g.LastItemData.ItemFlags &amp; ImGuiItemFlags_NoMarkEdited)</div>
<div class="line"><a id="l04573" name="l04573"></a><span class="lineno"> 4573</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l04574" name="l04574"></a><span class="lineno"> 4574</span>    <span class="keywordflow">if</span> (g.ActiveId == <span class="keywordtype">id</span> || g.ActiveId == 0)</div>
<div class="line"><a id="l04575" name="l04575"></a><span class="lineno"> 4575</span>    {</div>
<div class="line"><a id="l04576" name="l04576"></a><span class="lineno"> 4576</span>        <span class="comment">// FIXME: Can&#39;t we fully rely on LastItemData yet?</span></div>
<div class="line"><a id="l04577" name="l04577"></a><span class="lineno"> 4577</span>        g.ActiveIdHasBeenEditedThisFrame = <span class="keyword">true</span>;</div>
<div class="line"><a id="l04578" name="l04578"></a><span class="lineno"> 4578</span>        g.ActiveIdHasBeenEditedBefore = <span class="keyword">true</span>;</div>
<div class="line"><a id="l04579" name="l04579"></a><span class="lineno"> 4579</span>        <span class="keywordflow">if</span> (g.DeactivatedItemData.ID == <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l04580" name="l04580"></a><span class="lineno"> 4580</span>            g.DeactivatedItemData.HasBeenEditedBefore = <span class="keyword">true</span>;</div>
<div class="line"><a id="l04581" name="l04581"></a><span class="lineno"> 4581</span>    }</div>
<div class="line"><a id="l04582" name="l04582"></a><span class="lineno"> 4582</span> </div>
<div class="line"><a id="l04583" name="l04583"></a><span class="lineno"> 4583</span>    <span class="comment">// We accept a MarkItemEdited() on drag and drop targets (see https://github.com/ocornut/imgui/issues/1875#issuecomment-978243343)</span></div>
<div class="line"><a id="l04584" name="l04584"></a><span class="lineno"> 4584</span>    <span class="comment">// We accept &#39;ActiveIdPreviousFrame == id&#39; for InputText() returning an edit after it has been taken ActiveId away (#4714)</span></div>
<div class="line"><a id="l04585" name="l04585"></a><span class="lineno"> 4585</span>    IM_ASSERT(g.DragDropActive || g.ActiveId == <span class="keywordtype">id</span> || g.ActiveId == 0 || g.ActiveIdPreviousFrame == <span class="keywordtype">id</span> || (g.CurrentMultiSelect != NULL &amp;&amp; g.BoxSelectState.IsActive));</div>
<div class="line"><a id="l04586" name="l04586"></a><span class="lineno"> 4586</span> </div>
<div class="line"><a id="l04587" name="l04587"></a><span class="lineno"> 4587</span>    <span class="comment">//IM_ASSERT(g.CurrentWindow-&gt;DC.LastItemId == id);</span></div>
<div class="line"><a id="l04588" name="l04588"></a><span class="lineno"> 4588</span>    g.LastItemData.StatusFlags |= ImGuiItemStatusFlags_Edited;</div>
<div class="line"><a id="l04589" name="l04589"></a><span class="lineno"> 4589</span>}</div>
<div class="line"><a id="l04590" name="l04590"></a><span class="lineno"> 4590</span> </div>
<div class="line"><a id="l04591" name="l04591"></a><span class="lineno"> 4591</span><span class="keywordtype">bool</span> ImGui::IsWindowContentHoverable(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, ImGuiHoveredFlags flags)</div>
<div class="line"><a id="l04592" name="l04592"></a><span class="lineno"> 4592</span>{</div>
<div class="line"><a id="l04593" name="l04593"></a><span class="lineno"> 4593</span>    <span class="comment">// An active popup disable hovering on other windows (apart from its own children)</span></div>
<div class="line"><a id="l04594" name="l04594"></a><span class="lineno"> 4594</span>    <span class="comment">// FIXME-OPT: This could be cached/stored within the window.</span></div>
<div class="line"><a id="l04595" name="l04595"></a><span class="lineno"> 4595</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l04596" name="l04596"></a><span class="lineno"> 4596</span>    <span class="keywordflow">if</span> (g.NavWindow)</div>
<div class="line"><a id="l04597" name="l04597"></a><span class="lineno"> 4597</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* focused_root_window = g.NavWindow-&gt;RootWindowDockTree)</div>
<div class="line"><a id="l04598" name="l04598"></a><span class="lineno"> 4598</span>            <span class="keywordflow">if</span> (focused_root_window-&gt;WasActive &amp;&amp; focused_root_window != window-&gt;RootWindowDockTree)</div>
<div class="line"><a id="l04599" name="l04599"></a><span class="lineno"> 4599</span>            {</div>
<div class="line"><a id="l04600" name="l04600"></a><span class="lineno"> 4600</span>                <span class="comment">// For the purpose of those flags we differentiate &quot;standard popup&quot; from &quot;modal popup&quot;</span></div>
<div class="line"><a id="l04601" name="l04601"></a><span class="lineno"> 4601</span>                <span class="comment">// NB: The &#39;else&#39; is important because Modal windows are also Popups.</span></div>
<div class="line"><a id="l04602" name="l04602"></a><span class="lineno"> 4602</span>                <span class="keywordtype">bool</span> want_inhibit = <span class="keyword">false</span>;</div>
<div class="line"><a id="l04603" name="l04603"></a><span class="lineno"> 4603</span>                <span class="keywordflow">if</span> (focused_root_window-&gt;Flags &amp; ImGuiWindowFlags_Modal)</div>
<div class="line"><a id="l04604" name="l04604"></a><span class="lineno"> 4604</span>                    want_inhibit = <span class="keyword">true</span>;</div>
<div class="line"><a id="l04605" name="l04605"></a><span class="lineno"> 4605</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((focused_root_window-&gt;Flags &amp; ImGuiWindowFlags_Popup) &amp;&amp; !(flags &amp; ImGuiHoveredFlags_AllowWhenBlockedByPopup))</div>
<div class="line"><a id="l04606" name="l04606"></a><span class="lineno"> 4606</span>                    want_inhibit = <span class="keyword">true</span>;</div>
<div class="line"><a id="l04607" name="l04607"></a><span class="lineno"> 4607</span> </div>
<div class="line"><a id="l04608" name="l04608"></a><span class="lineno"> 4608</span>                <span class="comment">// Inhibit hover unless the window is within the stack of our modal/popup</span></div>
<div class="line"><a id="l04609" name="l04609"></a><span class="lineno"> 4609</span>                <span class="keywordflow">if</span> (want_inhibit)</div>
<div class="line"><a id="l04610" name="l04610"></a><span class="lineno"> 4610</span>                    <span class="keywordflow">if</span> (!IsWindowWithinBeginStackOf(window-&gt;RootWindow, focused_root_window))</div>
<div class="line"><a id="l04611" name="l04611"></a><span class="lineno"> 4611</span>                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l04612" name="l04612"></a><span class="lineno"> 4612</span>            }</div>
<div class="line"><a id="l04613" name="l04613"></a><span class="lineno"> 4613</span> </div>
<div class="line"><a id="l04614" name="l04614"></a><span class="lineno"> 4614</span>    <span class="comment">// Filter by viewport</span></div>
<div class="line"><a id="l04615" name="l04615"></a><span class="lineno"> 4615</span>    <span class="keywordflow">if</span> (window-&gt;Viewport != g.MouseViewport)</div>
<div class="line"><a id="l04616" name="l04616"></a><span class="lineno"> 4616</span>        <span class="keywordflow">if</span> (g.MovingWindow == NULL || window-&gt;RootWindowDockTree != g.MovingWindow-&gt;RootWindowDockTree)</div>
<div class="line"><a id="l04617" name="l04617"></a><span class="lineno"> 4617</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l04618" name="l04618"></a><span class="lineno"> 4618</span> </div>
<div class="line"><a id="l04619" name="l04619"></a><span class="lineno"> 4619</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l04620" name="l04620"></a><span class="lineno"> 4620</span>}</div>
<div class="line"><a id="l04621" name="l04621"></a><span class="lineno"> 4621</span> </div>
<div class="line"><a id="l04622" name="l04622"></a><span class="lineno"> 4622</span><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">float</span> CalcDelayFromHoveredFlags(ImGuiHoveredFlags flags)</div>
<div class="line"><a id="l04623" name="l04623"></a><span class="lineno"> 4623</span>{</div>
<div class="line"><a id="l04624" name="l04624"></a><span class="lineno"> 4624</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l04625" name="l04625"></a><span class="lineno"> 4625</span>    <span class="keywordflow">if</span> (flags &amp; ImGuiHoveredFlags_DelayNormal)</div>
<div class="line"><a id="l04626" name="l04626"></a><span class="lineno"> 4626</span>        <span class="keywordflow">return</span> g.Style.HoverDelayNormal;</div>
<div class="line"><a id="l04627" name="l04627"></a><span class="lineno"> 4627</span>    <span class="keywordflow">if</span> (flags &amp; ImGuiHoveredFlags_DelayShort)</div>
<div class="line"><a id="l04628" name="l04628"></a><span class="lineno"> 4628</span>        <span class="keywordflow">return</span> g.Style.HoverDelayShort;</div>
<div class="line"><a id="l04629" name="l04629"></a><span class="lineno"> 4629</span>    <span class="keywordflow">return</span> 0.0f;</div>
<div class="line"><a id="l04630" name="l04630"></a><span class="lineno"> 4630</span>}</div>
<div class="line"><a id="l04631" name="l04631"></a><span class="lineno"> 4631</span> </div>
<div class="line"><a id="l04632" name="l04632"></a><span class="lineno"> 4632</span><span class="keyword">static</span> ImGuiHoveredFlags ApplyHoverFlagsForTooltip(ImGuiHoveredFlags user_flags, ImGuiHoveredFlags shared_flags)</div>
<div class="line"><a id="l04633" name="l04633"></a><span class="lineno"> 4633</span>{</div>
<div class="line"><a id="l04634" name="l04634"></a><span class="lineno"> 4634</span>    <span class="comment">// Allow instance flags to override shared flags</span></div>
<div class="line"><a id="l04635" name="l04635"></a><span class="lineno"> 4635</span>    <span class="keywordflow">if</span> (user_flags &amp; (ImGuiHoveredFlags_DelayNone | ImGuiHoveredFlags_DelayShort | ImGuiHoveredFlags_DelayNormal))</div>
<div class="line"><a id="l04636" name="l04636"></a><span class="lineno"> 4636</span>        shared_flags &amp;= ~(ImGuiHoveredFlags_DelayNone | ImGuiHoveredFlags_DelayShort | ImGuiHoveredFlags_DelayNormal);</div>
<div class="line"><a id="l04637" name="l04637"></a><span class="lineno"> 4637</span>    <span class="keywordflow">return</span> user_flags | shared_flags;</div>
<div class="line"><a id="l04638" name="l04638"></a><span class="lineno"> 4638</span>}</div>
<div class="line"><a id="l04639" name="l04639"></a><span class="lineno"> 4639</span> </div>
<div class="line"><a id="l04640" name="l04640"></a><span class="lineno"> 4640</span><span class="comment">// This is roughly matching the behavior of internal-facing ItemHoverable()</span></div>
<div class="line"><a id="l04641" name="l04641"></a><span class="lineno"> 4641</span><span class="comment">// - we allow hovering to be true when ActiveId==window-&gt;MoveID, so that clicking on non-interactive items such as a Text() item still returns true with IsItemHovered()</span></div>
<div class="line"><a id="l04642" name="l04642"></a><span class="lineno"> 4642</span><span class="comment">// - this should work even for non-interactive items that have no ID, so we cannot use LastItemId</span></div>
<div class="line"><a id="l04643" name="l04643"></a><span class="lineno"> 4643</span><span class="keywordtype">bool</span> ImGui::IsItemHovered(ImGuiHoveredFlags flags)</div>
<div class="line"><a id="l04644" name="l04644"></a><span class="lineno"> 4644</span>{</div>
<div class="line"><a id="l04645" name="l04645"></a><span class="lineno"> 4645</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l04646" name="l04646"></a><span class="lineno"> 4646</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l04647" name="l04647"></a><span class="lineno"> 4647</span>    IM_ASSERT_USER_ERROR((flags &amp; ~ImGuiHoveredFlags_AllowedMaskForIsItemHovered) == 0, <span class="stringliteral">&quot;Invalid flags for IsItemHovered()!&quot;</span>);</div>
<div class="line"><a id="l04648" name="l04648"></a><span class="lineno"> 4648</span> </div>
<div class="line"><a id="l04649" name="l04649"></a><span class="lineno"> 4649</span>    <span class="keywordflow">if</span> (g.NavHighlightItemUnderNav &amp;&amp; g.NavCursorVisible &amp;&amp; !(flags &amp; ImGuiHoveredFlags_NoNavOverride))</div>
<div class="line"><a id="l04650" name="l04650"></a><span class="lineno"> 4650</span>    {</div>
<div class="line"><a id="l04651" name="l04651"></a><span class="lineno"> 4651</span>        <span class="keywordflow">if</span> (!IsItemFocused())</div>
<div class="line"><a id="l04652" name="l04652"></a><span class="lineno"> 4652</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l04653" name="l04653"></a><span class="lineno"> 4653</span>        <span class="keywordflow">if</span> ((g.LastItemData.ItemFlags &amp; ImGuiItemFlags_Disabled) &amp;&amp; !(flags &amp; ImGuiHoveredFlags_AllowWhenDisabled))</div>
<div class="line"><a id="l04654" name="l04654"></a><span class="lineno"> 4654</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l04655" name="l04655"></a><span class="lineno"> 4655</span> </div>
<div class="line"><a id="l04656" name="l04656"></a><span class="lineno"> 4656</span>        <span class="keywordflow">if</span> (flags &amp; ImGuiHoveredFlags_ForTooltip)</div>
<div class="line"><a id="l04657" name="l04657"></a><span class="lineno"> 4657</span>            flags = ApplyHoverFlagsForTooltip(flags, g.Style.HoverFlagsForTooltipNav);</div>
<div class="line"><a id="l04658" name="l04658"></a><span class="lineno"> 4658</span>    }</div>
<div class="line"><a id="l04659" name="l04659"></a><span class="lineno"> 4659</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l04660" name="l04660"></a><span class="lineno"> 4660</span>    {</div>
<div class="line"><a id="l04661" name="l04661"></a><span class="lineno"> 4661</span>        <span class="comment">// Test for bounding box overlap, as updated as ItemAdd()</span></div>
<div class="line"><a id="l04662" name="l04662"></a><span class="lineno"> 4662</span>        ImGuiItemStatusFlags status_flags = g.LastItemData.StatusFlags;</div>
<div class="line"><a id="l04663" name="l04663"></a><span class="lineno"> 4663</span>        <span class="keywordflow">if</span> (!(status_flags &amp; ImGuiItemStatusFlags_HoveredRect))</div>
<div class="line"><a id="l04664" name="l04664"></a><span class="lineno"> 4664</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l04665" name="l04665"></a><span class="lineno"> 4665</span> </div>
<div class="line"><a id="l04666" name="l04666"></a><span class="lineno"> 4666</span>        <span class="keywordflow">if</span> (flags &amp; ImGuiHoveredFlags_ForTooltip)</div>
<div class="line"><a id="l04667" name="l04667"></a><span class="lineno"> 4667</span>            flags = ApplyHoverFlagsForTooltip(flags, g.Style.HoverFlagsForTooltipMouse);</div>
<div class="line"><a id="l04668" name="l04668"></a><span class="lineno"> 4668</span> </div>
<div class="line"><a id="l04669" name="l04669"></a><span class="lineno"> 4669</span>        <span class="comment">// Done with rectangle culling so we can perform heavier checks now</span></div>
<div class="line"><a id="l04670" name="l04670"></a><span class="lineno"> 4670</span>        <span class="comment">// Test if we are hovering the right window (our window could be behind another window)</span></div>
<div class="line"><a id="l04671" name="l04671"></a><span class="lineno"> 4671</span>        <span class="comment">// [2021/03/02] Reworked / reverted the revert, finally. Note we want e.g. BeginGroup/ItemAdd/EndGroup to work as well. (#3851)</span></div>
<div class="line"><a id="l04672" name="l04672"></a><span class="lineno"> 4672</span>        <span class="comment">// [2017/10/16] Reverted commit 344d48be3 and testing RootWindow instead. I believe it is correct to NOT test for RootWindow but this leaves us unable</span></div>
<div class="line"><a id="l04673" name="l04673"></a><span class="lineno"> 4673</span>        <span class="comment">// to use IsItemHovered() after EndChild() itself. Until a solution is found I believe reverting to the test from 2017/09/27 is safe since this was</span></div>
<div class="line"><a id="l04674" name="l04674"></a><span class="lineno"> 4674</span>        <span class="comment">// the test that has been running for a long while.</span></div>
<div class="line"><a id="l04675" name="l04675"></a><span class="lineno"> 4675</span>        <span class="keywordflow">if</span> (g.HoveredWindow != window &amp;&amp; (status_flags &amp; ImGuiItemStatusFlags_HoveredWindow) == 0)</div>
<div class="line"><a id="l04676" name="l04676"></a><span class="lineno"> 4676</span>            <span class="keywordflow">if</span> ((flags &amp; ImGuiHoveredFlags_AllowWhenOverlappedByWindow) == 0)</div>
<div class="line"><a id="l04677" name="l04677"></a><span class="lineno"> 4677</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l04678" name="l04678"></a><span class="lineno"> 4678</span> </div>
<div class="line"><a id="l04679" name="l04679"></a><span class="lineno"> 4679</span>        <span class="comment">// Test if another item is active (e.g. being dragged)</span></div>
<div class="line"><a id="l04680" name="l04680"></a><span class="lineno"> 4680</span>        <span class="keyword">const</span> ImGuiID <span class="keywordtype">id</span> = g.LastItemData.ID;</div>
<div class="line"><a id="l04681" name="l04681"></a><span class="lineno"> 4681</span>        <span class="keywordflow">if</span> ((flags &amp; ImGuiHoveredFlags_AllowWhenBlockedByActiveItem) == 0)</div>
<div class="line"><a id="l04682" name="l04682"></a><span class="lineno"> 4682</span>            <span class="keywordflow">if</span> (g.ActiveId != 0 &amp;&amp; g.ActiveId != <span class="keywordtype">id</span> &amp;&amp; !g.ActiveIdAllowOverlap)</div>
<div class="line"><a id="l04683" name="l04683"></a><span class="lineno"> 4683</span>                <span class="keywordflow">if</span> (g.ActiveId != window-&gt;MoveId &amp;&amp; g.ActiveId != window-&gt;TabId)</div>
<div class="line"><a id="l04684" name="l04684"></a><span class="lineno"> 4684</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l04685" name="l04685"></a><span class="lineno"> 4685</span> </div>
<div class="line"><a id="l04686" name="l04686"></a><span class="lineno"> 4686</span>        <span class="comment">// Test if interactions on this window are blocked by an active popup or modal.</span></div>
<div class="line"><a id="l04687" name="l04687"></a><span class="lineno"> 4687</span>        <span class="comment">// The ImGuiHoveredFlags_AllowWhenBlockedByPopup flag will be tested here.</span></div>
<div class="line"><a id="l04688" name="l04688"></a><span class="lineno"> 4688</span>        <span class="keywordflow">if</span> (!IsWindowContentHoverable(window, flags) &amp;&amp; !(g.LastItemData.ItemFlags &amp; ImGuiItemFlags_NoWindowHoverableCheck))</div>
<div class="line"><a id="l04689" name="l04689"></a><span class="lineno"> 4689</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l04690" name="l04690"></a><span class="lineno"> 4690</span> </div>
<div class="line"><a id="l04691" name="l04691"></a><span class="lineno"> 4691</span>        <span class="comment">// Test if the item is disabled</span></div>
<div class="line"><a id="l04692" name="l04692"></a><span class="lineno"> 4692</span>        <span class="keywordflow">if</span> ((g.LastItemData.ItemFlags &amp; ImGuiItemFlags_Disabled) &amp;&amp; !(flags &amp; ImGuiHoveredFlags_AllowWhenDisabled))</div>
<div class="line"><a id="l04693" name="l04693"></a><span class="lineno"> 4693</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l04694" name="l04694"></a><span class="lineno"> 4694</span> </div>
<div class="line"><a id="l04695" name="l04695"></a><span class="lineno"> 4695</span>        <span class="comment">// Special handling for calling after Begin() which represent the title bar or tab.</span></div>
<div class="line"><a id="l04696" name="l04696"></a><span class="lineno"> 4696</span>        <span class="comment">// When the window is skipped/collapsed (SkipItems==true) that last item (always -&gt;MoveId submitted by Begin)</span></div>
<div class="line"><a id="l04697" name="l04697"></a><span class="lineno"> 4697</span>        <span class="comment">// will never be overwritten so we need to detect the case.</span></div>
<div class="line"><a id="l04698" name="l04698"></a><span class="lineno"> 4698</span>        <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == window-&gt;MoveId &amp;&amp; window-&gt;WriteAccessed)</div>
<div class="line"><a id="l04699" name="l04699"></a><span class="lineno"> 4699</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l04700" name="l04700"></a><span class="lineno"> 4700</span> </div>
<div class="line"><a id="l04701" name="l04701"></a><span class="lineno"> 4701</span>        <span class="comment">// Test if using AllowOverlap and overlapped</span></div>
<div class="line"><a id="l04702" name="l04702"></a><span class="lineno"> 4702</span>        <span class="keywordflow">if</span> ((g.LastItemData.ItemFlags &amp; ImGuiItemFlags_AllowOverlap) &amp;&amp; <span class="keywordtype">id</span> != 0)</div>
<div class="line"><a id="l04703" name="l04703"></a><span class="lineno"> 4703</span>            <span class="keywordflow">if</span> ((flags &amp; ImGuiHoveredFlags_AllowWhenOverlappedByItem) == 0)</div>
<div class="line"><a id="l04704" name="l04704"></a><span class="lineno"> 4704</span>                <span class="keywordflow">if</span> (g.HoveredIdPreviousFrame != g.LastItemData.ID)</div>
<div class="line"><a id="l04705" name="l04705"></a><span class="lineno"> 4705</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l04706" name="l04706"></a><span class="lineno"> 4706</span>    }</div>
<div class="line"><a id="l04707" name="l04707"></a><span class="lineno"> 4707</span> </div>
<div class="line"><a id="l04708" name="l04708"></a><span class="lineno"> 4708</span>    <span class="comment">// Handle hover delay</span></div>
<div class="line"><a id="l04709" name="l04709"></a><span class="lineno"> 4709</span>    <span class="comment">// (some ideas: https://www.nngroup.com/articles/timing-exposing-content)</span></div>
<div class="line"><a id="l04710" name="l04710"></a><span class="lineno"> 4710</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> delay = CalcDelayFromHoveredFlags(flags);</div>
<div class="line"><a id="l04711" name="l04711"></a><span class="lineno"> 4711</span>    <span class="keywordflow">if</span> (delay &gt; 0.0f || (flags &amp; ImGuiHoveredFlags_Stationary))</div>
<div class="line"><a id="l04712" name="l04712"></a><span class="lineno"> 4712</span>    {</div>
<div class="line"><a id="l04713" name="l04713"></a><span class="lineno"> 4713</span>        ImGuiID hover_delay_id = (g.LastItemData.ID != 0) ? g.LastItemData.ID : window-&gt;GetIDFromPos(g.LastItemData.Rect.Min);</div>
<div class="line"><a id="l04714" name="l04714"></a><span class="lineno"> 4714</span>        <span class="keywordflow">if</span> ((flags &amp; ImGuiHoveredFlags_NoSharedDelay) &amp;&amp; (g.HoverItemDelayIdPreviousFrame != hover_delay_id))</div>
<div class="line"><a id="l04715" name="l04715"></a><span class="lineno"> 4715</span>            g.HoverItemDelayTimer = 0.0f;</div>
<div class="line"><a id="l04716" name="l04716"></a><span class="lineno"> 4716</span>        g.HoverItemDelayId = hover_delay_id;</div>
<div class="line"><a id="l04717" name="l04717"></a><span class="lineno"> 4717</span> </div>
<div class="line"><a id="l04718" name="l04718"></a><span class="lineno"> 4718</span>        <span class="comment">// When changing hovered item we requires a bit of stationary delay before activating hover timer,</span></div>
<div class="line"><a id="l04719" name="l04719"></a><span class="lineno"> 4719</span>        <span class="comment">// but once unlocked on a given item we also moving.</span></div>
<div class="line"><a id="l04720" name="l04720"></a><span class="lineno"> 4720</span>        <span class="comment">//if (g.HoverDelayTimer &gt;= delay &amp;&amp; (g.HoverDelayTimer - g.IO.DeltaTime &lt; delay || g.MouseStationaryTimer - g.IO.DeltaTime &lt; g.Style.HoverStationaryDelay)) { IMGUI_DEBUG_LOG(&quot;HoverDelayTimer = %f/%f, MouseStationaryTimer = %f\n&quot;, g.HoverDelayTimer, delay, g.MouseStationaryTimer); }</span></div>
<div class="line"><a id="l04721" name="l04721"></a><span class="lineno"> 4721</span>        <span class="keywordflow">if</span> ((flags &amp; ImGuiHoveredFlags_Stationary) != 0 &amp;&amp; g.HoverItemUnlockedStationaryId != hover_delay_id)</div>
<div class="line"><a id="l04722" name="l04722"></a><span class="lineno"> 4722</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l04723" name="l04723"></a><span class="lineno"> 4723</span> </div>
<div class="line"><a id="l04724" name="l04724"></a><span class="lineno"> 4724</span>        <span class="keywordflow">if</span> (g.HoverItemDelayTimer &lt; delay)</div>
<div class="line"><a id="l04725" name="l04725"></a><span class="lineno"> 4725</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l04726" name="l04726"></a><span class="lineno"> 4726</span>    }</div>
<div class="line"><a id="l04727" name="l04727"></a><span class="lineno"> 4727</span> </div>
<div class="line"><a id="l04728" name="l04728"></a><span class="lineno"> 4728</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l04729" name="l04729"></a><span class="lineno"> 4729</span>}</div>
<div class="line"><a id="l04730" name="l04730"></a><span class="lineno"> 4730</span> </div>
<div class="line"><a id="l04731" name="l04731"></a><span class="lineno"> 4731</span><span class="comment">// Internal facing ItemHoverable() used when submitting widgets. Differs slightly from IsItemHovered().</span></div>
<div class="line"><a id="l04732" name="l04732"></a><span class="lineno"> 4732</span><span class="comment">// (this does not rely on LastItemData it can be called from a ButtonBehavior() call not following an ItemAdd() call)</span></div>
<div class="line"><a id="l04733" name="l04733"></a><span class="lineno"> 4733</span><span class="comment">// FIXME-LEGACY: the &#39;ImGuiItemFlags item_flags&#39; parameter was added on 2023-06-28.</span></div>
<div class="line"><a id="l04734" name="l04734"></a><span class="lineno"> 4734</span><span class="comment">// If you used this in your legacy/custom widgets code:</span></div>
<div class="line"><a id="l04735" name="l04735"></a><span class="lineno"> 4735</span><span class="comment">// - Commonly: if your ItemHoverable() call comes after an ItemAdd() call: pass &#39;item_flags = g.LastItemData.ItemFlags&#39;.</span></div>
<div class="line"><a id="l04736" name="l04736"></a><span class="lineno"> 4736</span><span class="comment">// - Rare: otherwise you may pass &#39;item_flags = 0&#39; (ImGuiItemFlags_None) unless you want to benefit from special behavior handled by ItemHoverable.</span></div>
<div class="line"><a id="l04737" name="l04737"></a><span class="lineno"> 4737</span><span class="keywordtype">bool</span> ImGui::ItemHoverable(<span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; bb, ImGuiID <span class="keywordtype">id</span>, ImGuiItemFlags item_flags)</div>
<div class="line"><a id="l04738" name="l04738"></a><span class="lineno"> 4738</span>{</div>
<div class="line"><a id="l04739" name="l04739"></a><span class="lineno"> 4739</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l04740" name="l04740"></a><span class="lineno"> 4740</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l04741" name="l04741"></a><span class="lineno"> 4741</span> </div>
<div class="line"><a id="l04742" name="l04742"></a><span class="lineno"> 4742</span>    <span class="comment">// Detect ID conflicts</span></div>
<div class="line"><a id="l04743" name="l04743"></a><span class="lineno"> 4743</span><span class="preprocessor">#ifndef IMGUI_DISABLE_DEBUG_TOOLS</span></div>
<div class="line"><a id="l04744" name="l04744"></a><span class="lineno"> 4744</span>    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> != 0 &amp;&amp; g.HoveredIdPreviousFrame == <span class="keywordtype">id</span> &amp;&amp; (item_flags &amp; ImGuiItemFlags_AllowDuplicateId) == 0)</div>
<div class="line"><a id="l04745" name="l04745"></a><span class="lineno"> 4745</span>    {</div>
<div class="line"><a id="l04746" name="l04746"></a><span class="lineno"> 4746</span>        g.HoveredIdPreviousFrameItemCount++;</div>
<div class="line"><a id="l04747" name="l04747"></a><span class="lineno"> 4747</span>        <span class="keywordflow">if</span> (g.DebugDrawIdConflicts == <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l04748" name="l04748"></a><span class="lineno"> 4748</span>            window-&gt;DrawList-&gt;AddRect(bb.Min - <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(1,1), bb.Max + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(1,1), IM_COL32(255, 0, 0, 255), 0.0f, ImDrawFlags_None, 2.0f);</div>
<div class="line"><a id="l04749" name="l04749"></a><span class="lineno"> 4749</span>    }</div>
<div class="line"><a id="l04750" name="l04750"></a><span class="lineno"> 4750</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l04751" name="l04751"></a><span class="lineno"> 4751</span> </div>
<div class="line"><a id="l04752" name="l04752"></a><span class="lineno"> 4752</span>    <span class="keywordflow">if</span> (g.HoveredWindow != window)</div>
<div class="line"><a id="l04753" name="l04753"></a><span class="lineno"> 4753</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l04754" name="l04754"></a><span class="lineno"> 4754</span>    <span class="keywordflow">if</span> (!IsMouseHoveringRect(bb.Min, bb.Max))</div>
<div class="line"><a id="l04755" name="l04755"></a><span class="lineno"> 4755</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l04756" name="l04756"></a><span class="lineno"> 4756</span> </div>
<div class="line"><a id="l04757" name="l04757"></a><span class="lineno"> 4757</span>    <span class="keywordflow">if</span> (g.HoveredId != 0 &amp;&amp; g.HoveredId != <span class="keywordtype">id</span> &amp;&amp; !g.HoveredIdAllowOverlap)</div>
<div class="line"><a id="l04758" name="l04758"></a><span class="lineno"> 4758</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l04759" name="l04759"></a><span class="lineno"> 4759</span>    <span class="keywordflow">if</span> (g.ActiveId != 0 &amp;&amp; g.ActiveId != <span class="keywordtype">id</span> &amp;&amp; !g.ActiveIdAllowOverlap)</div>
<div class="line"><a id="l04760" name="l04760"></a><span class="lineno"> 4760</span>        <span class="keywordflow">if</span> (!g.ActiveIdFromShortcut)</div>
<div class="line"><a id="l04761" name="l04761"></a><span class="lineno"> 4761</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l04762" name="l04762"></a><span class="lineno"> 4762</span> </div>
<div class="line"><a id="l04763" name="l04763"></a><span class="lineno"> 4763</span>    <span class="comment">// Done with rectangle culling so we can perform heavier checks now.</span></div>
<div class="line"><a id="l04764" name="l04764"></a><span class="lineno"> 4764</span>    <span class="keywordflow">if</span> (!(item_flags &amp; ImGuiItemFlags_NoWindowHoverableCheck) &amp;&amp; !IsWindowContentHoverable(window, ImGuiHoveredFlags_None))</div>
<div class="line"><a id="l04765" name="l04765"></a><span class="lineno"> 4765</span>    {</div>
<div class="line"><a id="l04766" name="l04766"></a><span class="lineno"> 4766</span>        g.HoveredIdIsDisabled = <span class="keyword">true</span>;</div>
<div class="line"><a id="l04767" name="l04767"></a><span class="lineno"> 4767</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l04768" name="l04768"></a><span class="lineno"> 4768</span>    }</div>
<div class="line"><a id="l04769" name="l04769"></a><span class="lineno"> 4769</span> </div>
<div class="line"><a id="l04770" name="l04770"></a><span class="lineno"> 4770</span>    <span class="comment">// We exceptionally allow this function to be called with id==0 to allow using it for easy high-level</span></div>
<div class="line"><a id="l04771" name="l04771"></a><span class="lineno"> 4771</span>    <span class="comment">// hover test in widgets code. We could also decide to split this function is two.</span></div>
<div class="line"><a id="l04772" name="l04772"></a><span class="lineno"> 4772</span>    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> != 0)</div>
<div class="line"><a id="l04773" name="l04773"></a><span class="lineno"> 4773</span>    {</div>
<div class="line"><a id="l04774" name="l04774"></a><span class="lineno"> 4774</span>        <span class="comment">// Drag source doesn&#39;t report as hovered</span></div>
<div class="line"><a id="l04775" name="l04775"></a><span class="lineno"> 4775</span>        <span class="keywordflow">if</span> (g.DragDropActive &amp;&amp; g.DragDropPayload.SourceId == <span class="keywordtype">id</span> &amp;&amp; !(g.DragDropSourceFlags &amp; ImGuiDragDropFlags_SourceNoDisableHover))</div>
<div class="line"><a id="l04776" name="l04776"></a><span class="lineno"> 4776</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l04777" name="l04777"></a><span class="lineno"> 4777</span> </div>
<div class="line"><a id="l04778" name="l04778"></a><span class="lineno"> 4778</span>        SetHoveredID(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l04779" name="l04779"></a><span class="lineno"> 4779</span> </div>
<div class="line"><a id="l04780" name="l04780"></a><span class="lineno"> 4780</span>        <span class="comment">// AllowOverlap mode (rarely used) requires previous frame HoveredId to be null or to match.</span></div>
<div class="line"><a id="l04781" name="l04781"></a><span class="lineno"> 4781</span>        <span class="comment">// This allows using patterns where a later submitted widget overlaps a previous one. Generally perceived as a front-to-back hit-test.</span></div>
<div class="line"><a id="l04782" name="l04782"></a><span class="lineno"> 4782</span>        <span class="keywordflow">if</span> (item_flags &amp; ImGuiItemFlags_AllowOverlap)</div>
<div class="line"><a id="l04783" name="l04783"></a><span class="lineno"> 4783</span>        {</div>
<div class="line"><a id="l04784" name="l04784"></a><span class="lineno"> 4784</span>            g.HoveredIdAllowOverlap = <span class="keyword">true</span>;</div>
<div class="line"><a id="l04785" name="l04785"></a><span class="lineno"> 4785</span>            <span class="keywordflow">if</span> (g.HoveredIdPreviousFrame != <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l04786" name="l04786"></a><span class="lineno"> 4786</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l04787" name="l04787"></a><span class="lineno"> 4787</span>        }</div>
<div class="line"><a id="l04788" name="l04788"></a><span class="lineno"> 4788</span> </div>
<div class="line"><a id="l04789" name="l04789"></a><span class="lineno"> 4789</span>        <span class="comment">// Display shortcut (only works with mouse)</span></div>
<div class="line"><a id="l04790" name="l04790"></a><span class="lineno"> 4790</span>        <span class="comment">// (ImGuiItemStatusFlags_HasShortcut in LastItemData denotes we want a tooltip)</span></div>
<div class="line"><a id="l04791" name="l04791"></a><span class="lineno"> 4791</span>        <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == g.LastItemData.ID &amp;&amp; (g.LastItemData.StatusFlags &amp; ImGuiItemStatusFlags_HasShortcut) &amp;&amp; g.ActiveId != <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l04792" name="l04792"></a><span class="lineno"> 4792</span>            <span class="keywordflow">if</span> (IsItemHovered(ImGuiHoveredFlags_ForTooltip | ImGuiHoveredFlags_DelayNormal))</div>
<div class="line"><a id="l04793" name="l04793"></a><span class="lineno"> 4793</span>                SetTooltip(<span class="stringliteral">&quot;%s&quot;</span>, GetKeyChordName(g.LastItemData.Shortcut));</div>
<div class="line"><a id="l04794" name="l04794"></a><span class="lineno"> 4794</span>    }</div>
<div class="line"><a id="l04795" name="l04795"></a><span class="lineno"> 4795</span> </div>
<div class="line"><a id="l04796" name="l04796"></a><span class="lineno"> 4796</span>    <span class="comment">// When disabled we&#39;ll return false but still set HoveredId</span></div>
<div class="line"><a id="l04797" name="l04797"></a><span class="lineno"> 4797</span>    <span class="keywordflow">if</span> (item_flags &amp; ImGuiItemFlags_Disabled)</div>
<div class="line"><a id="l04798" name="l04798"></a><span class="lineno"> 4798</span>    {</div>
<div class="line"><a id="l04799" name="l04799"></a><span class="lineno"> 4799</span>        <span class="comment">// Release active id if turning disabled</span></div>
<div class="line"><a id="l04800" name="l04800"></a><span class="lineno"> 4800</span>        <span class="keywordflow">if</span> (g.ActiveId == <span class="keywordtype">id</span> &amp;&amp; <span class="keywordtype">id</span> != 0)</div>
<div class="line"><a id="l04801" name="l04801"></a><span class="lineno"> 4801</span>            ClearActiveID();</div>
<div class="line"><a id="l04802" name="l04802"></a><span class="lineno"> 4802</span>        g.HoveredIdIsDisabled = <span class="keyword">true</span>;</div>
<div class="line"><a id="l04803" name="l04803"></a><span class="lineno"> 4803</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l04804" name="l04804"></a><span class="lineno"> 4804</span>    }</div>
<div class="line"><a id="l04805" name="l04805"></a><span class="lineno"> 4805</span> </div>
<div class="line"><a id="l04806" name="l04806"></a><span class="lineno"> 4806</span><span class="preprocessor">#ifndef IMGUI_DISABLE_DEBUG_TOOLS</span></div>
<div class="line"><a id="l04807" name="l04807"></a><span class="lineno"> 4807</span>    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> != 0)</div>
<div class="line"><a id="l04808" name="l04808"></a><span class="lineno"> 4808</span>    {</div>
<div class="line"><a id="l04809" name="l04809"></a><span class="lineno"> 4809</span>        <span class="comment">// [DEBUG] Item Picker tool!</span></div>
<div class="line"><a id="l04810" name="l04810"></a><span class="lineno"> 4810</span>        <span class="comment">// We perform the check here because reaching is path is rare (1~ time a frame),</span></div>
<div class="line"><a id="l04811" name="l04811"></a><span class="lineno"> 4811</span>        <span class="comment">// making the cost of this tool near-zero! We could get better call-stack and support picking non-hovered</span></div>
<div class="line"><a id="l04812" name="l04812"></a><span class="lineno"> 4812</span>        <span class="comment">// items if we performed the test in ItemAdd(), but that would incur a bigger runtime cost.</span></div>
<div class="line"><a id="l04813" name="l04813"></a><span class="lineno"> 4813</span>        <span class="keywordflow">if</span> (g.DebugItemPickerActive &amp;&amp; g.HoveredIdPreviousFrame == <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l04814" name="l04814"></a><span class="lineno"> 4814</span>            GetForegroundDrawList()-&gt;AddRect(bb.Min, bb.Max, IM_COL32(255, 255, 0, 255));</div>
<div class="line"><a id="l04815" name="l04815"></a><span class="lineno"> 4815</span>        <span class="keywordflow">if</span> (g.DebugItemPickerBreakId == <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l04816" name="l04816"></a><span class="lineno"> 4816</span>            IM_DEBUG_BREAK();</div>
<div class="line"><a id="l04817" name="l04817"></a><span class="lineno"> 4817</span>    }</div>
<div class="line"><a id="l04818" name="l04818"></a><span class="lineno"> 4818</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l04819" name="l04819"></a><span class="lineno"> 4819</span> </div>
<div class="line"><a id="l04820" name="l04820"></a><span class="lineno"> 4820</span>    <span class="keywordflow">if</span> (g.NavHighlightItemUnderNav &amp;&amp; (item_flags &amp; ImGuiItemFlags_NoNavDisableMouseHover) == 0)</div>
<div class="line"><a id="l04821" name="l04821"></a><span class="lineno"> 4821</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l04822" name="l04822"></a><span class="lineno"> 4822</span> </div>
<div class="line"><a id="l04823" name="l04823"></a><span class="lineno"> 4823</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l04824" name="l04824"></a><span class="lineno"> 4824</span>}</div>
<div class="line"><a id="l04825" name="l04825"></a><span class="lineno"> 4825</span> </div>
<div class="line"><a id="l04826" name="l04826"></a><span class="lineno"> 4826</span><span class="comment">// FIXME: This is inlined/duplicated in ItemAdd()</span></div>
<div class="line"><a id="l04827" name="l04827"></a><span class="lineno"> 4827</span><span class="comment">// FIXME: The id != 0 path is not used by our codebase, may get rid of it?</span></div>
<div class="line"><a id="l04828" name="l04828"></a><span class="lineno"> 4828</span><span class="keywordtype">bool</span> ImGui::IsClippedEx(<span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; bb, ImGuiID <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l04829" name="l04829"></a><span class="lineno"> 4829</span>{</div>
<div class="line"><a id="l04830" name="l04830"></a><span class="lineno"> 4830</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l04831" name="l04831"></a><span class="lineno"> 4831</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l04832" name="l04832"></a><span class="lineno"> 4832</span>    <span class="keywordflow">if</span> (!bb.Overlaps(window-&gt;ClipRect))</div>
<div class="line"><a id="l04833" name="l04833"></a><span class="lineno"> 4833</span>        <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == 0 || (<span class="keywordtype">id</span> != g.ActiveId &amp;&amp; <span class="keywordtype">id</span> != g.ActiveIdPreviousFrame &amp;&amp; <span class="keywordtype">id</span> != g.NavId &amp;&amp; <span class="keywordtype">id</span> != g.NavActivateId))</div>
<div class="line"><a id="l04834" name="l04834"></a><span class="lineno"> 4834</span>            <span class="keywordflow">if</span> (!g.ItemUnclipByLog)</div>
<div class="line"><a id="l04835" name="l04835"></a><span class="lineno"> 4835</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l04836" name="l04836"></a><span class="lineno"> 4836</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l04837" name="l04837"></a><span class="lineno"> 4837</span>}</div>
<div class="line"><a id="l04838" name="l04838"></a><span class="lineno"> 4838</span> </div>
<div class="line"><a id="l04839" name="l04839"></a><span class="lineno"> 4839</span><span class="comment">// This is also inlined in ItemAdd()</span></div>
<div class="line"><a id="l04840" name="l04840"></a><span class="lineno"> 4840</span><span class="comment">// Note: if ImGuiItemStatusFlags_HasDisplayRect is set, user needs to set g.LastItemData.DisplayRect.</span></div>
<div class="line"><a id="l04841" name="l04841"></a><span class="lineno"> 4841</span><span class="keywordtype">void</span> ImGui::SetLastItemData(ImGuiID item_id, ImGuiItemFlags item_flags, ImGuiItemStatusFlags status_flags, <span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; item_rect)</div>
<div class="line"><a id="l04842" name="l04842"></a><span class="lineno"> 4842</span>{</div>
<div class="line"><a id="l04843" name="l04843"></a><span class="lineno"> 4843</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l04844" name="l04844"></a><span class="lineno"> 4844</span>    g.LastItemData.ID = item_id;</div>
<div class="line"><a id="l04845" name="l04845"></a><span class="lineno"> 4845</span>    g.LastItemData.ItemFlags = item_flags;</div>
<div class="line"><a id="l04846" name="l04846"></a><span class="lineno"> 4846</span>    g.LastItemData.StatusFlags = status_flags;</div>
<div class="line"><a id="l04847" name="l04847"></a><span class="lineno"> 4847</span>    g.LastItemData.Rect = g.LastItemData.NavRect = item_rect;</div>
<div class="line"><a id="l04848" name="l04848"></a><span class="lineno"> 4848</span>}</div>
<div class="line"><a id="l04849" name="l04849"></a><span class="lineno"> 4849</span> </div>
<div class="line"><a id="l04850" name="l04850"></a><span class="lineno"> 4850</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::SetLastItemDataForWindow(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; rect)</div>
<div class="line"><a id="l04851" name="l04851"></a><span class="lineno"> 4851</span>{</div>
<div class="line"><a id="l04852" name="l04852"></a><span class="lineno"> 4852</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l04853" name="l04853"></a><span class="lineno"> 4853</span>    <span class="keywordflow">if</span> (window-&gt;DockIsActive)</div>
<div class="line"><a id="l04854" name="l04854"></a><span class="lineno"> 4854</span>        SetLastItemData(window-&gt;MoveId, g.CurrentItemFlags, window-&gt;DC.DockTabItemStatusFlags, window-&gt;DC.DockTabItemRect);</div>
<div class="line"><a id="l04855" name="l04855"></a><span class="lineno"> 4855</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l04856" name="l04856"></a><span class="lineno"> 4856</span>        SetLastItemData(window-&gt;MoveId, g.CurrentItemFlags, window-&gt;DC.WindowItemStatusFlags, rect);</div>
<div class="line"><a id="l04857" name="l04857"></a><span class="lineno"> 4857</span>}</div>
<div class="line"><a id="l04858" name="l04858"></a><span class="lineno"> 4858</span> </div>
<div class="line"><a id="l04859" name="l04859"></a><span class="lineno"> 4859</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::SetLastItemDataForChildWindowItem(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; rect)</div>
<div class="line"><a id="l04860" name="l04860"></a><span class="lineno"> 4860</span>{</div>
<div class="line"><a id="l04861" name="l04861"></a><span class="lineno"> 4861</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l04862" name="l04862"></a><span class="lineno"> 4862</span>    SetLastItemData(window-&gt;ChildId, g.CurrentItemFlags, window-&gt;DC.ChildItemStatusFlags, rect);</div>
<div class="line"><a id="l04863" name="l04863"></a><span class="lineno"> 4863</span>}</div>
<div class="line"><a id="l04864" name="l04864"></a><span class="lineno"> 4864</span> </div>
<div class="line"><a id="l04865" name="l04865"></a><span class="lineno"> 4865</span><span class="keywordtype">float</span> ImGui::CalcWrapWidthForPos(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; pos, <span class="keywordtype">float</span> wrap_pos_x)</div>
<div class="line"><a id="l04866" name="l04866"></a><span class="lineno"> 4866</span>{</div>
<div class="line"><a id="l04867" name="l04867"></a><span class="lineno"> 4867</span>    <span class="keywordflow">if</span> (wrap_pos_x &lt; 0.0f)</div>
<div class="line"><a id="l04868" name="l04868"></a><span class="lineno"> 4868</span>        <span class="keywordflow">return</span> 0.0f;</div>
<div class="line"><a id="l04869" name="l04869"></a><span class="lineno"> 4869</span> </div>
<div class="line"><a id="l04870" name="l04870"></a><span class="lineno"> 4870</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l04871" name="l04871"></a><span class="lineno"> 4871</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l04872" name="l04872"></a><span class="lineno"> 4872</span>    <span class="keywordflow">if</span> (wrap_pos_x == 0.0f)</div>
<div class="line"><a id="l04873" name="l04873"></a><span class="lineno"> 4873</span>    {</div>
<div class="line"><a id="l04874" name="l04874"></a><span class="lineno"> 4874</span>        <span class="comment">// We could decide to setup a default wrapping max point for auto-resizing windows,</span></div>
<div class="line"><a id="l04875" name="l04875"></a><span class="lineno"> 4875</span>        <span class="comment">// or have auto-wrap (with unspecified wrapping pos) behave as a ContentSize extending function?</span></div>
<div class="line"><a id="l04876" name="l04876"></a><span class="lineno"> 4876</span>        <span class="comment">//if (window-&gt;Hidden &amp;&amp; (window-&gt;Flags &amp; ImGuiWindowFlags_AlwaysAutoResize))</span></div>
<div class="line"><a id="l04877" name="l04877"></a><span class="lineno"> 4877</span>        <span class="comment">//    wrap_pos_x = ImMax(window-&gt;WorkRect.Min.x + g.FontSize * 10.0f, window-&gt;WorkRect.Max.x);</span></div>
<div class="line"><a id="l04878" name="l04878"></a><span class="lineno"> 4878</span>        <span class="comment">//else</span></div>
<div class="line"><a id="l04879" name="l04879"></a><span class="lineno"> 4879</span>        wrap_pos_x = window-&gt;WorkRect.Max.x;</div>
<div class="line"><a id="l04880" name="l04880"></a><span class="lineno"> 4880</span>    }</div>
<div class="line"><a id="l04881" name="l04881"></a><span class="lineno"> 4881</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (wrap_pos_x &gt; 0.0f)</div>
<div class="line"><a id="l04882" name="l04882"></a><span class="lineno"> 4882</span>    {</div>
<div class="line"><a id="l04883" name="l04883"></a><span class="lineno"> 4883</span>        wrap_pos_x += window-&gt;Pos.x - window-&gt;Scroll.x; <span class="comment">// wrap_pos_x is provided is window local space</span></div>
<div class="line"><a id="l04884" name="l04884"></a><span class="lineno"> 4884</span>    }</div>
<div class="line"><a id="l04885" name="l04885"></a><span class="lineno"> 4885</span> </div>
<div class="line"><a id="l04886" name="l04886"></a><span class="lineno"> 4886</span>    <span class="keywordflow">return</span> ImMax(wrap_pos_x - pos.x, 1.0f);</div>
<div class="line"><a id="l04887" name="l04887"></a><span class="lineno"> 4887</span>}</div>
<div class="line"><a id="l04888" name="l04888"></a><span class="lineno"> 4888</span> </div>
<div class="line"><a id="l04889" name="l04889"></a><span class="lineno"> 4889</span><span class="comment">// IM_ALLOC() == ImGui::MemAlloc()</span></div>
<div class="line"><a id="l04890" name="l04890"></a><span class="lineno"> 4890</span><span class="keywordtype">void</span>* ImGui::MemAlloc(<span class="keywordtype">size_t</span> size)</div>
<div class="line"><a id="l04891" name="l04891"></a><span class="lineno"> 4891</span>{</div>
<div class="line"><a id="l04892" name="l04892"></a><span class="lineno"> 4892</span>    <span class="keywordtype">void</span>* ptr = (*GImAllocatorAllocFunc)(size, GImAllocatorUserData);</div>
<div class="line"><a id="l04893" name="l04893"></a><span class="lineno"> 4893</span><span class="preprocessor">#ifndef IMGUI_DISABLE_DEBUG_TOOLS</span></div>
<div class="line"><a id="l04894" name="l04894"></a><span class="lineno"> 4894</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx = GImGui)</div>
<div class="line"><a id="l04895" name="l04895"></a><span class="lineno"> 4895</span>        DebugAllocHook(&amp;ctx-&gt;DebugAllocInfo, ctx-&gt;FrameCount, ptr, size);</div>
<div class="line"><a id="l04896" name="l04896"></a><span class="lineno"> 4896</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l04897" name="l04897"></a><span class="lineno"> 4897</span>    <span class="keywordflow">return</span> ptr;</div>
<div class="line"><a id="l04898" name="l04898"></a><span class="lineno"> 4898</span>}</div>
<div class="line"><a id="l04899" name="l04899"></a><span class="lineno"> 4899</span> </div>
<div class="line"><a id="l04900" name="l04900"></a><span class="lineno"> 4900</span><span class="comment">// IM_FREE() == ImGui::MemFree()</span></div>
<div class="line"><a id="l04901" name="l04901"></a><span class="lineno"> 4901</span><span class="keywordtype">void</span> ImGui::MemFree(<span class="keywordtype">void</span>* ptr)</div>
<div class="line"><a id="l04902" name="l04902"></a><span class="lineno"> 4902</span>{</div>
<div class="line"><a id="l04903" name="l04903"></a><span class="lineno"> 4903</span><span class="preprocessor">#ifndef IMGUI_DISABLE_DEBUG_TOOLS</span></div>
<div class="line"><a id="l04904" name="l04904"></a><span class="lineno"> 4904</span>    <span class="keywordflow">if</span> (ptr != NULL)</div>
<div class="line"><a id="l04905" name="l04905"></a><span class="lineno"> 4905</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx = GImGui)</div>
<div class="line"><a id="l04906" name="l04906"></a><span class="lineno"> 4906</span>            DebugAllocHook(&amp;ctx-&gt;DebugAllocInfo, ctx-&gt;FrameCount, ptr, (<span class="keywordtype">size_t</span>)-1);</div>
<div class="line"><a id="l04907" name="l04907"></a><span class="lineno"> 4907</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l04908" name="l04908"></a><span class="lineno"> 4908</span>    <span class="keywordflow">return</span> (*GImAllocatorFreeFunc)(ptr, GImAllocatorUserData);</div>
<div class="line"><a id="l04909" name="l04909"></a><span class="lineno"> 4909</span>}</div>
<div class="line"><a id="l04910" name="l04910"></a><span class="lineno"> 4910</span> </div>
<div class="line"><a id="l04911" name="l04911"></a><span class="lineno"> 4911</span><span class="comment">// We record the number of allocation in recent frames, as a way to audit/sanitize our guiding principles of &quot;no allocations on idle/repeating frames&quot;</span></div>
<div class="line"><a id="l04912" name="l04912"></a><span class="lineno"> 4912</span><span class="keywordtype">void</span> ImGui::DebugAllocHook(<a class="code hl_struct" href="structImGuiDebugAllocInfo.html">ImGuiDebugAllocInfo</a>* info, <span class="keywordtype">int</span> frame_count, <span class="keywordtype">void</span>* ptr, <span class="keywordtype">size_t</span> size)</div>
<div class="line"><a id="l04913" name="l04913"></a><span class="lineno"> 4913</span>{</div>
<div class="line"><a id="l04914" name="l04914"></a><span class="lineno"> 4914</span>    <a class="code hl_struct" href="structImGuiDebugAllocEntry.html">ImGuiDebugAllocEntry</a>* entry = &amp;info-&gt;LastEntriesBuf[info-&gt;LastEntriesIdx];</div>
<div class="line"><a id="l04915" name="l04915"></a><span class="lineno"> 4915</span>    IM_UNUSED(ptr);</div>
<div class="line"><a id="l04916" name="l04916"></a><span class="lineno"> 4916</span>    <span class="keywordflow">if</span> (entry-&gt;FrameCount != frame_count)</div>
<div class="line"><a id="l04917" name="l04917"></a><span class="lineno"> 4917</span>    {</div>
<div class="line"><a id="l04918" name="l04918"></a><span class="lineno"> 4918</span>        info-&gt;LastEntriesIdx = (info-&gt;LastEntriesIdx + 1) % IM_ARRAYSIZE(info-&gt;LastEntriesBuf);</div>
<div class="line"><a id="l04919" name="l04919"></a><span class="lineno"> 4919</span>        entry = &amp;info-&gt;LastEntriesBuf[info-&gt;LastEntriesIdx];</div>
<div class="line"><a id="l04920" name="l04920"></a><span class="lineno"> 4920</span>        entry-&gt;FrameCount = frame_count;</div>
<div class="line"><a id="l04921" name="l04921"></a><span class="lineno"> 4921</span>        entry-&gt;AllocCount = entry-&gt;FreeCount = 0;</div>
<div class="line"><a id="l04922" name="l04922"></a><span class="lineno"> 4922</span>    }</div>
<div class="line"><a id="l04923" name="l04923"></a><span class="lineno"> 4923</span>    <span class="keywordflow">if</span> (size != (<span class="keywordtype">size_t</span>)-1)</div>
<div class="line"><a id="l04924" name="l04924"></a><span class="lineno"> 4924</span>    {</div>
<div class="line"><a id="l04925" name="l04925"></a><span class="lineno"> 4925</span>        <span class="comment">//printf(&quot;[%05d] MemAlloc(%d) -&gt; 0x%p\n&quot;, frame_count, (int)size, ptr);</span></div>
<div class="line"><a id="l04926" name="l04926"></a><span class="lineno"> 4926</span>        entry-&gt;AllocCount++;</div>
<div class="line"><a id="l04927" name="l04927"></a><span class="lineno"> 4927</span>        info-&gt;TotalAllocCount++;</div>
<div class="line"><a id="l04928" name="l04928"></a><span class="lineno"> 4928</span>    }</div>
<div class="line"><a id="l04929" name="l04929"></a><span class="lineno"> 4929</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l04930" name="l04930"></a><span class="lineno"> 4930</span>    {</div>
<div class="line"><a id="l04931" name="l04931"></a><span class="lineno"> 4931</span>        <span class="comment">//printf(&quot;[%05d] MemFree(0x%p)\n&quot;, frame_count, ptr);</span></div>
<div class="line"><a id="l04932" name="l04932"></a><span class="lineno"> 4932</span>        entry-&gt;FreeCount++;</div>
<div class="line"><a id="l04933" name="l04933"></a><span class="lineno"> 4933</span>        info-&gt;TotalFreeCount++;</div>
<div class="line"><a id="l04934" name="l04934"></a><span class="lineno"> 4934</span>    }</div>
<div class="line"><a id="l04935" name="l04935"></a><span class="lineno"> 4935</span>}</div>
<div class="line"><a id="l04936" name="l04936"></a><span class="lineno"> 4936</span> </div>
<div class="line"><a id="l04937" name="l04937"></a><span class="lineno"> 4937</span><span class="keyword">const</span> <span class="keywordtype">char</span>* ImGui::GetClipboardText()</div>
<div class="line"><a id="l04938" name="l04938"></a><span class="lineno"> 4938</span>{</div>
<div class="line"><a id="l04939" name="l04939"></a><span class="lineno"> 4939</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l04940" name="l04940"></a><span class="lineno"> 4940</span>    <span class="keywordflow">return</span> g.PlatformIO.Platform_GetClipboardTextFn ? g.PlatformIO.Platform_GetClipboardTextFn(&amp;g) : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l04941" name="l04941"></a><span class="lineno"> 4941</span>}</div>
<div class="line"><a id="l04942" name="l04942"></a><span class="lineno"> 4942</span> </div>
<div class="line"><a id="l04943" name="l04943"></a><span class="lineno"> 4943</span><span class="keywordtype">void</span> ImGui::SetClipboardText(<span class="keyword">const</span> <span class="keywordtype">char</span>* text)</div>
<div class="line"><a id="l04944" name="l04944"></a><span class="lineno"> 4944</span>{</div>
<div class="line"><a id="l04945" name="l04945"></a><span class="lineno"> 4945</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l04946" name="l04946"></a><span class="lineno"> 4946</span>    <span class="keywordflow">if</span> (g.PlatformIO.Platform_SetClipboardTextFn != NULL)</div>
<div class="line"><a id="l04947" name="l04947"></a><span class="lineno"> 4947</span>        g.PlatformIO.Platform_SetClipboardTextFn(&amp;g, text);</div>
<div class="line"><a id="l04948" name="l04948"></a><span class="lineno"> 4948</span>}</div>
<div class="line"><a id="l04949" name="l04949"></a><span class="lineno"> 4949</span> </div>
<div class="line"><a id="l04950" name="l04950"></a><span class="lineno"> 4950</span><span class="keyword">const</span> <span class="keywordtype">char</span>* ImGui::GetVersion()</div>
<div class="line"><a id="l04951" name="l04951"></a><span class="lineno"> 4951</span>{</div>
<div class="line"><a id="l04952" name="l04952"></a><span class="lineno"> 4952</span>    <span class="keywordflow">return</span> IMGUI_VERSION;</div>
<div class="line"><a id="l04953" name="l04953"></a><span class="lineno"> 4953</span>}</div>
<div class="line"><a id="l04954" name="l04954"></a><span class="lineno"> 4954</span> </div>
<div class="line"><a id="l04955" name="l04955"></a><span class="lineno"> 4955</span><a class="code hl_struct" href="structImGuiIO.html">ImGuiIO</a>&amp; ImGui::GetIO()</div>
<div class="line"><a id="l04956" name="l04956"></a><span class="lineno"> 4956</span>{</div>
<div class="line"><a id="l04957" name="l04957"></a><span class="lineno"> 4957</span>    IM_ASSERT(GImGui != NULL &amp;&amp; <span class="stringliteral">&quot;No current context. Did you call ImGui::CreateContext() and ImGui::SetCurrentContext() ?&quot;</span>);</div>
<div class="line"><a id="l04958" name="l04958"></a><span class="lineno"> 4958</span>    <span class="keywordflow">return</span> GImGui-&gt;IO;</div>
<div class="line"><a id="l04959" name="l04959"></a><span class="lineno"> 4959</span>}</div>
<div class="line"><a id="l04960" name="l04960"></a><span class="lineno"> 4960</span> </div>
<div class="line"><a id="l04961" name="l04961"></a><span class="lineno"> 4961</span><span class="comment">// This variant exists to facilitate backends experimenting with multi-threaded parallel context. (#8069, #6293, #5856)</span></div>
<div class="line"><a id="l04962" name="l04962"></a><span class="lineno"> 4962</span><a class="code hl_struct" href="structImGuiIO.html">ImGuiIO</a>&amp; ImGui::GetIO(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx)</div>
<div class="line"><a id="l04963" name="l04963"></a><span class="lineno"> 4963</span>{</div>
<div class="line"><a id="l04964" name="l04964"></a><span class="lineno"> 4964</span>    IM_ASSERT(ctx != NULL);</div>
<div class="line"><a id="l04965" name="l04965"></a><span class="lineno"> 4965</span>    <span class="keywordflow">return</span> ctx-&gt;IO;</div>
<div class="line"><a id="l04966" name="l04966"></a><span class="lineno"> 4966</span>}</div>
<div class="line"><a id="l04967" name="l04967"></a><span class="lineno"> 4967</span> </div>
<div class="line"><a id="l04968" name="l04968"></a><span class="lineno"> 4968</span><a class="code hl_struct" href="structImGuiPlatformIO.html">ImGuiPlatformIO</a>&amp; ImGui::GetPlatformIO()</div>
<div class="line"><a id="l04969" name="l04969"></a><span class="lineno"> 4969</span>{</div>
<div class="line"><a id="l04970" name="l04970"></a><span class="lineno"> 4970</span>    IM_ASSERT(GImGui != NULL &amp;&amp; <span class="stringliteral">&quot;No current context. Did you call ImGui::CreateContext() and ImGui::SetCurrentContext()?&quot;</span>);</div>
<div class="line"><a id="l04971" name="l04971"></a><span class="lineno"> 4971</span>    <span class="keywordflow">return</span> GImGui-&gt;PlatformIO;</div>
<div class="line"><a id="l04972" name="l04972"></a><span class="lineno"> 4972</span>}</div>
<div class="line"><a id="l04973" name="l04973"></a><span class="lineno"> 4973</span> </div>
<div class="line"><a id="l04974" name="l04974"></a><span class="lineno"> 4974</span><span class="comment">// This variant exists to facilitate backends experimenting with multi-threaded parallel context. (#8069, #6293, #5856)</span></div>
<div class="line"><a id="l04975" name="l04975"></a><span class="lineno"> 4975</span><a class="code hl_struct" href="structImGuiPlatformIO.html">ImGuiPlatformIO</a>&amp; ImGui::GetPlatformIO(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx)</div>
<div class="line"><a id="l04976" name="l04976"></a><span class="lineno"> 4976</span>{</div>
<div class="line"><a id="l04977" name="l04977"></a><span class="lineno"> 4977</span>    IM_ASSERT(ctx != NULL);</div>
<div class="line"><a id="l04978" name="l04978"></a><span class="lineno"> 4978</span>    <span class="keywordflow">return</span> ctx-&gt;PlatformIO;</div>
<div class="line"><a id="l04979" name="l04979"></a><span class="lineno"> 4979</span>}</div>
<div class="line"><a id="l04980" name="l04980"></a><span class="lineno"> 4980</span> </div>
<div class="line"><a id="l04981" name="l04981"></a><span class="lineno"> 4981</span><span class="comment">// Pass this to your backend rendering function! Valid after Render() and until the next call to NewFrame()</span></div>
<div class="line"><a id="l04982" name="l04982"></a><span class="lineno"> 4982</span><a class="code hl_struct" href="structImDrawData.html">ImDrawData</a>* ImGui::GetDrawData()</div>
<div class="line"><a id="l04983" name="l04983"></a><span class="lineno"> 4983</span>{</div>
<div class="line"><a id="l04984" name="l04984"></a><span class="lineno"> 4984</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l04985" name="l04985"></a><span class="lineno"> 4985</span>    <a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport = g.Viewports[0];</div>
<div class="line"><a id="l04986" name="l04986"></a><span class="lineno"> 4986</span>    <span class="keywordflow">return</span> viewport-&gt;DrawDataP.Valid ? &amp;viewport-&gt;DrawDataP : NULL;</div>
<div class="line"><a id="l04987" name="l04987"></a><span class="lineno"> 4987</span>}</div>
<div class="line"><a id="l04988" name="l04988"></a><span class="lineno"> 4988</span> </div>
<div class="line"><a id="l04989" name="l04989"></a><span class="lineno"> 4989</span><span class="keywordtype">double</span> ImGui::GetTime()</div>
<div class="line"><a id="l04990" name="l04990"></a><span class="lineno"> 4990</span>{</div>
<div class="line"><a id="l04991" name="l04991"></a><span class="lineno"> 4991</span>    <span class="keywordflow">return</span> GImGui-&gt;Time;</div>
<div class="line"><a id="l04992" name="l04992"></a><span class="lineno"> 4992</span>}</div>
<div class="line"><a id="l04993" name="l04993"></a><span class="lineno"> 4993</span> </div>
<div class="line"><a id="l04994" name="l04994"></a><span class="lineno"> 4994</span><span class="keywordtype">int</span> ImGui::GetFrameCount()</div>
<div class="line"><a id="l04995" name="l04995"></a><span class="lineno"> 4995</span>{</div>
<div class="line"><a id="l04996" name="l04996"></a><span class="lineno"> 4996</span>    <span class="keywordflow">return</span> GImGui-&gt;FrameCount;</div>
<div class="line"><a id="l04997" name="l04997"></a><span class="lineno"> 4997</span>}</div>
<div class="line"><a id="l04998" name="l04998"></a><span class="lineno"> 4998</span> </div>
<div class="line"><a id="l04999" name="l04999"></a><span class="lineno"> 4999</span><span class="keyword">static</span> <a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>* GetViewportBgFgDrawList(<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport, <span class="keywordtype">size_t</span> drawlist_no, <span class="keyword">const</span> <span class="keywordtype">char</span>* drawlist_name)</div>
<div class="line"><a id="l05000" name="l05000"></a><span class="lineno"> 5000</span>{</div>
<div class="line"><a id="l05001" name="l05001"></a><span class="lineno"> 5001</span>    <span class="comment">// Create the draw list on demand, because they are not frequently used for all viewports</span></div>
<div class="line"><a id="l05002" name="l05002"></a><span class="lineno"> 5002</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l05003" name="l05003"></a><span class="lineno"> 5003</span>    IM_ASSERT(drawlist_no &lt; IM_ARRAYSIZE(viewport-&gt;BgFgDrawLists));</div>
<div class="line"><a id="l05004" name="l05004"></a><span class="lineno"> 5004</span>    <a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>* draw_list = viewport-&gt;BgFgDrawLists[drawlist_no];</div>
<div class="line"><a id="l05005" name="l05005"></a><span class="lineno"> 5005</span>    <span class="keywordflow">if</span> (draw_list == NULL)</div>
<div class="line"><a id="l05006" name="l05006"></a><span class="lineno"> 5006</span>    {</div>
<div class="line"><a id="l05007" name="l05007"></a><span class="lineno"> 5007</span>        draw_list = IM_NEW(<a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>)(&amp;g.DrawListSharedData);</div>
<div class="line"><a id="l05008" name="l05008"></a><span class="lineno"> 5008</span>        draw_list-&gt;_OwnerName = drawlist_name;</div>
<div class="line"><a id="l05009" name="l05009"></a><span class="lineno"> 5009</span>        viewport-&gt;BgFgDrawLists[drawlist_no] = draw_list;</div>
<div class="line"><a id="l05010" name="l05010"></a><span class="lineno"> 5010</span>    }</div>
<div class="line"><a id="l05011" name="l05011"></a><span class="lineno"> 5011</span> </div>
<div class="line"><a id="l05012" name="l05012"></a><span class="lineno"> 5012</span>    <span class="comment">// Our ImDrawList system requires that there is always a command</span></div>
<div class="line"><a id="l05013" name="l05013"></a><span class="lineno"> 5013</span>    <span class="keywordflow">if</span> (viewport-&gt;BgFgDrawListsLastFrame[drawlist_no] != g.FrameCount)</div>
<div class="line"><a id="l05014" name="l05014"></a><span class="lineno"> 5014</span>    {</div>
<div class="line"><a id="l05015" name="l05015"></a><span class="lineno"> 5015</span>        draw_list-&gt;_ResetForNewFrame();</div>
<div class="line"><a id="l05016" name="l05016"></a><span class="lineno"> 5016</span>        draw_list-&gt;PushTextureID(g.IO.Fonts-&gt;TexID);</div>
<div class="line"><a id="l05017" name="l05017"></a><span class="lineno"> 5017</span>        draw_list-&gt;PushClipRect(viewport-&gt;Pos, viewport-&gt;Pos + viewport-&gt;Size, <span class="keyword">false</span>);</div>
<div class="line"><a id="l05018" name="l05018"></a><span class="lineno"> 5018</span>        viewport-&gt;BgFgDrawListsLastFrame[drawlist_no] = g.FrameCount;</div>
<div class="line"><a id="l05019" name="l05019"></a><span class="lineno"> 5019</span>    }</div>
<div class="line"><a id="l05020" name="l05020"></a><span class="lineno"> 5020</span>    <span class="keywordflow">return</span> draw_list;</div>
<div class="line"><a id="l05021" name="l05021"></a><span class="lineno"> 5021</span>}</div>
<div class="line"><a id="l05022" name="l05022"></a><span class="lineno"> 5022</span> </div>
<div class="line"><a id="l05023" name="l05023"></a><span class="lineno"> 5023</span><a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>* ImGui::GetBackgroundDrawList(<a class="code hl_struct" href="structImGuiViewport.html">ImGuiViewport</a>* viewport)</div>
<div class="line"><a id="l05024" name="l05024"></a><span class="lineno"> 5024</span>{</div>
<div class="line"><a id="l05025" name="l05025"></a><span class="lineno"> 5025</span>    <span class="keywordflow">if</span> (viewport == NULL)</div>
<div class="line"><a id="l05026" name="l05026"></a><span class="lineno"> 5026</span>        viewport = GImGui-&gt;CurrentWindow-&gt;Viewport;</div>
<div class="line"><a id="l05027" name="l05027"></a><span class="lineno"> 5027</span>    <span class="keywordflow">return</span> GetViewportBgFgDrawList((<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>*)viewport, 0, <span class="stringliteral">&quot;##Background&quot;</span>);</div>
<div class="line"><a id="l05028" name="l05028"></a><span class="lineno"> 5028</span>}</div>
<div class="line"><a id="l05029" name="l05029"></a><span class="lineno"> 5029</span> </div>
<div class="line"><a id="l05030" name="l05030"></a><span class="lineno"> 5030</span><a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>* ImGui::GetForegroundDrawList(<a class="code hl_struct" href="structImGuiViewport.html">ImGuiViewport</a>* viewport)</div>
<div class="line"><a id="l05031" name="l05031"></a><span class="lineno"> 5031</span>{</div>
<div class="line"><a id="l05032" name="l05032"></a><span class="lineno"> 5032</span>    <span class="keywordflow">if</span> (viewport == NULL)</div>
<div class="line"><a id="l05033" name="l05033"></a><span class="lineno"> 5033</span>        viewport = GImGui-&gt;CurrentWindow-&gt;Viewport;</div>
<div class="line"><a id="l05034" name="l05034"></a><span class="lineno"> 5034</span>    <span class="keywordflow">return</span> GetViewportBgFgDrawList((<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>*)viewport, 1, <span class="stringliteral">&quot;##Foreground&quot;</span>);</div>
<div class="line"><a id="l05035" name="l05035"></a><span class="lineno"> 5035</span>}</div>
<div class="line"><a id="l05036" name="l05036"></a><span class="lineno"> 5036</span> </div>
<div class="line"><a id="l05037" name="l05037"></a><span class="lineno"> 5037</span><a class="code hl_struct" href="structImDrawListSharedData.html">ImDrawListSharedData</a>* ImGui::GetDrawListSharedData()</div>
<div class="line"><a id="l05038" name="l05038"></a><span class="lineno"> 5038</span>{</div>
<div class="line"><a id="l05039" name="l05039"></a><span class="lineno"> 5039</span>    <span class="keywordflow">return</span> &amp;GImGui-&gt;DrawListSharedData;</div>
<div class="line"><a id="l05040" name="l05040"></a><span class="lineno"> 5040</span>}</div>
<div class="line"><a id="l05041" name="l05041"></a><span class="lineno"> 5041</span> </div>
<div class="line"><a id="l05042" name="l05042"></a><span class="lineno"> 5042</span><span class="keywordtype">void</span> ImGui::StartMouseMovingWindow(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l05043" name="l05043"></a><span class="lineno"> 5043</span>{</div>
<div class="line"><a id="l05044" name="l05044"></a><span class="lineno"> 5044</span>    <span class="comment">// Set ActiveId even if the _NoMove flag is set. Without it, dragging away from a window with _NoMove would activate hover on other windows.</span></div>
<div class="line"><a id="l05045" name="l05045"></a><span class="lineno"> 5045</span>    <span class="comment">// We _also_ call this when clicking in a window empty space when io.ConfigWindowsMoveFromTitleBarOnly is set, but clear g.MovingWindow afterward.</span></div>
<div class="line"><a id="l05046" name="l05046"></a><span class="lineno"> 5046</span>    <span class="comment">// This is because we want ActiveId to be set even when the window is not permitted to move.</span></div>
<div class="line"><a id="l05047" name="l05047"></a><span class="lineno"> 5047</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l05048" name="l05048"></a><span class="lineno"> 5048</span>    FocusWindow(window);</div>
<div class="line"><a id="l05049" name="l05049"></a><span class="lineno"> 5049</span>    SetActiveID(window-&gt;MoveId, window);</div>
<div class="line"><a id="l05050" name="l05050"></a><span class="lineno"> 5050</span>    <span class="keywordflow">if</span> (g.IO.ConfigNavCursorVisibleAuto)</div>
<div class="line"><a id="l05051" name="l05051"></a><span class="lineno"> 5051</span>        g.NavCursorVisible = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05052" name="l05052"></a><span class="lineno"> 5052</span>    g.ActiveIdClickOffset = g.IO.MouseClickedPos[0] - window-&gt;RootWindowDockTree-&gt;Pos;</div>
<div class="line"><a id="l05053" name="l05053"></a><span class="lineno"> 5053</span>    g.ActiveIdNoClearOnFocusLoss = <span class="keyword">true</span>;</div>
<div class="line"><a id="l05054" name="l05054"></a><span class="lineno"> 5054</span>    SetActiveIdUsingAllKeyboardKeys();</div>
<div class="line"><a id="l05055" name="l05055"></a><span class="lineno"> 5055</span> </div>
<div class="line"><a id="l05056" name="l05056"></a><span class="lineno"> 5056</span>    <span class="keywordtype">bool</span> can_move_window = <span class="keyword">true</span>;</div>
<div class="line"><a id="l05057" name="l05057"></a><span class="lineno"> 5057</span>    <span class="keywordflow">if</span> ((window-&gt;Flags &amp; ImGuiWindowFlags_NoMove) || (window-&gt;RootWindowDockTree-&gt;Flags &amp; ImGuiWindowFlags_NoMove))</div>
<div class="line"><a id="l05058" name="l05058"></a><span class="lineno"> 5058</span>        can_move_window = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05059" name="l05059"></a><span class="lineno"> 5059</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node = window-&gt;DockNodeAsHost)</div>
<div class="line"><a id="l05060" name="l05060"></a><span class="lineno"> 5060</span>        <span class="keywordflow">if</span> (node-&gt;VisibleWindow &amp;&amp; (node-&gt;VisibleWindow-&gt;Flags &amp; ImGuiWindowFlags_NoMove))</div>
<div class="line"><a id="l05061" name="l05061"></a><span class="lineno"> 5061</span>            can_move_window = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05062" name="l05062"></a><span class="lineno"> 5062</span>    <span class="keywordflow">if</span> (can_move_window)</div>
<div class="line"><a id="l05063" name="l05063"></a><span class="lineno"> 5063</span>        g.MovingWindow = window;</div>
<div class="line"><a id="l05064" name="l05064"></a><span class="lineno"> 5064</span>}</div>
<div class="line"><a id="l05065" name="l05065"></a><span class="lineno"> 5065</span> </div>
<div class="line"><a id="l05066" name="l05066"></a><span class="lineno"> 5066</span><span class="comment">// We use &#39;undock == false&#39; when dragging from title bar to allow moving groups of floating nodes without undocking them.</span></div>
<div class="line"><a id="l05067" name="l05067"></a><span class="lineno"> 5067</span><span class="keywordtype">void</span> ImGui::StartMouseMovingWindowOrNode(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node, <span class="keywordtype">bool</span> undock)</div>
<div class="line"><a id="l05068" name="l05068"></a><span class="lineno"> 5068</span>{</div>
<div class="line"><a id="l05069" name="l05069"></a><span class="lineno"> 5069</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l05070" name="l05070"></a><span class="lineno"> 5070</span>    <span class="keywordtype">bool</span> can_undock_node = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05071" name="l05071"></a><span class="lineno"> 5071</span>    <span class="keywordflow">if</span> (undock &amp;&amp; node != NULL &amp;&amp; node-&gt;VisibleWindow &amp;&amp; (node-&gt;VisibleWindow-&gt;Flags &amp; ImGuiWindowFlags_NoMove) == 0 &amp;&amp; (node-&gt;MergedFlags &amp; ImGuiDockNodeFlags_NoUndocking) == 0)</div>
<div class="line"><a id="l05072" name="l05072"></a><span class="lineno"> 5072</span>    {</div>
<div class="line"><a id="l05073" name="l05073"></a><span class="lineno"> 5073</span>        <span class="comment">// Can undock if:</span></div>
<div class="line"><a id="l05074" name="l05074"></a><span class="lineno"> 5074</span>        <span class="comment">// - part of a hierarchy with more than one visible node (if only one is visible, we&#39;ll just move the root window)</span></div>
<div class="line"><a id="l05075" name="l05075"></a><span class="lineno"> 5075</span>        <span class="comment">// - part of a dockspace node hierarchy: so we can undock the last single visible node too. Undocking from a fixed/central node will create a new node and copy windows.</span></div>
<div class="line"><a id="l05076" name="l05076"></a><span class="lineno"> 5076</span>        <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* root_node = DockNodeGetRootNode(node);</div>
<div class="line"><a id="l05077" name="l05077"></a><span class="lineno"> 5077</span>        <span class="keywordflow">if</span> (root_node-&gt;OnlyNodeWithWindows != node || root_node-&gt;CentralNode != NULL)   <span class="comment">// -V1051 PVS-Studio thinks node should be root_node and is wrong about that.</span></div>
<div class="line"><a id="l05078" name="l05078"></a><span class="lineno"> 5078</span>            can_undock_node = <span class="keyword">true</span>;</div>
<div class="line"><a id="l05079" name="l05079"></a><span class="lineno"> 5079</span>    }</div>
<div class="line"><a id="l05080" name="l05080"></a><span class="lineno"> 5080</span> </div>
<div class="line"><a id="l05081" name="l05081"></a><span class="lineno"> 5081</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> clicked = IsMouseClicked(0);</div>
<div class="line"><a id="l05082" name="l05082"></a><span class="lineno"> 5082</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> dragging = IsMouseDragging(0);</div>
<div class="line"><a id="l05083" name="l05083"></a><span class="lineno"> 5083</span>    <span class="keywordflow">if</span> (can_undock_node &amp;&amp; dragging)</div>
<div class="line"><a id="l05084" name="l05084"></a><span class="lineno"> 5084</span>        DockContextQueueUndockNode(&amp;g, node); <span class="comment">// Will lead to DockNodeStartMouseMovingWindow() -&gt; StartMouseMovingWindow() being called next frame</span></div>
<div class="line"><a id="l05085" name="l05085"></a><span class="lineno"> 5085</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!can_undock_node &amp;&amp; (clicked || dragging) &amp;&amp; g.MovingWindow != window)</div>
<div class="line"><a id="l05086" name="l05086"></a><span class="lineno"> 5086</span>        StartMouseMovingWindow(window);</div>
<div class="line"><a id="l05087" name="l05087"></a><span class="lineno"> 5087</span>}</div>
<div class="line"><a id="l05088" name="l05088"></a><span class="lineno"> 5088</span> </div>
<div class="line"><a id="l05089" name="l05089"></a><span class="lineno"> 5089</span><span class="comment">// Handle mouse moving window</span></div>
<div class="line"><a id="l05090" name="l05090"></a><span class="lineno"> 5090</span><span class="comment">// Note: moving window with the navigation keys (Square + d-pad / CTRL+TAB + Arrows) are processed in NavUpdateWindowing()</span></div>
<div class="line"><a id="l05091" name="l05091"></a><span class="lineno"> 5091</span><span class="comment">// FIXME: We don&#39;t have strong guarantee that g.MovingWindow stay synced with g.ActiveId == g.MovingWindow-&gt;MoveId.</span></div>
<div class="line"><a id="l05092" name="l05092"></a><span class="lineno"> 5092</span><span class="comment">// This is currently enforced by the fact that BeginDragDropSource() is setting all g.ActiveIdUsingXXXX flags to inhibit navigation inputs,</span></div>
<div class="line"><a id="l05093" name="l05093"></a><span class="lineno"> 5093</span><span class="comment">// but if we should more thoroughly test cases where g.ActiveId or g.MovingWindow gets changed and not the other.</span></div>
<div class="line"><a id="l05094" name="l05094"></a><span class="lineno"> 5094</span><span class="keywordtype">void</span> ImGui::UpdateMouseMovingWindowNewFrame()</div>
<div class="line"><a id="l05095" name="l05095"></a><span class="lineno"> 5095</span>{</div>
<div class="line"><a id="l05096" name="l05096"></a><span class="lineno"> 5096</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l05097" name="l05097"></a><span class="lineno"> 5097</span>    <span class="keywordflow">if</span> (g.MovingWindow != NULL)</div>
<div class="line"><a id="l05098" name="l05098"></a><span class="lineno"> 5098</span>    {</div>
<div class="line"><a id="l05099" name="l05099"></a><span class="lineno"> 5099</span>        <span class="comment">// We actually want to move the root window. g.MovingWindow == window we clicked on (could be a child window).</span></div>
<div class="line"><a id="l05100" name="l05100"></a><span class="lineno"> 5100</span>        <span class="comment">// We track it to preserve Focus and so that generally ActiveIdWindow == MovingWindow and ActiveId == MovingWindow-&gt;MoveId for consistency.</span></div>
<div class="line"><a id="l05101" name="l05101"></a><span class="lineno"> 5101</span>        KeepAliveID(g.ActiveId);</div>
<div class="line"><a id="l05102" name="l05102"></a><span class="lineno"> 5102</span>        IM_ASSERT(g.MovingWindow &amp;&amp; g.MovingWindow-&gt;RootWindowDockTree);</div>
<div class="line"><a id="l05103" name="l05103"></a><span class="lineno"> 5103</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* moving_window = g.MovingWindow-&gt;RootWindowDockTree;</div>
<div class="line"><a id="l05104" name="l05104"></a><span class="lineno"> 5104</span> </div>
<div class="line"><a id="l05105" name="l05105"></a><span class="lineno"> 5105</span>        <span class="comment">// When a window stop being submitted while being dragged, it may will its viewport until next Begin()</span></div>
<div class="line"><a id="l05106" name="l05106"></a><span class="lineno"> 5106</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> window_disappared = (!moving_window-&gt;WasActive &amp;&amp; !moving_window-&gt;Active);</div>
<div class="line"><a id="l05107" name="l05107"></a><span class="lineno"> 5107</span>        <span class="keywordflow">if</span> (g.IO.MouseDown[0] &amp;&amp; IsMousePosValid(&amp;g.IO.MousePos) &amp;&amp; !window_disappared)</div>
<div class="line"><a id="l05108" name="l05108"></a><span class="lineno"> 5108</span>        {</div>
<div class="line"><a id="l05109" name="l05109"></a><span class="lineno"> 5109</span>            <a class="code hl_struct" href="structImVec2.html">ImVec2</a> pos = g.IO.MousePos - g.ActiveIdClickOffset;</div>
<div class="line"><a id="l05110" name="l05110"></a><span class="lineno"> 5110</span>            <span class="keywordflow">if</span> (moving_window-&gt;Pos.x != pos.x || moving_window-&gt;Pos.y != pos.y)</div>
<div class="line"><a id="l05111" name="l05111"></a><span class="lineno"> 5111</span>            {</div>
<div class="line"><a id="l05112" name="l05112"></a><span class="lineno"> 5112</span>                SetWindowPos(moving_window, pos, ImGuiCond_Always);</div>
<div class="line"><a id="l05113" name="l05113"></a><span class="lineno"> 5113</span>                <span class="keywordflow">if</span> (moving_window-&gt;Viewport &amp;&amp; moving_window-&gt;ViewportOwned) <span class="comment">// Synchronize viewport immediately because some overlays may relies on clipping rectangle before we Begin() into the window.</span></div>
<div class="line"><a id="l05114" name="l05114"></a><span class="lineno"> 5114</span>                {</div>
<div class="line"><a id="l05115" name="l05115"></a><span class="lineno"> 5115</span>                    moving_window-&gt;Viewport-&gt;Pos = pos;</div>
<div class="line"><a id="l05116" name="l05116"></a><span class="lineno"> 5116</span>                    moving_window-&gt;Viewport-&gt;UpdateWorkRect();</div>
<div class="line"><a id="l05117" name="l05117"></a><span class="lineno"> 5117</span>                }</div>
<div class="line"><a id="l05118" name="l05118"></a><span class="lineno"> 5118</span>            }</div>
<div class="line"><a id="l05119" name="l05119"></a><span class="lineno"> 5119</span>            FocusWindow(g.MovingWindow);</div>
<div class="line"><a id="l05120" name="l05120"></a><span class="lineno"> 5120</span>        }</div>
<div class="line"><a id="l05121" name="l05121"></a><span class="lineno"> 5121</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l05122" name="l05122"></a><span class="lineno"> 5122</span>        {</div>
<div class="line"><a id="l05123" name="l05123"></a><span class="lineno"> 5123</span>            <span class="keywordflow">if</span> (!window_disappared)</div>
<div class="line"><a id="l05124" name="l05124"></a><span class="lineno"> 5124</span>            {</div>
<div class="line"><a id="l05125" name="l05125"></a><span class="lineno"> 5125</span>                <span class="comment">// Try to merge the window back into the main viewport.</span></div>
<div class="line"><a id="l05126" name="l05126"></a><span class="lineno"> 5126</span>                <span class="comment">// This works because MouseViewport should be != MovingWindow-&gt;Viewport on release (as per code in UpdateViewports)</span></div>
<div class="line"><a id="l05127" name="l05127"></a><span class="lineno"> 5127</span>                <span class="keywordflow">if</span> (g.ConfigFlagsCurrFrame &amp; ImGuiConfigFlags_ViewportsEnable)</div>
<div class="line"><a id="l05128" name="l05128"></a><span class="lineno"> 5128</span>                    UpdateTryMergeWindowIntoHostViewport(moving_window, g.MouseViewport);</div>
<div class="line"><a id="l05129" name="l05129"></a><span class="lineno"> 5129</span> </div>
<div class="line"><a id="l05130" name="l05130"></a><span class="lineno"> 5130</span>                <span class="comment">// Restore the mouse viewport so that we don&#39;t hover the viewport _under_ the moved window during the frame we released the mouse button.</span></div>
<div class="line"><a id="l05131" name="l05131"></a><span class="lineno"> 5131</span>                <span class="keywordflow">if</span> (moving_window-&gt;Viewport &amp;&amp; !IsDragDropPayloadBeingAccepted())</div>
<div class="line"><a id="l05132" name="l05132"></a><span class="lineno"> 5132</span>                    g.MouseViewport = moving_window-&gt;Viewport;</div>
<div class="line"><a id="l05133" name="l05133"></a><span class="lineno"> 5133</span> </div>
<div class="line"><a id="l05134" name="l05134"></a><span class="lineno"> 5134</span>                <span class="comment">// Clear the NoInput window flag set by the Viewport system</span></div>
<div class="line"><a id="l05135" name="l05135"></a><span class="lineno"> 5135</span>                <span class="keywordflow">if</span> (moving_window-&gt;Viewport)</div>
<div class="line"><a id="l05136" name="l05136"></a><span class="lineno"> 5136</span>                    moving_window-&gt;Viewport-&gt;Flags &amp;= ~ImGuiViewportFlags_NoInputs;</div>
<div class="line"><a id="l05137" name="l05137"></a><span class="lineno"> 5137</span>            }</div>
<div class="line"><a id="l05138" name="l05138"></a><span class="lineno"> 5138</span> </div>
<div class="line"><a id="l05139" name="l05139"></a><span class="lineno"> 5139</span>            g.MovingWindow = NULL;</div>
<div class="line"><a id="l05140" name="l05140"></a><span class="lineno"> 5140</span>            ClearActiveID();</div>
<div class="line"><a id="l05141" name="l05141"></a><span class="lineno"> 5141</span>        }</div>
<div class="line"><a id="l05142" name="l05142"></a><span class="lineno"> 5142</span>    }</div>
<div class="line"><a id="l05143" name="l05143"></a><span class="lineno"> 5143</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l05144" name="l05144"></a><span class="lineno"> 5144</span>    {</div>
<div class="line"><a id="l05145" name="l05145"></a><span class="lineno"> 5145</span>        <span class="comment">// When clicking/dragging from a window that has the _NoMove flag, we still set the ActiveId in order to prevent hovering others.</span></div>
<div class="line"><a id="l05146" name="l05146"></a><span class="lineno"> 5146</span>        <span class="keywordflow">if</span> (g.ActiveIdWindow &amp;&amp; g.ActiveIdWindow-&gt;MoveId == g.ActiveId)</div>
<div class="line"><a id="l05147" name="l05147"></a><span class="lineno"> 5147</span>        {</div>
<div class="line"><a id="l05148" name="l05148"></a><span class="lineno"> 5148</span>            KeepAliveID(g.ActiveId);</div>
<div class="line"><a id="l05149" name="l05149"></a><span class="lineno"> 5149</span>            <span class="keywordflow">if</span> (!g.IO.MouseDown[0])</div>
<div class="line"><a id="l05150" name="l05150"></a><span class="lineno"> 5150</span>                ClearActiveID();</div>
<div class="line"><a id="l05151" name="l05151"></a><span class="lineno"> 5151</span>        }</div>
<div class="line"><a id="l05152" name="l05152"></a><span class="lineno"> 5152</span>    }</div>
<div class="line"><a id="l05153" name="l05153"></a><span class="lineno"> 5153</span>}</div>
<div class="line"><a id="l05154" name="l05154"></a><span class="lineno"> 5154</span> </div>
<div class="line"><a id="l05155" name="l05155"></a><span class="lineno"> 5155</span><span class="comment">// Initiate focusing and moving window when clicking on empty space or title bar.</span></div>
<div class="line"><a id="l05156" name="l05156"></a><span class="lineno"> 5156</span><span class="comment">// Initiate focusing window when clicking on a disabled item.</span></div>
<div class="line"><a id="l05157" name="l05157"></a><span class="lineno"> 5157</span><span class="comment">// Handle left-click and right-click focus.</span></div>
<div class="line"><a id="l05158" name="l05158"></a><span class="lineno"> 5158</span><span class="keywordtype">void</span> ImGui::UpdateMouseMovingWindowEndFrame()</div>
<div class="line"><a id="l05159" name="l05159"></a><span class="lineno"> 5159</span>{</div>
<div class="line"><a id="l05160" name="l05160"></a><span class="lineno"> 5160</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l05161" name="l05161"></a><span class="lineno"> 5161</span>    <span class="keywordflow">if</span> (g.ActiveId != 0 || (g.HoveredId != 0 &amp;&amp; !g.HoveredIdIsDisabled))</div>
<div class="line"><a id="l05162" name="l05162"></a><span class="lineno"> 5162</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l05163" name="l05163"></a><span class="lineno"> 5163</span> </div>
<div class="line"><a id="l05164" name="l05164"></a><span class="lineno"> 5164</span>    <span class="comment">// Unless we just made a window/popup appear</span></div>
<div class="line"><a id="l05165" name="l05165"></a><span class="lineno"> 5165</span>    <span class="keywordflow">if</span> (g.NavWindow &amp;&amp; g.NavWindow-&gt;Appearing)</div>
<div class="line"><a id="l05166" name="l05166"></a><span class="lineno"> 5166</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l05167" name="l05167"></a><span class="lineno"> 5167</span> </div>
<div class="line"><a id="l05168" name="l05168"></a><span class="lineno"> 5168</span>    <span class="comment">// Click on empty space to focus window and start moving</span></div>
<div class="line"><a id="l05169" name="l05169"></a><span class="lineno"> 5169</span>    <span class="comment">// (after we&#39;re done with all our widgets, so e.g. clicking on docking tab-bar which have set HoveredId already and not get us here!)</span></div>
<div class="line"><a id="l05170" name="l05170"></a><span class="lineno"> 5170</span>    <span class="keywordflow">if</span> (g.IO.MouseClicked[0])</div>
<div class="line"><a id="l05171" name="l05171"></a><span class="lineno"> 5171</span>    {</div>
<div class="line"><a id="l05172" name="l05172"></a><span class="lineno"> 5172</span>        <span class="comment">// Handle the edge case of a popup being closed while clicking in its empty space.</span></div>
<div class="line"><a id="l05173" name="l05173"></a><span class="lineno"> 5173</span>        <span class="comment">// If we try to focus it, FocusWindow() &gt; ClosePopupsOverWindow() will accidentally close any parent popups because they are not linked together any more.</span></div>
<div class="line"><a id="l05174" name="l05174"></a><span class="lineno"> 5174</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* root_window = g.HoveredWindow ? g.HoveredWindow-&gt;RootWindow : NULL;</div>
<div class="line"><a id="l05175" name="l05175"></a><span class="lineno"> 5175</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_closed_popup = root_window &amp;&amp; (root_window-&gt;Flags &amp; ImGuiWindowFlags_Popup) &amp;&amp; !IsPopupOpen(root_window-&gt;PopupId, ImGuiPopupFlags_AnyPopupLevel);</div>
<div class="line"><a id="l05176" name="l05176"></a><span class="lineno"> 5176</span> </div>
<div class="line"><a id="l05177" name="l05177"></a><span class="lineno"> 5177</span>        <span class="keywordflow">if</span> (root_window != NULL &amp;&amp; !is_closed_popup)</div>
<div class="line"><a id="l05178" name="l05178"></a><span class="lineno"> 5178</span>        {</div>
<div class="line"><a id="l05179" name="l05179"></a><span class="lineno"> 5179</span>            StartMouseMovingWindow(g.HoveredWindow); <span class="comment">//-V595</span></div>
<div class="line"><a id="l05180" name="l05180"></a><span class="lineno"> 5180</span> </div>
<div class="line"><a id="l05181" name="l05181"></a><span class="lineno"> 5181</span>            <span class="comment">// Cancel moving if clicked outside of title bar</span></div>
<div class="line"><a id="l05182" name="l05182"></a><span class="lineno"> 5182</span>            <span class="keywordflow">if</span> (g.IO.ConfigWindowsMoveFromTitleBarOnly)</div>
<div class="line"><a id="l05183" name="l05183"></a><span class="lineno"> 5183</span>                <span class="keywordflow">if</span> (!(root_window-&gt;Flags &amp; ImGuiWindowFlags_NoTitleBar) || root_window-&gt;DockIsActive)</div>
<div class="line"><a id="l05184" name="l05184"></a><span class="lineno"> 5184</span>                    <span class="keywordflow">if</span> (!root_window-&gt;TitleBarRect().Contains(g.IO.MouseClickedPos[0]))</div>
<div class="line"><a id="l05185" name="l05185"></a><span class="lineno"> 5185</span>                        g.MovingWindow = NULL;</div>
<div class="line"><a id="l05186" name="l05186"></a><span class="lineno"> 5186</span> </div>
<div class="line"><a id="l05187" name="l05187"></a><span class="lineno"> 5187</span>            <span class="comment">// Cancel moving if clicked over an item which was disabled or inhibited by popups</span></div>
<div class="line"><a id="l05188" name="l05188"></a><span class="lineno"> 5188</span>            <span class="comment">// (when g.HoveredIdIsDisabled == true &amp;&amp; g.HoveredId == 0 we are inhibited by popups, when g.HoveredIdIsDisabled == true &amp;&amp; g.HoveredId != 0 we are over a disabled item)0 already)</span></div>
<div class="line"><a id="l05189" name="l05189"></a><span class="lineno"> 5189</span>            <span class="keywordflow">if</span> (g.HoveredIdIsDisabled)</div>
<div class="line"><a id="l05190" name="l05190"></a><span class="lineno"> 5190</span>                g.MovingWindow = NULL;</div>
<div class="line"><a id="l05191" name="l05191"></a><span class="lineno"> 5191</span>        }</div>
<div class="line"><a id="l05192" name="l05192"></a><span class="lineno"> 5192</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (root_window == NULL &amp;&amp; g.NavWindow != NULL)</div>
<div class="line"><a id="l05193" name="l05193"></a><span class="lineno"> 5193</span>        {</div>
<div class="line"><a id="l05194" name="l05194"></a><span class="lineno"> 5194</span>            <span class="comment">// Clicking on void disable focus</span></div>
<div class="line"><a id="l05195" name="l05195"></a><span class="lineno"> 5195</span>            FocusWindow(NULL, ImGuiFocusRequestFlags_UnlessBelowModal);</div>
<div class="line"><a id="l05196" name="l05196"></a><span class="lineno"> 5196</span>        }</div>
<div class="line"><a id="l05197" name="l05197"></a><span class="lineno"> 5197</span>    }</div>
<div class="line"><a id="l05198" name="l05198"></a><span class="lineno"> 5198</span> </div>
<div class="line"><a id="l05199" name="l05199"></a><span class="lineno"> 5199</span>    <span class="comment">// With right mouse button we close popups without changing focus based on where the mouse is aimed</span></div>
<div class="line"><a id="l05200" name="l05200"></a><span class="lineno"> 5200</span>    <span class="comment">// Instead, focus will be restored to the window under the bottom-most closed popup.</span></div>
<div class="line"><a id="l05201" name="l05201"></a><span class="lineno"> 5201</span>    <span class="comment">// (The left mouse button path calls FocusWindow on the hovered window, which will lead NewFrame-&gt;ClosePopupsOverWindow to trigger)</span></div>
<div class="line"><a id="l05202" name="l05202"></a><span class="lineno"> 5202</span>    <span class="keywordflow">if</span> (g.IO.MouseClicked[1] &amp;&amp; g.HoveredId == 0)</div>
<div class="line"><a id="l05203" name="l05203"></a><span class="lineno"> 5203</span>    {</div>
<div class="line"><a id="l05204" name="l05204"></a><span class="lineno"> 5204</span>        <span class="comment">// Find the top-most window between HoveredWindow and the top-most Modal Window.</span></div>
<div class="line"><a id="l05205" name="l05205"></a><span class="lineno"> 5205</span>        <span class="comment">// This is where we can trim the popup stack.</span></div>
<div class="line"><a id="l05206" name="l05206"></a><span class="lineno"> 5206</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* modal = GetTopMostPopupModal();</div>
<div class="line"><a id="l05207" name="l05207"></a><span class="lineno"> 5207</span>        <span class="keywordtype">bool</span> hovered_window_above_modal = g.HoveredWindow &amp;&amp; (modal == NULL || IsWindowAbove(g.HoveredWindow, modal));</div>
<div class="line"><a id="l05208" name="l05208"></a><span class="lineno"> 5208</span>        ClosePopupsOverWindow(hovered_window_above_modal ? g.HoveredWindow : modal, true);</div>
<div class="line"><a id="l05209" name="l05209"></a><span class="lineno"> 5209</span>    }</div>
<div class="line"><a id="l05210" name="l05210"></a><span class="lineno"> 5210</span>}</div>
<div class="line"><a id="l05211" name="l05211"></a><span class="lineno"> 5211</span> </div>
<div class="line"><a id="l05212" name="l05212"></a><span class="lineno"> 5212</span><span class="comment">// This is called during NewFrame()-&gt;UpdateViewportsNewFrame() only.</span></div>
<div class="line"><a id="l05213" name="l05213"></a><span class="lineno"> 5213</span><span class="comment">// Need to keep in sync with SetWindowPos()</span></div>
<div class="line"><a id="l05214" name="l05214"></a><span class="lineno"> 5214</span><span class="keyword">static</span> <span class="keywordtype">void</span> TranslateWindow(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; delta)</div>
<div class="line"><a id="l05215" name="l05215"></a><span class="lineno"> 5215</span>{</div>
<div class="line"><a id="l05216" name="l05216"></a><span class="lineno"> 5216</span>    window-&gt;Pos += delta;</div>
<div class="line"><a id="l05217" name="l05217"></a><span class="lineno"> 5217</span>    window-&gt;ClipRect.Translate(delta);</div>
<div class="line"><a id="l05218" name="l05218"></a><span class="lineno"> 5218</span>    window-&gt;OuterRectClipped.Translate(delta);</div>
<div class="line"><a id="l05219" name="l05219"></a><span class="lineno"> 5219</span>    window-&gt;InnerRect.Translate(delta);</div>
<div class="line"><a id="l05220" name="l05220"></a><span class="lineno"> 5220</span>    window-&gt;DC.CursorPos += delta;</div>
<div class="line"><a id="l05221" name="l05221"></a><span class="lineno"> 5221</span>    window-&gt;DC.CursorStartPos += delta;</div>
<div class="line"><a id="l05222" name="l05222"></a><span class="lineno"> 5222</span>    window-&gt;DC.CursorMaxPos += delta;</div>
<div class="line"><a id="l05223" name="l05223"></a><span class="lineno"> 5223</span>    window-&gt;DC.IdealMaxPos += delta;</div>
<div class="line"><a id="l05224" name="l05224"></a><span class="lineno"> 5224</span>}</div>
<div class="line"><a id="l05225" name="l05225"></a><span class="lineno"> 5225</span> </div>
<div class="line"><a id="l05226" name="l05226"></a><span class="lineno"> 5226</span><span class="keyword">static</span> <span class="keywordtype">void</span> ScaleWindow(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keywordtype">float</span> scale)</div>
<div class="line"><a id="l05227" name="l05227"></a><span class="lineno"> 5227</span>{</div>
<div class="line"><a id="l05228" name="l05228"></a><span class="lineno"> 5228</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> origin = window-&gt;Viewport-&gt;Pos;</div>
<div class="line"><a id="l05229" name="l05229"></a><span class="lineno"> 5229</span>    window-&gt;Pos = ImFloor((window-&gt;Pos - origin) * scale + origin);</div>
<div class="line"><a id="l05230" name="l05230"></a><span class="lineno"> 5230</span>    window-&gt;Size = ImTrunc(window-&gt;Size * scale);</div>
<div class="line"><a id="l05231" name="l05231"></a><span class="lineno"> 5231</span>    window-&gt;SizeFull = ImTrunc(window-&gt;SizeFull * scale);</div>
<div class="line"><a id="l05232" name="l05232"></a><span class="lineno"> 5232</span>    window-&gt;ContentSize = ImTrunc(window-&gt;ContentSize * scale);</div>
<div class="line"><a id="l05233" name="l05233"></a><span class="lineno"> 5233</span>}</div>
<div class="line"><a id="l05234" name="l05234"></a><span class="lineno"> 5234</span> </div>
<div class="line"><a id="l05235" name="l05235"></a><span class="lineno"> 5235</span><span class="keyword">static</span> <span class="keywordtype">bool</span> IsWindowActiveAndVisible(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l05236" name="l05236"></a><span class="lineno"> 5236</span>{</div>
<div class="line"><a id="l05237" name="l05237"></a><span class="lineno"> 5237</span>    <span class="keywordflow">return</span> (window-&gt;Active) &amp;&amp; (!window-&gt;Hidden);</div>
<div class="line"><a id="l05238" name="l05238"></a><span class="lineno"> 5238</span>}</div>
<div class="line"><a id="l05239" name="l05239"></a><span class="lineno"> 5239</span> </div>
<div class="line"><a id="l05240" name="l05240"></a><span class="lineno"> 5240</span><span class="comment">// The reason this is exposed in imgui_internal.h is: on touch-based system that don&#39;t have hovering, we want to dispatch inputs to the right target (imgui vs imgui+app)</span></div>
<div class="line"><a id="l05241" name="l05241"></a><span class="lineno"> 5241</span><span class="keywordtype">void</span> ImGui::UpdateHoveredWindowAndCaptureFlags(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; mouse_pos)</div>
<div class="line"><a id="l05242" name="l05242"></a><span class="lineno"> 5242</span>{</div>
<div class="line"><a id="l05243" name="l05243"></a><span class="lineno"> 5243</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l05244" name="l05244"></a><span class="lineno"> 5244</span>    <a class="code hl_struct" href="structImGuiIO.html">ImGuiIO</a>&amp; io = g.IO;</div>
<div class="line"><a id="l05245" name="l05245"></a><span class="lineno"> 5245</span> </div>
<div class="line"><a id="l05246" name="l05246"></a><span class="lineno"> 5246</span>    <span class="comment">// FIXME-DPI: This storage was added on 2021/03/31 for test engine, but if we want to multiply WINDOWS_HOVER_PADDING</span></div>
<div class="line"><a id="l05247" name="l05247"></a><span class="lineno"> 5247</span>    <span class="comment">// by DpiScale, we need to make this window-agnostic anyhow, maybe need storing inside ImGuiWindow.</span></div>
<div class="line"><a id="l05248" name="l05248"></a><span class="lineno"> 5248</span>    g.WindowsBorderHoverPadding = ImMax(ImMax(g.Style.TouchExtraPadding.x, g.Style.TouchExtraPadding.y), g.Style.WindowBorderHoverPadding);</div>
<div class="line"><a id="l05249" name="l05249"></a><span class="lineno"> 5249</span> </div>
<div class="line"><a id="l05250" name="l05250"></a><span class="lineno"> 5250</span>    <span class="comment">// Find the window hovered by mouse:</span></div>
<div class="line"><a id="l05251" name="l05251"></a><span class="lineno"> 5251</span>    <span class="comment">// - Child windows can extend beyond the limit of their parent so we need to derive HoveredRootWindow from HoveredWindow.</span></div>
<div class="line"><a id="l05252" name="l05252"></a><span class="lineno"> 5252</span>    <span class="comment">// - When moving a window we can skip the search, which also conveniently bypasses the fact that window-&gt;WindowRectClipped is lagging as this point of the frame.</span></div>
<div class="line"><a id="l05253" name="l05253"></a><span class="lineno"> 5253</span>    <span class="comment">// - We also support the moved window toggling the NoInputs flag after moving has started in order to be able to detect windows below it, which is useful for e.g. docking mechanisms.</span></div>
<div class="line"><a id="l05254" name="l05254"></a><span class="lineno"> 5254</span>    <span class="keywordtype">bool</span> clear_hovered_windows = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05255" name="l05255"></a><span class="lineno"> 5255</span>    FindHoveredWindowEx(mouse_pos, <span class="keyword">false</span>, &amp;g.HoveredWindow, &amp;g.HoveredWindowUnderMovingWindow);</div>
<div class="line"><a id="l05256" name="l05256"></a><span class="lineno"> 5256</span>    IM_ASSERT(g.HoveredWindow == NULL || g.HoveredWindow == g.MovingWindow || g.HoveredWindow-&gt;Viewport == g.MouseViewport);</div>
<div class="line"><a id="l05257" name="l05257"></a><span class="lineno"> 5257</span>    g.HoveredWindowBeforeClear = g.HoveredWindow;</div>
<div class="line"><a id="l05258" name="l05258"></a><span class="lineno"> 5258</span> </div>
<div class="line"><a id="l05259" name="l05259"></a><span class="lineno"> 5259</span>    <span class="comment">// Modal windows prevents mouse from hovering behind them.</span></div>
<div class="line"><a id="l05260" name="l05260"></a><span class="lineno"> 5260</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* modal_window = GetTopMostPopupModal();</div>
<div class="line"><a id="l05261" name="l05261"></a><span class="lineno"> 5261</span>    <span class="keywordflow">if</span> (modal_window &amp;&amp; g.HoveredWindow &amp;&amp; !IsWindowWithinBeginStackOf(g.HoveredWindow-&gt;RootWindow, modal_window)) <span class="comment">// FIXME-MERGE: RootWindowDockTree ?</span></div>
<div class="line"><a id="l05262" name="l05262"></a><span class="lineno"> 5262</span>        clear_hovered_windows = <span class="keyword">true</span>;</div>
<div class="line"><a id="l05263" name="l05263"></a><span class="lineno"> 5263</span> </div>
<div class="line"><a id="l05264" name="l05264"></a><span class="lineno"> 5264</span>    <span class="comment">// Disabled mouse hovering (we don&#39;t currently clear MousePos, we could)</span></div>
<div class="line"><a id="l05265" name="l05265"></a><span class="lineno"> 5265</span>    <span class="keywordflow">if</span> (io.ConfigFlags &amp; ImGuiConfigFlags_NoMouse)</div>
<div class="line"><a id="l05266" name="l05266"></a><span class="lineno"> 5266</span>        clear_hovered_windows = <span class="keyword">true</span>;</div>
<div class="line"><a id="l05267" name="l05267"></a><span class="lineno"> 5267</span> </div>
<div class="line"><a id="l05268" name="l05268"></a><span class="lineno"> 5268</span>    <span class="comment">// We track click ownership. When clicked outside of a window the click is owned by the application and</span></div>
<div class="line"><a id="l05269" name="l05269"></a><span class="lineno"> 5269</span>    <span class="comment">// won&#39;t report hovering nor request capture even while dragging over our windows afterward.</span></div>
<div class="line"><a id="l05270" name="l05270"></a><span class="lineno"> 5270</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> has_open_popup = (g.OpenPopupStack.Size &gt; 0);</div>
<div class="line"><a id="l05271" name="l05271"></a><span class="lineno"> 5271</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> has_open_modal = (modal_window != NULL);</div>
<div class="line"><a id="l05272" name="l05272"></a><span class="lineno"> 5272</span>    <span class="keywordtype">int</span> mouse_earliest_down = -1;</div>
<div class="line"><a id="l05273" name="l05273"></a><span class="lineno"> 5273</span>    <span class="keywordtype">bool</span> mouse_any_down = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05274" name="l05274"></a><span class="lineno"> 5274</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; IM_ARRAYSIZE(io.MouseDown); i++)</div>
<div class="line"><a id="l05275" name="l05275"></a><span class="lineno"> 5275</span>    {</div>
<div class="line"><a id="l05276" name="l05276"></a><span class="lineno"> 5276</span>        <span class="keywordflow">if</span> (io.MouseClicked[i])</div>
<div class="line"><a id="l05277" name="l05277"></a><span class="lineno"> 5277</span>        {</div>
<div class="line"><a id="l05278" name="l05278"></a><span class="lineno"> 5278</span>            io.MouseDownOwned[i] = (g.HoveredWindow != NULL) || has_open_popup;</div>
<div class="line"><a id="l05279" name="l05279"></a><span class="lineno"> 5279</span>            io.MouseDownOwnedUnlessPopupClose[i] = (g.HoveredWindow != NULL) || has_open_modal;</div>
<div class="line"><a id="l05280" name="l05280"></a><span class="lineno"> 5280</span>        }</div>
<div class="line"><a id="l05281" name="l05281"></a><span class="lineno"> 5281</span>        mouse_any_down |= io.MouseDown[i];</div>
<div class="line"><a id="l05282" name="l05282"></a><span class="lineno"> 5282</span>        <span class="keywordflow">if</span> (io.MouseDown[i] || io.MouseReleased[i]) <span class="comment">// Increase release frame for our evaluation of earliest button (#1392)</span></div>
<div class="line"><a id="l05283" name="l05283"></a><span class="lineno"> 5283</span>            <span class="keywordflow">if</span> (mouse_earliest_down == -1 || io.MouseClickedTime[i] &lt; io.MouseClickedTime[mouse_earliest_down])</div>
<div class="line"><a id="l05284" name="l05284"></a><span class="lineno"> 5284</span>                mouse_earliest_down = i;</div>
<div class="line"><a id="l05285" name="l05285"></a><span class="lineno"> 5285</span>    }</div>
<div class="line"><a id="l05286" name="l05286"></a><span class="lineno"> 5286</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> mouse_avail = (mouse_earliest_down == -1) || io.MouseDownOwned[mouse_earliest_down];</div>
<div class="line"><a id="l05287" name="l05287"></a><span class="lineno"> 5287</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> mouse_avail_unless_popup_close = (mouse_earliest_down == -1) || io.MouseDownOwnedUnlessPopupClose[mouse_earliest_down];</div>
<div class="line"><a id="l05288" name="l05288"></a><span class="lineno"> 5288</span> </div>
<div class="line"><a id="l05289" name="l05289"></a><span class="lineno"> 5289</span>    <span class="comment">// If mouse was first clicked outside of ImGui bounds we also cancel out hovering.</span></div>
<div class="line"><a id="l05290" name="l05290"></a><span class="lineno"> 5290</span>    <span class="comment">// FIXME: For patterns of drag and drop across OS windows, we may need to rework/remove this test (first committed 311c0ca9 on 2015/02)</span></div>
<div class="line"><a id="l05291" name="l05291"></a><span class="lineno"> 5291</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> mouse_dragging_extern_payload = g.DragDropActive &amp;&amp; (g.DragDropSourceFlags &amp; ImGuiDragDropFlags_SourceExtern) != 0;</div>
<div class="line"><a id="l05292" name="l05292"></a><span class="lineno"> 5292</span>    <span class="keywordflow">if</span> (!mouse_avail &amp;&amp; !mouse_dragging_extern_payload)</div>
<div class="line"><a id="l05293" name="l05293"></a><span class="lineno"> 5293</span>        clear_hovered_windows = <span class="keyword">true</span>;</div>
<div class="line"><a id="l05294" name="l05294"></a><span class="lineno"> 5294</span> </div>
<div class="line"><a id="l05295" name="l05295"></a><span class="lineno"> 5295</span>    <span class="keywordflow">if</span> (clear_hovered_windows)</div>
<div class="line"><a id="l05296" name="l05296"></a><span class="lineno"> 5296</span>        g.HoveredWindow = g.HoveredWindowUnderMovingWindow = NULL;</div>
<div class="line"><a id="l05297" name="l05297"></a><span class="lineno"> 5297</span> </div>
<div class="line"><a id="l05298" name="l05298"></a><span class="lineno"> 5298</span>    <span class="comment">// Update io.WantCaptureMouse for the user application (true = dispatch mouse info to Dear ImGui only, false = dispatch mouse to Dear ImGui + underlying app)</span></div>
<div class="line"><a id="l05299" name="l05299"></a><span class="lineno"> 5299</span>    <span class="comment">// Update io.WantCaptureMouseAllowPopupClose (experimental) to give a chance for app to react to popup closure with a drag</span></div>
<div class="line"><a id="l05300" name="l05300"></a><span class="lineno"> 5300</span>    <span class="keywordflow">if</span> (g.WantCaptureMouseNextFrame != -1)</div>
<div class="line"><a id="l05301" name="l05301"></a><span class="lineno"> 5301</span>    {</div>
<div class="line"><a id="l05302" name="l05302"></a><span class="lineno"> 5302</span>        io.WantCaptureMouse = io.WantCaptureMouseUnlessPopupClose = (g.WantCaptureMouseNextFrame != 0);</div>
<div class="line"><a id="l05303" name="l05303"></a><span class="lineno"> 5303</span>    }</div>
<div class="line"><a id="l05304" name="l05304"></a><span class="lineno"> 5304</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l05305" name="l05305"></a><span class="lineno"> 5305</span>    {</div>
<div class="line"><a id="l05306" name="l05306"></a><span class="lineno"> 5306</span>        io.WantCaptureMouse = (mouse_avail &amp;&amp; (g.HoveredWindow != NULL || mouse_any_down)) || has_open_popup;</div>
<div class="line"><a id="l05307" name="l05307"></a><span class="lineno"> 5307</span>        io.WantCaptureMouseUnlessPopupClose = (mouse_avail_unless_popup_close &amp;&amp; (g.HoveredWindow != NULL || mouse_any_down)) || has_open_modal;</div>
<div class="line"><a id="l05308" name="l05308"></a><span class="lineno"> 5308</span>    }</div>
<div class="line"><a id="l05309" name="l05309"></a><span class="lineno"> 5309</span> </div>
<div class="line"><a id="l05310" name="l05310"></a><span class="lineno"> 5310</span>    <span class="comment">// Update io.WantCaptureKeyboard for the user application (true = dispatch keyboard info to Dear ImGui only, false = dispatch keyboard info to Dear ImGui + underlying app)</span></div>
<div class="line"><a id="l05311" name="l05311"></a><span class="lineno"> 5311</span>    io.WantCaptureKeyboard = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05312" name="l05312"></a><span class="lineno"> 5312</span>    <span class="keywordflow">if</span> ((io.ConfigFlags &amp; ImGuiConfigFlags_NoKeyboard) == 0)</div>
<div class="line"><a id="l05313" name="l05313"></a><span class="lineno"> 5313</span>    {</div>
<div class="line"><a id="l05314" name="l05314"></a><span class="lineno"> 5314</span>        <span class="keywordflow">if</span> ((g.ActiveId != 0) || (modal_window != NULL))</div>
<div class="line"><a id="l05315" name="l05315"></a><span class="lineno"> 5315</span>            io.WantCaptureKeyboard = <span class="keyword">true</span>;</div>
<div class="line"><a id="l05316" name="l05316"></a><span class="lineno"> 5316</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (io.NavActive &amp;&amp; (io.ConfigFlags &amp; ImGuiConfigFlags_NavEnableKeyboard) &amp;&amp; io.ConfigNavCaptureKeyboard)</div>
<div class="line"><a id="l05317" name="l05317"></a><span class="lineno"> 5317</span>            io.WantCaptureKeyboard = <span class="keyword">true</span>;</div>
<div class="line"><a id="l05318" name="l05318"></a><span class="lineno"> 5318</span>    }</div>
<div class="line"><a id="l05319" name="l05319"></a><span class="lineno"> 5319</span>    <span class="keywordflow">if</span> (g.WantCaptureKeyboardNextFrame != -1) <span class="comment">// Manual override</span></div>
<div class="line"><a id="l05320" name="l05320"></a><span class="lineno"> 5320</span>        io.WantCaptureKeyboard = (g.WantCaptureKeyboardNextFrame != 0);</div>
<div class="line"><a id="l05321" name="l05321"></a><span class="lineno"> 5321</span> </div>
<div class="line"><a id="l05322" name="l05322"></a><span class="lineno"> 5322</span>    <span class="comment">// Update io.WantTextInput flag, this is to allow systems without a keyboard (e.g. mobile, hand-held) to show a software keyboard if possible</span></div>
<div class="line"><a id="l05323" name="l05323"></a><span class="lineno"> 5323</span>    io.WantTextInput = (g.WantTextInputNextFrame != -1) ? (g.WantTextInputNextFrame != 0) : <span class="keyword">false</span>;</div>
<div class="line"><a id="l05324" name="l05324"></a><span class="lineno"> 5324</span>}</div>
<div class="line"><a id="l05325" name="l05325"></a><span class="lineno"> 5325</span> </div>
<div class="line"><a id="l05326" name="l05326"></a><span class="lineno"> 5326</span><span class="comment">// Called once a frame. Followed by SetCurrentFont() which sets up the remaining data.</span></div>
<div class="line"><a id="l05327" name="l05327"></a><span class="lineno"> 5327</span><span class="comment">// FIXME-VIEWPORT: the concept of a single ClipRectFullscreen is not ideal!</span></div>
<div class="line"><a id="l05328" name="l05328"></a><span class="lineno"> 5328</span><span class="keyword">static</span> <span class="keywordtype">void</span> SetupDrawListSharedData()</div>
<div class="line"><a id="l05329" name="l05329"></a><span class="lineno"> 5329</span>{</div>
<div class="line"><a id="l05330" name="l05330"></a><span class="lineno"> 5330</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l05331" name="l05331"></a><span class="lineno"> 5331</span>    <a class="code hl_struct" href="structImRect.html">ImRect</a> virtual_space(FLT_MAX, FLT_MAX, -FLT_MAX, -FLT_MAX);</div>
<div class="line"><a id="l05332" name="l05332"></a><span class="lineno"> 5332</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport : g.Viewports)</div>
<div class="line"><a id="l05333" name="l05333"></a><span class="lineno"> 5333</span>        virtual_space.Add(viewport-&gt;GetMainRect());</div>
<div class="line"><a id="l05334" name="l05334"></a><span class="lineno"> 5334</span>    g.DrawListSharedData.ClipRectFullscreen = virtual_space.ToVec4();</div>
<div class="line"><a id="l05335" name="l05335"></a><span class="lineno"> 5335</span>    g.DrawListSharedData.CurveTessellationTol = g.Style.CurveTessellationTol;</div>
<div class="line"><a id="l05336" name="l05336"></a><span class="lineno"> 5336</span>    g.DrawListSharedData.SetCircleTessellationMaxError(g.Style.CircleTessellationMaxError);</div>
<div class="line"><a id="l05337" name="l05337"></a><span class="lineno"> 5337</span>    g.DrawListSharedData.InitialFlags = ImDrawListFlags_None;</div>
<div class="line"><a id="l05338" name="l05338"></a><span class="lineno"> 5338</span>    <span class="keywordflow">if</span> (g.Style.AntiAliasedLines)</div>
<div class="line"><a id="l05339" name="l05339"></a><span class="lineno"> 5339</span>        g.DrawListSharedData.InitialFlags |= ImDrawListFlags_AntiAliasedLines;</div>
<div class="line"><a id="l05340" name="l05340"></a><span class="lineno"> 5340</span>    <span class="keywordflow">if</span> (g.Style.AntiAliasedLinesUseTex &amp;&amp; !(g.IO.Fonts-&gt;Flags &amp; ImFontAtlasFlags_NoBakedLines))</div>
<div class="line"><a id="l05341" name="l05341"></a><span class="lineno"> 5341</span>        g.DrawListSharedData.InitialFlags |= ImDrawListFlags_AntiAliasedLinesUseTex;</div>
<div class="line"><a id="l05342" name="l05342"></a><span class="lineno"> 5342</span>    <span class="keywordflow">if</span> (g.Style.AntiAliasedFill)</div>
<div class="line"><a id="l05343" name="l05343"></a><span class="lineno"> 5343</span>        g.DrawListSharedData.InitialFlags |= ImDrawListFlags_AntiAliasedFill;</div>
<div class="line"><a id="l05344" name="l05344"></a><span class="lineno"> 5344</span>    <span class="keywordflow">if</span> (g.IO.BackendFlags &amp; ImGuiBackendFlags_RendererHasVtxOffset)</div>
<div class="line"><a id="l05345" name="l05345"></a><span class="lineno"> 5345</span>        g.DrawListSharedData.InitialFlags |= ImDrawListFlags_AllowVtxOffset;</div>
<div class="line"><a id="l05346" name="l05346"></a><span class="lineno"> 5346</span>    g.DrawListSharedData.InitialFringeScale = 1.0f; <span class="comment">// FIXME-DPI: Change this for some DPI scaling experiments.</span></div>
<div class="line"><a id="l05347" name="l05347"></a><span class="lineno"> 5347</span>}</div>
<div class="line"><a id="l05348" name="l05348"></a><span class="lineno"> 5348</span> </div>
<div class="line"><a id="l05349" name="l05349"></a><span class="lineno"> 5349</span><span class="keywordtype">void</span> ImGui::NewFrame()</div>
<div class="line"><a id="l05350" name="l05350"></a><span class="lineno"> 5350</span>{</div>
<div class="line"><a id="l05351" name="l05351"></a><span class="lineno"> 5351</span>    IM_ASSERT(GImGui != NULL &amp;&amp; <span class="stringliteral">&quot;No current context. Did you call ImGui::CreateContext() and ImGui::SetCurrentContext() ?&quot;</span>);</div>
<div class="line"><a id="l05352" name="l05352"></a><span class="lineno"> 5352</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l05353" name="l05353"></a><span class="lineno"> 5353</span> </div>
<div class="line"><a id="l05354" name="l05354"></a><span class="lineno"> 5354</span>    <span class="comment">// Remove pending delete hooks before frame start.</span></div>
<div class="line"><a id="l05355" name="l05355"></a><span class="lineno"> 5355</span>    <span class="comment">// This deferred removal avoid issues of removal while iterating the hook vector</span></div>
<div class="line"><a id="l05356" name="l05356"></a><span class="lineno"> 5356</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = g.Hooks.Size - 1; n &gt;= 0; n--)</div>
<div class="line"><a id="l05357" name="l05357"></a><span class="lineno"> 5357</span>        <span class="keywordflow">if</span> (g.Hooks[n].Type == ImGuiContextHookType_PendingRemoval_)</div>
<div class="line"><a id="l05358" name="l05358"></a><span class="lineno"> 5358</span>            g.Hooks.erase(&amp;g.Hooks[n]);</div>
<div class="line"><a id="l05359" name="l05359"></a><span class="lineno"> 5359</span> </div>
<div class="line"><a id="l05360" name="l05360"></a><span class="lineno"> 5360</span>    CallContextHooks(&amp;g, ImGuiContextHookType_NewFramePre);</div>
<div class="line"><a id="l05361" name="l05361"></a><span class="lineno"> 5361</span> </div>
<div class="line"><a id="l05362" name="l05362"></a><span class="lineno"> 5362</span>    <span class="comment">// Check and assert for various common IO and Configuration mistakes</span></div>
<div class="line"><a id="l05363" name="l05363"></a><span class="lineno"> 5363</span>    g.ConfigFlagsLastFrame = g.ConfigFlagsCurrFrame;</div>
<div class="line"><a id="l05364" name="l05364"></a><span class="lineno"> 5364</span>    ErrorCheckNewFrameSanityChecks();</div>
<div class="line"><a id="l05365" name="l05365"></a><span class="lineno"> 5365</span>    g.ConfigFlagsCurrFrame = g.IO.ConfigFlags;</div>
<div class="line"><a id="l05366" name="l05366"></a><span class="lineno"> 5366</span> </div>
<div class="line"><a id="l05367" name="l05367"></a><span class="lineno"> 5367</span>    <span class="comment">// Load settings on first frame, save settings when modified (after a delay)</span></div>
<div class="line"><a id="l05368" name="l05368"></a><span class="lineno"> 5368</span>    UpdateSettings();</div>
<div class="line"><a id="l05369" name="l05369"></a><span class="lineno"> 5369</span> </div>
<div class="line"><a id="l05370" name="l05370"></a><span class="lineno"> 5370</span>    g.Time += g.IO.DeltaTime;</div>
<div class="line"><a id="l05371" name="l05371"></a><span class="lineno"> 5371</span>    g.WithinFrameScope = <span class="keyword">true</span>;</div>
<div class="line"><a id="l05372" name="l05372"></a><span class="lineno"> 5372</span>    g.FrameCount += 1;</div>
<div class="line"><a id="l05373" name="l05373"></a><span class="lineno"> 5373</span>    g.TooltipOverrideCount = 0;</div>
<div class="line"><a id="l05374" name="l05374"></a><span class="lineno"> 5374</span>    g.WindowsActiveCount = 0;</div>
<div class="line"><a id="l05375" name="l05375"></a><span class="lineno"> 5375</span>    g.MenusIdSubmittedThisFrame.resize(0);</div>
<div class="line"><a id="l05376" name="l05376"></a><span class="lineno"> 5376</span> </div>
<div class="line"><a id="l05377" name="l05377"></a><span class="lineno"> 5377</span>    <span class="comment">// Calculate frame-rate for the user, as a purely luxurious feature</span></div>
<div class="line"><a id="l05378" name="l05378"></a><span class="lineno"> 5378</span>    g.FramerateSecPerFrameAccum += g.IO.DeltaTime - g.FramerateSecPerFrame[g.FramerateSecPerFrameIdx];</div>
<div class="line"><a id="l05379" name="l05379"></a><span class="lineno"> 5379</span>    g.FramerateSecPerFrame[g.FramerateSecPerFrameIdx] = g.IO.DeltaTime;</div>
<div class="line"><a id="l05380" name="l05380"></a><span class="lineno"> 5380</span>    g.FramerateSecPerFrameIdx = (g.FramerateSecPerFrameIdx + 1) % IM_ARRAYSIZE(g.FramerateSecPerFrame);</div>
<div class="line"><a id="l05381" name="l05381"></a><span class="lineno"> 5381</span>    g.FramerateSecPerFrameCount = ImMin(g.FramerateSecPerFrameCount + 1, IM_ARRAYSIZE(g.FramerateSecPerFrame));</div>
<div class="line"><a id="l05382" name="l05382"></a><span class="lineno"> 5382</span>    g.IO.Framerate = (g.FramerateSecPerFrameAccum &gt; 0.0f) ? (1.0f / (g.FramerateSecPerFrameAccum / (<span class="keywordtype">float</span>)g.FramerateSecPerFrameCount)) : FLT_MAX;</div>
<div class="line"><a id="l05383" name="l05383"></a><span class="lineno"> 5383</span> </div>
<div class="line"><a id="l05384" name="l05384"></a><span class="lineno"> 5384</span>    <span class="comment">// Process input queue (trickle as many events as possible), turn events into writes to IO structure</span></div>
<div class="line"><a id="l05385" name="l05385"></a><span class="lineno"> 5385</span>    g.InputEventsTrail.resize(0);</div>
<div class="line"><a id="l05386" name="l05386"></a><span class="lineno"> 5386</span>    UpdateInputEvents(g.IO.ConfigInputTrickleEventQueue);</div>
<div class="line"><a id="l05387" name="l05387"></a><span class="lineno"> 5387</span> </div>
<div class="line"><a id="l05388" name="l05388"></a><span class="lineno"> 5388</span>    <span class="comment">// Update viewports (after processing input queue, so io.MouseHoveredViewport is set)</span></div>
<div class="line"><a id="l05389" name="l05389"></a><span class="lineno"> 5389</span>    UpdateViewportsNewFrame();</div>
<div class="line"><a id="l05390" name="l05390"></a><span class="lineno"> 5390</span> </div>
<div class="line"><a id="l05391" name="l05391"></a><span class="lineno"> 5391</span>    <span class="comment">// Setup current font and draw list shared data</span></div>
<div class="line"><a id="l05392" name="l05392"></a><span class="lineno"> 5392</span>    <span class="comment">// FIXME-VIEWPORT: the concept of a single ClipRectFullscreen is not ideal!</span></div>
<div class="line"><a id="l05393" name="l05393"></a><span class="lineno"> 5393</span>    g.IO.Fonts-&gt;Locked = <span class="keyword">true</span>;</div>
<div class="line"><a id="l05394" name="l05394"></a><span class="lineno"> 5394</span>    SetupDrawListSharedData();</div>
<div class="line"><a id="l05395" name="l05395"></a><span class="lineno"> 5395</span>    SetCurrentFont(GetDefaultFont());</div>
<div class="line"><a id="l05396" name="l05396"></a><span class="lineno"> 5396</span>    IM_ASSERT(g.Font-&gt;IsLoaded());</div>
<div class="line"><a id="l05397" name="l05397"></a><span class="lineno"> 5397</span> </div>
<div class="line"><a id="l05398" name="l05398"></a><span class="lineno"> 5398</span>    <span class="comment">// Mark rendering data as invalid to prevent user who may have a handle on it to use it.</span></div>
<div class="line"><a id="l05399" name="l05399"></a><span class="lineno"> 5399</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport : g.Viewports)</div>
<div class="line"><a id="l05400" name="l05400"></a><span class="lineno"> 5400</span>    {</div>
<div class="line"><a id="l05401" name="l05401"></a><span class="lineno"> 5401</span>        viewport-&gt;DrawData = NULL;</div>
<div class="line"><a id="l05402" name="l05402"></a><span class="lineno"> 5402</span>        viewport-&gt;DrawDataP.Valid = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05403" name="l05403"></a><span class="lineno"> 5403</span>    }</div>
<div class="line"><a id="l05404" name="l05404"></a><span class="lineno"> 5404</span> </div>
<div class="line"><a id="l05405" name="l05405"></a><span class="lineno"> 5405</span>    <span class="comment">// Drag and drop keep the source ID alive so even if the source disappear our state is consistent</span></div>
<div class="line"><a id="l05406" name="l05406"></a><span class="lineno"> 5406</span>    <span class="keywordflow">if</span> (g.DragDropActive &amp;&amp; g.DragDropPayload.SourceId == g.ActiveId)</div>
<div class="line"><a id="l05407" name="l05407"></a><span class="lineno"> 5407</span>        KeepAliveID(g.DragDropPayload.SourceId);</div>
<div class="line"><a id="l05408" name="l05408"></a><span class="lineno"> 5408</span> </div>
<div class="line"><a id="l05409" name="l05409"></a><span class="lineno"> 5409</span>    <span class="comment">// [DEBUG]</span></div>
<div class="line"><a id="l05410" name="l05410"></a><span class="lineno"> 5410</span>    <span class="keywordflow">if</span> (!g.IO.ConfigDebugHighlightIdConflicts || !g.IO.KeyCtrl) <span class="comment">// Count is locked while holding CTRL</span></div>
<div class="line"><a id="l05411" name="l05411"></a><span class="lineno"> 5411</span>        g.DebugDrawIdConflicts = 0;</div>
<div class="line"><a id="l05412" name="l05412"></a><span class="lineno"> 5412</span>    <span class="keywordflow">if</span> (g.IO.ConfigDebugHighlightIdConflicts &amp;&amp; g.HoveredIdPreviousFrameItemCount &gt; 1)</div>
<div class="line"><a id="l05413" name="l05413"></a><span class="lineno"> 5413</span>        g.DebugDrawIdConflicts = g.HoveredIdPreviousFrame;</div>
<div class="line"><a id="l05414" name="l05414"></a><span class="lineno"> 5414</span> </div>
<div class="line"><a id="l05415" name="l05415"></a><span class="lineno"> 5415</span>    <span class="comment">// Update HoveredId data</span></div>
<div class="line"><a id="l05416" name="l05416"></a><span class="lineno"> 5416</span>    <span class="keywordflow">if</span> (!g.HoveredIdPreviousFrame)</div>
<div class="line"><a id="l05417" name="l05417"></a><span class="lineno"> 5417</span>        g.HoveredIdTimer = 0.0f;</div>
<div class="line"><a id="l05418" name="l05418"></a><span class="lineno"> 5418</span>    <span class="keywordflow">if</span> (!g.HoveredIdPreviousFrame || (g.HoveredId &amp;&amp; g.ActiveId == g.HoveredId))</div>
<div class="line"><a id="l05419" name="l05419"></a><span class="lineno"> 5419</span>        g.HoveredIdNotActiveTimer = 0.0f;</div>
<div class="line"><a id="l05420" name="l05420"></a><span class="lineno"> 5420</span>    <span class="keywordflow">if</span> (g.HoveredId)</div>
<div class="line"><a id="l05421" name="l05421"></a><span class="lineno"> 5421</span>        g.HoveredIdTimer += g.IO.DeltaTime;</div>
<div class="line"><a id="l05422" name="l05422"></a><span class="lineno"> 5422</span>    <span class="keywordflow">if</span> (g.HoveredId &amp;&amp; g.ActiveId != g.HoveredId)</div>
<div class="line"><a id="l05423" name="l05423"></a><span class="lineno"> 5423</span>        g.HoveredIdNotActiveTimer += g.IO.DeltaTime;</div>
<div class="line"><a id="l05424" name="l05424"></a><span class="lineno"> 5424</span>    g.HoveredIdPreviousFrame = g.HoveredId;</div>
<div class="line"><a id="l05425" name="l05425"></a><span class="lineno"> 5425</span>    g.HoveredIdPreviousFrameItemCount = 0;</div>
<div class="line"><a id="l05426" name="l05426"></a><span class="lineno"> 5426</span>    g.HoveredId = 0;</div>
<div class="line"><a id="l05427" name="l05427"></a><span class="lineno"> 5427</span>    g.HoveredIdAllowOverlap = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05428" name="l05428"></a><span class="lineno"> 5428</span>    g.HoveredIdIsDisabled = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05429" name="l05429"></a><span class="lineno"> 5429</span> </div>
<div class="line"><a id="l05430" name="l05430"></a><span class="lineno"> 5430</span>    <span class="comment">// Clear ActiveID if the item is not alive anymore.</span></div>
<div class="line"><a id="l05431" name="l05431"></a><span class="lineno"> 5431</span>    <span class="comment">// In 1.87, the common most call to KeepAliveID() was moved from GetID() to ItemAdd().</span></div>
<div class="line"><a id="l05432" name="l05432"></a><span class="lineno"> 5432</span>    <span class="comment">// As a result, custom widget using ButtonBehavior() _without_ ItemAdd() need to call KeepAliveID() themselves.</span></div>
<div class="line"><a id="l05433" name="l05433"></a><span class="lineno"> 5433</span>    <span class="keywordflow">if</span> (g.ActiveId != 0 &amp;&amp; g.ActiveIdIsAlive != g.ActiveId &amp;&amp; g.ActiveIdPreviousFrame == g.ActiveId)</div>
<div class="line"><a id="l05434" name="l05434"></a><span class="lineno"> 5434</span>    {</div>
<div class="line"><a id="l05435" name="l05435"></a><span class="lineno"> 5435</span>        IMGUI_DEBUG_LOG_ACTIVEID(<span class="stringliteral">&quot;NewFrame(): ClearActiveID() because it isn&#39;t marked alive anymore!\n&quot;</span>);</div>
<div class="line"><a id="l05436" name="l05436"></a><span class="lineno"> 5436</span>        ClearActiveID();</div>
<div class="line"><a id="l05437" name="l05437"></a><span class="lineno"> 5437</span>    }</div>
<div class="line"><a id="l05438" name="l05438"></a><span class="lineno"> 5438</span> </div>
<div class="line"><a id="l05439" name="l05439"></a><span class="lineno"> 5439</span>    <span class="comment">// Update ActiveId data (clear reference to active widget if the widget isn&#39;t alive anymore)</span></div>
<div class="line"><a id="l05440" name="l05440"></a><span class="lineno"> 5440</span>    <span class="keywordflow">if</span> (g.ActiveId)</div>
<div class="line"><a id="l05441" name="l05441"></a><span class="lineno"> 5441</span>        g.ActiveIdTimer += g.IO.DeltaTime;</div>
<div class="line"><a id="l05442" name="l05442"></a><span class="lineno"> 5442</span>    g.LastActiveIdTimer += g.IO.DeltaTime;</div>
<div class="line"><a id="l05443" name="l05443"></a><span class="lineno"> 5443</span>    g.ActiveIdPreviousFrame = g.ActiveId;</div>
<div class="line"><a id="l05444" name="l05444"></a><span class="lineno"> 5444</span>    g.ActiveIdIsAlive = 0;</div>
<div class="line"><a id="l05445" name="l05445"></a><span class="lineno"> 5445</span>    g.ActiveIdHasBeenEditedThisFrame = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05446" name="l05446"></a><span class="lineno"> 5446</span>    g.ActiveIdIsJustActivated = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05447" name="l05447"></a><span class="lineno"> 5447</span>    <span class="keywordflow">if</span> (g.TempInputId != 0 &amp;&amp; g.ActiveId != g.TempInputId)</div>
<div class="line"><a id="l05448" name="l05448"></a><span class="lineno"> 5448</span>        g.TempInputId = 0;</div>
<div class="line"><a id="l05449" name="l05449"></a><span class="lineno"> 5449</span>    <span class="keywordflow">if</span> (g.ActiveId == 0)</div>
<div class="line"><a id="l05450" name="l05450"></a><span class="lineno"> 5450</span>    {</div>
<div class="line"><a id="l05451" name="l05451"></a><span class="lineno"> 5451</span>        g.ActiveIdUsingNavDirMask = 0x00;</div>
<div class="line"><a id="l05452" name="l05452"></a><span class="lineno"> 5452</span>        g.ActiveIdUsingAllKeyboardKeys = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05453" name="l05453"></a><span class="lineno"> 5453</span>    }</div>
<div class="line"><a id="l05454" name="l05454"></a><span class="lineno"> 5454</span>    <span class="keywordflow">if</span> (g.DeactivatedItemData.ElapseFrame &lt; g.FrameCount)</div>
<div class="line"><a id="l05455" name="l05455"></a><span class="lineno"> 5455</span>        g.DeactivatedItemData.ID = 0;</div>
<div class="line"><a id="l05456" name="l05456"></a><span class="lineno"> 5456</span>    g.DeactivatedItemData.IsAlive = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05457" name="l05457"></a><span class="lineno"> 5457</span> </div>
<div class="line"><a id="l05458" name="l05458"></a><span class="lineno"> 5458</span>    <span class="comment">// Record when we have been stationary as this state is preserved while over same item.</span></div>
<div class="line"><a id="l05459" name="l05459"></a><span class="lineno"> 5459</span>    <span class="comment">// FIXME: The way this is expressed means user cannot alter HoverStationaryDelay during the frame to use varying values.</span></div>
<div class="line"><a id="l05460" name="l05460"></a><span class="lineno"> 5460</span>    <span class="comment">// To allow this we should store HoverItemMaxStationaryTime+ID and perform the &gt;= check in IsItemHovered() function.</span></div>
<div class="line"><a id="l05461" name="l05461"></a><span class="lineno"> 5461</span>    <span class="keywordflow">if</span> (g.HoverItemDelayId != 0 &amp;&amp; g.MouseStationaryTimer &gt;= g.Style.HoverStationaryDelay)</div>
<div class="line"><a id="l05462" name="l05462"></a><span class="lineno"> 5462</span>        g.HoverItemUnlockedStationaryId = g.HoverItemDelayId;</div>
<div class="line"><a id="l05463" name="l05463"></a><span class="lineno"> 5463</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (g.HoverItemDelayId == 0)</div>
<div class="line"><a id="l05464" name="l05464"></a><span class="lineno"> 5464</span>        g.HoverItemUnlockedStationaryId = 0;</div>
<div class="line"><a id="l05465" name="l05465"></a><span class="lineno"> 5465</span>    <span class="keywordflow">if</span> (g.HoveredWindow != NULL &amp;&amp; g.MouseStationaryTimer &gt;= g.Style.HoverStationaryDelay)</div>
<div class="line"><a id="l05466" name="l05466"></a><span class="lineno"> 5466</span>        g.HoverWindowUnlockedStationaryId = g.HoveredWindow-&gt;ID;</div>
<div class="line"><a id="l05467" name="l05467"></a><span class="lineno"> 5467</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (g.HoveredWindow == NULL)</div>
<div class="line"><a id="l05468" name="l05468"></a><span class="lineno"> 5468</span>        g.HoverWindowUnlockedStationaryId = 0;</div>
<div class="line"><a id="l05469" name="l05469"></a><span class="lineno"> 5469</span> </div>
<div class="line"><a id="l05470" name="l05470"></a><span class="lineno"> 5470</span>    <span class="comment">// Update hover delay for IsItemHovered() with delays and tooltips</span></div>
<div class="line"><a id="l05471" name="l05471"></a><span class="lineno"> 5471</span>    g.HoverItemDelayIdPreviousFrame = g.HoverItemDelayId;</div>
<div class="line"><a id="l05472" name="l05472"></a><span class="lineno"> 5472</span>    <span class="keywordflow">if</span> (g.HoverItemDelayId != 0)</div>
<div class="line"><a id="l05473" name="l05473"></a><span class="lineno"> 5473</span>    {</div>
<div class="line"><a id="l05474" name="l05474"></a><span class="lineno"> 5474</span>        g.HoverItemDelayTimer += g.IO.DeltaTime;</div>
<div class="line"><a id="l05475" name="l05475"></a><span class="lineno"> 5475</span>        g.HoverItemDelayClearTimer = 0.0f;</div>
<div class="line"><a id="l05476" name="l05476"></a><span class="lineno"> 5476</span>        g.HoverItemDelayId = 0;</div>
<div class="line"><a id="l05477" name="l05477"></a><span class="lineno"> 5477</span>    }</div>
<div class="line"><a id="l05478" name="l05478"></a><span class="lineno"> 5478</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (g.HoverItemDelayTimer &gt; 0.0f)</div>
<div class="line"><a id="l05479" name="l05479"></a><span class="lineno"> 5479</span>    {</div>
<div class="line"><a id="l05480" name="l05480"></a><span class="lineno"> 5480</span>        <span class="comment">// This gives a little bit of leeway before clearing the hover timer, allowing mouse to cross gaps</span></div>
<div class="line"><a id="l05481" name="l05481"></a><span class="lineno"> 5481</span>        <span class="comment">// We could expose 0.25f as style.HoverClearDelay but I am not sure of the logic yet, this is particularly subtle.</span></div>
<div class="line"><a id="l05482" name="l05482"></a><span class="lineno"> 5482</span>        g.HoverItemDelayClearTimer += g.IO.DeltaTime;</div>
<div class="line"><a id="l05483" name="l05483"></a><span class="lineno"> 5483</span>        <span class="keywordflow">if</span> (g.HoverItemDelayClearTimer &gt;= ImMax(0.25f, g.IO.DeltaTime * 2.0f)) <span class="comment">// ~7 frames at 30 Hz + allow for low framerate</span></div>
<div class="line"><a id="l05484" name="l05484"></a><span class="lineno"> 5484</span>            g.HoverItemDelayTimer = g.HoverItemDelayClearTimer = 0.0f; <span class="comment">// May want a decaying timer, in which case need to clamp at max first, based on max of caller last requested timer.</span></div>
<div class="line"><a id="l05485" name="l05485"></a><span class="lineno"> 5485</span>    }</div>
<div class="line"><a id="l05486" name="l05486"></a><span class="lineno"> 5486</span> </div>
<div class="line"><a id="l05487" name="l05487"></a><span class="lineno"> 5487</span>    <span class="comment">// Drag and drop</span></div>
<div class="line"><a id="l05488" name="l05488"></a><span class="lineno"> 5488</span>    g.DragDropAcceptIdPrev = g.DragDropAcceptIdCurr;</div>
<div class="line"><a id="l05489" name="l05489"></a><span class="lineno"> 5489</span>    g.DragDropAcceptIdCurr = 0;</div>
<div class="line"><a id="l05490" name="l05490"></a><span class="lineno"> 5490</span>    g.DragDropAcceptIdCurrRectSurface = FLT_MAX;</div>
<div class="line"><a id="l05491" name="l05491"></a><span class="lineno"> 5491</span>    g.DragDropWithinSource = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05492" name="l05492"></a><span class="lineno"> 5492</span>    g.DragDropWithinTarget = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05493" name="l05493"></a><span class="lineno"> 5493</span>    g.DragDropHoldJustPressedId = 0;</div>
<div class="line"><a id="l05494" name="l05494"></a><span class="lineno"> 5494</span>    g.TooltipPreviousWindow = NULL;</div>
<div class="line"><a id="l05495" name="l05495"></a><span class="lineno"> 5495</span> </div>
<div class="line"><a id="l05496" name="l05496"></a><span class="lineno"> 5496</span>    <span class="comment">// Close popups on focus lost (currently wip/opt-in)</span></div>
<div class="line"><a id="l05497" name="l05497"></a><span class="lineno"> 5497</span>    <span class="comment">//if (g.IO.AppFocusLost)</span></div>
<div class="line"><a id="l05498" name="l05498"></a><span class="lineno"> 5498</span>    <span class="comment">//    ClosePopupsExceptModals();</span></div>
<div class="line"><a id="l05499" name="l05499"></a><span class="lineno"> 5499</span> </div>
<div class="line"><a id="l05500" name="l05500"></a><span class="lineno"> 5500</span>    <span class="comment">// Update keyboard input state</span></div>
<div class="line"><a id="l05501" name="l05501"></a><span class="lineno"> 5501</span>    UpdateKeyboardInputs();</div>
<div class="line"><a id="l05502" name="l05502"></a><span class="lineno"> 5502</span> </div>
<div class="line"><a id="l05503" name="l05503"></a><span class="lineno"> 5503</span>    <span class="comment">//IM_ASSERT(g.IO.KeyCtrl == IsKeyDown(ImGuiKey_LeftCtrl) || IsKeyDown(ImGuiKey_RightCtrl));</span></div>
<div class="line"><a id="l05504" name="l05504"></a><span class="lineno"> 5504</span>    <span class="comment">//IM_ASSERT(g.IO.KeyShift == IsKeyDown(ImGuiKey_LeftShift) || IsKeyDown(ImGuiKey_RightShift));</span></div>
<div class="line"><a id="l05505" name="l05505"></a><span class="lineno"> 5505</span>    <span class="comment">//IM_ASSERT(g.IO.KeyAlt == IsKeyDown(ImGuiKey_LeftAlt) || IsKeyDown(ImGuiKey_RightAlt));</span></div>
<div class="line"><a id="l05506" name="l05506"></a><span class="lineno"> 5506</span>    <span class="comment">//IM_ASSERT(g.IO.KeySuper == IsKeyDown(ImGuiKey_LeftSuper) || IsKeyDown(ImGuiKey_RightSuper));</span></div>
<div class="line"><a id="l05507" name="l05507"></a><span class="lineno"> 5507</span> </div>
<div class="line"><a id="l05508" name="l05508"></a><span class="lineno"> 5508</span>    <span class="comment">// Update keyboard/gamepad navigation</span></div>
<div class="line"><a id="l05509" name="l05509"></a><span class="lineno"> 5509</span>    NavUpdate();</div>
<div class="line"><a id="l05510" name="l05510"></a><span class="lineno"> 5510</span> </div>
<div class="line"><a id="l05511" name="l05511"></a><span class="lineno"> 5511</span>    <span class="comment">// Update mouse input state</span></div>
<div class="line"><a id="l05512" name="l05512"></a><span class="lineno"> 5512</span>    UpdateMouseInputs();</div>
<div class="line"><a id="l05513" name="l05513"></a><span class="lineno"> 5513</span> </div>
<div class="line"><a id="l05514" name="l05514"></a><span class="lineno"> 5514</span>    <span class="comment">// Undocking</span></div>
<div class="line"><a id="l05515" name="l05515"></a><span class="lineno"> 5515</span>    <span class="comment">// (needs to be before UpdateMouseMovingWindowNewFrame so the window is already offset and following the mouse on the detaching frame)</span></div>
<div class="line"><a id="l05516" name="l05516"></a><span class="lineno"> 5516</span>    DockContextNewFrameUpdateUndocking(&amp;g);</div>
<div class="line"><a id="l05517" name="l05517"></a><span class="lineno"> 5517</span> </div>
<div class="line"><a id="l05518" name="l05518"></a><span class="lineno"> 5518</span>    <span class="comment">// Mark all windows as not visible and compact unused memory.</span></div>
<div class="line"><a id="l05519" name="l05519"></a><span class="lineno"> 5519</span>    IM_ASSERT(g.WindowsFocusOrder.Size &lt;= g.Windows.Size);</div>
<div class="line"><a id="l05520" name="l05520"></a><span class="lineno"> 5520</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> memory_compact_start_time = (g.GcCompactAll || g.IO.ConfigMemoryCompactTimer &lt; 0.0f) ? FLT_MAX : (float)g.Time - g.IO.ConfigMemoryCompactTimer;</div>
<div class="line"><a id="l05521" name="l05521"></a><span class="lineno"> 5521</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window : g.Windows)</div>
<div class="line"><a id="l05522" name="l05522"></a><span class="lineno"> 5522</span>    {</div>
<div class="line"><a id="l05523" name="l05523"></a><span class="lineno"> 5523</span>        window-&gt;WasActive = window-&gt;Active;</div>
<div class="line"><a id="l05524" name="l05524"></a><span class="lineno"> 5524</span>        window-&gt;Active = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05525" name="l05525"></a><span class="lineno"> 5525</span>        window-&gt;WriteAccessed = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05526" name="l05526"></a><span class="lineno"> 5526</span>        window-&gt;BeginCountPreviousFrame = window-&gt;BeginCount;</div>
<div class="line"><a id="l05527" name="l05527"></a><span class="lineno"> 5527</span>        window-&gt;BeginCount = 0;</div>
<div class="line"><a id="l05528" name="l05528"></a><span class="lineno"> 5528</span> </div>
<div class="line"><a id="l05529" name="l05529"></a><span class="lineno"> 5529</span>        <span class="comment">// Garbage collect transient buffers of recently unused windows</span></div>
<div class="line"><a id="l05530" name="l05530"></a><span class="lineno"> 5530</span>        <span class="keywordflow">if</span> (!window-&gt;WasActive &amp;&amp; !window-&gt;MemoryCompacted &amp;&amp; window-&gt;LastTimeActive &lt; memory_compact_start_time)</div>
<div class="line"><a id="l05531" name="l05531"></a><span class="lineno"> 5531</span>            GcCompactTransientWindowBuffers(window);</div>
<div class="line"><a id="l05532" name="l05532"></a><span class="lineno"> 5532</span>    }</div>
<div class="line"><a id="l05533" name="l05533"></a><span class="lineno"> 5533</span> </div>
<div class="line"><a id="l05534" name="l05534"></a><span class="lineno"> 5534</span>    <span class="comment">// Find hovered window</span></div>
<div class="line"><a id="l05535" name="l05535"></a><span class="lineno"> 5535</span>    <span class="comment">// (needs to be before UpdateMouseMovingWindowNewFrame so we fill g.HoveredWindowUnderMovingWindow on the mouse release frame)</span></div>
<div class="line"><a id="l05536" name="l05536"></a><span class="lineno"> 5536</span>    <span class="comment">// (currently needs to be done after the WasActive=Active loop and FindHoveredWindowEx uses -&gt;Active)</span></div>
<div class="line"><a id="l05537" name="l05537"></a><span class="lineno"> 5537</span>    UpdateHoveredWindowAndCaptureFlags(g.IO.MousePos);</div>
<div class="line"><a id="l05538" name="l05538"></a><span class="lineno"> 5538</span> </div>
<div class="line"><a id="l05539" name="l05539"></a><span class="lineno"> 5539</span>    <span class="comment">// Handle user moving window with mouse (at the beginning of the frame to avoid input lag or sheering)</span></div>
<div class="line"><a id="l05540" name="l05540"></a><span class="lineno"> 5540</span>    UpdateMouseMovingWindowNewFrame();</div>
<div class="line"><a id="l05541" name="l05541"></a><span class="lineno"> 5541</span> </div>
<div class="line"><a id="l05542" name="l05542"></a><span class="lineno"> 5542</span>    <span class="comment">// Background darkening/whitening</span></div>
<div class="line"><a id="l05543" name="l05543"></a><span class="lineno"> 5543</span>    <span class="keywordflow">if</span> (GetTopMostPopupModal() != NULL || (g.NavWindowingTarget != NULL &amp;&amp; g.NavWindowingHighlightAlpha &gt; 0.0f))</div>
<div class="line"><a id="l05544" name="l05544"></a><span class="lineno"> 5544</span>        g.DimBgRatio = ImMin(g.DimBgRatio + g.IO.DeltaTime * 6.0f, 1.0f);</div>
<div class="line"><a id="l05545" name="l05545"></a><span class="lineno"> 5545</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l05546" name="l05546"></a><span class="lineno"> 5546</span>        g.DimBgRatio = ImMax(g.DimBgRatio - g.IO.DeltaTime * 10.0f, 0.0f);</div>
<div class="line"><a id="l05547" name="l05547"></a><span class="lineno"> 5547</span> </div>
<div class="line"><a id="l05548" name="l05548"></a><span class="lineno"> 5548</span>    g.MouseCursor = ImGuiMouseCursor_Arrow;</div>
<div class="line"><a id="l05549" name="l05549"></a><span class="lineno"> 5549</span>    g.WantCaptureMouseNextFrame = g.WantCaptureKeyboardNextFrame = g.WantTextInputNextFrame = -1;</div>
<div class="line"><a id="l05550" name="l05550"></a><span class="lineno"> 5550</span> </div>
<div class="line"><a id="l05551" name="l05551"></a><span class="lineno"> 5551</span>    <span class="comment">// Platform IME data: reset for the frame</span></div>
<div class="line"><a id="l05552" name="l05552"></a><span class="lineno"> 5552</span>    g.PlatformImeDataPrev = g.PlatformImeData;</div>
<div class="line"><a id="l05553" name="l05553"></a><span class="lineno"> 5553</span>    g.PlatformImeData.WantVisible = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05554" name="l05554"></a><span class="lineno"> 5554</span> </div>
<div class="line"><a id="l05555" name="l05555"></a><span class="lineno"> 5555</span>    <span class="comment">// Mouse wheel scrolling, scale</span></div>
<div class="line"><a id="l05556" name="l05556"></a><span class="lineno"> 5556</span>    UpdateMouseWheel();</div>
<div class="line"><a id="l05557" name="l05557"></a><span class="lineno"> 5557</span> </div>
<div class="line"><a id="l05558" name="l05558"></a><span class="lineno"> 5558</span>    <span class="comment">// Garbage collect transient buffers of recently unused tables</span></div>
<div class="line"><a id="l05559" name="l05559"></a><span class="lineno"> 5559</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; g.TablesLastTimeActive.Size; i++)</div>
<div class="line"><a id="l05560" name="l05560"></a><span class="lineno"> 5560</span>        <span class="keywordflow">if</span> (g.TablesLastTimeActive[i] &gt;= 0.0f &amp;&amp; g.TablesLastTimeActive[i] &lt; memory_compact_start_time)</div>
<div class="line"><a id="l05561" name="l05561"></a><span class="lineno"> 5561</span>            TableGcCompactTransientBuffers(g.Tables.GetByIndex(i));</div>
<div class="line"><a id="l05562" name="l05562"></a><span class="lineno"> 5562</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiTableTempData.html">ImGuiTableTempData</a>&amp; table_temp_data : g.TablesTempData)</div>
<div class="line"><a id="l05563" name="l05563"></a><span class="lineno"> 5563</span>        if (table_temp_data.LastTimeActive &gt;= 0.0f &amp;&amp; table_temp_data.LastTimeActive &lt; memory_compact_start_time)</div>
<div class="line"><a id="l05564" name="l05564"></a><span class="lineno"> 5564</span>            TableGcCompactTransientBuffers(&amp;table_temp_data);</div>
<div class="line"><a id="l05565" name="l05565"></a><span class="lineno"> 5565</span>    <span class="keywordflow">if</span> (g.GcCompactAll)</div>
<div class="line"><a id="l05566" name="l05566"></a><span class="lineno"> 5566</span>        GcCompactTransientMiscBuffers();</div>
<div class="line"><a id="l05567" name="l05567"></a><span class="lineno"> 5567</span>    g.GcCompactAll = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05568" name="l05568"></a><span class="lineno"> 5568</span> </div>
<div class="line"><a id="l05569" name="l05569"></a><span class="lineno"> 5569</span>    <span class="comment">// Closing the focused window restore focus to the first active root window in descending z-order</span></div>
<div class="line"><a id="l05570" name="l05570"></a><span class="lineno"> 5570</span>    <span class="keywordflow">if</span> (g.NavWindow &amp;&amp; !g.NavWindow-&gt;WasActive)</div>
<div class="line"><a id="l05571" name="l05571"></a><span class="lineno"> 5571</span>        FocusTopMostWindowUnderOne(NULL, NULL, NULL, ImGuiFocusRequestFlags_RestoreFocusedChild);</div>
<div class="line"><a id="l05572" name="l05572"></a><span class="lineno"> 5572</span> </div>
<div class="line"><a id="l05573" name="l05573"></a><span class="lineno"> 5573</span>    <span class="comment">// No window should be open at the beginning of the frame.</span></div>
<div class="line"><a id="l05574" name="l05574"></a><span class="lineno"> 5574</span>    <span class="comment">// But in order to allow the user to call NewFrame() multiple times without calling Render(), we are doing an explicit clear.</span></div>
<div class="line"><a id="l05575" name="l05575"></a><span class="lineno"> 5575</span>    g.CurrentWindowStack.resize(0);</div>
<div class="line"><a id="l05576" name="l05576"></a><span class="lineno"> 5576</span>    g.BeginPopupStack.resize(0);</div>
<div class="line"><a id="l05577" name="l05577"></a><span class="lineno"> 5577</span>    g.ItemFlagsStack.resize(0);</div>
<div class="line"><a id="l05578" name="l05578"></a><span class="lineno"> 5578</span>    g.ItemFlagsStack.push_back(ImGuiItemFlags_AutoClosePopups); <span class="comment">// Default flags</span></div>
<div class="line"><a id="l05579" name="l05579"></a><span class="lineno"> 5579</span>    g.CurrentItemFlags = g.ItemFlagsStack.back();</div>
<div class="line"><a id="l05580" name="l05580"></a><span class="lineno"> 5580</span>    g.GroupStack.resize(0);</div>
<div class="line"><a id="l05581" name="l05581"></a><span class="lineno"> 5581</span> </div>
<div class="line"><a id="l05582" name="l05582"></a><span class="lineno"> 5582</span>    <span class="comment">// Docking</span></div>
<div class="line"><a id="l05583" name="l05583"></a><span class="lineno"> 5583</span>    DockContextNewFrameUpdateDocking(&amp;g);</div>
<div class="line"><a id="l05584" name="l05584"></a><span class="lineno"> 5584</span> </div>
<div class="line"><a id="l05585" name="l05585"></a><span class="lineno"> 5585</span>    <span class="comment">// [DEBUG] Update debug features</span></div>
<div class="line"><a id="l05586" name="l05586"></a><span class="lineno"> 5586</span><span class="preprocessor">#ifndef IMGUI_DISABLE_DEBUG_TOOLS</span></div>
<div class="line"><a id="l05587" name="l05587"></a><span class="lineno"> 5587</span>    UpdateDebugToolItemPicker();</div>
<div class="line"><a id="l05588" name="l05588"></a><span class="lineno"> 5588</span>    UpdateDebugToolStackQueries();</div>
<div class="line"><a id="l05589" name="l05589"></a><span class="lineno"> 5589</span>    UpdateDebugToolFlashStyleColor();</div>
<div class="line"><a id="l05590" name="l05590"></a><span class="lineno"> 5590</span>    <span class="keywordflow">if</span> (g.DebugLocateFrames &gt; 0 &amp;&amp; --g.DebugLocateFrames == 0)</div>
<div class="line"><a id="l05591" name="l05591"></a><span class="lineno"> 5591</span>    {</div>
<div class="line"><a id="l05592" name="l05592"></a><span class="lineno"> 5592</span>        g.DebugLocateId = 0;</div>
<div class="line"><a id="l05593" name="l05593"></a><span class="lineno"> 5593</span>        g.DebugBreakInLocateId = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05594" name="l05594"></a><span class="lineno"> 5594</span>    }</div>
<div class="line"><a id="l05595" name="l05595"></a><span class="lineno"> 5595</span>    <span class="keywordflow">if</span> (g.DebugLogAutoDisableFrames &gt; 0 &amp;&amp; --g.DebugLogAutoDisableFrames == 0)</div>
<div class="line"><a id="l05596" name="l05596"></a><span class="lineno"> 5596</span>    {</div>
<div class="line"><a id="l05597" name="l05597"></a><span class="lineno"> 5597</span>        DebugLog(<span class="stringliteral">&quot;(Debug Log: Auto-disabled some ImGuiDebugLogFlags after 2 frames)\n&quot;</span>);</div>
<div class="line"><a id="l05598" name="l05598"></a><span class="lineno"> 5598</span>        g.DebugLogFlags &amp;= ~g.DebugLogAutoDisableFlags;</div>
<div class="line"><a id="l05599" name="l05599"></a><span class="lineno"> 5599</span>        g.DebugLogAutoDisableFlags = ImGuiDebugLogFlags_None;</div>
<div class="line"><a id="l05600" name="l05600"></a><span class="lineno"> 5600</span>    }</div>
<div class="line"><a id="l05601" name="l05601"></a><span class="lineno"> 5601</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l05602" name="l05602"></a><span class="lineno"> 5602</span> </div>
<div class="line"><a id="l05603" name="l05603"></a><span class="lineno"> 5603</span>    <span class="comment">// Create implicit/fallback window - which we will only render it if the user has added something to it.</span></div>
<div class="line"><a id="l05604" name="l05604"></a><span class="lineno"> 5604</span>    <span class="comment">// We don&#39;t use &quot;Debug&quot; to avoid colliding with user trying to create a &quot;Debug&quot; window with custom flags.</span></div>
<div class="line"><a id="l05605" name="l05605"></a><span class="lineno"> 5605</span>    <span class="comment">// This fallback is particularly important as it prevents ImGui:: calls from crashing.</span></div>
<div class="line"><a id="l05606" name="l05606"></a><span class="lineno"> 5606</span>    g.WithinFrameScopeWithImplicitWindow = <span class="keyword">true</span>;</div>
<div class="line"><a id="l05607" name="l05607"></a><span class="lineno"> 5607</span>    SetNextWindowSize(<a class="code hl_struct" href="structImVec2.html">ImVec2</a>(400, 400), ImGuiCond_FirstUseEver);</div>
<div class="line"><a id="l05608" name="l05608"></a><span class="lineno"> 5608</span>    Begin(<span class="stringliteral">&quot;Debug##Default&quot;</span>);</div>
<div class="line"><a id="l05609" name="l05609"></a><span class="lineno"> 5609</span>    IM_ASSERT(g.CurrentWindow-&gt;IsFallbackWindow == <span class="keyword">true</span>);</div>
<div class="line"><a id="l05610" name="l05610"></a><span class="lineno"> 5610</span> </div>
<div class="line"><a id="l05611" name="l05611"></a><span class="lineno"> 5611</span>    <span class="comment">// Store stack sizes</span></div>
<div class="line"><a id="l05612" name="l05612"></a><span class="lineno"> 5612</span>    g.ErrorCountCurrentFrame = 0;</div>
<div class="line"><a id="l05613" name="l05613"></a><span class="lineno"> 5613</span>    ErrorRecoveryStoreState(&amp;g.StackSizesInNewFrame);</div>
<div class="line"><a id="l05614" name="l05614"></a><span class="lineno"> 5614</span> </div>
<div class="line"><a id="l05615" name="l05615"></a><span class="lineno"> 5615</span>    <span class="comment">// [DEBUG] When io.ConfigDebugBeginReturnValue is set, we make Begin()/BeginChild() return false at different level of the window-stack,</span></div>
<div class="line"><a id="l05616" name="l05616"></a><span class="lineno"> 5616</span>    <span class="comment">// allowing to validate correct Begin/End behavior in user code.</span></div>
<div class="line"><a id="l05617" name="l05617"></a><span class="lineno"> 5617</span><span class="preprocessor">#ifndef IMGUI_DISABLE_DEBUG_TOOLS</span></div>
<div class="line"><a id="l05618" name="l05618"></a><span class="lineno"> 5618</span>    <span class="keywordflow">if</span> (g.IO.ConfigDebugBeginReturnValueLoop)</div>
<div class="line"><a id="l05619" name="l05619"></a><span class="lineno"> 5619</span>        g.DebugBeginReturnValueCullDepth = (g.DebugBeginReturnValueCullDepth == -1) ? 0 : ((g.DebugBeginReturnValueCullDepth + ((g.FrameCount % 4) == 0 ? 1 : 0)) % 10);</div>
<div class="line"><a id="l05620" name="l05620"></a><span class="lineno"> 5620</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l05621" name="l05621"></a><span class="lineno"> 5621</span>        g.DebugBeginReturnValueCullDepth = -1;</div>
<div class="line"><a id="l05622" name="l05622"></a><span class="lineno"> 5622</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l05623" name="l05623"></a><span class="lineno"> 5623</span> </div>
<div class="line"><a id="l05624" name="l05624"></a><span class="lineno"> 5624</span>    CallContextHooks(&amp;g, ImGuiContextHookType_NewFramePost);</div>
<div class="line"><a id="l05625" name="l05625"></a><span class="lineno"> 5625</span>}</div>
<div class="line"><a id="l05626" name="l05626"></a><span class="lineno"> 5626</span> </div>
<div class="line"><a id="l05627" name="l05627"></a><span class="lineno"> 5627</span><span class="comment">// FIXME: Add a more explicit sort order in the window structure.</span></div>
<div class="line"><a id="l05628" name="l05628"></a><span class="lineno"> 5628</span><span class="keyword">static</span> <span class="keywordtype">int</span> IMGUI_CDECL ChildWindowComparer(<span class="keyword">const</span> <span class="keywordtype">void</span>* lhs, <span class="keyword">const</span> <span class="keywordtype">void</span>* rhs)</div>
<div class="line"><a id="l05629" name="l05629"></a><span class="lineno"> 5629</span>{</div>
<div class="line"><a id="l05630" name="l05630"></a><span class="lineno"> 5630</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* <span class="keyword">const</span> a = *(<span class="keyword">const</span> <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* <span class="keyword">const</span> *)lhs;</div>
<div class="line"><a id="l05631" name="l05631"></a><span class="lineno"> 5631</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* <span class="keyword">const</span> b = *(<span class="keyword">const</span> <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* <span class="keyword">const</span> *)rhs;</div>
<div class="line"><a id="l05632" name="l05632"></a><span class="lineno"> 5632</span>    <span class="keywordflow">if</span> (<span class="keywordtype">int</span> d = (a-&gt;Flags &amp; ImGuiWindowFlags_Popup) - (b-&gt;Flags &amp; ImGuiWindowFlags_Popup))</div>
<div class="line"><a id="l05633" name="l05633"></a><span class="lineno"> 5633</span>        <span class="keywordflow">return</span> d;</div>
<div class="line"><a id="l05634" name="l05634"></a><span class="lineno"> 5634</span>    <span class="keywordflow">if</span> (<span class="keywordtype">int</span> d = (a-&gt;Flags &amp; ImGuiWindowFlags_Tooltip) - (b-&gt;Flags &amp; ImGuiWindowFlags_Tooltip))</div>
<div class="line"><a id="l05635" name="l05635"></a><span class="lineno"> 5635</span>        <span class="keywordflow">return</span> d;</div>
<div class="line"><a id="l05636" name="l05636"></a><span class="lineno"> 5636</span>    <span class="keywordflow">return</span> (a-&gt;BeginOrderWithinParent - b-&gt;BeginOrderWithinParent);</div>
<div class="line"><a id="l05637" name="l05637"></a><span class="lineno"> 5637</span>}</div>
<div class="line"><a id="l05638" name="l05638"></a><span class="lineno"> 5638</span> </div>
<div class="line"><a id="l05639" name="l05639"></a><span class="lineno"> 5639</span><span class="keyword">static</span> <span class="keywordtype">void</span> AddWindowToSortBuffer(<a class="code hl_struct" href="structImVector.html">ImVector&lt;ImGuiWindow*&gt;</a>* out_sorted_windows, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l05640" name="l05640"></a><span class="lineno"> 5640</span>{</div>
<div class="line"><a id="l05641" name="l05641"></a><span class="lineno"> 5641</span>    out_sorted_windows-&gt;push_back(window);</div>
<div class="line"><a id="l05642" name="l05642"></a><span class="lineno"> 5642</span>    <span class="keywordflow">if</span> (window-&gt;Active)</div>
<div class="line"><a id="l05643" name="l05643"></a><span class="lineno"> 5643</span>    {</div>
<div class="line"><a id="l05644" name="l05644"></a><span class="lineno"> 5644</span>        <span class="keywordtype">int</span> count = window-&gt;DC.ChildWindows.Size;</div>
<div class="line"><a id="l05645" name="l05645"></a><span class="lineno"> 5645</span>        ImQsort(window-&gt;DC.ChildWindows.Data, (<span class="keywordtype">size_t</span>)count, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>*), ChildWindowComparer);</div>
<div class="line"><a id="l05646" name="l05646"></a><span class="lineno"> 5646</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; count; i++)</div>
<div class="line"><a id="l05647" name="l05647"></a><span class="lineno"> 5647</span>        {</div>
<div class="line"><a id="l05648" name="l05648"></a><span class="lineno"> 5648</span>            <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* child = window-&gt;DC.ChildWindows[i];</div>
<div class="line"><a id="l05649" name="l05649"></a><span class="lineno"> 5649</span>            <span class="keywordflow">if</span> (child-&gt;Active)</div>
<div class="line"><a id="l05650" name="l05650"></a><span class="lineno"> 5650</span>                AddWindowToSortBuffer(out_sorted_windows, child);</div>
<div class="line"><a id="l05651" name="l05651"></a><span class="lineno"> 5651</span>        }</div>
<div class="line"><a id="l05652" name="l05652"></a><span class="lineno"> 5652</span>    }</div>
<div class="line"><a id="l05653" name="l05653"></a><span class="lineno"> 5653</span>}</div>
<div class="line"><a id="l05654" name="l05654"></a><span class="lineno"> 5654</span> </div>
<div class="line"><a id="l05655" name="l05655"></a><span class="lineno"> 5655</span><span class="keyword">static</span> <span class="keywordtype">void</span> AddWindowToDrawData(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keywordtype">int</span> layer)</div>
<div class="line"><a id="l05656" name="l05656"></a><span class="lineno"> 5656</span>{</div>
<div class="line"><a id="l05657" name="l05657"></a><span class="lineno"> 5657</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l05658" name="l05658"></a><span class="lineno"> 5658</span>    <a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport = window-&gt;Viewport;</div>
<div class="line"><a id="l05659" name="l05659"></a><span class="lineno"> 5659</span>    IM_ASSERT(viewport != NULL);</div>
<div class="line"><a id="l05660" name="l05660"></a><span class="lineno"> 5660</span>    g.IO.MetricsRenderWindows++;</div>
<div class="line"><a id="l05661" name="l05661"></a><span class="lineno"> 5661</span>    <span class="keywordflow">if</span> (window-&gt;DrawList-&gt;_Splitter._Count &gt; 1)</div>
<div class="line"><a id="l05662" name="l05662"></a><span class="lineno"> 5662</span>        window-&gt;DrawList-&gt;ChannelsMerge(); <span class="comment">// Merge if user forgot to merge back. Also required in Docking branch for ImGuiWindowFlags_DockNodeHost windows.</span></div>
<div class="line"><a id="l05663" name="l05663"></a><span class="lineno"> 5663</span>    ImGui::AddDrawListToDrawDataEx(&amp;viewport-&gt;DrawDataP, viewport-&gt;DrawDataBuilder.Layers[layer], window-&gt;DrawList);</div>
<div class="line"><a id="l05664" name="l05664"></a><span class="lineno"> 5664</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* child : window-&gt;DC.ChildWindows)</div>
<div class="line"><a id="l05665" name="l05665"></a><span class="lineno"> 5665</span>        if (IsWindowActiveAndVisible(child)) <span class="comment">// Clipped children may have been marked not active</span></div>
<div class="line"><a id="l05666" name="l05666"></a><span class="lineno"> 5666</span>            AddWindowToDrawData(child, layer);</div>
<div class="line"><a id="l05667" name="l05667"></a><span class="lineno"> 5667</span>}</div>
<div class="line"><a id="l05668" name="l05668"></a><span class="lineno"> 5668</span> </div>
<div class="line"><a id="l05669" name="l05669"></a><span class="lineno"> 5669</span><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> GetWindowDisplayLayer(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l05670" name="l05670"></a><span class="lineno"> 5670</span>{</div>
<div class="line"><a id="l05671" name="l05671"></a><span class="lineno"> 5671</span>    <span class="keywordflow">return</span> (window-&gt;Flags &amp; ImGuiWindowFlags_Tooltip) ? 1 : 0;</div>
<div class="line"><a id="l05672" name="l05672"></a><span class="lineno"> 5672</span>}</div>
<div class="line"><a id="l05673" name="l05673"></a><span class="lineno"> 5673</span> </div>
<div class="line"><a id="l05674" name="l05674"></a><span class="lineno"> 5674</span><span class="comment">// Layer is locked for the root window, however child windows may use a different viewport (e.g. extruding menu)</span></div>
<div class="line"><a id="l05675" name="l05675"></a><span class="lineno"> 5675</span><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> AddRootWindowToDrawData(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l05676" name="l05676"></a><span class="lineno"> 5676</span>{</div>
<div class="line"><a id="l05677" name="l05677"></a><span class="lineno"> 5677</span>    AddWindowToDrawData(window, GetWindowDisplayLayer(window));</div>
<div class="line"><a id="l05678" name="l05678"></a><span class="lineno"> 5678</span>}</div>
<div class="line"><a id="l05679" name="l05679"></a><span class="lineno"> 5679</span> </div>
<div class="line"><a id="l05680" name="l05680"></a><span class="lineno"> 5680</span><span class="keyword">static</span> <span class="keywordtype">void</span> FlattenDrawDataIntoSingleLayer(<a class="code hl_struct" href="structImDrawDataBuilder.html">ImDrawDataBuilder</a>* builder)</div>
<div class="line"><a id="l05681" name="l05681"></a><span class="lineno"> 5681</span>{</div>
<div class="line"><a id="l05682" name="l05682"></a><span class="lineno"> 5682</span>    <span class="keywordtype">int</span> n = builder-&gt;Layers[0]-&gt;Size;</div>
<div class="line"><a id="l05683" name="l05683"></a><span class="lineno"> 5683</span>    <span class="keywordtype">int</span> full_size = n;</div>
<div class="line"><a id="l05684" name="l05684"></a><span class="lineno"> 5684</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; IM_ARRAYSIZE(builder-&gt;Layers); i++)</div>
<div class="line"><a id="l05685" name="l05685"></a><span class="lineno"> 5685</span>        full_size += builder-&gt;Layers[i]-&gt;Size;</div>
<div class="line"><a id="l05686" name="l05686"></a><span class="lineno"> 5686</span>    builder-&gt;Layers[0]-&gt;resize(full_size);</div>
<div class="line"><a id="l05687" name="l05687"></a><span class="lineno"> 5687</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> layer_n = 1; layer_n &lt; IM_ARRAYSIZE(builder-&gt;Layers); layer_n++)</div>
<div class="line"><a id="l05688" name="l05688"></a><span class="lineno"> 5688</span>    {</div>
<div class="line"><a id="l05689" name="l05689"></a><span class="lineno"> 5689</span>        <a class="code hl_struct" href="structImVector.html">ImVector&lt;ImDrawList*&gt;</a>* layer = builder-&gt;Layers[layer_n];</div>
<div class="line"><a id="l05690" name="l05690"></a><span class="lineno"> 5690</span>        <span class="keywordflow">if</span> (layer-&gt;empty())</div>
<div class="line"><a id="l05691" name="l05691"></a><span class="lineno"> 5691</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l05692" name="l05692"></a><span class="lineno"> 5692</span>        memcpy(builder-&gt;Layers[0]-&gt;Data + n, layer-&gt;Data, layer-&gt;Size * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>*));</div>
<div class="line"><a id="l05693" name="l05693"></a><span class="lineno"> 5693</span>        n += layer-&gt;Size;</div>
<div class="line"><a id="l05694" name="l05694"></a><span class="lineno"> 5694</span>        layer-&gt;resize(0);</div>
<div class="line"><a id="l05695" name="l05695"></a><span class="lineno"> 5695</span>    }</div>
<div class="line"><a id="l05696" name="l05696"></a><span class="lineno"> 5696</span>}</div>
<div class="line"><a id="l05697" name="l05697"></a><span class="lineno"> 5697</span> </div>
<div class="line"><a id="l05698" name="l05698"></a><span class="lineno"> 5698</span><span class="keyword">static</span> <span class="keywordtype">void</span> InitViewportDrawData(<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport)</div>
<div class="line"><a id="l05699" name="l05699"></a><span class="lineno"> 5699</span>{</div>
<div class="line"><a id="l05700" name="l05700"></a><span class="lineno"> 5700</span>    <a class="code hl_struct" href="structImGuiIO.html">ImGuiIO</a>&amp; io = ImGui::GetIO();</div>
<div class="line"><a id="l05701" name="l05701"></a><span class="lineno"> 5701</span>    <a class="code hl_struct" href="structImDrawData.html">ImDrawData</a>* draw_data = &amp;viewport-&gt;DrawDataP;</div>
<div class="line"><a id="l05702" name="l05702"></a><span class="lineno"> 5702</span> </div>
<div class="line"><a id="l05703" name="l05703"></a><span class="lineno"> 5703</span>    viewport-&gt;DrawData = draw_data; <span class="comment">// Make publicly accessible</span></div>
<div class="line"><a id="l05704" name="l05704"></a><span class="lineno"> 5704</span>    viewport-&gt;DrawDataBuilder.Layers[0] = &amp;draw_data-&gt;CmdLists;</div>
<div class="line"><a id="l05705" name="l05705"></a><span class="lineno"> 5705</span>    viewport-&gt;DrawDataBuilder.Layers[1] = &amp;viewport-&gt;DrawDataBuilder.LayerData1;</div>
<div class="line"><a id="l05706" name="l05706"></a><span class="lineno"> 5706</span>    viewport-&gt;DrawDataBuilder.Layers[0]-&gt;resize(0);</div>
<div class="line"><a id="l05707" name="l05707"></a><span class="lineno"> 5707</span>    viewport-&gt;DrawDataBuilder.Layers[1]-&gt;resize(0);</div>
<div class="line"><a id="l05708" name="l05708"></a><span class="lineno"> 5708</span> </div>
<div class="line"><a id="l05709" name="l05709"></a><span class="lineno"> 5709</span>    <span class="comment">// When minimized, we report draw_data-&gt;DisplaySize as zero to be consistent with non-viewport mode,</span></div>
<div class="line"><a id="l05710" name="l05710"></a><span class="lineno"> 5710</span>    <span class="comment">// and to allow applications/backends to easily skip rendering.</span></div>
<div class="line"><a id="l05711" name="l05711"></a><span class="lineno"> 5711</span>    <span class="comment">// FIXME: Note that we however do NOT attempt to report &quot;zero drawlist / vertices&quot; into the ImDrawData structure.</span></div>
<div class="line"><a id="l05712" name="l05712"></a><span class="lineno"> 5712</span>    <span class="comment">// This is because the work has been done already, and its wasted! We should fix that and add optimizations for</span></div>
<div class="line"><a id="l05713" name="l05713"></a><span class="lineno"> 5713</span>    <span class="comment">// it earlier in the pipeline, rather than pretend to hide the data at the end of the pipeline.</span></div>
<div class="line"><a id="l05714" name="l05714"></a><span class="lineno"> 5714</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_minimized = (viewport-&gt;Flags &amp; ImGuiViewportFlags_IsMinimized) != 0;</div>
<div class="line"><a id="l05715" name="l05715"></a><span class="lineno"> 5715</span> </div>
<div class="line"><a id="l05716" name="l05716"></a><span class="lineno"> 5716</span>    draw_data-&gt;Valid = <span class="keyword">true</span>;</div>
<div class="line"><a id="l05717" name="l05717"></a><span class="lineno"> 5717</span>    draw_data-&gt;CmdListsCount = 0;</div>
<div class="line"><a id="l05718" name="l05718"></a><span class="lineno"> 5718</span>    draw_data-&gt;TotalVtxCount = draw_data-&gt;TotalIdxCount = 0;</div>
<div class="line"><a id="l05719" name="l05719"></a><span class="lineno"> 5719</span>    draw_data-&gt;DisplayPos = viewport-&gt;Pos;</div>
<div class="line"><a id="l05720" name="l05720"></a><span class="lineno"> 5720</span>    draw_data-&gt;DisplaySize = is_minimized ? <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, 0.0f) : viewport-&gt;Size;</div>
<div class="line"><a id="l05721" name="l05721"></a><span class="lineno"> 5721</span>    draw_data-&gt;FramebufferScale = io.DisplayFramebufferScale; <span class="comment">// FIXME-VIEWPORT: This may vary on a per-monitor/viewport basis?</span></div>
<div class="line"><a id="l05722" name="l05722"></a><span class="lineno"> 5722</span>    draw_data-&gt;OwnerViewport = viewport;</div>
<div class="line"><a id="l05723" name="l05723"></a><span class="lineno"> 5723</span>}</div>
<div class="line"><a id="l05724" name="l05724"></a><span class="lineno"> 5724</span> </div>
<div class="line"><a id="l05725" name="l05725"></a><span class="lineno"> 5725</span><span class="comment">// Push a clipping rectangle for both ImGui logic (hit-testing etc.) and low-level ImDrawList rendering.</span></div>
<div class="line"><a id="l05726" name="l05726"></a><span class="lineno"> 5726</span><span class="comment">// - When using this function it is sane to ensure that float are perfectly rounded to integer values,</span></div>
<div class="line"><a id="l05727" name="l05727"></a><span class="lineno"> 5727</span><span class="comment">//   so that e.g. (int)(max.x-min.x) in user&#39;s render produce correct result.</span></div>
<div class="line"><a id="l05728" name="l05728"></a><span class="lineno"> 5728</span><span class="comment">// - If the code here changes, may need to update code of functions like NextColumn() and PushColumnClipRect():</span></div>
<div class="line"><a id="l05729" name="l05729"></a><span class="lineno"> 5729</span><span class="comment">//   some frequently called functions which to modify both channels and clipping simultaneously tend to use the</span></div>
<div class="line"><a id="l05730" name="l05730"></a><span class="lineno"> 5730</span><span class="comment">//   more specialized SetWindowClipRectBeforeSetChannel() to avoid extraneous updates of underlying ImDrawCmds.</span></div>
<div class="line"><a id="l05731" name="l05731"></a><span class="lineno"> 5731</span><span class="comment">// - This is analogous to PushFont()/PopFont() in the sense that are a mixing a global stack and a window stack,</span></div>
<div class="line"><a id="l05732" name="l05732"></a><span class="lineno"> 5732</span><span class="comment">//   which in the case of ClipRect is not so problematic but tends to be more restrictive for fonts.</span></div>
<div class="line"><a id="l05733" name="l05733"></a><span class="lineno"> 5733</span><span class="keywordtype">void</span> ImGui::PushClipRect(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; clip_rect_min, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; clip_rect_max, <span class="keywordtype">bool</span> intersect_with_current_clip_rect)</div>
<div class="line"><a id="l05734" name="l05734"></a><span class="lineno"> 5734</span>{</div>
<div class="line"><a id="l05735" name="l05735"></a><span class="lineno"> 5735</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GetCurrentWindow();</div>
<div class="line"><a id="l05736" name="l05736"></a><span class="lineno"> 5736</span>    window-&gt;DrawList-&gt;PushClipRect(clip_rect_min, clip_rect_max, intersect_with_current_clip_rect);</div>
<div class="line"><a id="l05737" name="l05737"></a><span class="lineno"> 5737</span>    window-&gt;ClipRect = window-&gt;DrawList-&gt;_ClipRectStack.back();</div>
<div class="line"><a id="l05738" name="l05738"></a><span class="lineno"> 5738</span>}</div>
<div class="line"><a id="l05739" name="l05739"></a><span class="lineno"> 5739</span> </div>
<div class="line"><a id="l05740" name="l05740"></a><span class="lineno"> 5740</span><span class="keywordtype">void</span> ImGui::PopClipRect()</div>
<div class="line"><a id="l05741" name="l05741"></a><span class="lineno"> 5741</span>{</div>
<div class="line"><a id="l05742" name="l05742"></a><span class="lineno"> 5742</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GetCurrentWindow();</div>
<div class="line"><a id="l05743" name="l05743"></a><span class="lineno"> 5743</span>    window-&gt;DrawList-&gt;PopClipRect();</div>
<div class="line"><a id="l05744" name="l05744"></a><span class="lineno"> 5744</span>    window-&gt;ClipRect = window-&gt;DrawList-&gt;_ClipRectStack.back();</div>
<div class="line"><a id="l05745" name="l05745"></a><span class="lineno"> 5745</span>}</div>
<div class="line"><a id="l05746" name="l05746"></a><span class="lineno"> 5746</span> </div>
<div class="line"><a id="l05747" name="l05747"></a><span class="lineno"> 5747</span><span class="keyword">static</span> <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* FindFrontMostVisibleChildWindow(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l05748" name="l05748"></a><span class="lineno"> 5748</span>{</div>
<div class="line"><a id="l05749" name="l05749"></a><span class="lineno"> 5749</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = window-&gt;DC.ChildWindows.Size - 1; n &gt;= 0; n--)</div>
<div class="line"><a id="l05750" name="l05750"></a><span class="lineno"> 5750</span>        <span class="keywordflow">if</span> (IsWindowActiveAndVisible(window-&gt;DC.ChildWindows[n]))</div>
<div class="line"><a id="l05751" name="l05751"></a><span class="lineno"> 5751</span>            <span class="keywordflow">return</span> FindFrontMostVisibleChildWindow(window-&gt;DC.ChildWindows[n]);</div>
<div class="line"><a id="l05752" name="l05752"></a><span class="lineno"> 5752</span>    <span class="keywordflow">return</span> window;</div>
<div class="line"><a id="l05753" name="l05753"></a><span class="lineno"> 5753</span>}</div>
<div class="line"><a id="l05754" name="l05754"></a><span class="lineno"> 5754</span> </div>
<div class="line"><a id="l05755" name="l05755"></a><span class="lineno"> 5755</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::RenderDimmedBackgroundBehindWindow(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, ImU32 col)</div>
<div class="line"><a id="l05756" name="l05756"></a><span class="lineno"> 5756</span>{</div>
<div class="line"><a id="l05757" name="l05757"></a><span class="lineno"> 5757</span>    <span class="keywordflow">if</span> ((col &amp; IM_COL32_A_MASK) == 0)</div>
<div class="line"><a id="l05758" name="l05758"></a><span class="lineno"> 5758</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l05759" name="l05759"></a><span class="lineno"> 5759</span> </div>
<div class="line"><a id="l05760" name="l05760"></a><span class="lineno"> 5760</span>    <a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport = window-&gt;Viewport;</div>
<div class="line"><a id="l05761" name="l05761"></a><span class="lineno"> 5761</span>    <a class="code hl_struct" href="structImRect.html">ImRect</a> viewport_rect = viewport-&gt;GetMainRect();</div>
<div class="line"><a id="l05762" name="l05762"></a><span class="lineno"> 5762</span> </div>
<div class="line"><a id="l05763" name="l05763"></a><span class="lineno"> 5763</span>    <span class="comment">// Draw behind window by moving the draw command at the FRONT of the draw list</span></div>
<div class="line"><a id="l05764" name="l05764"></a><span class="lineno"> 5764</span>    {</div>
<div class="line"><a id="l05765" name="l05765"></a><span class="lineno"> 5765</span>        <span class="comment">// Draw list have been trimmed already, hence the explicit recreation of a draw command if missing.</span></div>
<div class="line"><a id="l05766" name="l05766"></a><span class="lineno"> 5766</span>        <span class="comment">// FIXME: This is creating complication, might be simpler if we could inject a drawlist in drawdata at a given position and not attempt to manipulate ImDrawCmd order.</span></div>
<div class="line"><a id="l05767" name="l05767"></a><span class="lineno"> 5767</span>        <a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>* draw_list = window-&gt;RootWindowDockTree-&gt;DrawList;</div>
<div class="line"><a id="l05768" name="l05768"></a><span class="lineno"> 5768</span>        draw_list-&gt;ChannelsMerge();</div>
<div class="line"><a id="l05769" name="l05769"></a><span class="lineno"> 5769</span>        <span class="keywordflow">if</span> (draw_list-&gt;CmdBuffer.Size == 0)</div>
<div class="line"><a id="l05770" name="l05770"></a><span class="lineno"> 5770</span>            draw_list-&gt;AddDrawCmd();</div>
<div class="line"><a id="l05771" name="l05771"></a><span class="lineno"> 5771</span>        draw_list-&gt;PushClipRect(viewport_rect.Min - <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(1, 1), viewport_rect.Max + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(1, 1), <span class="keyword">false</span>); <span class="comment">// FIXME: Need to stricty ensure ImDrawCmd are not merged (ElemCount==6 checks below will verify that)</span></div>
<div class="line"><a id="l05772" name="l05772"></a><span class="lineno"> 5772</span>        draw_list-&gt;AddRectFilled(viewport_rect.Min, viewport_rect.Max, col);</div>
<div class="line"><a id="l05773" name="l05773"></a><span class="lineno"> 5773</span>        <a class="code hl_struct" href="structImDrawCmd.html">ImDrawCmd</a> cmd = draw_list-&gt;CmdBuffer.back();</div>
<div class="line"><a id="l05774" name="l05774"></a><span class="lineno"> 5774</span>        IM_ASSERT(cmd.ElemCount == 6);</div>
<div class="line"><a id="l05775" name="l05775"></a><span class="lineno"> 5775</span>        draw_list-&gt;CmdBuffer.pop_back();</div>
<div class="line"><a id="l05776" name="l05776"></a><span class="lineno"> 5776</span>        draw_list-&gt;CmdBuffer.push_front(cmd);</div>
<div class="line"><a id="l05777" name="l05777"></a><span class="lineno"> 5777</span>        draw_list-&gt;AddDrawCmd(); <span class="comment">// We need to create a command as CmdBuffer.back().IdxOffset won&#39;t be correct if we append to same command.</span></div>
<div class="line"><a id="l05778" name="l05778"></a><span class="lineno"> 5778</span>        draw_list-&gt;PopClipRect();</div>
<div class="line"><a id="l05779" name="l05779"></a><span class="lineno"> 5779</span>    }</div>
<div class="line"><a id="l05780" name="l05780"></a><span class="lineno"> 5780</span> </div>
<div class="line"><a id="l05781" name="l05781"></a><span class="lineno"> 5781</span>    <span class="comment">// Draw over sibling docking nodes in a same docking tree</span></div>
<div class="line"><a id="l05782" name="l05782"></a><span class="lineno"> 5782</span>    <span class="keywordflow">if</span> (window-&gt;RootWindow-&gt;DockIsActive)</div>
<div class="line"><a id="l05783" name="l05783"></a><span class="lineno"> 5783</span>    {</div>
<div class="line"><a id="l05784" name="l05784"></a><span class="lineno"> 5784</span>        <a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>* draw_list = FindFrontMostVisibleChildWindow(window-&gt;RootWindowDockTree)-&gt;DrawList;</div>
<div class="line"><a id="l05785" name="l05785"></a><span class="lineno"> 5785</span>        draw_list-&gt;ChannelsMerge();</div>
<div class="line"><a id="l05786" name="l05786"></a><span class="lineno"> 5786</span>        <span class="keywordflow">if</span> (draw_list-&gt;CmdBuffer.Size == 0)</div>
<div class="line"><a id="l05787" name="l05787"></a><span class="lineno"> 5787</span>            draw_list-&gt;AddDrawCmd();</div>
<div class="line"><a id="l05788" name="l05788"></a><span class="lineno"> 5788</span>        draw_list-&gt;PushClipRect(viewport_rect.Min, viewport_rect.Max, <span class="keyword">false</span>);</div>
<div class="line"><a id="l05789" name="l05789"></a><span class="lineno"> 5789</span>        RenderRectFilledWithHole(draw_list, window-&gt;RootWindowDockTree-&gt;Rect(), window-&gt;RootWindow-&gt;Rect(), col, 0.0f);<span class="comment">// window-&gt;RootWindowDockTree-&gt;WindowRounding);</span></div>
<div class="line"><a id="l05790" name="l05790"></a><span class="lineno"> 5790</span>        draw_list-&gt;PopClipRect();</div>
<div class="line"><a id="l05791" name="l05791"></a><span class="lineno"> 5791</span>    }</div>
<div class="line"><a id="l05792" name="l05792"></a><span class="lineno"> 5792</span>}</div>
<div class="line"><a id="l05793" name="l05793"></a><span class="lineno"> 5793</span> </div>
<div class="line"><a id="l05794" name="l05794"></a><span class="lineno"> 5794</span><a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* ImGui::FindBottomMostVisibleWindowWithinBeginStack(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* parent_window)</div>
<div class="line"><a id="l05795" name="l05795"></a><span class="lineno"> 5795</span>{</div>
<div class="line"><a id="l05796" name="l05796"></a><span class="lineno"> 5796</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l05797" name="l05797"></a><span class="lineno"> 5797</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* bottom_most_visible_window = parent_window;</div>
<div class="line"><a id="l05798" name="l05798"></a><span class="lineno"> 5798</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = FindWindowDisplayIndex(parent_window); i &gt;= 0; i--)</div>
<div class="line"><a id="l05799" name="l05799"></a><span class="lineno"> 5799</span>    {</div>
<div class="line"><a id="l05800" name="l05800"></a><span class="lineno"> 5800</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.Windows[i];</div>
<div class="line"><a id="l05801" name="l05801"></a><span class="lineno"> 5801</span>        <span class="keywordflow">if</span> (window-&gt;Flags &amp; ImGuiWindowFlags_ChildWindow)</div>
<div class="line"><a id="l05802" name="l05802"></a><span class="lineno"> 5802</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l05803" name="l05803"></a><span class="lineno"> 5803</span>        <span class="keywordflow">if</span> (!IsWindowWithinBeginStackOf(window, parent_window))</div>
<div class="line"><a id="l05804" name="l05804"></a><span class="lineno"> 5804</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05805" name="l05805"></a><span class="lineno"> 5805</span>        <span class="keywordflow">if</span> (IsWindowActiveAndVisible(window) &amp;&amp; GetWindowDisplayLayer(window) &lt;= GetWindowDisplayLayer(parent_window))</div>
<div class="line"><a id="l05806" name="l05806"></a><span class="lineno"> 5806</span>            bottom_most_visible_window = window;</div>
<div class="line"><a id="l05807" name="l05807"></a><span class="lineno"> 5807</span>    }</div>
<div class="line"><a id="l05808" name="l05808"></a><span class="lineno"> 5808</span>    <span class="keywordflow">return</span> bottom_most_visible_window;</div>
<div class="line"><a id="l05809" name="l05809"></a><span class="lineno"> 5809</span>}</div>
<div class="line"><a id="l05810" name="l05810"></a><span class="lineno"> 5810</span> </div>
<div class="line"><a id="l05811" name="l05811"></a><span class="lineno"> 5811</span><span class="comment">// Important: AddWindowToDrawData() has not been called yet, meaning DockNodeHost windows needs a DrawList-&gt;ChannelsMerge() before usage.</span></div>
<div class="line"><a id="l05812" name="l05812"></a><span class="lineno"> 5812</span><span class="comment">// We call ChannelsMerge() lazily here at it is faster that doing a full iteration of g.Windows[] prior to calling RenderDimmedBackgrounds().</span></div>
<div class="line"><a id="l05813" name="l05813"></a><span class="lineno"> 5813</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::RenderDimmedBackgrounds()</div>
<div class="line"><a id="l05814" name="l05814"></a><span class="lineno"> 5814</span>{</div>
<div class="line"><a id="l05815" name="l05815"></a><span class="lineno"> 5815</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l05816" name="l05816"></a><span class="lineno"> 5816</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* modal_window = GetTopMostAndVisiblePopupModal();</div>
<div class="line"><a id="l05817" name="l05817"></a><span class="lineno"> 5817</span>    <span class="keywordflow">if</span> (g.DimBgRatio &lt;= 0.0f &amp;&amp; g.NavWindowingHighlightAlpha &lt;= 0.0f)</div>
<div class="line"><a id="l05818" name="l05818"></a><span class="lineno"> 5818</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l05819" name="l05819"></a><span class="lineno"> 5819</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> dim_bg_for_modal = (modal_window != NULL);</div>
<div class="line"><a id="l05820" name="l05820"></a><span class="lineno"> 5820</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> dim_bg_for_window_list = (g.NavWindowingTargetAnim != NULL &amp;&amp; g.NavWindowingTargetAnim-&gt;Active);</div>
<div class="line"><a id="l05821" name="l05821"></a><span class="lineno"> 5821</span>    <span class="keywordflow">if</span> (!dim_bg_for_modal &amp;&amp; !dim_bg_for_window_list)</div>
<div class="line"><a id="l05822" name="l05822"></a><span class="lineno"> 5822</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l05823" name="l05823"></a><span class="lineno"> 5823</span> </div>
<div class="line"><a id="l05824" name="l05824"></a><span class="lineno"> 5824</span>    <a class="code hl_struct" href="structImGuiViewport.html">ImGuiViewport</a>* viewports_already_dimmed[2] = { NULL, NULL };</div>
<div class="line"><a id="l05825" name="l05825"></a><span class="lineno"> 5825</span>    <span class="keywordflow">if</span> (dim_bg_for_modal)</div>
<div class="line"><a id="l05826" name="l05826"></a><span class="lineno"> 5826</span>    {</div>
<div class="line"><a id="l05827" name="l05827"></a><span class="lineno"> 5827</span>        <span class="comment">// Draw dimming behind modal or a begin stack child, whichever comes first in draw order.</span></div>
<div class="line"><a id="l05828" name="l05828"></a><span class="lineno"> 5828</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* dim_behind_window = FindBottomMostVisibleWindowWithinBeginStack(modal_window);</div>
<div class="line"><a id="l05829" name="l05829"></a><span class="lineno"> 5829</span>        RenderDimmedBackgroundBehindWindow(dim_behind_window, GetColorU32(modal_window-&gt;DC.ModalDimBgColor, g.DimBgRatio));</div>
<div class="line"><a id="l05830" name="l05830"></a><span class="lineno"> 5830</span>        viewports_already_dimmed[0] = modal_window-&gt;Viewport;</div>
<div class="line"><a id="l05831" name="l05831"></a><span class="lineno"> 5831</span>    }</div>
<div class="line"><a id="l05832" name="l05832"></a><span class="lineno"> 5832</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dim_bg_for_window_list)</div>
<div class="line"><a id="l05833" name="l05833"></a><span class="lineno"> 5833</span>    {</div>
<div class="line"><a id="l05834" name="l05834"></a><span class="lineno"> 5834</span>        <span class="comment">// Draw dimming behind CTRL+Tab target window and behind CTRL+Tab UI window</span></div>
<div class="line"><a id="l05835" name="l05835"></a><span class="lineno"> 5835</span>        RenderDimmedBackgroundBehindWindow(g.NavWindowingTargetAnim, GetColorU32(ImGuiCol_NavWindowingDimBg, g.DimBgRatio));</div>
<div class="line"><a id="l05836" name="l05836"></a><span class="lineno"> 5836</span>        <span class="keywordflow">if</span> (g.NavWindowingListWindow != NULL &amp;&amp; g.NavWindowingListWindow-&gt;Viewport &amp;&amp; g.NavWindowingListWindow-&gt;Viewport != g.NavWindowingTargetAnim-&gt;Viewport)</div>
<div class="line"><a id="l05837" name="l05837"></a><span class="lineno"> 5837</span>            RenderDimmedBackgroundBehindWindow(g.NavWindowingListWindow, GetColorU32(ImGuiCol_NavWindowingDimBg, g.DimBgRatio));</div>
<div class="line"><a id="l05838" name="l05838"></a><span class="lineno"> 5838</span>        viewports_already_dimmed[0] = g.NavWindowingTargetAnim-&gt;Viewport;</div>
<div class="line"><a id="l05839" name="l05839"></a><span class="lineno"> 5839</span>        viewports_already_dimmed[1] = g.NavWindowingListWindow ? g.NavWindowingListWindow-&gt;Viewport : NULL;</div>
<div class="line"><a id="l05840" name="l05840"></a><span class="lineno"> 5840</span> </div>
<div class="line"><a id="l05841" name="l05841"></a><span class="lineno"> 5841</span>        <span class="comment">// Draw border around CTRL+Tab target window</span></div>
<div class="line"><a id="l05842" name="l05842"></a><span class="lineno"> 5842</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.NavWindowingTargetAnim;</div>
<div class="line"><a id="l05843" name="l05843"></a><span class="lineno"> 5843</span>        <a class="code hl_struct" href="structImGuiViewport.html">ImGuiViewport</a>* viewport = window-&gt;Viewport;</div>
<div class="line"><a id="l05844" name="l05844"></a><span class="lineno"> 5844</span>        <span class="keywordtype">float</span> distance = g.FontSize;</div>
<div class="line"><a id="l05845" name="l05845"></a><span class="lineno"> 5845</span>        <a class="code hl_struct" href="structImRect.html">ImRect</a> bb = window-&gt;Rect();</div>
<div class="line"><a id="l05846" name="l05846"></a><span class="lineno"> 5846</span>        bb.Expand(distance);</div>
<div class="line"><a id="l05847" name="l05847"></a><span class="lineno"> 5847</span>        <span class="keywordflow">if</span> (bb.GetWidth() &gt;= viewport-&gt;Size.x &amp;&amp; bb.GetHeight() &gt;= viewport-&gt;Size.y)</div>
<div class="line"><a id="l05848" name="l05848"></a><span class="lineno"> 5848</span>            bb.Expand(-distance - 1.0f); <span class="comment">// If a window fits the entire viewport, adjust its highlight inward</span></div>
<div class="line"><a id="l05849" name="l05849"></a><span class="lineno"> 5849</span>        window-&gt;DrawList-&gt;ChannelsMerge();</div>
<div class="line"><a id="l05850" name="l05850"></a><span class="lineno"> 5850</span>        <span class="keywordflow">if</span> (window-&gt;DrawList-&gt;CmdBuffer.Size == 0)</div>
<div class="line"><a id="l05851" name="l05851"></a><span class="lineno"> 5851</span>            window-&gt;DrawList-&gt;AddDrawCmd();</div>
<div class="line"><a id="l05852" name="l05852"></a><span class="lineno"> 5852</span>        window-&gt;DrawList-&gt;PushClipRect(viewport-&gt;Pos, viewport-&gt;Pos + viewport-&gt;Size);</div>
<div class="line"><a id="l05853" name="l05853"></a><span class="lineno"> 5853</span>        window-&gt;DrawList-&gt;AddRect(bb.Min, bb.Max, GetColorU32(ImGuiCol_NavWindowingHighlight, g.NavWindowingHighlightAlpha), window-&gt;WindowRounding, 0, 3.0f); <span class="comment">// FIXME-DPI</span></div>
<div class="line"><a id="l05854" name="l05854"></a><span class="lineno"> 5854</span>        window-&gt;DrawList-&gt;PopClipRect();</div>
<div class="line"><a id="l05855" name="l05855"></a><span class="lineno"> 5855</span>    }</div>
<div class="line"><a id="l05856" name="l05856"></a><span class="lineno"> 5856</span> </div>
<div class="line"><a id="l05857" name="l05857"></a><span class="lineno"> 5857</span>    <span class="comment">// Draw dimming background on _other_ viewports than the ones our windows are in</span></div>
<div class="line"><a id="l05858" name="l05858"></a><span class="lineno"> 5858</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport : g.Viewports)</div>
<div class="line"><a id="l05859" name="l05859"></a><span class="lineno"> 5859</span>    {</div>
<div class="line"><a id="l05860" name="l05860"></a><span class="lineno"> 5860</span>        <span class="keywordflow">if</span> (viewport == viewports_already_dimmed[0] || viewport == viewports_already_dimmed[1])</div>
<div class="line"><a id="l05861" name="l05861"></a><span class="lineno"> 5861</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l05862" name="l05862"></a><span class="lineno"> 5862</span>        <span class="keywordflow">if</span> (modal_window &amp;&amp; viewport-&gt;Window &amp;&amp; IsWindowAbove(viewport-&gt;Window, modal_window))</div>
<div class="line"><a id="l05863" name="l05863"></a><span class="lineno"> 5863</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l05864" name="l05864"></a><span class="lineno"> 5864</span>        <a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>* draw_list = GetForegroundDrawList(viewport);</div>
<div class="line"><a id="l05865" name="l05865"></a><span class="lineno"> 5865</span>        <span class="keyword">const</span> ImU32 dim_bg_col = GetColorU32(dim_bg_for_modal ? ImGuiCol_ModalWindowDimBg : ImGuiCol_NavWindowingDimBg, g.DimBgRatio);</div>
<div class="line"><a id="l05866" name="l05866"></a><span class="lineno"> 5866</span>        draw_list-&gt;AddRectFilled(viewport-&gt;Pos, viewport-&gt;Pos + viewport-&gt;Size, dim_bg_col);</div>
<div class="line"><a id="l05867" name="l05867"></a><span class="lineno"> 5867</span>    }</div>
<div class="line"><a id="l05868" name="l05868"></a><span class="lineno"> 5868</span>}</div>
<div class="line"><a id="l05869" name="l05869"></a><span class="lineno"> 5869</span> </div>
<div class="line"><a id="l05870" name="l05870"></a><span class="lineno"> 5870</span><span class="comment">// This is normally called by Render(). You may want to call it directly if you want to avoid calling Render() but the gain will be very minimal.</span></div>
<div class="line"><a id="l05871" name="l05871"></a><span class="lineno"> 5871</span><span class="keywordtype">void</span> ImGui::EndFrame()</div>
<div class="line"><a id="l05872" name="l05872"></a><span class="lineno"> 5872</span>{</div>
<div class="line"><a id="l05873" name="l05873"></a><span class="lineno"> 5873</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l05874" name="l05874"></a><span class="lineno"> 5874</span>    IM_ASSERT(g.Initialized);</div>
<div class="line"><a id="l05875" name="l05875"></a><span class="lineno"> 5875</span> </div>
<div class="line"><a id="l05876" name="l05876"></a><span class="lineno"> 5876</span>    <span class="comment">// Don&#39;t process EndFrame() multiple times.</span></div>
<div class="line"><a id="l05877" name="l05877"></a><span class="lineno"> 5877</span>    <span class="keywordflow">if</span> (g.FrameCountEnded == g.FrameCount)</div>
<div class="line"><a id="l05878" name="l05878"></a><span class="lineno"> 5878</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l05879" name="l05879"></a><span class="lineno"> 5879</span>    IM_ASSERT(g.WithinFrameScope &amp;&amp; <span class="stringliteral">&quot;Forgot to call ImGui::NewFrame()?&quot;</span>);</div>
<div class="line"><a id="l05880" name="l05880"></a><span class="lineno"> 5880</span> </div>
<div class="line"><a id="l05881" name="l05881"></a><span class="lineno"> 5881</span>    CallContextHooks(&amp;g, ImGuiContextHookType_EndFramePre);</div>
<div class="line"><a id="l05882" name="l05882"></a><span class="lineno"> 5882</span> </div>
<div class="line"><a id="l05883" name="l05883"></a><span class="lineno"> 5883</span>    <span class="comment">// [EXPERIMENTAL] Recover from errors</span></div>
<div class="line"><a id="l05884" name="l05884"></a><span class="lineno"> 5884</span>    <span class="keywordflow">if</span> (g.IO.ConfigErrorRecovery)</div>
<div class="line"><a id="l05885" name="l05885"></a><span class="lineno"> 5885</span>        ErrorRecoveryTryToRecoverState(&amp;g.StackSizesInNewFrame);</div>
<div class="line"><a id="l05886" name="l05886"></a><span class="lineno"> 5886</span>    ErrorCheckEndFrameSanityChecks();</div>
<div class="line"><a id="l05887" name="l05887"></a><span class="lineno"> 5887</span>    ErrorCheckEndFrameFinalizeErrorTooltip();</div>
<div class="line"><a id="l05888" name="l05888"></a><span class="lineno"> 5888</span> </div>
<div class="line"><a id="l05889" name="l05889"></a><span class="lineno"> 5889</span>    <span class="comment">// Notify Platform/OS when our Input Method Editor cursor has moved (e.g. CJK inputs using Microsoft IME)</span></div>
<div class="line"><a id="l05890" name="l05890"></a><span class="lineno"> 5890</span>    <a class="code hl_struct" href="structImGuiPlatformImeData.html">ImGuiPlatformImeData</a>* ime_data = &amp;g.PlatformImeData;</div>
<div class="line"><a id="l05891" name="l05891"></a><span class="lineno"> 5891</span>    <span class="keywordflow">if</span> (g.PlatformIO.Platform_SetImeDataFn != NULL &amp;&amp; memcmp(ime_data, &amp;g.PlatformImeDataPrev, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structImGuiPlatformImeData.html">ImGuiPlatformImeData</a>)) != 0)</div>
<div class="line"><a id="l05892" name="l05892"></a><span class="lineno"> 5892</span>    {</div>
<div class="line"><a id="l05893" name="l05893"></a><span class="lineno"> 5893</span>        <a class="code hl_struct" href="structImGuiViewport.html">ImGuiViewport</a>* viewport = FindViewportByID(g.PlatformImeViewport);</div>
<div class="line"><a id="l05894" name="l05894"></a><span class="lineno"> 5894</span>        IMGUI_DEBUG_LOG_IO(<span class="stringliteral">&quot;[io] Calling Platform_SetImeDataFn(): WantVisible: %d, InputPos (%.2f,%.2f)\n&quot;</span>, ime_data-&gt;WantVisible, ime_data-&gt;InputPos.x, ime_data-&gt;InputPos.y);</div>
<div class="line"><a id="l05895" name="l05895"></a><span class="lineno"> 5895</span>        <span class="keywordflow">if</span> (viewport == NULL)</div>
<div class="line"><a id="l05896" name="l05896"></a><span class="lineno"> 5896</span>            viewport = GetMainViewport();</div>
<div class="line"><a id="l05897" name="l05897"></a><span class="lineno"> 5897</span>        g.PlatformIO.Platform_SetImeDataFn(&amp;g, viewport, ime_data);</div>
<div class="line"><a id="l05898" name="l05898"></a><span class="lineno"> 5898</span>    }</div>
<div class="line"><a id="l05899" name="l05899"></a><span class="lineno"> 5899</span> </div>
<div class="line"><a id="l05900" name="l05900"></a><span class="lineno"> 5900</span>    <span class="comment">// Hide implicit/fallback &quot;Debug&quot; window if it hasn&#39;t been used</span></div>
<div class="line"><a id="l05901" name="l05901"></a><span class="lineno"> 5901</span>    g.WithinFrameScopeWithImplicitWindow = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05902" name="l05902"></a><span class="lineno"> 5902</span>    <span class="keywordflow">if</span> (g.CurrentWindow &amp;&amp; !g.CurrentWindow-&gt;WriteAccessed)</div>
<div class="line"><a id="l05903" name="l05903"></a><span class="lineno"> 5903</span>        g.CurrentWindow-&gt;Active = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05904" name="l05904"></a><span class="lineno"> 5904</span>    End();</div>
<div class="line"><a id="l05905" name="l05905"></a><span class="lineno"> 5905</span> </div>
<div class="line"><a id="l05906" name="l05906"></a><span class="lineno"> 5906</span>    <span class="comment">// Update navigation: CTRL+Tab, wrap-around requests</span></div>
<div class="line"><a id="l05907" name="l05907"></a><span class="lineno"> 5907</span>    NavEndFrame();</div>
<div class="line"><a id="l05908" name="l05908"></a><span class="lineno"> 5908</span> </div>
<div class="line"><a id="l05909" name="l05909"></a><span class="lineno"> 5909</span>    <span class="comment">// Update docking</span></div>
<div class="line"><a id="l05910" name="l05910"></a><span class="lineno"> 5910</span>    DockContextEndFrame(&amp;g);</div>
<div class="line"><a id="l05911" name="l05911"></a><span class="lineno"> 5911</span> </div>
<div class="line"><a id="l05912" name="l05912"></a><span class="lineno"> 5912</span>    SetCurrentViewport(NULL, NULL);</div>
<div class="line"><a id="l05913" name="l05913"></a><span class="lineno"> 5913</span> </div>
<div class="line"><a id="l05914" name="l05914"></a><span class="lineno"> 5914</span>    <span class="comment">// Drag and Drop: Elapse payload (if delivered, or if source stops being submitted)</span></div>
<div class="line"><a id="l05915" name="l05915"></a><span class="lineno"> 5915</span>    <span class="keywordflow">if</span> (g.DragDropActive)</div>
<div class="line"><a id="l05916" name="l05916"></a><span class="lineno"> 5916</span>    {</div>
<div class="line"><a id="l05917" name="l05917"></a><span class="lineno"> 5917</span>        <span class="keywordtype">bool</span> is_delivered = g.DragDropPayload.Delivery;</div>
<div class="line"><a id="l05918" name="l05918"></a><span class="lineno"> 5918</span>        <span class="keywordtype">bool</span> is_elapsed = (g.DragDropSourceFrameCount + 1 &lt; g.FrameCount) &amp;&amp; ((g.DragDropSourceFlags &amp; ImGuiDragDropFlags_PayloadAutoExpire) || g.DragDropMouseButton == -1 || !IsMouseDown(g.DragDropMouseButton));</div>
<div class="line"><a id="l05919" name="l05919"></a><span class="lineno"> 5919</span>        <span class="keywordflow">if</span> (is_delivered || is_elapsed)</div>
<div class="line"><a id="l05920" name="l05920"></a><span class="lineno"> 5920</span>            ClearDragDrop();</div>
<div class="line"><a id="l05921" name="l05921"></a><span class="lineno"> 5921</span>    }</div>
<div class="line"><a id="l05922" name="l05922"></a><span class="lineno"> 5922</span> </div>
<div class="line"><a id="l05923" name="l05923"></a><span class="lineno"> 5923</span>    <span class="comment">// Drag and Drop: Fallback for missing source tooltip. This is not ideal but better than nothing.</span></div>
<div class="line"><a id="l05924" name="l05924"></a><span class="lineno"> 5924</span>    <span class="comment">// If you want to handle source item disappearing: instead of submitting your description tooltip</span></div>
<div class="line"><a id="l05925" name="l05925"></a><span class="lineno"> 5925</span>    <span class="comment">// in the BeginDragDropSource() block of the dragged item, you can submit them from a safe single spot</span></div>
<div class="line"><a id="l05926" name="l05926"></a><span class="lineno"> 5926</span>    <span class="comment">// (e.g. end of your item loop, or before EndFrame) by reading payload data.</span></div>
<div class="line"><a id="l05927" name="l05927"></a><span class="lineno"> 5927</span>    <span class="comment">// In the typical case, the contents of drag tooltip should be possible to infer solely from payload data.</span></div>
<div class="line"><a id="l05928" name="l05928"></a><span class="lineno"> 5928</span>    <span class="keywordflow">if</span> (g.DragDropActive &amp;&amp; g.DragDropSourceFrameCount + 1 &lt; g.FrameCount &amp;&amp; !(g.DragDropSourceFlags &amp; ImGuiDragDropFlags_SourceNoPreviewTooltip))</div>
<div class="line"><a id="l05929" name="l05929"></a><span class="lineno"> 5929</span>    {</div>
<div class="line"><a id="l05930" name="l05930"></a><span class="lineno"> 5930</span>        g.DragDropWithinSource = <span class="keyword">true</span>;</div>
<div class="line"><a id="l05931" name="l05931"></a><span class="lineno"> 5931</span>        SetTooltip(<span class="stringliteral">&quot;...&quot;</span>);</div>
<div class="line"><a id="l05932" name="l05932"></a><span class="lineno"> 5932</span>        g.DragDropWithinSource = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05933" name="l05933"></a><span class="lineno"> 5933</span>    }</div>
<div class="line"><a id="l05934" name="l05934"></a><span class="lineno"> 5934</span> </div>
<div class="line"><a id="l05935" name="l05935"></a><span class="lineno"> 5935</span>    <span class="comment">// End frame</span></div>
<div class="line"><a id="l05936" name="l05936"></a><span class="lineno"> 5936</span>    g.WithinFrameScope = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05937" name="l05937"></a><span class="lineno"> 5937</span>    g.FrameCountEnded = g.FrameCount;</div>
<div class="line"><a id="l05938" name="l05938"></a><span class="lineno"> 5938</span> </div>
<div class="line"><a id="l05939" name="l05939"></a><span class="lineno"> 5939</span>    <span class="comment">// Initiate moving window + handle left-click and right-click focus</span></div>
<div class="line"><a id="l05940" name="l05940"></a><span class="lineno"> 5940</span>    UpdateMouseMovingWindowEndFrame();</div>
<div class="line"><a id="l05941" name="l05941"></a><span class="lineno"> 5941</span> </div>
<div class="line"><a id="l05942" name="l05942"></a><span class="lineno"> 5942</span>    <span class="comment">// Update user-facing viewport list (g.Viewports -&gt; g.PlatformIO.Viewports after filtering out some)</span></div>
<div class="line"><a id="l05943" name="l05943"></a><span class="lineno"> 5943</span>    UpdateViewportsEndFrame();</div>
<div class="line"><a id="l05944" name="l05944"></a><span class="lineno"> 5944</span> </div>
<div class="line"><a id="l05945" name="l05945"></a><span class="lineno"> 5945</span>    <span class="comment">// Sort the window list so that all child windows are after their parent</span></div>
<div class="line"><a id="l05946" name="l05946"></a><span class="lineno"> 5946</span>    <span class="comment">// We cannot do that on FocusWindow() because children may not exist yet</span></div>
<div class="line"><a id="l05947" name="l05947"></a><span class="lineno"> 5947</span>    g.WindowsTempSortBuffer.resize(0);</div>
<div class="line"><a id="l05948" name="l05948"></a><span class="lineno"> 5948</span>    g.WindowsTempSortBuffer.reserve(g.Windows.Size);</div>
<div class="line"><a id="l05949" name="l05949"></a><span class="lineno"> 5949</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window : g.Windows)</div>
<div class="line"><a id="l05950" name="l05950"></a><span class="lineno"> 5950</span>    {</div>
<div class="line"><a id="l05951" name="l05951"></a><span class="lineno"> 5951</span>        <span class="keywordflow">if</span> (window-&gt;Active &amp;&amp; (window-&gt;Flags &amp; ImGuiWindowFlags_ChildWindow))       <span class="comment">// if a child is active its parent will add it</span></div>
<div class="line"><a id="l05952" name="l05952"></a><span class="lineno"> 5952</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l05953" name="l05953"></a><span class="lineno"> 5953</span>        AddWindowToSortBuffer(&amp;g.WindowsTempSortBuffer, window);</div>
<div class="line"><a id="l05954" name="l05954"></a><span class="lineno"> 5954</span>    }</div>
<div class="line"><a id="l05955" name="l05955"></a><span class="lineno"> 5955</span> </div>
<div class="line"><a id="l05956" name="l05956"></a><span class="lineno"> 5956</span>    <span class="comment">// This usually assert if there is a mismatch between the ImGuiWindowFlags_ChildWindow / ParentWindow values and DC.ChildWindows[] in parents, aka we&#39;ve done something wrong.</span></div>
<div class="line"><a id="l05957" name="l05957"></a><span class="lineno"> 5957</span>    IM_ASSERT(g.Windows.Size == g.WindowsTempSortBuffer.Size);</div>
<div class="line"><a id="l05958" name="l05958"></a><span class="lineno"> 5958</span>    g.Windows.swap(g.WindowsTempSortBuffer);</div>
<div class="line"><a id="l05959" name="l05959"></a><span class="lineno"> 5959</span>    g.IO.MetricsActiveWindows = g.WindowsActiveCount;</div>
<div class="line"><a id="l05960" name="l05960"></a><span class="lineno"> 5960</span> </div>
<div class="line"><a id="l05961" name="l05961"></a><span class="lineno"> 5961</span>    <span class="comment">// Unlock font atlas</span></div>
<div class="line"><a id="l05962" name="l05962"></a><span class="lineno"> 5962</span>    g.IO.Fonts-&gt;Locked = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05963" name="l05963"></a><span class="lineno"> 5963</span> </div>
<div class="line"><a id="l05964" name="l05964"></a><span class="lineno"> 5964</span>    <span class="comment">// Clear Input data for next frame</span></div>
<div class="line"><a id="l05965" name="l05965"></a><span class="lineno"> 5965</span>    g.IO.MousePosPrev = g.IO.MousePos;</div>
<div class="line"><a id="l05966" name="l05966"></a><span class="lineno"> 5966</span>    g.IO.AppFocusLost = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05967" name="l05967"></a><span class="lineno"> 5967</span>    g.IO.MouseWheel = g.IO.MouseWheelH = 0.0f;</div>
<div class="line"><a id="l05968" name="l05968"></a><span class="lineno"> 5968</span>    g.IO.InputQueueCharacters.resize(0);</div>
<div class="line"><a id="l05969" name="l05969"></a><span class="lineno"> 5969</span> </div>
<div class="line"><a id="l05970" name="l05970"></a><span class="lineno"> 5970</span>    CallContextHooks(&amp;g, ImGuiContextHookType_EndFramePost);</div>
<div class="line"><a id="l05971" name="l05971"></a><span class="lineno"> 5971</span>}</div>
<div class="line"><a id="l05972" name="l05972"></a><span class="lineno"> 5972</span> </div>
<div class="line"><a id="l05973" name="l05973"></a><span class="lineno"> 5973</span><span class="comment">// Prepare the data for rendering so you can call GetDrawData()</span></div>
<div class="line"><a id="l05974" name="l05974"></a><span class="lineno"> 5974</span><span class="comment">// (As with anything within the ImGui:: namespace this doesn&#39;t touch your GPU or graphics API at all:</span></div>
<div class="line"><a id="l05975" name="l05975"></a><span class="lineno"> 5975</span><span class="comment">// it is the role of the ImGui_ImplXXXX_RenderDrawData() function provided by the renderer backend)</span></div>
<div class="line"><a id="l05976" name="l05976"></a><span class="lineno"> 5976</span><span class="keywordtype">void</span> ImGui::Render()</div>
<div class="line"><a id="l05977" name="l05977"></a><span class="lineno"> 5977</span>{</div>
<div class="line"><a id="l05978" name="l05978"></a><span class="lineno"> 5978</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l05979" name="l05979"></a><span class="lineno"> 5979</span>    IM_ASSERT(g.Initialized);</div>
<div class="line"><a id="l05980" name="l05980"></a><span class="lineno"> 5980</span> </div>
<div class="line"><a id="l05981" name="l05981"></a><span class="lineno"> 5981</span>    <span class="keywordflow">if</span> (g.FrameCountEnded != g.FrameCount)</div>
<div class="line"><a id="l05982" name="l05982"></a><span class="lineno"> 5982</span>        EndFrame();</div>
<div class="line"><a id="l05983" name="l05983"></a><span class="lineno"> 5983</span>    <span class="keywordflow">if</span> (g.FrameCountRendered == g.FrameCount)</div>
<div class="line"><a id="l05984" name="l05984"></a><span class="lineno"> 5984</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l05985" name="l05985"></a><span class="lineno"> 5985</span>    g.FrameCountRendered = g.FrameCount;</div>
<div class="line"><a id="l05986" name="l05986"></a><span class="lineno"> 5986</span> </div>
<div class="line"><a id="l05987" name="l05987"></a><span class="lineno"> 5987</span>    g.IO.MetricsRenderWindows = 0;</div>
<div class="line"><a id="l05988" name="l05988"></a><span class="lineno"> 5988</span>    CallContextHooks(&amp;g, ImGuiContextHookType_RenderPre);</div>
<div class="line"><a id="l05989" name="l05989"></a><span class="lineno"> 5989</span> </div>
<div class="line"><a id="l05990" name="l05990"></a><span class="lineno"> 5990</span>    <span class="comment">// Add background ImDrawList (for each active viewport)</span></div>
<div class="line"><a id="l05991" name="l05991"></a><span class="lineno"> 5991</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport : g.Viewports)</div>
<div class="line"><a id="l05992" name="l05992"></a><span class="lineno"> 5992</span>    {</div>
<div class="line"><a id="l05993" name="l05993"></a><span class="lineno"> 5993</span>        InitViewportDrawData(viewport);</div>
<div class="line"><a id="l05994" name="l05994"></a><span class="lineno"> 5994</span>        <span class="keywordflow">if</span> (viewport-&gt;BgFgDrawLists[0] != NULL)</div>
<div class="line"><a id="l05995" name="l05995"></a><span class="lineno"> 5995</span>            AddDrawListToDrawDataEx(&amp;viewport-&gt;DrawDataP, viewport-&gt;DrawDataBuilder.Layers[0], GetBackgroundDrawList(viewport));</div>
<div class="line"><a id="l05996" name="l05996"></a><span class="lineno"> 5996</span>    }</div>
<div class="line"><a id="l05997" name="l05997"></a><span class="lineno"> 5997</span> </div>
<div class="line"><a id="l05998" name="l05998"></a><span class="lineno"> 5998</span>    <span class="comment">// Draw modal/window whitening backgrounds</span></div>
<div class="line"><a id="l05999" name="l05999"></a><span class="lineno"> 5999</span>    RenderDimmedBackgrounds();</div>
<div class="line"><a id="l06000" name="l06000"></a><span class="lineno"> 6000</span> </div>
<div class="line"><a id="l06001" name="l06001"></a><span class="lineno"> 6001</span>    <span class="comment">// Add ImDrawList to render</span></div>
<div class="line"><a id="l06002" name="l06002"></a><span class="lineno"> 6002</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* windows_to_render_top_most[2];</div>
<div class="line"><a id="l06003" name="l06003"></a><span class="lineno"> 6003</span>    windows_to_render_top_most[0] = (g.NavWindowingTarget &amp;&amp; !(g.NavWindowingTarget-&gt;Flags &amp; ImGuiWindowFlags_NoBringToFrontOnFocus)) ? g.NavWindowingTarget-&gt;RootWindowDockTree : NULL;</div>
<div class="line"><a id="l06004" name="l06004"></a><span class="lineno"> 6004</span>    windows_to_render_top_most[1] = (g.NavWindowingTarget ? g.NavWindowingListWindow : NULL);</div>
<div class="line"><a id="l06005" name="l06005"></a><span class="lineno"> 6005</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window : g.Windows)</div>
<div class="line"><a id="l06006" name="l06006"></a><span class="lineno"> 6006</span>    {</div>
<div class="line"><a id="l06007" name="l06007"></a><span class="lineno"> 6007</span>        IM_MSVC_WARNING_SUPPRESS(6011); <span class="comment">// Static Analysis false positive &quot;warning C6011: Dereferencing NULL pointer &#39;window&#39;&quot;</span></div>
<div class="line"><a id="l06008" name="l06008"></a><span class="lineno"> 6008</span>        <span class="keywordflow">if</span> (IsWindowActiveAndVisible(window) &amp;&amp; (window-&gt;Flags &amp; ImGuiWindowFlags_ChildWindow) == 0 &amp;&amp; window != windows_to_render_top_most[0] &amp;&amp; window != windows_to_render_top_most[1])</div>
<div class="line"><a id="l06009" name="l06009"></a><span class="lineno"> 6009</span>            AddRootWindowToDrawData(window);</div>
<div class="line"><a id="l06010" name="l06010"></a><span class="lineno"> 6010</span>    }</div>
<div class="line"><a id="l06011" name="l06011"></a><span class="lineno"> 6011</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; IM_ARRAYSIZE(windows_to_render_top_most); n++)</div>
<div class="line"><a id="l06012" name="l06012"></a><span class="lineno"> 6012</span>        <span class="keywordflow">if</span> (windows_to_render_top_most[n] &amp;&amp; IsWindowActiveAndVisible(windows_to_render_top_most[n])) <span class="comment">// NavWindowingTarget is always temporarily displayed as the top-most window</span></div>
<div class="line"><a id="l06013" name="l06013"></a><span class="lineno"> 6013</span>            AddRootWindowToDrawData(windows_to_render_top_most[n]);</div>
<div class="line"><a id="l06014" name="l06014"></a><span class="lineno"> 6014</span> </div>
<div class="line"><a id="l06015" name="l06015"></a><span class="lineno"> 6015</span>    <span class="comment">// Draw software mouse cursor if requested by io.MouseDrawCursor flag</span></div>
<div class="line"><a id="l06016" name="l06016"></a><span class="lineno"> 6016</span>    <span class="keywordflow">if</span> (g.IO.MouseDrawCursor &amp;&amp; g.MouseCursor != ImGuiMouseCursor_None)</div>
<div class="line"><a id="l06017" name="l06017"></a><span class="lineno"> 6017</span>        RenderMouseCursor(g.IO.MousePos, g.Style.MouseCursorScale, g.MouseCursor, IM_COL32_WHITE, IM_COL32_BLACK, IM_COL32(0, 0, 0, 48));</div>
<div class="line"><a id="l06018" name="l06018"></a><span class="lineno"> 6018</span> </div>
<div class="line"><a id="l06019" name="l06019"></a><span class="lineno"> 6019</span>    <span class="comment">// Setup ImDrawData structures for end-user</span></div>
<div class="line"><a id="l06020" name="l06020"></a><span class="lineno"> 6020</span>    g.IO.MetricsRenderVertices = g.IO.MetricsRenderIndices = 0;</div>
<div class="line"><a id="l06021" name="l06021"></a><span class="lineno"> 6021</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport : g.Viewports)</div>
<div class="line"><a id="l06022" name="l06022"></a><span class="lineno"> 6022</span>    {</div>
<div class="line"><a id="l06023" name="l06023"></a><span class="lineno"> 6023</span>        FlattenDrawDataIntoSingleLayer(&amp;viewport-&gt;DrawDataBuilder);</div>
<div class="line"><a id="l06024" name="l06024"></a><span class="lineno"> 6024</span> </div>
<div class="line"><a id="l06025" name="l06025"></a><span class="lineno"> 6025</span>        <span class="comment">// Add foreground ImDrawList (for each active viewport)</span></div>
<div class="line"><a id="l06026" name="l06026"></a><span class="lineno"> 6026</span>        <span class="keywordflow">if</span> (viewport-&gt;BgFgDrawLists[1] != NULL)</div>
<div class="line"><a id="l06027" name="l06027"></a><span class="lineno"> 6027</span>            AddDrawListToDrawDataEx(&amp;viewport-&gt;DrawDataP, viewport-&gt;DrawDataBuilder.Layers[0], GetForegroundDrawList(viewport));</div>
<div class="line"><a id="l06028" name="l06028"></a><span class="lineno"> 6028</span> </div>
<div class="line"><a id="l06029" name="l06029"></a><span class="lineno"> 6029</span>        <span class="comment">// We call _PopUnusedDrawCmd() last thing, as RenderDimmedBackgrounds() rely on a valid command being there (especially in docking branch).</span></div>
<div class="line"><a id="l06030" name="l06030"></a><span class="lineno"> 6030</span>        <a class="code hl_struct" href="structImDrawData.html">ImDrawData</a>* draw_data = &amp;viewport-&gt;DrawDataP;</div>
<div class="line"><a id="l06031" name="l06031"></a><span class="lineno"> 6031</span>        IM_ASSERT(draw_data-&gt;CmdLists.Size == draw_data-&gt;CmdListsCount);</div>
<div class="line"><a id="l06032" name="l06032"></a><span class="lineno"> 6032</span>        <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>* draw_list : draw_data-&gt;CmdLists)</div>
<div class="line"><a id="l06033" name="l06033"></a><span class="lineno"> 6033</span>            draw_list-&gt;_PopUnusedDrawCmd();</div>
<div class="line"><a id="l06034" name="l06034"></a><span class="lineno"> 6034</span> </div>
<div class="line"><a id="l06035" name="l06035"></a><span class="lineno"> 6035</span>        g.IO.MetricsRenderVertices += draw_data-&gt;TotalVtxCount;</div>
<div class="line"><a id="l06036" name="l06036"></a><span class="lineno"> 6036</span>        g.IO.MetricsRenderIndices += draw_data-&gt;TotalIdxCount;</div>
<div class="line"><a id="l06037" name="l06037"></a><span class="lineno"> 6037</span>    }</div>
<div class="line"><a id="l06038" name="l06038"></a><span class="lineno"> 6038</span> </div>
<div class="line"><a id="l06039" name="l06039"></a><span class="lineno"> 6039</span>    CallContextHooks(&amp;g, ImGuiContextHookType_RenderPost);</div>
<div class="line"><a id="l06040" name="l06040"></a><span class="lineno"> 6040</span>}</div>
<div class="line"><a id="l06041" name="l06041"></a><span class="lineno"> 6041</span> </div>
<div class="line"><a id="l06042" name="l06042"></a><span class="lineno"> 6042</span><span class="comment">// Calculate text size. Text can be multi-line. Optionally ignore text after a ## marker.</span></div>
<div class="line"><a id="l06043" name="l06043"></a><span class="lineno"> 6043</span><span class="comment">// CalcTextSize(&quot;&quot;) should return ImVec2(0.0f, g.FontSize)</span></div>
<div class="line"><a id="l06044" name="l06044"></a><span class="lineno"> 6044</span><a class="code hl_struct" href="structImVec2.html">ImVec2</a> ImGui::CalcTextSize(<span class="keyword">const</span> <span class="keywordtype">char</span>* text, <span class="keyword">const</span> <span class="keywordtype">char</span>* text_end, <span class="keywordtype">bool</span> hide_text_after_double_hash, <span class="keywordtype">float</span> wrap_width)</div>
<div class="line"><a id="l06045" name="l06045"></a><span class="lineno"> 6045</span>{</div>
<div class="line"><a id="l06046" name="l06046"></a><span class="lineno"> 6046</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l06047" name="l06047"></a><span class="lineno"> 6047</span> </div>
<div class="line"><a id="l06048" name="l06048"></a><span class="lineno"> 6048</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* text_display_end;</div>
<div class="line"><a id="l06049" name="l06049"></a><span class="lineno"> 6049</span>    <span class="keywordflow">if</span> (hide_text_after_double_hash)</div>
<div class="line"><a id="l06050" name="l06050"></a><span class="lineno"> 6050</span>        text_display_end = FindRenderedTextEnd(text, text_end);      <span class="comment">// Hide anything after a &#39;##&#39; string</span></div>
<div class="line"><a id="l06051" name="l06051"></a><span class="lineno"> 6051</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l06052" name="l06052"></a><span class="lineno"> 6052</span>        text_display_end = text_end;</div>
<div class="line"><a id="l06053" name="l06053"></a><span class="lineno"> 6053</span> </div>
<div class="line"><a id="l06054" name="l06054"></a><span class="lineno"> 6054</span>    <a class="code hl_struct" href="structImFont.html">ImFont</a>* font = g.Font;</div>
<div class="line"><a id="l06055" name="l06055"></a><span class="lineno"> 6055</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> font_size = g.FontSize;</div>
<div class="line"><a id="l06056" name="l06056"></a><span class="lineno"> 6056</span>    <span class="keywordflow">if</span> (text == text_display_end)</div>
<div class="line"><a id="l06057" name="l06057"></a><span class="lineno"> 6057</span>        <span class="keywordflow">return</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, font_size);</div>
<div class="line"><a id="l06058" name="l06058"></a><span class="lineno"> 6058</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> text_size = font-&gt;CalcTextSizeA(font_size, FLT_MAX, wrap_width, text, text_display_end, NULL);</div>
<div class="line"><a id="l06059" name="l06059"></a><span class="lineno"> 6059</span> </div>
<div class="line"><a id="l06060" name="l06060"></a><span class="lineno"> 6060</span>    <span class="comment">// Round</span></div>
<div class="line"><a id="l06061" name="l06061"></a><span class="lineno"> 6061</span>    <span class="comment">// FIXME: This has been here since Dec 2015 (7b0bf230) but down the line we want this out.</span></div>
<div class="line"><a id="l06062" name="l06062"></a><span class="lineno"> 6062</span>    <span class="comment">// FIXME: Investigate using ceilf or e.g.</span></div>
<div class="line"><a id="l06063" name="l06063"></a><span class="lineno"> 6063</span>    <span class="comment">// - https://git.musl-libc.org/cgit/musl/tree/src/math/ceilf.c</span></div>
<div class="line"><a id="l06064" name="l06064"></a><span class="lineno"> 6064</span>    <span class="comment">// - https://embarkstudios.github.io/rust-gpu/api/src/libm/math/ceilf.rs.html</span></div>
<div class="line"><a id="l06065" name="l06065"></a><span class="lineno"> 6065</span>    text_size.x = IM_TRUNC(text_size.x + 0.99999f);</div>
<div class="line"><a id="l06066" name="l06066"></a><span class="lineno"> 6066</span> </div>
<div class="line"><a id="l06067" name="l06067"></a><span class="lineno"> 6067</span>    <span class="keywordflow">return</span> text_size;</div>
<div class="line"><a id="l06068" name="l06068"></a><span class="lineno"> 6068</span>}</div>
<div class="line"><a id="l06069" name="l06069"></a><span class="lineno"> 6069</span> </div>
<div class="line"><a id="l06070" name="l06070"></a><span class="lineno"> 6070</span><span class="comment">// Find window given position, search front-to-back</span></div>
<div class="line"><a id="l06071" name="l06071"></a><span class="lineno"> 6071</span><span class="comment">// - Typically write output back to g.HoveredWindow and g.HoveredWindowUnderMovingWindow.</span></div>
<div class="line"><a id="l06072" name="l06072"></a><span class="lineno"> 6072</span><span class="comment">// - FIXME: Note that we have an inconsequential lag here: OuterRectClipped is updated in Begin(), so windows moved programmatically</span></div>
<div class="line"><a id="l06073" name="l06073"></a><span class="lineno"> 6073</span><span class="comment">//   with SetWindowPos() and not SetNextWindowPos() will have that rectangle lagging by a frame at the time FindHoveredWindow() is</span></div>
<div class="line"><a id="l06074" name="l06074"></a><span class="lineno"> 6074</span><span class="comment">//   called, aka before the next Begin(). Moving window isn&#39;t affected.</span></div>
<div class="line"><a id="l06075" name="l06075"></a><span class="lineno"> 6075</span><span class="comment">// - The &#39;find_first_and_in_any_viewport = true&#39; mode is only used by TestEngine. It is simpler to maintain here.</span></div>
<div class="line"><a id="l06076" name="l06076"></a><span class="lineno"> 6076</span><span class="keywordtype">void</span> ImGui::FindHoveredWindowEx(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; pos, <span class="keywordtype">bool</span> find_first_and_in_any_viewport, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>** out_hovered_window, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>** out_hovered_window_under_moving_window)</div>
<div class="line"><a id="l06077" name="l06077"></a><span class="lineno"> 6077</span>{</div>
<div class="line"><a id="l06078" name="l06078"></a><span class="lineno"> 6078</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l06079" name="l06079"></a><span class="lineno"> 6079</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* hovered_window = NULL;</div>
<div class="line"><a id="l06080" name="l06080"></a><span class="lineno"> 6080</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* hovered_window_under_moving_window = NULL;</div>
<div class="line"><a id="l06081" name="l06081"></a><span class="lineno"> 6081</span> </div>
<div class="line"><a id="l06082" name="l06082"></a><span class="lineno"> 6082</span>    <span class="comment">// Special handling for the window being moved: Ignore the mouse viewport check (because it may reset/lose its viewport during the undocking frame)</span></div>
<div class="line"><a id="l06083" name="l06083"></a><span class="lineno"> 6083</span>    <a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* backup_moving_window_viewport = NULL;</div>
<div class="line"><a id="l06084" name="l06084"></a><span class="lineno"> 6084</span>    <span class="keywordflow">if</span> (find_first_and_in_any_viewport == <span class="keyword">false</span> &amp;&amp; g.MovingWindow)</div>
<div class="line"><a id="l06085" name="l06085"></a><span class="lineno"> 6085</span>    {</div>
<div class="line"><a id="l06086" name="l06086"></a><span class="lineno"> 6086</span>        backup_moving_window_viewport = g.MovingWindow-&gt;Viewport;</div>
<div class="line"><a id="l06087" name="l06087"></a><span class="lineno"> 6087</span>        g.MovingWindow-&gt;Viewport = g.MouseViewport;</div>
<div class="line"><a id="l06088" name="l06088"></a><span class="lineno"> 6088</span>        <span class="keywordflow">if</span> (!(g.MovingWindow-&gt;Flags &amp; ImGuiWindowFlags_NoMouseInputs))</div>
<div class="line"><a id="l06089" name="l06089"></a><span class="lineno"> 6089</span>            hovered_window = g.MovingWindow;</div>
<div class="line"><a id="l06090" name="l06090"></a><span class="lineno"> 6090</span>    }</div>
<div class="line"><a id="l06091" name="l06091"></a><span class="lineno"> 6091</span> </div>
<div class="line"><a id="l06092" name="l06092"></a><span class="lineno"> 6092</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> padding_regular = g.Style.TouchExtraPadding;</div>
<div class="line"><a id="l06093" name="l06093"></a><span class="lineno"> 6093</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> padding_for_resize = ImMax(g.Style.TouchExtraPadding, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(g.Style.WindowBorderHoverPadding, g.Style.WindowBorderHoverPadding));</div>
<div class="line"><a id="l06094" name="l06094"></a><span class="lineno"> 6094</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = g.Windows.Size - 1; i &gt;= 0; i--)</div>
<div class="line"><a id="l06095" name="l06095"></a><span class="lineno"> 6095</span>    {</div>
<div class="line"><a id="l06096" name="l06096"></a><span class="lineno"> 6096</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.Windows[i];</div>
<div class="line"><a id="l06097" name="l06097"></a><span class="lineno"> 6097</span>        IM_MSVC_WARNING_SUPPRESS(28182); <span class="comment">// [Static Analyzer] Dereferencing NULL pointer.</span></div>
<div class="line"><a id="l06098" name="l06098"></a><span class="lineno"> 6098</span>        <span class="keywordflow">if</span> (!window-&gt;WasActive || window-&gt;Hidden)</div>
<div class="line"><a id="l06099" name="l06099"></a><span class="lineno"> 6099</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l06100" name="l06100"></a><span class="lineno"> 6100</span>        <span class="keywordflow">if</span> (window-&gt;Flags &amp; ImGuiWindowFlags_NoMouseInputs)</div>
<div class="line"><a id="l06101" name="l06101"></a><span class="lineno"> 6101</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l06102" name="l06102"></a><span class="lineno"> 6102</span>        IM_ASSERT(window-&gt;Viewport);</div>
<div class="line"><a id="l06103" name="l06103"></a><span class="lineno"> 6103</span>        <span class="keywordflow">if</span> (window-&gt;Viewport != g.MouseViewport)</div>
<div class="line"><a id="l06104" name="l06104"></a><span class="lineno"> 6104</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l06105" name="l06105"></a><span class="lineno"> 6105</span> </div>
<div class="line"><a id="l06106" name="l06106"></a><span class="lineno"> 6106</span>        <span class="comment">// Using the clipped AABB, a child window will typically be clipped by its parent (not always)</span></div>
<div class="line"><a id="l06107" name="l06107"></a><span class="lineno"> 6107</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> hit_padding = (window-&gt;Flags &amp; (ImGuiWindowFlags_NoResize | ImGuiWindowFlags_AlwaysAutoResize)) ? padding_regular : padding_for_resize;</div>
<div class="line"><a id="l06108" name="l06108"></a><span class="lineno"> 6108</span>        <span class="keywordflow">if</span> (!window-&gt;OuterRectClipped.ContainsWithPad(pos, hit_padding))</div>
<div class="line"><a id="l06109" name="l06109"></a><span class="lineno"> 6109</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l06110" name="l06110"></a><span class="lineno"> 6110</span> </div>
<div class="line"><a id="l06111" name="l06111"></a><span class="lineno"> 6111</span>        <span class="comment">// Support for one rectangular hole in any given window</span></div>
<div class="line"><a id="l06112" name="l06112"></a><span class="lineno"> 6112</span>        <span class="comment">// FIXME: Consider generalizing hit-testing override (with more generic data, callback, etc.) (#1512)</span></div>
<div class="line"><a id="l06113" name="l06113"></a><span class="lineno"> 6113</span>        <span class="keywordflow">if</span> (window-&gt;HitTestHoleSize.x != 0)</div>
<div class="line"><a id="l06114" name="l06114"></a><span class="lineno"> 6114</span>        {</div>
<div class="line"><a id="l06115" name="l06115"></a><span class="lineno"> 6115</span>            <a class="code hl_struct" href="structImVec2.html">ImVec2</a> hole_pos(window-&gt;Pos.x + (<span class="keywordtype">float</span>)window-&gt;HitTestHoleOffset.x, window-&gt;Pos.y + (<span class="keywordtype">float</span>)window-&gt;HitTestHoleOffset.y);</div>
<div class="line"><a id="l06116" name="l06116"></a><span class="lineno"> 6116</span>            <a class="code hl_struct" href="structImVec2.html">ImVec2</a> hole_size((<span class="keywordtype">float</span>)window-&gt;HitTestHoleSize.x, (<span class="keywordtype">float</span>)window-&gt;HitTestHoleSize.y);</div>
<div class="line"><a id="l06117" name="l06117"></a><span class="lineno"> 6117</span>            <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImRect.html">ImRect</a>(hole_pos, hole_pos + hole_size).Contains(pos))</div>
<div class="line"><a id="l06118" name="l06118"></a><span class="lineno"> 6118</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l06119" name="l06119"></a><span class="lineno"> 6119</span>        }</div>
<div class="line"><a id="l06120" name="l06120"></a><span class="lineno"> 6120</span> </div>
<div class="line"><a id="l06121" name="l06121"></a><span class="lineno"> 6121</span>        <span class="keywordflow">if</span> (find_first_and_in_any_viewport)</div>
<div class="line"><a id="l06122" name="l06122"></a><span class="lineno"> 6122</span>        {</div>
<div class="line"><a id="l06123" name="l06123"></a><span class="lineno"> 6123</span>            hovered_window = window;</div>
<div class="line"><a id="l06124" name="l06124"></a><span class="lineno"> 6124</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l06125" name="l06125"></a><span class="lineno"> 6125</span>        }</div>
<div class="line"><a id="l06126" name="l06126"></a><span class="lineno"> 6126</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l06127" name="l06127"></a><span class="lineno"> 6127</span>        {</div>
<div class="line"><a id="l06128" name="l06128"></a><span class="lineno"> 6128</span>            <span class="keywordflow">if</span> (hovered_window == NULL)</div>
<div class="line"><a id="l06129" name="l06129"></a><span class="lineno"> 6129</span>                hovered_window = window;</div>
<div class="line"><a id="l06130" name="l06130"></a><span class="lineno"> 6130</span>            IM_MSVC_WARNING_SUPPRESS(28182); <span class="comment">// [Static Analyzer] Dereferencing NULL pointer.</span></div>
<div class="line"><a id="l06131" name="l06131"></a><span class="lineno"> 6131</span>            <span class="keywordflow">if</span> (hovered_window_under_moving_window == NULL &amp;&amp; (!g.MovingWindow || window-&gt;RootWindowDockTree != g.MovingWindow-&gt;RootWindowDockTree))</div>
<div class="line"><a id="l06132" name="l06132"></a><span class="lineno"> 6132</span>                hovered_window_under_moving_window = window;</div>
<div class="line"><a id="l06133" name="l06133"></a><span class="lineno"> 6133</span>            <span class="keywordflow">if</span> (hovered_window &amp;&amp; hovered_window_under_moving_window)</div>
<div class="line"><a id="l06134" name="l06134"></a><span class="lineno"> 6134</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l06135" name="l06135"></a><span class="lineno"> 6135</span>        }</div>
<div class="line"><a id="l06136" name="l06136"></a><span class="lineno"> 6136</span>    }</div>
<div class="line"><a id="l06137" name="l06137"></a><span class="lineno"> 6137</span> </div>
<div class="line"><a id="l06138" name="l06138"></a><span class="lineno"> 6138</span>    *out_hovered_window = hovered_window;</div>
<div class="line"><a id="l06139" name="l06139"></a><span class="lineno"> 6139</span>    <span class="keywordflow">if</span> (out_hovered_window_under_moving_window != NULL)</div>
<div class="line"><a id="l06140" name="l06140"></a><span class="lineno"> 6140</span>        *out_hovered_window_under_moving_window = hovered_window_under_moving_window;</div>
<div class="line"><a id="l06141" name="l06141"></a><span class="lineno"> 6141</span>    <span class="keywordflow">if</span> (find_first_and_in_any_viewport == <span class="keyword">false</span> &amp;&amp; g.MovingWindow)</div>
<div class="line"><a id="l06142" name="l06142"></a><span class="lineno"> 6142</span>        g.MovingWindow-&gt;Viewport = backup_moving_window_viewport;</div>
<div class="line"><a id="l06143" name="l06143"></a><span class="lineno"> 6143</span>}</div>
<div class="line"><a id="l06144" name="l06144"></a><span class="lineno"> 6144</span> </div>
<div class="line"><a id="l06145" name="l06145"></a><span class="lineno"> 6145</span><span class="keywordtype">bool</span> ImGui::IsItemActive()</div>
<div class="line"><a id="l06146" name="l06146"></a><span class="lineno"> 6146</span>{</div>
<div class="line"><a id="l06147" name="l06147"></a><span class="lineno"> 6147</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l06148" name="l06148"></a><span class="lineno"> 6148</span>    <span class="keywordflow">if</span> (g.ActiveId)</div>
<div class="line"><a id="l06149" name="l06149"></a><span class="lineno"> 6149</span>        <span class="keywordflow">return</span> g.ActiveId == g.LastItemData.ID;</div>
<div class="line"><a id="l06150" name="l06150"></a><span class="lineno"> 6150</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06151" name="l06151"></a><span class="lineno"> 6151</span>}</div>
<div class="line"><a id="l06152" name="l06152"></a><span class="lineno"> 6152</span> </div>
<div class="line"><a id="l06153" name="l06153"></a><span class="lineno"> 6153</span><span class="keywordtype">bool</span> ImGui::IsItemActivated()</div>
<div class="line"><a id="l06154" name="l06154"></a><span class="lineno"> 6154</span>{</div>
<div class="line"><a id="l06155" name="l06155"></a><span class="lineno"> 6155</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l06156" name="l06156"></a><span class="lineno"> 6156</span>    <span class="keywordflow">if</span> (g.ActiveId)</div>
<div class="line"><a id="l06157" name="l06157"></a><span class="lineno"> 6157</span>        <span class="keywordflow">if</span> (g.ActiveId == g.LastItemData.ID &amp;&amp; g.ActiveIdPreviousFrame != g.LastItemData.ID)</div>
<div class="line"><a id="l06158" name="l06158"></a><span class="lineno"> 6158</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l06159" name="l06159"></a><span class="lineno"> 6159</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06160" name="l06160"></a><span class="lineno"> 6160</span>}</div>
<div class="line"><a id="l06161" name="l06161"></a><span class="lineno"> 6161</span> </div>
<div class="line"><a id="l06162" name="l06162"></a><span class="lineno"> 6162</span><span class="keywordtype">bool</span> ImGui::IsItemDeactivated()</div>
<div class="line"><a id="l06163" name="l06163"></a><span class="lineno"> 6163</span>{</div>
<div class="line"><a id="l06164" name="l06164"></a><span class="lineno"> 6164</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l06165" name="l06165"></a><span class="lineno"> 6165</span>    <span class="keywordflow">if</span> (g.LastItemData.StatusFlags &amp; ImGuiItemStatusFlags_HasDeactivated)</div>
<div class="line"><a id="l06166" name="l06166"></a><span class="lineno"> 6166</span>        <span class="keywordflow">return</span> (g.LastItemData.StatusFlags &amp; ImGuiItemStatusFlags_Deactivated) != 0;</div>
<div class="line"><a id="l06167" name="l06167"></a><span class="lineno"> 6167</span>    <span class="keywordflow">return</span> (g.DeactivatedItemData.ID == g.LastItemData.ID &amp;&amp; g.LastItemData.ID != 0 &amp;&amp; g.DeactivatedItemData.ElapseFrame &gt;= g.FrameCount);</div>
<div class="line"><a id="l06168" name="l06168"></a><span class="lineno"> 6168</span>}</div>
<div class="line"><a id="l06169" name="l06169"></a><span class="lineno"> 6169</span> </div>
<div class="line"><a id="l06170" name="l06170"></a><span class="lineno"> 6170</span><span class="keywordtype">bool</span> ImGui::IsItemDeactivatedAfterEdit()</div>
<div class="line"><a id="l06171" name="l06171"></a><span class="lineno"> 6171</span>{</div>
<div class="line"><a id="l06172" name="l06172"></a><span class="lineno"> 6172</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l06173" name="l06173"></a><span class="lineno"> 6173</span>    <span class="keywordflow">return</span> IsItemDeactivated() &amp;&amp; g.DeactivatedItemData.HasBeenEditedBefore;</div>
<div class="line"><a id="l06174" name="l06174"></a><span class="lineno"> 6174</span>}</div>
<div class="line"><a id="l06175" name="l06175"></a><span class="lineno"> 6175</span> </div>
<div class="line"><a id="l06176" name="l06176"></a><span class="lineno"> 6176</span><span class="comment">// == (GetItemID() == GetFocusID() &amp;&amp; GetFocusID() != 0)</span></div>
<div class="line"><a id="l06177" name="l06177"></a><span class="lineno"> 6177</span><span class="keywordtype">bool</span> ImGui::IsItemFocused()</div>
<div class="line"><a id="l06178" name="l06178"></a><span class="lineno"> 6178</span>{</div>
<div class="line"><a id="l06179" name="l06179"></a><span class="lineno"> 6179</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l06180" name="l06180"></a><span class="lineno"> 6180</span>    <span class="keywordflow">if</span> (g.NavId != g.LastItemData.ID || g.NavId == 0)</div>
<div class="line"><a id="l06181" name="l06181"></a><span class="lineno"> 6181</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06182" name="l06182"></a><span class="lineno"> 6182</span> </div>
<div class="line"><a id="l06183" name="l06183"></a><span class="lineno"> 6183</span>    <span class="comment">// Special handling for the dummy item after Begin() which represent the title bar or tab.</span></div>
<div class="line"><a id="l06184" name="l06184"></a><span class="lineno"> 6184</span>    <span class="comment">// When the window is collapsed (SkipItems==true) that last item will never be overwritten so we need to detect the case.</span></div>
<div class="line"><a id="l06185" name="l06185"></a><span class="lineno"> 6185</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l06186" name="l06186"></a><span class="lineno"> 6186</span>    <span class="keywordflow">if</span> (g.LastItemData.ID == window-&gt;ID &amp;&amp; window-&gt;WriteAccessed)</div>
<div class="line"><a id="l06187" name="l06187"></a><span class="lineno"> 6187</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06188" name="l06188"></a><span class="lineno"> 6188</span> </div>
<div class="line"><a id="l06189" name="l06189"></a><span class="lineno"> 6189</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l06190" name="l06190"></a><span class="lineno"> 6190</span>}</div>
<div class="line"><a id="l06191" name="l06191"></a><span class="lineno"> 6191</span> </div>
<div class="line"><a id="l06192" name="l06192"></a><span class="lineno"> 6192</span><span class="comment">// Important: this can be useful but it is NOT equivalent to the behavior of e.g.Button()!</span></div>
<div class="line"><a id="l06193" name="l06193"></a><span class="lineno"> 6193</span><span class="comment">// Most widgets have specific reactions based on mouse-up/down state, mouse position etc.</span></div>
<div class="line"><a id="l06194" name="l06194"></a><span class="lineno"> 6194</span><span class="keywordtype">bool</span> ImGui::IsItemClicked(ImGuiMouseButton mouse_button)</div>
<div class="line"><a id="l06195" name="l06195"></a><span class="lineno"> 6195</span>{</div>
<div class="line"><a id="l06196" name="l06196"></a><span class="lineno"> 6196</span>    <span class="keywordflow">return</span> IsMouseClicked(mouse_button) &amp;&amp; IsItemHovered(ImGuiHoveredFlags_None);</div>
<div class="line"><a id="l06197" name="l06197"></a><span class="lineno"> 6197</span>}</div>
<div class="line"><a id="l06198" name="l06198"></a><span class="lineno"> 6198</span> </div>
<div class="line"><a id="l06199" name="l06199"></a><span class="lineno"> 6199</span><span class="keywordtype">bool</span> ImGui::IsItemToggledOpen()</div>
<div class="line"><a id="l06200" name="l06200"></a><span class="lineno"> 6200</span>{</div>
<div class="line"><a id="l06201" name="l06201"></a><span class="lineno"> 6201</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l06202" name="l06202"></a><span class="lineno"> 6202</span>    <span class="keywordflow">return</span> (g.LastItemData.StatusFlags &amp; ImGuiItemStatusFlags_ToggledOpen) ? true : <span class="keyword">false</span>;</div>
<div class="line"><a id="l06203" name="l06203"></a><span class="lineno"> 6203</span>}</div>
<div class="line"><a id="l06204" name="l06204"></a><span class="lineno"> 6204</span> </div>
<div class="line"><a id="l06205" name="l06205"></a><span class="lineno"> 6205</span><span class="comment">// Call after a Selectable() or TreeNode() involved in multi-selection.</span></div>
<div class="line"><a id="l06206" name="l06206"></a><span class="lineno"> 6206</span><span class="comment">// Useful if you need the per-item information before reaching EndMultiSelect(), e.g. for rendering purpose.</span></div>
<div class="line"><a id="l06207" name="l06207"></a><span class="lineno"> 6207</span><span class="comment">// This is only meant to be called inside a BeginMultiSelect()/EndMultiSelect() block.</span></div>
<div class="line"><a id="l06208" name="l06208"></a><span class="lineno"> 6208</span><span class="comment">// (Outside of multi-select, it would be misleading/ambiguous to report this signal, as widgets</span></div>
<div class="line"><a id="l06209" name="l06209"></a><span class="lineno"> 6209</span><span class="comment">// return e.g. a pressed event and user code is in charge of altering selection in ways we cannot predict.)</span></div>
<div class="line"><a id="l06210" name="l06210"></a><span class="lineno"> 6210</span><span class="keywordtype">bool</span> ImGui::IsItemToggledSelection()</div>
<div class="line"><a id="l06211" name="l06211"></a><span class="lineno"> 6211</span>{</div>
<div class="line"><a id="l06212" name="l06212"></a><span class="lineno"> 6212</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l06213" name="l06213"></a><span class="lineno"> 6213</span>    IM_ASSERT(g.CurrentMultiSelect != NULL); <span class="comment">// Can only be used inside a BeginMultiSelect()/EndMultiSelect()</span></div>
<div class="line"><a id="l06214" name="l06214"></a><span class="lineno"> 6214</span>    <span class="keywordflow">return</span> (g.LastItemData.StatusFlags &amp; ImGuiItemStatusFlags_ToggledSelection) ? true : <span class="keyword">false</span>;</div>
<div class="line"><a id="l06215" name="l06215"></a><span class="lineno"> 6215</span>}</div>
<div class="line"><a id="l06216" name="l06216"></a><span class="lineno"> 6216</span> </div>
<div class="line"><a id="l06217" name="l06217"></a><span class="lineno"> 6217</span><span class="comment">// IMPORTANT: If you are trying to check whether your mouse should be dispatched to Dear ImGui or to your underlying app,</span></div>
<div class="line"><a id="l06218" name="l06218"></a><span class="lineno"> 6218</span><span class="comment">// you should not use this function! Use the &#39;io.WantCaptureMouse&#39; boolean for that!</span></div>
<div class="line"><a id="l06219" name="l06219"></a><span class="lineno"> 6219</span><span class="comment">// Refer to FAQ entry &quot;How can I tell whether to dispatch mouse/keyboard to Dear ImGui or my application?&quot; for details.</span></div>
<div class="line"><a id="l06220" name="l06220"></a><span class="lineno"> 6220</span><span class="keywordtype">bool</span> ImGui::IsAnyItemHovered()</div>
<div class="line"><a id="l06221" name="l06221"></a><span class="lineno"> 6221</span>{</div>
<div class="line"><a id="l06222" name="l06222"></a><span class="lineno"> 6222</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l06223" name="l06223"></a><span class="lineno"> 6223</span>    <span class="keywordflow">return</span> g.HoveredId != 0 || g.HoveredIdPreviousFrame != 0;</div>
<div class="line"><a id="l06224" name="l06224"></a><span class="lineno"> 6224</span>}</div>
<div class="line"><a id="l06225" name="l06225"></a><span class="lineno"> 6225</span> </div>
<div class="line"><a id="l06226" name="l06226"></a><span class="lineno"> 6226</span><span class="keywordtype">bool</span> ImGui::IsAnyItemActive()</div>
<div class="line"><a id="l06227" name="l06227"></a><span class="lineno"> 6227</span>{</div>
<div class="line"><a id="l06228" name="l06228"></a><span class="lineno"> 6228</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l06229" name="l06229"></a><span class="lineno"> 6229</span>    <span class="keywordflow">return</span> g.ActiveId != 0;</div>
<div class="line"><a id="l06230" name="l06230"></a><span class="lineno"> 6230</span>}</div>
<div class="line"><a id="l06231" name="l06231"></a><span class="lineno"> 6231</span> </div>
<div class="line"><a id="l06232" name="l06232"></a><span class="lineno"> 6232</span><span class="keywordtype">bool</span> ImGui::IsAnyItemFocused()</div>
<div class="line"><a id="l06233" name="l06233"></a><span class="lineno"> 6233</span>{</div>
<div class="line"><a id="l06234" name="l06234"></a><span class="lineno"> 6234</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l06235" name="l06235"></a><span class="lineno"> 6235</span>    <span class="keywordflow">return</span> g.NavId != 0 &amp;&amp; g.NavCursorVisible;</div>
<div class="line"><a id="l06236" name="l06236"></a><span class="lineno"> 6236</span>}</div>
<div class="line"><a id="l06237" name="l06237"></a><span class="lineno"> 6237</span> </div>
<div class="line"><a id="l06238" name="l06238"></a><span class="lineno"> 6238</span><span class="keywordtype">bool</span> ImGui::IsItemVisible()</div>
<div class="line"><a id="l06239" name="l06239"></a><span class="lineno"> 6239</span>{</div>
<div class="line"><a id="l06240" name="l06240"></a><span class="lineno"> 6240</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l06241" name="l06241"></a><span class="lineno"> 6241</span>    <span class="keywordflow">return</span> (g.LastItemData.StatusFlags &amp; ImGuiItemStatusFlags_Visible) != 0;</div>
<div class="line"><a id="l06242" name="l06242"></a><span class="lineno"> 6242</span>}</div>
<div class="line"><a id="l06243" name="l06243"></a><span class="lineno"> 6243</span> </div>
<div class="line"><a id="l06244" name="l06244"></a><span class="lineno"> 6244</span><span class="keywordtype">bool</span> ImGui::IsItemEdited()</div>
<div class="line"><a id="l06245" name="l06245"></a><span class="lineno"> 6245</span>{</div>
<div class="line"><a id="l06246" name="l06246"></a><span class="lineno"> 6246</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l06247" name="l06247"></a><span class="lineno"> 6247</span>    <span class="keywordflow">return</span> (g.LastItemData.StatusFlags &amp; ImGuiItemStatusFlags_Edited) != 0;</div>
<div class="line"><a id="l06248" name="l06248"></a><span class="lineno"> 6248</span>}</div>
<div class="line"><a id="l06249" name="l06249"></a><span class="lineno"> 6249</span> </div>
<div class="line"><a id="l06250" name="l06250"></a><span class="lineno"> 6250</span><span class="comment">// Allow next item to be overlapped by subsequent items.</span></div>
<div class="line"><a id="l06251" name="l06251"></a><span class="lineno"> 6251</span><span class="comment">// This works by requiring HoveredId to match for two subsequent frames,</span></div>
<div class="line"><a id="l06252" name="l06252"></a><span class="lineno"> 6252</span><span class="comment">// so if a following items overwrite it our interactions will naturally be disabled.</span></div>
<div class="line"><a id="l06253" name="l06253"></a><span class="lineno"> 6253</span><span class="keywordtype">void</span> ImGui::SetNextItemAllowOverlap()</div>
<div class="line"><a id="l06254" name="l06254"></a><span class="lineno"> 6254</span>{</div>
<div class="line"><a id="l06255" name="l06255"></a><span class="lineno"> 6255</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l06256" name="l06256"></a><span class="lineno"> 6256</span>    g.NextItemData.ItemFlags |= ImGuiItemFlags_AllowOverlap;</div>
<div class="line"><a id="l06257" name="l06257"></a><span class="lineno"> 6257</span>}</div>
<div class="line"><a id="l06258" name="l06258"></a><span class="lineno"> 6258</span> </div>
<div class="line"><a id="l06259" name="l06259"></a><span class="lineno"> 6259</span><span class="preprocessor">#ifndef IMGUI_DISABLE_OBSOLETE_FUNCTIONS</span></div>
<div class="line"><a id="l06260" name="l06260"></a><span class="lineno"> 6260</span><span class="comment">// Allow last item to be overlapped by a subsequent item. Both may be activated during the same frame before the later one takes priority.</span></div>
<div class="line"><a id="l06261" name="l06261"></a><span class="lineno"> 6261</span><span class="comment">// FIXME-LEGACY: Use SetNextItemAllowOverlap() *before* your item instead.</span></div>
<div class="line"><a id="l06262" name="l06262"></a><span class="lineno"> 6262</span><span class="keywordtype">void</span> ImGui::SetItemAllowOverlap()</div>
<div class="line"><a id="l06263" name="l06263"></a><span class="lineno"> 6263</span>{</div>
<div class="line"><a id="l06264" name="l06264"></a><span class="lineno"> 6264</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l06265" name="l06265"></a><span class="lineno"> 6265</span>    ImGuiID <span class="keywordtype">id</span> = g.LastItemData.ID;</div>
<div class="line"><a id="l06266" name="l06266"></a><span class="lineno"> 6266</span>    <span class="keywordflow">if</span> (g.HoveredId == <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l06267" name="l06267"></a><span class="lineno"> 6267</span>        g.HoveredIdAllowOverlap = <span class="keyword">true</span>;</div>
<div class="line"><a id="l06268" name="l06268"></a><span class="lineno"> 6268</span>    <span class="keywordflow">if</span> (g.ActiveId == <span class="keywordtype">id</span>) <span class="comment">// Before we made this obsolete, most calls to SetItemAllowOverlap() used to avoid this path by testing g.ActiveId != id.</span></div>
<div class="line"><a id="l06269" name="l06269"></a><span class="lineno"> 6269</span>        g.ActiveIdAllowOverlap = <span class="keyword">true</span>;</div>
<div class="line"><a id="l06270" name="l06270"></a><span class="lineno"> 6270</span>}</div>
<div class="line"><a id="l06271" name="l06271"></a><span class="lineno"> 6271</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l06272" name="l06272"></a><span class="lineno"> 6272</span> </div>
<div class="line"><a id="l06273" name="l06273"></a><span class="lineno"> 6273</span><span class="comment">// This is a shortcut for not taking ownership of 100+ keys, frequently used by drag operations.</span></div>
<div class="line"><a id="l06274" name="l06274"></a><span class="lineno"> 6274</span><span class="comment">// FIXME: It might be undesirable that this will likely disable KeyOwner-aware shortcuts systems. Consider a more fine-tuned version if needed?</span></div>
<div class="line"><a id="l06275" name="l06275"></a><span class="lineno"> 6275</span><span class="keywordtype">void</span> ImGui::SetActiveIdUsingAllKeyboardKeys()</div>
<div class="line"><a id="l06276" name="l06276"></a><span class="lineno"> 6276</span>{</div>
<div class="line"><a id="l06277" name="l06277"></a><span class="lineno"> 6277</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l06278" name="l06278"></a><span class="lineno"> 6278</span>    IM_ASSERT(g.ActiveId != 0);</div>
<div class="line"><a id="l06279" name="l06279"></a><span class="lineno"> 6279</span>    g.ActiveIdUsingNavDirMask = (1 &lt;&lt; ImGuiDir_COUNT) - 1;</div>
<div class="line"><a id="l06280" name="l06280"></a><span class="lineno"> 6280</span>    g.ActiveIdUsingAllKeyboardKeys = <span class="keyword">true</span>;</div>
<div class="line"><a id="l06281" name="l06281"></a><span class="lineno"> 6281</span>    NavMoveRequestCancel();</div>
<div class="line"><a id="l06282" name="l06282"></a><span class="lineno"> 6282</span>}</div>
<div class="line"><a id="l06283" name="l06283"></a><span class="lineno"> 6283</span> </div>
<div class="line"><a id="l06284" name="l06284"></a><span class="lineno"> 6284</span>ImGuiID ImGui::GetItemID()</div>
<div class="line"><a id="l06285" name="l06285"></a><span class="lineno"> 6285</span>{</div>
<div class="line"><a id="l06286" name="l06286"></a><span class="lineno"> 6286</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l06287" name="l06287"></a><span class="lineno"> 6287</span>    <span class="keywordflow">return</span> g.LastItemData.ID;</div>
<div class="line"><a id="l06288" name="l06288"></a><span class="lineno"> 6288</span>}</div>
<div class="line"><a id="l06289" name="l06289"></a><span class="lineno"> 6289</span> </div>
<div class="line"><a id="l06290" name="l06290"></a><span class="lineno"> 6290</span><a class="code hl_struct" href="structImVec2.html">ImVec2</a> ImGui::GetItemRectMin()</div>
<div class="line"><a id="l06291" name="l06291"></a><span class="lineno"> 6291</span>{</div>
<div class="line"><a id="l06292" name="l06292"></a><span class="lineno"> 6292</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l06293" name="l06293"></a><span class="lineno"> 6293</span>    <span class="keywordflow">return</span> g.LastItemData.Rect.Min;</div>
<div class="line"><a id="l06294" name="l06294"></a><span class="lineno"> 6294</span>}</div>
<div class="line"><a id="l06295" name="l06295"></a><span class="lineno"> 6295</span> </div>
<div class="line"><a id="l06296" name="l06296"></a><span class="lineno"> 6296</span><a class="code hl_struct" href="structImVec2.html">ImVec2</a> ImGui::GetItemRectMax()</div>
<div class="line"><a id="l06297" name="l06297"></a><span class="lineno"> 6297</span>{</div>
<div class="line"><a id="l06298" name="l06298"></a><span class="lineno"> 6298</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l06299" name="l06299"></a><span class="lineno"> 6299</span>    <span class="keywordflow">return</span> g.LastItemData.Rect.Max;</div>
<div class="line"><a id="l06300" name="l06300"></a><span class="lineno"> 6300</span>}</div>
<div class="line"><a id="l06301" name="l06301"></a><span class="lineno"> 6301</span> </div>
<div class="line"><a id="l06302" name="l06302"></a><span class="lineno"> 6302</span><a class="code hl_struct" href="structImVec2.html">ImVec2</a> ImGui::GetItemRectSize()</div>
<div class="line"><a id="l06303" name="l06303"></a><span class="lineno"> 6303</span>{</div>
<div class="line"><a id="l06304" name="l06304"></a><span class="lineno"> 6304</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l06305" name="l06305"></a><span class="lineno"> 6305</span>    <span class="keywordflow">return</span> g.LastItemData.Rect.GetSize();</div>
<div class="line"><a id="l06306" name="l06306"></a><span class="lineno"> 6306</span>}</div>
<div class="line"><a id="l06307" name="l06307"></a><span class="lineno"> 6307</span> </div>
<div class="line"><a id="l06308" name="l06308"></a><span class="lineno"> 6308</span><span class="comment">// Prior to v1.90 2023/10/16, the BeginChild() function took a &#39;bool border = false&#39; parameter instead of &#39;ImGuiChildFlags child_flags = 0&#39;.</span></div>
<div class="line"><a id="l06309" name="l06309"></a><span class="lineno"> 6309</span><span class="comment">// ImGuiChildFlags_Borders is defined as always == 1 in order to allow old code passing &#39;true&#39;. Read comments in imgui.h for details!</span></div>
<div class="line"><a id="l06310" name="l06310"></a><span class="lineno"> 6310</span><span class="keywordtype">bool</span> ImGui::BeginChild(<span class="keyword">const</span> <span class="keywordtype">char</span>* str_id, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; size_arg, ImGuiChildFlags child_flags, ImGuiWindowFlags window_flags)</div>
<div class="line"><a id="l06311" name="l06311"></a><span class="lineno"> 6311</span>{</div>
<div class="line"><a id="l06312" name="l06312"></a><span class="lineno"> 6312</span>    ImGuiID <span class="keywordtype">id</span> = GetCurrentWindow()-&gt;GetID(str_id);</div>
<div class="line"><a id="l06313" name="l06313"></a><span class="lineno"> 6313</span>    <span class="keywordflow">return</span> BeginChildEx(str_id, <span class="keywordtype">id</span>, size_arg, child_flags, window_flags);</div>
<div class="line"><a id="l06314" name="l06314"></a><span class="lineno"> 6314</span>}</div>
<div class="line"><a id="l06315" name="l06315"></a><span class="lineno"> 6315</span> </div>
<div class="line"><a id="l06316" name="l06316"></a><span class="lineno"> 6316</span><span class="keywordtype">bool</span> ImGui::BeginChild(ImGuiID <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; size_arg, ImGuiChildFlags child_flags, ImGuiWindowFlags window_flags)</div>
<div class="line"><a id="l06317" name="l06317"></a><span class="lineno"> 6317</span>{</div>
<div class="line"><a id="l06318" name="l06318"></a><span class="lineno"> 6318</span>    <span class="keywordflow">return</span> BeginChildEx(NULL, <span class="keywordtype">id</span>, size_arg, child_flags, window_flags);</div>
<div class="line"><a id="l06319" name="l06319"></a><span class="lineno"> 6319</span>}</div>
<div class="line"><a id="l06320" name="l06320"></a><span class="lineno"> 6320</span> </div>
<div class="line"><a id="l06321" name="l06321"></a><span class="lineno"> 6321</span><span class="keywordtype">bool</span> ImGui::BeginChildEx(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, ImGuiID <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; size_arg, ImGuiChildFlags child_flags, ImGuiWindowFlags window_flags)</div>
<div class="line"><a id="l06322" name="l06322"></a><span class="lineno"> 6322</span>{</div>
<div class="line"><a id="l06323" name="l06323"></a><span class="lineno"> 6323</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l06324" name="l06324"></a><span class="lineno"> 6324</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* parent_window = g.CurrentWindow;</div>
<div class="line"><a id="l06325" name="l06325"></a><span class="lineno"> 6325</span>    IM_ASSERT(<span class="keywordtype">id</span> != 0);</div>
<div class="line"><a id="l06326" name="l06326"></a><span class="lineno"> 6326</span> </div>
<div class="line"><a id="l06327" name="l06327"></a><span class="lineno"> 6327</span>    <span class="comment">// Sanity check as it is likely that some user will accidentally pass ImGuiWindowFlags into the ImGuiChildFlags argument.</span></div>
<div class="line"><a id="l06328" name="l06328"></a><span class="lineno"> 6328</span>    <span class="keyword">const</span> ImGuiChildFlags ImGuiChildFlags_SupportedMask_ = ImGuiChildFlags_Borders | ImGuiChildFlags_AlwaysUseWindowPadding | ImGuiChildFlags_ResizeX | ImGuiChildFlags_ResizeY | ImGuiChildFlags_AutoResizeX | ImGuiChildFlags_AutoResizeY | ImGuiChildFlags_AlwaysAutoResize | ImGuiChildFlags_FrameStyle | ImGuiChildFlags_NavFlattened;</div>
<div class="line"><a id="l06329" name="l06329"></a><span class="lineno"> 6329</span>    IM_UNUSED(ImGuiChildFlags_SupportedMask_);</div>
<div class="line"><a id="l06330" name="l06330"></a><span class="lineno"> 6330</span>    IM_ASSERT((child_flags &amp; ~ImGuiChildFlags_SupportedMask_) == 0 &amp;&amp; <span class="stringliteral">&quot;Illegal ImGuiChildFlags value. Did you pass ImGuiWindowFlags values instead of ImGuiChildFlags?&quot;</span>);</div>
<div class="line"><a id="l06331" name="l06331"></a><span class="lineno"> 6331</span>    IM_ASSERT((window_flags &amp; ImGuiWindowFlags_AlwaysAutoResize) == 0 &amp;&amp; <span class="stringliteral">&quot;Cannot specify ImGuiWindowFlags_AlwaysAutoResize for BeginChild(). Use ImGuiChildFlags_AlwaysAutoResize!&quot;</span>);</div>
<div class="line"><a id="l06332" name="l06332"></a><span class="lineno"> 6332</span>    <span class="keywordflow">if</span> (child_flags &amp; ImGuiChildFlags_AlwaysAutoResize)</div>
<div class="line"><a id="l06333" name="l06333"></a><span class="lineno"> 6333</span>    {</div>
<div class="line"><a id="l06334" name="l06334"></a><span class="lineno"> 6334</span>        IM_ASSERT((child_flags &amp; (ImGuiChildFlags_ResizeX | ImGuiChildFlags_ResizeY)) == 0 &amp;&amp; <span class="stringliteral">&quot;Cannot use ImGuiChildFlags_ResizeX or ImGuiChildFlags_ResizeY with ImGuiChildFlags_AlwaysAutoResize!&quot;</span>);</div>
<div class="line"><a id="l06335" name="l06335"></a><span class="lineno"> 6335</span>        IM_ASSERT((child_flags &amp; (ImGuiChildFlags_AutoResizeX | ImGuiChildFlags_AutoResizeY)) != 0 &amp;&amp; <span class="stringliteral">&quot;Must use ImGuiChildFlags_AutoResizeX or ImGuiChildFlags_AutoResizeY with ImGuiChildFlags_AlwaysAutoResize!&quot;</span>);</div>
<div class="line"><a id="l06336" name="l06336"></a><span class="lineno"> 6336</span>    }</div>
<div class="line"><a id="l06337" name="l06337"></a><span class="lineno"> 6337</span><span class="preprocessor">#ifndef IMGUI_DISABLE_OBSOLETE_FUNCTIONS</span></div>
<div class="line"><a id="l06338" name="l06338"></a><span class="lineno"> 6338</span>    <span class="keywordflow">if</span> (window_flags &amp; ImGuiWindowFlags_AlwaysUseWindowPadding)</div>
<div class="line"><a id="l06339" name="l06339"></a><span class="lineno"> 6339</span>        child_flags |= ImGuiChildFlags_AlwaysUseWindowPadding;</div>
<div class="line"><a id="l06340" name="l06340"></a><span class="lineno"> 6340</span>    <span class="keywordflow">if</span> (window_flags &amp; ImGuiWindowFlags_NavFlattened)</div>
<div class="line"><a id="l06341" name="l06341"></a><span class="lineno"> 6341</span>        child_flags |= ImGuiChildFlags_NavFlattened;</div>
<div class="line"><a id="l06342" name="l06342"></a><span class="lineno"> 6342</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l06343" name="l06343"></a><span class="lineno"> 6343</span>    <span class="keywordflow">if</span> (child_flags &amp; ImGuiChildFlags_AutoResizeX)</div>
<div class="line"><a id="l06344" name="l06344"></a><span class="lineno"> 6344</span>        child_flags &amp;= ~ImGuiChildFlags_ResizeX;</div>
<div class="line"><a id="l06345" name="l06345"></a><span class="lineno"> 6345</span>    <span class="keywordflow">if</span> (child_flags &amp; ImGuiChildFlags_AutoResizeY)</div>
<div class="line"><a id="l06346" name="l06346"></a><span class="lineno"> 6346</span>        child_flags &amp;= ~ImGuiChildFlags_ResizeY;</div>
<div class="line"><a id="l06347" name="l06347"></a><span class="lineno"> 6347</span> </div>
<div class="line"><a id="l06348" name="l06348"></a><span class="lineno"> 6348</span>    <span class="comment">// Set window flags</span></div>
<div class="line"><a id="l06349" name="l06349"></a><span class="lineno"> 6349</span>    window_flags |= ImGuiWindowFlags_ChildWindow | ImGuiWindowFlags_NoTitleBar | ImGuiWindowFlags_NoDocking;</div>
<div class="line"><a id="l06350" name="l06350"></a><span class="lineno"> 6350</span>    window_flags |= (parent_window-&gt;Flags &amp; ImGuiWindowFlags_NoMove); <span class="comment">// Inherit the NoMove flag</span></div>
<div class="line"><a id="l06351" name="l06351"></a><span class="lineno"> 6351</span>    <span class="keywordflow">if</span> (child_flags &amp; (ImGuiChildFlags_AutoResizeX | ImGuiChildFlags_AutoResizeY | ImGuiChildFlags_AlwaysAutoResize))</div>
<div class="line"><a id="l06352" name="l06352"></a><span class="lineno"> 6352</span>        window_flags |= ImGuiWindowFlags_AlwaysAutoResize;</div>
<div class="line"><a id="l06353" name="l06353"></a><span class="lineno"> 6353</span>    <span class="keywordflow">if</span> ((child_flags &amp; (ImGuiChildFlags_ResizeX | ImGuiChildFlags_ResizeY)) == 0)</div>
<div class="line"><a id="l06354" name="l06354"></a><span class="lineno"> 6354</span>        window_flags |= ImGuiWindowFlags_NoResize | ImGuiWindowFlags_NoSavedSettings;</div>
<div class="line"><a id="l06355" name="l06355"></a><span class="lineno"> 6355</span> </div>
<div class="line"><a id="l06356" name="l06356"></a><span class="lineno"> 6356</span>    <span class="comment">// Special framed style</span></div>
<div class="line"><a id="l06357" name="l06357"></a><span class="lineno"> 6357</span>    <span class="keywordflow">if</span> (child_flags &amp; ImGuiChildFlags_FrameStyle)</div>
<div class="line"><a id="l06358" name="l06358"></a><span class="lineno"> 6358</span>    {</div>
<div class="line"><a id="l06359" name="l06359"></a><span class="lineno"> 6359</span>        PushStyleColor(ImGuiCol_ChildBg, g.Style.Colors[ImGuiCol_FrameBg]);</div>
<div class="line"><a id="l06360" name="l06360"></a><span class="lineno"> 6360</span>        PushStyleVar(ImGuiStyleVar_ChildRounding, g.Style.FrameRounding);</div>
<div class="line"><a id="l06361" name="l06361"></a><span class="lineno"> 6361</span>        PushStyleVar(ImGuiStyleVar_ChildBorderSize, g.Style.FrameBorderSize);</div>
<div class="line"><a id="l06362" name="l06362"></a><span class="lineno"> 6362</span>        PushStyleVar(ImGuiStyleVar_WindowPadding, g.Style.FramePadding);</div>
<div class="line"><a id="l06363" name="l06363"></a><span class="lineno"> 6363</span>        child_flags |= ImGuiChildFlags_Borders | ImGuiChildFlags_AlwaysUseWindowPadding;</div>
<div class="line"><a id="l06364" name="l06364"></a><span class="lineno"> 6364</span>        window_flags |= ImGuiWindowFlags_NoMove;</div>
<div class="line"><a id="l06365" name="l06365"></a><span class="lineno"> 6365</span>    }</div>
<div class="line"><a id="l06366" name="l06366"></a><span class="lineno"> 6366</span> </div>
<div class="line"><a id="l06367" name="l06367"></a><span class="lineno"> 6367</span>    <span class="comment">// Forward size</span></div>
<div class="line"><a id="l06368" name="l06368"></a><span class="lineno"> 6368</span>    <span class="comment">// Important: Begin() has special processing to switch condition to ImGuiCond_FirstUseEver for a given axis when ImGuiChildFlags_ResizeXXX is set.</span></div>
<div class="line"><a id="l06369" name="l06369"></a><span class="lineno"> 6369</span>    <span class="comment">// (the alternative would to store conditional flags per axis, which is possible but more code)</span></div>
<div class="line"><a id="l06370" name="l06370"></a><span class="lineno"> 6370</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> size_avail = GetContentRegionAvail();</div>
<div class="line"><a id="l06371" name="l06371"></a><span class="lineno"> 6371</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> size_default((child_flags &amp; ImGuiChildFlags_AutoResizeX) ? 0.0f : size_avail.x, (child_flags &amp; ImGuiChildFlags_AutoResizeY) ? 0.0f : size_avail.y);</div>
<div class="line"><a id="l06372" name="l06372"></a><span class="lineno"> 6372</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> size = CalcItemSize(size_arg, size_default.x, size_default.y);</div>
<div class="line"><a id="l06373" name="l06373"></a><span class="lineno"> 6373</span> </div>
<div class="line"><a id="l06374" name="l06374"></a><span class="lineno"> 6374</span>    <span class="comment">// A SetNextWindowSize() call always has priority (#8020)</span></div>
<div class="line"><a id="l06375" name="l06375"></a><span class="lineno"> 6375</span>    <span class="comment">// (since the code in Begin() never supported SizeVal==0.0f aka auto-resize via SetNextWindowSize() call, we don&#39;t support it here for now)</span></div>
<div class="line"><a id="l06376" name="l06376"></a><span class="lineno"> 6376</span>    <span class="comment">// FIXME: We only support ImGuiCond_Always in this path. Supporting other paths would requires to obtain window pointer.</span></div>
<div class="line"><a id="l06377" name="l06377"></a><span class="lineno"> 6377</span>    <span class="keywordflow">if</span> ((g.NextWindowData.HasFlags &amp; ImGuiNextWindowDataFlags_HasSize) != 0 &amp;&amp; (g.NextWindowData.SizeCond &amp; ImGuiCond_Always) != 0)</div>
<div class="line"><a id="l06378" name="l06378"></a><span class="lineno"> 6378</span>    {</div>
<div class="line"><a id="l06379" name="l06379"></a><span class="lineno"> 6379</span>        <span class="keywordflow">if</span> (g.NextWindowData.SizeVal.x &gt; 0.0f)</div>
<div class="line"><a id="l06380" name="l06380"></a><span class="lineno"> 6380</span>        {</div>
<div class="line"><a id="l06381" name="l06381"></a><span class="lineno"> 6381</span>            size.x = g.NextWindowData.SizeVal.x;</div>
<div class="line"><a id="l06382" name="l06382"></a><span class="lineno"> 6382</span>            child_flags &amp;= ~ImGuiChildFlags_ResizeX;</div>
<div class="line"><a id="l06383" name="l06383"></a><span class="lineno"> 6383</span>        }</div>
<div class="line"><a id="l06384" name="l06384"></a><span class="lineno"> 6384</span>        <span class="keywordflow">if</span> (g.NextWindowData.SizeVal.y &gt; 0.0f)</div>
<div class="line"><a id="l06385" name="l06385"></a><span class="lineno"> 6385</span>        {</div>
<div class="line"><a id="l06386" name="l06386"></a><span class="lineno"> 6386</span>            size.y = g.NextWindowData.SizeVal.y;</div>
<div class="line"><a id="l06387" name="l06387"></a><span class="lineno"> 6387</span>            child_flags &amp;= ~ImGuiChildFlags_ResizeY;</div>
<div class="line"><a id="l06388" name="l06388"></a><span class="lineno"> 6388</span>        }</div>
<div class="line"><a id="l06389" name="l06389"></a><span class="lineno"> 6389</span>    }</div>
<div class="line"><a id="l06390" name="l06390"></a><span class="lineno"> 6390</span>    SetNextWindowSize(size);</div>
<div class="line"><a id="l06391" name="l06391"></a><span class="lineno"> 6391</span> </div>
<div class="line"><a id="l06392" name="l06392"></a><span class="lineno"> 6392</span>    <span class="comment">// Forward child flags (we allow prior settings to merge but it&#39;ll only work for adding flags)</span></div>
<div class="line"><a id="l06393" name="l06393"></a><span class="lineno"> 6393</span>    <span class="keywordflow">if</span> (g.NextWindowData.HasFlags &amp; ImGuiNextWindowDataFlags_HasChildFlags)</div>
<div class="line"><a id="l06394" name="l06394"></a><span class="lineno"> 6394</span>        g.NextWindowData.ChildFlags |= child_flags;</div>
<div class="line"><a id="l06395" name="l06395"></a><span class="lineno"> 6395</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l06396" name="l06396"></a><span class="lineno"> 6396</span>        g.NextWindowData.ChildFlags = child_flags;</div>
<div class="line"><a id="l06397" name="l06397"></a><span class="lineno"> 6397</span>    g.NextWindowData.HasFlags |= ImGuiNextWindowDataFlags_HasChildFlags;</div>
<div class="line"><a id="l06398" name="l06398"></a><span class="lineno"> 6398</span> </div>
<div class="line"><a id="l06399" name="l06399"></a><span class="lineno"> 6399</span>    <span class="comment">// Build up name. If you need to append to a same child from multiple location in the ID stack, use BeginChild(ImGuiID id) with a stable value.</span></div>
<div class="line"><a id="l06400" name="l06400"></a><span class="lineno"> 6400</span>    <span class="comment">// FIXME: 2023/11/14: commented out shorted version. We had an issue with multiple ### in child window path names, which the trailing hash helped workaround.</span></div>
<div class="line"><a id="l06401" name="l06401"></a><span class="lineno"> 6401</span>    <span class="comment">// e.g. &quot;ParentName###ParentIdentifier/ChildName###ChildIdentifier&quot; would get hashed incorrectly by ImHashStr(), trailing _%08X somehow fixes it.</span></div>
<div class="line"><a id="l06402" name="l06402"></a><span class="lineno"> 6402</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* temp_window_name;</div>
<div class="line"><a id="l06403" name="l06403"></a><span class="lineno"> 6403</span>    <span class="comment">/*if (name &amp;&amp; parent_window-&gt;IDStack.back() == parent_window-&gt;ID)</span></div>
<div class="line"><a id="l06404" name="l06404"></a><span class="lineno"> 6404</span><span class="comment">        ImFormatStringToTempBuffer(&amp;temp_window_name, NULL, &quot;%s/%s&quot;, parent_window-&gt;Name, name); // May omit ID if in root of ID stack</span></div>
<div class="line"><a id="l06405" name="l06405"></a><span class="lineno"> 6405</span><span class="comment">    else*/</span></div>
<div class="line"><a id="l06406" name="l06406"></a><span class="lineno"> 6406</span>    <span class="keywordflow">if</span> (name)</div>
<div class="line"><a id="l06407" name="l06407"></a><span class="lineno"> 6407</span>        ImFormatStringToTempBuffer(&amp;temp_window_name, NULL, <span class="stringliteral">&quot;%s/%s_%08X&quot;</span>, parent_window-&gt;Name, name, <span class="keywordtype">id</span>);</div>
<div class="line"><a id="l06408" name="l06408"></a><span class="lineno"> 6408</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l06409" name="l06409"></a><span class="lineno"> 6409</span>        ImFormatStringToTempBuffer(&amp;temp_window_name, NULL, <span class="stringliteral">&quot;%s/%08X&quot;</span>, parent_window-&gt;Name, <span class="keywordtype">id</span>);</div>
<div class="line"><a id="l06410" name="l06410"></a><span class="lineno"> 6410</span> </div>
<div class="line"><a id="l06411" name="l06411"></a><span class="lineno"> 6411</span>    <span class="comment">// Set style</span></div>
<div class="line"><a id="l06412" name="l06412"></a><span class="lineno"> 6412</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> backup_border_size = g.Style.ChildBorderSize;</div>
<div class="line"><a id="l06413" name="l06413"></a><span class="lineno"> 6413</span>    <span class="keywordflow">if</span> ((child_flags &amp; ImGuiChildFlags_Borders) == 0)</div>
<div class="line"><a id="l06414" name="l06414"></a><span class="lineno"> 6414</span>        g.Style.ChildBorderSize = 0.0f;</div>
<div class="line"><a id="l06415" name="l06415"></a><span class="lineno"> 6415</span> </div>
<div class="line"><a id="l06416" name="l06416"></a><span class="lineno"> 6416</span>    <span class="comment">// Begin into window</span></div>
<div class="line"><a id="l06417" name="l06417"></a><span class="lineno"> 6417</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> ret = Begin(temp_window_name, NULL, window_flags);</div>
<div class="line"><a id="l06418" name="l06418"></a><span class="lineno"> 6418</span> </div>
<div class="line"><a id="l06419" name="l06419"></a><span class="lineno"> 6419</span>    <span class="comment">// Restore style</span></div>
<div class="line"><a id="l06420" name="l06420"></a><span class="lineno"> 6420</span>    g.Style.ChildBorderSize = backup_border_size;</div>
<div class="line"><a id="l06421" name="l06421"></a><span class="lineno"> 6421</span>    <span class="keywordflow">if</span> (child_flags &amp; ImGuiChildFlags_FrameStyle)</div>
<div class="line"><a id="l06422" name="l06422"></a><span class="lineno"> 6422</span>    {</div>
<div class="line"><a id="l06423" name="l06423"></a><span class="lineno"> 6423</span>        PopStyleVar(3);</div>
<div class="line"><a id="l06424" name="l06424"></a><span class="lineno"> 6424</span>        PopStyleColor();</div>
<div class="line"><a id="l06425" name="l06425"></a><span class="lineno"> 6425</span>    }</div>
<div class="line"><a id="l06426" name="l06426"></a><span class="lineno"> 6426</span> </div>
<div class="line"><a id="l06427" name="l06427"></a><span class="lineno"> 6427</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* child_window = g.CurrentWindow;</div>
<div class="line"><a id="l06428" name="l06428"></a><span class="lineno"> 6428</span>    child_window-&gt;ChildId = id;</div>
<div class="line"><a id="l06429" name="l06429"></a><span class="lineno"> 6429</span> </div>
<div class="line"><a id="l06430" name="l06430"></a><span class="lineno"> 6430</span>    <span class="comment">// Set the cursor to handle case where the user called SetNextWindowPos()+BeginChild() manually.</span></div>
<div class="line"><a id="l06431" name="l06431"></a><span class="lineno"> 6431</span>    <span class="comment">// While this is not really documented/defined, it seems that the expected thing to do.</span></div>
<div class="line"><a id="l06432" name="l06432"></a><span class="lineno"> 6432</span>    <span class="keywordflow">if</span> (child_window-&gt;BeginCount == 1)</div>
<div class="line"><a id="l06433" name="l06433"></a><span class="lineno"> 6433</span>        parent_window-&gt;DC.CursorPos = child_window-&gt;Pos;</div>
<div class="line"><a id="l06434" name="l06434"></a><span class="lineno"> 6434</span> </div>
<div class="line"><a id="l06435" name="l06435"></a><span class="lineno"> 6435</span>    <span class="comment">// Process navigation-in immediately so NavInit can run on first frame</span></div>
<div class="line"><a id="l06436" name="l06436"></a><span class="lineno"> 6436</span>    <span class="comment">// Can enter a child if (A) it has navigable items or (B) it can be scrolled.</span></div>
<div class="line"><a id="l06437" name="l06437"></a><span class="lineno"> 6437</span>    <span class="keyword">const</span> ImGuiID temp_id_for_activation = ImHashStr(<span class="stringliteral">&quot;##Child&quot;</span>, 0, <span class="keywordtype">id</span>);</div>
<div class="line"><a id="l06438" name="l06438"></a><span class="lineno"> 6438</span>    <span class="keywordflow">if</span> (g.ActiveId == temp_id_for_activation)</div>
<div class="line"><a id="l06439" name="l06439"></a><span class="lineno"> 6439</span>        ClearActiveID();</div>
<div class="line"><a id="l06440" name="l06440"></a><span class="lineno"> 6440</span>    <span class="keywordflow">if</span> (g.NavActivateId == <span class="keywordtype">id</span> &amp;&amp; !(child_flags &amp; ImGuiChildFlags_NavFlattened) &amp;&amp; (child_window-&gt;DC.NavLayersActiveMask != 0 || child_window-&gt;DC.NavWindowHasScrollY))</div>
<div class="line"><a id="l06441" name="l06441"></a><span class="lineno"> 6441</span>    {</div>
<div class="line"><a id="l06442" name="l06442"></a><span class="lineno"> 6442</span>        FocusWindow(child_window);</div>
<div class="line"><a id="l06443" name="l06443"></a><span class="lineno"> 6443</span>        NavInitWindow(child_window, <span class="keyword">false</span>);</div>
<div class="line"><a id="l06444" name="l06444"></a><span class="lineno"> 6444</span>        SetActiveID(temp_id_for_activation, child_window); <span class="comment">// Steal ActiveId with another arbitrary id so that key-press won&#39;t activate child item</span></div>
<div class="line"><a id="l06445" name="l06445"></a><span class="lineno"> 6445</span>        g.ActiveIdSource = g.NavInputSource;</div>
<div class="line"><a id="l06446" name="l06446"></a><span class="lineno"> 6446</span>    }</div>
<div class="line"><a id="l06447" name="l06447"></a><span class="lineno"> 6447</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a id="l06448" name="l06448"></a><span class="lineno"> 6448</span>}</div>
<div class="line"><a id="l06449" name="l06449"></a><span class="lineno"> 6449</span> </div>
<div class="line"><a id="l06450" name="l06450"></a><span class="lineno"> 6450</span><span class="keywordtype">void</span> ImGui::EndChild()</div>
<div class="line"><a id="l06451" name="l06451"></a><span class="lineno"> 6451</span>{</div>
<div class="line"><a id="l06452" name="l06452"></a><span class="lineno"> 6452</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l06453" name="l06453"></a><span class="lineno"> 6453</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* child_window = g.CurrentWindow;</div>
<div class="line"><a id="l06454" name="l06454"></a><span class="lineno"> 6454</span> </div>
<div class="line"><a id="l06455" name="l06455"></a><span class="lineno"> 6455</span>    <span class="keyword">const</span> ImGuiID backup_within_end_child_id = g.WithinEndChildID;</div>
<div class="line"><a id="l06456" name="l06456"></a><span class="lineno"> 6456</span>    IM_ASSERT(child_window-&gt;Flags &amp; ImGuiWindowFlags_ChildWindow);   <span class="comment">// Mismatched BeginChild()/EndChild() calls</span></div>
<div class="line"><a id="l06457" name="l06457"></a><span class="lineno"> 6457</span> </div>
<div class="line"><a id="l06458" name="l06458"></a><span class="lineno"> 6458</span>    g.WithinEndChildID = child_window-&gt;ID;</div>
<div class="line"><a id="l06459" name="l06459"></a><span class="lineno"> 6459</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> child_size = child_window-&gt;Size;</div>
<div class="line"><a id="l06460" name="l06460"></a><span class="lineno"> 6460</span>    End();</div>
<div class="line"><a id="l06461" name="l06461"></a><span class="lineno"> 6461</span>    <span class="keywordflow">if</span> (child_window-&gt;BeginCount == 1)</div>
<div class="line"><a id="l06462" name="l06462"></a><span class="lineno"> 6462</span>    {</div>
<div class="line"><a id="l06463" name="l06463"></a><span class="lineno"> 6463</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* parent_window = g.CurrentWindow;</div>
<div class="line"><a id="l06464" name="l06464"></a><span class="lineno"> 6464</span>        <a class="code hl_struct" href="structImRect.html">ImRect</a> bb(parent_window-&gt;DC.CursorPos, parent_window-&gt;DC.CursorPos + child_size);</div>
<div class="line"><a id="l06465" name="l06465"></a><span class="lineno"> 6465</span>        ItemSize(child_size);</div>
<div class="line"><a id="l06466" name="l06466"></a><span class="lineno"> 6466</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> nav_flattened = (child_window-&gt;ChildFlags &amp; ImGuiChildFlags_NavFlattened) != 0;</div>
<div class="line"><a id="l06467" name="l06467"></a><span class="lineno"> 6467</span>        <span class="keywordflow">if</span> ((child_window-&gt;DC.NavLayersActiveMask != 0 || child_window-&gt;DC.NavWindowHasScrollY) &amp;&amp; !nav_flattened)</div>
<div class="line"><a id="l06468" name="l06468"></a><span class="lineno"> 6468</span>        {</div>
<div class="line"><a id="l06469" name="l06469"></a><span class="lineno"> 6469</span>            ItemAdd(bb, child_window-&gt;ChildId);</div>
<div class="line"><a id="l06470" name="l06470"></a><span class="lineno"> 6470</span>            RenderNavCursor(bb, child_window-&gt;ChildId);</div>
<div class="line"><a id="l06471" name="l06471"></a><span class="lineno"> 6471</span> </div>
<div class="line"><a id="l06472" name="l06472"></a><span class="lineno"> 6472</span>            <span class="comment">// When browsing a window that has no activable items (scroll only) we keep a highlight on the child (pass g.NavId to trick into always displaying)</span></div>
<div class="line"><a id="l06473" name="l06473"></a><span class="lineno"> 6473</span>            <span class="keywordflow">if</span> (child_window-&gt;DC.NavLayersActiveMask == 0 &amp;&amp; child_window == g.NavWindow)</div>
<div class="line"><a id="l06474" name="l06474"></a><span class="lineno"> 6474</span>                RenderNavCursor(<a class="code hl_struct" href="structImRect.html">ImRect</a>(bb.Min - <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(2, 2), bb.Max + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(2, 2)), g.NavId, ImGuiNavRenderCursorFlags_Compact);</div>
<div class="line"><a id="l06475" name="l06475"></a><span class="lineno"> 6475</span>        }</div>
<div class="line"><a id="l06476" name="l06476"></a><span class="lineno"> 6476</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l06477" name="l06477"></a><span class="lineno"> 6477</span>        {</div>
<div class="line"><a id="l06478" name="l06478"></a><span class="lineno"> 6478</span>            <span class="comment">// Not navigable into</span></div>
<div class="line"><a id="l06479" name="l06479"></a><span class="lineno"> 6479</span>            <span class="comment">// - This is a bit of a fringe use case, mostly useful for undecorated, non-scrolling contents childs, or empty childs.</span></div>
<div class="line"><a id="l06480" name="l06480"></a><span class="lineno"> 6480</span>            <span class="comment">// - We could later decide to not apply this path if ImGuiChildFlags_FrameStyle or ImGuiChildFlags_Borders is set.</span></div>
<div class="line"><a id="l06481" name="l06481"></a><span class="lineno"> 6481</span>            ItemAdd(bb, child_window-&gt;ChildId, NULL, ImGuiItemFlags_NoNav);</div>
<div class="line"><a id="l06482" name="l06482"></a><span class="lineno"> 6482</span> </div>
<div class="line"><a id="l06483" name="l06483"></a><span class="lineno"> 6483</span>            <span class="comment">// But when flattened we directly reach items, adjust active layer mask accordingly</span></div>
<div class="line"><a id="l06484" name="l06484"></a><span class="lineno"> 6484</span>            <span class="keywordflow">if</span> (nav_flattened)</div>
<div class="line"><a id="l06485" name="l06485"></a><span class="lineno"> 6485</span>                parent_window-&gt;DC.NavLayersActiveMaskNext |= child_window-&gt;DC.NavLayersActiveMaskNext;</div>
<div class="line"><a id="l06486" name="l06486"></a><span class="lineno"> 6486</span>        }</div>
<div class="line"><a id="l06487" name="l06487"></a><span class="lineno"> 6487</span>        <span class="keywordflow">if</span> (g.HoveredWindow == child_window)</div>
<div class="line"><a id="l06488" name="l06488"></a><span class="lineno"> 6488</span>            g.LastItemData.StatusFlags |= ImGuiItemStatusFlags_HoveredWindow;</div>
<div class="line"><a id="l06489" name="l06489"></a><span class="lineno"> 6489</span>        child_window-&gt;DC.ChildItemStatusFlags = g.LastItemData.StatusFlags;</div>
<div class="line"><a id="l06490" name="l06490"></a><span class="lineno"> 6490</span>        <span class="comment">//SetLastItemDataForChildWindowItem(child_window, child_window-&gt;Rect()); // Not needed, effectively done by ItemAdd()</span></div>
<div class="line"><a id="l06491" name="l06491"></a><span class="lineno"> 6491</span>    }</div>
<div class="line"><a id="l06492" name="l06492"></a><span class="lineno"> 6492</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l06493" name="l06493"></a><span class="lineno"> 6493</span>    {</div>
<div class="line"><a id="l06494" name="l06494"></a><span class="lineno"> 6494</span>        SetLastItemDataForChildWindowItem(child_window, child_window-&gt;Rect());</div>
<div class="line"><a id="l06495" name="l06495"></a><span class="lineno"> 6495</span>    }</div>
<div class="line"><a id="l06496" name="l06496"></a><span class="lineno"> 6496</span> </div>
<div class="line"><a id="l06497" name="l06497"></a><span class="lineno"> 6497</span>    g.WithinEndChildID = backup_within_end_child_id;</div>
<div class="line"><a id="l06498" name="l06498"></a><span class="lineno"> 6498</span>    g.LogLinePosY = -FLT_MAX; <span class="comment">// To enforce a carriage return</span></div>
<div class="line"><a id="l06499" name="l06499"></a><span class="lineno"> 6499</span>}</div>
<div class="line"><a id="l06500" name="l06500"></a><span class="lineno"> 6500</span> </div>
<div class="line"><a id="l06501" name="l06501"></a><span class="lineno"> 6501</span><span class="keyword">static</span> <span class="keywordtype">void</span> SetWindowConditionAllowFlags(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, ImGuiCond flags, <span class="keywordtype">bool</span> enabled)</div>
<div class="line"><a id="l06502" name="l06502"></a><span class="lineno"> 6502</span>{</div>
<div class="line"><a id="l06503" name="l06503"></a><span class="lineno"> 6503</span>    window-&gt;SetWindowPosAllowFlags       = enabled ? (window-&gt;SetWindowPosAllowFlags       | flags) : (window-&gt;SetWindowPosAllowFlags       &amp; ~flags);</div>
<div class="line"><a id="l06504" name="l06504"></a><span class="lineno"> 6504</span>    window-&gt;SetWindowSizeAllowFlags      = enabled ? (window-&gt;SetWindowSizeAllowFlags      | flags) : (window-&gt;SetWindowSizeAllowFlags      &amp; ~flags);</div>
<div class="line"><a id="l06505" name="l06505"></a><span class="lineno"> 6505</span>    window-&gt;SetWindowCollapsedAllowFlags = enabled ? (window-&gt;SetWindowCollapsedAllowFlags | flags) : (window-&gt;SetWindowCollapsedAllowFlags &amp; ~flags);</div>
<div class="line"><a id="l06506" name="l06506"></a><span class="lineno"> 6506</span>    window-&gt;SetWindowDockAllowFlags      = enabled ? (window-&gt;SetWindowDockAllowFlags      | flags) : (window-&gt;SetWindowDockAllowFlags      &amp; ~flags);</div>
<div class="line"><a id="l06507" name="l06507"></a><span class="lineno"> 6507</span>}</div>
<div class="line"><a id="l06508" name="l06508"></a><span class="lineno"> 6508</span> </div>
<div class="line"><a id="l06509" name="l06509"></a><span class="lineno"> 6509</span><a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* ImGui::FindWindowByID(ImGuiID <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l06510" name="l06510"></a><span class="lineno"> 6510</span>{</div>
<div class="line"><a id="l06511" name="l06511"></a><span class="lineno"> 6511</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l06512" name="l06512"></a><span class="lineno"> 6512</span>    <span class="keywordflow">return</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>*)g.WindowsById.GetVoidPtr(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l06513" name="l06513"></a><span class="lineno"> 6513</span>}</div>
<div class="line"><a id="l06514" name="l06514"></a><span class="lineno"> 6514</span> </div>
<div class="line"><a id="l06515" name="l06515"></a><span class="lineno"> 6515</span><a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* ImGui::FindWindowByName(<span class="keyword">const</span> <span class="keywordtype">char</span>* name)</div>
<div class="line"><a id="l06516" name="l06516"></a><span class="lineno"> 6516</span>{</div>
<div class="line"><a id="l06517" name="l06517"></a><span class="lineno"> 6517</span>    ImGuiID <span class="keywordtype">id</span> = ImHashStr(name);</div>
<div class="line"><a id="l06518" name="l06518"></a><span class="lineno"> 6518</span>    <span class="keywordflow">return</span> FindWindowByID(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l06519" name="l06519"></a><span class="lineno"> 6519</span>}</div>
<div class="line"><a id="l06520" name="l06520"></a><span class="lineno"> 6520</span> </div>
<div class="line"><a id="l06521" name="l06521"></a><span class="lineno"> 6521</span><span class="keyword">static</span> <span class="keywordtype">void</span> ApplyWindowSettings(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>* settings)</div>
<div class="line"><a id="l06522" name="l06522"></a><span class="lineno"> 6522</span>{</div>
<div class="line"><a id="l06523" name="l06523"></a><span class="lineno"> 6523</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiViewport.html">ImGuiViewport</a>* main_viewport = ImGui::GetMainViewport();</div>
<div class="line"><a id="l06524" name="l06524"></a><span class="lineno"> 6524</span>    window-&gt;ViewportPos = main_viewport-&gt;Pos;</div>
<div class="line"><a id="l06525" name="l06525"></a><span class="lineno"> 6525</span>    <span class="keywordflow">if</span> (settings-&gt;ViewportId)</div>
<div class="line"><a id="l06526" name="l06526"></a><span class="lineno"> 6526</span>    {</div>
<div class="line"><a id="l06527" name="l06527"></a><span class="lineno"> 6527</span>        window-&gt;ViewportId = settings-&gt;ViewportId;</div>
<div class="line"><a id="l06528" name="l06528"></a><span class="lineno"> 6528</span>        window-&gt;ViewportPos = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(settings-&gt;ViewportPos.x, settings-&gt;ViewportPos.y);</div>
<div class="line"><a id="l06529" name="l06529"></a><span class="lineno"> 6529</span>    }</div>
<div class="line"><a id="l06530" name="l06530"></a><span class="lineno"> 6530</span>    window-&gt;Pos = ImTrunc(<a class="code hl_struct" href="structImVec2.html">ImVec2</a>(settings-&gt;Pos.x + window-&gt;ViewportPos.x, settings-&gt;Pos.y + window-&gt;ViewportPos.y));</div>
<div class="line"><a id="l06531" name="l06531"></a><span class="lineno"> 6531</span>    <span class="keywordflow">if</span> (settings-&gt;Size.x &gt; 0 &amp;&amp; settings-&gt;Size.y &gt; 0)</div>
<div class="line"><a id="l06532" name="l06532"></a><span class="lineno"> 6532</span>        window-&gt;Size = window-&gt;SizeFull = ImTrunc(<a class="code hl_struct" href="structImVec2.html">ImVec2</a>(settings-&gt;Size.x, settings-&gt;Size.y));</div>
<div class="line"><a id="l06533" name="l06533"></a><span class="lineno"> 6533</span>    window-&gt;Collapsed = settings-&gt;Collapsed;</div>
<div class="line"><a id="l06534" name="l06534"></a><span class="lineno"> 6534</span>    window-&gt;DockId = settings-&gt;DockId;</div>
<div class="line"><a id="l06535" name="l06535"></a><span class="lineno"> 6535</span>    window-&gt;DockOrder = settings-&gt;DockOrder;</div>
<div class="line"><a id="l06536" name="l06536"></a><span class="lineno"> 6536</span>}</div>
<div class="line"><a id="l06537" name="l06537"></a><span class="lineno"> 6537</span> </div>
<div class="line"><a id="l06538" name="l06538"></a><span class="lineno"> 6538</span><span class="keyword">static</span> <span class="keywordtype">void</span> InitOrLoadWindowSettings(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>* settings)</div>
<div class="line"><a id="l06539" name="l06539"></a><span class="lineno"> 6539</span>{</div>
<div class="line"><a id="l06540" name="l06540"></a><span class="lineno"> 6540</span>    <span class="comment">// Initial window state with e.g. default/arbitrary window position</span></div>
<div class="line"><a id="l06541" name="l06541"></a><span class="lineno"> 6541</span>    <span class="comment">// Use SetNextWindowPos() with the appropriate condition flag to change the initial position of a window.</span></div>
<div class="line"><a id="l06542" name="l06542"></a><span class="lineno"> 6542</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiViewport.html">ImGuiViewport</a>* main_viewport = ImGui::GetMainViewport();</div>
<div class="line"><a id="l06543" name="l06543"></a><span class="lineno"> 6543</span>    window-&gt;Pos = main_viewport-&gt;Pos + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(60, 60);</div>
<div class="line"><a id="l06544" name="l06544"></a><span class="lineno"> 6544</span>    window-&gt;Size = window-&gt;SizeFull = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0, 0);</div>
<div class="line"><a id="l06545" name="l06545"></a><span class="lineno"> 6545</span>    window-&gt;ViewportPos = main_viewport-&gt;Pos;</div>
<div class="line"><a id="l06546" name="l06546"></a><span class="lineno"> 6546</span>    window-&gt;SetWindowPosAllowFlags = window-&gt;SetWindowSizeAllowFlags = window-&gt;SetWindowCollapsedAllowFlags = window-&gt;SetWindowDockAllowFlags = ImGuiCond_Always | ImGuiCond_Once | ImGuiCond_FirstUseEver | ImGuiCond_Appearing;</div>
<div class="line"><a id="l06547" name="l06547"></a><span class="lineno"> 6547</span> </div>
<div class="line"><a id="l06548" name="l06548"></a><span class="lineno"> 6548</span>    <span class="keywordflow">if</span> (settings != NULL)</div>
<div class="line"><a id="l06549" name="l06549"></a><span class="lineno"> 6549</span>    {</div>
<div class="line"><a id="l06550" name="l06550"></a><span class="lineno"> 6550</span>        SetWindowConditionAllowFlags(window, ImGuiCond_FirstUseEver, <span class="keyword">false</span>);</div>
<div class="line"><a id="l06551" name="l06551"></a><span class="lineno"> 6551</span>        ApplyWindowSettings(window, settings);</div>
<div class="line"><a id="l06552" name="l06552"></a><span class="lineno"> 6552</span>    }</div>
<div class="line"><a id="l06553" name="l06553"></a><span class="lineno"> 6553</span>    window-&gt;DC.CursorStartPos = window-&gt;DC.CursorMaxPos = window-&gt;DC.IdealMaxPos = window-&gt;Pos; <span class="comment">// So first call to CalcWindowContentSizes() doesn&#39;t return crazy values</span></div>
<div class="line"><a id="l06554" name="l06554"></a><span class="lineno"> 6554</span> </div>
<div class="line"><a id="l06555" name="l06555"></a><span class="lineno"> 6555</span>    <span class="keywordflow">if</span> ((window-&gt;Flags &amp; ImGuiWindowFlags_AlwaysAutoResize) != 0)</div>
<div class="line"><a id="l06556" name="l06556"></a><span class="lineno"> 6556</span>    {</div>
<div class="line"><a id="l06557" name="l06557"></a><span class="lineno"> 6557</span>        window-&gt;AutoFitFramesX = window-&gt;AutoFitFramesY = 2;</div>
<div class="line"><a id="l06558" name="l06558"></a><span class="lineno"> 6558</span>        window-&gt;AutoFitOnlyGrows = <span class="keyword">false</span>;</div>
<div class="line"><a id="l06559" name="l06559"></a><span class="lineno"> 6559</span>    }</div>
<div class="line"><a id="l06560" name="l06560"></a><span class="lineno"> 6560</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l06561" name="l06561"></a><span class="lineno"> 6561</span>    {</div>
<div class="line"><a id="l06562" name="l06562"></a><span class="lineno"> 6562</span>        <span class="keywordflow">if</span> (window-&gt;Size.x &lt;= 0.0f)</div>
<div class="line"><a id="l06563" name="l06563"></a><span class="lineno"> 6563</span>            window-&gt;AutoFitFramesX = 2;</div>
<div class="line"><a id="l06564" name="l06564"></a><span class="lineno"> 6564</span>        <span class="keywordflow">if</span> (window-&gt;Size.y &lt;= 0.0f)</div>
<div class="line"><a id="l06565" name="l06565"></a><span class="lineno"> 6565</span>            window-&gt;AutoFitFramesY = 2;</div>
<div class="line"><a id="l06566" name="l06566"></a><span class="lineno"> 6566</span>        window-&gt;AutoFitOnlyGrows = (window-&gt;AutoFitFramesX &gt; 0) || (window-&gt;AutoFitFramesY &gt; 0);</div>
<div class="line"><a id="l06567" name="l06567"></a><span class="lineno"> 6567</span>    }</div>
<div class="line"><a id="l06568" name="l06568"></a><span class="lineno"> 6568</span>}</div>
<div class="line"><a id="l06569" name="l06569"></a><span class="lineno"> 6569</span> </div>
<div class="line"><a id="l06570" name="l06570"></a><span class="lineno"> 6570</span><span class="keyword">static</span> <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* CreateNewWindow(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, ImGuiWindowFlags flags)</div>
<div class="line"><a id="l06571" name="l06571"></a><span class="lineno"> 6571</span>{</div>
<div class="line"><a id="l06572" name="l06572"></a><span class="lineno"> 6572</span>    <span class="comment">// Create window the first time</span></div>
<div class="line"><a id="l06573" name="l06573"></a><span class="lineno"> 6573</span>    <span class="comment">//IMGUI_DEBUG_LOG(&quot;CreateNewWindow &#39;%s&#39;, flags = 0x%08X\n&quot;, name, flags);</span></div>
<div class="line"><a id="l06574" name="l06574"></a><span class="lineno"> 6574</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l06575" name="l06575"></a><span class="lineno"> 6575</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = IM_NEW(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>)(&amp;g, name);</div>
<div class="line"><a id="l06576" name="l06576"></a><span class="lineno"> 6576</span>    window-&gt;Flags = flags;</div>
<div class="line"><a id="l06577" name="l06577"></a><span class="lineno"> 6577</span>    g.WindowsById.SetVoidPtr(window-&gt;ID, window);</div>
<div class="line"><a id="l06578" name="l06578"></a><span class="lineno"> 6578</span> </div>
<div class="line"><a id="l06579" name="l06579"></a><span class="lineno"> 6579</span>    <a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>* settings = NULL;</div>
<div class="line"><a id="l06580" name="l06580"></a><span class="lineno"> 6580</span>    <span class="keywordflow">if</span> (!(flags &amp; ImGuiWindowFlags_NoSavedSettings))</div>
<div class="line"><a id="l06581" name="l06581"></a><span class="lineno"> 6581</span>        <span class="keywordflow">if</span> ((settings = ImGui::FindWindowSettingsByWindow(window)) != 0)</div>
<div class="line"><a id="l06582" name="l06582"></a><span class="lineno"> 6582</span>            window-&gt;SettingsOffset = g.SettingsWindows.offset_from_ptr(settings);</div>
<div class="line"><a id="l06583" name="l06583"></a><span class="lineno"> 6583</span> </div>
<div class="line"><a id="l06584" name="l06584"></a><span class="lineno"> 6584</span>    InitOrLoadWindowSettings(window, settings);</div>
<div class="line"><a id="l06585" name="l06585"></a><span class="lineno"> 6585</span> </div>
<div class="line"><a id="l06586" name="l06586"></a><span class="lineno"> 6586</span>    <span class="keywordflow">if</span> (flags &amp; ImGuiWindowFlags_NoBringToFrontOnFocus)</div>
<div class="line"><a id="l06587" name="l06587"></a><span class="lineno"> 6587</span>        g.Windows.push_front(window); <span class="comment">// Quite slow but rare and only once</span></div>
<div class="line"><a id="l06588" name="l06588"></a><span class="lineno"> 6588</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l06589" name="l06589"></a><span class="lineno"> 6589</span>        g.Windows.push_back(window);</div>
<div class="line"><a id="l06590" name="l06590"></a><span class="lineno"> 6590</span> </div>
<div class="line"><a id="l06591" name="l06591"></a><span class="lineno"> 6591</span>    <span class="keywordflow">return</span> window;</div>
<div class="line"><a id="l06592" name="l06592"></a><span class="lineno"> 6592</span>}</div>
<div class="line"><a id="l06593" name="l06593"></a><span class="lineno"> 6593</span> </div>
<div class="line"><a id="l06594" name="l06594"></a><span class="lineno"> 6594</span><span class="keyword">static</span> <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* GetWindowForTitleDisplay(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l06595" name="l06595"></a><span class="lineno"> 6595</span>{</div>
<div class="line"><a id="l06596" name="l06596"></a><span class="lineno"> 6596</span>    <span class="keywordflow">return</span> window-&gt;DockNodeAsHost ? window-&gt;DockNodeAsHost-&gt;VisibleWindow : window;</div>
<div class="line"><a id="l06597" name="l06597"></a><span class="lineno"> 6597</span>}</div>
<div class="line"><a id="l06598" name="l06598"></a><span class="lineno"> 6598</span> </div>
<div class="line"><a id="l06599" name="l06599"></a><span class="lineno"> 6599</span><span class="keyword">static</span> <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* GetWindowForTitleAndMenuHeight(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l06600" name="l06600"></a><span class="lineno"> 6600</span>{</div>
<div class="line"><a id="l06601" name="l06601"></a><span class="lineno"> 6601</span>    <span class="keywordflow">return</span> (window-&gt;DockNodeAsHost &amp;&amp; window-&gt;DockNodeAsHost-&gt;VisibleWindow) ? window-&gt;DockNodeAsHost-&gt;VisibleWindow : window;</div>
<div class="line"><a id="l06602" name="l06602"></a><span class="lineno"> 6602</span>}</div>
<div class="line"><a id="l06603" name="l06603"></a><span class="lineno"> 6603</span> </div>
<div class="line"><a id="l06604" name="l06604"></a><span class="lineno"> 6604</span><span class="keyword">static</span> <span class="keyword">inline</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> CalcWindowMinSize(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l06605" name="l06605"></a><span class="lineno"> 6605</span>{</div>
<div class="line"><a id="l06606" name="l06606"></a><span class="lineno"> 6606</span>    <span class="comment">// We give windows non-zero minimum size to facilitate understanding problematic cases (e.g. empty popups)</span></div>
<div class="line"><a id="l06607" name="l06607"></a><span class="lineno"> 6607</span>    <span class="comment">// FIXME: Essentially we want to restrict manual resizing to WindowMinSize+Decoration, and allow api resizing to be smaller.</span></div>
<div class="line"><a id="l06608" name="l06608"></a><span class="lineno"> 6608</span>    <span class="comment">// Perhaps should tend further a neater test for this.</span></div>
<div class="line"><a id="l06609" name="l06609"></a><span class="lineno"> 6609</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l06610" name="l06610"></a><span class="lineno"> 6610</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> size_min;</div>
<div class="line"><a id="l06611" name="l06611"></a><span class="lineno"> 6611</span>    <span class="keywordflow">if</span> ((window-&gt;Flags &amp; ImGuiWindowFlags_ChildWindow) &amp;&amp; !(window-&gt;Flags &amp; ImGuiWindowFlags_Popup))</div>
<div class="line"><a id="l06612" name="l06612"></a><span class="lineno"> 6612</span>    {</div>
<div class="line"><a id="l06613" name="l06613"></a><span class="lineno"> 6613</span>        size_min.x = (window-&gt;ChildFlags &amp; ImGuiChildFlags_ResizeX) ? g.Style.WindowMinSize.x : 4.0f;</div>
<div class="line"><a id="l06614" name="l06614"></a><span class="lineno"> 6614</span>        size_min.y = (window-&gt;ChildFlags &amp; ImGuiChildFlags_ResizeY) ? g.Style.WindowMinSize.y : 4.0f;</div>
<div class="line"><a id="l06615" name="l06615"></a><span class="lineno"> 6615</span>    }</div>
<div class="line"><a id="l06616" name="l06616"></a><span class="lineno"> 6616</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l06617" name="l06617"></a><span class="lineno"> 6617</span>    {</div>
<div class="line"><a id="l06618" name="l06618"></a><span class="lineno"> 6618</span>        size_min.x = ((window-&gt;Flags &amp; ImGuiWindowFlags_AlwaysAutoResize) == 0) ? g.Style.WindowMinSize.x : 4.0f;</div>
<div class="line"><a id="l06619" name="l06619"></a><span class="lineno"> 6619</span>        size_min.y = ((window-&gt;Flags &amp; ImGuiWindowFlags_AlwaysAutoResize) == 0) ? g.Style.WindowMinSize.y : 4.0f;</div>
<div class="line"><a id="l06620" name="l06620"></a><span class="lineno"> 6620</span>    }</div>
<div class="line"><a id="l06621" name="l06621"></a><span class="lineno"> 6621</span> </div>
<div class="line"><a id="l06622" name="l06622"></a><span class="lineno"> 6622</span>    <span class="comment">// Reduce artifacts with very small windows</span></div>
<div class="line"><a id="l06623" name="l06623"></a><span class="lineno"> 6623</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window_for_height = GetWindowForTitleAndMenuHeight(window);</div>
<div class="line"><a id="l06624" name="l06624"></a><span class="lineno"> 6624</span>    size_min.y = ImMax(size_min.y, window_for_height-&gt;TitleBarHeight + window_for_height-&gt;MenuBarHeight + ImMax(0.0f, g.Style.WindowRounding - 1.0f));</div>
<div class="line"><a id="l06625" name="l06625"></a><span class="lineno"> 6625</span>    <span class="keywordflow">return</span> size_min;</div>
<div class="line"><a id="l06626" name="l06626"></a><span class="lineno"> 6626</span>}</div>
<div class="line"><a id="l06627" name="l06627"></a><span class="lineno"> 6627</span> </div>
<div class="line"><a id="l06628" name="l06628"></a><span class="lineno"> 6628</span><span class="keyword">static</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> CalcWindowSizeAfterConstraint(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; size_desired)</div>
<div class="line"><a id="l06629" name="l06629"></a><span class="lineno"> 6629</span>{</div>
<div class="line"><a id="l06630" name="l06630"></a><span class="lineno"> 6630</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l06631" name="l06631"></a><span class="lineno"> 6631</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> new_size = size_desired;</div>
<div class="line"><a id="l06632" name="l06632"></a><span class="lineno"> 6632</span>    <span class="keywordflow">if</span> (g.NextWindowData.HasFlags &amp; ImGuiNextWindowDataFlags_HasSizeConstraint)</div>
<div class="line"><a id="l06633" name="l06633"></a><span class="lineno"> 6633</span>    {</div>
<div class="line"><a id="l06634" name="l06634"></a><span class="lineno"> 6634</span>        <span class="comment">// See comments in SetNextWindowSizeConstraints() for details about setting size_min an size_max.</span></div>
<div class="line"><a id="l06635" name="l06635"></a><span class="lineno"> 6635</span>        <a class="code hl_struct" href="structImRect.html">ImRect</a> cr = g.NextWindowData.SizeConstraintRect;</div>
<div class="line"><a id="l06636" name="l06636"></a><span class="lineno"> 6636</span>        new_size.x = (cr.Min.x &gt;= 0 &amp;&amp; cr.Max.x &gt;= 0) ? ImClamp(new_size.x, cr.Min.x, cr.Max.x) : window-&gt;SizeFull.x;</div>
<div class="line"><a id="l06637" name="l06637"></a><span class="lineno"> 6637</span>        new_size.y = (cr.Min.y &gt;= 0 &amp;&amp; cr.Max.y &gt;= 0) ? ImClamp(new_size.y, cr.Min.y, cr.Max.y) : window-&gt;SizeFull.y;</div>
<div class="line"><a id="l06638" name="l06638"></a><span class="lineno"> 6638</span>        <span class="keywordflow">if</span> (g.NextWindowData.SizeCallback)</div>
<div class="line"><a id="l06639" name="l06639"></a><span class="lineno"> 6639</span>        {</div>
<div class="line"><a id="l06640" name="l06640"></a><span class="lineno"> 6640</span>            <a class="code hl_struct" href="structImGuiSizeCallbackData.html">ImGuiSizeCallbackData</a> data;</div>
<div class="line"><a id="l06641" name="l06641"></a><span class="lineno"> 6641</span>            data.UserData = g.NextWindowData.SizeCallbackUserData;</div>
<div class="line"><a id="l06642" name="l06642"></a><span class="lineno"> 6642</span>            data.Pos = window-&gt;Pos;</div>
<div class="line"><a id="l06643" name="l06643"></a><span class="lineno"> 6643</span>            data.CurrentSize = window-&gt;SizeFull;</div>
<div class="line"><a id="l06644" name="l06644"></a><span class="lineno"> 6644</span>            data.DesiredSize = new_size;</div>
<div class="line"><a id="l06645" name="l06645"></a><span class="lineno"> 6645</span>            g.NextWindowData.SizeCallback(&amp;data);</div>
<div class="line"><a id="l06646" name="l06646"></a><span class="lineno"> 6646</span>            new_size = data.DesiredSize;</div>
<div class="line"><a id="l06647" name="l06647"></a><span class="lineno"> 6647</span>        }</div>
<div class="line"><a id="l06648" name="l06648"></a><span class="lineno"> 6648</span>        new_size.x = IM_TRUNC(new_size.x);</div>
<div class="line"><a id="l06649" name="l06649"></a><span class="lineno"> 6649</span>        new_size.y = IM_TRUNC(new_size.y);</div>
<div class="line"><a id="l06650" name="l06650"></a><span class="lineno"> 6650</span>    }</div>
<div class="line"><a id="l06651" name="l06651"></a><span class="lineno"> 6651</span> </div>
<div class="line"><a id="l06652" name="l06652"></a><span class="lineno"> 6652</span>    <span class="comment">// Minimum size</span></div>
<div class="line"><a id="l06653" name="l06653"></a><span class="lineno"> 6653</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> size_min = CalcWindowMinSize(window);</div>
<div class="line"><a id="l06654" name="l06654"></a><span class="lineno"> 6654</span>    <span class="keywordflow">return</span> ImMax(new_size, size_min);</div>
<div class="line"><a id="l06655" name="l06655"></a><span class="lineno"> 6655</span>}</div>
<div class="line"><a id="l06656" name="l06656"></a><span class="lineno"> 6656</span> </div>
<div class="line"><a id="l06657" name="l06657"></a><span class="lineno"> 6657</span><span class="keyword">static</span> <span class="keywordtype">void</span> CalcWindowContentSizes(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>* content_size_current, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>* content_size_ideal)</div>
<div class="line"><a id="l06658" name="l06658"></a><span class="lineno"> 6658</span>{</div>
<div class="line"><a id="l06659" name="l06659"></a><span class="lineno"> 6659</span>    <span class="keywordtype">bool</span> preserve_old_content_sizes = <span class="keyword">false</span>;</div>
<div class="line"><a id="l06660" name="l06660"></a><span class="lineno"> 6660</span>    <span class="keywordflow">if</span> (window-&gt;Collapsed &amp;&amp; window-&gt;AutoFitFramesX &lt;= 0 &amp;&amp; window-&gt;AutoFitFramesY &lt;= 0)</div>
<div class="line"><a id="l06661" name="l06661"></a><span class="lineno"> 6661</span>        preserve_old_content_sizes = <span class="keyword">true</span>;</div>
<div class="line"><a id="l06662" name="l06662"></a><span class="lineno"> 6662</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (window-&gt;Hidden &amp;&amp; window-&gt;HiddenFramesCannotSkipItems == 0 &amp;&amp; window-&gt;HiddenFramesCanSkipItems &gt; 0)</div>
<div class="line"><a id="l06663" name="l06663"></a><span class="lineno"> 6663</span>        preserve_old_content_sizes = <span class="keyword">true</span>;</div>
<div class="line"><a id="l06664" name="l06664"></a><span class="lineno"> 6664</span>    <span class="keywordflow">if</span> (preserve_old_content_sizes)</div>
<div class="line"><a id="l06665" name="l06665"></a><span class="lineno"> 6665</span>    {</div>
<div class="line"><a id="l06666" name="l06666"></a><span class="lineno"> 6666</span>        *content_size_current = window-&gt;ContentSize;</div>
<div class="line"><a id="l06667" name="l06667"></a><span class="lineno"> 6667</span>        *content_size_ideal = window-&gt;ContentSizeIdeal;</div>
<div class="line"><a id="l06668" name="l06668"></a><span class="lineno"> 6668</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l06669" name="l06669"></a><span class="lineno"> 6669</span>    }</div>
<div class="line"><a id="l06670" name="l06670"></a><span class="lineno"> 6670</span> </div>
<div class="line"><a id="l06671" name="l06671"></a><span class="lineno"> 6671</span>    content_size_current-&gt;x = (window-&gt;ContentSizeExplicit.x != 0.0f) ? window-&gt;ContentSizeExplicit.x : IM_TRUNC(window-&gt;DC.CursorMaxPos.x - window-&gt;DC.CursorStartPos.x);</div>
<div class="line"><a id="l06672" name="l06672"></a><span class="lineno"> 6672</span>    content_size_current-&gt;y = (window-&gt;ContentSizeExplicit.y != 0.0f) ? window-&gt;ContentSizeExplicit.y : IM_TRUNC(window-&gt;DC.CursorMaxPos.y - window-&gt;DC.CursorStartPos.y);</div>
<div class="line"><a id="l06673" name="l06673"></a><span class="lineno"> 6673</span>    content_size_ideal-&gt;x = (window-&gt;ContentSizeExplicit.x != 0.0f) ? window-&gt;ContentSizeExplicit.x : IM_TRUNC(ImMax(window-&gt;DC.CursorMaxPos.x, window-&gt;DC.IdealMaxPos.x) - window-&gt;DC.CursorStartPos.x);</div>
<div class="line"><a id="l06674" name="l06674"></a><span class="lineno"> 6674</span>    content_size_ideal-&gt;y = (window-&gt;ContentSizeExplicit.y != 0.0f) ? window-&gt;ContentSizeExplicit.y : IM_TRUNC(ImMax(window-&gt;DC.CursorMaxPos.y, window-&gt;DC.IdealMaxPos.y) - window-&gt;DC.CursorStartPos.y);</div>
<div class="line"><a id="l06675" name="l06675"></a><span class="lineno"> 6675</span>}</div>
<div class="line"><a id="l06676" name="l06676"></a><span class="lineno"> 6676</span> </div>
<div class="line"><a id="l06677" name="l06677"></a><span class="lineno"> 6677</span><span class="keyword">static</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> CalcWindowAutoFitSize(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; size_contents)</div>
<div class="line"><a id="l06678" name="l06678"></a><span class="lineno"> 6678</span>{</div>
<div class="line"><a id="l06679" name="l06679"></a><span class="lineno"> 6679</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l06680" name="l06680"></a><span class="lineno"> 6680</span>    <a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>&amp; style = g.Style;</div>
<div class="line"><a id="l06681" name="l06681"></a><span class="lineno"> 6681</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> decoration_w_without_scrollbars = window-&gt;DecoOuterSizeX1 + window-&gt;DecoOuterSizeX2 - window-&gt;ScrollbarSizes.x;</div>
<div class="line"><a id="l06682" name="l06682"></a><span class="lineno"> 6682</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> decoration_h_without_scrollbars = window-&gt;DecoOuterSizeY1 + window-&gt;DecoOuterSizeY2 - window-&gt;ScrollbarSizes.y;</div>
<div class="line"><a id="l06683" name="l06683"></a><span class="lineno"> 6683</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> size_pad = window-&gt;WindowPadding * 2.0f;</div>
<div class="line"><a id="l06684" name="l06684"></a><span class="lineno"> 6684</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> size_desired = size_contents + size_pad + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(decoration_w_without_scrollbars, decoration_h_without_scrollbars);</div>
<div class="line"><a id="l06685" name="l06685"></a><span class="lineno"> 6685</span>    <span class="keywordflow">if</span> (window-&gt;Flags &amp; ImGuiWindowFlags_Tooltip)</div>
<div class="line"><a id="l06686" name="l06686"></a><span class="lineno"> 6686</span>    {</div>
<div class="line"><a id="l06687" name="l06687"></a><span class="lineno"> 6687</span>        <span class="comment">// Tooltip always resize</span></div>
<div class="line"><a id="l06688" name="l06688"></a><span class="lineno"> 6688</span>        <span class="keywordflow">return</span> size_desired;</div>
<div class="line"><a id="l06689" name="l06689"></a><span class="lineno"> 6689</span>    }</div>
<div class="line"><a id="l06690" name="l06690"></a><span class="lineno"> 6690</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l06691" name="l06691"></a><span class="lineno"> 6691</span>    {</div>
<div class="line"><a id="l06692" name="l06692"></a><span class="lineno"> 6692</span>        <span class="comment">// Maximum window size is determined by the viewport size or monitor size</span></div>
<div class="line"><a id="l06693" name="l06693"></a><span class="lineno"> 6693</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> size_min = CalcWindowMinSize(window);</div>
<div class="line"><a id="l06694" name="l06694"></a><span class="lineno"> 6694</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> size_max = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(FLT_MAX, FLT_MAX);</div>
<div class="line"><a id="l06695" name="l06695"></a><span class="lineno"> 6695</span> </div>
<div class="line"><a id="l06696" name="l06696"></a><span class="lineno"> 6696</span>        <span class="comment">// Child windows are layed within their parent (unless they are also popups/menus) and thus have no restriction</span></div>
<div class="line"><a id="l06697" name="l06697"></a><span class="lineno"> 6697</span>        <span class="keywordflow">if</span> ((window-&gt;Flags &amp; ImGuiWindowFlags_ChildWindow) == 0 || (window-&gt;Flags &amp; ImGuiWindowFlags_Popup) != 0)</div>
<div class="line"><a id="l06698" name="l06698"></a><span class="lineno"> 6698</span>        {</div>
<div class="line"><a id="l06699" name="l06699"></a><span class="lineno"> 6699</span>            <span class="keywordflow">if</span> (!window-&gt;ViewportOwned)</div>
<div class="line"><a id="l06700" name="l06700"></a><span class="lineno"> 6700</span>                size_max = ImGui::GetMainViewport()-&gt;WorkSize - style.DisplaySafeAreaPadding * 2.0f;</div>
<div class="line"><a id="l06701" name="l06701"></a><span class="lineno"> 6701</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> monitor_idx = window-&gt;ViewportAllowPlatformMonitorExtend;</div>
<div class="line"><a id="l06702" name="l06702"></a><span class="lineno"> 6702</span>            <span class="keywordflow">if</span> (monitor_idx &gt;= 0 &amp;&amp; monitor_idx &lt; g.PlatformIO.Monitors.Size)</div>
<div class="line"><a id="l06703" name="l06703"></a><span class="lineno"> 6703</span>                size_max = g.PlatformIO.Monitors[monitor_idx].WorkSize - style.DisplaySafeAreaPadding * 2.0f;</div>
<div class="line"><a id="l06704" name="l06704"></a><span class="lineno"> 6704</span>        }</div>
<div class="line"><a id="l06705" name="l06705"></a><span class="lineno"> 6705</span> </div>
<div class="line"><a id="l06706" name="l06706"></a><span class="lineno"> 6706</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> size_auto_fit = ImClamp(size_desired, size_min, ImMax(size_min, size_max));</div>
<div class="line"><a id="l06707" name="l06707"></a><span class="lineno"> 6707</span> </div>
<div class="line"><a id="l06708" name="l06708"></a><span class="lineno"> 6708</span>        <span class="comment">// FIXME: CalcWindowAutoFitSize() doesn&#39;t take into account that only one axis may be auto-fit when calculating scrollbars,</span></div>
<div class="line"><a id="l06709" name="l06709"></a><span class="lineno"> 6709</span>        <span class="comment">// we may need to compute/store three variants of size_auto_fit, for x/y/xy.</span></div>
<div class="line"><a id="l06710" name="l06710"></a><span class="lineno"> 6710</span>        <span class="comment">// Here we implement a workaround for child windows only, but a full solution would apply to normal windows as well:</span></div>
<div class="line"><a id="l06711" name="l06711"></a><span class="lineno"> 6711</span>        <span class="keywordflow">if</span> ((window-&gt;ChildFlags &amp; ImGuiChildFlags_ResizeX) &amp;&amp; !(window-&gt;ChildFlags &amp; ImGuiChildFlags_ResizeY))</div>
<div class="line"><a id="l06712" name="l06712"></a><span class="lineno"> 6712</span>            size_auto_fit.y = window-&gt;SizeFull.y;</div>
<div class="line"><a id="l06713" name="l06713"></a><span class="lineno"> 6713</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!(window-&gt;ChildFlags &amp; ImGuiChildFlags_ResizeX) &amp;&amp; (window-&gt;ChildFlags &amp; ImGuiChildFlags_ResizeY))</div>
<div class="line"><a id="l06714" name="l06714"></a><span class="lineno"> 6714</span>            size_auto_fit.x = window-&gt;SizeFull.x;</div>
<div class="line"><a id="l06715" name="l06715"></a><span class="lineno"> 6715</span> </div>
<div class="line"><a id="l06716" name="l06716"></a><span class="lineno"> 6716</span>        <span class="comment">// When the window cannot fit all contents (either because of constraints, either because screen is too small),</span></div>
<div class="line"><a id="l06717" name="l06717"></a><span class="lineno"> 6717</span>        <span class="comment">// we are growing the size on the other axis to compensate for expected scrollbar. FIXME: Might turn bigger than ViewportSize-WindowPadding.</span></div>
<div class="line"><a id="l06718" name="l06718"></a><span class="lineno"> 6718</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> size_auto_fit_after_constraint = CalcWindowSizeAfterConstraint(window, size_auto_fit);</div>
<div class="line"><a id="l06719" name="l06719"></a><span class="lineno"> 6719</span>        <span class="keywordtype">bool</span> will_have_scrollbar_x = (size_auto_fit_after_constraint.x - size_pad.x - decoration_w_without_scrollbars &lt; size_contents.x &amp;&amp; !(window-&gt;Flags &amp; ImGuiWindowFlags_NoScrollbar) &amp;&amp; (window-&gt;Flags &amp; ImGuiWindowFlags_HorizontalScrollbar)) || (window-&gt;Flags &amp; ImGuiWindowFlags_AlwaysHorizontalScrollbar);</div>
<div class="line"><a id="l06720" name="l06720"></a><span class="lineno"> 6720</span>        <span class="keywordtype">bool</span> will_have_scrollbar_y = (size_auto_fit_after_constraint.y - size_pad.y - decoration_h_without_scrollbars &lt; size_contents.y &amp;&amp; !(window-&gt;Flags &amp; ImGuiWindowFlags_NoScrollbar)) || (window-&gt;Flags &amp; ImGuiWindowFlags_AlwaysVerticalScrollbar);</div>
<div class="line"><a id="l06721" name="l06721"></a><span class="lineno"> 6721</span>        <span class="keywordflow">if</span> (will_have_scrollbar_x)</div>
<div class="line"><a id="l06722" name="l06722"></a><span class="lineno"> 6722</span>            size_auto_fit.y += style.ScrollbarSize;</div>
<div class="line"><a id="l06723" name="l06723"></a><span class="lineno"> 6723</span>        <span class="keywordflow">if</span> (will_have_scrollbar_y)</div>
<div class="line"><a id="l06724" name="l06724"></a><span class="lineno"> 6724</span>            size_auto_fit.x += style.ScrollbarSize;</div>
<div class="line"><a id="l06725" name="l06725"></a><span class="lineno"> 6725</span>        <span class="keywordflow">return</span> size_auto_fit;</div>
<div class="line"><a id="l06726" name="l06726"></a><span class="lineno"> 6726</span>    }</div>
<div class="line"><a id="l06727" name="l06727"></a><span class="lineno"> 6727</span>}</div>
<div class="line"><a id="l06728" name="l06728"></a><span class="lineno"> 6728</span> </div>
<div class="line"><a id="l06729" name="l06729"></a><span class="lineno"> 6729</span><a class="code hl_struct" href="structImVec2.html">ImVec2</a> ImGui::CalcWindowNextAutoFitSize(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l06730" name="l06730"></a><span class="lineno"> 6730</span>{</div>
<div class="line"><a id="l06731" name="l06731"></a><span class="lineno"> 6731</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> size_contents_current;</div>
<div class="line"><a id="l06732" name="l06732"></a><span class="lineno"> 6732</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> size_contents_ideal;</div>
<div class="line"><a id="l06733" name="l06733"></a><span class="lineno"> 6733</span>    CalcWindowContentSizes(window, &amp;size_contents_current, &amp;size_contents_ideal);</div>
<div class="line"><a id="l06734" name="l06734"></a><span class="lineno"> 6734</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> size_auto_fit = CalcWindowAutoFitSize(window, size_contents_ideal);</div>
<div class="line"><a id="l06735" name="l06735"></a><span class="lineno"> 6735</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> size_final = CalcWindowSizeAfterConstraint(window, size_auto_fit);</div>
<div class="line"><a id="l06736" name="l06736"></a><span class="lineno"> 6736</span>    <span class="keywordflow">return</span> size_final;</div>
<div class="line"><a id="l06737" name="l06737"></a><span class="lineno"> 6737</span>}</div>
<div class="line"><a id="l06738" name="l06738"></a><span class="lineno"> 6738</span> </div>
<div class="line"><a id="l06739" name="l06739"></a><span class="lineno"> 6739</span><span class="keyword">static</span> ImGuiCol GetWindowBgColorIdx(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l06740" name="l06740"></a><span class="lineno"> 6740</span>{</div>
<div class="line"><a id="l06741" name="l06741"></a><span class="lineno"> 6741</span>    <span class="keywordflow">if</span> (window-&gt;Flags &amp; (ImGuiWindowFlags_Tooltip | ImGuiWindowFlags_Popup))</div>
<div class="line"><a id="l06742" name="l06742"></a><span class="lineno"> 6742</span>        <span class="keywordflow">return</span> ImGuiCol_PopupBg;</div>
<div class="line"><a id="l06743" name="l06743"></a><span class="lineno"> 6743</span>    <span class="keywordflow">if</span> ((window-&gt;Flags &amp; ImGuiWindowFlags_ChildWindow) &amp;&amp; !window-&gt;DockIsActive)</div>
<div class="line"><a id="l06744" name="l06744"></a><span class="lineno"> 6744</span>        <span class="keywordflow">return</span> ImGuiCol_ChildBg;</div>
<div class="line"><a id="l06745" name="l06745"></a><span class="lineno"> 6745</span>    <span class="keywordflow">return</span> ImGuiCol_WindowBg;</div>
<div class="line"><a id="l06746" name="l06746"></a><span class="lineno"> 6746</span>}</div>
<div class="line"><a id="l06747" name="l06747"></a><span class="lineno"> 6747</span> </div>
<div class="line"><a id="l06748" name="l06748"></a><span class="lineno"> 6748</span><span class="keyword">static</span> <span class="keywordtype">void</span> CalcResizePosSizeFromAnyCorner(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; corner_target, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; corner_norm, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>* out_pos, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>* out_size)</div>
<div class="line"><a id="l06749" name="l06749"></a><span class="lineno"> 6749</span>{</div>
<div class="line"><a id="l06750" name="l06750"></a><span class="lineno"> 6750</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> pos_min = ImLerp(corner_target, window-&gt;Pos, corner_norm);                <span class="comment">// Expected window upper-left</span></div>
<div class="line"><a id="l06751" name="l06751"></a><span class="lineno"> 6751</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> pos_max = ImLerp(window-&gt;Pos + window-&gt;Size, corner_target, corner_norm); <span class="comment">// Expected window lower-right</span></div>
<div class="line"><a id="l06752" name="l06752"></a><span class="lineno"> 6752</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> size_expected = pos_max - pos_min;</div>
<div class="line"><a id="l06753" name="l06753"></a><span class="lineno"> 6753</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> size_constrained = CalcWindowSizeAfterConstraint(window, size_expected);</div>
<div class="line"><a id="l06754" name="l06754"></a><span class="lineno"> 6754</span>    *out_pos = pos_min;</div>
<div class="line"><a id="l06755" name="l06755"></a><span class="lineno"> 6755</span>    <span class="keywordflow">if</span> (corner_norm.x == 0.0f)</div>
<div class="line"><a id="l06756" name="l06756"></a><span class="lineno"> 6756</span>        out_pos-&gt;x -= (size_constrained.x - size_expected.x);</div>
<div class="line"><a id="l06757" name="l06757"></a><span class="lineno"> 6757</span>    <span class="keywordflow">if</span> (corner_norm.y == 0.0f)</div>
<div class="line"><a id="l06758" name="l06758"></a><span class="lineno"> 6758</span>        out_pos-&gt;y -= (size_constrained.y - size_expected.y);</div>
<div class="line"><a id="l06759" name="l06759"></a><span class="lineno"> 6759</span>    *out_size = size_constrained;</div>
<div class="line"><a id="l06760" name="l06760"></a><span class="lineno"> 6760</span>}</div>
<div class="line"><a id="l06761" name="l06761"></a><span class="lineno"> 6761</span> </div>
<div class="line"><a id="l06762" name="l06762"></a><span class="lineno"> 6762</span><span class="comment">// Data for resizing from resize grip / corner</span></div>
<div class="foldopen" id="foldopen06763" data-start="{" data-end="};">
<div class="line"><a id="l06763" name="l06763"></a><span class="lineno"><a class="line" href="structImGuiResizeGripDef.html"> 6763</a></span><span class="keyword">struct </span><a class="code hl_struct" href="structImGuiResizeGripDef.html">ImGuiResizeGripDef</a></div>
<div class="line"><a id="l06764" name="l06764"></a><span class="lineno"> 6764</span>{</div>
<div class="line"><a id="l06765" name="l06765"></a><span class="lineno"> 6765</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a>  CornerPosN;</div>
<div class="line"><a id="l06766" name="l06766"></a><span class="lineno"> 6766</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a>  InnerDir;</div>
<div class="line"><a id="l06767" name="l06767"></a><span class="lineno"> 6767</span>    <span class="keywordtype">int</span>     AngleMin12, AngleMax12;</div>
<div class="line"><a id="l06768" name="l06768"></a><span class="lineno"> 6768</span>};</div>
</div>
<div class="line"><a id="l06769" name="l06769"></a><span class="lineno"> 6769</span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiResizeGripDef.html">ImGuiResizeGripDef</a> resize_grip_def[4] =</div>
<div class="line"><a id="l06770" name="l06770"></a><span class="lineno"> 6770</span>{</div>
<div class="line"><a id="l06771" name="l06771"></a><span class="lineno"> 6771</span>    { <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(1, 1), <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(-1, -1), 0, 3 },  <span class="comment">// Lower-right</span></div>
<div class="line"><a id="l06772" name="l06772"></a><span class="lineno"> 6772</span>    { <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0, 1), <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(+1, -1), 3, 6 },  <span class="comment">// Lower-left</span></div>
<div class="line"><a id="l06773" name="l06773"></a><span class="lineno"> 6773</span>    { <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0, 0), <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(+1, +1), 6, 9 },  <span class="comment">// Upper-left (Unused)</span></div>
<div class="line"><a id="l06774" name="l06774"></a><span class="lineno"> 6774</span>    { <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(1, 0), <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(-1, +1), 9, 12 }  <span class="comment">// Upper-right (Unused)</span></div>
<div class="line"><a id="l06775" name="l06775"></a><span class="lineno"> 6775</span>};</div>
<div class="line"><a id="l06776" name="l06776"></a><span class="lineno"> 6776</span> </div>
<div class="line"><a id="l06777" name="l06777"></a><span class="lineno"> 6777</span><span class="comment">// Data for resizing from borders</span></div>
<div class="foldopen" id="foldopen06778" data-start="{" data-end="};">
<div class="line"><a id="l06778" name="l06778"></a><span class="lineno"><a class="line" href="structImGuiResizeBorderDef.html"> 6778</a></span><span class="keyword">struct </span><a class="code hl_struct" href="structImGuiResizeBorderDef.html">ImGuiResizeBorderDef</a></div>
<div class="line"><a id="l06779" name="l06779"></a><span class="lineno"> 6779</span>{</div>
<div class="line"><a id="l06780" name="l06780"></a><span class="lineno"> 6780</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a>  InnerDir;               <span class="comment">// Normal toward inside</span></div>
<div class="line"><a id="l06781" name="l06781"></a><span class="lineno"> 6781</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a>  SegmentN1, SegmentN2;   <span class="comment">// End positions, normalized (0,0: upper left)</span></div>
<div class="line"><a id="l06782" name="l06782"></a><span class="lineno"> 6782</span>    <span class="keywordtype">float</span>   OuterAngle;             <span class="comment">// Angle toward outside</span></div>
<div class="line"><a id="l06783" name="l06783"></a><span class="lineno"> 6783</span>};</div>
</div>
<div class="line"><a id="l06784" name="l06784"></a><span class="lineno"> 6784</span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiResizeBorderDef.html">ImGuiResizeBorderDef</a> resize_border_def[4] =</div>
<div class="line"><a id="l06785" name="l06785"></a><span class="lineno"> 6785</span>{</div>
<div class="line"><a id="l06786" name="l06786"></a><span class="lineno"> 6786</span>    { <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(+1, 0), <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0, 1), <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0, 0), IM_PI * 1.00f }, <span class="comment">// Left</span></div>
<div class="line"><a id="l06787" name="l06787"></a><span class="lineno"> 6787</span>    { <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(-1, 0), <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(1, 0), <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(1, 1), IM_PI * 0.00f }, <span class="comment">// Right</span></div>
<div class="line"><a id="l06788" name="l06788"></a><span class="lineno"> 6788</span>    { <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0, +1), <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0, 0), <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(1, 0), IM_PI * 1.50f }, <span class="comment">// Up</span></div>
<div class="line"><a id="l06789" name="l06789"></a><span class="lineno"> 6789</span>    { <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0, -1), <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(1, 1), <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0, 1), IM_PI * 0.50f }  <span class="comment">// Down</span></div>
<div class="line"><a id="l06790" name="l06790"></a><span class="lineno"> 6790</span>};</div>
<div class="line"><a id="l06791" name="l06791"></a><span class="lineno"> 6791</span> </div>
<div class="line"><a id="l06792" name="l06792"></a><span class="lineno"> 6792</span><span class="keyword">static</span> <a class="code hl_struct" href="structImRect.html">ImRect</a> GetResizeBorderRect(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keywordtype">int</span> border_n, <span class="keywordtype">float</span> perp_padding, <span class="keywordtype">float</span> thickness)</div>
<div class="line"><a id="l06793" name="l06793"></a><span class="lineno"> 6793</span>{</div>
<div class="line"><a id="l06794" name="l06794"></a><span class="lineno"> 6794</span>    <a class="code hl_struct" href="structImRect.html">ImRect</a> rect = window-&gt;Rect();</div>
<div class="line"><a id="l06795" name="l06795"></a><span class="lineno"> 6795</span>    <span class="keywordflow">if</span> (thickness == 0.0f)</div>
<div class="line"><a id="l06796" name="l06796"></a><span class="lineno"> 6796</span>        rect.Max -= <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(1, 1);</div>
<div class="line"><a id="l06797" name="l06797"></a><span class="lineno"> 6797</span>    <span class="keywordflow">if</span> (border_n == ImGuiDir_Left)  { <span class="keywordflow">return</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>(rect.Min.x - thickness,    rect.Min.y + perp_padding, rect.Min.x + thickness,    rect.Max.y - perp_padding); }</div>
<div class="line"><a id="l06798" name="l06798"></a><span class="lineno"> 6798</span>    <span class="keywordflow">if</span> (border_n == ImGuiDir_Right) { <span class="keywordflow">return</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>(rect.Max.x - thickness,    rect.Min.y + perp_padding, rect.Max.x + thickness,    rect.Max.y - perp_padding); }</div>
<div class="line"><a id="l06799" name="l06799"></a><span class="lineno"> 6799</span>    <span class="keywordflow">if</span> (border_n == ImGuiDir_Up)    { <span class="keywordflow">return</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>(rect.Min.x + perp_padding, rect.Min.y - thickness,    rect.Max.x - perp_padding, rect.Min.y + thickness);    }</div>
<div class="line"><a id="l06800" name="l06800"></a><span class="lineno"> 6800</span>    <span class="keywordflow">if</span> (border_n == ImGuiDir_Down)  { <span class="keywordflow">return</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>(rect.Min.x + perp_padding, rect.Max.y - thickness,    rect.Max.x - perp_padding, rect.Max.y + thickness);    }</div>
<div class="line"><a id="l06801" name="l06801"></a><span class="lineno"> 6801</span>    IM_ASSERT(0);</div>
<div class="line"><a id="l06802" name="l06802"></a><span class="lineno"> 6802</span>    <span class="keywordflow">return</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>();</div>
<div class="line"><a id="l06803" name="l06803"></a><span class="lineno"> 6803</span>}</div>
<div class="line"><a id="l06804" name="l06804"></a><span class="lineno"> 6804</span> </div>
<div class="line"><a id="l06805" name="l06805"></a><span class="lineno"> 6805</span><span class="comment">// 0..3: corners (Lower-right, Lower-left, Unused, Unused)</span></div>
<div class="line"><a id="l06806" name="l06806"></a><span class="lineno"> 6806</span>ImGuiID ImGui::GetWindowResizeCornerID(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keywordtype">int</span> n)</div>
<div class="line"><a id="l06807" name="l06807"></a><span class="lineno"> 6807</span>{</div>
<div class="line"><a id="l06808" name="l06808"></a><span class="lineno"> 6808</span>    IM_ASSERT(n &gt;= 0 &amp;&amp; n &lt; 4);</div>
<div class="line"><a id="l06809" name="l06809"></a><span class="lineno"> 6809</span>    ImGuiID <span class="keywordtype">id</span> = window-&gt;DockIsActive ? window-&gt;DockNode-&gt;HostWindow-&gt;ID : window-&gt;ID;</div>
<div class="line"><a id="l06810" name="l06810"></a><span class="lineno"> 6810</span>    <span class="keywordtype">id</span> = ImHashStr(<span class="stringliteral">&quot;#RESIZE&quot;</span>, 0, <span class="keywordtype">id</span>);</div>
<div class="line"><a id="l06811" name="l06811"></a><span class="lineno"> 6811</span>    <span class="keywordtype">id</span> = ImHashData(&amp;n, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="keywordtype">id</span>);</div>
<div class="line"><a id="l06812" name="l06812"></a><span class="lineno"> 6812</span>    <span class="keywordflow">return</span> id;</div>
<div class="line"><a id="l06813" name="l06813"></a><span class="lineno"> 6813</span>}</div>
<div class="line"><a id="l06814" name="l06814"></a><span class="lineno"> 6814</span> </div>
<div class="line"><a id="l06815" name="l06815"></a><span class="lineno"> 6815</span><span class="comment">// Borders (Left, Right, Up, Down)</span></div>
<div class="line"><a id="l06816" name="l06816"></a><span class="lineno"> 6816</span>ImGuiID ImGui::GetWindowResizeBorderID(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, ImGuiDir dir)</div>
<div class="line"><a id="l06817" name="l06817"></a><span class="lineno"> 6817</span>{</div>
<div class="line"><a id="l06818" name="l06818"></a><span class="lineno"> 6818</span>    IM_ASSERT(dir &gt;= 0 &amp;&amp; dir &lt; 4);</div>
<div class="line"><a id="l06819" name="l06819"></a><span class="lineno"> 6819</span>    <span class="keywordtype">int</span> n = (int)dir + 4;</div>
<div class="line"><a id="l06820" name="l06820"></a><span class="lineno"> 6820</span>    ImGuiID <span class="keywordtype">id</span> = window-&gt;DockIsActive ? window-&gt;DockNode-&gt;HostWindow-&gt;ID : window-&gt;ID;</div>
<div class="line"><a id="l06821" name="l06821"></a><span class="lineno"> 6821</span>    <span class="keywordtype">id</span> = ImHashStr(<span class="stringliteral">&quot;#RESIZE&quot;</span>, 0, <span class="keywordtype">id</span>);</div>
<div class="line"><a id="l06822" name="l06822"></a><span class="lineno"> 6822</span>    <span class="keywordtype">id</span> = ImHashData(&amp;n, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="keywordtype">id</span>);</div>
<div class="line"><a id="l06823" name="l06823"></a><span class="lineno"> 6823</span>    <span class="keywordflow">return</span> id;</div>
<div class="line"><a id="l06824" name="l06824"></a><span class="lineno"> 6824</span>}</div>
<div class="line"><a id="l06825" name="l06825"></a><span class="lineno"> 6825</span> </div>
<div class="line"><a id="l06826" name="l06826"></a><span class="lineno"> 6826</span><span class="comment">// Handle resize for: Resize Grips, Borders, Gamepad</span></div>
<div class="line"><a id="l06827" name="l06827"></a><span class="lineno"> 6827</span><span class="comment">// Return true when using auto-fit (double-click on resize grip)</span></div>
<div class="line"><a id="l06828" name="l06828"></a><span class="lineno"> 6828</span><span class="keyword">static</span> <span class="keywordtype">int</span> ImGui::UpdateWindowManualResize(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; size_auto_fit, <span class="keywordtype">int</span>* border_hovered, <span class="keywordtype">int</span>* border_held, <span class="keywordtype">int</span> resize_grip_count, ImU32 resize_grip_col[4], <span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; visibility_rect)</div>
<div class="line"><a id="l06829" name="l06829"></a><span class="lineno"> 6829</span>{</div>
<div class="line"><a id="l06830" name="l06830"></a><span class="lineno"> 6830</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l06831" name="l06831"></a><span class="lineno"> 6831</span>    ImGuiWindowFlags flags = window-&gt;Flags;</div>
<div class="line"><a id="l06832" name="l06832"></a><span class="lineno"> 6832</span> </div>
<div class="line"><a id="l06833" name="l06833"></a><span class="lineno"> 6833</span>    <span class="keywordflow">if</span> ((flags &amp; ImGuiWindowFlags_NoResize) || (flags &amp; ImGuiWindowFlags_AlwaysAutoResize) || window-&gt;AutoFitFramesX &gt; 0 || window-&gt;AutoFitFramesY &gt; 0)</div>
<div class="line"><a id="l06834" name="l06834"></a><span class="lineno"> 6834</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06835" name="l06835"></a><span class="lineno"> 6835</span>    <span class="keywordflow">if</span> (window-&gt;WasActive == <span class="keyword">false</span>) <span class="comment">// Early out to avoid running this code for e.g. a hidden implicit/fallback Debug window.</span></div>
<div class="line"><a id="l06836" name="l06836"></a><span class="lineno"> 6836</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06837" name="l06837"></a><span class="lineno"> 6837</span> </div>
<div class="line"><a id="l06838" name="l06838"></a><span class="lineno"> 6838</span>    <span class="keywordtype">int</span> ret_auto_fit_mask = 0x00;</div>
<div class="line"><a id="l06839" name="l06839"></a><span class="lineno"> 6839</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> grip_draw_size = IM_TRUNC(ImMax(g.FontSize * 1.35f, window-&gt;WindowRounding + 1.0f + g.FontSize * 0.2f));</div>
<div class="line"><a id="l06840" name="l06840"></a><span class="lineno"> 6840</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> grip_hover_inner_size = (resize_grip_count &gt; 0) ? IM_TRUNC(grip_draw_size * 0.75f) : 0.0f;</div>
<div class="line"><a id="l06841" name="l06841"></a><span class="lineno"> 6841</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> grip_hover_outer_size = g.WindowsBorderHoverPadding;</div>
<div class="line"><a id="l06842" name="l06842"></a><span class="lineno"> 6842</span> </div>
<div class="line"><a id="l06843" name="l06843"></a><span class="lineno"> 6843</span>    <a class="code hl_struct" href="structImRect.html">ImRect</a> clamp_rect = visibility_rect;</div>
<div class="line"><a id="l06844" name="l06844"></a><span class="lineno"> 6844</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> window_move_from_title_bar = g.IO.ConfigWindowsMoveFromTitleBarOnly &amp;&amp; !(window-&gt;Flags &amp; ImGuiWindowFlags_NoTitleBar);</div>
<div class="line"><a id="l06845" name="l06845"></a><span class="lineno"> 6845</span>    <span class="keywordflow">if</span> (window_move_from_title_bar)</div>
<div class="line"><a id="l06846" name="l06846"></a><span class="lineno"> 6846</span>        clamp_rect.Min.y -= window-&gt;TitleBarHeight;</div>
<div class="line"><a id="l06847" name="l06847"></a><span class="lineno"> 6847</span> </div>
<div class="line"><a id="l06848" name="l06848"></a><span class="lineno"> 6848</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> pos_target(FLT_MAX, FLT_MAX);</div>
<div class="line"><a id="l06849" name="l06849"></a><span class="lineno"> 6849</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> size_target(FLT_MAX, FLT_MAX);</div>
<div class="line"><a id="l06850" name="l06850"></a><span class="lineno"> 6850</span> </div>
<div class="line"><a id="l06851" name="l06851"></a><span class="lineno"> 6851</span>    <span class="comment">// Clip mouse interaction rectangles within the viewport rectangle (in practice the narrowing is going to happen most of the time).</span></div>
<div class="line"><a id="l06852" name="l06852"></a><span class="lineno"> 6852</span>    <span class="comment">// - Not narrowing would mostly benefit the situation where OS windows _without_ decoration have a threshold for hovering when outside their limits.</span></div>
<div class="line"><a id="l06853" name="l06853"></a><span class="lineno"> 6853</span>    <span class="comment">//   This is however not the case with current backends under Win32, but a custom borderless window implementation would benefit from it.</span></div>
<div class="line"><a id="l06854" name="l06854"></a><span class="lineno"> 6854</span>    <span class="comment">// - When decoration are enabled we typically benefit from that distance, but then our resize elements would be conflicting with OS resize elements, so we also narrow.</span></div>
<div class="line"><a id="l06855" name="l06855"></a><span class="lineno"> 6855</span>    <span class="comment">// - Note that we are unable to tell if the platform setup allows hovering with a distance threshold (on Win32, decorated window have such threshold).</span></div>
<div class="line"><a id="l06856" name="l06856"></a><span class="lineno"> 6856</span>    <span class="comment">// We only clip interaction so we overwrite window-&gt;ClipRect, cannot call PushClipRect() yet as DrawList is not yet setup.</span></div>
<div class="line"><a id="l06857" name="l06857"></a><span class="lineno"> 6857</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> clip_with_viewport_rect = !(g.IO.BackendFlags &amp; ImGuiBackendFlags_HasMouseHoveredViewport) || (g.IO.MouseHoveredViewport != window-&gt;ViewportId) || !(window-&gt;Viewport-&gt;Flags &amp; ImGuiViewportFlags_NoDecoration);</div>
<div class="line"><a id="l06858" name="l06858"></a><span class="lineno"> 6858</span>    <span class="keywordflow">if</span> (clip_with_viewport_rect)</div>
<div class="line"><a id="l06859" name="l06859"></a><span class="lineno"> 6859</span>        window-&gt;ClipRect = window-&gt;Viewport-&gt;GetMainRect();</div>
<div class="line"><a id="l06860" name="l06860"></a><span class="lineno"> 6860</span> </div>
<div class="line"><a id="l06861" name="l06861"></a><span class="lineno"> 6861</span>    <span class="comment">// Resize grips and borders are on layer 1</span></div>
<div class="line"><a id="l06862" name="l06862"></a><span class="lineno"> 6862</span>    window-&gt;DC.NavLayerCurrent = ImGuiNavLayer_Menu;</div>
<div class="line"><a id="l06863" name="l06863"></a><span class="lineno"> 6863</span> </div>
<div class="line"><a id="l06864" name="l06864"></a><span class="lineno"> 6864</span>    <span class="comment">// Manual resize grips</span></div>
<div class="line"><a id="l06865" name="l06865"></a><span class="lineno"> 6865</span>    PushID(<span class="stringliteral">&quot;#RESIZE&quot;</span>);</div>
<div class="line"><a id="l06866" name="l06866"></a><span class="lineno"> 6866</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> resize_grip_n = 0; resize_grip_n &lt; resize_grip_count; resize_grip_n++)</div>
<div class="line"><a id="l06867" name="l06867"></a><span class="lineno"> 6867</span>    {</div>
<div class="line"><a id="l06868" name="l06868"></a><span class="lineno"> 6868</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiResizeGripDef.html">ImGuiResizeGripDef</a>&amp; def = resize_grip_def[resize_grip_n];</div>
<div class="line"><a id="l06869" name="l06869"></a><span class="lineno"> 6869</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> corner = ImLerp(window-&gt;Pos, window-&gt;Pos + window-&gt;Size, def.CornerPosN);</div>
<div class="line"><a id="l06870" name="l06870"></a><span class="lineno"> 6870</span> </div>
<div class="line"><a id="l06871" name="l06871"></a><span class="lineno"> 6871</span>        <span class="comment">// Using the FlattenChilds button flag we make the resize button accessible even if we are hovering over a child window</span></div>
<div class="line"><a id="l06872" name="l06872"></a><span class="lineno"> 6872</span>        <span class="keywordtype">bool</span> hovered, held;</div>
<div class="line"><a id="l06873" name="l06873"></a><span class="lineno"> 6873</span>        <a class="code hl_struct" href="structImRect.html">ImRect</a> resize_rect(corner - def.InnerDir * grip_hover_outer_size, corner + def.InnerDir * grip_hover_inner_size);</div>
<div class="line"><a id="l06874" name="l06874"></a><span class="lineno"> 6874</span>        <span class="keywordflow">if</span> (resize_rect.Min.x &gt; resize_rect.Max.x) ImSwap(resize_rect.Min.x, resize_rect.Max.x);</div>
<div class="line"><a id="l06875" name="l06875"></a><span class="lineno"> 6875</span>        <span class="keywordflow">if</span> (resize_rect.Min.y &gt; resize_rect.Max.y) ImSwap(resize_rect.Min.y, resize_rect.Max.y);</div>
<div class="line"><a id="l06876" name="l06876"></a><span class="lineno"> 6876</span>        ImGuiID resize_grip_id = window-&gt;GetID(resize_grip_n); <span class="comment">// == GetWindowResizeCornerID()</span></div>
<div class="line"><a id="l06877" name="l06877"></a><span class="lineno"> 6877</span>        ItemAdd(resize_rect, resize_grip_id, NULL, ImGuiItemFlags_NoNav);</div>
<div class="line"><a id="l06878" name="l06878"></a><span class="lineno"> 6878</span>        ButtonBehavior(resize_rect, resize_grip_id, &amp;hovered, &amp;held, ImGuiButtonFlags_FlattenChildren | ImGuiButtonFlags_NoNavFocus);</div>
<div class="line"><a id="l06879" name="l06879"></a><span class="lineno"> 6879</span>        <span class="comment">//GetForegroundDrawList(window)-&gt;AddRect(resize_rect.Min, resize_rect.Max, IM_COL32(255, 255, 0, 255));</span></div>
<div class="line"><a id="l06880" name="l06880"></a><span class="lineno"> 6880</span>        <span class="keywordflow">if</span> (hovered || held)</div>
<div class="line"><a id="l06881" name="l06881"></a><span class="lineno"> 6881</span>            SetMouseCursor((resize_grip_n &amp; 1) ? ImGuiMouseCursor_ResizeNESW : ImGuiMouseCursor_ResizeNWSE);</div>
<div class="line"><a id="l06882" name="l06882"></a><span class="lineno"> 6882</span> </div>
<div class="line"><a id="l06883" name="l06883"></a><span class="lineno"> 6883</span>        <span class="keywordflow">if</span> (held &amp;&amp; g.IO.MouseDoubleClicked[0])</div>
<div class="line"><a id="l06884" name="l06884"></a><span class="lineno"> 6884</span>        {</div>
<div class="line"><a id="l06885" name="l06885"></a><span class="lineno"> 6885</span>            <span class="comment">// Auto-fit when double-clicking</span></div>
<div class="line"><a id="l06886" name="l06886"></a><span class="lineno"> 6886</span>            size_target = CalcWindowSizeAfterConstraint(window, size_auto_fit);</div>
<div class="line"><a id="l06887" name="l06887"></a><span class="lineno"> 6887</span>            ret_auto_fit_mask = 0x03; <span class="comment">// Both axes</span></div>
<div class="line"><a id="l06888" name="l06888"></a><span class="lineno"> 6888</span>            ClearActiveID();</div>
<div class="line"><a id="l06889" name="l06889"></a><span class="lineno"> 6889</span>        }</div>
<div class="line"><a id="l06890" name="l06890"></a><span class="lineno"> 6890</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (held)</div>
<div class="line"><a id="l06891" name="l06891"></a><span class="lineno"> 6891</span>        {</div>
<div class="line"><a id="l06892" name="l06892"></a><span class="lineno"> 6892</span>            <span class="comment">// Resize from any of the four corners</span></div>
<div class="line"><a id="l06893" name="l06893"></a><span class="lineno"> 6893</span>            <span class="comment">// We don&#39;t use an incremental MouseDelta but rather compute an absolute target size based on mouse position</span></div>
<div class="line"><a id="l06894" name="l06894"></a><span class="lineno"> 6894</span>            <a class="code hl_struct" href="structImVec2.html">ImVec2</a> clamp_min = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(def.CornerPosN.x == 1.0f ? clamp_rect.Min.x : -FLT_MAX, (def.CornerPosN.y == 1.0f || (def.CornerPosN.y == 0.0f &amp;&amp; window_move_from_title_bar)) ? clamp_rect.Min.y : -FLT_MAX);</div>
<div class="line"><a id="l06895" name="l06895"></a><span class="lineno"> 6895</span>            <a class="code hl_struct" href="structImVec2.html">ImVec2</a> clamp_max = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(def.CornerPosN.x == 0.0f ? clamp_rect.Max.x : +FLT_MAX, def.CornerPosN.y == 0.0f ? clamp_rect.Max.y : +FLT_MAX);</div>
<div class="line"><a id="l06896" name="l06896"></a><span class="lineno"> 6896</span>            <a class="code hl_struct" href="structImVec2.html">ImVec2</a> corner_target = g.IO.MousePos - g.ActiveIdClickOffset + ImLerp(def.InnerDir * grip_hover_outer_size, def.InnerDir * -grip_hover_inner_size, def.CornerPosN); <span class="comment">// Corner of the window corresponding to our corner grip</span></div>
<div class="line"><a id="l06897" name="l06897"></a><span class="lineno"> 6897</span>            corner_target = ImClamp(corner_target, clamp_min, clamp_max);</div>
<div class="line"><a id="l06898" name="l06898"></a><span class="lineno"> 6898</span>            CalcResizePosSizeFromAnyCorner(window, corner_target, def.CornerPosN, &amp;pos_target, &amp;size_target);</div>
<div class="line"><a id="l06899" name="l06899"></a><span class="lineno"> 6899</span>        }</div>
<div class="line"><a id="l06900" name="l06900"></a><span class="lineno"> 6900</span> </div>
<div class="line"><a id="l06901" name="l06901"></a><span class="lineno"> 6901</span>        <span class="comment">// Only lower-left grip is visible before hovering/activating</span></div>
<div class="line"><a id="l06902" name="l06902"></a><span class="lineno"> 6902</span>        <span class="keywordflow">if</span> (resize_grip_n == 0 || held || hovered)</div>
<div class="line"><a id="l06903" name="l06903"></a><span class="lineno"> 6903</span>            resize_grip_col[resize_grip_n] = GetColorU32(held ? ImGuiCol_ResizeGripActive : hovered ? ImGuiCol_ResizeGripHovered : ImGuiCol_ResizeGrip);</div>
<div class="line"><a id="l06904" name="l06904"></a><span class="lineno"> 6904</span>    }</div>
<div class="line"><a id="l06905" name="l06905"></a><span class="lineno"> 6905</span> </div>
<div class="line"><a id="l06906" name="l06906"></a><span class="lineno"> 6906</span>    <span class="keywordtype">int</span> resize_border_mask = 0x00;</div>
<div class="line"><a id="l06907" name="l06907"></a><span class="lineno"> 6907</span>    <span class="keywordflow">if</span> (window-&gt;Flags &amp; ImGuiWindowFlags_ChildWindow)</div>
<div class="line"><a id="l06908" name="l06908"></a><span class="lineno"> 6908</span>        resize_border_mask |= ((window-&gt;ChildFlags &amp; ImGuiChildFlags_ResizeX) ? 0x02 : 0) | ((window-&gt;ChildFlags &amp; ImGuiChildFlags_ResizeY) ? 0x08 : 0);</div>
<div class="line"><a id="l06909" name="l06909"></a><span class="lineno"> 6909</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l06910" name="l06910"></a><span class="lineno"> 6910</span>        resize_border_mask = g.IO.ConfigWindowsResizeFromEdges ? 0x0F : 0x00;</div>
<div class="line"><a id="l06911" name="l06911"></a><span class="lineno"> 6911</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> border_n = 0; border_n &lt; 4; border_n++)</div>
<div class="line"><a id="l06912" name="l06912"></a><span class="lineno"> 6912</span>    {</div>
<div class="line"><a id="l06913" name="l06913"></a><span class="lineno"> 6913</span>        <span class="keywordflow">if</span> ((resize_border_mask &amp; (1 &lt;&lt; border_n)) == 0)</div>
<div class="line"><a id="l06914" name="l06914"></a><span class="lineno"> 6914</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l06915" name="l06915"></a><span class="lineno"> 6915</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiResizeBorderDef.html">ImGuiResizeBorderDef</a>&amp; def = resize_border_def[border_n];</div>
<div class="line"><a id="l06916" name="l06916"></a><span class="lineno"> 6916</span>        <span class="keyword">const</span> ImGuiAxis axis = (border_n == ImGuiDir_Left || border_n == ImGuiDir_Right) ? ImGuiAxis_X : ImGuiAxis_Y;</div>
<div class="line"><a id="l06917" name="l06917"></a><span class="lineno"> 6917</span> </div>
<div class="line"><a id="l06918" name="l06918"></a><span class="lineno"> 6918</span>        <span class="keywordtype">bool</span> hovered, held;</div>
<div class="line"><a id="l06919" name="l06919"></a><span class="lineno"> 6919</span>        <a class="code hl_struct" href="structImRect.html">ImRect</a> border_rect = GetResizeBorderRect(window, border_n, grip_hover_inner_size, g.WindowsBorderHoverPadding);</div>
<div class="line"><a id="l06920" name="l06920"></a><span class="lineno"> 6920</span>        ImGuiID border_id = window-&gt;GetID(border_n + 4); <span class="comment">// == GetWindowResizeBorderID()</span></div>
<div class="line"><a id="l06921" name="l06921"></a><span class="lineno"> 6921</span>        ItemAdd(border_rect, border_id, NULL, ImGuiItemFlags_NoNav);</div>
<div class="line"><a id="l06922" name="l06922"></a><span class="lineno"> 6922</span>        ButtonBehavior(border_rect, border_id, &amp;hovered, &amp;held, ImGuiButtonFlags_FlattenChildren | ImGuiButtonFlags_NoNavFocus);</div>
<div class="line"><a id="l06923" name="l06923"></a><span class="lineno"> 6923</span>        <span class="comment">//GetForegroundDrawList(window)-&gt;AddRect(border_rect.Min, border_rect.Max, IM_COL32(255, 255, 0, 255));</span></div>
<div class="line"><a id="l06924" name="l06924"></a><span class="lineno"> 6924</span>        <span class="keywordflow">if</span> (hovered &amp;&amp; g.HoveredIdTimer &lt;= WINDOWS_RESIZE_FROM_EDGES_FEEDBACK_TIMER)</div>
<div class="line"><a id="l06925" name="l06925"></a><span class="lineno"> 6925</span>            hovered = <span class="keyword">false</span>;</div>
<div class="line"><a id="l06926" name="l06926"></a><span class="lineno"> 6926</span>        <span class="keywordflow">if</span> (hovered || held)</div>
<div class="line"><a id="l06927" name="l06927"></a><span class="lineno"> 6927</span>            SetMouseCursor((axis == ImGuiAxis_X) ? ImGuiMouseCursor_ResizeEW : ImGuiMouseCursor_ResizeNS);</div>
<div class="line"><a id="l06928" name="l06928"></a><span class="lineno"> 6928</span>        <span class="keywordflow">if</span> (held &amp;&amp; g.IO.MouseDoubleClicked[0])</div>
<div class="line"><a id="l06929" name="l06929"></a><span class="lineno"> 6929</span>        {</div>
<div class="line"><a id="l06930" name="l06930"></a><span class="lineno"> 6930</span>            <span class="comment">// Double-clicking bottom or right border auto-fit on this axis</span></div>
<div class="line"><a id="l06931" name="l06931"></a><span class="lineno"> 6931</span>            <span class="comment">// FIXME: CalcWindowAutoFitSize() doesn&#39;t take into account that only one side may be auto-fit when calculating scrollbars.</span></div>
<div class="line"><a id="l06932" name="l06932"></a><span class="lineno"> 6932</span>            <span class="comment">// FIXME: Support top and right borders: rework CalcResizePosSizeFromAnyCorner() to be reusable in both cases.</span></div>
<div class="line"><a id="l06933" name="l06933"></a><span class="lineno"> 6933</span>            <span class="keywordflow">if</span> (border_n == 1 || border_n == 3) <span class="comment">// Right and bottom border</span></div>
<div class="line"><a id="l06934" name="l06934"></a><span class="lineno"> 6934</span>            {</div>
<div class="line"><a id="l06935" name="l06935"></a><span class="lineno"> 6935</span>                size_target[axis] = CalcWindowSizeAfterConstraint(window, size_auto_fit)[axis];</div>
<div class="line"><a id="l06936" name="l06936"></a><span class="lineno"> 6936</span>                ret_auto_fit_mask |= (1 &lt;&lt; axis);</div>
<div class="line"><a id="l06937" name="l06937"></a><span class="lineno"> 6937</span>                hovered = held = <span class="keyword">false</span>; <span class="comment">// So border doesn&#39;t show highlighted at new position</span></div>
<div class="line"><a id="l06938" name="l06938"></a><span class="lineno"> 6938</span>            }</div>
<div class="line"><a id="l06939" name="l06939"></a><span class="lineno"> 6939</span>            ClearActiveID();</div>
<div class="line"><a id="l06940" name="l06940"></a><span class="lineno"> 6940</span>        }</div>
<div class="line"><a id="l06941" name="l06941"></a><span class="lineno"> 6941</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (held)</div>
<div class="line"><a id="l06942" name="l06942"></a><span class="lineno"> 6942</span>        {</div>
<div class="line"><a id="l06943" name="l06943"></a><span class="lineno"> 6943</span>            <span class="comment">// Switch to relative resizing mode when border geometry moved (e.g. resizing a child altering parent scroll), in order to avoid resizing feedback loop.</span></div>
<div class="line"><a id="l06944" name="l06944"></a><span class="lineno"> 6944</span>            <span class="comment">// Currently only using relative mode on resizable child windows, as the problem to solve is more likely noticeable for them, but could apply for all windows eventually.</span></div>
<div class="line"><a id="l06945" name="l06945"></a><span class="lineno"> 6945</span>            <span class="comment">// FIXME: May want to generalize this idiom at lower-level, so more widgets can use it!</span></div>
<div class="line"><a id="l06946" name="l06946"></a><span class="lineno"> 6946</span>            <span class="keyword">const</span> <span class="keywordtype">bool</span> just_scrolled_manually_while_resizing = (g.WheelingWindow != NULL &amp;&amp; g.WheelingWindowScrolledFrame == g.FrameCount &amp;&amp; IsWindowChildOf(window, g.WheelingWindow, <span class="keyword">false</span>, <span class="keyword">true</span>));</div>
<div class="line"><a id="l06947" name="l06947"></a><span class="lineno"> 6947</span>            <span class="keywordflow">if</span> (g.ActiveIdIsJustActivated || just_scrolled_manually_while_resizing)</div>
<div class="line"><a id="l06948" name="l06948"></a><span class="lineno"> 6948</span>            {</div>
<div class="line"><a id="l06949" name="l06949"></a><span class="lineno"> 6949</span>                g.WindowResizeBorderExpectedRect = border_rect;</div>
<div class="line"><a id="l06950" name="l06950"></a><span class="lineno"> 6950</span>                g.WindowResizeRelativeMode = <span class="keyword">false</span>;</div>
<div class="line"><a id="l06951" name="l06951"></a><span class="lineno"> 6951</span>            }</div>
<div class="line"><a id="l06952" name="l06952"></a><span class="lineno"> 6952</span>            <span class="keywordflow">if</span> ((window-&gt;Flags &amp; ImGuiWindowFlags_ChildWindow) &amp;&amp; memcmp(&amp;g.WindowResizeBorderExpectedRect, &amp;border_rect, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structImRect.html">ImRect</a>)) != 0)</div>
<div class="line"><a id="l06953" name="l06953"></a><span class="lineno"> 6953</span>                g.WindowResizeRelativeMode = <span class="keyword">true</span>;</div>
<div class="line"><a id="l06954" name="l06954"></a><span class="lineno"> 6954</span> </div>
<div class="line"><a id="l06955" name="l06955"></a><span class="lineno"> 6955</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> border_curr = (window-&gt;Pos + ImMin(def.SegmentN1, def.SegmentN2) * window-&gt;Size);</div>
<div class="line"><a id="l06956" name="l06956"></a><span class="lineno"> 6956</span>            <span class="keyword">const</span> <span class="keywordtype">float</span> border_target_rel_mode_for_axis = border_curr[axis] + g.IO.MouseDelta[axis];</div>
<div class="line"><a id="l06957" name="l06957"></a><span class="lineno"> 6957</span>            <span class="keyword">const</span> <span class="keywordtype">float</span> border_target_abs_mode_for_axis = g.IO.MousePos[axis] - g.ActiveIdClickOffset[axis] + g.WindowsBorderHoverPadding; <span class="comment">// Match ButtonBehavior() padding above.</span></div>
<div class="line"><a id="l06958" name="l06958"></a><span class="lineno"> 6958</span> </div>
<div class="line"><a id="l06959" name="l06959"></a><span class="lineno"> 6959</span>            <span class="comment">// Use absolute mode position</span></div>
<div class="line"><a id="l06960" name="l06960"></a><span class="lineno"> 6960</span>            <a class="code hl_struct" href="structImVec2.html">ImVec2</a> border_target = window-&gt;Pos;</div>
<div class="line"><a id="l06961" name="l06961"></a><span class="lineno"> 6961</span>            border_target[axis] = border_target_abs_mode_for_axis;</div>
<div class="line"><a id="l06962" name="l06962"></a><span class="lineno"> 6962</span> </div>
<div class="line"><a id="l06963" name="l06963"></a><span class="lineno"> 6963</span>            <span class="comment">// Use relative mode target for child window, ignore resize when moving back toward the ideal absolute position.</span></div>
<div class="line"><a id="l06964" name="l06964"></a><span class="lineno"> 6964</span>            <span class="keywordtype">bool</span> ignore_resize = <span class="keyword">false</span>;</div>
<div class="line"><a id="l06965" name="l06965"></a><span class="lineno"> 6965</span>            <span class="keywordflow">if</span> (g.WindowResizeRelativeMode)</div>
<div class="line"><a id="l06966" name="l06966"></a><span class="lineno"> 6966</span>            {</div>
<div class="line"><a id="l06967" name="l06967"></a><span class="lineno"> 6967</span>                <span class="comment">//GetForegroundDrawList()-&gt;AddText(GetMainViewport()-&gt;WorkPos, IM_COL32_WHITE, &quot;Relative Mode&quot;);</span></div>
<div class="line"><a id="l06968" name="l06968"></a><span class="lineno"> 6968</span>                border_target[axis] = border_target_rel_mode_for_axis;</div>
<div class="line"><a id="l06969" name="l06969"></a><span class="lineno"> 6969</span>                <span class="keywordflow">if</span> (g.IO.MouseDelta[axis] == 0.0f || (g.IO.MouseDelta[axis] &gt; 0.0f) == (border_target_rel_mode_for_axis &gt; border_target_abs_mode_for_axis))</div>
<div class="line"><a id="l06970" name="l06970"></a><span class="lineno"> 6970</span>                    ignore_resize = <span class="keyword">true</span>;</div>
<div class="line"><a id="l06971" name="l06971"></a><span class="lineno"> 6971</span>            }</div>
<div class="line"><a id="l06972" name="l06972"></a><span class="lineno"> 6972</span> </div>
<div class="line"><a id="l06973" name="l06973"></a><span class="lineno"> 6973</span>            <span class="comment">// Clamp, apply</span></div>
<div class="line"><a id="l06974" name="l06974"></a><span class="lineno"> 6974</span>            <a class="code hl_struct" href="structImVec2.html">ImVec2</a> clamp_min(border_n == ImGuiDir_Right ? clamp_rect.Min.x : -FLT_MAX, border_n == ImGuiDir_Down || (border_n == ImGuiDir_Up &amp;&amp; window_move_from_title_bar) ? clamp_rect.Min.y : -FLT_MAX);</div>
<div class="line"><a id="l06975" name="l06975"></a><span class="lineno"> 6975</span>            <a class="code hl_struct" href="structImVec2.html">ImVec2</a> clamp_max(border_n == ImGuiDir_Left ? clamp_rect.Max.x : +FLT_MAX, border_n == ImGuiDir_Up ? clamp_rect.Max.y : +FLT_MAX);</div>
<div class="line"><a id="l06976" name="l06976"></a><span class="lineno"> 6976</span>            border_target = ImClamp(border_target, clamp_min, clamp_max);</div>
<div class="line"><a id="l06977" name="l06977"></a><span class="lineno"> 6977</span>            <span class="keywordflow">if</span> (flags &amp; ImGuiWindowFlags_ChildWindow) <span class="comment">// Clamp resizing of childs within parent</span></div>
<div class="line"><a id="l06978" name="l06978"></a><span class="lineno"> 6978</span>            {</div>
<div class="line"><a id="l06979" name="l06979"></a><span class="lineno"> 6979</span>                <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* parent_window = window-&gt;ParentWindow;</div>
<div class="line"><a id="l06980" name="l06980"></a><span class="lineno"> 6980</span>                ImGuiWindowFlags parent_flags = parent_window-&gt;Flags;</div>
<div class="line"><a id="l06981" name="l06981"></a><span class="lineno"> 6981</span>                <a class="code hl_struct" href="structImRect.html">ImRect</a> border_limit_rect = parent_window-&gt;InnerRect;</div>
<div class="line"><a id="l06982" name="l06982"></a><span class="lineno"> 6982</span>                border_limit_rect.Expand(<a class="code hl_struct" href="structImVec2.html">ImVec2</a>(-ImMax(parent_window-&gt;WindowPadding.x, parent_window-&gt;WindowBorderSize), -ImMax(parent_window-&gt;WindowPadding.y, parent_window-&gt;WindowBorderSize)));</div>
<div class="line"><a id="l06983" name="l06983"></a><span class="lineno"> 6983</span>                <span class="keywordflow">if</span> ((axis == ImGuiAxis_X) &amp;&amp; ((parent_flags &amp; (ImGuiWindowFlags_HorizontalScrollbar | ImGuiWindowFlags_AlwaysHorizontalScrollbar)) == 0 || (parent_flags &amp; ImGuiWindowFlags_NoScrollbar)))</div>
<div class="line"><a id="l06984" name="l06984"></a><span class="lineno"> 6984</span>                    border_target.x = ImClamp(border_target.x, border_limit_rect.Min.x, border_limit_rect.Max.x);</div>
<div class="line"><a id="l06985" name="l06985"></a><span class="lineno"> 6985</span>                <span class="keywordflow">if</span> ((axis == ImGuiAxis_Y) &amp;&amp; (parent_flags &amp; ImGuiWindowFlags_NoScrollbar))</div>
<div class="line"><a id="l06986" name="l06986"></a><span class="lineno"> 6986</span>                    border_target.y = ImClamp(border_target.y, border_limit_rect.Min.y, border_limit_rect.Max.y);</div>
<div class="line"><a id="l06987" name="l06987"></a><span class="lineno"> 6987</span>            }</div>
<div class="line"><a id="l06988" name="l06988"></a><span class="lineno"> 6988</span>            <span class="keywordflow">if</span> (!ignore_resize)</div>
<div class="line"><a id="l06989" name="l06989"></a><span class="lineno"> 6989</span>                CalcResizePosSizeFromAnyCorner(window, border_target, ImMin(def.SegmentN1, def.SegmentN2), &amp;pos_target, &amp;size_target);</div>
<div class="line"><a id="l06990" name="l06990"></a><span class="lineno"> 6990</span>        }</div>
<div class="line"><a id="l06991" name="l06991"></a><span class="lineno"> 6991</span>        <span class="keywordflow">if</span> (hovered)</div>
<div class="line"><a id="l06992" name="l06992"></a><span class="lineno"> 6992</span>            *border_hovered = border_n;</div>
<div class="line"><a id="l06993" name="l06993"></a><span class="lineno"> 6993</span>        <span class="keywordflow">if</span> (held)</div>
<div class="line"><a id="l06994" name="l06994"></a><span class="lineno"> 6994</span>            *border_held = border_n;</div>
<div class="line"><a id="l06995" name="l06995"></a><span class="lineno"> 6995</span>    }</div>
<div class="line"><a id="l06996" name="l06996"></a><span class="lineno"> 6996</span>    PopID();</div>
<div class="line"><a id="l06997" name="l06997"></a><span class="lineno"> 6997</span> </div>
<div class="line"><a id="l06998" name="l06998"></a><span class="lineno"> 6998</span>    <span class="comment">// Restore nav layer</span></div>
<div class="line"><a id="l06999" name="l06999"></a><span class="lineno"> 6999</span>    window-&gt;DC.NavLayerCurrent = ImGuiNavLayer_Main;</div>
<div class="line"><a id="l07000" name="l07000"></a><span class="lineno"> 7000</span> </div>
<div class="line"><a id="l07001" name="l07001"></a><span class="lineno"> 7001</span>    <span class="comment">// Navigation resize (keyboard/gamepad)</span></div>
<div class="line"><a id="l07002" name="l07002"></a><span class="lineno"> 7002</span>    <span class="comment">// FIXME: This cannot be moved to NavUpdateWindowing() because CalcWindowSizeAfterConstraint() need to callback into user.</span></div>
<div class="line"><a id="l07003" name="l07003"></a><span class="lineno"> 7003</span>    <span class="comment">// Not even sure the callback works here.</span></div>
<div class="line"><a id="l07004" name="l07004"></a><span class="lineno"> 7004</span>    <span class="keywordflow">if</span> (g.NavWindowingTarget &amp;&amp; g.NavWindowingTarget-&gt;RootWindowDockTree == window)</div>
<div class="line"><a id="l07005" name="l07005"></a><span class="lineno"> 7005</span>    {</div>
<div class="line"><a id="l07006" name="l07006"></a><span class="lineno"> 7006</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> nav_resize_dir;</div>
<div class="line"><a id="l07007" name="l07007"></a><span class="lineno"> 7007</span>        <span class="keywordflow">if</span> (g.NavInputSource == ImGuiInputSource_Keyboard &amp;&amp; g.IO.KeyShift)</div>
<div class="line"><a id="l07008" name="l07008"></a><span class="lineno"> 7008</span>            nav_resize_dir = GetKeyMagnitude2d(ImGuiKey_LeftArrow, ImGuiKey_RightArrow, ImGuiKey_UpArrow, ImGuiKey_DownArrow);</div>
<div class="line"><a id="l07009" name="l07009"></a><span class="lineno"> 7009</span>        <span class="keywordflow">if</span> (g.NavInputSource == ImGuiInputSource_Gamepad)</div>
<div class="line"><a id="l07010" name="l07010"></a><span class="lineno"> 7010</span>            nav_resize_dir = GetKeyMagnitude2d(ImGuiKey_GamepadDpadLeft, ImGuiKey_GamepadDpadRight, ImGuiKey_GamepadDpadUp, ImGuiKey_GamepadDpadDown);</div>
<div class="line"><a id="l07011" name="l07011"></a><span class="lineno"> 7011</span>        <span class="keywordflow">if</span> (nav_resize_dir.x != 0.0f || nav_resize_dir.y != 0.0f)</div>
<div class="line"><a id="l07012" name="l07012"></a><span class="lineno"> 7012</span>        {</div>
<div class="line"><a id="l07013" name="l07013"></a><span class="lineno"> 7013</span>            <span class="keyword">const</span> <span class="keywordtype">float</span> NAV_RESIZE_SPEED = 600.0f;</div>
<div class="line"><a id="l07014" name="l07014"></a><span class="lineno"> 7014</span>            <span class="keyword">const</span> <span class="keywordtype">float</span> resize_step = NAV_RESIZE_SPEED * g.IO.DeltaTime * ImMin(g.IO.DisplayFramebufferScale.x, g.IO.DisplayFramebufferScale.y);</div>
<div class="line"><a id="l07015" name="l07015"></a><span class="lineno"> 7015</span>            g.NavWindowingAccumDeltaSize += nav_resize_dir * resize_step;</div>
<div class="line"><a id="l07016" name="l07016"></a><span class="lineno"> 7016</span>            g.NavWindowingAccumDeltaSize = ImMax(g.NavWindowingAccumDeltaSize, clamp_rect.Min - window-&gt;Pos - window-&gt;Size); <span class="comment">// We need Pos+Size &gt;= clmap_rect.Min, so Size &gt;= clmap_rect.Min - Pos, so size_delta &gt;= clmap_rect.Min - window-&gt;Pos - window-&gt;Size</span></div>
<div class="line"><a id="l07017" name="l07017"></a><span class="lineno"> 7017</span>            g.NavWindowingToggleLayer = <span class="keyword">false</span>;</div>
<div class="line"><a id="l07018" name="l07018"></a><span class="lineno"> 7018</span>            g.NavHighlightItemUnderNav = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07019" name="l07019"></a><span class="lineno"> 7019</span>            resize_grip_col[0] = GetColorU32(ImGuiCol_ResizeGripActive);</div>
<div class="line"><a id="l07020" name="l07020"></a><span class="lineno"> 7020</span>            <a class="code hl_struct" href="structImVec2.html">ImVec2</a> accum_floored = ImTrunc(g.NavWindowingAccumDeltaSize);</div>
<div class="line"><a id="l07021" name="l07021"></a><span class="lineno"> 7021</span>            <span class="keywordflow">if</span> (accum_floored.x != 0.0f || accum_floored.y != 0.0f)</div>
<div class="line"><a id="l07022" name="l07022"></a><span class="lineno"> 7022</span>            {</div>
<div class="line"><a id="l07023" name="l07023"></a><span class="lineno"> 7023</span>                <span class="comment">// FIXME-NAV: Should store and accumulate into a separate size buffer to handle sizing constraints properly, right now a constraint will make us stuck.</span></div>
<div class="line"><a id="l07024" name="l07024"></a><span class="lineno"> 7024</span>                size_target = CalcWindowSizeAfterConstraint(window, window-&gt;SizeFull + accum_floored);</div>
<div class="line"><a id="l07025" name="l07025"></a><span class="lineno"> 7025</span>                g.NavWindowingAccumDeltaSize -= accum_floored;</div>
<div class="line"><a id="l07026" name="l07026"></a><span class="lineno"> 7026</span>            }</div>
<div class="line"><a id="l07027" name="l07027"></a><span class="lineno"> 7027</span>        }</div>
<div class="line"><a id="l07028" name="l07028"></a><span class="lineno"> 7028</span>    }</div>
<div class="line"><a id="l07029" name="l07029"></a><span class="lineno"> 7029</span> </div>
<div class="line"><a id="l07030" name="l07030"></a><span class="lineno"> 7030</span>    <span class="comment">// Apply back modified position/size to window</span></div>
<div class="line"><a id="l07031" name="l07031"></a><span class="lineno"> 7031</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> curr_pos = window-&gt;Pos;</div>
<div class="line"><a id="l07032" name="l07032"></a><span class="lineno"> 7032</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> curr_size = window-&gt;SizeFull;</div>
<div class="line"><a id="l07033" name="l07033"></a><span class="lineno"> 7033</span>    <span class="keywordflow">if</span> (size_target.x != FLT_MAX &amp;&amp; (window-&gt;Size.x != size_target.x || window-&gt;SizeFull.x != size_target.x))</div>
<div class="line"><a id="l07034" name="l07034"></a><span class="lineno"> 7034</span>        window-&gt;Size.x = window-&gt;SizeFull.x = size_target.x;</div>
<div class="line"><a id="l07035" name="l07035"></a><span class="lineno"> 7035</span>    <span class="keywordflow">if</span> (size_target.y != FLT_MAX &amp;&amp; (window-&gt;Size.y != size_target.y || window-&gt;SizeFull.y != size_target.y))</div>
<div class="line"><a id="l07036" name="l07036"></a><span class="lineno"> 7036</span>        window-&gt;Size.y = window-&gt;SizeFull.y = size_target.y;</div>
<div class="line"><a id="l07037" name="l07037"></a><span class="lineno"> 7037</span>    <span class="keywordflow">if</span> (pos_target.x != FLT_MAX &amp;&amp; window-&gt;Pos.x != ImTrunc(pos_target.x))</div>
<div class="line"><a id="l07038" name="l07038"></a><span class="lineno"> 7038</span>        window-&gt;Pos.x = ImTrunc(pos_target.x);</div>
<div class="line"><a id="l07039" name="l07039"></a><span class="lineno"> 7039</span>    <span class="keywordflow">if</span> (pos_target.y != FLT_MAX &amp;&amp; window-&gt;Pos.y != ImTrunc(pos_target.y))</div>
<div class="line"><a id="l07040" name="l07040"></a><span class="lineno"> 7040</span>        window-&gt;Pos.y = ImTrunc(pos_target.y);</div>
<div class="line"><a id="l07041" name="l07041"></a><span class="lineno"> 7041</span>    <span class="keywordflow">if</span> (curr_pos.x != window-&gt;Pos.x || curr_pos.y != window-&gt;Pos.y || curr_size.x != window-&gt;SizeFull.x || curr_size.y != window-&gt;SizeFull.y)</div>
<div class="line"><a id="l07042" name="l07042"></a><span class="lineno"> 7042</span>        MarkIniSettingsDirty(window);</div>
<div class="line"><a id="l07043" name="l07043"></a><span class="lineno"> 7043</span> </div>
<div class="line"><a id="l07044" name="l07044"></a><span class="lineno"> 7044</span>    <span class="comment">// Recalculate next expected border expected coordinates</span></div>
<div class="line"><a id="l07045" name="l07045"></a><span class="lineno"> 7045</span>    <span class="keywordflow">if</span> (*border_held != -1)</div>
<div class="line"><a id="l07046" name="l07046"></a><span class="lineno"> 7046</span>        g.WindowResizeBorderExpectedRect = GetResizeBorderRect(window, *border_held, grip_hover_inner_size, g.WindowsBorderHoverPadding);</div>
<div class="line"><a id="l07047" name="l07047"></a><span class="lineno"> 7047</span> </div>
<div class="line"><a id="l07048" name="l07048"></a><span class="lineno"> 7048</span>    <span class="keywordflow">return</span> ret_auto_fit_mask;</div>
<div class="line"><a id="l07049" name="l07049"></a><span class="lineno"> 7049</span>}</div>
<div class="line"><a id="l07050" name="l07050"></a><span class="lineno"> 7050</span> </div>
<div class="line"><a id="l07051" name="l07051"></a><span class="lineno"> 7051</span><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> ClampWindowPos(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; visibility_rect)</div>
<div class="line"><a id="l07052" name="l07052"></a><span class="lineno"> 7052</span>{</div>
<div class="line"><a id="l07053" name="l07053"></a><span class="lineno"> 7053</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l07054" name="l07054"></a><span class="lineno"> 7054</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> size_for_clamping = window-&gt;Size;</div>
<div class="line"><a id="l07055" name="l07055"></a><span class="lineno"> 7055</span>    <span class="keywordflow">if</span> (g.IO.ConfigWindowsMoveFromTitleBarOnly &amp;&amp; window-&gt;DockNodeAsHost)</div>
<div class="line"><a id="l07056" name="l07056"></a><span class="lineno"> 7056</span>        size_for_clamping.y = ImGui::GetFrameHeight(); <span class="comment">// Not using window-&gt;TitleBarHeight() as DockNodeAsHost will report 0.0f here.</span></div>
<div class="line"><a id="l07057" name="l07057"></a><span class="lineno"> 7057</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (g.IO.ConfigWindowsMoveFromTitleBarOnly &amp;&amp; !(window-&gt;Flags &amp; ImGuiWindowFlags_NoTitleBar))</div>
<div class="line"><a id="l07058" name="l07058"></a><span class="lineno"> 7058</span>        size_for_clamping.y = window-&gt;TitleBarHeight;</div>
<div class="line"><a id="l07059" name="l07059"></a><span class="lineno"> 7059</span>    window-&gt;Pos = ImClamp(window-&gt;Pos, visibility_rect.Min - size_for_clamping, visibility_rect.Max);</div>
<div class="line"><a id="l07060" name="l07060"></a><span class="lineno"> 7060</span>}</div>
<div class="line"><a id="l07061" name="l07061"></a><span class="lineno"> 7061</span> </div>
<div class="line"><a id="l07062" name="l07062"></a><span class="lineno"> 7062</span><span class="keyword">static</span> <span class="keywordtype">void</span> RenderWindowOuterSingleBorder(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keywordtype">int</span> border_n, ImU32 border_col, <span class="keywordtype">float</span> border_size)</div>
<div class="line"><a id="l07063" name="l07063"></a><span class="lineno"> 7063</span>{</div>
<div class="line"><a id="l07064" name="l07064"></a><span class="lineno"> 7064</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiResizeBorderDef.html">ImGuiResizeBorderDef</a>&amp; def = resize_border_def[border_n];</div>
<div class="line"><a id="l07065" name="l07065"></a><span class="lineno"> 7065</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> rounding = window-&gt;WindowRounding;</div>
<div class="line"><a id="l07066" name="l07066"></a><span class="lineno"> 7066</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a> border_r = GetResizeBorderRect(window, border_n, rounding, 0.0f);</div>
<div class="line"><a id="l07067" name="l07067"></a><span class="lineno"> 7067</span>    window-&gt;DrawList-&gt;PathArcTo(ImLerp(border_r.Min, border_r.Max, def.SegmentN1) + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.5f, 0.5f) + def.InnerDir * rounding, rounding, def.OuterAngle - IM_PI * 0.25f, def.OuterAngle);</div>
<div class="line"><a id="l07068" name="l07068"></a><span class="lineno"> 7068</span>    window-&gt;DrawList-&gt;PathArcTo(ImLerp(border_r.Min, border_r.Max, def.SegmentN2) + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.5f, 0.5f) + def.InnerDir * rounding, rounding, def.OuterAngle, def.OuterAngle + IM_PI * 0.25f);</div>
<div class="line"><a id="l07069" name="l07069"></a><span class="lineno"> 7069</span>    window-&gt;DrawList-&gt;PathStroke(border_col, ImDrawFlags_None, border_size);</div>
<div class="line"><a id="l07070" name="l07070"></a><span class="lineno"> 7070</span>}</div>
<div class="line"><a id="l07071" name="l07071"></a><span class="lineno"> 7071</span> </div>
<div class="line"><a id="l07072" name="l07072"></a><span class="lineno"> 7072</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::RenderWindowOuterBorders(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l07073" name="l07073"></a><span class="lineno"> 7073</span>{</div>
<div class="line"><a id="l07074" name="l07074"></a><span class="lineno"> 7074</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l07075" name="l07075"></a><span class="lineno"> 7075</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> border_size = window-&gt;WindowBorderSize;</div>
<div class="line"><a id="l07076" name="l07076"></a><span class="lineno"> 7076</span>    <span class="keyword">const</span> ImU32 border_col = GetColorU32(ImGuiCol_Border);</div>
<div class="line"><a id="l07077" name="l07077"></a><span class="lineno"> 7077</span>    <span class="keywordflow">if</span> (border_size &gt; 0.0f &amp;&amp; (window-&gt;Flags &amp; ImGuiWindowFlags_NoBackground) == 0)</div>
<div class="line"><a id="l07078" name="l07078"></a><span class="lineno"> 7078</span>        window-&gt;DrawList-&gt;AddRect(window-&gt;Pos, window-&gt;Pos + window-&gt;Size, border_col, window-&gt;WindowRounding, 0, window-&gt;WindowBorderSize);</div>
<div class="line"><a id="l07079" name="l07079"></a><span class="lineno"> 7079</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (border_size &gt; 0.0f)</div>
<div class="line"><a id="l07080" name="l07080"></a><span class="lineno"> 7080</span>    {</div>
<div class="line"><a id="l07081" name="l07081"></a><span class="lineno"> 7081</span>        <span class="keywordflow">if</span> (window-&gt;ChildFlags &amp; ImGuiChildFlags_ResizeX) <span class="comment">// Similar code as &#39;resize_border_mask&#39; computation in UpdateWindowManualResize() but we specifically only always draw explicit child resize border.</span></div>
<div class="line"><a id="l07082" name="l07082"></a><span class="lineno"> 7082</span>            RenderWindowOuterSingleBorder(window, 1, border_col, border_size);</div>
<div class="line"><a id="l07083" name="l07083"></a><span class="lineno"> 7083</span>        <span class="keywordflow">if</span> (window-&gt;ChildFlags &amp; ImGuiChildFlags_ResizeY)</div>
<div class="line"><a id="l07084" name="l07084"></a><span class="lineno"> 7084</span>            RenderWindowOuterSingleBorder(window, 3, border_col, border_size);</div>
<div class="line"><a id="l07085" name="l07085"></a><span class="lineno"> 7085</span>    }</div>
<div class="line"><a id="l07086" name="l07086"></a><span class="lineno"> 7086</span>    <span class="keywordflow">if</span> (window-&gt;ResizeBorderHovered != -1 || window-&gt;ResizeBorderHeld != -1)</div>
<div class="line"><a id="l07087" name="l07087"></a><span class="lineno"> 7087</span>    {</div>
<div class="line"><a id="l07088" name="l07088"></a><span class="lineno"> 7088</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> border_n = (window-&gt;ResizeBorderHeld != -1) ? window-&gt;ResizeBorderHeld : window-&gt;ResizeBorderHovered;</div>
<div class="line"><a id="l07089" name="l07089"></a><span class="lineno"> 7089</span>        <span class="keyword">const</span> ImU32 border_col_resizing = GetColorU32((window-&gt;ResizeBorderHeld != -1) ? ImGuiCol_SeparatorActive : ImGuiCol_SeparatorHovered);</div>
<div class="line"><a id="l07090" name="l07090"></a><span class="lineno"> 7090</span>        RenderWindowOuterSingleBorder(window, border_n, border_col_resizing, ImMax(2.0f, window-&gt;WindowBorderSize)); <span class="comment">// Thicker than usual</span></div>
<div class="line"><a id="l07091" name="l07091"></a><span class="lineno"> 7091</span>    }</div>
<div class="line"><a id="l07092" name="l07092"></a><span class="lineno"> 7092</span>    <span class="keywordflow">if</span> (g.Style.FrameBorderSize &gt; 0 &amp;&amp; !(window-&gt;Flags &amp; ImGuiWindowFlags_NoTitleBar) &amp;&amp; !window-&gt;DockIsActive)</div>
<div class="line"><a id="l07093" name="l07093"></a><span class="lineno"> 7093</span>    {</div>
<div class="line"><a id="l07094" name="l07094"></a><span class="lineno"> 7094</span>        <span class="keywordtype">float</span> y = window-&gt;Pos.y + window-&gt;TitleBarHeight - 1;</div>
<div class="line"><a id="l07095" name="l07095"></a><span class="lineno"> 7095</span>        window-&gt;DrawList-&gt;AddLine(<a class="code hl_struct" href="structImVec2.html">ImVec2</a>(window-&gt;Pos.x + border_size * 0.5f, y), <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(window-&gt;Pos.x + window-&gt;Size.x - border_size * 0.5f, y), border_col, g.Style.FrameBorderSize);</div>
<div class="line"><a id="l07096" name="l07096"></a><span class="lineno"> 7096</span>    }</div>
<div class="line"><a id="l07097" name="l07097"></a><span class="lineno"> 7097</span>}</div>
<div class="line"><a id="l07098" name="l07098"></a><span class="lineno"> 7098</span> </div>
<div class="line"><a id="l07099" name="l07099"></a><span class="lineno"> 7099</span><span class="comment">// Draw background and borders</span></div>
<div class="line"><a id="l07100" name="l07100"></a><span class="lineno"> 7100</span><span class="comment">// Draw and handle scrollbars</span></div>
<div class="line"><a id="l07101" name="l07101"></a><span class="lineno"> 7101</span><span class="keywordtype">void</span> ImGui::RenderWindowDecorations(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; title_bar_rect, <span class="keywordtype">bool</span> title_bar_is_highlight, <span class="keywordtype">bool</span> handle_borders_and_resize_grips, <span class="keywordtype">int</span> resize_grip_count, <span class="keyword">const</span> ImU32 resize_grip_col[4], <span class="keywordtype">float</span> resize_grip_draw_size)</div>
<div class="line"><a id="l07102" name="l07102"></a><span class="lineno"> 7102</span>{</div>
<div class="line"><a id="l07103" name="l07103"></a><span class="lineno"> 7103</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l07104" name="l07104"></a><span class="lineno"> 7104</span>    <a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>&amp; style = g.Style;</div>
<div class="line"><a id="l07105" name="l07105"></a><span class="lineno"> 7105</span>    ImGuiWindowFlags flags = window-&gt;Flags;</div>
<div class="line"><a id="l07106" name="l07106"></a><span class="lineno"> 7106</span> </div>
<div class="line"><a id="l07107" name="l07107"></a><span class="lineno"> 7107</span>    <span class="comment">// Ensure that Scrollbar() doesn&#39;t read last frame&#39;s SkipItems</span></div>
<div class="line"><a id="l07108" name="l07108"></a><span class="lineno"> 7108</span>    IM_ASSERT(window-&gt;BeginCount == 0);</div>
<div class="line"><a id="l07109" name="l07109"></a><span class="lineno"> 7109</span>    window-&gt;SkipItems = <span class="keyword">false</span>;</div>
<div class="line"><a id="l07110" name="l07110"></a><span class="lineno"> 7110</span>    window-&gt;DC.NavLayerCurrent = ImGuiNavLayer_Menu;</div>
<div class="line"><a id="l07111" name="l07111"></a><span class="lineno"> 7111</span> </div>
<div class="line"><a id="l07112" name="l07112"></a><span class="lineno"> 7112</span>    <span class="comment">// Draw window + handle manual resize</span></div>
<div class="line"><a id="l07113" name="l07113"></a><span class="lineno"> 7113</span>    <span class="comment">// As we highlight the title bar when want_focus is set, multiple reappearing windows will have their title bar highlighted on their reappearing frame.</span></div>
<div class="line"><a id="l07114" name="l07114"></a><span class="lineno"> 7114</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> window_rounding = window-&gt;WindowRounding;</div>
<div class="line"><a id="l07115" name="l07115"></a><span class="lineno"> 7115</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> window_border_size = window-&gt;WindowBorderSize;</div>
<div class="line"><a id="l07116" name="l07116"></a><span class="lineno"> 7116</span>    <span class="keywordflow">if</span> (window-&gt;Collapsed)</div>
<div class="line"><a id="l07117" name="l07117"></a><span class="lineno"> 7117</span>    {</div>
<div class="line"><a id="l07118" name="l07118"></a><span class="lineno"> 7118</span>        <span class="comment">// Title bar only</span></div>
<div class="line"><a id="l07119" name="l07119"></a><span class="lineno"> 7119</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> backup_border_size = style.FrameBorderSize;</div>
<div class="line"><a id="l07120" name="l07120"></a><span class="lineno"> 7120</span>        g.Style.FrameBorderSize = window-&gt;WindowBorderSize;</div>
<div class="line"><a id="l07121" name="l07121"></a><span class="lineno"> 7121</span>        ImU32 title_bar_col = GetColorU32((title_bar_is_highlight &amp;&amp; g.NavCursorVisible) ? ImGuiCol_TitleBgActive : ImGuiCol_TitleBgCollapsed);</div>
<div class="line"><a id="l07122" name="l07122"></a><span class="lineno"> 7122</span>        <span class="keywordflow">if</span> (window-&gt;ViewportOwned)</div>
<div class="line"><a id="l07123" name="l07123"></a><span class="lineno"> 7123</span>            title_bar_col |= IM_COL32_A_MASK; <span class="comment">// No alpha (we don&#39;t support is_docking_transparent_payload here because simpler and less meaningful, but could with a bit of code shuffle/reuse)</span></div>
<div class="line"><a id="l07124" name="l07124"></a><span class="lineno"> 7124</span>        RenderFrame(title_bar_rect.Min, title_bar_rect.Max, title_bar_col, <span class="keyword">true</span>, window_rounding);</div>
<div class="line"><a id="l07125" name="l07125"></a><span class="lineno"> 7125</span>        g.Style.FrameBorderSize = backup_border_size;</div>
<div class="line"><a id="l07126" name="l07126"></a><span class="lineno"> 7126</span>    }</div>
<div class="line"><a id="l07127" name="l07127"></a><span class="lineno"> 7127</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l07128" name="l07128"></a><span class="lineno"> 7128</span>    {</div>
<div class="line"><a id="l07129" name="l07129"></a><span class="lineno"> 7129</span>        <span class="comment">// Window background</span></div>
<div class="line"><a id="l07130" name="l07130"></a><span class="lineno"> 7130</span>        <span class="keywordflow">if</span> (!(flags &amp; ImGuiWindowFlags_NoBackground))</div>
<div class="line"><a id="l07131" name="l07131"></a><span class="lineno"> 7131</span>        {</div>
<div class="line"><a id="l07132" name="l07132"></a><span class="lineno"> 7132</span>            <span class="keywordtype">bool</span> is_docking_transparent_payload = <span class="keyword">false</span>;</div>
<div class="line"><a id="l07133" name="l07133"></a><span class="lineno"> 7133</span>            <span class="keywordflow">if</span> (g.DragDropActive &amp;&amp; (g.FrameCount - g.DragDropAcceptFrameCount) &lt;= 1 &amp;&amp; g.IO.ConfigDockingTransparentPayload)</div>
<div class="line"><a id="l07134" name="l07134"></a><span class="lineno"> 7134</span>                <span class="keywordflow">if</span> (g.DragDropPayload.IsDataType(IMGUI_PAYLOAD_TYPE_WINDOW) &amp;&amp; *(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>**)g.DragDropPayload.Data == window)</div>
<div class="line"><a id="l07135" name="l07135"></a><span class="lineno"> 7135</span>                    is_docking_transparent_payload = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07136" name="l07136"></a><span class="lineno"> 7136</span> </div>
<div class="line"><a id="l07137" name="l07137"></a><span class="lineno"> 7137</span>            ImU32 bg_col = GetColorU32(GetWindowBgColorIdx(window));</div>
<div class="line"><a id="l07138" name="l07138"></a><span class="lineno"> 7138</span>            <span class="keywordflow">if</span> (window-&gt;ViewportOwned)</div>
<div class="line"><a id="l07139" name="l07139"></a><span class="lineno"> 7139</span>            {</div>
<div class="line"><a id="l07140" name="l07140"></a><span class="lineno"> 7140</span>                bg_col |= IM_COL32_A_MASK; <span class="comment">// No alpha</span></div>
<div class="line"><a id="l07141" name="l07141"></a><span class="lineno"> 7141</span>                <span class="keywordflow">if</span> (is_docking_transparent_payload)</div>
<div class="line"><a id="l07142" name="l07142"></a><span class="lineno"> 7142</span>                    window-&gt;Viewport-&gt;Alpha *= DOCKING_TRANSPARENT_PAYLOAD_ALPHA;</div>
<div class="line"><a id="l07143" name="l07143"></a><span class="lineno"> 7143</span>            }</div>
<div class="line"><a id="l07144" name="l07144"></a><span class="lineno"> 7144</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l07145" name="l07145"></a><span class="lineno"> 7145</span>            {</div>
<div class="line"><a id="l07146" name="l07146"></a><span class="lineno"> 7146</span>                <span class="comment">// Adjust alpha. For docking</span></div>
<div class="line"><a id="l07147" name="l07147"></a><span class="lineno"> 7147</span>                <span class="keywordtype">bool</span> override_alpha = <span class="keyword">false</span>;</div>
<div class="line"><a id="l07148" name="l07148"></a><span class="lineno"> 7148</span>                <span class="keywordtype">float</span> alpha = 1.0f;</div>
<div class="line"><a id="l07149" name="l07149"></a><span class="lineno"> 7149</span>                <span class="keywordflow">if</span> (g.NextWindowData.HasFlags &amp; ImGuiNextWindowDataFlags_HasBgAlpha)</div>
<div class="line"><a id="l07150" name="l07150"></a><span class="lineno"> 7150</span>                {</div>
<div class="line"><a id="l07151" name="l07151"></a><span class="lineno"> 7151</span>                    alpha = g.NextWindowData.BgAlphaVal;</div>
<div class="line"><a id="l07152" name="l07152"></a><span class="lineno"> 7152</span>                    override_alpha = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07153" name="l07153"></a><span class="lineno"> 7153</span>                }</div>
<div class="line"><a id="l07154" name="l07154"></a><span class="lineno"> 7154</span>                <span class="keywordflow">if</span> (is_docking_transparent_payload)</div>
<div class="line"><a id="l07155" name="l07155"></a><span class="lineno"> 7155</span>                {</div>
<div class="line"><a id="l07156" name="l07156"></a><span class="lineno"> 7156</span>                    alpha *= DOCKING_TRANSPARENT_PAYLOAD_ALPHA; <span class="comment">// FIXME-DOCK: Should that be an override?</span></div>
<div class="line"><a id="l07157" name="l07157"></a><span class="lineno"> 7157</span>                    override_alpha = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07158" name="l07158"></a><span class="lineno"> 7158</span>                }</div>
<div class="line"><a id="l07159" name="l07159"></a><span class="lineno"> 7159</span>                <span class="keywordflow">if</span> (override_alpha)</div>
<div class="line"><a id="l07160" name="l07160"></a><span class="lineno"> 7160</span>                    bg_col = (bg_col &amp; ~IM_COL32_A_MASK) | (IM_F32_TO_INT8_SAT(alpha) &lt;&lt; IM_COL32_A_SHIFT);</div>
<div class="line"><a id="l07161" name="l07161"></a><span class="lineno"> 7161</span>            }</div>
<div class="line"><a id="l07162" name="l07162"></a><span class="lineno"> 7162</span> </div>
<div class="line"><a id="l07163" name="l07163"></a><span class="lineno"> 7163</span>            <span class="comment">// Render, for docked windows and host windows we ensure bg goes before decorations</span></div>
<div class="line"><a id="l07164" name="l07164"></a><span class="lineno"> 7164</span>            <span class="keywordflow">if</span> (window-&gt;DockIsActive)</div>
<div class="line"><a id="l07165" name="l07165"></a><span class="lineno"> 7165</span>                window-&gt;DockNode-&gt;LastBgColor = bg_col;</div>
<div class="line"><a id="l07166" name="l07166"></a><span class="lineno"> 7166</span>            <a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>* bg_draw_list = window-&gt;DockIsActive ? window-&gt;DockNode-&gt;HostWindow-&gt;DrawList : window-&gt;DrawList;</div>
<div class="line"><a id="l07167" name="l07167"></a><span class="lineno"> 7167</span>            <span class="keywordflow">if</span> (window-&gt;DockIsActive || (flags &amp; ImGuiWindowFlags_DockNodeHost))</div>
<div class="line"><a id="l07168" name="l07168"></a><span class="lineno"> 7168</span>                bg_draw_list-&gt;ChannelsSetCurrent(DOCKING_HOST_DRAW_CHANNEL_BG);</div>
<div class="line"><a id="l07169" name="l07169"></a><span class="lineno"> 7169</span>            bg_draw_list-&gt;AddRectFilled(window-&gt;Pos + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0, window-&gt;TitleBarHeight), window-&gt;Pos + window-&gt;Size, bg_col, window_rounding, (flags &amp; ImGuiWindowFlags_NoTitleBar) ? 0 : ImDrawFlags_RoundCornersBottom);</div>
<div class="line"><a id="l07170" name="l07170"></a><span class="lineno"> 7170</span>            <span class="keywordflow">if</span> (window-&gt;DockIsActive || (flags &amp; ImGuiWindowFlags_DockNodeHost))</div>
<div class="line"><a id="l07171" name="l07171"></a><span class="lineno"> 7171</span>                bg_draw_list-&gt;ChannelsSetCurrent(DOCKING_HOST_DRAW_CHANNEL_FG);</div>
<div class="line"><a id="l07172" name="l07172"></a><span class="lineno"> 7172</span>        }</div>
<div class="line"><a id="l07173" name="l07173"></a><span class="lineno"> 7173</span>        <span class="keywordflow">if</span> (window-&gt;DockIsActive)</div>
<div class="line"><a id="l07174" name="l07174"></a><span class="lineno"> 7174</span>            window-&gt;DockNode-&gt;IsBgDrawnThisFrame = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07175" name="l07175"></a><span class="lineno"> 7175</span> </div>
<div class="line"><a id="l07176" name="l07176"></a><span class="lineno"> 7176</span>        <span class="comment">// Title bar</span></div>
<div class="line"><a id="l07177" name="l07177"></a><span class="lineno"> 7177</span>        <span class="comment">// (when docked, DockNode are drawing their own title bar. Individual windows however do NOT set the _NoTitleBar flag,</span></div>
<div class="line"><a id="l07178" name="l07178"></a><span class="lineno"> 7178</span>        <span class="comment">// in order for their pos/size to be matching their undocking state.)</span></div>
<div class="line"><a id="l07179" name="l07179"></a><span class="lineno"> 7179</span>        <span class="keywordflow">if</span> (!(flags &amp; ImGuiWindowFlags_NoTitleBar) &amp;&amp; !window-&gt;DockIsActive)</div>
<div class="line"><a id="l07180" name="l07180"></a><span class="lineno"> 7180</span>        {</div>
<div class="line"><a id="l07181" name="l07181"></a><span class="lineno"> 7181</span>            ImU32 title_bar_col = GetColorU32(title_bar_is_highlight ? ImGuiCol_TitleBgActive : ImGuiCol_TitleBg);</div>
<div class="line"><a id="l07182" name="l07182"></a><span class="lineno"> 7182</span>            <span class="keywordflow">if</span> (window-&gt;ViewportOwned)</div>
<div class="line"><a id="l07183" name="l07183"></a><span class="lineno"> 7183</span>                title_bar_col |= IM_COL32_A_MASK; <span class="comment">// No alpha</span></div>
<div class="line"><a id="l07184" name="l07184"></a><span class="lineno"> 7184</span>            window-&gt;DrawList-&gt;AddRectFilled(title_bar_rect.Min, title_bar_rect.Max, title_bar_col, window_rounding, ImDrawFlags_RoundCornersTop);</div>
<div class="line"><a id="l07185" name="l07185"></a><span class="lineno"> 7185</span>        }</div>
<div class="line"><a id="l07186" name="l07186"></a><span class="lineno"> 7186</span> </div>
<div class="line"><a id="l07187" name="l07187"></a><span class="lineno"> 7187</span>        <span class="comment">// Menu bar</span></div>
<div class="line"><a id="l07188" name="l07188"></a><span class="lineno"> 7188</span>        <span class="keywordflow">if</span> (flags &amp; ImGuiWindowFlags_MenuBar)</div>
<div class="line"><a id="l07189" name="l07189"></a><span class="lineno"> 7189</span>        {</div>
<div class="line"><a id="l07190" name="l07190"></a><span class="lineno"> 7190</span>            <a class="code hl_struct" href="structImRect.html">ImRect</a> menu_bar_rect = window-&gt;MenuBarRect();</div>
<div class="line"><a id="l07191" name="l07191"></a><span class="lineno"> 7191</span>            menu_bar_rect.ClipWith(window-&gt;Rect());  <span class="comment">// Soft clipping, in particular child window don&#39;t have minimum size covering the menu bar so this is useful for them.</span></div>
<div class="line"><a id="l07192" name="l07192"></a><span class="lineno"> 7192</span>            window-&gt;DrawList-&gt;AddRectFilled(menu_bar_rect.Min, menu_bar_rect.Max, GetColorU32(ImGuiCol_MenuBarBg), (flags &amp; ImGuiWindowFlags_NoTitleBar) ? window_rounding : 0.0f, ImDrawFlags_RoundCornersTop);</div>
<div class="line"><a id="l07193" name="l07193"></a><span class="lineno"> 7193</span>            <span class="keywordflow">if</span> (style.FrameBorderSize &gt; 0.0f &amp;&amp; menu_bar_rect.Max.y &lt; window-&gt;Pos.y + window-&gt;Size.y)</div>
<div class="line"><a id="l07194" name="l07194"></a><span class="lineno"> 7194</span>                window-&gt;DrawList-&gt;AddLine(menu_bar_rect.GetBL() + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(window_border_size * 0.5f, 0.0f), menu_bar_rect.GetBR() - <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(window_border_size * 0.5f, 0.0f), GetColorU32(ImGuiCol_Border), style.FrameBorderSize);</div>
<div class="line"><a id="l07195" name="l07195"></a><span class="lineno"> 7195</span>        }</div>
<div class="line"><a id="l07196" name="l07196"></a><span class="lineno"> 7196</span> </div>
<div class="line"><a id="l07197" name="l07197"></a><span class="lineno"> 7197</span>        <span class="comment">// Docking: Unhide tab bar (small triangle in the corner), drag from small triangle to quickly undock</span></div>
<div class="line"><a id="l07198" name="l07198"></a><span class="lineno"> 7198</span>        <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node = window-&gt;DockNode;</div>
<div class="line"><a id="l07199" name="l07199"></a><span class="lineno"> 7199</span>        <span class="keywordflow">if</span> (window-&gt;DockIsActive &amp;&amp; node-&gt;IsHiddenTabBar() &amp;&amp; !node-&gt;IsNoTabBar())</div>
<div class="line"><a id="l07200" name="l07200"></a><span class="lineno"> 7200</span>        {</div>
<div class="line"><a id="l07201" name="l07201"></a><span class="lineno"> 7201</span>            <span class="keywordtype">float</span> unhide_sz_draw = ImTrunc(g.FontSize * 0.70f);</div>
<div class="line"><a id="l07202" name="l07202"></a><span class="lineno"> 7202</span>            <span class="keywordtype">float</span> unhide_sz_hit = ImTrunc(g.FontSize * 0.55f);</div>
<div class="line"><a id="l07203" name="l07203"></a><span class="lineno"> 7203</span>            <a class="code hl_struct" href="structImVec2.html">ImVec2</a> p = node-&gt;Pos;</div>
<div class="line"><a id="l07204" name="l07204"></a><span class="lineno"> 7204</span>            <a class="code hl_struct" href="structImRect.html">ImRect</a> r(p, p + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(unhide_sz_hit, unhide_sz_hit));</div>
<div class="line"><a id="l07205" name="l07205"></a><span class="lineno"> 7205</span>            ImGuiID unhide_id = window-&gt;GetID(<span class="stringliteral">&quot;#UNHIDE&quot;</span>);</div>
<div class="line"><a id="l07206" name="l07206"></a><span class="lineno"> 7206</span>            KeepAliveID(unhide_id);</div>
<div class="line"><a id="l07207" name="l07207"></a><span class="lineno"> 7207</span>            <span class="keywordtype">bool</span> hovered, held;</div>
<div class="line"><a id="l07208" name="l07208"></a><span class="lineno"> 7208</span>            <span class="keywordflow">if</span> (ButtonBehavior(r, unhide_id, &amp;hovered, &amp;held, ImGuiButtonFlags_FlattenChildren))</div>
<div class="line"><a id="l07209" name="l07209"></a><span class="lineno"> 7209</span>                node-&gt;WantHiddenTabBarToggle = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07210" name="l07210"></a><span class="lineno"> 7210</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (held &amp;&amp; IsMouseDragging(0))</div>
<div class="line"><a id="l07211" name="l07211"></a><span class="lineno"> 7211</span>                StartMouseMovingWindowOrNode(window, node, <span class="keyword">true</span>); <span class="comment">// Undock from tab-bar triangle = same as window/collapse menu button</span></div>
<div class="line"><a id="l07212" name="l07212"></a><span class="lineno"> 7212</span> </div>
<div class="line"><a id="l07213" name="l07213"></a><span class="lineno"> 7213</span>            <span class="comment">// FIXME-DOCK: Ideally we&#39;d use ImGuiCol_TitleBgActive/ImGuiCol_TitleBg here, but neither is guaranteed to be visible enough at this sort of size..</span></div>
<div class="line"><a id="l07214" name="l07214"></a><span class="lineno"> 7214</span>            ImU32 col = GetColorU32(((held &amp;&amp; hovered) || (node-&gt;IsFocused &amp;&amp; !hovered)) ? ImGuiCol_ButtonActive : hovered ? ImGuiCol_ButtonHovered : ImGuiCol_Button);</div>
<div class="line"><a id="l07215" name="l07215"></a><span class="lineno"> 7215</span>            window-&gt;DrawList-&gt;AddTriangleFilled(p, p + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(unhide_sz_draw, 0.0f), p + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, unhide_sz_draw), col);</div>
<div class="line"><a id="l07216" name="l07216"></a><span class="lineno"> 7216</span>        }</div>
<div class="line"><a id="l07217" name="l07217"></a><span class="lineno"> 7217</span> </div>
<div class="line"><a id="l07218" name="l07218"></a><span class="lineno"> 7218</span>        <span class="comment">// Scrollbars</span></div>
<div class="line"><a id="l07219" name="l07219"></a><span class="lineno"> 7219</span>        <span class="keywordflow">if</span> (window-&gt;ScrollbarX)</div>
<div class="line"><a id="l07220" name="l07220"></a><span class="lineno"> 7220</span>            Scrollbar(ImGuiAxis_X);</div>
<div class="line"><a id="l07221" name="l07221"></a><span class="lineno"> 7221</span>        <span class="keywordflow">if</span> (window-&gt;ScrollbarY)</div>
<div class="line"><a id="l07222" name="l07222"></a><span class="lineno"> 7222</span>            Scrollbar(ImGuiAxis_Y);</div>
<div class="line"><a id="l07223" name="l07223"></a><span class="lineno"> 7223</span> </div>
<div class="line"><a id="l07224" name="l07224"></a><span class="lineno"> 7224</span>        <span class="comment">// Render resize grips (after their input handling so we don&#39;t have a frame of latency)</span></div>
<div class="line"><a id="l07225" name="l07225"></a><span class="lineno"> 7225</span>        <span class="keywordflow">if</span> (handle_borders_and_resize_grips &amp;&amp; !(flags &amp; ImGuiWindowFlags_NoResize))</div>
<div class="line"><a id="l07226" name="l07226"></a><span class="lineno"> 7226</span>        {</div>
<div class="line"><a id="l07227" name="l07227"></a><span class="lineno"> 7227</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> resize_grip_n = 0; resize_grip_n &lt; resize_grip_count; resize_grip_n++)</div>
<div class="line"><a id="l07228" name="l07228"></a><span class="lineno"> 7228</span>            {</div>
<div class="line"><a id="l07229" name="l07229"></a><span class="lineno"> 7229</span>                <span class="keyword">const</span> ImU32 col = resize_grip_col[resize_grip_n];</div>
<div class="line"><a id="l07230" name="l07230"></a><span class="lineno"> 7230</span>                <span class="keywordflow">if</span> ((col &amp; IM_COL32_A_MASK) == 0)</div>
<div class="line"><a id="l07231" name="l07231"></a><span class="lineno"> 7231</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l07232" name="l07232"></a><span class="lineno"> 7232</span>                <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiResizeGripDef.html">ImGuiResizeGripDef</a>&amp; grip = resize_grip_def[resize_grip_n];</div>
<div class="line"><a id="l07233" name="l07233"></a><span class="lineno"> 7233</span>                <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> corner = ImLerp(window-&gt;Pos, window-&gt;Pos + window-&gt;Size, grip.CornerPosN);</div>
<div class="line"><a id="l07234" name="l07234"></a><span class="lineno"> 7234</span>                <span class="keyword">const</span> <span class="keywordtype">float</span> border_inner = IM_ROUND(window_border_size * 0.5f);</div>
<div class="line"><a id="l07235" name="l07235"></a><span class="lineno"> 7235</span>                window-&gt;DrawList-&gt;PathLineTo(corner + grip.InnerDir * ((resize_grip_n &amp; 1) ? <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(border_inner, resize_grip_draw_size) : <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(resize_grip_draw_size, border_inner)));</div>
<div class="line"><a id="l07236" name="l07236"></a><span class="lineno"> 7236</span>                window-&gt;DrawList-&gt;PathLineTo(corner + grip.InnerDir * ((resize_grip_n &amp; 1) ? <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(resize_grip_draw_size, border_inner) : <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(border_inner, resize_grip_draw_size)));</div>
<div class="line"><a id="l07237" name="l07237"></a><span class="lineno"> 7237</span>                window-&gt;DrawList-&gt;PathArcToFast(<a class="code hl_struct" href="structImVec2.html">ImVec2</a>(corner.x + grip.InnerDir.x * (window_rounding + border_inner), corner.y + grip.InnerDir.y * (window_rounding + border_inner)), window_rounding, grip.AngleMin12, grip.AngleMax12);</div>
<div class="line"><a id="l07238" name="l07238"></a><span class="lineno"> 7238</span>                window-&gt;DrawList-&gt;PathFillConvex(col);</div>
<div class="line"><a id="l07239" name="l07239"></a><span class="lineno"> 7239</span>            }</div>
<div class="line"><a id="l07240" name="l07240"></a><span class="lineno"> 7240</span>        }</div>
<div class="line"><a id="l07241" name="l07241"></a><span class="lineno"> 7241</span> </div>
<div class="line"><a id="l07242" name="l07242"></a><span class="lineno"> 7242</span>        <span class="comment">// Borders (for dock node host they will be rendered over after the tab bar)</span></div>
<div class="line"><a id="l07243" name="l07243"></a><span class="lineno"> 7243</span>        <span class="keywordflow">if</span> (handle_borders_and_resize_grips &amp;&amp; !window-&gt;DockNodeAsHost)</div>
<div class="line"><a id="l07244" name="l07244"></a><span class="lineno"> 7244</span>            RenderWindowOuterBorders(window);</div>
<div class="line"><a id="l07245" name="l07245"></a><span class="lineno"> 7245</span>    }</div>
<div class="line"><a id="l07246" name="l07246"></a><span class="lineno"> 7246</span>    window-&gt;DC.NavLayerCurrent = ImGuiNavLayer_Main;</div>
<div class="line"><a id="l07247" name="l07247"></a><span class="lineno"> 7247</span>}</div>
<div class="line"><a id="l07248" name="l07248"></a><span class="lineno"> 7248</span> </div>
<div class="line"><a id="l07249" name="l07249"></a><span class="lineno"> 7249</span><span class="comment">// When inside a dock node, this is handled in DockNodeCalcTabBarLayout() instead.</span></div>
<div class="line"><a id="l07250" name="l07250"></a><span class="lineno"> 7250</span><span class="comment">// Render title text, collapse button, close button</span></div>
<div class="line"><a id="l07251" name="l07251"></a><span class="lineno"> 7251</span><span class="keywordtype">void</span> ImGui::RenderWindowTitleBarContents(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; title_bar_rect, <span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keywordtype">bool</span>* p_open)</div>
<div class="line"><a id="l07252" name="l07252"></a><span class="lineno"> 7252</span>{</div>
<div class="line"><a id="l07253" name="l07253"></a><span class="lineno"> 7253</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l07254" name="l07254"></a><span class="lineno"> 7254</span>    <a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>&amp; style = g.Style;</div>
<div class="line"><a id="l07255" name="l07255"></a><span class="lineno"> 7255</span>    ImGuiWindowFlags flags = window-&gt;Flags;</div>
<div class="line"><a id="l07256" name="l07256"></a><span class="lineno"> 7256</span> </div>
<div class="line"><a id="l07257" name="l07257"></a><span class="lineno"> 7257</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> has_close_button = (p_open != NULL);</div>
<div class="line"><a id="l07258" name="l07258"></a><span class="lineno"> 7258</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> has_collapse_button = !(flags &amp; ImGuiWindowFlags_NoCollapse) &amp;&amp; (style.WindowMenuButtonPosition != ImGuiDir_None);</div>
<div class="line"><a id="l07259" name="l07259"></a><span class="lineno"> 7259</span> </div>
<div class="line"><a id="l07260" name="l07260"></a><span class="lineno"> 7260</span>    <span class="comment">// Close &amp; Collapse button are on the Menu NavLayer and don&#39;t default focus (unless there&#39;s nothing else on that layer)</span></div>
<div class="line"><a id="l07261" name="l07261"></a><span class="lineno"> 7261</span>    <span class="comment">// FIXME-NAV: Might want (or not?) to set the equivalent of ImGuiButtonFlags_NoNavFocus so that mouse clicks on standard title bar items don&#39;t necessarily set nav/keyboard ref?</span></div>
<div class="line"><a id="l07262" name="l07262"></a><span class="lineno"> 7262</span>    <span class="keyword">const</span> ImGuiItemFlags item_flags_backup = g.CurrentItemFlags;</div>
<div class="line"><a id="l07263" name="l07263"></a><span class="lineno"> 7263</span>    g.CurrentItemFlags |= ImGuiItemFlags_NoNavDefaultFocus;</div>
<div class="line"><a id="l07264" name="l07264"></a><span class="lineno"> 7264</span>    window-&gt;DC.NavLayerCurrent = ImGuiNavLayer_Menu;</div>
<div class="line"><a id="l07265" name="l07265"></a><span class="lineno"> 7265</span> </div>
<div class="line"><a id="l07266" name="l07266"></a><span class="lineno"> 7266</span>    <span class="comment">// Layout buttons</span></div>
<div class="line"><a id="l07267" name="l07267"></a><span class="lineno"> 7267</span>    <span class="comment">// FIXME: Would be nice to generalize the subtleties expressed here into reusable code.</span></div>
<div class="line"><a id="l07268" name="l07268"></a><span class="lineno"> 7268</span>    <span class="keywordtype">float</span> pad_l = style.FramePadding.x;</div>
<div class="line"><a id="l07269" name="l07269"></a><span class="lineno"> 7269</span>    <span class="keywordtype">float</span> pad_r = style.FramePadding.x;</div>
<div class="line"><a id="l07270" name="l07270"></a><span class="lineno"> 7270</span>    <span class="keywordtype">float</span> button_sz = g.FontSize;</div>
<div class="line"><a id="l07271" name="l07271"></a><span class="lineno"> 7271</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> close_button_pos;</div>
<div class="line"><a id="l07272" name="l07272"></a><span class="lineno"> 7272</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> collapse_button_pos;</div>
<div class="line"><a id="l07273" name="l07273"></a><span class="lineno"> 7273</span>    <span class="keywordflow">if</span> (has_close_button)</div>
<div class="line"><a id="l07274" name="l07274"></a><span class="lineno"> 7274</span>    {</div>
<div class="line"><a id="l07275" name="l07275"></a><span class="lineno"> 7275</span>        close_button_pos = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(title_bar_rect.Max.x - pad_r - button_sz, title_bar_rect.Min.y + style.FramePadding.y);</div>
<div class="line"><a id="l07276" name="l07276"></a><span class="lineno"> 7276</span>        pad_r += button_sz + style.ItemInnerSpacing.x;</div>
<div class="line"><a id="l07277" name="l07277"></a><span class="lineno"> 7277</span>    }</div>
<div class="line"><a id="l07278" name="l07278"></a><span class="lineno"> 7278</span>    <span class="keywordflow">if</span> (has_collapse_button &amp;&amp; style.WindowMenuButtonPosition == ImGuiDir_Right)</div>
<div class="line"><a id="l07279" name="l07279"></a><span class="lineno"> 7279</span>    {</div>
<div class="line"><a id="l07280" name="l07280"></a><span class="lineno"> 7280</span>        collapse_button_pos = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(title_bar_rect.Max.x - pad_r - button_sz, title_bar_rect.Min.y + style.FramePadding.y);</div>
<div class="line"><a id="l07281" name="l07281"></a><span class="lineno"> 7281</span>        pad_r += button_sz + style.ItemInnerSpacing.x;</div>
<div class="line"><a id="l07282" name="l07282"></a><span class="lineno"> 7282</span>    }</div>
<div class="line"><a id="l07283" name="l07283"></a><span class="lineno"> 7283</span>    <span class="keywordflow">if</span> (has_collapse_button &amp;&amp; style.WindowMenuButtonPosition == ImGuiDir_Left)</div>
<div class="line"><a id="l07284" name="l07284"></a><span class="lineno"> 7284</span>    {</div>
<div class="line"><a id="l07285" name="l07285"></a><span class="lineno"> 7285</span>        collapse_button_pos = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(title_bar_rect.Min.x + pad_l, title_bar_rect.Min.y + style.FramePadding.y);</div>
<div class="line"><a id="l07286" name="l07286"></a><span class="lineno"> 7286</span>        pad_l += button_sz + style.ItemInnerSpacing.x;</div>
<div class="line"><a id="l07287" name="l07287"></a><span class="lineno"> 7287</span>    }</div>
<div class="line"><a id="l07288" name="l07288"></a><span class="lineno"> 7288</span> </div>
<div class="line"><a id="l07289" name="l07289"></a><span class="lineno"> 7289</span>    <span class="comment">// Collapse button (submitting first so it gets priority when choosing a navigation init fallback)</span></div>
<div class="line"><a id="l07290" name="l07290"></a><span class="lineno"> 7290</span>    <span class="keywordflow">if</span> (has_collapse_button)</div>
<div class="line"><a id="l07291" name="l07291"></a><span class="lineno"> 7291</span>        <span class="keywordflow">if</span> (CollapseButton(window-&gt;GetID(<span class="stringliteral">&quot;#COLLAPSE&quot;</span>), collapse_button_pos, NULL))</div>
<div class="line"><a id="l07292" name="l07292"></a><span class="lineno"> 7292</span>            window-&gt;WantCollapseToggle = <span class="keyword">true</span>; <span class="comment">// Defer actual collapsing to next frame as we are too far in the Begin() function</span></div>
<div class="line"><a id="l07293" name="l07293"></a><span class="lineno"> 7293</span> </div>
<div class="line"><a id="l07294" name="l07294"></a><span class="lineno"> 7294</span>    <span class="comment">// Close button</span></div>
<div class="line"><a id="l07295" name="l07295"></a><span class="lineno"> 7295</span>    <span class="keywordflow">if</span> (has_close_button)</div>
<div class="line"><a id="l07296" name="l07296"></a><span class="lineno"> 7296</span>        <span class="keywordflow">if</span> (CloseButton(window-&gt;GetID(<span class="stringliteral">&quot;#CLOSE&quot;</span>), close_button_pos))</div>
<div class="line"><a id="l07297" name="l07297"></a><span class="lineno"> 7297</span>            *p_open = <span class="keyword">false</span>;</div>
<div class="line"><a id="l07298" name="l07298"></a><span class="lineno"> 7298</span> </div>
<div class="line"><a id="l07299" name="l07299"></a><span class="lineno"> 7299</span>    window-&gt;DC.NavLayerCurrent = ImGuiNavLayer_Main;</div>
<div class="line"><a id="l07300" name="l07300"></a><span class="lineno"> 7300</span>    g.CurrentItemFlags = item_flags_backup;</div>
<div class="line"><a id="l07301" name="l07301"></a><span class="lineno"> 7301</span> </div>
<div class="line"><a id="l07302" name="l07302"></a><span class="lineno"> 7302</span>    <span class="comment">// Title bar text (with: horizontal alignment, avoiding collapse/close button, optional &quot;unsaved document&quot; marker)</span></div>
<div class="line"><a id="l07303" name="l07303"></a><span class="lineno"> 7303</span>    <span class="comment">// FIXME: Refactor text alignment facilities along with RenderText helpers, this is WAY too much messy code..</span></div>
<div class="line"><a id="l07304" name="l07304"></a><span class="lineno"> 7304</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> marker_size_x = (flags &amp; ImGuiWindowFlags_UnsavedDocument) ? button_sz * 0.80f : 0.0f;</div>
<div class="line"><a id="l07305" name="l07305"></a><span class="lineno"> 7305</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> text_size = CalcTextSize(name, NULL, <span class="keyword">true</span>) + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(marker_size_x, 0.0f);</div>
<div class="line"><a id="l07306" name="l07306"></a><span class="lineno"> 7306</span> </div>
<div class="line"><a id="l07307" name="l07307"></a><span class="lineno"> 7307</span>    <span class="comment">// As a nice touch we try to ensure that centered title text doesn&#39;t get affected by visibility of Close/Collapse button,</span></div>
<div class="line"><a id="l07308" name="l07308"></a><span class="lineno"> 7308</span>    <span class="comment">// while uncentered title text will still reach edges correctly.</span></div>
<div class="line"><a id="l07309" name="l07309"></a><span class="lineno"> 7309</span>    <span class="keywordflow">if</span> (pad_l &gt; style.FramePadding.x)</div>
<div class="line"><a id="l07310" name="l07310"></a><span class="lineno"> 7310</span>        pad_l += g.Style.ItemInnerSpacing.x;</div>
<div class="line"><a id="l07311" name="l07311"></a><span class="lineno"> 7311</span>    <span class="keywordflow">if</span> (pad_r &gt; style.FramePadding.x)</div>
<div class="line"><a id="l07312" name="l07312"></a><span class="lineno"> 7312</span>        pad_r += g.Style.ItemInnerSpacing.x;</div>
<div class="line"><a id="l07313" name="l07313"></a><span class="lineno"> 7313</span>    <span class="keywordflow">if</span> (style.WindowTitleAlign.x &gt; 0.0f &amp;&amp; style.WindowTitleAlign.x &lt; 1.0f)</div>
<div class="line"><a id="l07314" name="l07314"></a><span class="lineno"> 7314</span>    {</div>
<div class="line"><a id="l07315" name="l07315"></a><span class="lineno"> 7315</span>        <span class="keywordtype">float</span> centerness = ImSaturate(1.0f - ImFabs(style.WindowTitleAlign.x - 0.5f) * 2.0f); <span class="comment">// 0.0f on either edges, 1.0f on center</span></div>
<div class="line"><a id="l07316" name="l07316"></a><span class="lineno"> 7316</span>        <span class="keywordtype">float</span> pad_extend = ImMin(ImMax(pad_l, pad_r), title_bar_rect.GetWidth() - pad_l - pad_r - text_size.x);</div>
<div class="line"><a id="l07317" name="l07317"></a><span class="lineno"> 7317</span>        pad_l = ImMax(pad_l, pad_extend * centerness);</div>
<div class="line"><a id="l07318" name="l07318"></a><span class="lineno"> 7318</span>        pad_r = ImMax(pad_r, pad_extend * centerness);</div>
<div class="line"><a id="l07319" name="l07319"></a><span class="lineno"> 7319</span>    }</div>
<div class="line"><a id="l07320" name="l07320"></a><span class="lineno"> 7320</span> </div>
<div class="line"><a id="l07321" name="l07321"></a><span class="lineno"> 7321</span>    <a class="code hl_struct" href="structImRect.html">ImRect</a> layout_r(title_bar_rect.Min.x + pad_l, title_bar_rect.Min.y, title_bar_rect.Max.x - pad_r, title_bar_rect.Max.y);</div>
<div class="line"><a id="l07322" name="l07322"></a><span class="lineno"> 7322</span>    <a class="code hl_struct" href="structImRect.html">ImRect</a> clip_r(layout_r.Min.x, layout_r.Min.y, ImMin(layout_r.Max.x + g.Style.ItemInnerSpacing.x, title_bar_rect.Max.x), layout_r.Max.y);</div>
<div class="line"><a id="l07323" name="l07323"></a><span class="lineno"> 7323</span>    <span class="keywordflow">if</span> (flags &amp; ImGuiWindowFlags_UnsavedDocument)</div>
<div class="line"><a id="l07324" name="l07324"></a><span class="lineno"> 7324</span>    {</div>
<div class="line"><a id="l07325" name="l07325"></a><span class="lineno"> 7325</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> marker_pos;</div>
<div class="line"><a id="l07326" name="l07326"></a><span class="lineno"> 7326</span>        marker_pos.x = ImClamp(layout_r.Min.x + (layout_r.GetWidth() - text_size.x) * style.WindowTitleAlign.x + text_size.x, layout_r.Min.x, layout_r.Max.x);</div>
<div class="line"><a id="l07327" name="l07327"></a><span class="lineno"> 7327</span>        marker_pos.y = (layout_r.Min.y + layout_r.Max.y) * 0.5f;</div>
<div class="line"><a id="l07328" name="l07328"></a><span class="lineno"> 7328</span>        <span class="keywordflow">if</span> (marker_pos.x &gt; layout_r.Min.x)</div>
<div class="line"><a id="l07329" name="l07329"></a><span class="lineno"> 7329</span>        {</div>
<div class="line"><a id="l07330" name="l07330"></a><span class="lineno"> 7330</span>            RenderBullet(window-&gt;DrawList, marker_pos, GetColorU32(ImGuiCol_Text));</div>
<div class="line"><a id="l07331" name="l07331"></a><span class="lineno"> 7331</span>            clip_r.Max.x = ImMin(clip_r.Max.x, marker_pos.x - (<span class="keywordtype">int</span>)(marker_size_x * 0.5f));</div>
<div class="line"><a id="l07332" name="l07332"></a><span class="lineno"> 7332</span>        }</div>
<div class="line"><a id="l07333" name="l07333"></a><span class="lineno"> 7333</span>    }</div>
<div class="line"><a id="l07334" name="l07334"></a><span class="lineno"> 7334</span>    <span class="comment">//if (g.IO.KeyShift) window-&gt;DrawList-&gt;AddRect(layout_r.Min, layout_r.Max, IM_COL32(255, 128, 0, 255)); // [DEBUG]</span></div>
<div class="line"><a id="l07335" name="l07335"></a><span class="lineno"> 7335</span>    <span class="comment">//if (g.IO.KeyCtrl) window-&gt;DrawList-&gt;AddRect(clip_r.Min, clip_r.Max, IM_COL32(255, 128, 0, 255)); // [DEBUG]</span></div>
<div class="line"><a id="l07336" name="l07336"></a><span class="lineno"> 7336</span>    RenderTextClipped(layout_r.Min, layout_r.Max, name, NULL, &amp;text_size, style.WindowTitleAlign, &amp;clip_r);</div>
<div class="line"><a id="l07337" name="l07337"></a><span class="lineno"> 7337</span>}</div>
<div class="line"><a id="l07338" name="l07338"></a><span class="lineno"> 7338</span> </div>
<div class="line"><a id="l07339" name="l07339"></a><span class="lineno"> 7339</span><span class="keywordtype">void</span> ImGui::UpdateWindowParentAndRootLinks(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, ImGuiWindowFlags flags, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* parent_window)</div>
<div class="line"><a id="l07340" name="l07340"></a><span class="lineno"> 7340</span>{</div>
<div class="line"><a id="l07341" name="l07341"></a><span class="lineno"> 7341</span>    window-&gt;ParentWindow = parent_window;</div>
<div class="line"><a id="l07342" name="l07342"></a><span class="lineno"> 7342</span>    window-&gt;RootWindow = window-&gt;RootWindowPopupTree = window-&gt;RootWindowDockTree = window-&gt;RootWindowForTitleBarHighlight = window-&gt;RootWindowForNav = window;</div>
<div class="line"><a id="l07343" name="l07343"></a><span class="lineno"> 7343</span>    <span class="keywordflow">if</span> (parent_window &amp;&amp; (flags &amp; ImGuiWindowFlags_ChildWindow) &amp;&amp; !(flags &amp; ImGuiWindowFlags_Tooltip))</div>
<div class="line"><a id="l07344" name="l07344"></a><span class="lineno"> 7344</span>    {</div>
<div class="line"><a id="l07345" name="l07345"></a><span class="lineno"> 7345</span>        window-&gt;RootWindowDockTree = parent_window-&gt;RootWindowDockTree;</div>
<div class="line"><a id="l07346" name="l07346"></a><span class="lineno"> 7346</span>        <span class="keywordflow">if</span> (!window-&gt;DockIsActive &amp;&amp; !(parent_window-&gt;Flags &amp; ImGuiWindowFlags_DockNodeHost))</div>
<div class="line"><a id="l07347" name="l07347"></a><span class="lineno"> 7347</span>            window-&gt;RootWindow = parent_window-&gt;RootWindow;</div>
<div class="line"><a id="l07348" name="l07348"></a><span class="lineno"> 7348</span>    }</div>
<div class="line"><a id="l07349" name="l07349"></a><span class="lineno"> 7349</span>    <span class="keywordflow">if</span> (parent_window &amp;&amp; (flags &amp; ImGuiWindowFlags_Popup))</div>
<div class="line"><a id="l07350" name="l07350"></a><span class="lineno"> 7350</span>        window-&gt;RootWindowPopupTree = parent_window-&gt;RootWindowPopupTree;</div>
<div class="line"><a id="l07351" name="l07351"></a><span class="lineno"> 7351</span>    <span class="keywordflow">if</span> (parent_window &amp;&amp; !(flags &amp; ImGuiWindowFlags_Modal) &amp;&amp; (flags &amp; (ImGuiWindowFlags_ChildWindow | ImGuiWindowFlags_Popup))) <span class="comment">// FIXME: simply use _NoTitleBar ?</span></div>
<div class="line"><a id="l07352" name="l07352"></a><span class="lineno"> 7352</span>        window-&gt;RootWindowForTitleBarHighlight = parent_window-&gt;RootWindowForTitleBarHighlight;</div>
<div class="line"><a id="l07353" name="l07353"></a><span class="lineno"> 7353</span>    <span class="keywordflow">while</span> (window-&gt;RootWindowForNav-&gt;ChildFlags &amp; ImGuiChildFlags_NavFlattened)</div>
<div class="line"><a id="l07354" name="l07354"></a><span class="lineno"> 7354</span>    {</div>
<div class="line"><a id="l07355" name="l07355"></a><span class="lineno"> 7355</span>        IM_ASSERT(window-&gt;RootWindowForNav-&gt;ParentWindow != NULL);</div>
<div class="line"><a id="l07356" name="l07356"></a><span class="lineno"> 7356</span>        window-&gt;RootWindowForNav = window-&gt;RootWindowForNav-&gt;ParentWindow;</div>
<div class="line"><a id="l07357" name="l07357"></a><span class="lineno"> 7357</span>    }</div>
<div class="line"><a id="l07358" name="l07358"></a><span class="lineno"> 7358</span>}</div>
<div class="line"><a id="l07359" name="l07359"></a><span class="lineno"> 7359</span> </div>
<div class="line"><a id="l07360" name="l07360"></a><span class="lineno"> 7360</span><span class="comment">// [EXPERIMENTAL] Called by Begin(). NextWindowData is valid at this point.</span></div>
<div class="line"><a id="l07361" name="l07361"></a><span class="lineno"> 7361</span><span class="comment">// This is designed as a toy/test-bed for</span></div>
<div class="line"><a id="l07362" name="l07362"></a><span class="lineno"> 7362</span><span class="keywordtype">void</span> ImGui::UpdateWindowSkipRefresh(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l07363" name="l07363"></a><span class="lineno"> 7363</span>{</div>
<div class="line"><a id="l07364" name="l07364"></a><span class="lineno"> 7364</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l07365" name="l07365"></a><span class="lineno"> 7365</span>    window-&gt;SkipRefresh = <span class="keyword">false</span>;</div>
<div class="line"><a id="l07366" name="l07366"></a><span class="lineno"> 7366</span>    <span class="keywordflow">if</span> ((g.NextWindowData.HasFlags &amp; ImGuiNextWindowDataFlags_HasRefreshPolicy) == 0)</div>
<div class="line"><a id="l07367" name="l07367"></a><span class="lineno"> 7367</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l07368" name="l07368"></a><span class="lineno"> 7368</span>    <span class="keywordflow">if</span> (g.NextWindowData.RefreshFlagsVal &amp; ImGuiWindowRefreshFlags_TryToAvoidRefresh)</div>
<div class="line"><a id="l07369" name="l07369"></a><span class="lineno"> 7369</span>    {</div>
<div class="line"><a id="l07370" name="l07370"></a><span class="lineno"> 7370</span>        <span class="comment">// FIXME-IDLE: Tests for e.g. mouse clicks or keyboard while focused.</span></div>
<div class="line"><a id="l07371" name="l07371"></a><span class="lineno"> 7371</span>        <span class="keywordflow">if</span> (window-&gt;Appearing) <span class="comment">// If currently appearing</span></div>
<div class="line"><a id="l07372" name="l07372"></a><span class="lineno"> 7372</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l07373" name="l07373"></a><span class="lineno"> 7373</span>        <span class="keywordflow">if</span> (window-&gt;Hidden) <span class="comment">// If was hidden (previous frame)</span></div>
<div class="line"><a id="l07374" name="l07374"></a><span class="lineno"> 7374</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l07375" name="l07375"></a><span class="lineno"> 7375</span>        <span class="keywordflow">if</span> ((g.NextWindowData.RefreshFlagsVal &amp; ImGuiWindowRefreshFlags_RefreshOnHover) &amp;&amp; g.HoveredWindow)</div>
<div class="line"><a id="l07376" name="l07376"></a><span class="lineno"> 7376</span>            <span class="keywordflow">if</span> (window-&gt;RootWindow == g.HoveredWindow-&gt;RootWindow || IsWindowWithinBeginStackOf(g.HoveredWindow-&gt;RootWindow, window))</div>
<div class="line"><a id="l07377" name="l07377"></a><span class="lineno"> 7377</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l07378" name="l07378"></a><span class="lineno"> 7378</span>        <span class="keywordflow">if</span> ((g.NextWindowData.RefreshFlagsVal &amp; ImGuiWindowRefreshFlags_RefreshOnFocus) &amp;&amp; g.NavWindow)</div>
<div class="line"><a id="l07379" name="l07379"></a><span class="lineno"> 7379</span>            <span class="keywordflow">if</span> (window-&gt;RootWindow == g.NavWindow-&gt;RootWindow || IsWindowWithinBeginStackOf(g.NavWindow-&gt;RootWindow, window))</div>
<div class="line"><a id="l07380" name="l07380"></a><span class="lineno"> 7380</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l07381" name="l07381"></a><span class="lineno"> 7381</span>        window-&gt;DrawList = NULL;</div>
<div class="line"><a id="l07382" name="l07382"></a><span class="lineno"> 7382</span>        window-&gt;SkipRefresh = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07383" name="l07383"></a><span class="lineno"> 7383</span>    }</div>
<div class="line"><a id="l07384" name="l07384"></a><span class="lineno"> 7384</span>}</div>
<div class="line"><a id="l07385" name="l07385"></a><span class="lineno"> 7385</span> </div>
<div class="line"><a id="l07386" name="l07386"></a><span class="lineno"> 7386</span><span class="keyword">static</span> <span class="keywordtype">void</span> SetWindowActiveForSkipRefresh(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l07387" name="l07387"></a><span class="lineno"> 7387</span>{</div>
<div class="line"><a id="l07388" name="l07388"></a><span class="lineno"> 7388</span>    window-&gt;Active = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07389" name="l07389"></a><span class="lineno"> 7389</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* child : window-&gt;DC.ChildWindows)</div>
<div class="line"><a id="l07390" name="l07390"></a><span class="lineno"> 7390</span>        if (!child-&gt;Hidden)</div>
<div class="line"><a id="l07391" name="l07391"></a><span class="lineno"> 7391</span>        {</div>
<div class="line"><a id="l07392" name="l07392"></a><span class="lineno"> 7392</span>            child-&gt;Active = child-&gt;SkipRefresh = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07393" name="l07393"></a><span class="lineno"> 7393</span>            SetWindowActiveForSkipRefresh(child);</div>
<div class="line"><a id="l07394" name="l07394"></a><span class="lineno"> 7394</span>        }</div>
<div class="line"><a id="l07395" name="l07395"></a><span class="lineno"> 7395</span>}</div>
<div class="line"><a id="l07396" name="l07396"></a><span class="lineno"> 7396</span> </div>
<div class="line"><a id="l07397" name="l07397"></a><span class="lineno"> 7397</span><span class="comment">// Push a new Dear ImGui window to add widgets to.</span></div>
<div class="line"><a id="l07398" name="l07398"></a><span class="lineno"> 7398</span><span class="comment">// - A default window called &quot;Debug&quot; is automatically stacked at the beginning of every frame so you can use widgets without explicitly calling a Begin/End pair.</span></div>
<div class="line"><a id="l07399" name="l07399"></a><span class="lineno"> 7399</span><span class="comment">// - Begin/End can be called multiple times during the frame with the same window name to append content.</span></div>
<div class="line"><a id="l07400" name="l07400"></a><span class="lineno"> 7400</span><span class="comment">// - The window name is used as a unique identifier to preserve window information across frames (and save rudimentary information to the .ini file).</span></div>
<div class="line"><a id="l07401" name="l07401"></a><span class="lineno"> 7401</span><span class="comment">//   You can use the &quot;##&quot; or &quot;###&quot; markers to use the same label with different id, or same id with different label. See documentation at the top of this file.</span></div>
<div class="line"><a id="l07402" name="l07402"></a><span class="lineno"> 7402</span><span class="comment">// - Return false when window is collapsed, so you can early out in your code. You always need to call ImGui::End() even if false is returned.</span></div>
<div class="line"><a id="l07403" name="l07403"></a><span class="lineno"> 7403</span><span class="comment">// - Passing &#39;bool* p_open&#39; displays a Close button on the upper-right corner of the window, the pointed value will be set to false when the button is pressed.</span></div>
<div class="line"><a id="l07404" name="l07404"></a><span class="lineno"> 7404</span><span class="keywordtype">bool</span> ImGui::Begin(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keywordtype">bool</span>* p_open, ImGuiWindowFlags flags)</div>
<div class="line"><a id="l07405" name="l07405"></a><span class="lineno"> 7405</span>{</div>
<div class="line"><a id="l07406" name="l07406"></a><span class="lineno"> 7406</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l07407" name="l07407"></a><span class="lineno"> 7407</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>&amp; style = g.Style;</div>
<div class="line"><a id="l07408" name="l07408"></a><span class="lineno"> 7408</span>    IM_ASSERT(name != NULL &amp;&amp; name[0] != <span class="charliteral">&#39;\0&#39;</span>);     <span class="comment">// Window name required</span></div>
<div class="line"><a id="l07409" name="l07409"></a><span class="lineno"> 7409</span>    IM_ASSERT(g.WithinFrameScope);                  <span class="comment">// Forgot to call ImGui::NewFrame()</span></div>
<div class="line"><a id="l07410" name="l07410"></a><span class="lineno"> 7410</span>    IM_ASSERT(g.FrameCountEnded != g.FrameCount);   <span class="comment">// Called ImGui::Render() or ImGui::EndFrame() and haven&#39;t called ImGui::NewFrame() again yet</span></div>
<div class="line"><a id="l07411" name="l07411"></a><span class="lineno"> 7411</span> </div>
<div class="line"><a id="l07412" name="l07412"></a><span class="lineno"> 7412</span>    <span class="comment">// Find or create</span></div>
<div class="line"><a id="l07413" name="l07413"></a><span class="lineno"> 7413</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = FindWindowByName(name);</div>
<div class="line"><a id="l07414" name="l07414"></a><span class="lineno"> 7414</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> window_just_created = (window == NULL);</div>
<div class="line"><a id="l07415" name="l07415"></a><span class="lineno"> 7415</span>    <span class="keywordflow">if</span> (window_just_created)</div>
<div class="line"><a id="l07416" name="l07416"></a><span class="lineno"> 7416</span>        window = CreateNewWindow(name, flags);</div>
<div class="line"><a id="l07417" name="l07417"></a><span class="lineno"> 7417</span> </div>
<div class="line"><a id="l07418" name="l07418"></a><span class="lineno"> 7418</span>    <span class="comment">// [DEBUG] Debug break requested by user</span></div>
<div class="line"><a id="l07419" name="l07419"></a><span class="lineno"> 7419</span>    <span class="keywordflow">if</span> (g.DebugBreakInWindow == window-&gt;ID)</div>
<div class="line"><a id="l07420" name="l07420"></a><span class="lineno"> 7420</span>        IM_DEBUG_BREAK();</div>
<div class="line"><a id="l07421" name="l07421"></a><span class="lineno"> 7421</span> </div>
<div class="line"><a id="l07422" name="l07422"></a><span class="lineno"> 7422</span>    <span class="comment">// Automatically disable manual moving/resizing when NoInputs is set</span></div>
<div class="line"><a id="l07423" name="l07423"></a><span class="lineno"> 7423</span>    <span class="keywordflow">if</span> ((flags &amp; ImGuiWindowFlags_NoInputs) == ImGuiWindowFlags_NoInputs)</div>
<div class="line"><a id="l07424" name="l07424"></a><span class="lineno"> 7424</span>        flags |= ImGuiWindowFlags_NoMove | ImGuiWindowFlags_NoResize;</div>
<div class="line"><a id="l07425" name="l07425"></a><span class="lineno"> 7425</span> </div>
<div class="line"><a id="l07426" name="l07426"></a><span class="lineno"> 7426</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> current_frame = g.FrameCount;</div>
<div class="line"><a id="l07427" name="l07427"></a><span class="lineno"> 7427</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> first_begin_of_the_frame = (window-&gt;LastFrameActive != current_frame);</div>
<div class="line"><a id="l07428" name="l07428"></a><span class="lineno"> 7428</span>    window-&gt;IsFallbackWindow = (g.CurrentWindowStack.Size == 0 &amp;&amp; g.WithinFrameScopeWithImplicitWindow);</div>
<div class="line"><a id="l07429" name="l07429"></a><span class="lineno"> 7429</span> </div>
<div class="line"><a id="l07430" name="l07430"></a><span class="lineno"> 7430</span>    <span class="comment">// Update the Appearing flag (note: the BeginDocked() path may also set this to true later)</span></div>
<div class="line"><a id="l07431" name="l07431"></a><span class="lineno"> 7431</span>    <span class="keywordtype">bool</span> window_just_activated_by_user = (window-&gt;LastFrameActive &lt; current_frame - 1); <span class="comment">// Not using !WasActive because the implicit &quot;Debug&quot; window would always toggle off-&gt;on</span></div>
<div class="line"><a id="l07432" name="l07432"></a><span class="lineno"> 7432</span>    <span class="keywordflow">if</span> (flags &amp; ImGuiWindowFlags_Popup)</div>
<div class="line"><a id="l07433" name="l07433"></a><span class="lineno"> 7433</span>    {</div>
<div class="line"><a id="l07434" name="l07434"></a><span class="lineno"> 7434</span>        <a class="code hl_struct" href="structImGuiPopupData.html">ImGuiPopupData</a>&amp; popup_ref = g.OpenPopupStack[g.BeginPopupStack.Size];</div>
<div class="line"><a id="l07435" name="l07435"></a><span class="lineno"> 7435</span>        window_just_activated_by_user |= (window-&gt;PopupId != popup_ref.PopupId); <span class="comment">// We recycle popups so treat window as activated if popup id changed</span></div>
<div class="line"><a id="l07436" name="l07436"></a><span class="lineno"> 7436</span>        window_just_activated_by_user |= (window != popup_ref.Window);</div>
<div class="line"><a id="l07437" name="l07437"></a><span class="lineno"> 7437</span>    }</div>
<div class="line"><a id="l07438" name="l07438"></a><span class="lineno"> 7438</span> </div>
<div class="line"><a id="l07439" name="l07439"></a><span class="lineno"> 7439</span>    <span class="comment">// Update Flags, LastFrameActive, BeginOrderXXX fields</span></div>
<div class="line"><a id="l07440" name="l07440"></a><span class="lineno"> 7440</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> window_was_appearing = window-&gt;Appearing;</div>
<div class="line"><a id="l07441" name="l07441"></a><span class="lineno"> 7441</span>    <span class="keywordflow">if</span> (first_begin_of_the_frame)</div>
<div class="line"><a id="l07442" name="l07442"></a><span class="lineno"> 7442</span>    {</div>
<div class="line"><a id="l07443" name="l07443"></a><span class="lineno"> 7443</span>        UpdateWindowInFocusOrderList(window, window_just_created, flags);</div>
<div class="line"><a id="l07444" name="l07444"></a><span class="lineno"> 7444</span>        window-&gt;Appearing = window_just_activated_by_user;</div>
<div class="line"><a id="l07445" name="l07445"></a><span class="lineno"> 7445</span>        <span class="keywordflow">if</span> (window-&gt;Appearing)</div>
<div class="line"><a id="l07446" name="l07446"></a><span class="lineno"> 7446</span>            SetWindowConditionAllowFlags(window, ImGuiCond_Appearing, <span class="keyword">true</span>);</div>
<div class="line"><a id="l07447" name="l07447"></a><span class="lineno"> 7447</span>        window-&gt;FlagsPreviousFrame = window-&gt;Flags;</div>
<div class="line"><a id="l07448" name="l07448"></a><span class="lineno"> 7448</span>        window-&gt;Flags = (ImGuiWindowFlags)flags;</div>
<div class="line"><a id="l07449" name="l07449"></a><span class="lineno"> 7449</span>        window-&gt;ChildFlags = (g.NextWindowData.HasFlags &amp; ImGuiNextWindowDataFlags_HasChildFlags) ? g.NextWindowData.ChildFlags : 0;</div>
<div class="line"><a id="l07450" name="l07450"></a><span class="lineno"> 7450</span>        window-&gt;LastFrameActive = current_frame;</div>
<div class="line"><a id="l07451" name="l07451"></a><span class="lineno"> 7451</span>        window-&gt;LastTimeActive = (float)g.Time;</div>
<div class="line"><a id="l07452" name="l07452"></a><span class="lineno"> 7452</span>        window-&gt;BeginOrderWithinParent = 0;</div>
<div class="line"><a id="l07453" name="l07453"></a><span class="lineno"> 7453</span>        window-&gt;BeginOrderWithinContext = (short)(g.WindowsActiveCount++);</div>
<div class="line"><a id="l07454" name="l07454"></a><span class="lineno"> 7454</span>    }</div>
<div class="line"><a id="l07455" name="l07455"></a><span class="lineno"> 7455</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l07456" name="l07456"></a><span class="lineno"> 7456</span>    {</div>
<div class="line"><a id="l07457" name="l07457"></a><span class="lineno"> 7457</span>        flags = window-&gt;Flags;</div>
<div class="line"><a id="l07458" name="l07458"></a><span class="lineno"> 7458</span>    }</div>
<div class="line"><a id="l07459" name="l07459"></a><span class="lineno"> 7459</span> </div>
<div class="line"><a id="l07460" name="l07460"></a><span class="lineno"> 7460</span>    <span class="comment">// Docking</span></div>
<div class="line"><a id="l07461" name="l07461"></a><span class="lineno"> 7461</span>    <span class="comment">// (NB: during the frame dock nodes are created, it is possible that (window-&gt;DockIsActive == false) even though (window-&gt;DockNode-&gt;Windows.Size &gt; 1)</span></div>
<div class="line"><a id="l07462" name="l07462"></a><span class="lineno"> 7462</span>    IM_ASSERT(window-&gt;DockNode == NULL || window-&gt;DockNodeAsHost == NULL); <span class="comment">// Cannot be both</span></div>
<div class="line"><a id="l07463" name="l07463"></a><span class="lineno"> 7463</span>    <span class="keywordflow">if</span> (g.NextWindowData.HasFlags &amp; ImGuiNextWindowDataFlags_HasDock)</div>
<div class="line"><a id="l07464" name="l07464"></a><span class="lineno"> 7464</span>        SetWindowDock(window, g.NextWindowData.DockId, g.NextWindowData.DockCond);</div>
<div class="line"><a id="l07465" name="l07465"></a><span class="lineno"> 7465</span>    <span class="keywordflow">if</span> (first_begin_of_the_frame)</div>
<div class="line"><a id="l07466" name="l07466"></a><span class="lineno"> 7466</span>    {</div>
<div class="line"><a id="l07467" name="l07467"></a><span class="lineno"> 7467</span>        <span class="keywordtype">bool</span> has_dock_node = (window-&gt;DockId != 0 || window-&gt;DockNode != NULL);</div>
<div class="line"><a id="l07468" name="l07468"></a><span class="lineno"> 7468</span>        <span class="keywordtype">bool</span> new_auto_dock_node = !has_dock_node &amp;&amp; GetWindowAlwaysWantOwnTabBar(window);</div>
<div class="line"><a id="l07469" name="l07469"></a><span class="lineno"> 7469</span>        <span class="keywordtype">bool</span> dock_node_was_visible = window-&gt;DockNodeIsVisible;</div>
<div class="line"><a id="l07470" name="l07470"></a><span class="lineno"> 7470</span>        <span class="keywordtype">bool</span> dock_tab_was_visible = window-&gt;DockTabIsVisible;</div>
<div class="line"><a id="l07471" name="l07471"></a><span class="lineno"> 7471</span>        <span class="keywordflow">if</span> (has_dock_node || new_auto_dock_node)</div>
<div class="line"><a id="l07472" name="l07472"></a><span class="lineno"> 7472</span>        {</div>
<div class="line"><a id="l07473" name="l07473"></a><span class="lineno"> 7473</span>            BeginDocked(window, p_open);</div>
<div class="line"><a id="l07474" name="l07474"></a><span class="lineno"> 7474</span>            flags = window-&gt;Flags;</div>
<div class="line"><a id="l07475" name="l07475"></a><span class="lineno"> 7475</span>            <span class="keywordflow">if</span> (window-&gt;DockIsActive)</div>
<div class="line"><a id="l07476" name="l07476"></a><span class="lineno"> 7476</span>            {</div>
<div class="line"><a id="l07477" name="l07477"></a><span class="lineno"> 7477</span>                IM_ASSERT(window-&gt;DockNode != NULL);</div>
<div class="line"><a id="l07478" name="l07478"></a><span class="lineno"> 7478</span>                g.NextWindowData.HasFlags &amp;= ~ImGuiNextWindowDataFlags_HasSizeConstraint; <span class="comment">// Docking currently override constraints</span></div>
<div class="line"><a id="l07479" name="l07479"></a><span class="lineno"> 7479</span>            }</div>
<div class="line"><a id="l07480" name="l07480"></a><span class="lineno"> 7480</span> </div>
<div class="line"><a id="l07481" name="l07481"></a><span class="lineno"> 7481</span>            <span class="comment">// Amend the Appearing flag</span></div>
<div class="line"><a id="l07482" name="l07482"></a><span class="lineno"> 7482</span>            <span class="keywordflow">if</span> (window-&gt;DockTabIsVisible &amp;&amp; !dock_tab_was_visible &amp;&amp; dock_node_was_visible &amp;&amp; !window-&gt;Appearing &amp;&amp; !window_was_appearing)</div>
<div class="line"><a id="l07483" name="l07483"></a><span class="lineno"> 7483</span>            {</div>
<div class="line"><a id="l07484" name="l07484"></a><span class="lineno"> 7484</span>                window-&gt;Appearing = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07485" name="l07485"></a><span class="lineno"> 7485</span>                SetWindowConditionAllowFlags(window, ImGuiCond_Appearing, <span class="keyword">true</span>);</div>
<div class="line"><a id="l07486" name="l07486"></a><span class="lineno"> 7486</span>            }</div>
<div class="line"><a id="l07487" name="l07487"></a><span class="lineno"> 7487</span>        }</div>
<div class="line"><a id="l07488" name="l07488"></a><span class="lineno"> 7488</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l07489" name="l07489"></a><span class="lineno"> 7489</span>        {</div>
<div class="line"><a id="l07490" name="l07490"></a><span class="lineno"> 7490</span>            window-&gt;DockIsActive = window-&gt;DockNodeIsVisible = window-&gt;DockTabIsVisible = <span class="keyword">false</span>;</div>
<div class="line"><a id="l07491" name="l07491"></a><span class="lineno"> 7491</span>        }</div>
<div class="line"><a id="l07492" name="l07492"></a><span class="lineno"> 7492</span>    }</div>
<div class="line"><a id="l07493" name="l07493"></a><span class="lineno"> 7493</span> </div>
<div class="line"><a id="l07494" name="l07494"></a><span class="lineno"> 7494</span>    <span class="comment">// Parent window is latched only on the first call to Begin() of the frame, so further append-calls can be done from a different window stack</span></div>
<div class="line"><a id="l07495" name="l07495"></a><span class="lineno"> 7495</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* parent_window_in_stack = (window-&gt;DockIsActive &amp;&amp; window-&gt;DockNode-&gt;HostWindow) ? window-&gt;DockNode-&gt;HostWindow : g.CurrentWindowStack.empty() ? NULL : g.CurrentWindowStack.back().Window;</div>
<div class="line"><a id="l07496" name="l07496"></a><span class="lineno"> 7496</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* parent_window = first_begin_of_the_frame ? ((flags &amp; (ImGuiWindowFlags_ChildWindow | ImGuiWindowFlags_Popup)) ? parent_window_in_stack : NULL) : window-&gt;ParentWindow;</div>
<div class="line"><a id="l07497" name="l07497"></a><span class="lineno"> 7497</span>    IM_ASSERT(parent_window != NULL || !(flags &amp; ImGuiWindowFlags_ChildWindow));</div>
<div class="line"><a id="l07498" name="l07498"></a><span class="lineno"> 7498</span> </div>
<div class="line"><a id="l07499" name="l07499"></a><span class="lineno"> 7499</span>    <span class="comment">// We allow window memory to be compacted so recreate the base stack when needed.</span></div>
<div class="line"><a id="l07500" name="l07500"></a><span class="lineno"> 7500</span>    <span class="keywordflow">if</span> (window-&gt;IDStack.Size == 0)</div>
<div class="line"><a id="l07501" name="l07501"></a><span class="lineno"> 7501</span>        window-&gt;IDStack.push_back(window-&gt;ID);</div>
<div class="line"><a id="l07502" name="l07502"></a><span class="lineno"> 7502</span> </div>
<div class="line"><a id="l07503" name="l07503"></a><span class="lineno"> 7503</span>    <span class="comment">// Add to stack</span></div>
<div class="line"><a id="l07504" name="l07504"></a><span class="lineno"> 7504</span>    g.CurrentWindow = window;</div>
<div class="line"><a id="l07505" name="l07505"></a><span class="lineno"> 7505</span>    g.CurrentWindowStack.resize(g.CurrentWindowStack.Size + 1);</div>
<div class="line"><a id="l07506" name="l07506"></a><span class="lineno"> 7506</span>    <a class="code hl_struct" href="structImGuiWindowStackData.html">ImGuiWindowStackData</a>&amp; window_stack_data = g.CurrentWindowStack.back();</div>
<div class="line"><a id="l07507" name="l07507"></a><span class="lineno"> 7507</span>    window_stack_data.Window = window;</div>
<div class="line"><a id="l07508" name="l07508"></a><span class="lineno"> 7508</span>    window_stack_data.ParentLastItemDataBackup = g.LastItemData;</div>
<div class="line"><a id="l07509" name="l07509"></a><span class="lineno"> 7509</span>    window_stack_data.DisabledOverrideReenable = (flags &amp; ImGuiWindowFlags_Tooltip) &amp;&amp; (g.CurrentItemFlags &amp; ImGuiItemFlags_Disabled);</div>
<div class="line"><a id="l07510" name="l07510"></a><span class="lineno"> 7510</span>    window_stack_data.DisabledOverrideReenableAlphaBackup = 0.0f;</div>
<div class="line"><a id="l07511" name="l07511"></a><span class="lineno"> 7511</span>    ErrorRecoveryStoreState(&amp;window_stack_data.StackSizesInBegin);</div>
<div class="line"><a id="l07512" name="l07512"></a><span class="lineno"> 7512</span>    g.StackSizesInBeginForCurrentWindow = &amp;window_stack_data.StackSizesInBegin;</div>
<div class="line"><a id="l07513" name="l07513"></a><span class="lineno"> 7513</span>    <span class="keywordflow">if</span> (flags &amp; ImGuiWindowFlags_ChildMenu)</div>
<div class="line"><a id="l07514" name="l07514"></a><span class="lineno"> 7514</span>        g.BeginMenuDepth++;</div>
<div class="line"><a id="l07515" name="l07515"></a><span class="lineno"> 7515</span> </div>
<div class="line"><a id="l07516" name="l07516"></a><span class="lineno"> 7516</span>    <span class="comment">// Update -&gt;RootWindow and others pointers (before any possible call to FocusWindow)</span></div>
<div class="line"><a id="l07517" name="l07517"></a><span class="lineno"> 7517</span>    <span class="keywordflow">if</span> (first_begin_of_the_frame)</div>
<div class="line"><a id="l07518" name="l07518"></a><span class="lineno"> 7518</span>    {</div>
<div class="line"><a id="l07519" name="l07519"></a><span class="lineno"> 7519</span>        UpdateWindowParentAndRootLinks(window, flags, parent_window);</div>
<div class="line"><a id="l07520" name="l07520"></a><span class="lineno"> 7520</span>        window-&gt;ParentWindowInBeginStack = parent_window_in_stack;</div>
<div class="line"><a id="l07521" name="l07521"></a><span class="lineno"> 7521</span> </div>
<div class="line"><a id="l07522" name="l07522"></a><span class="lineno"> 7522</span>        <span class="comment">// Focus route</span></div>
<div class="line"><a id="l07523" name="l07523"></a><span class="lineno"> 7523</span>        <span class="comment">// There&#39;s little point to expose a flag to set this: because the interesting cases won&#39;t be using parent_window_in_stack,</span></div>
<div class="line"><a id="l07524" name="l07524"></a><span class="lineno"> 7524</span>        <span class="comment">// Use for e.g. linking a tool window in a standalone viewport to a document window, regardless of their Begin() stack parenting. (#6798)</span></div>
<div class="line"><a id="l07525" name="l07525"></a><span class="lineno"> 7525</span>        window-&gt;ParentWindowForFocusRoute = (window-&gt;RootWindow != window) ? parent_window_in_stack : NULL;</div>
<div class="line"><a id="l07526" name="l07526"></a><span class="lineno"> 7526</span>        <span class="keywordflow">if</span> (window-&gt;ParentWindowForFocusRoute == NULL &amp;&amp; window-&gt;DockNode != NULL)</div>
<div class="line"><a id="l07527" name="l07527"></a><span class="lineno"> 7527</span>            <span class="keywordflow">if</span> (window-&gt;DockNode-&gt;MergedFlags &amp; ImGuiDockNodeFlags_DockedWindowsInFocusRoute)</div>
<div class="line"><a id="l07528" name="l07528"></a><span class="lineno"> 7528</span>                window-&gt;ParentWindowForFocusRoute = window-&gt;DockNode-&gt;HostWindow;</div>
<div class="line"><a id="l07529" name="l07529"></a><span class="lineno"> 7529</span> </div>
<div class="line"><a id="l07530" name="l07530"></a><span class="lineno"> 7530</span>        <span class="comment">// Override with SetNextWindowClass() field or direct call to SetWindowParentWindowForFocusRoute()</span></div>
<div class="line"><a id="l07531" name="l07531"></a><span class="lineno"> 7531</span>        <span class="keywordflow">if</span> (window-&gt;WindowClass.FocusRouteParentWindowId != 0)</div>
<div class="line"><a id="l07532" name="l07532"></a><span class="lineno"> 7532</span>        {</div>
<div class="line"><a id="l07533" name="l07533"></a><span class="lineno"> 7533</span>            window-&gt;ParentWindowForFocusRoute = FindWindowByID(window-&gt;WindowClass.FocusRouteParentWindowId);</div>
<div class="line"><a id="l07534" name="l07534"></a><span class="lineno"> 7534</span>            IM_ASSERT(window-&gt;ParentWindowForFocusRoute != 0); <span class="comment">// Invalid value for FocusRouteParentWindowId.</span></div>
<div class="line"><a id="l07535" name="l07535"></a><span class="lineno"> 7535</span>        }</div>
<div class="line"><a id="l07536" name="l07536"></a><span class="lineno"> 7536</span> </div>
<div class="line"><a id="l07537" name="l07537"></a><span class="lineno"> 7537</span>        <span class="comment">// Inherit SetWindowFontScale() from parent until we fix this system...</span></div>
<div class="line"><a id="l07538" name="l07538"></a><span class="lineno"> 7538</span>        window-&gt;FontWindowScaleParents = parent_window ? parent_window-&gt;FontWindowScaleParents * parent_window-&gt;FontWindowScale : 1.0f;</div>
<div class="line"><a id="l07539" name="l07539"></a><span class="lineno"> 7539</span>    }</div>
<div class="line"><a id="l07540" name="l07540"></a><span class="lineno"> 7540</span> </div>
<div class="line"><a id="l07541" name="l07541"></a><span class="lineno"> 7541</span>    <span class="comment">// Add to focus scope stack</span></div>
<div class="line"><a id="l07542" name="l07542"></a><span class="lineno"> 7542</span>    PushFocusScope((window-&gt;ChildFlags &amp; ImGuiChildFlags_NavFlattened) ? g.CurrentFocusScopeId : window-&gt;ID);</div>
<div class="line"><a id="l07543" name="l07543"></a><span class="lineno"> 7543</span>    window-&gt;NavRootFocusScopeId = g.CurrentFocusScopeId;</div>
<div class="line"><a id="l07544" name="l07544"></a><span class="lineno"> 7544</span> </div>
<div class="line"><a id="l07545" name="l07545"></a><span class="lineno"> 7545</span>    <span class="comment">// Add to popup stacks: update OpenPopupStack[] data, push to BeginPopupStack[]</span></div>
<div class="line"><a id="l07546" name="l07546"></a><span class="lineno"> 7546</span>    <span class="keywordflow">if</span> (flags &amp; ImGuiWindowFlags_Popup)</div>
<div class="line"><a id="l07547" name="l07547"></a><span class="lineno"> 7547</span>    {</div>
<div class="line"><a id="l07548" name="l07548"></a><span class="lineno"> 7548</span>        <a class="code hl_struct" href="structImGuiPopupData.html">ImGuiPopupData</a>&amp; popup_ref = g.OpenPopupStack[g.BeginPopupStack.Size];</div>
<div class="line"><a id="l07549" name="l07549"></a><span class="lineno"> 7549</span>        popup_ref.Window = window;</div>
<div class="line"><a id="l07550" name="l07550"></a><span class="lineno"> 7550</span>        popup_ref.ParentNavLayer = parent_window_in_stack-&gt;DC.NavLayerCurrent;</div>
<div class="line"><a id="l07551" name="l07551"></a><span class="lineno"> 7551</span>        g.BeginPopupStack.push_back(popup_ref);</div>
<div class="line"><a id="l07552" name="l07552"></a><span class="lineno"> 7552</span>        window-&gt;PopupId = popup_ref.PopupId;</div>
<div class="line"><a id="l07553" name="l07553"></a><span class="lineno"> 7553</span>    }</div>
<div class="line"><a id="l07554" name="l07554"></a><span class="lineno"> 7554</span> </div>
<div class="line"><a id="l07555" name="l07555"></a><span class="lineno"> 7555</span>    <span class="comment">// Process SetNextWindow***() calls</span></div>
<div class="line"><a id="l07556" name="l07556"></a><span class="lineno"> 7556</span>    <span class="comment">// (FIXME: Consider splitting the HasXXX flags into X/Y components</span></div>
<div class="line"><a id="l07557" name="l07557"></a><span class="lineno"> 7557</span>    <span class="keywordtype">bool</span> window_pos_set_by_api = <span class="keyword">false</span>;</div>
<div class="line"><a id="l07558" name="l07558"></a><span class="lineno"> 7558</span>    <span class="keywordtype">bool</span> window_size_x_set_by_api = <span class="keyword">false</span>, window_size_y_set_by_api = <span class="keyword">false</span>;</div>
<div class="line"><a id="l07559" name="l07559"></a><span class="lineno"> 7559</span>    <span class="keywordflow">if</span> (g.NextWindowData.HasFlags &amp; ImGuiNextWindowDataFlags_HasPos)</div>
<div class="line"><a id="l07560" name="l07560"></a><span class="lineno"> 7560</span>    {</div>
<div class="line"><a id="l07561" name="l07561"></a><span class="lineno"> 7561</span>        window_pos_set_by_api = (window-&gt;SetWindowPosAllowFlags &amp; g.NextWindowData.PosCond) != 0;</div>
<div class="line"><a id="l07562" name="l07562"></a><span class="lineno"> 7562</span>        <span class="keywordflow">if</span> (window_pos_set_by_api &amp;&amp; ImLengthSqr(g.NextWindowData.PosPivotVal) &gt; 0.00001f)</div>
<div class="line"><a id="l07563" name="l07563"></a><span class="lineno"> 7563</span>        {</div>
<div class="line"><a id="l07564" name="l07564"></a><span class="lineno"> 7564</span>            <span class="comment">// May be processed on the next frame if this is our first frame and we are measuring size</span></div>
<div class="line"><a id="l07565" name="l07565"></a><span class="lineno"> 7565</span>            <span class="comment">// FIXME: Look into removing the branch so everything can go through this same code path for consistency.</span></div>
<div class="line"><a id="l07566" name="l07566"></a><span class="lineno"> 7566</span>            window-&gt;SetWindowPosVal = g.NextWindowData.PosVal;</div>
<div class="line"><a id="l07567" name="l07567"></a><span class="lineno"> 7567</span>            window-&gt;SetWindowPosPivot = g.NextWindowData.PosPivotVal;</div>
<div class="line"><a id="l07568" name="l07568"></a><span class="lineno"> 7568</span>            window-&gt;SetWindowPosAllowFlags &amp;= ~(ImGuiCond_Once | ImGuiCond_FirstUseEver | ImGuiCond_Appearing);</div>
<div class="line"><a id="l07569" name="l07569"></a><span class="lineno"> 7569</span>        }</div>
<div class="line"><a id="l07570" name="l07570"></a><span class="lineno"> 7570</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l07571" name="l07571"></a><span class="lineno"> 7571</span>        {</div>
<div class="line"><a id="l07572" name="l07572"></a><span class="lineno"> 7572</span>            SetWindowPos(window, g.NextWindowData.PosVal, g.NextWindowData.PosCond);</div>
<div class="line"><a id="l07573" name="l07573"></a><span class="lineno"> 7573</span>        }</div>
<div class="line"><a id="l07574" name="l07574"></a><span class="lineno"> 7574</span>    }</div>
<div class="line"><a id="l07575" name="l07575"></a><span class="lineno"> 7575</span>    <span class="keywordflow">if</span> (g.NextWindowData.HasFlags &amp; ImGuiNextWindowDataFlags_HasSize)</div>
<div class="line"><a id="l07576" name="l07576"></a><span class="lineno"> 7576</span>    {</div>
<div class="line"><a id="l07577" name="l07577"></a><span class="lineno"> 7577</span>        window_size_x_set_by_api = (window-&gt;SetWindowSizeAllowFlags &amp; g.NextWindowData.SizeCond) != 0 &amp;&amp; (g.NextWindowData.SizeVal.x &gt; 0.0f);</div>
<div class="line"><a id="l07578" name="l07578"></a><span class="lineno"> 7578</span>        window_size_y_set_by_api = (window-&gt;SetWindowSizeAllowFlags &amp; g.NextWindowData.SizeCond) != 0 &amp;&amp; (g.NextWindowData.SizeVal.y &gt; 0.0f);</div>
<div class="line"><a id="l07579" name="l07579"></a><span class="lineno"> 7579</span>        <span class="keywordflow">if</span> ((window-&gt;ChildFlags &amp; ImGuiChildFlags_ResizeX) &amp;&amp; (window-&gt;SetWindowSizeAllowFlags &amp; ImGuiCond_FirstUseEver) == 0) <span class="comment">// Axis-specific conditions for BeginChild()</span></div>
<div class="line"><a id="l07580" name="l07580"></a><span class="lineno"> 7580</span>            g.NextWindowData.SizeVal.x = window-&gt;SizeFull.x;</div>
<div class="line"><a id="l07581" name="l07581"></a><span class="lineno"> 7581</span>        <span class="keywordflow">if</span> ((window-&gt;ChildFlags &amp; ImGuiChildFlags_ResizeY) &amp;&amp; (window-&gt;SetWindowSizeAllowFlags &amp; ImGuiCond_FirstUseEver) == 0)</div>
<div class="line"><a id="l07582" name="l07582"></a><span class="lineno"> 7582</span>            g.NextWindowData.SizeVal.y = window-&gt;SizeFull.y;</div>
<div class="line"><a id="l07583" name="l07583"></a><span class="lineno"> 7583</span>        SetWindowSize(window, g.NextWindowData.SizeVal, g.NextWindowData.SizeCond);</div>
<div class="line"><a id="l07584" name="l07584"></a><span class="lineno"> 7584</span>    }</div>
<div class="line"><a id="l07585" name="l07585"></a><span class="lineno"> 7585</span>    <span class="keywordflow">if</span> (g.NextWindowData.HasFlags &amp; ImGuiNextWindowDataFlags_HasScroll)</div>
<div class="line"><a id="l07586" name="l07586"></a><span class="lineno"> 7586</span>    {</div>
<div class="line"><a id="l07587" name="l07587"></a><span class="lineno"> 7587</span>        <span class="keywordflow">if</span> (g.NextWindowData.ScrollVal.x &gt;= 0.0f)</div>
<div class="line"><a id="l07588" name="l07588"></a><span class="lineno"> 7588</span>        {</div>
<div class="line"><a id="l07589" name="l07589"></a><span class="lineno"> 7589</span>            window-&gt;ScrollTarget.x = g.NextWindowData.ScrollVal.x;</div>
<div class="line"><a id="l07590" name="l07590"></a><span class="lineno"> 7590</span>            window-&gt;ScrollTargetCenterRatio.x = 0.0f;</div>
<div class="line"><a id="l07591" name="l07591"></a><span class="lineno"> 7591</span>        }</div>
<div class="line"><a id="l07592" name="l07592"></a><span class="lineno"> 7592</span>        <span class="keywordflow">if</span> (g.NextWindowData.ScrollVal.y &gt;= 0.0f)</div>
<div class="line"><a id="l07593" name="l07593"></a><span class="lineno"> 7593</span>        {</div>
<div class="line"><a id="l07594" name="l07594"></a><span class="lineno"> 7594</span>            window-&gt;ScrollTarget.y = g.NextWindowData.ScrollVal.y;</div>
<div class="line"><a id="l07595" name="l07595"></a><span class="lineno"> 7595</span>            window-&gt;ScrollTargetCenterRatio.y = 0.0f;</div>
<div class="line"><a id="l07596" name="l07596"></a><span class="lineno"> 7596</span>        }</div>
<div class="line"><a id="l07597" name="l07597"></a><span class="lineno"> 7597</span>    }</div>
<div class="line"><a id="l07598" name="l07598"></a><span class="lineno"> 7598</span>    <span class="keywordflow">if</span> (g.NextWindowData.HasFlags &amp; ImGuiNextWindowDataFlags_HasContentSize)</div>
<div class="line"><a id="l07599" name="l07599"></a><span class="lineno"> 7599</span>        window-&gt;ContentSizeExplicit = g.NextWindowData.ContentSizeVal;</div>
<div class="line"><a id="l07600" name="l07600"></a><span class="lineno"> 7600</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (first_begin_of_the_frame)</div>
<div class="line"><a id="l07601" name="l07601"></a><span class="lineno"> 7601</span>        window-&gt;ContentSizeExplicit = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, 0.0f);</div>
<div class="line"><a id="l07602" name="l07602"></a><span class="lineno"> 7602</span>    <span class="keywordflow">if</span> (g.NextWindowData.HasFlags &amp; ImGuiNextWindowDataFlags_HasWindowClass)</div>
<div class="line"><a id="l07603" name="l07603"></a><span class="lineno"> 7603</span>        window-&gt;WindowClass = g.NextWindowData.WindowClass;</div>
<div class="line"><a id="l07604" name="l07604"></a><span class="lineno"> 7604</span>    <span class="keywordflow">if</span> (g.NextWindowData.HasFlags &amp; ImGuiNextWindowDataFlags_HasCollapsed)</div>
<div class="line"><a id="l07605" name="l07605"></a><span class="lineno"> 7605</span>        SetWindowCollapsed(window, g.NextWindowData.CollapsedVal, g.NextWindowData.CollapsedCond);</div>
<div class="line"><a id="l07606" name="l07606"></a><span class="lineno"> 7606</span>    <span class="keywordflow">if</span> (g.NextWindowData.HasFlags &amp; ImGuiNextWindowDataFlags_HasFocus)</div>
<div class="line"><a id="l07607" name="l07607"></a><span class="lineno"> 7607</span>        FocusWindow(window);</div>
<div class="line"><a id="l07608" name="l07608"></a><span class="lineno"> 7608</span>    <span class="keywordflow">if</span> (window-&gt;Appearing)</div>
<div class="line"><a id="l07609" name="l07609"></a><span class="lineno"> 7609</span>        SetWindowConditionAllowFlags(window, ImGuiCond_Appearing, <span class="keyword">false</span>);</div>
<div class="line"><a id="l07610" name="l07610"></a><span class="lineno"> 7610</span> </div>
<div class="line"><a id="l07611" name="l07611"></a><span class="lineno"> 7611</span>    <span class="comment">// [EXPERIMENTAL] Skip Refresh mode</span></div>
<div class="line"><a id="l07612" name="l07612"></a><span class="lineno"> 7612</span>    UpdateWindowSkipRefresh(window);</div>
<div class="line"><a id="l07613" name="l07613"></a><span class="lineno"> 7613</span> </div>
<div class="line"><a id="l07614" name="l07614"></a><span class="lineno"> 7614</span>    <span class="comment">// Nested root windows (typically tooltips) override disabled state</span></div>
<div class="line"><a id="l07615" name="l07615"></a><span class="lineno"> 7615</span>    <span class="keywordflow">if</span> (window_stack_data.DisabledOverrideReenable &amp;&amp; window-&gt;RootWindow == window)</div>
<div class="line"><a id="l07616" name="l07616"></a><span class="lineno"> 7616</span>        BeginDisabledOverrideReenable();</div>
<div class="line"><a id="l07617" name="l07617"></a><span class="lineno"> 7617</span> </div>
<div class="line"><a id="l07618" name="l07618"></a><span class="lineno"> 7618</span>    <span class="comment">// We intentionally set g.CurrentWindow to NULL to prevent usage until when the viewport is set, then will call SetCurrentWindow()</span></div>
<div class="line"><a id="l07619" name="l07619"></a><span class="lineno"> 7619</span>    g.CurrentWindow = NULL;</div>
<div class="line"><a id="l07620" name="l07620"></a><span class="lineno"> 7620</span> </div>
<div class="line"><a id="l07621" name="l07621"></a><span class="lineno"> 7621</span>    <span class="comment">// When reusing window again multiple times a frame, just append content (don&#39;t need to setup again)</span></div>
<div class="line"><a id="l07622" name="l07622"></a><span class="lineno"> 7622</span>    <span class="keywordflow">if</span> (first_begin_of_the_frame &amp;&amp; !window-&gt;SkipRefresh)</div>
<div class="line"><a id="l07623" name="l07623"></a><span class="lineno"> 7623</span>    {</div>
<div class="line"><a id="l07624" name="l07624"></a><span class="lineno"> 7624</span>        <span class="comment">// Initialize</span></div>
<div class="line"><a id="l07625" name="l07625"></a><span class="lineno"> 7625</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> window_is_child_tooltip = (flags &amp; ImGuiWindowFlags_ChildWindow) &amp;&amp; (flags &amp; ImGuiWindowFlags_Tooltip); <span class="comment">// FIXME-WIP: Undocumented behavior of Child+Tooltip for pinned tooltip (#1345)</span></div>
<div class="line"><a id="l07626" name="l07626"></a><span class="lineno"> 7626</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> window_just_appearing_after_hidden_for_resize = (window-&gt;HiddenFramesCannotSkipItems &gt; 0);</div>
<div class="line"><a id="l07627" name="l07627"></a><span class="lineno"> 7627</span>        window-&gt;Active = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07628" name="l07628"></a><span class="lineno"> 7628</span>        window-&gt;HasCloseButton = (p_open != NULL);</div>
<div class="line"><a id="l07629" name="l07629"></a><span class="lineno"> 7629</span>        window-&gt;ClipRect = <a class="code hl_struct" href="structImVec4.html">ImVec4</a>(-FLT_MAX, -FLT_MAX, +FLT_MAX, +FLT_MAX);</div>
<div class="line"><a id="l07630" name="l07630"></a><span class="lineno"> 7630</span>        window-&gt;IDStack.resize(1);</div>
<div class="line"><a id="l07631" name="l07631"></a><span class="lineno"> 7631</span>        window-&gt;DrawList-&gt;_ResetForNewFrame();</div>
<div class="line"><a id="l07632" name="l07632"></a><span class="lineno"> 7632</span>        window-&gt;DC.CurrentTableIdx = -1;</div>
<div class="line"><a id="l07633" name="l07633"></a><span class="lineno"> 7633</span>        <span class="keywordflow">if</span> (flags &amp; ImGuiWindowFlags_DockNodeHost)</div>
<div class="line"><a id="l07634" name="l07634"></a><span class="lineno"> 7634</span>        {</div>
<div class="line"><a id="l07635" name="l07635"></a><span class="lineno"> 7635</span>            window-&gt;DrawList-&gt;ChannelsSplit(2);</div>
<div class="line"><a id="l07636" name="l07636"></a><span class="lineno"> 7636</span>            window-&gt;DrawList-&gt;ChannelsSetCurrent(DOCKING_HOST_DRAW_CHANNEL_FG); <span class="comment">// Render decorations on channel 1 as we will render the backgrounds manually later</span></div>
<div class="line"><a id="l07637" name="l07637"></a><span class="lineno"> 7637</span>        }</div>
<div class="line"><a id="l07638" name="l07638"></a><span class="lineno"> 7638</span> </div>
<div class="line"><a id="l07639" name="l07639"></a><span class="lineno"> 7639</span>        <span class="comment">// Restore buffer capacity when woken from a compacted state, to avoid</span></div>
<div class="line"><a id="l07640" name="l07640"></a><span class="lineno"> 7640</span>        <span class="keywordflow">if</span> (window-&gt;MemoryCompacted)</div>
<div class="line"><a id="l07641" name="l07641"></a><span class="lineno"> 7641</span>            GcAwakeTransientWindowBuffers(window);</div>
<div class="line"><a id="l07642" name="l07642"></a><span class="lineno"> 7642</span> </div>
<div class="line"><a id="l07643" name="l07643"></a><span class="lineno"> 7643</span>        <span class="comment">// Update stored window name when it changes (which can _only_ happen with the &quot;###&quot; operator, so the ID would stay unchanged).</span></div>
<div class="line"><a id="l07644" name="l07644"></a><span class="lineno"> 7644</span>        <span class="comment">// The title bar always display the &#39;name&#39; parameter, so we only update the string storage if it needs to be visible to the end-user elsewhere.</span></div>
<div class="line"><a id="l07645" name="l07645"></a><span class="lineno"> 7645</span>        <span class="keywordtype">bool</span> window_title_visible_elsewhere = <span class="keyword">false</span>;</div>
<div class="line"><a id="l07646" name="l07646"></a><span class="lineno"> 7646</span>        <span class="keywordflow">if</span> ((window-&gt;Viewport &amp;&amp; window-&gt;Viewport-&gt;Window == window) || (window-&gt;DockIsActive))</div>
<div class="line"><a id="l07647" name="l07647"></a><span class="lineno"> 7647</span>            window_title_visible_elsewhere = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07648" name="l07648"></a><span class="lineno"> 7648</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (g.NavWindowingListWindow != NULL &amp;&amp; (flags &amp; ImGuiWindowFlags_NoNavFocus) == 0)   <span class="comment">// Window titles visible when using CTRL+TAB</span></div>
<div class="line"><a id="l07649" name="l07649"></a><span class="lineno"> 7649</span>            window_title_visible_elsewhere = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07650" name="l07650"></a><span class="lineno"> 7650</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags &amp; ImGuiWindowFlags_ChildMenu)</div>
<div class="line"><a id="l07651" name="l07651"></a><span class="lineno"> 7651</span>            window_title_visible_elsewhere = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07652" name="l07652"></a><span class="lineno"> 7652</span>        <span class="keywordflow">if</span> (window_title_visible_elsewhere &amp;&amp; !window_just_created &amp;&amp; strcmp(name, window-&gt;Name) != 0)</div>
<div class="line"><a id="l07653" name="l07653"></a><span class="lineno"> 7653</span>        {</div>
<div class="line"><a id="l07654" name="l07654"></a><span class="lineno"> 7654</span>            <span class="keywordtype">size_t</span> buf_len = (size_t)window-&gt;NameBufLen;</div>
<div class="line"><a id="l07655" name="l07655"></a><span class="lineno"> 7655</span>            window-&gt;Name = ImStrdupcpy(window-&gt;Name, &amp;buf_len, name);</div>
<div class="line"><a id="l07656" name="l07656"></a><span class="lineno"> 7656</span>            window-&gt;NameBufLen = (int)buf_len;</div>
<div class="line"><a id="l07657" name="l07657"></a><span class="lineno"> 7657</span>        }</div>
<div class="line"><a id="l07658" name="l07658"></a><span class="lineno"> 7658</span> </div>
<div class="line"><a id="l07659" name="l07659"></a><span class="lineno"> 7659</span>        <span class="comment">// UPDATE CONTENTS SIZE, UPDATE HIDDEN STATUS</span></div>
<div class="line"><a id="l07660" name="l07660"></a><span class="lineno"> 7660</span> </div>
<div class="line"><a id="l07661" name="l07661"></a><span class="lineno"> 7661</span>        <span class="comment">// Update contents size from last frame for auto-fitting (or use explicit size)</span></div>
<div class="line"><a id="l07662" name="l07662"></a><span class="lineno"> 7662</span>        CalcWindowContentSizes(window, &amp;window-&gt;ContentSize, &amp;window-&gt;ContentSizeIdeal);</div>
<div class="line"><a id="l07663" name="l07663"></a><span class="lineno"> 7663</span> </div>
<div class="line"><a id="l07664" name="l07664"></a><span class="lineno"> 7664</span>        <span class="comment">// FIXME: These flags are decremented before they are used. This means that in order to have these fields produce their intended behaviors</span></div>
<div class="line"><a id="l07665" name="l07665"></a><span class="lineno"> 7665</span>        <span class="comment">// for one frame we must set them to at least 2, which is counter-intuitive. HiddenFramesCannotSkipItems is a more complicated case because</span></div>
<div class="line"><a id="l07666" name="l07666"></a><span class="lineno"> 7666</span>        <span class="comment">// it has a single usage before this code block and may be set below before it is finally checked.</span></div>
<div class="line"><a id="l07667" name="l07667"></a><span class="lineno"> 7667</span>        <span class="keywordflow">if</span> (window-&gt;HiddenFramesCanSkipItems &gt; 0)</div>
<div class="line"><a id="l07668" name="l07668"></a><span class="lineno"> 7668</span>            window-&gt;HiddenFramesCanSkipItems--;</div>
<div class="line"><a id="l07669" name="l07669"></a><span class="lineno"> 7669</span>        <span class="keywordflow">if</span> (window-&gt;HiddenFramesCannotSkipItems &gt; 0)</div>
<div class="line"><a id="l07670" name="l07670"></a><span class="lineno"> 7670</span>            window-&gt;HiddenFramesCannotSkipItems--;</div>
<div class="line"><a id="l07671" name="l07671"></a><span class="lineno"> 7671</span>        <span class="keywordflow">if</span> (window-&gt;HiddenFramesForRenderOnly &gt; 0)</div>
<div class="line"><a id="l07672" name="l07672"></a><span class="lineno"> 7672</span>            window-&gt;HiddenFramesForRenderOnly--;</div>
<div class="line"><a id="l07673" name="l07673"></a><span class="lineno"> 7673</span> </div>
<div class="line"><a id="l07674" name="l07674"></a><span class="lineno"> 7674</span>        <span class="comment">// Hide new windows for one frame until they calculate their size</span></div>
<div class="line"><a id="l07675" name="l07675"></a><span class="lineno"> 7675</span>        <span class="keywordflow">if</span> (window_just_created &amp;&amp; (!window_size_x_set_by_api || !window_size_y_set_by_api))</div>
<div class="line"><a id="l07676" name="l07676"></a><span class="lineno"> 7676</span>            window-&gt;HiddenFramesCannotSkipItems = 1;</div>
<div class="line"><a id="l07677" name="l07677"></a><span class="lineno"> 7677</span> </div>
<div class="line"><a id="l07678" name="l07678"></a><span class="lineno"> 7678</span>        <span class="comment">// Hide popup/tooltip window when re-opening while we measure size (because we recycle the windows)</span></div>
<div class="line"><a id="l07679" name="l07679"></a><span class="lineno"> 7679</span>        <span class="comment">// We reset Size/ContentSize for reappearing popups/tooltips early in this function, so further code won&#39;t be tempted to use the old size.</span></div>
<div class="line"><a id="l07680" name="l07680"></a><span class="lineno"> 7680</span>        <span class="keywordflow">if</span> (window_just_activated_by_user &amp;&amp; (flags &amp; (ImGuiWindowFlags_Popup | ImGuiWindowFlags_Tooltip)) != 0)</div>
<div class="line"><a id="l07681" name="l07681"></a><span class="lineno"> 7681</span>        {</div>
<div class="line"><a id="l07682" name="l07682"></a><span class="lineno"> 7682</span>            window-&gt;HiddenFramesCannotSkipItems = 1;</div>
<div class="line"><a id="l07683" name="l07683"></a><span class="lineno"> 7683</span>            <span class="keywordflow">if</span> (flags &amp; ImGuiWindowFlags_AlwaysAutoResize)</div>
<div class="line"><a id="l07684" name="l07684"></a><span class="lineno"> 7684</span>            {</div>
<div class="line"><a id="l07685" name="l07685"></a><span class="lineno"> 7685</span>                <span class="keywordflow">if</span> (!window_size_x_set_by_api)</div>
<div class="line"><a id="l07686" name="l07686"></a><span class="lineno"> 7686</span>                    window-&gt;Size.x = window-&gt;SizeFull.x = 0.f;</div>
<div class="line"><a id="l07687" name="l07687"></a><span class="lineno"> 7687</span>                <span class="keywordflow">if</span> (!window_size_y_set_by_api)</div>
<div class="line"><a id="l07688" name="l07688"></a><span class="lineno"> 7688</span>                    window-&gt;Size.y = window-&gt;SizeFull.y = 0.f;</div>
<div class="line"><a id="l07689" name="l07689"></a><span class="lineno"> 7689</span>                window-&gt;ContentSize = window-&gt;ContentSizeIdeal = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.f, 0.f);</div>
<div class="line"><a id="l07690" name="l07690"></a><span class="lineno"> 7690</span>            }</div>
<div class="line"><a id="l07691" name="l07691"></a><span class="lineno"> 7691</span>        }</div>
<div class="line"><a id="l07692" name="l07692"></a><span class="lineno"> 7692</span> </div>
<div class="line"><a id="l07693" name="l07693"></a><span class="lineno"> 7693</span>        <span class="comment">// SELECT VIEWPORT</span></div>
<div class="line"><a id="l07694" name="l07694"></a><span class="lineno"> 7694</span>        <span class="comment">// We need to do this before using any style/font sizes, as viewport with a different DPI may affect font sizes.</span></div>
<div class="line"><a id="l07695" name="l07695"></a><span class="lineno"> 7695</span> </div>
<div class="line"><a id="l07696" name="l07696"></a><span class="lineno"> 7696</span>        WindowSelectViewport(window);</div>
<div class="line"><a id="l07697" name="l07697"></a><span class="lineno"> 7697</span>        SetCurrentViewport(window, window-&gt;Viewport);</div>
<div class="line"><a id="l07698" name="l07698"></a><span class="lineno"> 7698</span>        window-&gt;FontDpiScale = (g.IO.ConfigFlags &amp; ImGuiConfigFlags_DpiEnableScaleFonts) ? window-&gt;Viewport-&gt;DpiScale : 1.0f;</div>
<div class="line"><a id="l07699" name="l07699"></a><span class="lineno"> 7699</span>        SetCurrentWindow(window);</div>
<div class="line"><a id="l07700" name="l07700"></a><span class="lineno"> 7700</span>        flags = window-&gt;Flags;</div>
<div class="line"><a id="l07701" name="l07701"></a><span class="lineno"> 7701</span> </div>
<div class="line"><a id="l07702" name="l07702"></a><span class="lineno"> 7702</span>        <span class="comment">// LOCK BORDER SIZE AND PADDING FOR THE FRAME (so that altering them doesn&#39;t cause inconsistencies)</span></div>
<div class="line"><a id="l07703" name="l07703"></a><span class="lineno"> 7703</span>        <span class="comment">// We read Style data after the call to UpdateSelectWindowViewport() which might be swapping the style.</span></div>
<div class="line"><a id="l07704" name="l07704"></a><span class="lineno"> 7704</span> </div>
<div class="line"><a id="l07705" name="l07705"></a><span class="lineno"> 7705</span>        <span class="keywordflow">if</span> (!window-&gt;DockIsActive &amp;&amp; (flags &amp; ImGuiWindowFlags_ChildWindow))</div>
<div class="line"><a id="l07706" name="l07706"></a><span class="lineno"> 7706</span>            window-&gt;WindowBorderSize = style.ChildBorderSize;</div>
<div class="line"><a id="l07707" name="l07707"></a><span class="lineno"> 7707</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l07708" name="l07708"></a><span class="lineno"> 7708</span>            window-&gt;WindowBorderSize = ((flags &amp; (ImGuiWindowFlags_Popup | ImGuiWindowFlags_Tooltip)) &amp;&amp; !(flags &amp; ImGuiWindowFlags_Modal)) ? style.PopupBorderSize : style.WindowBorderSize;</div>
<div class="line"><a id="l07709" name="l07709"></a><span class="lineno"> 7709</span>        window-&gt;WindowPadding = style.WindowPadding;</div>
<div class="line"><a id="l07710" name="l07710"></a><span class="lineno"> 7710</span>        <span class="keywordflow">if</span> (!window-&gt;DockIsActive &amp;&amp; (flags &amp; ImGuiWindowFlags_ChildWindow) &amp;&amp; !(flags &amp; ImGuiWindowFlags_Popup) &amp;&amp; !(window-&gt;ChildFlags &amp; ImGuiChildFlags_AlwaysUseWindowPadding) &amp;&amp; window-&gt;WindowBorderSize == 0.0f)</div>
<div class="line"><a id="l07711" name="l07711"></a><span class="lineno"> 7711</span>            window-&gt;WindowPadding = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, (flags &amp; ImGuiWindowFlags_MenuBar) ? style.WindowPadding.y : 0.0f);</div>
<div class="line"><a id="l07712" name="l07712"></a><span class="lineno"> 7712</span> </div>
<div class="line"><a id="l07713" name="l07713"></a><span class="lineno"> 7713</span>        <span class="comment">// Lock menu offset so size calculation can use it as menu-bar windows need a minimum size.</span></div>
<div class="line"><a id="l07714" name="l07714"></a><span class="lineno"> 7714</span>        window-&gt;DC.MenuBarOffset.x = ImMax(ImMax(window-&gt;WindowPadding.x, style.ItemSpacing.x), g.NextWindowData.MenuBarOffsetMinVal.x);</div>
<div class="line"><a id="l07715" name="l07715"></a><span class="lineno"> 7715</span>        window-&gt;DC.MenuBarOffset.y = g.NextWindowData.MenuBarOffsetMinVal.y;</div>
<div class="line"><a id="l07716" name="l07716"></a><span class="lineno"> 7716</span>        window-&gt;TitleBarHeight = (flags &amp; ImGuiWindowFlags_NoTitleBar) ? 0.0f : g.FontSize + g.Style.FramePadding.y * 2.0f;</div>
<div class="line"><a id="l07717" name="l07717"></a><span class="lineno"> 7717</span>        window-&gt;MenuBarHeight = (flags &amp; ImGuiWindowFlags_MenuBar) ? window-&gt;DC.MenuBarOffset.y + g.FontSize + g.Style.FramePadding.y * 2.0f : 0.0f;</div>
<div class="line"><a id="l07718" name="l07718"></a><span class="lineno"> 7718</span>        window-&gt;FontRefSize = g.FontSize; <span class="comment">// Lock this to discourage calling window-&gt;CalcFontSize() outside of current window.</span></div>
<div class="line"><a id="l07719" name="l07719"></a><span class="lineno"> 7719</span> </div>
<div class="line"><a id="l07720" name="l07720"></a><span class="lineno"> 7720</span>        <span class="comment">// Depending on condition we use previous or current window size to compare against contents size to decide if a scrollbar should be visible.</span></div>
<div class="line"><a id="l07721" name="l07721"></a><span class="lineno"> 7721</span>        <span class="comment">// Those flags will be altered further down in the function depending on more conditions.</span></div>
<div class="line"><a id="l07722" name="l07722"></a><span class="lineno"> 7722</span>        <span class="keywordtype">bool</span> use_current_size_for_scrollbar_x = window_just_created;</div>
<div class="line"><a id="l07723" name="l07723"></a><span class="lineno"> 7723</span>        <span class="keywordtype">bool</span> use_current_size_for_scrollbar_y = window_just_created;</div>
<div class="line"><a id="l07724" name="l07724"></a><span class="lineno"> 7724</span>        <span class="keywordflow">if</span> (window_size_x_set_by_api &amp;&amp; window-&gt;ContentSizeExplicit.x != 0.0f)</div>
<div class="line"><a id="l07725" name="l07725"></a><span class="lineno"> 7725</span>            use_current_size_for_scrollbar_x = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07726" name="l07726"></a><span class="lineno"> 7726</span>        <span class="keywordflow">if</span> (window_size_y_set_by_api &amp;&amp; window-&gt;ContentSizeExplicit.y != 0.0f) <span class="comment">// #7252</span></div>
<div class="line"><a id="l07727" name="l07727"></a><span class="lineno"> 7727</span>            use_current_size_for_scrollbar_y = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07728" name="l07728"></a><span class="lineno"> 7728</span> </div>
<div class="line"><a id="l07729" name="l07729"></a><span class="lineno"> 7729</span>        <span class="comment">// Collapse window by double-clicking on title bar</span></div>
<div class="line"><a id="l07730" name="l07730"></a><span class="lineno"> 7730</span>        <span class="comment">// At this point we don&#39;t have a clipping rectangle setup yet, so we can use the title bar area for hit detection and drawing</span></div>
<div class="line"><a id="l07731" name="l07731"></a><span class="lineno"> 7731</span>        <span class="keywordflow">if</span> (!(flags &amp; ImGuiWindowFlags_NoTitleBar) &amp;&amp; !(flags &amp; ImGuiWindowFlags_NoCollapse) &amp;&amp; !window-&gt;DockIsActive)</div>
<div class="line"><a id="l07732" name="l07732"></a><span class="lineno"> 7732</span>        {</div>
<div class="line"><a id="l07733" name="l07733"></a><span class="lineno"> 7733</span>            <span class="comment">// We don&#39;t use a regular button+id to test for double-click on title bar (mostly due to legacy reason, could be fixed),</span></div>
<div class="line"><a id="l07734" name="l07734"></a><span class="lineno"> 7734</span>            <span class="comment">// so verify that we don&#39;t have items over the title bar.</span></div>
<div class="line"><a id="l07735" name="l07735"></a><span class="lineno"> 7735</span>            <a class="code hl_struct" href="structImRect.html">ImRect</a> title_bar_rect = window-&gt;TitleBarRect();</div>
<div class="line"><a id="l07736" name="l07736"></a><span class="lineno"> 7736</span>            <span class="keywordflow">if</span> (g.HoveredWindow == window &amp;&amp; g.HoveredId == 0 &amp;&amp; g.HoveredIdPreviousFrame == 0 &amp;&amp; g.ActiveId == 0 &amp;&amp; IsMouseHoveringRect(title_bar_rect.Min, title_bar_rect.Max))</div>
<div class="line"><a id="l07737" name="l07737"></a><span class="lineno"> 7737</span>                <span class="keywordflow">if</span> (g.IO.MouseClickedCount[0] == 2 &amp;&amp; GetKeyOwner(ImGuiKey_MouseLeft) == ImGuiKeyOwner_NoOwner)</div>
<div class="line"><a id="l07738" name="l07738"></a><span class="lineno"> 7738</span>                    window-&gt;WantCollapseToggle = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07739" name="l07739"></a><span class="lineno"> 7739</span>            <span class="keywordflow">if</span> (window-&gt;WantCollapseToggle)</div>
<div class="line"><a id="l07740" name="l07740"></a><span class="lineno"> 7740</span>            {</div>
<div class="line"><a id="l07741" name="l07741"></a><span class="lineno"> 7741</span>                window-&gt;Collapsed = !window-&gt;Collapsed;</div>
<div class="line"><a id="l07742" name="l07742"></a><span class="lineno"> 7742</span>                <span class="keywordflow">if</span> (!window-&gt;Collapsed)</div>
<div class="line"><a id="l07743" name="l07743"></a><span class="lineno"> 7743</span>                    use_current_size_for_scrollbar_y = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07744" name="l07744"></a><span class="lineno"> 7744</span>                MarkIniSettingsDirty(window);</div>
<div class="line"><a id="l07745" name="l07745"></a><span class="lineno"> 7745</span>            }</div>
<div class="line"><a id="l07746" name="l07746"></a><span class="lineno"> 7746</span>        }</div>
<div class="line"><a id="l07747" name="l07747"></a><span class="lineno"> 7747</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l07748" name="l07748"></a><span class="lineno"> 7748</span>        {</div>
<div class="line"><a id="l07749" name="l07749"></a><span class="lineno"> 7749</span>            window-&gt;Collapsed = <span class="keyword">false</span>;</div>
<div class="line"><a id="l07750" name="l07750"></a><span class="lineno"> 7750</span>        }</div>
<div class="line"><a id="l07751" name="l07751"></a><span class="lineno"> 7751</span>        window-&gt;WantCollapseToggle = <span class="keyword">false</span>;</div>
<div class="line"><a id="l07752" name="l07752"></a><span class="lineno"> 7752</span> </div>
<div class="line"><a id="l07753" name="l07753"></a><span class="lineno"> 7753</span>        <span class="comment">// SIZE</span></div>
<div class="line"><a id="l07754" name="l07754"></a><span class="lineno"> 7754</span> </div>
<div class="line"><a id="l07755" name="l07755"></a><span class="lineno"> 7755</span>        <span class="comment">// Outer Decoration Sizes</span></div>
<div class="line"><a id="l07756" name="l07756"></a><span class="lineno"> 7756</span>        <span class="comment">// (we need to clear ScrollbarSize immediately as CalcWindowAutoFitSize() needs it and can be called from other locations).</span></div>
<div class="line"><a id="l07757" name="l07757"></a><span class="lineno"> 7757</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> scrollbar_sizes_from_last_frame = window-&gt;ScrollbarSizes;</div>
<div class="line"><a id="l07758" name="l07758"></a><span class="lineno"> 7758</span>        window-&gt;DecoOuterSizeX1 = 0.0f;</div>
<div class="line"><a id="l07759" name="l07759"></a><span class="lineno"> 7759</span>        window-&gt;DecoOuterSizeX2 = 0.0f;</div>
<div class="line"><a id="l07760" name="l07760"></a><span class="lineno"> 7760</span>        window-&gt;DecoOuterSizeY1 = window-&gt;TitleBarHeight + window-&gt;MenuBarHeight;</div>
<div class="line"><a id="l07761" name="l07761"></a><span class="lineno"> 7761</span>        window-&gt;DecoOuterSizeY2 = 0.0f;</div>
<div class="line"><a id="l07762" name="l07762"></a><span class="lineno"> 7762</span>        window-&gt;ScrollbarSizes = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, 0.0f);</div>
<div class="line"><a id="l07763" name="l07763"></a><span class="lineno"> 7763</span> </div>
<div class="line"><a id="l07764" name="l07764"></a><span class="lineno"> 7764</span>        <span class="comment">// Calculate auto-fit size, handle automatic resize</span></div>
<div class="line"><a id="l07765" name="l07765"></a><span class="lineno"> 7765</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> size_auto_fit = CalcWindowAutoFitSize(window, window-&gt;ContentSizeIdeal);</div>
<div class="line"><a id="l07766" name="l07766"></a><span class="lineno"> 7766</span>        <span class="keywordflow">if</span> ((flags &amp; ImGuiWindowFlags_AlwaysAutoResize) &amp;&amp; !window-&gt;Collapsed)</div>
<div class="line"><a id="l07767" name="l07767"></a><span class="lineno"> 7767</span>        {</div>
<div class="line"><a id="l07768" name="l07768"></a><span class="lineno"> 7768</span>            <span class="comment">// Using SetNextWindowSize() overrides ImGuiWindowFlags_AlwaysAutoResize, so it can be used on tooltips/popups, etc.</span></div>
<div class="line"><a id="l07769" name="l07769"></a><span class="lineno"> 7769</span>            <span class="keywordflow">if</span> (!window_size_x_set_by_api)</div>
<div class="line"><a id="l07770" name="l07770"></a><span class="lineno"> 7770</span>            {</div>
<div class="line"><a id="l07771" name="l07771"></a><span class="lineno"> 7771</span>                window-&gt;SizeFull.x = size_auto_fit.x;</div>
<div class="line"><a id="l07772" name="l07772"></a><span class="lineno"> 7772</span>                use_current_size_for_scrollbar_x = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07773" name="l07773"></a><span class="lineno"> 7773</span>            }</div>
<div class="line"><a id="l07774" name="l07774"></a><span class="lineno"> 7774</span>            <span class="keywordflow">if</span> (!window_size_y_set_by_api)</div>
<div class="line"><a id="l07775" name="l07775"></a><span class="lineno"> 7775</span>            {</div>
<div class="line"><a id="l07776" name="l07776"></a><span class="lineno"> 7776</span>                window-&gt;SizeFull.y = size_auto_fit.y;</div>
<div class="line"><a id="l07777" name="l07777"></a><span class="lineno"> 7777</span>                use_current_size_for_scrollbar_y = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07778" name="l07778"></a><span class="lineno"> 7778</span>            }</div>
<div class="line"><a id="l07779" name="l07779"></a><span class="lineno"> 7779</span>        }</div>
<div class="line"><a id="l07780" name="l07780"></a><span class="lineno"> 7780</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (window-&gt;AutoFitFramesX &gt; 0 || window-&gt;AutoFitFramesY &gt; 0)</div>
<div class="line"><a id="l07781" name="l07781"></a><span class="lineno"> 7781</span>        {</div>
<div class="line"><a id="l07782" name="l07782"></a><span class="lineno"> 7782</span>            <span class="comment">// Auto-fit may only grow window during the first few frames</span></div>
<div class="line"><a id="l07783" name="l07783"></a><span class="lineno"> 7783</span>            <span class="comment">// We still process initial auto-fit on collapsed windows to get a window width, but otherwise don&#39;t honor ImGuiWindowFlags_AlwaysAutoResize when collapsed.</span></div>
<div class="line"><a id="l07784" name="l07784"></a><span class="lineno"> 7784</span>            <span class="keywordflow">if</span> (!window_size_x_set_by_api &amp;&amp; window-&gt;AutoFitFramesX &gt; 0)</div>
<div class="line"><a id="l07785" name="l07785"></a><span class="lineno"> 7785</span>            {</div>
<div class="line"><a id="l07786" name="l07786"></a><span class="lineno"> 7786</span>                window-&gt;SizeFull.x = window-&gt;AutoFitOnlyGrows ? ImMax(window-&gt;SizeFull.x, size_auto_fit.x) : size_auto_fit.x;</div>
<div class="line"><a id="l07787" name="l07787"></a><span class="lineno"> 7787</span>                use_current_size_for_scrollbar_x = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07788" name="l07788"></a><span class="lineno"> 7788</span>            }</div>
<div class="line"><a id="l07789" name="l07789"></a><span class="lineno"> 7789</span>            <span class="keywordflow">if</span> (!window_size_y_set_by_api &amp;&amp; window-&gt;AutoFitFramesY &gt; 0)</div>
<div class="line"><a id="l07790" name="l07790"></a><span class="lineno"> 7790</span>            {</div>
<div class="line"><a id="l07791" name="l07791"></a><span class="lineno"> 7791</span>                window-&gt;SizeFull.y = window-&gt;AutoFitOnlyGrows ? ImMax(window-&gt;SizeFull.y, size_auto_fit.y) : size_auto_fit.y;</div>
<div class="line"><a id="l07792" name="l07792"></a><span class="lineno"> 7792</span>                use_current_size_for_scrollbar_y = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07793" name="l07793"></a><span class="lineno"> 7793</span>            }</div>
<div class="line"><a id="l07794" name="l07794"></a><span class="lineno"> 7794</span>            <span class="keywordflow">if</span> (!window-&gt;Collapsed)</div>
<div class="line"><a id="l07795" name="l07795"></a><span class="lineno"> 7795</span>                MarkIniSettingsDirty(window);</div>
<div class="line"><a id="l07796" name="l07796"></a><span class="lineno"> 7796</span>        }</div>
<div class="line"><a id="l07797" name="l07797"></a><span class="lineno"> 7797</span> </div>
<div class="line"><a id="l07798" name="l07798"></a><span class="lineno"> 7798</span>        <span class="comment">// Apply minimum/maximum window size constraints and final size</span></div>
<div class="line"><a id="l07799" name="l07799"></a><span class="lineno"> 7799</span>        window-&gt;SizeFull = CalcWindowSizeAfterConstraint(window, window-&gt;SizeFull);</div>
<div class="line"><a id="l07800" name="l07800"></a><span class="lineno"> 7800</span>        window-&gt;Size = window-&gt;Collapsed &amp;&amp; !(flags &amp; ImGuiWindowFlags_ChildWindow) ? window-&gt;TitleBarRect().GetSize() : window-&gt;SizeFull;</div>
<div class="line"><a id="l07801" name="l07801"></a><span class="lineno"> 7801</span> </div>
<div class="line"><a id="l07802" name="l07802"></a><span class="lineno"> 7802</span>        <span class="comment">// POSITION</span></div>
<div class="line"><a id="l07803" name="l07803"></a><span class="lineno"> 7803</span> </div>
<div class="line"><a id="l07804" name="l07804"></a><span class="lineno"> 7804</span>        <span class="comment">// Popup latch its initial position, will position itself when it appears next frame</span></div>
<div class="line"><a id="l07805" name="l07805"></a><span class="lineno"> 7805</span>        <span class="keywordflow">if</span> (window_just_activated_by_user)</div>
<div class="line"><a id="l07806" name="l07806"></a><span class="lineno"> 7806</span>        {</div>
<div class="line"><a id="l07807" name="l07807"></a><span class="lineno"> 7807</span>            window-&gt;AutoPosLastDirection = ImGuiDir_None;</div>
<div class="line"><a id="l07808" name="l07808"></a><span class="lineno"> 7808</span>            <span class="keywordflow">if</span> ((flags &amp; ImGuiWindowFlags_Popup) != 0 &amp;&amp; !(flags &amp; ImGuiWindowFlags_Modal) &amp;&amp; !window_pos_set_by_api) <span class="comment">// FIXME: BeginPopup() could use SetNextWindowPos()</span></div>
<div class="line"><a id="l07809" name="l07809"></a><span class="lineno"> 7809</span>                window-&gt;Pos = g.BeginPopupStack.back().OpenPopupPos;</div>
<div class="line"><a id="l07810" name="l07810"></a><span class="lineno"> 7810</span>        }</div>
<div class="line"><a id="l07811" name="l07811"></a><span class="lineno"> 7811</span> </div>
<div class="line"><a id="l07812" name="l07812"></a><span class="lineno"> 7812</span>        <span class="comment">// Position child window</span></div>
<div class="line"><a id="l07813" name="l07813"></a><span class="lineno"> 7813</span>        <span class="keywordflow">if</span> (flags &amp; ImGuiWindowFlags_ChildWindow)</div>
<div class="line"><a id="l07814" name="l07814"></a><span class="lineno"> 7814</span>        {</div>
<div class="line"><a id="l07815" name="l07815"></a><span class="lineno"> 7815</span>            IM_ASSERT(parent_window &amp;&amp; parent_window-&gt;Active);</div>
<div class="line"><a id="l07816" name="l07816"></a><span class="lineno"> 7816</span>            window-&gt;BeginOrderWithinParent = (short)parent_window-&gt;DC.ChildWindows.Size;</div>
<div class="line"><a id="l07817" name="l07817"></a><span class="lineno"> 7817</span>            parent_window-&gt;DC.ChildWindows.push_back(window);</div>
<div class="line"><a id="l07818" name="l07818"></a><span class="lineno"> 7818</span>            <span class="keywordflow">if</span> (!(flags &amp; ImGuiWindowFlags_Popup) &amp;&amp; !window_pos_set_by_api &amp;&amp; !window_is_child_tooltip)</div>
<div class="line"><a id="l07819" name="l07819"></a><span class="lineno"> 7819</span>                window-&gt;Pos = parent_window-&gt;DC.CursorPos;</div>
<div class="line"><a id="l07820" name="l07820"></a><span class="lineno"> 7820</span>        }</div>
<div class="line"><a id="l07821" name="l07821"></a><span class="lineno"> 7821</span> </div>
<div class="line"><a id="l07822" name="l07822"></a><span class="lineno"> 7822</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> window_pos_with_pivot = (window-&gt;SetWindowPosVal.x != FLT_MAX &amp;&amp; window-&gt;HiddenFramesCannotSkipItems == 0);</div>
<div class="line"><a id="l07823" name="l07823"></a><span class="lineno"> 7823</span>        <span class="keywordflow">if</span> (window_pos_with_pivot)</div>
<div class="line"><a id="l07824" name="l07824"></a><span class="lineno"> 7824</span>            SetWindowPos(window, window-&gt;SetWindowPosVal - window-&gt;Size * window-&gt;SetWindowPosPivot, 0); <span class="comment">// Position given a pivot (e.g. for centering)</span></div>
<div class="line"><a id="l07825" name="l07825"></a><span class="lineno"> 7825</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((flags &amp; ImGuiWindowFlags_ChildMenu) != 0)</div>
<div class="line"><a id="l07826" name="l07826"></a><span class="lineno"> 7826</span>            window-&gt;Pos = FindBestWindowPosForPopup(window);</div>
<div class="line"><a id="l07827" name="l07827"></a><span class="lineno"> 7827</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((flags &amp; ImGuiWindowFlags_Popup) != 0 &amp;&amp; !window_pos_set_by_api &amp;&amp; window_just_appearing_after_hidden_for_resize)</div>
<div class="line"><a id="l07828" name="l07828"></a><span class="lineno"> 7828</span>            window-&gt;Pos = FindBestWindowPosForPopup(window);</div>
<div class="line"><a id="l07829" name="l07829"></a><span class="lineno"> 7829</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((flags &amp; ImGuiWindowFlags_Tooltip) != 0 &amp;&amp; !window_pos_set_by_api &amp;&amp; !window_is_child_tooltip)</div>
<div class="line"><a id="l07830" name="l07830"></a><span class="lineno"> 7830</span>            window-&gt;Pos = FindBestWindowPosForPopup(window);</div>
<div class="line"><a id="l07831" name="l07831"></a><span class="lineno"> 7831</span> </div>
<div class="line"><a id="l07832" name="l07832"></a><span class="lineno"> 7832</span>        <span class="comment">// Late create viewport if we don&#39;t fit within our current host viewport.</span></div>
<div class="line"><a id="l07833" name="l07833"></a><span class="lineno"> 7833</span>        <span class="keywordflow">if</span> (window-&gt;ViewportAllowPlatformMonitorExtend &gt;= 0 &amp;&amp; !window-&gt;ViewportOwned &amp;&amp; !(window-&gt;Viewport-&gt;Flags &amp; ImGuiViewportFlags_IsMinimized))</div>
<div class="line"><a id="l07834" name="l07834"></a><span class="lineno"> 7834</span>            <span class="keywordflow">if</span> (!window-&gt;Viewport-&gt;GetMainRect().Contains(window-&gt;Rect()))</div>
<div class="line"><a id="l07835" name="l07835"></a><span class="lineno"> 7835</span>            {</div>
<div class="line"><a id="l07836" name="l07836"></a><span class="lineno"> 7836</span>                <span class="comment">// This is based on the assumption that the DPI will be known ahead (same as the DPI of the selection done in UpdateSelectWindowViewport)</span></div>
<div class="line"><a id="l07837" name="l07837"></a><span class="lineno"> 7837</span>                <span class="comment">//ImGuiViewport* old_viewport = window-&gt;Viewport;</span></div>
<div class="line"><a id="l07838" name="l07838"></a><span class="lineno"> 7838</span>                window-&gt;Viewport = AddUpdateViewport(window, window-&gt;ID, window-&gt;Pos, window-&gt;Size, ImGuiViewportFlags_NoFocusOnAppearing);</div>
<div class="line"><a id="l07839" name="l07839"></a><span class="lineno"> 7839</span> </div>
<div class="line"><a id="l07840" name="l07840"></a><span class="lineno"> 7840</span>                <span class="comment">// FIXME-DPI</span></div>
<div class="line"><a id="l07841" name="l07841"></a><span class="lineno"> 7841</span>                <span class="comment">//IM_ASSERT(old_viewport-&gt;DpiScale == window-&gt;Viewport-&gt;DpiScale); // FIXME-DPI: Something went wrong</span></div>
<div class="line"><a id="l07842" name="l07842"></a><span class="lineno"> 7842</span>                SetCurrentViewport(window, window-&gt;Viewport);</div>
<div class="line"><a id="l07843" name="l07843"></a><span class="lineno"> 7843</span>                window-&gt;FontDpiScale = (g.IO.ConfigFlags &amp; ImGuiConfigFlags_DpiEnableScaleFonts) ? window-&gt;Viewport-&gt;DpiScale : 1.0f;</div>
<div class="line"><a id="l07844" name="l07844"></a><span class="lineno"> 7844</span>                SetCurrentWindow(window);</div>
<div class="line"><a id="l07845" name="l07845"></a><span class="lineno"> 7845</span>            }</div>
<div class="line"><a id="l07846" name="l07846"></a><span class="lineno"> 7846</span> </div>
<div class="line"><a id="l07847" name="l07847"></a><span class="lineno"> 7847</span>        <span class="keywordflow">if</span> (window-&gt;ViewportOwned)</div>
<div class="line"><a id="l07848" name="l07848"></a><span class="lineno"> 7848</span>            WindowSyncOwnedViewport(window, parent_window_in_stack);</div>
<div class="line"><a id="l07849" name="l07849"></a><span class="lineno"> 7849</span> </div>
<div class="line"><a id="l07850" name="l07850"></a><span class="lineno"> 7850</span>        <span class="comment">// Calculate the range of allowed position for that window (to be movable and visible past safe area padding)</span></div>
<div class="line"><a id="l07851" name="l07851"></a><span class="lineno"> 7851</span>        <span class="comment">// When clamping to stay visible, we will enforce that window-&gt;Pos stays inside of visibility_rect.</span></div>
<div class="line"><a id="l07852" name="l07852"></a><span class="lineno"> 7852</span>        <a class="code hl_struct" href="structImRect.html">ImRect</a> viewport_rect(window-&gt;Viewport-&gt;GetMainRect());</div>
<div class="line"><a id="l07853" name="l07853"></a><span class="lineno"> 7853</span>        <a class="code hl_struct" href="structImRect.html">ImRect</a> viewport_work_rect(window-&gt;Viewport-&gt;GetWorkRect());</div>
<div class="line"><a id="l07854" name="l07854"></a><span class="lineno"> 7854</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> visibility_padding = ImMax(style.DisplayWindowPadding, style.DisplaySafeAreaPadding);</div>
<div class="line"><a id="l07855" name="l07855"></a><span class="lineno"> 7855</span>        <a class="code hl_struct" href="structImRect.html">ImRect</a> visibility_rect(viewport_work_rect.Min + visibility_padding, viewport_work_rect.Max - visibility_padding);</div>
<div class="line"><a id="l07856" name="l07856"></a><span class="lineno"> 7856</span> </div>
<div class="line"><a id="l07857" name="l07857"></a><span class="lineno"> 7857</span>        <span class="comment">// Clamp position/size so window stays visible within its viewport or monitor</span></div>
<div class="line"><a id="l07858" name="l07858"></a><span class="lineno"> 7858</span>        <span class="comment">// Ignore zero-sized display explicitly to avoid losing positions if a window manager reports zero-sized window when initializing or minimizing.</span></div>
<div class="line"><a id="l07859" name="l07859"></a><span class="lineno"> 7859</span>        <span class="comment">// FIXME: Similar to code in GetWindowAllowedExtentRect()</span></div>
<div class="line"><a id="l07860" name="l07860"></a><span class="lineno"> 7860</span>        <span class="keywordflow">if</span> (!window_pos_set_by_api &amp;&amp; !(flags &amp; ImGuiWindowFlags_ChildWindow))</div>
<div class="line"><a id="l07861" name="l07861"></a><span class="lineno"> 7861</span>        {</div>
<div class="line"><a id="l07862" name="l07862"></a><span class="lineno"> 7862</span>            <span class="keywordflow">if</span> (!window-&gt;ViewportOwned &amp;&amp; viewport_rect.GetWidth() &gt; 0 &amp;&amp; viewport_rect.GetHeight() &gt; 0.0f)</div>
<div class="line"><a id="l07863" name="l07863"></a><span class="lineno"> 7863</span>            {</div>
<div class="line"><a id="l07864" name="l07864"></a><span class="lineno"> 7864</span>                ClampWindowPos(window, visibility_rect);</div>
<div class="line"><a id="l07865" name="l07865"></a><span class="lineno"> 7865</span>            }</div>
<div class="line"><a id="l07866" name="l07866"></a><span class="lineno"> 7866</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (window-&gt;ViewportOwned &amp;&amp; g.PlatformIO.Monitors.Size &gt; 0)</div>
<div class="line"><a id="l07867" name="l07867"></a><span class="lineno"> 7867</span>            {</div>
<div class="line"><a id="l07868" name="l07868"></a><span class="lineno"> 7868</span>                <span class="keywordflow">if</span> (g.MovingWindow != NULL &amp;&amp; window-&gt;RootWindowDockTree == g.MovingWindow-&gt;RootWindowDockTree)</div>
<div class="line"><a id="l07869" name="l07869"></a><span class="lineno"> 7869</span>                {</div>
<div class="line"><a id="l07870" name="l07870"></a><span class="lineno"> 7870</span>                    <span class="comment">// While moving windows we allow them to straddle monitors (#7299, #3071)</span></div>
<div class="line"><a id="l07871" name="l07871"></a><span class="lineno"> 7871</span>                    visibility_rect = g.PlatformMonitorsFullWorkRect;</div>
<div class="line"><a id="l07872" name="l07872"></a><span class="lineno"> 7872</span>                }</div>
<div class="line"><a id="l07873" name="l07873"></a><span class="lineno"> 7873</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l07874" name="l07874"></a><span class="lineno"> 7874</span>                {</div>
<div class="line"><a id="l07875" name="l07875"></a><span class="lineno"> 7875</span>                    <span class="comment">// When not moving ensure visible in its monitor</span></div>
<div class="line"><a id="l07876" name="l07876"></a><span class="lineno"> 7876</span>                    <span class="comment">// Lost windows (e.g. a monitor disconnected) will naturally moved to the fallback/dummy monitor aka the main viewport.</span></div>
<div class="line"><a id="l07877" name="l07877"></a><span class="lineno"> 7877</span>                    <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiPlatformMonitor.html">ImGuiPlatformMonitor</a>* monitor = GetViewportPlatformMonitor(window-&gt;Viewport);</div>
<div class="line"><a id="l07878" name="l07878"></a><span class="lineno"> 7878</span>                    visibility_rect = <a class="code hl_struct" href="structImRect.html">ImRect</a>(monitor-&gt;WorkPos, monitor-&gt;WorkPos + monitor-&gt;WorkSize);</div>
<div class="line"><a id="l07879" name="l07879"></a><span class="lineno"> 7879</span>                }</div>
<div class="line"><a id="l07880" name="l07880"></a><span class="lineno"> 7880</span>                visibility_rect.Expand(-visibility_padding);</div>
<div class="line"><a id="l07881" name="l07881"></a><span class="lineno"> 7881</span>                ClampWindowPos(window, visibility_rect);</div>
<div class="line"><a id="l07882" name="l07882"></a><span class="lineno"> 7882</span>            }</div>
<div class="line"><a id="l07883" name="l07883"></a><span class="lineno"> 7883</span>        }</div>
<div class="line"><a id="l07884" name="l07884"></a><span class="lineno"> 7884</span>        window-&gt;Pos = ImTrunc(window-&gt;Pos);</div>
<div class="line"><a id="l07885" name="l07885"></a><span class="lineno"> 7885</span> </div>
<div class="line"><a id="l07886" name="l07886"></a><span class="lineno"> 7886</span>        <span class="comment">// Lock window rounding for the frame (so that altering them doesn&#39;t cause inconsistencies)</span></div>
<div class="line"><a id="l07887" name="l07887"></a><span class="lineno"> 7887</span>        <span class="comment">// Large values tend to lead to variety of artifacts and are not recommended.</span></div>
<div class="line"><a id="l07888" name="l07888"></a><span class="lineno"> 7888</span>        <span class="keywordflow">if</span> (window-&gt;ViewportOwned || window-&gt;DockIsActive)</div>
<div class="line"><a id="l07889" name="l07889"></a><span class="lineno"> 7889</span>            window-&gt;WindowRounding = 0.0f;</div>
<div class="line"><a id="l07890" name="l07890"></a><span class="lineno"> 7890</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l07891" name="l07891"></a><span class="lineno"> 7891</span>            window-&gt;WindowRounding = (flags &amp; ImGuiWindowFlags_ChildWindow) ? style.ChildRounding : ((flags &amp; ImGuiWindowFlags_Popup) &amp;&amp; !(flags &amp; ImGuiWindowFlags_Modal)) ? style.PopupRounding : style.WindowRounding;</div>
<div class="line"><a id="l07892" name="l07892"></a><span class="lineno"> 7892</span> </div>
<div class="line"><a id="l07893" name="l07893"></a><span class="lineno"> 7893</span>        <span class="comment">// For windows with title bar or menu bar, we clamp to FrameHeight(FontSize + FramePadding.y * 2.0f) to completely hide artifacts.</span></div>
<div class="line"><a id="l07894" name="l07894"></a><span class="lineno"> 7894</span>        <span class="comment">//if ((window-&gt;Flags &amp; ImGuiWindowFlags_MenuBar) || !(window-&gt;Flags &amp; ImGuiWindowFlags_NoTitleBar))</span></div>
<div class="line"><a id="l07895" name="l07895"></a><span class="lineno"> 7895</span>        <span class="comment">//    window-&gt;WindowRounding = ImMin(window-&gt;WindowRounding, g.FontSize + style.FramePadding.y * 2.0f);</span></div>
<div class="line"><a id="l07896" name="l07896"></a><span class="lineno"> 7896</span> </div>
<div class="line"><a id="l07897" name="l07897"></a><span class="lineno"> 7897</span>        <span class="comment">// Apply window focus (new and reactivated windows are moved to front)</span></div>
<div class="line"><a id="l07898" name="l07898"></a><span class="lineno"> 7898</span>        <span class="keywordtype">bool</span> want_focus = <span class="keyword">false</span>;</div>
<div class="line"><a id="l07899" name="l07899"></a><span class="lineno"> 7899</span>        <span class="keywordflow">if</span> (window_just_activated_by_user &amp;&amp; !(flags &amp; ImGuiWindowFlags_NoFocusOnAppearing))</div>
<div class="line"><a id="l07900" name="l07900"></a><span class="lineno"> 7900</span>        {</div>
<div class="line"><a id="l07901" name="l07901"></a><span class="lineno"> 7901</span>            <span class="keywordflow">if</span> (flags &amp; ImGuiWindowFlags_Popup)</div>
<div class="line"><a id="l07902" name="l07902"></a><span class="lineno"> 7902</span>                want_focus = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07903" name="l07903"></a><span class="lineno"> 7903</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((window-&gt;DockIsActive || (flags &amp; ImGuiWindowFlags_ChildWindow) == 0) &amp;&amp; !(flags &amp; ImGuiWindowFlags_Tooltip))</div>
<div class="line"><a id="l07904" name="l07904"></a><span class="lineno"> 7904</span>                want_focus = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07905" name="l07905"></a><span class="lineno"> 7905</span>        }</div>
<div class="line"><a id="l07906" name="l07906"></a><span class="lineno"> 7906</span> </div>
<div class="line"><a id="l07907" name="l07907"></a><span class="lineno"> 7907</span>        <span class="comment">// [Test Engine] Register whole window in the item system (before submitting further decorations)</span></div>
<div class="line"><a id="l07908" name="l07908"></a><span class="lineno"> 7908</span><span class="preprocessor">#ifdef IMGUI_ENABLE_TEST_ENGINE</span></div>
<div class="line"><a id="l07909" name="l07909"></a><span class="lineno"> 7909</span>        <span class="keywordflow">if</span> (g.TestEngineHookItems)</div>
<div class="line"><a id="l07910" name="l07910"></a><span class="lineno"> 7910</span>        {</div>
<div class="line"><a id="l07911" name="l07911"></a><span class="lineno"> 7911</span>            IM_ASSERT(window-&gt;IDStack.Size == 1);</div>
<div class="line"><a id="l07912" name="l07912"></a><span class="lineno"> 7912</span>            window-&gt;IDStack.Size = 0; <span class="comment">// As window-&gt;IDStack[0] == window-&gt;ID here, make sure TestEngine doesn&#39;t erroneously see window as parent of itself.</span></div>
<div class="line"><a id="l07913" name="l07913"></a><span class="lineno"> 7913</span>            window-&gt;DC.NavLayerCurrent = ImGuiNavLayer_Menu;</div>
<div class="line"><a id="l07914" name="l07914"></a><span class="lineno"> 7914</span>            IMGUI_TEST_ENGINE_ITEM_ADD(window-&gt;ID, window-&gt;Rect(), NULL);</div>
<div class="line"><a id="l07915" name="l07915"></a><span class="lineno"> 7915</span>            IMGUI_TEST_ENGINE_ITEM_INFO(window-&gt;ID, window-&gt;Name, (g.HoveredWindow == window) ? ImGuiItemStatusFlags_HoveredRect : 0);</div>
<div class="line"><a id="l07916" name="l07916"></a><span class="lineno"> 7916</span>            window-&gt;IDStack.Size = 1;</div>
<div class="line"><a id="l07917" name="l07917"></a><span class="lineno"> 7917</span>            window-&gt;DC.NavLayerCurrent = ImGuiNavLayer_Main;</div>
<div class="line"><a id="l07918" name="l07918"></a><span class="lineno"> 7918</span> </div>
<div class="line"><a id="l07919" name="l07919"></a><span class="lineno"> 7919</span>        }</div>
<div class="line"><a id="l07920" name="l07920"></a><span class="lineno"> 7920</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l07921" name="l07921"></a><span class="lineno"> 7921</span> </div>
<div class="line"><a id="l07922" name="l07922"></a><span class="lineno"> 7922</span>        <span class="comment">// Decide if we are going to handle borders and resize grips</span></div>
<div class="line"><a id="l07923" name="l07923"></a><span class="lineno"> 7923</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> handle_borders_and_resize_grips = (window-&gt;DockNodeAsHost || !window-&gt;DockIsActive);</div>
<div class="line"><a id="l07924" name="l07924"></a><span class="lineno"> 7924</span> </div>
<div class="line"><a id="l07925" name="l07925"></a><span class="lineno"> 7925</span>        <span class="comment">// Handle manual resize: Resize Grips, Borders, Gamepad</span></div>
<div class="line"><a id="l07926" name="l07926"></a><span class="lineno"> 7926</span>        <span class="keywordtype">int</span> border_hovered = -1, border_held = -1;</div>
<div class="line"><a id="l07927" name="l07927"></a><span class="lineno"> 7927</span>        ImU32 resize_grip_col[4] = {};</div>
<div class="line"><a id="l07928" name="l07928"></a><span class="lineno"> 7928</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> resize_grip_count = ((flags &amp; ImGuiWindowFlags_ChildWindow) &amp;&amp; !(flags &amp; ImGuiWindowFlags_Popup)) ? 0 : g.IO.ConfigWindowsResizeFromEdges ? 2 : 1; <span class="comment">// Allow resize from lower-left if we have the mouse cursor feedback for it.</span></div>
<div class="line"><a id="l07929" name="l07929"></a><span class="lineno"> 7929</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> resize_grip_draw_size = IM_TRUNC(ImMax(g.FontSize * 1.10f, window-&gt;WindowRounding + 1.0f + g.FontSize * 0.2f));</div>
<div class="line"><a id="l07930" name="l07930"></a><span class="lineno"> 7930</span>        <span class="keywordflow">if</span> (handle_borders_and_resize_grips &amp;&amp; !window-&gt;Collapsed)</div>
<div class="line"><a id="l07931" name="l07931"></a><span class="lineno"> 7931</span>            <span class="keywordflow">if</span> (<span class="keywordtype">int</span> auto_fit_mask = UpdateWindowManualResize(window, size_auto_fit, &amp;border_hovered, &amp;border_held, resize_grip_count, &amp;resize_grip_col[0], visibility_rect))</div>
<div class="line"><a id="l07932" name="l07932"></a><span class="lineno"> 7932</span>            {</div>
<div class="line"><a id="l07933" name="l07933"></a><span class="lineno"> 7933</span>                <span class="keywordflow">if</span> (auto_fit_mask &amp; (1 &lt;&lt; ImGuiAxis_X))</div>
<div class="line"><a id="l07934" name="l07934"></a><span class="lineno"> 7934</span>                    use_current_size_for_scrollbar_x = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07935" name="l07935"></a><span class="lineno"> 7935</span>                <span class="keywordflow">if</span> (auto_fit_mask &amp; (1 &lt;&lt; ImGuiAxis_Y))</div>
<div class="line"><a id="l07936" name="l07936"></a><span class="lineno"> 7936</span>                    use_current_size_for_scrollbar_y = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07937" name="l07937"></a><span class="lineno"> 7937</span>            }</div>
<div class="line"><a id="l07938" name="l07938"></a><span class="lineno"> 7938</span>        window-&gt;ResizeBorderHovered = (<span class="keywordtype">signed</span> char)border_hovered;</div>
<div class="line"><a id="l07939" name="l07939"></a><span class="lineno"> 7939</span>        window-&gt;ResizeBorderHeld = (<span class="keywordtype">signed</span> char)border_held;</div>
<div class="line"><a id="l07940" name="l07940"></a><span class="lineno"> 7940</span> </div>
<div class="line"><a id="l07941" name="l07941"></a><span class="lineno"> 7941</span>        <span class="comment">// Synchronize window --&gt; viewport again and one last time (clamping and manual resize may have affected either)</span></div>
<div class="line"><a id="l07942" name="l07942"></a><span class="lineno"> 7942</span>        <span class="keywordflow">if</span> (window-&gt;ViewportOwned)</div>
<div class="line"><a id="l07943" name="l07943"></a><span class="lineno"> 7943</span>        {</div>
<div class="line"><a id="l07944" name="l07944"></a><span class="lineno"> 7944</span>            <span class="keywordflow">if</span> (!window-&gt;Viewport-&gt;PlatformRequestMove)</div>
<div class="line"><a id="l07945" name="l07945"></a><span class="lineno"> 7945</span>                window-&gt;Viewport-&gt;Pos = window-&gt;Pos;</div>
<div class="line"><a id="l07946" name="l07946"></a><span class="lineno"> 7946</span>            <span class="keywordflow">if</span> (!window-&gt;Viewport-&gt;PlatformRequestResize)</div>
<div class="line"><a id="l07947" name="l07947"></a><span class="lineno"> 7947</span>                window-&gt;Viewport-&gt;Size = window-&gt;Size;</div>
<div class="line"><a id="l07948" name="l07948"></a><span class="lineno"> 7948</span>            window-&gt;Viewport-&gt;UpdateWorkRect();</div>
<div class="line"><a id="l07949" name="l07949"></a><span class="lineno"> 7949</span>            viewport_rect = window-&gt;Viewport-&gt;GetMainRect();</div>
<div class="line"><a id="l07950" name="l07950"></a><span class="lineno"> 7950</span>        }</div>
<div class="line"><a id="l07951" name="l07951"></a><span class="lineno"> 7951</span> </div>
<div class="line"><a id="l07952" name="l07952"></a><span class="lineno"> 7952</span>        <span class="comment">// Save last known viewport position within the window itself (so it can be saved in .ini file and restored)</span></div>
<div class="line"><a id="l07953" name="l07953"></a><span class="lineno"> 7953</span>        window-&gt;ViewportPos = window-&gt;Viewport-&gt;Pos;</div>
<div class="line"><a id="l07954" name="l07954"></a><span class="lineno"> 7954</span> </div>
<div class="line"><a id="l07955" name="l07955"></a><span class="lineno"> 7955</span>        <span class="comment">// SCROLLBAR VISIBILITY</span></div>
<div class="line"><a id="l07956" name="l07956"></a><span class="lineno"> 7956</span> </div>
<div class="line"><a id="l07957" name="l07957"></a><span class="lineno"> 7957</span>        <span class="comment">// Update scrollbar visibility (based on the Size that was effective during last frame or the auto-resized Size).</span></div>
<div class="line"><a id="l07958" name="l07958"></a><span class="lineno"> 7958</span>        <span class="keywordflow">if</span> (!window-&gt;Collapsed)</div>
<div class="line"><a id="l07959" name="l07959"></a><span class="lineno"> 7959</span>        {</div>
<div class="line"><a id="l07960" name="l07960"></a><span class="lineno"> 7960</span>            <span class="comment">// When reading the current size we need to read it after size constraints have been applied.</span></div>
<div class="line"><a id="l07961" name="l07961"></a><span class="lineno"> 7961</span>            <span class="comment">// Intentionally use previous frame values for InnerRect and ScrollbarSizes.</span></div>
<div class="line"><a id="l07962" name="l07962"></a><span class="lineno"> 7962</span>            <span class="comment">// And when we use window-&gt;DecorationUp here it doesn&#39;t have ScrollbarSizes.y applied yet.</span></div>
<div class="line"><a id="l07963" name="l07963"></a><span class="lineno"> 7963</span>            <a class="code hl_struct" href="structImVec2.html">ImVec2</a> avail_size_from_current_frame = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(window-&gt;SizeFull.x, window-&gt;SizeFull.y - (window-&gt;DecoOuterSizeY1 + window-&gt;DecoOuterSizeY2));</div>
<div class="line"><a id="l07964" name="l07964"></a><span class="lineno"> 7964</span>            <a class="code hl_struct" href="structImVec2.html">ImVec2</a> avail_size_from_last_frame = window-&gt;InnerRect.GetSize() + scrollbar_sizes_from_last_frame;</div>
<div class="line"><a id="l07965" name="l07965"></a><span class="lineno"> 7965</span>            <a class="code hl_struct" href="structImVec2.html">ImVec2</a> needed_size_from_last_frame = window_just_created ? <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0, 0) : window-&gt;ContentSize + window-&gt;WindowPadding * 2.0f;</div>
<div class="line"><a id="l07966" name="l07966"></a><span class="lineno"> 7966</span>            <span class="keywordtype">float</span> size_x_for_scrollbars = use_current_size_for_scrollbar_x ? avail_size_from_current_frame.x : avail_size_from_last_frame.x;</div>
<div class="line"><a id="l07967" name="l07967"></a><span class="lineno"> 7967</span>            <span class="keywordtype">float</span> size_y_for_scrollbars = use_current_size_for_scrollbar_y ? avail_size_from_current_frame.y : avail_size_from_last_frame.y;</div>
<div class="line"><a id="l07968" name="l07968"></a><span class="lineno"> 7968</span>            <span class="keywordtype">bool</span> scrollbar_x_prev = window-&gt;ScrollbarX;</div>
<div class="line"><a id="l07969" name="l07969"></a><span class="lineno"> 7969</span>            <span class="comment">//bool scrollbar_y_from_last_frame = window-&gt;ScrollbarY; // FIXME: May want to use that in the ScrollbarX expression? How many pros vs cons?</span></div>
<div class="line"><a id="l07970" name="l07970"></a><span class="lineno"> 7970</span>            window-&gt;ScrollbarY = (flags &amp; ImGuiWindowFlags_AlwaysVerticalScrollbar) || ((needed_size_from_last_frame.y &gt; size_y_for_scrollbars) &amp;&amp; !(flags &amp; ImGuiWindowFlags_NoScrollbar));</div>
<div class="line"><a id="l07971" name="l07971"></a><span class="lineno"> 7971</span>            window-&gt;ScrollbarX = (flags &amp; ImGuiWindowFlags_AlwaysHorizontalScrollbar) || ((needed_size_from_last_frame.x &gt; size_x_for_scrollbars - (window-&gt;ScrollbarY ? style.ScrollbarSize : 0.0f)) &amp;&amp; !(flags &amp; ImGuiWindowFlags_NoScrollbar) &amp;&amp; (flags &amp; ImGuiWindowFlags_HorizontalScrollbar));</div>
<div class="line"><a id="l07972" name="l07972"></a><span class="lineno"> 7972</span> </div>
<div class="line"><a id="l07973" name="l07973"></a><span class="lineno"> 7973</span>            <span class="comment">// Track when ScrollbarX visibility keeps toggling, which is a sign of a feedback loop, and stabilize by enforcing visibility (#3285, #8488)</span></div>
<div class="line"><a id="l07974" name="l07974"></a><span class="lineno"> 7974</span>            <span class="comment">// (Feedback loops of this sort can manifest in various situations, but combining horizontal + vertical scrollbar + using a clipper with varying width items is one frequent cause.</span></div>
<div class="line"><a id="l07975" name="l07975"></a><span class="lineno"> 7975</span>            <span class="comment">//  The better solution is to, either (1) enforce visibility by using ImGuiWindowFlags_AlwaysHorizontalScrollbar or (2) declare stable contents width with SetNextWindowContentSize(), if you can compute it)</span></div>
<div class="line"><a id="l07976" name="l07976"></a><span class="lineno"> 7976</span>            window-&gt;ScrollbarXStabilizeToggledHistory &lt;&lt;= 1;</div>
<div class="line"><a id="l07977" name="l07977"></a><span class="lineno"> 7977</span>            window-&gt;ScrollbarXStabilizeToggledHistory |= (scrollbar_x_prev != window-&gt;ScrollbarX) ? 0x01 : 0x00;</div>
<div class="line"><a id="l07978" name="l07978"></a><span class="lineno"> 7978</span>            <span class="keyword">const</span> <span class="keywordtype">bool</span> scrollbar_x_stabilize = (window-&gt;ScrollbarXStabilizeToggledHistory != 0) &amp;&amp; ImCountSetBits(window-&gt;ScrollbarXStabilizeToggledHistory) &gt;= 4; <span class="comment">// 4 == half of bits in our U8 history.</span></div>
<div class="line"><a id="l07979" name="l07979"></a><span class="lineno"> 7979</span>            <span class="keywordflow">if</span> (scrollbar_x_stabilize)</div>
<div class="line"><a id="l07980" name="l07980"></a><span class="lineno"> 7980</span>                window-&gt;ScrollbarX = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07981" name="l07981"></a><span class="lineno"> 7981</span>            <span class="comment">//if (scrollbar_x_stabilize &amp;&amp; !window-&gt;ScrollbarXStabilizeEnabled)</span></div>
<div class="line"><a id="l07982" name="l07982"></a><span class="lineno"> 7982</span>            <span class="comment">//    IMGUI_DEBUG_LOG(&quot;[scroll] Stabilize ScrollbarX for Window &#39;%s&#39;\n&quot;, window-&gt;Name);</span></div>
<div class="line"><a id="l07983" name="l07983"></a><span class="lineno"> 7983</span>            window-&gt;ScrollbarXStabilizeEnabled = scrollbar_x_stabilize;</div>
<div class="line"><a id="l07984" name="l07984"></a><span class="lineno"> 7984</span> </div>
<div class="line"><a id="l07985" name="l07985"></a><span class="lineno"> 7985</span>            <span class="keywordflow">if</span> (window-&gt;ScrollbarX &amp;&amp; !window-&gt;ScrollbarY)</div>
<div class="line"><a id="l07986" name="l07986"></a><span class="lineno"> 7986</span>                window-&gt;ScrollbarY = (needed_size_from_last_frame.y &gt; size_y_for_scrollbars - style.ScrollbarSize) &amp;&amp; !(flags &amp; ImGuiWindowFlags_NoScrollbar);</div>
<div class="line"><a id="l07987" name="l07987"></a><span class="lineno"> 7987</span>            window-&gt;ScrollbarSizes = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(window-&gt;ScrollbarY ? style.ScrollbarSize : 0.0f, window-&gt;ScrollbarX ? style.ScrollbarSize : 0.0f);</div>
<div class="line"><a id="l07988" name="l07988"></a><span class="lineno"> 7988</span> </div>
<div class="line"><a id="l07989" name="l07989"></a><span class="lineno"> 7989</span>            <span class="comment">// Amend the partially filled window-&gt;DecorationXXX values.</span></div>
<div class="line"><a id="l07990" name="l07990"></a><span class="lineno"> 7990</span>            window-&gt;DecoOuterSizeX2 += window-&gt;ScrollbarSizes.x;</div>
<div class="line"><a id="l07991" name="l07991"></a><span class="lineno"> 7991</span>            window-&gt;DecoOuterSizeY2 += window-&gt;ScrollbarSizes.y;</div>
<div class="line"><a id="l07992" name="l07992"></a><span class="lineno"> 7992</span>        }</div>
<div class="line"><a id="l07993" name="l07993"></a><span class="lineno"> 7993</span> </div>
<div class="line"><a id="l07994" name="l07994"></a><span class="lineno"> 7994</span>        <span class="comment">// UPDATE RECTANGLES (1- THOSE NOT AFFECTED BY SCROLLING)</span></div>
<div class="line"><a id="l07995" name="l07995"></a><span class="lineno"> 7995</span>        <span class="comment">// Update various regions. Variables they depend on should be set above in this function.</span></div>
<div class="line"><a id="l07996" name="l07996"></a><span class="lineno"> 7996</span>        <span class="comment">// We set this up after processing the resize grip so that our rectangles doesn&#39;t lag by a frame.</span></div>
<div class="line"><a id="l07997" name="l07997"></a><span class="lineno"> 7997</span> </div>
<div class="line"><a id="l07998" name="l07998"></a><span class="lineno"> 7998</span>        <span class="comment">// Outer rectangle</span></div>
<div class="line"><a id="l07999" name="l07999"></a><span class="lineno"> 7999</span>        <span class="comment">// Not affected by window border size. Used by:</span></div>
<div class="line"><a id="l08000" name="l08000"></a><span class="lineno"> 8000</span>        <span class="comment">// - FindHoveredWindow() (w/ extra padding when border resize is enabled)</span></div>
<div class="line"><a id="l08001" name="l08001"></a><span class="lineno"> 8001</span>        <span class="comment">// - Begin() initial clipping rect for drawing window background and borders.</span></div>
<div class="line"><a id="l08002" name="l08002"></a><span class="lineno"> 8002</span>        <span class="comment">// - Begin() clipping whole child</span></div>
<div class="line"><a id="l08003" name="l08003"></a><span class="lineno"> 8003</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a> host_rect = ((flags &amp; ImGuiWindowFlags_ChildWindow) &amp;&amp; !(flags &amp; ImGuiWindowFlags_Popup) &amp;&amp; !window_is_child_tooltip) ? parent_window-&gt;ClipRect : viewport_rect;</div>
<div class="line"><a id="l08004" name="l08004"></a><span class="lineno"> 8004</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a> outer_rect = window-&gt;Rect();</div>
<div class="line"><a id="l08005" name="l08005"></a><span class="lineno"> 8005</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a> title_bar_rect = window-&gt;TitleBarRect();</div>
<div class="line"><a id="l08006" name="l08006"></a><span class="lineno"> 8006</span>        window-&gt;OuterRectClipped = outer_rect;</div>
<div class="line"><a id="l08007" name="l08007"></a><span class="lineno"> 8007</span>        <span class="keywordflow">if</span> (window-&gt;DockIsActive)</div>
<div class="line"><a id="l08008" name="l08008"></a><span class="lineno"> 8008</span>            window-&gt;OuterRectClipped.Min.y += window-&gt;TitleBarHeight;</div>
<div class="line"><a id="l08009" name="l08009"></a><span class="lineno"> 8009</span>        window-&gt;OuterRectClipped.ClipWith(host_rect);</div>
<div class="line"><a id="l08010" name="l08010"></a><span class="lineno"> 8010</span> </div>
<div class="line"><a id="l08011" name="l08011"></a><span class="lineno"> 8011</span>        <span class="comment">// Inner rectangle</span></div>
<div class="line"><a id="l08012" name="l08012"></a><span class="lineno"> 8012</span>        <span class="comment">// Not affected by window border size. Used by:</span></div>
<div class="line"><a id="l08013" name="l08013"></a><span class="lineno"> 8013</span>        <span class="comment">// - InnerClipRect</span></div>
<div class="line"><a id="l08014" name="l08014"></a><span class="lineno"> 8014</span>        <span class="comment">// - ScrollToRectEx()</span></div>
<div class="line"><a id="l08015" name="l08015"></a><span class="lineno"> 8015</span>        <span class="comment">// - NavUpdatePageUpPageDown()</span></div>
<div class="line"><a id="l08016" name="l08016"></a><span class="lineno"> 8016</span>        <span class="comment">// - Scrollbar()</span></div>
<div class="line"><a id="l08017" name="l08017"></a><span class="lineno"> 8017</span>        window-&gt;InnerRect.Min.x = window-&gt;Pos.x + window-&gt;DecoOuterSizeX1;</div>
<div class="line"><a id="l08018" name="l08018"></a><span class="lineno"> 8018</span>        window-&gt;InnerRect.Min.y = window-&gt;Pos.y + window-&gt;DecoOuterSizeY1;</div>
<div class="line"><a id="l08019" name="l08019"></a><span class="lineno"> 8019</span>        window-&gt;InnerRect.Max.x = window-&gt;Pos.x + window-&gt;Size.x - window-&gt;DecoOuterSizeX2;</div>
<div class="line"><a id="l08020" name="l08020"></a><span class="lineno"> 8020</span>        window-&gt;InnerRect.Max.y = window-&gt;Pos.y + window-&gt;Size.y - window-&gt;DecoOuterSizeY2;</div>
<div class="line"><a id="l08021" name="l08021"></a><span class="lineno"> 8021</span> </div>
<div class="line"><a id="l08022" name="l08022"></a><span class="lineno"> 8022</span>        <span class="comment">// Inner clipping rectangle.</span></div>
<div class="line"><a id="l08023" name="l08023"></a><span class="lineno"> 8023</span>        <span class="comment">// - Extend a outside of normal work region up to borders.</span></div>
<div class="line"><a id="l08024" name="l08024"></a><span class="lineno"> 8024</span>        <span class="comment">// - This is to allow e.g. Selectable or CollapsingHeader or some separators to cover that space.</span></div>
<div class="line"><a id="l08025" name="l08025"></a><span class="lineno"> 8025</span>        <span class="comment">// - It also makes clipped items be more noticeable.</span></div>
<div class="line"><a id="l08026" name="l08026"></a><span class="lineno"> 8026</span>        <span class="comment">// - And is consistent on both axis (prior to 2024/05/03 ClipRect used WindowPadding.x * 0.5f on left and right edge), see #3312</span></div>
<div class="line"><a id="l08027" name="l08027"></a><span class="lineno"> 8027</span>        <span class="comment">// - Force round operator last to ensure that e.g. (int)(max.x-min.x) in user&#39;s render code produce correct result.</span></div>
<div class="line"><a id="l08028" name="l08028"></a><span class="lineno"> 8028</span>        <span class="comment">// Note that if our window is collapsed we will end up with an inverted (~null) clipping rectangle which is the correct behavior.</span></div>
<div class="line"><a id="l08029" name="l08029"></a><span class="lineno"> 8029</span>        <span class="comment">// Affected by window/frame border size. Used by:</span></div>
<div class="line"><a id="l08030" name="l08030"></a><span class="lineno"> 8030</span>        <span class="comment">// - Begin() initial clip rect</span></div>
<div class="line"><a id="l08031" name="l08031"></a><span class="lineno"> 8031</span>        <span class="keywordtype">float</span> top_border_size = (((flags &amp; ImGuiWindowFlags_MenuBar) || !(flags &amp; ImGuiWindowFlags_NoTitleBar)) ? style.FrameBorderSize : window-&gt;WindowBorderSize);</div>
<div class="line"><a id="l08032" name="l08032"></a><span class="lineno"> 8032</span> </div>
<div class="line"><a id="l08033" name="l08033"></a><span class="lineno"> 8033</span>        <span class="comment">// Try to match the fact that our border is drawn centered over the window rectangle, rather than inner.</span></div>
<div class="line"><a id="l08034" name="l08034"></a><span class="lineno"> 8034</span>        <span class="comment">// This is why we do a *0.5f here. We don&#39;t currently even technically support large values for WindowBorderSize,</span></div>
<div class="line"><a id="l08035" name="l08035"></a><span class="lineno"> 8035</span>        <span class="comment">// see e.g #7887 #7888, but may do after we move the window border to become an inner border (and then we can remove the 0.5f here).</span></div>
<div class="line"><a id="l08036" name="l08036"></a><span class="lineno"> 8036</span>        window-&gt;InnerClipRect.Min.x = ImFloor(0.5f + window-&gt;InnerRect.Min.x + window-&gt;WindowBorderSize * 0.5f);</div>
<div class="line"><a id="l08037" name="l08037"></a><span class="lineno"> 8037</span>        window-&gt;InnerClipRect.Min.y = ImFloor(0.5f + window-&gt;InnerRect.Min.y + top_border_size * 0.5f);</div>
<div class="line"><a id="l08038" name="l08038"></a><span class="lineno"> 8038</span>        window-&gt;InnerClipRect.Max.x = ImFloor(window-&gt;InnerRect.Max.x - window-&gt;WindowBorderSize * 0.5f);</div>
<div class="line"><a id="l08039" name="l08039"></a><span class="lineno"> 8039</span>        window-&gt;InnerClipRect.Max.y = ImFloor(window-&gt;InnerRect.Max.y - window-&gt;WindowBorderSize * 0.5f);</div>
<div class="line"><a id="l08040" name="l08040"></a><span class="lineno"> 8040</span>        window-&gt;InnerClipRect.ClipWithFull(host_rect);</div>
<div class="line"><a id="l08041" name="l08041"></a><span class="lineno"> 8041</span> </div>
<div class="line"><a id="l08042" name="l08042"></a><span class="lineno"> 8042</span>        <span class="comment">// Default item width. Make it proportional to window size if window manually resizes</span></div>
<div class="line"><a id="l08043" name="l08043"></a><span class="lineno"> 8043</span>        <span class="keywordflow">if</span> (window-&gt;Size.x &gt; 0.0f &amp;&amp; !(flags &amp; ImGuiWindowFlags_Tooltip) &amp;&amp; !(flags &amp; ImGuiWindowFlags_AlwaysAutoResize))</div>
<div class="line"><a id="l08044" name="l08044"></a><span class="lineno"> 8044</span>            window-&gt;ItemWidthDefault = ImTrunc(window-&gt;Size.x * 0.65f);</div>
<div class="line"><a id="l08045" name="l08045"></a><span class="lineno"> 8045</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l08046" name="l08046"></a><span class="lineno"> 8046</span>            window-&gt;ItemWidthDefault = ImTrunc(g.FontSize * 16.0f);</div>
<div class="line"><a id="l08047" name="l08047"></a><span class="lineno"> 8047</span> </div>
<div class="line"><a id="l08048" name="l08048"></a><span class="lineno"> 8048</span>        <span class="comment">// SCROLLING</span></div>
<div class="line"><a id="l08049" name="l08049"></a><span class="lineno"> 8049</span> </div>
<div class="line"><a id="l08050" name="l08050"></a><span class="lineno"> 8050</span>        <span class="comment">// Lock down maximum scrolling</span></div>
<div class="line"><a id="l08051" name="l08051"></a><span class="lineno"> 8051</span>        <span class="comment">// The value of ScrollMax are ahead from ScrollbarX/ScrollbarY which is intentionally using InnerRect from previous rect in order to accommodate</span></div>
<div class="line"><a id="l08052" name="l08052"></a><span class="lineno"> 8052</span>        <span class="comment">// for right/bottom aligned items without creating a scrollbar.</span></div>
<div class="line"><a id="l08053" name="l08053"></a><span class="lineno"> 8053</span>        window-&gt;ScrollMax.x = ImMax(0.0f, window-&gt;ContentSize.x + window-&gt;WindowPadding.x * 2.0f - window-&gt;InnerRect.GetWidth());</div>
<div class="line"><a id="l08054" name="l08054"></a><span class="lineno"> 8054</span>        window-&gt;ScrollMax.y = ImMax(0.0f, window-&gt;ContentSize.y + window-&gt;WindowPadding.y * 2.0f - window-&gt;InnerRect.GetHeight());</div>
<div class="line"><a id="l08055" name="l08055"></a><span class="lineno"> 8055</span> </div>
<div class="line"><a id="l08056" name="l08056"></a><span class="lineno"> 8056</span>        <span class="comment">// Apply scrolling</span></div>
<div class="line"><a id="l08057" name="l08057"></a><span class="lineno"> 8057</span>        window-&gt;Scroll = CalcNextScrollFromScrollTargetAndClamp(window);</div>
<div class="line"><a id="l08058" name="l08058"></a><span class="lineno"> 8058</span>        window-&gt;ScrollTarget = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(FLT_MAX, FLT_MAX);</div>
<div class="line"><a id="l08059" name="l08059"></a><span class="lineno"> 8059</span>        window-&gt;DecoInnerSizeX1 = window-&gt;DecoInnerSizeY1 = 0.0f;</div>
<div class="line"><a id="l08060" name="l08060"></a><span class="lineno"> 8060</span> </div>
<div class="line"><a id="l08061" name="l08061"></a><span class="lineno"> 8061</span>        <span class="comment">// DRAWING</span></div>
<div class="line"><a id="l08062" name="l08062"></a><span class="lineno"> 8062</span> </div>
<div class="line"><a id="l08063" name="l08063"></a><span class="lineno"> 8063</span>        <span class="comment">// Setup draw list and outer clipping rectangle</span></div>
<div class="line"><a id="l08064" name="l08064"></a><span class="lineno"> 8064</span>        IM_ASSERT(window-&gt;DrawList-&gt;CmdBuffer.Size == 1 &amp;&amp; window-&gt;DrawList-&gt;CmdBuffer[0].ElemCount == 0);</div>
<div class="line"><a id="l08065" name="l08065"></a><span class="lineno"> 8065</span>        window-&gt;DrawList-&gt;PushTextureID(g.Font-&gt;ContainerAtlas-&gt;TexID);</div>
<div class="line"><a id="l08066" name="l08066"></a><span class="lineno"> 8066</span>        PushClipRect(host_rect.Min, host_rect.Max, <span class="keyword">false</span>);</div>
<div class="line"><a id="l08067" name="l08067"></a><span class="lineno"> 8067</span> </div>
<div class="line"><a id="l08068" name="l08068"></a><span class="lineno"> 8068</span>        <span class="comment">// Child windows can render their decoration (bg color, border, scrollbars, etc.) within their parent to save a draw call (since 1.71)</span></div>
<div class="line"><a id="l08069" name="l08069"></a><span class="lineno"> 8069</span>        <span class="comment">// When using overlapping child windows, this will break the assumption that child z-order is mapped to submission order.</span></div>
<div class="line"><a id="l08070" name="l08070"></a><span class="lineno"> 8070</span>        <span class="comment">// FIXME: User code may rely on explicit sorting of overlapping child window and would need to disable this somehow. Please get in contact if you are affected (github #4493)</span></div>
<div class="line"><a id="l08071" name="l08071"></a><span class="lineno"> 8071</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_undocked_or_docked_visible = !window-&gt;DockIsActive || window-&gt;DockTabIsVisible;</div>
<div class="line"><a id="l08072" name="l08072"></a><span class="lineno"> 8072</span>        <span class="keywordflow">if</span> (is_undocked_or_docked_visible)</div>
<div class="line"><a id="l08073" name="l08073"></a><span class="lineno"> 8073</span>        {</div>
<div class="line"><a id="l08074" name="l08074"></a><span class="lineno"> 8074</span>            <span class="keywordtype">bool</span> render_decorations_in_parent = <span class="keyword">false</span>;</div>
<div class="line"><a id="l08075" name="l08075"></a><span class="lineno"> 8075</span>            <span class="keywordflow">if</span> ((flags &amp; ImGuiWindowFlags_ChildWindow) &amp;&amp; !(flags &amp; ImGuiWindowFlags_Popup) &amp;&amp; !window_is_child_tooltip)</div>
<div class="line"><a id="l08076" name="l08076"></a><span class="lineno"> 8076</span>            {</div>
<div class="line"><a id="l08077" name="l08077"></a><span class="lineno"> 8077</span>                <span class="comment">// - We test overlap with the previous child window only (testing all would end up being O(log N) not a good investment here)</span></div>
<div class="line"><a id="l08078" name="l08078"></a><span class="lineno"> 8078</span>                <span class="comment">// - We disable this when the parent window has zero vertices, which is a common pattern leading to laying out multiple overlapping childs</span></div>
<div class="line"><a id="l08079" name="l08079"></a><span class="lineno"> 8079</span>                <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* previous_child = parent_window-&gt;DC.ChildWindows.Size &gt;= 2 ? parent_window-&gt;DC.ChildWindows[parent_window-&gt;DC.ChildWindows.Size - 2] : NULL;</div>
<div class="line"><a id="l08080" name="l08080"></a><span class="lineno"> 8080</span>                <span class="keywordtype">bool</span> previous_child_overlapping = previous_child ? previous_child-&gt;Rect().Overlaps(window-&gt;Rect()) : <span class="keyword">false</span>;</div>
<div class="line"><a id="l08081" name="l08081"></a><span class="lineno"> 8081</span>                <span class="keywordtype">bool</span> parent_is_empty = (parent_window-&gt;DrawList-&gt;VtxBuffer.Size == 0);</div>
<div class="line"><a id="l08082" name="l08082"></a><span class="lineno"> 8082</span>                <span class="keywordflow">if</span> (window-&gt;DrawList-&gt;CmdBuffer.back().ElemCount == 0 &amp;&amp; !parent_is_empty &amp;&amp; !previous_child_overlapping)</div>
<div class="line"><a id="l08083" name="l08083"></a><span class="lineno"> 8083</span>                    render_decorations_in_parent = <span class="keyword">true</span>;</div>
<div class="line"><a id="l08084" name="l08084"></a><span class="lineno"> 8084</span>            }</div>
<div class="line"><a id="l08085" name="l08085"></a><span class="lineno"> 8085</span>            <span class="keywordflow">if</span> (render_decorations_in_parent)</div>
<div class="line"><a id="l08086" name="l08086"></a><span class="lineno"> 8086</span>                window-&gt;DrawList = parent_window-&gt;DrawList;</div>
<div class="line"><a id="l08087" name="l08087"></a><span class="lineno"> 8087</span> </div>
<div class="line"><a id="l08088" name="l08088"></a><span class="lineno"> 8088</span>            <span class="comment">// Handle title bar, scrollbar, resize grips and resize borders</span></div>
<div class="line"><a id="l08089" name="l08089"></a><span class="lineno"> 8089</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window_to_highlight = g.NavWindowingTarget ? g.NavWindowingTarget : g.NavWindow;</div>
<div class="line"><a id="l08090" name="l08090"></a><span class="lineno"> 8090</span>            <span class="keyword">const</span> <span class="keywordtype">bool</span> title_bar_is_highlight = want_focus || (window_to_highlight &amp;&amp; (window-&gt;RootWindowForTitleBarHighlight == window_to_highlight-&gt;RootWindowForTitleBarHighlight || (window-&gt;DockNode &amp;&amp; window-&gt;DockNode == window_to_highlight-&gt;DockNode)));</div>
<div class="line"><a id="l08091" name="l08091"></a><span class="lineno"> 8091</span>            RenderWindowDecorations(window, title_bar_rect, title_bar_is_highlight, handle_borders_and_resize_grips, resize_grip_count, resize_grip_col, resize_grip_draw_size);</div>
<div class="line"><a id="l08092" name="l08092"></a><span class="lineno"> 8092</span> </div>
<div class="line"><a id="l08093" name="l08093"></a><span class="lineno"> 8093</span>            <span class="keywordflow">if</span> (render_decorations_in_parent)</div>
<div class="line"><a id="l08094" name="l08094"></a><span class="lineno"> 8094</span>                window-&gt;DrawList = &amp;window-&gt;DrawListInst;</div>
<div class="line"><a id="l08095" name="l08095"></a><span class="lineno"> 8095</span>        }</div>
<div class="line"><a id="l08096" name="l08096"></a><span class="lineno"> 8096</span> </div>
<div class="line"><a id="l08097" name="l08097"></a><span class="lineno"> 8097</span>        <span class="comment">// UPDATE RECTANGLES (2- THOSE AFFECTED BY SCROLLING)</span></div>
<div class="line"><a id="l08098" name="l08098"></a><span class="lineno"> 8098</span> </div>
<div class="line"><a id="l08099" name="l08099"></a><span class="lineno"> 8099</span>        <span class="comment">// Work rectangle.</span></div>
<div class="line"><a id="l08100" name="l08100"></a><span class="lineno"> 8100</span>        <span class="comment">// Affected by window padding and border size. Used by:</span></div>
<div class="line"><a id="l08101" name="l08101"></a><span class="lineno"> 8101</span>        <span class="comment">// - Columns() for right-most edge</span></div>
<div class="line"><a id="l08102" name="l08102"></a><span class="lineno"> 8102</span>        <span class="comment">// - TreeNode(), CollapsingHeader() for right-most edge</span></div>
<div class="line"><a id="l08103" name="l08103"></a><span class="lineno"> 8103</span>        <span class="comment">// - BeginTabBar() for right-most edge</span></div>
<div class="line"><a id="l08104" name="l08104"></a><span class="lineno"> 8104</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> allow_scrollbar_x = !(flags &amp; ImGuiWindowFlags_NoScrollbar) &amp;&amp; (flags &amp; ImGuiWindowFlags_HorizontalScrollbar);</div>
<div class="line"><a id="l08105" name="l08105"></a><span class="lineno"> 8105</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> allow_scrollbar_y = !(flags &amp; ImGuiWindowFlags_NoScrollbar);</div>
<div class="line"><a id="l08106" name="l08106"></a><span class="lineno"> 8106</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> work_rect_size_x = (window-&gt;ContentSizeExplicit.x != 0.0f ? window-&gt;ContentSizeExplicit.x : ImMax(allow_scrollbar_x ? window-&gt;ContentSize.x : 0.0f, window-&gt;Size.x - window-&gt;WindowPadding.x * 2.0f - (window-&gt;DecoOuterSizeX1 + window-&gt;DecoOuterSizeX2)));</div>
<div class="line"><a id="l08107" name="l08107"></a><span class="lineno"> 8107</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> work_rect_size_y = (window-&gt;ContentSizeExplicit.y != 0.0f ? window-&gt;ContentSizeExplicit.y : ImMax(allow_scrollbar_y ? window-&gt;ContentSize.y : 0.0f, window-&gt;Size.y - window-&gt;WindowPadding.y * 2.0f - (window-&gt;DecoOuterSizeY1 + window-&gt;DecoOuterSizeY2)));</div>
<div class="line"><a id="l08108" name="l08108"></a><span class="lineno"> 8108</span>        window-&gt;WorkRect.Min.x = ImTrunc(window-&gt;InnerRect.Min.x - window-&gt;Scroll.x + ImMax(window-&gt;WindowPadding.x, window-&gt;WindowBorderSize));</div>
<div class="line"><a id="l08109" name="l08109"></a><span class="lineno"> 8109</span>        window-&gt;WorkRect.Min.y = ImTrunc(window-&gt;InnerRect.Min.y - window-&gt;Scroll.y + ImMax(window-&gt;WindowPadding.y, window-&gt;WindowBorderSize));</div>
<div class="line"><a id="l08110" name="l08110"></a><span class="lineno"> 8110</span>        window-&gt;WorkRect.Max.x = window-&gt;WorkRect.Min.x + work_rect_size_x;</div>
<div class="line"><a id="l08111" name="l08111"></a><span class="lineno"> 8111</span>        window-&gt;WorkRect.Max.y = window-&gt;WorkRect.Min.y + work_rect_size_y;</div>
<div class="line"><a id="l08112" name="l08112"></a><span class="lineno"> 8112</span>        window-&gt;ParentWorkRect = window-&gt;WorkRect;</div>
<div class="line"><a id="l08113" name="l08113"></a><span class="lineno"> 8113</span> </div>
<div class="line"><a id="l08114" name="l08114"></a><span class="lineno"> 8114</span>        <span class="comment">// [LEGACY] Content Region</span></div>
<div class="line"><a id="l08115" name="l08115"></a><span class="lineno"> 8115</span>        <span class="comment">// FIXME-OBSOLETE: window-&gt;ContentRegionRect.Max is currently very misleading / partly faulty, but some BeginChild() patterns relies on it.</span></div>
<div class="line"><a id="l08116" name="l08116"></a><span class="lineno"> 8116</span>        <span class="comment">// Unless explicit content size is specified by user, this currently represent the region leading to no scrolling.</span></div>
<div class="line"><a id="l08117" name="l08117"></a><span class="lineno"> 8117</span>        <span class="comment">// Used by:</span></div>
<div class="line"><a id="l08118" name="l08118"></a><span class="lineno"> 8118</span>        <span class="comment">// - Mouse wheel scrolling + many other things</span></div>
<div class="line"><a id="l08119" name="l08119"></a><span class="lineno"> 8119</span>        window-&gt;ContentRegionRect.Min.x = window-&gt;Pos.x - window-&gt;Scroll.x + window-&gt;WindowPadding.x + window-&gt;DecoOuterSizeX1;</div>
<div class="line"><a id="l08120" name="l08120"></a><span class="lineno"> 8120</span>        window-&gt;ContentRegionRect.Min.y = window-&gt;Pos.y - window-&gt;Scroll.y + window-&gt;WindowPadding.y + window-&gt;DecoOuterSizeY1;</div>
<div class="line"><a id="l08121" name="l08121"></a><span class="lineno"> 8121</span>        window-&gt;ContentRegionRect.Max.x = window-&gt;ContentRegionRect.Min.x + (window-&gt;ContentSizeExplicit.x != 0.0f ? window-&gt;ContentSizeExplicit.x : (window-&gt;Size.x - window-&gt;WindowPadding.x * 2.0f - (window-&gt;DecoOuterSizeX1 + window-&gt;DecoOuterSizeX2)));</div>
<div class="line"><a id="l08122" name="l08122"></a><span class="lineno"> 8122</span>        window-&gt;ContentRegionRect.Max.y = window-&gt;ContentRegionRect.Min.y + (window-&gt;ContentSizeExplicit.y != 0.0f ? window-&gt;ContentSizeExplicit.y : (window-&gt;Size.y - window-&gt;WindowPadding.y * 2.0f - (window-&gt;DecoOuterSizeY1 + window-&gt;DecoOuterSizeY2)));</div>
<div class="line"><a id="l08123" name="l08123"></a><span class="lineno"> 8123</span> </div>
<div class="line"><a id="l08124" name="l08124"></a><span class="lineno"> 8124</span>        <span class="comment">// Setup drawing context</span></div>
<div class="line"><a id="l08125" name="l08125"></a><span class="lineno"> 8125</span>        <span class="comment">// (NB: That term &quot;drawing context / DC&quot; lost its meaning a long time ago. Initially was meant to hold transient data only. Nowadays difference between window-&gt; and window-&gt;DC-&gt; is dubious.)</span></div>
<div class="line"><a id="l08126" name="l08126"></a><span class="lineno"> 8126</span>        window-&gt;DC.Indent.x = window-&gt;DecoOuterSizeX1 + window-&gt;WindowPadding.x - window-&gt;Scroll.x;</div>
<div class="line"><a id="l08127" name="l08127"></a><span class="lineno"> 8127</span>        window-&gt;DC.GroupOffset.x = 0.0f;</div>
<div class="line"><a id="l08128" name="l08128"></a><span class="lineno"> 8128</span>        window-&gt;DC.ColumnsOffset.x = 0.0f;</div>
<div class="line"><a id="l08129" name="l08129"></a><span class="lineno"> 8129</span> </div>
<div class="line"><a id="l08130" name="l08130"></a><span class="lineno"> 8130</span>        <span class="comment">// Record the loss of precision of CursorStartPos which can happen due to really large scrolling amount.</span></div>
<div class="line"><a id="l08131" name="l08131"></a><span class="lineno"> 8131</span>        <span class="comment">// This is used by clipper to compensate and fix the most common use case of large scroll area. Easy and cheap, next best thing compared to switching everything to double or ImU64.</span></div>
<div class="line"><a id="l08132" name="l08132"></a><span class="lineno"> 8132</span>        <span class="keywordtype">double</span> start_pos_highp_x = (double)window-&gt;Pos.x + window-&gt;WindowPadding.x - (<span class="keywordtype">double</span>)window-&gt;Scroll.x + window-&gt;DecoOuterSizeX1 + window-&gt;DC.ColumnsOffset.x;</div>
<div class="line"><a id="l08133" name="l08133"></a><span class="lineno"> 8133</span>        <span class="keywordtype">double</span> start_pos_highp_y = (double)window-&gt;Pos.y + window-&gt;WindowPadding.y - (<span class="keywordtype">double</span>)window-&gt;Scroll.y + window-&gt;DecoOuterSizeY1;</div>
<div class="line"><a id="l08134" name="l08134"></a><span class="lineno"> 8134</span>        window-&gt;DC.CursorStartPos  = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>((<span class="keywordtype">float</span>)start_pos_highp_x, (<span class="keywordtype">float</span>)start_pos_highp_y);</div>
<div class="line"><a id="l08135" name="l08135"></a><span class="lineno"> 8135</span>        window-&gt;DC.CursorStartPosLossyness = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>((<span class="keywordtype">float</span>)(start_pos_highp_x - window-&gt;DC.CursorStartPos.x), (<span class="keywordtype">float</span>)(start_pos_highp_y - window-&gt;DC.CursorStartPos.y));</div>
<div class="line"><a id="l08136" name="l08136"></a><span class="lineno"> 8136</span>        window-&gt;DC.CursorPos = window-&gt;DC.CursorStartPos;</div>
<div class="line"><a id="l08137" name="l08137"></a><span class="lineno"> 8137</span>        window-&gt;DC.CursorPosPrevLine = window-&gt;DC.CursorPos;</div>
<div class="line"><a id="l08138" name="l08138"></a><span class="lineno"> 8138</span>        window-&gt;DC.CursorMaxPos = window-&gt;DC.CursorStartPos;</div>
<div class="line"><a id="l08139" name="l08139"></a><span class="lineno"> 8139</span>        window-&gt;DC.IdealMaxPos = window-&gt;DC.CursorStartPos;</div>
<div class="line"><a id="l08140" name="l08140"></a><span class="lineno"> 8140</span>        window-&gt;DC.CurrLineSize = window-&gt;DC.PrevLineSize = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, 0.0f);</div>
<div class="line"><a id="l08141" name="l08141"></a><span class="lineno"> 8141</span>        window-&gt;DC.CurrLineTextBaseOffset = window-&gt;DC.PrevLineTextBaseOffset = 0.0f;</div>
<div class="line"><a id="l08142" name="l08142"></a><span class="lineno"> 8142</span>        window-&gt;DC.IsSameLine = window-&gt;DC.IsSetPos = <span class="keyword">false</span>;</div>
<div class="line"><a id="l08143" name="l08143"></a><span class="lineno"> 8143</span> </div>
<div class="line"><a id="l08144" name="l08144"></a><span class="lineno"> 8144</span>        window-&gt;DC.NavLayerCurrent = ImGuiNavLayer_Main;</div>
<div class="line"><a id="l08145" name="l08145"></a><span class="lineno"> 8145</span>        window-&gt;DC.NavLayersActiveMask = window-&gt;DC.NavLayersActiveMaskNext;</div>
<div class="line"><a id="l08146" name="l08146"></a><span class="lineno"> 8146</span>        window-&gt;DC.NavLayersActiveMaskNext = 0x00;</div>
<div class="line"><a id="l08147" name="l08147"></a><span class="lineno"> 8147</span>        window-&gt;DC.NavIsScrollPushableX = <span class="keyword">true</span>;</div>
<div class="line"><a id="l08148" name="l08148"></a><span class="lineno"> 8148</span>        window-&gt;DC.NavHideHighlightOneFrame = <span class="keyword">false</span>;</div>
<div class="line"><a id="l08149" name="l08149"></a><span class="lineno"> 8149</span>        window-&gt;DC.NavWindowHasScrollY = (window-&gt;ScrollMax.y &gt; 0.0f);</div>
<div class="line"><a id="l08150" name="l08150"></a><span class="lineno"> 8150</span> </div>
<div class="line"><a id="l08151" name="l08151"></a><span class="lineno"> 8151</span>        window-&gt;DC.MenuBarAppending = <span class="keyword">false</span>;</div>
<div class="line"><a id="l08152" name="l08152"></a><span class="lineno"> 8152</span>        window-&gt;DC.MenuColumns.Update(style.ItemSpacing.x, window_just_activated_by_user);</div>
<div class="line"><a id="l08153" name="l08153"></a><span class="lineno"> 8153</span>        window-&gt;DC.TreeDepth = 0;</div>
<div class="line"><a id="l08154" name="l08154"></a><span class="lineno"> 8154</span>        window-&gt;DC.TreeHasStackDataDepthMask = 0x00;</div>
<div class="line"><a id="l08155" name="l08155"></a><span class="lineno"> 8155</span>        window-&gt;DC.ChildWindows.resize(0);</div>
<div class="line"><a id="l08156" name="l08156"></a><span class="lineno"> 8156</span>        window-&gt;DC.StateStorage = &amp;window-&gt;StateStorage;</div>
<div class="line"><a id="l08157" name="l08157"></a><span class="lineno"> 8157</span>        window-&gt;DC.CurrentColumns = NULL;</div>
<div class="line"><a id="l08158" name="l08158"></a><span class="lineno"> 8158</span>        window-&gt;DC.LayoutType = ImGuiLayoutType_Vertical;</div>
<div class="line"><a id="l08159" name="l08159"></a><span class="lineno"> 8159</span>        window-&gt;DC.ParentLayoutType = parent_window ? parent_window-&gt;DC.LayoutType : ImGuiLayoutType_Vertical;</div>
<div class="line"><a id="l08160" name="l08160"></a><span class="lineno"> 8160</span> </div>
<div class="line"><a id="l08161" name="l08161"></a><span class="lineno"> 8161</span>        window-&gt;DC.ItemWidth = window-&gt;ItemWidthDefault;</div>
<div class="line"><a id="l08162" name="l08162"></a><span class="lineno"> 8162</span>        window-&gt;DC.TextWrapPos = -1.0f; <span class="comment">// disabled</span></div>
<div class="line"><a id="l08163" name="l08163"></a><span class="lineno"> 8163</span>        window-&gt;DC.ItemWidthStack.resize(0);</div>
<div class="line"><a id="l08164" name="l08164"></a><span class="lineno"> 8164</span>        window-&gt;DC.TextWrapPosStack.resize(0);</div>
<div class="line"><a id="l08165" name="l08165"></a><span class="lineno"> 8165</span>        <span class="keywordflow">if</span> (flags &amp; ImGuiWindowFlags_Modal)</div>
<div class="line"><a id="l08166" name="l08166"></a><span class="lineno"> 8166</span>            window-&gt;DC.ModalDimBgColor = ColorConvertFloat4ToU32(GetStyleColorVec4(ImGuiCol_ModalWindowDimBg));</div>
<div class="line"><a id="l08167" name="l08167"></a><span class="lineno"> 8167</span> </div>
<div class="line"><a id="l08168" name="l08168"></a><span class="lineno"> 8168</span>        <span class="keywordflow">if</span> (window-&gt;AutoFitFramesX &gt; 0)</div>
<div class="line"><a id="l08169" name="l08169"></a><span class="lineno"> 8169</span>            window-&gt;AutoFitFramesX--;</div>
<div class="line"><a id="l08170" name="l08170"></a><span class="lineno"> 8170</span>        <span class="keywordflow">if</span> (window-&gt;AutoFitFramesY &gt; 0)</div>
<div class="line"><a id="l08171" name="l08171"></a><span class="lineno"> 8171</span>            window-&gt;AutoFitFramesY--;</div>
<div class="line"><a id="l08172" name="l08172"></a><span class="lineno"> 8172</span> </div>
<div class="line"><a id="l08173" name="l08173"></a><span class="lineno"> 8173</span>        <span class="comment">// Clear SetNextWindowXXX data (can aim to move this higher in the function)</span></div>
<div class="line"><a id="l08174" name="l08174"></a><span class="lineno"> 8174</span>        g.NextWindowData.ClearFlags();</div>
<div class="line"><a id="l08175" name="l08175"></a><span class="lineno"> 8175</span> </div>
<div class="line"><a id="l08176" name="l08176"></a><span class="lineno"> 8176</span>        <span class="comment">// Apply focus (we need to call FocusWindow() AFTER setting DC.CursorStartPos so our initial navigation reference rectangle can start around there)</span></div>
<div class="line"><a id="l08177" name="l08177"></a><span class="lineno"> 8177</span>        <span class="comment">// We ImGuiFocusRequestFlags_UnlessBelowModal to:</span></div>
<div class="line"><a id="l08178" name="l08178"></a><span class="lineno"> 8178</span>        <span class="comment">// - Avoid focusing a window that is created outside of a modal. This will prevent active modal from being closed.</span></div>
<div class="line"><a id="l08179" name="l08179"></a><span class="lineno"> 8179</span>        <span class="comment">// - Position window behind the modal that is not a begin-parent of this window.</span></div>
<div class="line"><a id="l08180" name="l08180"></a><span class="lineno"> 8180</span>        <span class="keywordflow">if</span> (want_focus)</div>
<div class="line"><a id="l08181" name="l08181"></a><span class="lineno"> 8181</span>            FocusWindow(window, ImGuiFocusRequestFlags_UnlessBelowModal);</div>
<div class="line"><a id="l08182" name="l08182"></a><span class="lineno"> 8182</span>        <span class="keywordflow">if</span> (want_focus &amp;&amp; window == g.NavWindow)</div>
<div class="line"><a id="l08183" name="l08183"></a><span class="lineno"> 8183</span>            NavInitWindow(window, <span class="keyword">false</span>); <span class="comment">// &lt;-- this is in the way for us to be able to defer and sort reappearing FocusWindow() calls</span></div>
<div class="line"><a id="l08184" name="l08184"></a><span class="lineno"> 8184</span> </div>
<div class="line"><a id="l08185" name="l08185"></a><span class="lineno"> 8185</span>        <span class="comment">// Close requested by platform window (apply to all windows in this viewport)</span></div>
<div class="line"><a id="l08186" name="l08186"></a><span class="lineno"> 8186</span>        <span class="keywordflow">if</span> (p_open != NULL &amp;&amp; window-&gt;Viewport-&gt;PlatformRequestClose &amp;&amp; window-&gt;Viewport != GetMainViewport())</div>
<div class="line"><a id="l08187" name="l08187"></a><span class="lineno"> 8187</span>        {</div>
<div class="line"><a id="l08188" name="l08188"></a><span class="lineno"> 8188</span>            IMGUI_DEBUG_LOG_VIEWPORT(<span class="stringliteral">&quot;[viewport] Window &#39;%s&#39; closed by PlatformRequestClose\n&quot;</span>, window-&gt;Name);</div>
<div class="line"><a id="l08189" name="l08189"></a><span class="lineno"> 8189</span>            *p_open = <span class="keyword">false</span>;</div>
<div class="line"><a id="l08190" name="l08190"></a><span class="lineno"> 8190</span>            g.NavWindowingToggleLayer = <span class="keyword">false</span>; <span class="comment">// Assume user mapped PlatformRequestClose on ALT-F4 so we disable ALT for menu toggle. False positive not an issue. // FIXME-NAV: Try removing.</span></div>
<div class="line"><a id="l08191" name="l08191"></a><span class="lineno"> 8191</span>        }</div>
<div class="line"><a id="l08192" name="l08192"></a><span class="lineno"> 8192</span> </div>
<div class="line"><a id="l08193" name="l08193"></a><span class="lineno"> 8193</span>        <span class="comment">// Pressing CTRL+C copy window content into the clipboard</span></div>
<div class="line"><a id="l08194" name="l08194"></a><span class="lineno"> 8194</span>        <span class="comment">// [EXPERIMENTAL] Breaks on nested Begin/End pairs. We need to work that out and add better logging scope.</span></div>
<div class="line"><a id="l08195" name="l08195"></a><span class="lineno"> 8195</span>        <span class="comment">// [EXPERIMENTAL] Text outputs has many issues.</span></div>
<div class="line"><a id="l08196" name="l08196"></a><span class="lineno"> 8196</span>        <span class="keywordflow">if</span> (g.IO.ConfigWindowsCopyContentsWithCtrlC)</div>
<div class="line"><a id="l08197" name="l08197"></a><span class="lineno"> 8197</span>            <span class="keywordflow">if</span> (g.NavWindow &amp;&amp; g.NavWindow-&gt;RootWindow == window &amp;&amp; g.ActiveId == 0 &amp;&amp; Shortcut(ImGuiMod_Ctrl | ImGuiKey_C))</div>
<div class="line"><a id="l08198" name="l08198"></a><span class="lineno"> 8198</span>                LogToClipboard(0);</div>
<div class="line"><a id="l08199" name="l08199"></a><span class="lineno"> 8199</span> </div>
<div class="line"><a id="l08200" name="l08200"></a><span class="lineno"> 8200</span>        <span class="comment">// Title bar</span></div>
<div class="line"><a id="l08201" name="l08201"></a><span class="lineno"> 8201</span>        <span class="keywordflow">if</span> (!(flags &amp; ImGuiWindowFlags_NoTitleBar) &amp;&amp; !window-&gt;DockIsActive)</div>
<div class="line"><a id="l08202" name="l08202"></a><span class="lineno"> 8202</span>            RenderWindowTitleBarContents(window, <a class="code hl_struct" href="structImRect.html">ImRect</a>(title_bar_rect.Min.x + window-&gt;WindowBorderSize, title_bar_rect.Min.y, title_bar_rect.Max.x - window-&gt;WindowBorderSize, title_bar_rect.Max.y), name, p_open);</div>
<div class="line"><a id="l08203" name="l08203"></a><span class="lineno"> 8203</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!(flags &amp; ImGuiWindowFlags_NoTitleBar) &amp;&amp; window-&gt;DockIsActive)</div>
<div class="line"><a id="l08204" name="l08204"></a><span class="lineno"> 8204</span>            LogText(<span class="stringliteral">&quot;%.*s\n&quot;</span>, (<span class="keywordtype">int</span>)(FindRenderedTextEnd(window-&gt;Name) - window-&gt;Name), window-&gt;Name);</div>
<div class="line"><a id="l08205" name="l08205"></a><span class="lineno"> 8205</span> </div>
<div class="line"><a id="l08206" name="l08206"></a><span class="lineno"> 8206</span>        <span class="comment">// Clear hit test shape every frame</span></div>
<div class="line"><a id="l08207" name="l08207"></a><span class="lineno"> 8207</span>        window-&gt;HitTestHoleSize.x = window-&gt;HitTestHoleSize.y = 0;</div>
<div class="line"><a id="l08208" name="l08208"></a><span class="lineno"> 8208</span> </div>
<div class="line"><a id="l08209" name="l08209"></a><span class="lineno"> 8209</span>        <span class="keywordflow">if</span> (flags &amp; ImGuiWindowFlags_Tooltip)</div>
<div class="line"><a id="l08210" name="l08210"></a><span class="lineno"> 8210</span>            g.TooltipPreviousWindow = window;</div>
<div class="line"><a id="l08211" name="l08211"></a><span class="lineno"> 8211</span> </div>
<div class="line"><a id="l08212" name="l08212"></a><span class="lineno"> 8212</span>        <span class="keywordflow">if</span> (g.IO.ConfigFlags &amp; ImGuiConfigFlags_DockingEnable)</div>
<div class="line"><a id="l08213" name="l08213"></a><span class="lineno"> 8213</span>        {</div>
<div class="line"><a id="l08214" name="l08214"></a><span class="lineno"> 8214</span>            <span class="comment">// Docking: Dragging a dockable window (or any of its child) turns it into a drag and drop source.</span></div>
<div class="line"><a id="l08215" name="l08215"></a><span class="lineno"> 8215</span>            <span class="comment">// We need to do this _before_ we overwrite window-&gt;DC.LastItemId below because BeginDockableDragDropSource() also overwrites it.</span></div>
<div class="line"><a id="l08216" name="l08216"></a><span class="lineno"> 8216</span>            <span class="keywordflow">if</span> (g.MovingWindow == window &amp;&amp; (window-&gt;RootWindowDockTree-&gt;Flags &amp; ImGuiWindowFlags_NoDocking) == 0)</div>
<div class="line"><a id="l08217" name="l08217"></a><span class="lineno"> 8217</span>                BeginDockableDragDropSource(window);</div>
<div class="line"><a id="l08218" name="l08218"></a><span class="lineno"> 8218</span> </div>
<div class="line"><a id="l08219" name="l08219"></a><span class="lineno"> 8219</span>            <span class="comment">// Docking: Any dockable window can act as a target. For dock node hosts we call BeginDockableDragDropTarget() in DockNodeUpdate() instead.</span></div>
<div class="line"><a id="l08220" name="l08220"></a><span class="lineno"> 8220</span>            <span class="keywordflow">if</span> (g.DragDropActive &amp;&amp; !(flags &amp; ImGuiWindowFlags_NoDocking))</div>
<div class="line"><a id="l08221" name="l08221"></a><span class="lineno"> 8221</span>                <span class="keywordflow">if</span> (g.MovingWindow == NULL || g.MovingWindow-&gt;RootWindowDockTree != window)</div>
<div class="line"><a id="l08222" name="l08222"></a><span class="lineno"> 8222</span>                    <span class="keywordflow">if</span> ((window == window-&gt;RootWindowDockTree) &amp;&amp; !(window-&gt;Flags &amp; ImGuiWindowFlags_DockNodeHost))</div>
<div class="line"><a id="l08223" name="l08223"></a><span class="lineno"> 8223</span>                        BeginDockableDragDropTarget(window);</div>
<div class="line"><a id="l08224" name="l08224"></a><span class="lineno"> 8224</span>        }</div>
<div class="line"><a id="l08225" name="l08225"></a><span class="lineno"> 8225</span> </div>
<div class="line"><a id="l08226" name="l08226"></a><span class="lineno"> 8226</span>        <span class="comment">// We fill last item data based on Title Bar/Tab, in order for IsItemHovered() and IsItemActive() to be usable after Begin().</span></div>
<div class="line"><a id="l08227" name="l08227"></a><span class="lineno"> 8227</span>        <span class="comment">// This is useful to allow creating context menus on title bar only, etc.</span></div>
<div class="line"><a id="l08228" name="l08228"></a><span class="lineno"> 8228</span>        window-&gt;DC.WindowItemStatusFlags = ImGuiItemStatusFlags_None;</div>
<div class="line"><a id="l08229" name="l08229"></a><span class="lineno"> 8229</span>        window-&gt;DC.WindowItemStatusFlags |= IsMouseHoveringRect(title_bar_rect.Min, title_bar_rect.Max, <span class="keyword">false</span>) ? ImGuiItemStatusFlags_HoveredRect : 0;</div>
<div class="line"><a id="l08230" name="l08230"></a><span class="lineno"> 8230</span>        SetLastItemDataForWindow(window, title_bar_rect);</div>
<div class="line"><a id="l08231" name="l08231"></a><span class="lineno"> 8231</span> </div>
<div class="line"><a id="l08232" name="l08232"></a><span class="lineno"> 8232</span>        <span class="comment">// [DEBUG]</span></div>
<div class="line"><a id="l08233" name="l08233"></a><span class="lineno"> 8233</span><span class="preprocessor">#ifndef IMGUI_DISABLE_DEBUG_TOOLS</span></div>
<div class="line"><a id="l08234" name="l08234"></a><span class="lineno"> 8234</span>        <span class="keywordflow">if</span> (g.DebugLocateId != 0 &amp;&amp; (window-&gt;ID == g.DebugLocateId || window-&gt;MoveId == g.DebugLocateId))</div>
<div class="line"><a id="l08235" name="l08235"></a><span class="lineno"> 8235</span>            DebugLocateItemResolveWithLastItem();</div>
<div class="line"><a id="l08236" name="l08236"></a><span class="lineno"> 8236</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l08237" name="l08237"></a><span class="lineno"> 8237</span> </div>
<div class="line"><a id="l08238" name="l08238"></a><span class="lineno"> 8238</span>        <span class="comment">// [Test Engine] Register title bar / tab with MoveId.</span></div>
<div class="line"><a id="l08239" name="l08239"></a><span class="lineno"> 8239</span><span class="preprocessor">#ifdef IMGUI_ENABLE_TEST_ENGINE</span></div>
<div class="line"><a id="l08240" name="l08240"></a><span class="lineno"> 8240</span>        <span class="keywordflow">if</span> (!(window-&gt;Flags &amp; ImGuiWindowFlags_NoTitleBar))</div>
<div class="line"><a id="l08241" name="l08241"></a><span class="lineno"> 8241</span>        {</div>
<div class="line"><a id="l08242" name="l08242"></a><span class="lineno"> 8242</span>            window-&gt;DC.NavLayerCurrent = ImGuiNavLayer_Menu;</div>
<div class="line"><a id="l08243" name="l08243"></a><span class="lineno"> 8243</span>            IMGUI_TEST_ENGINE_ITEM_ADD(g.LastItemData.ID, g.LastItemData.Rect, &amp;g.LastItemData);</div>
<div class="line"><a id="l08244" name="l08244"></a><span class="lineno"> 8244</span>            window-&gt;DC.NavLayerCurrent = ImGuiNavLayer_Main;</div>
<div class="line"><a id="l08245" name="l08245"></a><span class="lineno"> 8245</span>        }</div>
<div class="line"><a id="l08246" name="l08246"></a><span class="lineno"> 8246</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l08247" name="l08247"></a><span class="lineno"> 8247</span>    }</div>
<div class="line"><a id="l08248" name="l08248"></a><span class="lineno"> 8248</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l08249" name="l08249"></a><span class="lineno"> 8249</span>    {</div>
<div class="line"><a id="l08250" name="l08250"></a><span class="lineno"> 8250</span>        <span class="comment">// Skip refresh always mark active</span></div>
<div class="line"><a id="l08251" name="l08251"></a><span class="lineno"> 8251</span>        <span class="keywordflow">if</span> (window-&gt;SkipRefresh)</div>
<div class="line"><a id="l08252" name="l08252"></a><span class="lineno"> 8252</span>            SetWindowActiveForSkipRefresh(window);</div>
<div class="line"><a id="l08253" name="l08253"></a><span class="lineno"> 8253</span> </div>
<div class="line"><a id="l08254" name="l08254"></a><span class="lineno"> 8254</span>        <span class="comment">// Append</span></div>
<div class="line"><a id="l08255" name="l08255"></a><span class="lineno"> 8255</span>        SetCurrentViewport(window, window-&gt;Viewport);</div>
<div class="line"><a id="l08256" name="l08256"></a><span class="lineno"> 8256</span>        SetCurrentWindow(window);</div>
<div class="line"><a id="l08257" name="l08257"></a><span class="lineno"> 8257</span>        g.NextWindowData.ClearFlags();</div>
<div class="line"><a id="l08258" name="l08258"></a><span class="lineno"> 8258</span>        SetLastItemDataForWindow(window, window-&gt;TitleBarRect());</div>
<div class="line"><a id="l08259" name="l08259"></a><span class="lineno"> 8259</span>    }</div>
<div class="line"><a id="l08260" name="l08260"></a><span class="lineno"> 8260</span> </div>
<div class="line"><a id="l08261" name="l08261"></a><span class="lineno"> 8261</span>    <span class="keywordflow">if</span> (!(flags &amp; ImGuiWindowFlags_DockNodeHost) &amp;&amp; !window-&gt;SkipRefresh)</div>
<div class="line"><a id="l08262" name="l08262"></a><span class="lineno"> 8262</span>        PushClipRect(window-&gt;InnerClipRect.Min, window-&gt;InnerClipRect.Max, <span class="keyword">true</span>);</div>
<div class="line"><a id="l08263" name="l08263"></a><span class="lineno"> 8263</span> </div>
<div class="line"><a id="l08264" name="l08264"></a><span class="lineno"> 8264</span>    <span class="comment">// Clear &#39;accessed&#39; flag last thing (After PushClipRect which will set the flag. We want the flag to stay false when the default &quot;Debug&quot; window is unused)</span></div>
<div class="line"><a id="l08265" name="l08265"></a><span class="lineno"> 8265</span>    window-&gt;WriteAccessed = <span class="keyword">false</span>;</div>
<div class="line"><a id="l08266" name="l08266"></a><span class="lineno"> 8266</span>    window-&gt;BeginCount++;</div>
<div class="line"><a id="l08267" name="l08267"></a><span class="lineno"> 8267</span> </div>
<div class="line"><a id="l08268" name="l08268"></a><span class="lineno"> 8268</span>    <span class="comment">// Update visibility</span></div>
<div class="line"><a id="l08269" name="l08269"></a><span class="lineno"> 8269</span>    <span class="keywordflow">if</span> (first_begin_of_the_frame &amp;&amp; !window-&gt;SkipRefresh)</div>
<div class="line"><a id="l08270" name="l08270"></a><span class="lineno"> 8270</span>    {</div>
<div class="line"><a id="l08271" name="l08271"></a><span class="lineno"> 8271</span>        <span class="comment">// When we are about to select this tab (which will only be visible on the _next frame_), flag it with a non-zero HiddenFramesCannotSkipItems.</span></div>
<div class="line"><a id="l08272" name="l08272"></a><span class="lineno"> 8272</span>        <span class="comment">// This will have the important effect of actually returning true in Begin() and not setting SkipItems, allowing an earlier submission of the window contents.</span></div>
<div class="line"><a id="l08273" name="l08273"></a><span class="lineno"> 8273</span>        <span class="comment">// This is analogous to regular windows being hidden from one frame.</span></div>
<div class="line"><a id="l08274" name="l08274"></a><span class="lineno"> 8274</span>        <span class="comment">// It is especially important as e.g. nested TabBars would otherwise generate flicker in the form of one empty frame, or focus requests won&#39;t be processed.</span></div>
<div class="line"><a id="l08275" name="l08275"></a><span class="lineno"> 8275</span>        <span class="keywordflow">if</span> (window-&gt;DockIsActive &amp;&amp; !window-&gt;DockTabIsVisible)</div>
<div class="line"><a id="l08276" name="l08276"></a><span class="lineno"> 8276</span>        {</div>
<div class="line"><a id="l08277" name="l08277"></a><span class="lineno"> 8277</span>            <span class="keywordflow">if</span> (window-&gt;LastFrameJustFocused == g.FrameCount)</div>
<div class="line"><a id="l08278" name="l08278"></a><span class="lineno"> 8278</span>                window-&gt;HiddenFramesCannotSkipItems = 1;</div>
<div class="line"><a id="l08279" name="l08279"></a><span class="lineno"> 8279</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l08280" name="l08280"></a><span class="lineno"> 8280</span>                window-&gt;HiddenFramesCanSkipItems = 1;</div>
<div class="line"><a id="l08281" name="l08281"></a><span class="lineno"> 8281</span>        }</div>
<div class="line"><a id="l08282" name="l08282"></a><span class="lineno"> 8282</span> </div>
<div class="line"><a id="l08283" name="l08283"></a><span class="lineno"> 8283</span>        <span class="keywordflow">if</span> ((flags &amp; ImGuiWindowFlags_ChildWindow) &amp;&amp; !(flags &amp; ImGuiWindowFlags_ChildMenu))</div>
<div class="line"><a id="l08284" name="l08284"></a><span class="lineno"> 8284</span>        {</div>
<div class="line"><a id="l08285" name="l08285"></a><span class="lineno"> 8285</span>            <span class="comment">// Child window can be out of sight and have &quot;negative&quot; clip windows.</span></div>
<div class="line"><a id="l08286" name="l08286"></a><span class="lineno"> 8286</span>            <span class="comment">// Mark them as collapsed so commands are skipped earlier (we can&#39;t manually collapse them because they have no title bar).</span></div>
<div class="line"><a id="l08287" name="l08287"></a><span class="lineno"> 8287</span>            IM_ASSERT((flags &amp; ImGuiWindowFlags_NoTitleBar) != 0 || window-&gt;DockIsActive);</div>
<div class="line"><a id="l08288" name="l08288"></a><span class="lineno"> 8288</span>            <span class="keyword">const</span> <span class="keywordtype">bool</span> nav_request = (window-&gt;ChildFlags &amp; ImGuiChildFlags_NavFlattened) &amp;&amp; (g.NavAnyRequest &amp;&amp; g.NavWindow &amp;&amp; g.NavWindow-&gt;RootWindowForNav == window-&gt;RootWindowForNav);</div>
<div class="line"><a id="l08289" name="l08289"></a><span class="lineno"> 8289</span>            <span class="keywordflow">if</span> (!g.LogEnabled &amp;&amp; !nav_request)</div>
<div class="line"><a id="l08290" name="l08290"></a><span class="lineno"> 8290</span>                <span class="keywordflow">if</span> (window-&gt;OuterRectClipped.Min.x &gt;= window-&gt;OuterRectClipped.Max.x || window-&gt;OuterRectClipped.Min.y &gt;= window-&gt;OuterRectClipped.Max.y)</div>
<div class="line"><a id="l08291" name="l08291"></a><span class="lineno"> 8291</span>                {</div>
<div class="line"><a id="l08292" name="l08292"></a><span class="lineno"> 8292</span>                    <span class="keywordflow">if</span> (window-&gt;AutoFitFramesX &gt; 0 || window-&gt;AutoFitFramesY &gt; 0)</div>
<div class="line"><a id="l08293" name="l08293"></a><span class="lineno"> 8293</span>                        window-&gt;HiddenFramesCannotSkipItems = 1;</div>
<div class="line"><a id="l08294" name="l08294"></a><span class="lineno"> 8294</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l08295" name="l08295"></a><span class="lineno"> 8295</span>                        window-&gt;HiddenFramesCanSkipItems = 1;</div>
<div class="line"><a id="l08296" name="l08296"></a><span class="lineno"> 8296</span>                }</div>
<div class="line"><a id="l08297" name="l08297"></a><span class="lineno"> 8297</span> </div>
<div class="line"><a id="l08298" name="l08298"></a><span class="lineno"> 8298</span>            <span class="comment">// Hide along with parent or if parent is collapsed</span></div>
<div class="line"><a id="l08299" name="l08299"></a><span class="lineno"> 8299</span>            <span class="keywordflow">if</span> (parent_window &amp;&amp; (parent_window-&gt;Collapsed || parent_window-&gt;HiddenFramesCanSkipItems &gt; 0))</div>
<div class="line"><a id="l08300" name="l08300"></a><span class="lineno"> 8300</span>                window-&gt;HiddenFramesCanSkipItems = 1;</div>
<div class="line"><a id="l08301" name="l08301"></a><span class="lineno"> 8301</span>            <span class="keywordflow">if</span> (parent_window &amp;&amp; parent_window-&gt;HiddenFramesCannotSkipItems &gt; 0)</div>
<div class="line"><a id="l08302" name="l08302"></a><span class="lineno"> 8302</span>                window-&gt;HiddenFramesCannotSkipItems = 1;</div>
<div class="line"><a id="l08303" name="l08303"></a><span class="lineno"> 8303</span>        }</div>
<div class="line"><a id="l08304" name="l08304"></a><span class="lineno"> 8304</span> </div>
<div class="line"><a id="l08305" name="l08305"></a><span class="lineno"> 8305</span>        <span class="comment">// Don&#39;t render if style alpha is 0.0 at the time of Begin(). This is arbitrary and inconsistent but has been there for a long while (may remove at some point)</span></div>
<div class="line"><a id="l08306" name="l08306"></a><span class="lineno"> 8306</span>        <span class="keywordflow">if</span> (style.Alpha &lt;= 0.0f)</div>
<div class="line"><a id="l08307" name="l08307"></a><span class="lineno"> 8307</span>            window-&gt;HiddenFramesCanSkipItems = 1;</div>
<div class="line"><a id="l08308" name="l08308"></a><span class="lineno"> 8308</span> </div>
<div class="line"><a id="l08309" name="l08309"></a><span class="lineno"> 8309</span>        <span class="comment">// Update the Hidden flag</span></div>
<div class="line"><a id="l08310" name="l08310"></a><span class="lineno"> 8310</span>        <span class="keywordtype">bool</span> hidden_regular = (window-&gt;HiddenFramesCanSkipItems &gt; 0) || (window-&gt;HiddenFramesCannotSkipItems &gt; 0);</div>
<div class="line"><a id="l08311" name="l08311"></a><span class="lineno"> 8311</span>        window-&gt;Hidden = hidden_regular || (window-&gt;HiddenFramesForRenderOnly &gt; 0);</div>
<div class="line"><a id="l08312" name="l08312"></a><span class="lineno"> 8312</span> </div>
<div class="line"><a id="l08313" name="l08313"></a><span class="lineno"> 8313</span>        <span class="comment">// Disable inputs for requested number of frames</span></div>
<div class="line"><a id="l08314" name="l08314"></a><span class="lineno"> 8314</span>        <span class="keywordflow">if</span> (window-&gt;DisableInputsFrames &gt; 0)</div>
<div class="line"><a id="l08315" name="l08315"></a><span class="lineno"> 8315</span>        {</div>
<div class="line"><a id="l08316" name="l08316"></a><span class="lineno"> 8316</span>            window-&gt;DisableInputsFrames--;</div>
<div class="line"><a id="l08317" name="l08317"></a><span class="lineno"> 8317</span>            window-&gt;Flags |= ImGuiWindowFlags_NoInputs;</div>
<div class="line"><a id="l08318" name="l08318"></a><span class="lineno"> 8318</span>        }</div>
<div class="line"><a id="l08319" name="l08319"></a><span class="lineno"> 8319</span> </div>
<div class="line"><a id="l08320" name="l08320"></a><span class="lineno"> 8320</span>        <span class="comment">// Update the SkipItems flag, used to early out of all items functions (no layout required)</span></div>
<div class="line"><a id="l08321" name="l08321"></a><span class="lineno"> 8321</span>        <span class="keywordtype">bool</span> skip_items = <span class="keyword">false</span>;</div>
<div class="line"><a id="l08322" name="l08322"></a><span class="lineno"> 8322</span>        <span class="keywordflow">if</span> (window-&gt;Collapsed || !window-&gt;Active || hidden_regular)</div>
<div class="line"><a id="l08323" name="l08323"></a><span class="lineno"> 8323</span>            <span class="keywordflow">if</span> (window-&gt;AutoFitFramesX &lt;= 0 &amp;&amp; window-&gt;AutoFitFramesY &lt;= 0 &amp;&amp; window-&gt;HiddenFramesCannotSkipItems &lt;= 0)</div>
<div class="line"><a id="l08324" name="l08324"></a><span class="lineno"> 8324</span>                skip_items = <span class="keyword">true</span>;</div>
<div class="line"><a id="l08325" name="l08325"></a><span class="lineno"> 8325</span>        window-&gt;SkipItems = skip_items;</div>
<div class="line"><a id="l08326" name="l08326"></a><span class="lineno"> 8326</span> </div>
<div class="line"><a id="l08327" name="l08327"></a><span class="lineno"> 8327</span>        <span class="comment">// Restore NavLayersActiveMaskNext to previous value when not visible, so a CTRL+Tab back can use a safe value.</span></div>
<div class="line"><a id="l08328" name="l08328"></a><span class="lineno"> 8328</span>        <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a id="l08329" name="l08329"></a><span class="lineno"> 8329</span>            window-&gt;DC.NavLayersActiveMaskNext = window-&gt;DC.NavLayersActiveMask;</div>
<div class="line"><a id="l08330" name="l08330"></a><span class="lineno"> 8330</span> </div>
<div class="line"><a id="l08331" name="l08331"></a><span class="lineno"> 8331</span>        <span class="comment">// Sanity check: there are two spots which can set Appearing = true</span></div>
<div class="line"><a id="l08332" name="l08332"></a><span class="lineno"> 8332</span>        <span class="comment">// - when &#39;window_just_activated_by_user&#39; is set -&gt; HiddenFramesCannotSkipItems is set -&gt; SkipItems always false</span></div>
<div class="line"><a id="l08333" name="l08333"></a><span class="lineno"> 8333</span>        <span class="comment">// - in BeginDocked() path when DockNodeIsVisible == DockTabIsVisible == true -&gt; hidden _should_ be all zero // FIXME: Not formally proven, hence the assert.</span></div>
<div class="line"><a id="l08334" name="l08334"></a><span class="lineno"> 8334</span>        <span class="keywordflow">if</span> (window-&gt;SkipItems &amp;&amp; !window-&gt;Appearing)</div>
<div class="line"><a id="l08335" name="l08335"></a><span class="lineno"> 8335</span>            IM_ASSERT(window-&gt;Appearing == <span class="keyword">false</span>); <span class="comment">// Please report on GitHub if this triggers: https://github.com/ocornut/imgui/issues/4177</span></div>
<div class="line"><a id="l08336" name="l08336"></a><span class="lineno"> 8336</span>    }</div>
<div class="line"><a id="l08337" name="l08337"></a><span class="lineno"> 8337</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (first_begin_of_the_frame)</div>
<div class="line"><a id="l08338" name="l08338"></a><span class="lineno"> 8338</span>    {</div>
<div class="line"><a id="l08339" name="l08339"></a><span class="lineno"> 8339</span>        <span class="comment">// Skip refresh mode</span></div>
<div class="line"><a id="l08340" name="l08340"></a><span class="lineno"> 8340</span>        window-&gt;SkipItems = <span class="keyword">true</span>;</div>
<div class="line"><a id="l08341" name="l08341"></a><span class="lineno"> 8341</span>    }</div>
<div class="line"><a id="l08342" name="l08342"></a><span class="lineno"> 8342</span> </div>
<div class="line"><a id="l08343" name="l08343"></a><span class="lineno"> 8343</span>    <span class="comment">// [DEBUG] io.ConfigDebugBeginReturnValue override return value to test Begin/End and BeginChild/EndChild behaviors.</span></div>
<div class="line"><a id="l08344" name="l08344"></a><span class="lineno"> 8344</span>    <span class="comment">// (The implicit fallback window is NOT automatically ended allowing it to always be able to receive commands without crashing)</span></div>
<div class="line"><a id="l08345" name="l08345"></a><span class="lineno"> 8345</span><span class="preprocessor">#ifndef IMGUI_DISABLE_DEBUG_TOOLS</span></div>
<div class="line"><a id="l08346" name="l08346"></a><span class="lineno"> 8346</span>    <span class="keywordflow">if</span> (!window-&gt;IsFallbackWindow)</div>
<div class="line"><a id="l08347" name="l08347"></a><span class="lineno"> 8347</span>        <span class="keywordflow">if</span> ((g.IO.ConfigDebugBeginReturnValueOnce &amp;&amp; window_just_created) || (g.IO.ConfigDebugBeginReturnValueLoop &amp;&amp; g.DebugBeginReturnValueCullDepth == g.CurrentWindowStack.Size))</div>
<div class="line"><a id="l08348" name="l08348"></a><span class="lineno"> 8348</span>        {</div>
<div class="line"><a id="l08349" name="l08349"></a><span class="lineno"> 8349</span>            <span class="keywordflow">if</span> (window-&gt;AutoFitFramesX &gt; 0) { window-&gt;AutoFitFramesX++; }</div>
<div class="line"><a id="l08350" name="l08350"></a><span class="lineno"> 8350</span>            <span class="keywordflow">if</span> (window-&gt;AutoFitFramesY &gt; 0) { window-&gt;AutoFitFramesY++; }</div>
<div class="line"><a id="l08351" name="l08351"></a><span class="lineno"> 8351</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l08352" name="l08352"></a><span class="lineno"> 8352</span>        }</div>
<div class="line"><a id="l08353" name="l08353"></a><span class="lineno"> 8353</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l08354" name="l08354"></a><span class="lineno"> 8354</span> </div>
<div class="line"><a id="l08355" name="l08355"></a><span class="lineno"> 8355</span>    <span class="keywordflow">return</span> !window-&gt;SkipItems;</div>
<div class="line"><a id="l08356" name="l08356"></a><span class="lineno"> 8356</span>}</div>
<div class="line"><a id="l08357" name="l08357"></a><span class="lineno"> 8357</span> </div>
<div class="line"><a id="l08358" name="l08358"></a><span class="lineno"> 8358</span><span class="keywordtype">void</span> ImGui::End()</div>
<div class="line"><a id="l08359" name="l08359"></a><span class="lineno"> 8359</span>{</div>
<div class="line"><a id="l08360" name="l08360"></a><span class="lineno"> 8360</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l08361" name="l08361"></a><span class="lineno"> 8361</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l08362" name="l08362"></a><span class="lineno"> 8362</span> </div>
<div class="line"><a id="l08363" name="l08363"></a><span class="lineno"> 8363</span>    <span class="comment">// Error checking: verify that user hasn&#39;t called End() too many times!</span></div>
<div class="line"><a id="l08364" name="l08364"></a><span class="lineno"> 8364</span>    <span class="keywordflow">if</span> (g.CurrentWindowStack.Size &lt;= 1 &amp;&amp; g.WithinFrameScopeWithImplicitWindow)</div>
<div class="line"><a id="l08365" name="l08365"></a><span class="lineno"> 8365</span>    {</div>
<div class="line"><a id="l08366" name="l08366"></a><span class="lineno"> 8366</span>        IM_ASSERT_USER_ERROR(g.CurrentWindowStack.Size &gt; 1, <span class="stringliteral">&quot;Calling End() too many times!&quot;</span>);</div>
<div class="line"><a id="l08367" name="l08367"></a><span class="lineno"> 8367</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l08368" name="l08368"></a><span class="lineno"> 8368</span>    }</div>
<div class="line"><a id="l08369" name="l08369"></a><span class="lineno"> 8369</span>    <a class="code hl_struct" href="structImGuiWindowStackData.html">ImGuiWindowStackData</a>&amp; window_stack_data = g.CurrentWindowStack.back();</div>
<div class="line"><a id="l08370" name="l08370"></a><span class="lineno"> 8370</span> </div>
<div class="line"><a id="l08371" name="l08371"></a><span class="lineno"> 8371</span>    <span class="comment">// Error checking: verify that user doesn&#39;t directly call End() on a child window.</span></div>
<div class="line"><a id="l08372" name="l08372"></a><span class="lineno"> 8372</span>    <span class="keywordflow">if</span> ((window-&gt;Flags &amp; ImGuiWindowFlags_ChildWindow) &amp;&amp; !(window-&gt;Flags &amp; ImGuiWindowFlags_DockNodeHost) &amp;&amp; !window-&gt;DockIsActive)</div>
<div class="line"><a id="l08373" name="l08373"></a><span class="lineno"> 8373</span>        IM_ASSERT_USER_ERROR(g.WithinEndChildID == window-&gt;ID, <span class="stringliteral">&quot;Must call EndChild() and not End()!&quot;</span>);</div>
<div class="line"><a id="l08374" name="l08374"></a><span class="lineno"> 8374</span> </div>
<div class="line"><a id="l08375" name="l08375"></a><span class="lineno"> 8375</span>    <span class="comment">// Close anything that is open</span></div>
<div class="line"><a id="l08376" name="l08376"></a><span class="lineno"> 8376</span>    <span class="keywordflow">if</span> (window-&gt;DC.CurrentColumns)</div>
<div class="line"><a id="l08377" name="l08377"></a><span class="lineno"> 8377</span>        EndColumns();</div>
<div class="line"><a id="l08378" name="l08378"></a><span class="lineno"> 8378</span>    <span class="keywordflow">if</span> (!(window-&gt;Flags &amp; ImGuiWindowFlags_DockNodeHost) &amp;&amp; !window-&gt;SkipRefresh)   <span class="comment">// Pop inner window clip rectangle</span></div>
<div class="line"><a id="l08379" name="l08379"></a><span class="lineno"> 8379</span>        PopClipRect();</div>
<div class="line"><a id="l08380" name="l08380"></a><span class="lineno"> 8380</span>    PopFocusScope();</div>
<div class="line"><a id="l08381" name="l08381"></a><span class="lineno"> 8381</span>    <span class="keywordflow">if</span> (window_stack_data.DisabledOverrideReenable &amp;&amp; window-&gt;RootWindow == window)</div>
<div class="line"><a id="l08382" name="l08382"></a><span class="lineno"> 8382</span>        EndDisabledOverrideReenable();</div>
<div class="line"><a id="l08383" name="l08383"></a><span class="lineno"> 8383</span> </div>
<div class="line"><a id="l08384" name="l08384"></a><span class="lineno"> 8384</span>    <span class="keywordflow">if</span> (window-&gt;SkipRefresh)</div>
<div class="line"><a id="l08385" name="l08385"></a><span class="lineno"> 8385</span>    {</div>
<div class="line"><a id="l08386" name="l08386"></a><span class="lineno"> 8386</span>        IM_ASSERT(window-&gt;DrawList == NULL);</div>
<div class="line"><a id="l08387" name="l08387"></a><span class="lineno"> 8387</span>        window-&gt;DrawList = &amp;window-&gt;DrawListInst;</div>
<div class="line"><a id="l08388" name="l08388"></a><span class="lineno"> 8388</span>    }</div>
<div class="line"><a id="l08389" name="l08389"></a><span class="lineno"> 8389</span> </div>
<div class="line"><a id="l08390" name="l08390"></a><span class="lineno"> 8390</span>    <span class="comment">// Stop logging</span></div>
<div class="line"><a id="l08391" name="l08391"></a><span class="lineno"> 8391</span>    <span class="keywordflow">if</span> (g.LogWindow == window) <span class="comment">// FIXME: add more options for scope of logging</span></div>
<div class="line"><a id="l08392" name="l08392"></a><span class="lineno"> 8392</span>        LogFinish();</div>
<div class="line"><a id="l08393" name="l08393"></a><span class="lineno"> 8393</span> </div>
<div class="line"><a id="l08394" name="l08394"></a><span class="lineno"> 8394</span>    <span class="keywordflow">if</span> (window-&gt;DC.IsSetPos)</div>
<div class="line"><a id="l08395" name="l08395"></a><span class="lineno"> 8395</span>        ErrorCheckUsingSetCursorPosToExtendParentBoundaries();</div>
<div class="line"><a id="l08396" name="l08396"></a><span class="lineno"> 8396</span> </div>
<div class="line"><a id="l08397" name="l08397"></a><span class="lineno"> 8397</span>    <span class="comment">// Docking: report contents sizes to parent to allow for auto-resize</span></div>
<div class="line"><a id="l08398" name="l08398"></a><span class="lineno"> 8398</span>    <span class="keywordflow">if</span> (window-&gt;DockNode &amp;&amp; window-&gt;DockTabIsVisible)</div>
<div class="line"><a id="l08399" name="l08399"></a><span class="lineno"> 8399</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* host_window = window-&gt;DockNode-&gt;HostWindow)         <span class="comment">// FIXME-DOCK</span></div>
<div class="line"><a id="l08400" name="l08400"></a><span class="lineno"> 8400</span>            host_window-&gt;DC.CursorMaxPos = window-&gt;DC.CursorMaxPos + window-&gt;WindowPadding - host_window-&gt;WindowPadding;</div>
<div class="line"><a id="l08401" name="l08401"></a><span class="lineno"> 8401</span> </div>
<div class="line"><a id="l08402" name="l08402"></a><span class="lineno"> 8402</span>    <span class="comment">// Pop from window stack</span></div>
<div class="line"><a id="l08403" name="l08403"></a><span class="lineno"> 8403</span>    g.LastItemData = window_stack_data.ParentLastItemDataBackup;</div>
<div class="line"><a id="l08404" name="l08404"></a><span class="lineno"> 8404</span>    <span class="keywordflow">if</span> (window-&gt;Flags &amp; ImGuiWindowFlags_ChildMenu)</div>
<div class="line"><a id="l08405" name="l08405"></a><span class="lineno"> 8405</span>        g.BeginMenuDepth--;</div>
<div class="line"><a id="l08406" name="l08406"></a><span class="lineno"> 8406</span>    <span class="keywordflow">if</span> (window-&gt;Flags &amp; ImGuiWindowFlags_Popup)</div>
<div class="line"><a id="l08407" name="l08407"></a><span class="lineno"> 8407</span>        g.BeginPopupStack.pop_back();</div>
<div class="line"><a id="l08408" name="l08408"></a><span class="lineno"> 8408</span> </div>
<div class="line"><a id="l08409" name="l08409"></a><span class="lineno"> 8409</span>    <span class="comment">// Error handling, state recovery</span></div>
<div class="line"><a id="l08410" name="l08410"></a><span class="lineno"> 8410</span>    <span class="keywordflow">if</span> (g.IO.ConfigErrorRecovery)</div>
<div class="line"><a id="l08411" name="l08411"></a><span class="lineno"> 8411</span>        ErrorRecoveryTryToRecoverWindowState(&amp;window_stack_data.StackSizesInBegin);</div>
<div class="line"><a id="l08412" name="l08412"></a><span class="lineno"> 8412</span> </div>
<div class="line"><a id="l08413" name="l08413"></a><span class="lineno"> 8413</span>    g.CurrentWindowStack.pop_back();</div>
<div class="line"><a id="l08414" name="l08414"></a><span class="lineno"> 8414</span>    SetCurrentWindow(g.CurrentWindowStack.Size == 0 ? NULL : g.CurrentWindowStack.back().Window);</div>
<div class="line"><a id="l08415" name="l08415"></a><span class="lineno"> 8415</span>    <span class="keywordflow">if</span> (g.CurrentWindow)</div>
<div class="line"><a id="l08416" name="l08416"></a><span class="lineno"> 8416</span>        SetCurrentViewport(g.CurrentWindow, g.CurrentWindow-&gt;Viewport);</div>
<div class="line"><a id="l08417" name="l08417"></a><span class="lineno"> 8417</span>}</div>
<div class="line"><a id="l08418" name="l08418"></a><span class="lineno"> 8418</span> </div>
<div class="line"><a id="l08419" name="l08419"></a><span class="lineno"> 8419</span><span class="comment">// Important: this alone doesn&#39;t alter current ImDrawList state. This is called by PushFont/PopFont only.</span></div>
<div class="line"><a id="l08420" name="l08420"></a><span class="lineno"> 8420</span><span class="keywordtype">void</span> ImGui::SetCurrentFont(<a class="code hl_struct" href="structImFont.html">ImFont</a>* font)</div>
<div class="line"><a id="l08421" name="l08421"></a><span class="lineno"> 8421</span>{</div>
<div class="line"><a id="l08422" name="l08422"></a><span class="lineno"> 8422</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l08423" name="l08423"></a><span class="lineno"> 8423</span>    IM_ASSERT(font &amp;&amp; font-&gt;IsLoaded());    <span class="comment">// Font Atlas not created. Did you call io.Fonts-&gt;GetTexDataAsRGBA32 / GetTexDataAsAlpha8 ?</span></div>
<div class="line"><a id="l08424" name="l08424"></a><span class="lineno"> 8424</span>    IM_ASSERT(font-&gt;Scale &gt; 0.0f);</div>
<div class="line"><a id="l08425" name="l08425"></a><span class="lineno"> 8425</span>    g.Font = font;</div>
<div class="line"><a id="l08426" name="l08426"></a><span class="lineno"> 8426</span>    g.FontBaseSize = ImMax(1.0f, g.IO.FontGlobalScale * g.Font-&gt;FontSize * g.Font-&gt;Scale);</div>
<div class="line"><a id="l08427" name="l08427"></a><span class="lineno"> 8427</span>    g.FontSize = g.CurrentWindow ? g.CurrentWindow-&gt;CalcFontSize() : 0.0f;</div>
<div class="line"><a id="l08428" name="l08428"></a><span class="lineno"> 8428</span>    g.FontScale = g.FontSize / g.Font-&gt;FontSize;</div>
<div class="line"><a id="l08429" name="l08429"></a><span class="lineno"> 8429</span> </div>
<div class="line"><a id="l08430" name="l08430"></a><span class="lineno"> 8430</span>    <a class="code hl_struct" href="structImFontAtlas.html">ImFontAtlas</a>* atlas = g.Font-&gt;ContainerAtlas;</div>
<div class="line"><a id="l08431" name="l08431"></a><span class="lineno"> 8431</span>    g.DrawListSharedData.TexUvWhitePixel = atlas-&gt;TexUvWhitePixel;</div>
<div class="line"><a id="l08432" name="l08432"></a><span class="lineno"> 8432</span>    g.DrawListSharedData.TexUvLines = atlas-&gt;TexUvLines;</div>
<div class="line"><a id="l08433" name="l08433"></a><span class="lineno"> 8433</span>    g.DrawListSharedData.Font = g.Font;</div>
<div class="line"><a id="l08434" name="l08434"></a><span class="lineno"> 8434</span>    g.DrawListSharedData.FontSize = g.FontSize;</div>
<div class="line"><a id="l08435" name="l08435"></a><span class="lineno"> 8435</span>    g.DrawListSharedData.FontScale = g.FontScale;</div>
<div class="line"><a id="l08436" name="l08436"></a><span class="lineno"> 8436</span>}</div>
<div class="line"><a id="l08437" name="l08437"></a><span class="lineno"> 8437</span> </div>
<div class="line"><a id="l08438" name="l08438"></a><span class="lineno"> 8438</span><span class="comment">// Use ImDrawList::_SetTextureID(), making our shared g.FontStack[] authoritative against window-local ImDrawList.</span></div>
<div class="line"><a id="l08439" name="l08439"></a><span class="lineno"> 8439</span><span class="comment">// - Whereas ImDrawList::PushTextureID()/PopTextureID() is not to be used across Begin() calls.</span></div>
<div class="line"><a id="l08440" name="l08440"></a><span class="lineno"> 8440</span><span class="comment">// - Note that we don&#39;t propagate current texture id when e.g. Begin()-ing into a new window, we never really did...</span></div>
<div class="line"><a id="l08441" name="l08441"></a><span class="lineno"> 8441</span><span class="comment">//   - Some code paths never really fully worked with multiple atlas textures.</span></div>
<div class="line"><a id="l08442" name="l08442"></a><span class="lineno"> 8442</span><span class="comment">//   - The right-ish solution may be to remove _SetTextureID() and make AddText/RenderText lazily call PushTextureID()/PopTextureID()</span></div>
<div class="line"><a id="l08443" name="l08443"></a><span class="lineno"> 8443</span><span class="comment">//     the same way AddImage() does, but then all other primitives would also need to? I don&#39;t think we should tackle this problem</span></div>
<div class="line"><a id="l08444" name="l08444"></a><span class="lineno"> 8444</span><span class="comment">//     because we have a concrete need and a test bed for multiple atlas textures.</span></div>
<div class="line"><a id="l08445" name="l08445"></a><span class="lineno"> 8445</span><span class="keywordtype">void</span> ImGui::PushFont(<a class="code hl_struct" href="structImFont.html">ImFont</a>* font)</div>
<div class="line"><a id="l08446" name="l08446"></a><span class="lineno"> 8446</span>{</div>
<div class="line"><a id="l08447" name="l08447"></a><span class="lineno"> 8447</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l08448" name="l08448"></a><span class="lineno"> 8448</span>    <span class="keywordflow">if</span> (font == NULL)</div>
<div class="line"><a id="l08449" name="l08449"></a><span class="lineno"> 8449</span>        font = GetDefaultFont();</div>
<div class="line"><a id="l08450" name="l08450"></a><span class="lineno"> 8450</span>    g.FontStack.push_back(font);</div>
<div class="line"><a id="l08451" name="l08451"></a><span class="lineno"> 8451</span>    SetCurrentFont(font);</div>
<div class="line"><a id="l08452" name="l08452"></a><span class="lineno"> 8452</span>    g.CurrentWindow-&gt;DrawList-&gt;_SetTextureID(font-&gt;ContainerAtlas-&gt;TexID);</div>
<div class="line"><a id="l08453" name="l08453"></a><span class="lineno"> 8453</span>}</div>
<div class="line"><a id="l08454" name="l08454"></a><span class="lineno"> 8454</span> </div>
<div class="line"><a id="l08455" name="l08455"></a><span class="lineno"> 8455</span><span class="keywordtype">void</span>  ImGui::PopFont()</div>
<div class="line"><a id="l08456" name="l08456"></a><span class="lineno"> 8456</span>{</div>
<div class="line"><a id="l08457" name="l08457"></a><span class="lineno"> 8457</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l08458" name="l08458"></a><span class="lineno"> 8458</span>    <span class="keywordflow">if</span> (g.FontStack.Size &lt;= 0)</div>
<div class="line"><a id="l08459" name="l08459"></a><span class="lineno"> 8459</span>    {</div>
<div class="line"><a id="l08460" name="l08460"></a><span class="lineno"> 8460</span>        IM_ASSERT_USER_ERROR(0, <span class="stringliteral">&quot;Calling PopFont() too many times!&quot;</span>);</div>
<div class="line"><a id="l08461" name="l08461"></a><span class="lineno"> 8461</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l08462" name="l08462"></a><span class="lineno"> 8462</span>    }</div>
<div class="line"><a id="l08463" name="l08463"></a><span class="lineno"> 8463</span>    g.FontStack.pop_back();</div>
<div class="line"><a id="l08464" name="l08464"></a><span class="lineno"> 8464</span>    <a class="code hl_struct" href="structImFont.html">ImFont</a>* font = g.FontStack.Size == 0 ? GetDefaultFont() : g.FontStack.back();</div>
<div class="line"><a id="l08465" name="l08465"></a><span class="lineno"> 8465</span>    SetCurrentFont(font);</div>
<div class="line"><a id="l08466" name="l08466"></a><span class="lineno"> 8466</span>    g.CurrentWindow-&gt;DrawList-&gt;_SetTextureID(font-&gt;ContainerAtlas-&gt;TexID);</div>
<div class="line"><a id="l08467" name="l08467"></a><span class="lineno"> 8467</span>}</div>
<div class="line"><a id="l08468" name="l08468"></a><span class="lineno"> 8468</span> </div>
<div class="line"><a id="l08469" name="l08469"></a><span class="lineno"> 8469</span><span class="keywordtype">void</span> ImGui::PushItemFlag(ImGuiItemFlags option, <span class="keywordtype">bool</span> enabled)</div>
<div class="line"><a id="l08470" name="l08470"></a><span class="lineno"> 8470</span>{</div>
<div class="line"><a id="l08471" name="l08471"></a><span class="lineno"> 8471</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l08472" name="l08472"></a><span class="lineno"> 8472</span>    ImGuiItemFlags item_flags = g.CurrentItemFlags;</div>
<div class="line"><a id="l08473" name="l08473"></a><span class="lineno"> 8473</span>    IM_ASSERT(item_flags == g.ItemFlagsStack.back());</div>
<div class="line"><a id="l08474" name="l08474"></a><span class="lineno"> 8474</span>    <span class="keywordflow">if</span> (enabled)</div>
<div class="line"><a id="l08475" name="l08475"></a><span class="lineno"> 8475</span>        item_flags |= option;</div>
<div class="line"><a id="l08476" name="l08476"></a><span class="lineno"> 8476</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l08477" name="l08477"></a><span class="lineno"> 8477</span>        item_flags &amp;= ~option;</div>
<div class="line"><a id="l08478" name="l08478"></a><span class="lineno"> 8478</span>    g.CurrentItemFlags = item_flags;</div>
<div class="line"><a id="l08479" name="l08479"></a><span class="lineno"> 8479</span>    g.ItemFlagsStack.push_back(item_flags);</div>
<div class="line"><a id="l08480" name="l08480"></a><span class="lineno"> 8480</span>}</div>
<div class="line"><a id="l08481" name="l08481"></a><span class="lineno"> 8481</span> </div>
<div class="line"><a id="l08482" name="l08482"></a><span class="lineno"> 8482</span><span class="keywordtype">void</span> ImGui::PopItemFlag()</div>
<div class="line"><a id="l08483" name="l08483"></a><span class="lineno"> 8483</span>{</div>
<div class="line"><a id="l08484" name="l08484"></a><span class="lineno"> 8484</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l08485" name="l08485"></a><span class="lineno"> 8485</span>    <span class="keywordflow">if</span> (g.ItemFlagsStack.Size &lt;= 1)</div>
<div class="line"><a id="l08486" name="l08486"></a><span class="lineno"> 8486</span>    {</div>
<div class="line"><a id="l08487" name="l08487"></a><span class="lineno"> 8487</span>        IM_ASSERT_USER_ERROR(0, <span class="stringliteral">&quot;Calling PopItemFlag() too many times!&quot;</span>);</div>
<div class="line"><a id="l08488" name="l08488"></a><span class="lineno"> 8488</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l08489" name="l08489"></a><span class="lineno"> 8489</span>    }</div>
<div class="line"><a id="l08490" name="l08490"></a><span class="lineno"> 8490</span>    g.ItemFlagsStack.pop_back();</div>
<div class="line"><a id="l08491" name="l08491"></a><span class="lineno"> 8491</span>    g.CurrentItemFlags = g.ItemFlagsStack.back();</div>
<div class="line"><a id="l08492" name="l08492"></a><span class="lineno"> 8492</span>}</div>
<div class="line"><a id="l08493" name="l08493"></a><span class="lineno"> 8493</span> </div>
<div class="line"><a id="l08494" name="l08494"></a><span class="lineno"> 8494</span><span class="comment">// BeginDisabled()/EndDisabled()</span></div>
<div class="line"><a id="l08495" name="l08495"></a><span class="lineno"> 8495</span><span class="comment">// - Those can be nested but it cannot be used to enable an already disabled section (a single BeginDisabled(true) in the stack is enough to keep everything disabled)</span></div>
<div class="line"><a id="l08496" name="l08496"></a><span class="lineno"> 8496</span><span class="comment">// - Visually this is currently altering alpha, but it is expected that in a future styling system this would work differently.</span></div>
<div class="line"><a id="l08497" name="l08497"></a><span class="lineno"> 8497</span><span class="comment">// - Feedback welcome at https://github.com/ocornut/imgui/issues/211</span></div>
<div class="line"><a id="l08498" name="l08498"></a><span class="lineno"> 8498</span><span class="comment">// - BeginDisabled(false)/EndDisabled() essentially does nothing but is provided to facilitate use of boolean expressions.</span></div>
<div class="line"><a id="l08499" name="l08499"></a><span class="lineno"> 8499</span><span class="comment">//   (as a micro-optimization: if you have tens of thousands of BeginDisabled(false)/EndDisabled() pairs, you might want to reformulate your code to avoid making those calls)</span></div>
<div class="line"><a id="l08500" name="l08500"></a><span class="lineno"> 8500</span><span class="comment">// - Note: mixing up BeginDisabled() and PushItemFlag(ImGuiItemFlags_Disabled) is currently NOT SUPPORTED.</span></div>
<div class="line"><a id="l08501" name="l08501"></a><span class="lineno"> 8501</span><span class="keywordtype">void</span> ImGui::BeginDisabled(<span class="keywordtype">bool</span> disabled)</div>
<div class="line"><a id="l08502" name="l08502"></a><span class="lineno"> 8502</span>{</div>
<div class="line"><a id="l08503" name="l08503"></a><span class="lineno"> 8503</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l08504" name="l08504"></a><span class="lineno"> 8504</span>    <span class="keywordtype">bool</span> was_disabled = (g.CurrentItemFlags &amp; ImGuiItemFlags_Disabled) != 0;</div>
<div class="line"><a id="l08505" name="l08505"></a><span class="lineno"> 8505</span>    <span class="keywordflow">if</span> (!was_disabled &amp;&amp; disabled)</div>
<div class="line"><a id="l08506" name="l08506"></a><span class="lineno"> 8506</span>    {</div>
<div class="line"><a id="l08507" name="l08507"></a><span class="lineno"> 8507</span>        g.DisabledAlphaBackup = g.Style.Alpha;</div>
<div class="line"><a id="l08508" name="l08508"></a><span class="lineno"> 8508</span>        g.Style.Alpha *= g.Style.DisabledAlpha; <span class="comment">// PushStyleVar(ImGuiStyleVar_Alpha, g.Style.Alpha * g.Style.DisabledAlpha);</span></div>
<div class="line"><a id="l08509" name="l08509"></a><span class="lineno"> 8509</span>    }</div>
<div class="line"><a id="l08510" name="l08510"></a><span class="lineno"> 8510</span>    <span class="keywordflow">if</span> (was_disabled || disabled)</div>
<div class="line"><a id="l08511" name="l08511"></a><span class="lineno"> 8511</span>        g.CurrentItemFlags |= ImGuiItemFlags_Disabled;</div>
<div class="line"><a id="l08512" name="l08512"></a><span class="lineno"> 8512</span>    g.ItemFlagsStack.push_back(g.CurrentItemFlags); <span class="comment">// FIXME-OPT: can we simply skip this and use DisabledStackSize?</span></div>
<div class="line"><a id="l08513" name="l08513"></a><span class="lineno"> 8513</span>    g.DisabledStackSize++;</div>
<div class="line"><a id="l08514" name="l08514"></a><span class="lineno"> 8514</span>}</div>
<div class="line"><a id="l08515" name="l08515"></a><span class="lineno"> 8515</span> </div>
<div class="line"><a id="l08516" name="l08516"></a><span class="lineno"> 8516</span><span class="keywordtype">void</span> ImGui::EndDisabled()</div>
<div class="line"><a id="l08517" name="l08517"></a><span class="lineno"> 8517</span>{</div>
<div class="line"><a id="l08518" name="l08518"></a><span class="lineno"> 8518</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l08519" name="l08519"></a><span class="lineno"> 8519</span>    <span class="keywordflow">if</span> (g.DisabledStackSize &lt;= 0)</div>
<div class="line"><a id="l08520" name="l08520"></a><span class="lineno"> 8520</span>    {</div>
<div class="line"><a id="l08521" name="l08521"></a><span class="lineno"> 8521</span>        IM_ASSERT_USER_ERROR(0, <span class="stringliteral">&quot;Calling EndDisabled() too many times!&quot;</span>);</div>
<div class="line"><a id="l08522" name="l08522"></a><span class="lineno"> 8522</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l08523" name="l08523"></a><span class="lineno"> 8523</span>    }</div>
<div class="line"><a id="l08524" name="l08524"></a><span class="lineno"> 8524</span>    g.DisabledStackSize--;</div>
<div class="line"><a id="l08525" name="l08525"></a><span class="lineno"> 8525</span>    <span class="keywordtype">bool</span> was_disabled = (g.CurrentItemFlags &amp; ImGuiItemFlags_Disabled) != 0;</div>
<div class="line"><a id="l08526" name="l08526"></a><span class="lineno"> 8526</span>    <span class="comment">//PopItemFlag();</span></div>
<div class="line"><a id="l08527" name="l08527"></a><span class="lineno"> 8527</span>    g.ItemFlagsStack.pop_back();</div>
<div class="line"><a id="l08528" name="l08528"></a><span class="lineno"> 8528</span>    g.CurrentItemFlags = g.ItemFlagsStack.back();</div>
<div class="line"><a id="l08529" name="l08529"></a><span class="lineno"> 8529</span>    <span class="keywordflow">if</span> (was_disabled &amp;&amp; (g.CurrentItemFlags &amp; ImGuiItemFlags_Disabled) == 0)</div>
<div class="line"><a id="l08530" name="l08530"></a><span class="lineno"> 8530</span>        g.Style.Alpha = g.DisabledAlphaBackup; <span class="comment">//PopStyleVar();</span></div>
<div class="line"><a id="l08531" name="l08531"></a><span class="lineno"> 8531</span>}</div>
<div class="line"><a id="l08532" name="l08532"></a><span class="lineno"> 8532</span> </div>
<div class="line"><a id="l08533" name="l08533"></a><span class="lineno"> 8533</span><span class="comment">// Could have been called BeginDisabledDisable() but it didn&#39;t want to be award nominated for most awkward function name.</span></div>
<div class="line"><a id="l08534" name="l08534"></a><span class="lineno"> 8534</span><span class="comment">// Ideally we would use a shared e.g. BeginDisabled()-&gt;BeginDisabledEx() but earlier needs to be optimal.</span></div>
<div class="line"><a id="l08535" name="l08535"></a><span class="lineno"> 8535</span><span class="comment">// The whole code for this is awkward, will reevaluate if we find a way to implement SetNextItemDisabled().</span></div>
<div class="line"><a id="l08536" name="l08536"></a><span class="lineno"> 8536</span><span class="keywordtype">void</span> ImGui::BeginDisabledOverrideReenable()</div>
<div class="line"><a id="l08537" name="l08537"></a><span class="lineno"> 8537</span>{</div>
<div class="line"><a id="l08538" name="l08538"></a><span class="lineno"> 8538</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l08539" name="l08539"></a><span class="lineno"> 8539</span>    IM_ASSERT(g.CurrentItemFlags &amp; ImGuiItemFlags_Disabled);</div>
<div class="line"><a id="l08540" name="l08540"></a><span class="lineno"> 8540</span>    g.CurrentWindowStack.back().DisabledOverrideReenableAlphaBackup = g.Style.Alpha;</div>
<div class="line"><a id="l08541" name="l08541"></a><span class="lineno"> 8541</span>    g.Style.Alpha = g.DisabledAlphaBackup;</div>
<div class="line"><a id="l08542" name="l08542"></a><span class="lineno"> 8542</span>    g.CurrentItemFlags &amp;= ~ImGuiItemFlags_Disabled;</div>
<div class="line"><a id="l08543" name="l08543"></a><span class="lineno"> 8543</span>    g.ItemFlagsStack.push_back(g.CurrentItemFlags);</div>
<div class="line"><a id="l08544" name="l08544"></a><span class="lineno"> 8544</span>    g.DisabledStackSize++;</div>
<div class="line"><a id="l08545" name="l08545"></a><span class="lineno"> 8545</span>}</div>
<div class="line"><a id="l08546" name="l08546"></a><span class="lineno"> 8546</span> </div>
<div class="line"><a id="l08547" name="l08547"></a><span class="lineno"> 8547</span><span class="keywordtype">void</span> ImGui::EndDisabledOverrideReenable()</div>
<div class="line"><a id="l08548" name="l08548"></a><span class="lineno"> 8548</span>{</div>
<div class="line"><a id="l08549" name="l08549"></a><span class="lineno"> 8549</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l08550" name="l08550"></a><span class="lineno"> 8550</span>    g.DisabledStackSize--;</div>
<div class="line"><a id="l08551" name="l08551"></a><span class="lineno"> 8551</span>    IM_ASSERT(g.DisabledStackSize &gt; 0);</div>
<div class="line"><a id="l08552" name="l08552"></a><span class="lineno"> 8552</span>    g.ItemFlagsStack.pop_back();</div>
<div class="line"><a id="l08553" name="l08553"></a><span class="lineno"> 8553</span>    g.CurrentItemFlags = g.ItemFlagsStack.back();</div>
<div class="line"><a id="l08554" name="l08554"></a><span class="lineno"> 8554</span>    g.Style.Alpha = g.CurrentWindowStack.back().DisabledOverrideReenableAlphaBackup;</div>
<div class="line"><a id="l08555" name="l08555"></a><span class="lineno"> 8555</span>}</div>
<div class="line"><a id="l08556" name="l08556"></a><span class="lineno"> 8556</span> </div>
<div class="line"><a id="l08557" name="l08557"></a><span class="lineno"> 8557</span><span class="keywordtype">void</span> ImGui::PushTextWrapPos(<span class="keywordtype">float</span> wrap_pos_x)</div>
<div class="line"><a id="l08558" name="l08558"></a><span class="lineno"> 8558</span>{</div>
<div class="line"><a id="l08559" name="l08559"></a><span class="lineno"> 8559</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l08560" name="l08560"></a><span class="lineno"> 8560</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l08561" name="l08561"></a><span class="lineno"> 8561</span>    window-&gt;DC.TextWrapPosStack.push_back(window-&gt;DC.TextWrapPos);</div>
<div class="line"><a id="l08562" name="l08562"></a><span class="lineno"> 8562</span>    window-&gt;DC.TextWrapPos = wrap_pos_x;</div>
<div class="line"><a id="l08563" name="l08563"></a><span class="lineno"> 8563</span>}</div>
<div class="line"><a id="l08564" name="l08564"></a><span class="lineno"> 8564</span> </div>
<div class="line"><a id="l08565" name="l08565"></a><span class="lineno"> 8565</span><span class="keywordtype">void</span> ImGui::PopTextWrapPos()</div>
<div class="line"><a id="l08566" name="l08566"></a><span class="lineno"> 8566</span>{</div>
<div class="line"><a id="l08567" name="l08567"></a><span class="lineno"> 8567</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l08568" name="l08568"></a><span class="lineno"> 8568</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l08569" name="l08569"></a><span class="lineno"> 8569</span>    <span class="keywordflow">if</span> (window-&gt;DC.TextWrapPosStack.Size &lt;= 0)</div>
<div class="line"><a id="l08570" name="l08570"></a><span class="lineno"> 8570</span>    {</div>
<div class="line"><a id="l08571" name="l08571"></a><span class="lineno"> 8571</span>        IM_ASSERT_USER_ERROR(0, <span class="stringliteral">&quot;Calling PopTextWrapPos() too many times!&quot;</span>);</div>
<div class="line"><a id="l08572" name="l08572"></a><span class="lineno"> 8572</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l08573" name="l08573"></a><span class="lineno"> 8573</span>    }</div>
<div class="line"><a id="l08574" name="l08574"></a><span class="lineno"> 8574</span>    window-&gt;DC.TextWrapPos = window-&gt;DC.TextWrapPosStack.back();</div>
<div class="line"><a id="l08575" name="l08575"></a><span class="lineno"> 8575</span>    window-&gt;DC.TextWrapPosStack.pop_back();</div>
<div class="line"><a id="l08576" name="l08576"></a><span class="lineno"> 8576</span>}</div>
<div class="line"><a id="l08577" name="l08577"></a><span class="lineno"> 8577</span> </div>
<div class="line"><a id="l08578" name="l08578"></a><span class="lineno"> 8578</span><span class="keyword">static</span> <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* GetCombinedRootWindow(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keywordtype">bool</span> popup_hierarchy, <span class="keywordtype">bool</span> dock_hierarchy)</div>
<div class="line"><a id="l08579" name="l08579"></a><span class="lineno"> 8579</span>{</div>
<div class="line"><a id="l08580" name="l08580"></a><span class="lineno"> 8580</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* last_window = NULL;</div>
<div class="line"><a id="l08581" name="l08581"></a><span class="lineno"> 8581</span>    <span class="keywordflow">while</span> (last_window != window)</div>
<div class="line"><a id="l08582" name="l08582"></a><span class="lineno"> 8582</span>    {</div>
<div class="line"><a id="l08583" name="l08583"></a><span class="lineno"> 8583</span>        last_window = window;</div>
<div class="line"><a id="l08584" name="l08584"></a><span class="lineno"> 8584</span>        window = window-&gt;RootWindow;</div>
<div class="line"><a id="l08585" name="l08585"></a><span class="lineno"> 8585</span>        <span class="keywordflow">if</span> (popup_hierarchy)</div>
<div class="line"><a id="l08586" name="l08586"></a><span class="lineno"> 8586</span>            window = window-&gt;RootWindowPopupTree;</div>
<div class="line"><a id="l08587" name="l08587"></a><span class="lineno"> 8587</span>        <span class="keywordflow">if</span> (dock_hierarchy)</div>
<div class="line"><a id="l08588" name="l08588"></a><span class="lineno"> 8588</span>            window = window-&gt;RootWindowDockTree;</div>
<div class="line"><a id="l08589" name="l08589"></a><span class="lineno"> 8589</span>    }</div>
<div class="line"><a id="l08590" name="l08590"></a><span class="lineno"> 8590</span>    <span class="keywordflow">return</span> window;</div>
<div class="line"><a id="l08591" name="l08591"></a><span class="lineno"> 8591</span>}</div>
<div class="line"><a id="l08592" name="l08592"></a><span class="lineno"> 8592</span> </div>
<div class="line"><a id="l08593" name="l08593"></a><span class="lineno"> 8593</span><span class="keywordtype">bool</span> ImGui::IsWindowChildOf(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* potential_parent, <span class="keywordtype">bool</span> popup_hierarchy, <span class="keywordtype">bool</span> dock_hierarchy)</div>
<div class="line"><a id="l08594" name="l08594"></a><span class="lineno"> 8594</span>{</div>
<div class="line"><a id="l08595" name="l08595"></a><span class="lineno"> 8595</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window_root = GetCombinedRootWindow(window, popup_hierarchy, dock_hierarchy);</div>
<div class="line"><a id="l08596" name="l08596"></a><span class="lineno"> 8596</span>    <span class="keywordflow">if</span> (window_root == potential_parent)</div>
<div class="line"><a id="l08597" name="l08597"></a><span class="lineno"> 8597</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l08598" name="l08598"></a><span class="lineno"> 8598</span>    <span class="keywordflow">while</span> (window != NULL)</div>
<div class="line"><a id="l08599" name="l08599"></a><span class="lineno"> 8599</span>    {</div>
<div class="line"><a id="l08600" name="l08600"></a><span class="lineno"> 8600</span>        <span class="keywordflow">if</span> (window == potential_parent)</div>
<div class="line"><a id="l08601" name="l08601"></a><span class="lineno"> 8601</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l08602" name="l08602"></a><span class="lineno"> 8602</span>        <span class="keywordflow">if</span> (window == window_root) <span class="comment">// end of chain</span></div>
<div class="line"><a id="l08603" name="l08603"></a><span class="lineno"> 8603</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l08604" name="l08604"></a><span class="lineno"> 8604</span>        window = window-&gt;ParentWindow;</div>
<div class="line"><a id="l08605" name="l08605"></a><span class="lineno"> 8605</span>    }</div>
<div class="line"><a id="l08606" name="l08606"></a><span class="lineno"> 8606</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l08607" name="l08607"></a><span class="lineno"> 8607</span>}</div>
<div class="line"><a id="l08608" name="l08608"></a><span class="lineno"> 8608</span> </div>
<div class="line"><a id="l08609" name="l08609"></a><span class="lineno"> 8609</span><span class="keywordtype">bool</span> ImGui::IsWindowWithinBeginStackOf(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* potential_parent)</div>
<div class="line"><a id="l08610" name="l08610"></a><span class="lineno"> 8610</span>{</div>
<div class="line"><a id="l08611" name="l08611"></a><span class="lineno"> 8611</span>    <span class="keywordflow">if</span> (window-&gt;RootWindow == potential_parent)</div>
<div class="line"><a id="l08612" name="l08612"></a><span class="lineno"> 8612</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l08613" name="l08613"></a><span class="lineno"> 8613</span>    <span class="keywordflow">while</span> (window != NULL)</div>
<div class="line"><a id="l08614" name="l08614"></a><span class="lineno"> 8614</span>    {</div>
<div class="line"><a id="l08615" name="l08615"></a><span class="lineno"> 8615</span>        <span class="keywordflow">if</span> (window == potential_parent)</div>
<div class="line"><a id="l08616" name="l08616"></a><span class="lineno"> 8616</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l08617" name="l08617"></a><span class="lineno"> 8617</span>        window = window-&gt;ParentWindowInBeginStack;</div>
<div class="line"><a id="l08618" name="l08618"></a><span class="lineno"> 8618</span>    }</div>
<div class="line"><a id="l08619" name="l08619"></a><span class="lineno"> 8619</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l08620" name="l08620"></a><span class="lineno"> 8620</span>}</div>
<div class="line"><a id="l08621" name="l08621"></a><span class="lineno"> 8621</span> </div>
<div class="line"><a id="l08622" name="l08622"></a><span class="lineno"> 8622</span><span class="keywordtype">bool</span> ImGui::IsWindowAbove(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* potential_above, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* potential_below)</div>
<div class="line"><a id="l08623" name="l08623"></a><span class="lineno"> 8623</span>{</div>
<div class="line"><a id="l08624" name="l08624"></a><span class="lineno"> 8624</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l08625" name="l08625"></a><span class="lineno"> 8625</span> </div>
<div class="line"><a id="l08626" name="l08626"></a><span class="lineno"> 8626</span>    <span class="comment">// It would be saner to ensure that display layer is always reflected in the g.Windows[] order, which would likely requires altering all manipulations of that array</span></div>
<div class="line"><a id="l08627" name="l08627"></a><span class="lineno"> 8627</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> display_layer_delta = GetWindowDisplayLayer(potential_above) - GetWindowDisplayLayer(potential_below);</div>
<div class="line"><a id="l08628" name="l08628"></a><span class="lineno"> 8628</span>    <span class="keywordflow">if</span> (display_layer_delta != 0)</div>
<div class="line"><a id="l08629" name="l08629"></a><span class="lineno"> 8629</span>        <span class="keywordflow">return</span> display_layer_delta &gt; 0;</div>
<div class="line"><a id="l08630" name="l08630"></a><span class="lineno"> 8630</span> </div>
<div class="line"><a id="l08631" name="l08631"></a><span class="lineno"> 8631</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = g.Windows.Size - 1; i &gt;= 0; i--)</div>
<div class="line"><a id="l08632" name="l08632"></a><span class="lineno"> 8632</span>    {</div>
<div class="line"><a id="l08633" name="l08633"></a><span class="lineno"> 8633</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* candidate_window = g.Windows[i];</div>
<div class="line"><a id="l08634" name="l08634"></a><span class="lineno"> 8634</span>        <span class="keywordflow">if</span> (candidate_window == potential_above)</div>
<div class="line"><a id="l08635" name="l08635"></a><span class="lineno"> 8635</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l08636" name="l08636"></a><span class="lineno"> 8636</span>        <span class="keywordflow">if</span> (candidate_window == potential_below)</div>
<div class="line"><a id="l08637" name="l08637"></a><span class="lineno"> 8637</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l08638" name="l08638"></a><span class="lineno"> 8638</span>    }</div>
<div class="line"><a id="l08639" name="l08639"></a><span class="lineno"> 8639</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l08640" name="l08640"></a><span class="lineno"> 8640</span>}</div>
<div class="line"><a id="l08641" name="l08641"></a><span class="lineno"> 8641</span> </div>
<div class="line"><a id="l08642" name="l08642"></a><span class="lineno"> 8642</span><span class="comment">// Is current window hovered and hoverable (e.g. not blocked by a popup/modal)? See ImGuiHoveredFlags_ for options.</span></div>
<div class="line"><a id="l08643" name="l08643"></a><span class="lineno"> 8643</span><span class="comment">// IMPORTANT: If you are trying to check whether your mouse should be dispatched to Dear ImGui or to your underlying app,</span></div>
<div class="line"><a id="l08644" name="l08644"></a><span class="lineno"> 8644</span><span class="comment">// you should not use this function! Use the &#39;io.WantCaptureMouse&#39; boolean for that!</span></div>
<div class="line"><a id="l08645" name="l08645"></a><span class="lineno"> 8645</span><span class="comment">// Refer to FAQ entry &quot;How can I tell whether to dispatch mouse/keyboard to Dear ImGui or my application?&quot; for details.</span></div>
<div class="line"><a id="l08646" name="l08646"></a><span class="lineno"> 8646</span><span class="keywordtype">bool</span> ImGui::IsWindowHovered(ImGuiHoveredFlags flags)</div>
<div class="line"><a id="l08647" name="l08647"></a><span class="lineno"> 8647</span>{</div>
<div class="line"><a id="l08648" name="l08648"></a><span class="lineno"> 8648</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l08649" name="l08649"></a><span class="lineno"> 8649</span>    IM_ASSERT_USER_ERROR((flags &amp; ~ImGuiHoveredFlags_AllowedMaskForIsWindowHovered) == 0, <span class="stringliteral">&quot;Invalid flags for IsWindowHovered()!&quot;</span>);</div>
<div class="line"><a id="l08650" name="l08650"></a><span class="lineno"> 8650</span> </div>
<div class="line"><a id="l08651" name="l08651"></a><span class="lineno"> 8651</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* ref_window = g.HoveredWindow;</div>
<div class="line"><a id="l08652" name="l08652"></a><span class="lineno"> 8652</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* cur_window = g.CurrentWindow;</div>
<div class="line"><a id="l08653" name="l08653"></a><span class="lineno"> 8653</span>    <span class="keywordflow">if</span> (ref_window == NULL)</div>
<div class="line"><a id="l08654" name="l08654"></a><span class="lineno"> 8654</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l08655" name="l08655"></a><span class="lineno"> 8655</span> </div>
<div class="line"><a id="l08656" name="l08656"></a><span class="lineno"> 8656</span>    <span class="keywordflow">if</span> ((flags &amp; ImGuiHoveredFlags_AnyWindow) == 0)</div>
<div class="line"><a id="l08657" name="l08657"></a><span class="lineno"> 8657</span>    {</div>
<div class="line"><a id="l08658" name="l08658"></a><span class="lineno"> 8658</span>        IM_ASSERT(cur_window); <span class="comment">// Not inside a Begin()/End()</span></div>
<div class="line"><a id="l08659" name="l08659"></a><span class="lineno"> 8659</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> popup_hierarchy = (flags &amp; ImGuiHoveredFlags_NoPopupHierarchy) == 0;</div>
<div class="line"><a id="l08660" name="l08660"></a><span class="lineno"> 8660</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> dock_hierarchy = (flags &amp; ImGuiHoveredFlags_DockHierarchy) != 0;</div>
<div class="line"><a id="l08661" name="l08661"></a><span class="lineno"> 8661</span>        <span class="keywordflow">if</span> (flags &amp; ImGuiHoveredFlags_RootWindow)</div>
<div class="line"><a id="l08662" name="l08662"></a><span class="lineno"> 8662</span>            cur_window = GetCombinedRootWindow(cur_window, popup_hierarchy, dock_hierarchy);</div>
<div class="line"><a id="l08663" name="l08663"></a><span class="lineno"> 8663</span> </div>
<div class="line"><a id="l08664" name="l08664"></a><span class="lineno"> 8664</span>        <span class="keywordtype">bool</span> result;</div>
<div class="line"><a id="l08665" name="l08665"></a><span class="lineno"> 8665</span>        <span class="keywordflow">if</span> (flags &amp; ImGuiHoveredFlags_ChildWindows)</div>
<div class="line"><a id="l08666" name="l08666"></a><span class="lineno"> 8666</span>            result = IsWindowChildOf(ref_window, cur_window, popup_hierarchy, dock_hierarchy);</div>
<div class="line"><a id="l08667" name="l08667"></a><span class="lineno"> 8667</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l08668" name="l08668"></a><span class="lineno"> 8668</span>            result = (ref_window == cur_window);</div>
<div class="line"><a id="l08669" name="l08669"></a><span class="lineno"> 8669</span>        <span class="keywordflow">if</span> (!result)</div>
<div class="line"><a id="l08670" name="l08670"></a><span class="lineno"> 8670</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l08671" name="l08671"></a><span class="lineno"> 8671</span>    }</div>
<div class="line"><a id="l08672" name="l08672"></a><span class="lineno"> 8672</span> </div>
<div class="line"><a id="l08673" name="l08673"></a><span class="lineno"> 8673</span>    <span class="keywordflow">if</span> (!IsWindowContentHoverable(ref_window, flags))</div>
<div class="line"><a id="l08674" name="l08674"></a><span class="lineno"> 8674</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l08675" name="l08675"></a><span class="lineno"> 8675</span>    <span class="keywordflow">if</span> (!(flags &amp; ImGuiHoveredFlags_AllowWhenBlockedByActiveItem))</div>
<div class="line"><a id="l08676" name="l08676"></a><span class="lineno"> 8676</span>        <span class="keywordflow">if</span> (g.ActiveId != 0 &amp;&amp; !g.ActiveIdAllowOverlap &amp;&amp; g.ActiveId != ref_window-&gt;MoveId)</div>
<div class="line"><a id="l08677" name="l08677"></a><span class="lineno"> 8677</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l08678" name="l08678"></a><span class="lineno"> 8678</span> </div>
<div class="line"><a id="l08679" name="l08679"></a><span class="lineno"> 8679</span>    <span class="comment">// When changing hovered window we requires a bit of stationary delay before activating hover timer.</span></div>
<div class="line"><a id="l08680" name="l08680"></a><span class="lineno"> 8680</span>    <span class="comment">// FIXME: We don&#39;t support delay other than stationary one for now, other delay would need a way</span></div>
<div class="line"><a id="l08681" name="l08681"></a><span class="lineno"> 8681</span>    <span class="comment">// to fulfill the possibility that multiple IsWindowHovered() with varying flag could return true</span></div>
<div class="line"><a id="l08682" name="l08682"></a><span class="lineno"> 8682</span>    <span class="comment">// for different windows of the hierarchy. Possibly need a Hash(Current+Flags) ==&gt; (Timer) cache.</span></div>
<div class="line"><a id="l08683" name="l08683"></a><span class="lineno"> 8683</span>    <span class="comment">// We can implement this for _Stationary because the data is linked to HoveredWindow rather than CurrentWindow.</span></div>
<div class="line"><a id="l08684" name="l08684"></a><span class="lineno"> 8684</span>    <span class="keywordflow">if</span> (flags &amp; ImGuiHoveredFlags_ForTooltip)</div>
<div class="line"><a id="l08685" name="l08685"></a><span class="lineno"> 8685</span>        flags = ApplyHoverFlagsForTooltip(flags, g.Style.HoverFlagsForTooltipMouse);</div>
<div class="line"><a id="l08686" name="l08686"></a><span class="lineno"> 8686</span>    <span class="keywordflow">if</span> ((flags &amp; ImGuiHoveredFlags_Stationary) != 0 &amp;&amp; g.HoverWindowUnlockedStationaryId != ref_window-&gt;ID)</div>
<div class="line"><a id="l08687" name="l08687"></a><span class="lineno"> 8687</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l08688" name="l08688"></a><span class="lineno"> 8688</span> </div>
<div class="line"><a id="l08689" name="l08689"></a><span class="lineno"> 8689</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l08690" name="l08690"></a><span class="lineno"> 8690</span>}</div>
<div class="line"><a id="l08691" name="l08691"></a><span class="lineno"> 8691</span> </div>
<div class="line"><a id="l08692" name="l08692"></a><span class="lineno"> 8692</span>ImGuiID ImGui::GetWindowDockID()</div>
<div class="line"><a id="l08693" name="l08693"></a><span class="lineno"> 8693</span>{</div>
<div class="line"><a id="l08694" name="l08694"></a><span class="lineno"> 8694</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l08695" name="l08695"></a><span class="lineno"> 8695</span>    <span class="keywordflow">return</span> g.CurrentWindow-&gt;DockId;</div>
<div class="line"><a id="l08696" name="l08696"></a><span class="lineno"> 8696</span>}</div>
<div class="line"><a id="l08697" name="l08697"></a><span class="lineno"> 8697</span> </div>
<div class="line"><a id="l08698" name="l08698"></a><span class="lineno"> 8698</span><span class="keywordtype">bool</span> ImGui::IsWindowDocked()</div>
<div class="line"><a id="l08699" name="l08699"></a><span class="lineno"> 8699</span>{</div>
<div class="line"><a id="l08700" name="l08700"></a><span class="lineno"> 8700</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l08701" name="l08701"></a><span class="lineno"> 8701</span>    <span class="keywordflow">return</span> g.CurrentWindow-&gt;DockIsActive;</div>
<div class="line"><a id="l08702" name="l08702"></a><span class="lineno"> 8702</span>}</div>
<div class="line"><a id="l08703" name="l08703"></a><span class="lineno"> 8703</span> </div>
<div class="line"><a id="l08704" name="l08704"></a><span class="lineno"> 8704</span><span class="keywordtype">float</span> ImGui::GetWindowWidth()</div>
<div class="line"><a id="l08705" name="l08705"></a><span class="lineno"> 8705</span>{</div>
<div class="line"><a id="l08706" name="l08706"></a><span class="lineno"> 8706</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GImGui-&gt;CurrentWindow;</div>
<div class="line"><a id="l08707" name="l08707"></a><span class="lineno"> 8707</span>    <span class="keywordflow">return</span> window-&gt;Size.x;</div>
<div class="line"><a id="l08708" name="l08708"></a><span class="lineno"> 8708</span>}</div>
<div class="line"><a id="l08709" name="l08709"></a><span class="lineno"> 8709</span> </div>
<div class="line"><a id="l08710" name="l08710"></a><span class="lineno"> 8710</span><span class="keywordtype">float</span> ImGui::GetWindowHeight()</div>
<div class="line"><a id="l08711" name="l08711"></a><span class="lineno"> 8711</span>{</div>
<div class="line"><a id="l08712" name="l08712"></a><span class="lineno"> 8712</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GImGui-&gt;CurrentWindow;</div>
<div class="line"><a id="l08713" name="l08713"></a><span class="lineno"> 8713</span>    <span class="keywordflow">return</span> window-&gt;Size.y;</div>
<div class="line"><a id="l08714" name="l08714"></a><span class="lineno"> 8714</span>}</div>
<div class="line"><a id="l08715" name="l08715"></a><span class="lineno"> 8715</span> </div>
<div class="line"><a id="l08716" name="l08716"></a><span class="lineno"> 8716</span><a class="code hl_struct" href="structImVec2.html">ImVec2</a> ImGui::GetWindowPos()</div>
<div class="line"><a id="l08717" name="l08717"></a><span class="lineno"> 8717</span>{</div>
<div class="line"><a id="l08718" name="l08718"></a><span class="lineno"> 8718</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l08719" name="l08719"></a><span class="lineno"> 8719</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l08720" name="l08720"></a><span class="lineno"> 8720</span>    <span class="keywordflow">return</span> window-&gt;Pos;</div>
<div class="line"><a id="l08721" name="l08721"></a><span class="lineno"> 8721</span>}</div>
<div class="line"><a id="l08722" name="l08722"></a><span class="lineno"> 8722</span> </div>
<div class="line"><a id="l08723" name="l08723"></a><span class="lineno"> 8723</span><span class="keywordtype">void</span> ImGui::SetWindowPos(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; pos, ImGuiCond cond)</div>
<div class="line"><a id="l08724" name="l08724"></a><span class="lineno"> 8724</span>{</div>
<div class="line"><a id="l08725" name="l08725"></a><span class="lineno"> 8725</span>    <span class="comment">// Test condition (NB: bit 0 is always true) and clear flags for next time</span></div>
<div class="line"><a id="l08726" name="l08726"></a><span class="lineno"> 8726</span>    <span class="keywordflow">if</span> (cond &amp;&amp; (window-&gt;SetWindowPosAllowFlags &amp; cond) == 0)</div>
<div class="line"><a id="l08727" name="l08727"></a><span class="lineno"> 8727</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l08728" name="l08728"></a><span class="lineno"> 8728</span> </div>
<div class="line"><a id="l08729" name="l08729"></a><span class="lineno"> 8729</span>    IM_ASSERT(cond == 0 || ImIsPowerOfTwo(cond)); <span class="comment">// Make sure the user doesn&#39;t attempt to combine multiple condition flags.</span></div>
<div class="line"><a id="l08730" name="l08730"></a><span class="lineno"> 8730</span>    window-&gt;SetWindowPosAllowFlags &amp;= ~(ImGuiCond_Once | ImGuiCond_FirstUseEver | ImGuiCond_Appearing);</div>
<div class="line"><a id="l08731" name="l08731"></a><span class="lineno"> 8731</span>    window-&gt;SetWindowPosVal = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(FLT_MAX, FLT_MAX);</div>
<div class="line"><a id="l08732" name="l08732"></a><span class="lineno"> 8732</span> </div>
<div class="line"><a id="l08733" name="l08733"></a><span class="lineno"> 8733</span>    <span class="comment">// Set</span></div>
<div class="line"><a id="l08734" name="l08734"></a><span class="lineno"> 8734</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> old_pos = window-&gt;Pos;</div>
<div class="line"><a id="l08735" name="l08735"></a><span class="lineno"> 8735</span>    window-&gt;Pos = ImTrunc(pos);</div>
<div class="line"><a id="l08736" name="l08736"></a><span class="lineno"> 8736</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> offset = window-&gt;Pos - old_pos;</div>
<div class="line"><a id="l08737" name="l08737"></a><span class="lineno"> 8737</span>    <span class="keywordflow">if</span> (offset.x == 0.0f &amp;&amp; offset.y == 0.0f)</div>
<div class="line"><a id="l08738" name="l08738"></a><span class="lineno"> 8738</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l08739" name="l08739"></a><span class="lineno"> 8739</span>    MarkIniSettingsDirty(window);</div>
<div class="line"><a id="l08740" name="l08740"></a><span class="lineno"> 8740</span>    <span class="comment">// FIXME: share code with TranslateWindow(), need to confirm whether the 3 rect modified by TranslateWindow() are desirable here.</span></div>
<div class="line"><a id="l08741" name="l08741"></a><span class="lineno"> 8741</span>    window-&gt;DC.CursorPos += offset;         <span class="comment">// As we happen to move the window while it is being appended to (which is a bad idea - will smear) let&#39;s at least offset the cursor</span></div>
<div class="line"><a id="l08742" name="l08742"></a><span class="lineno"> 8742</span>    window-&gt;DC.CursorMaxPos += offset;      <span class="comment">// And more importantly we need to offset CursorMaxPos/CursorStartPos this so ContentSize calculation doesn&#39;t get affected.</span></div>
<div class="line"><a id="l08743" name="l08743"></a><span class="lineno"> 8743</span>    window-&gt;DC.IdealMaxPos += offset;</div>
<div class="line"><a id="l08744" name="l08744"></a><span class="lineno"> 8744</span>    window-&gt;DC.CursorStartPos += offset;</div>
<div class="line"><a id="l08745" name="l08745"></a><span class="lineno"> 8745</span>}</div>
<div class="line"><a id="l08746" name="l08746"></a><span class="lineno"> 8746</span> </div>
<div class="line"><a id="l08747" name="l08747"></a><span class="lineno"> 8747</span><span class="keywordtype">void</span> ImGui::SetWindowPos(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; pos, ImGuiCond cond)</div>
<div class="line"><a id="l08748" name="l08748"></a><span class="lineno"> 8748</span>{</div>
<div class="line"><a id="l08749" name="l08749"></a><span class="lineno"> 8749</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GetCurrentWindowRead();</div>
<div class="line"><a id="l08750" name="l08750"></a><span class="lineno"> 8750</span>    SetWindowPos(window, pos, cond);</div>
<div class="line"><a id="l08751" name="l08751"></a><span class="lineno"> 8751</span>}</div>
<div class="line"><a id="l08752" name="l08752"></a><span class="lineno"> 8752</span> </div>
<div class="line"><a id="l08753" name="l08753"></a><span class="lineno"> 8753</span><span class="keywordtype">void</span> ImGui::SetWindowPos(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; pos, ImGuiCond cond)</div>
<div class="line"><a id="l08754" name="l08754"></a><span class="lineno"> 8754</span>{</div>
<div class="line"><a id="l08755" name="l08755"></a><span class="lineno"> 8755</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = FindWindowByName(name))</div>
<div class="line"><a id="l08756" name="l08756"></a><span class="lineno"> 8756</span>        SetWindowPos(window, pos, cond);</div>
<div class="line"><a id="l08757" name="l08757"></a><span class="lineno"> 8757</span>}</div>
<div class="line"><a id="l08758" name="l08758"></a><span class="lineno"> 8758</span> </div>
<div class="line"><a id="l08759" name="l08759"></a><span class="lineno"> 8759</span><a class="code hl_struct" href="structImVec2.html">ImVec2</a> ImGui::GetWindowSize()</div>
<div class="line"><a id="l08760" name="l08760"></a><span class="lineno"> 8760</span>{</div>
<div class="line"><a id="l08761" name="l08761"></a><span class="lineno"> 8761</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GetCurrentWindowRead();</div>
<div class="line"><a id="l08762" name="l08762"></a><span class="lineno"> 8762</span>    <span class="keywordflow">return</span> window-&gt;Size;</div>
<div class="line"><a id="l08763" name="l08763"></a><span class="lineno"> 8763</span>}</div>
<div class="line"><a id="l08764" name="l08764"></a><span class="lineno"> 8764</span> </div>
<div class="line"><a id="l08765" name="l08765"></a><span class="lineno"> 8765</span><span class="keywordtype">void</span> ImGui::SetWindowSize(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; size, ImGuiCond cond)</div>
<div class="line"><a id="l08766" name="l08766"></a><span class="lineno"> 8766</span>{</div>
<div class="line"><a id="l08767" name="l08767"></a><span class="lineno"> 8767</span>    <span class="comment">// Test condition (NB: bit 0 is always true) and clear flags for next time</span></div>
<div class="line"><a id="l08768" name="l08768"></a><span class="lineno"> 8768</span>    <span class="keywordflow">if</span> (cond &amp;&amp; (window-&gt;SetWindowSizeAllowFlags &amp; cond) == 0)</div>
<div class="line"><a id="l08769" name="l08769"></a><span class="lineno"> 8769</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l08770" name="l08770"></a><span class="lineno"> 8770</span> </div>
<div class="line"><a id="l08771" name="l08771"></a><span class="lineno"> 8771</span>    IM_ASSERT(cond == 0 || ImIsPowerOfTwo(cond)); <span class="comment">// Make sure the user doesn&#39;t attempt to combine multiple condition flags.</span></div>
<div class="line"><a id="l08772" name="l08772"></a><span class="lineno"> 8772</span>    window-&gt;SetWindowSizeAllowFlags &amp;= ~(ImGuiCond_Once | ImGuiCond_FirstUseEver | ImGuiCond_Appearing);</div>
<div class="line"><a id="l08773" name="l08773"></a><span class="lineno"> 8773</span> </div>
<div class="line"><a id="l08774" name="l08774"></a><span class="lineno"> 8774</span>    <span class="comment">// Enable auto-fit (not done in BeginChild() path unless appearing or combined with ImGuiChildFlags_AlwaysAutoResize)</span></div>
<div class="line"><a id="l08775" name="l08775"></a><span class="lineno"> 8775</span>    <span class="keywordflow">if</span> ((window-&gt;Flags &amp; ImGuiWindowFlags_ChildWindow) == 0 || window-&gt;Appearing || (window-&gt;ChildFlags &amp; ImGuiChildFlags_AlwaysAutoResize) != 0)</div>
<div class="line"><a id="l08776" name="l08776"></a><span class="lineno"> 8776</span>        window-&gt;AutoFitFramesX = (size.x &lt;= 0.0f) ? 2 : 0;</div>
<div class="line"><a id="l08777" name="l08777"></a><span class="lineno"> 8777</span>    <span class="keywordflow">if</span> ((window-&gt;Flags &amp; ImGuiWindowFlags_ChildWindow) == 0 || window-&gt;Appearing || (window-&gt;ChildFlags &amp; ImGuiChildFlags_AlwaysAutoResize) != 0)</div>
<div class="line"><a id="l08778" name="l08778"></a><span class="lineno"> 8778</span>        window-&gt;AutoFitFramesY = (size.y &lt;= 0.0f) ? 2 : 0;</div>
<div class="line"><a id="l08779" name="l08779"></a><span class="lineno"> 8779</span> </div>
<div class="line"><a id="l08780" name="l08780"></a><span class="lineno"> 8780</span>    <span class="comment">// Set</span></div>
<div class="line"><a id="l08781" name="l08781"></a><span class="lineno"> 8781</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> old_size = window-&gt;SizeFull;</div>
<div class="line"><a id="l08782" name="l08782"></a><span class="lineno"> 8782</span>    <span class="keywordflow">if</span> (size.x &lt;= 0.0f)</div>
<div class="line"><a id="l08783" name="l08783"></a><span class="lineno"> 8783</span>        window-&gt;AutoFitOnlyGrows = <span class="keyword">false</span>;</div>
<div class="line"><a id="l08784" name="l08784"></a><span class="lineno"> 8784</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l08785" name="l08785"></a><span class="lineno"> 8785</span>        window-&gt;SizeFull.x = IM_TRUNC(size.x);</div>
<div class="line"><a id="l08786" name="l08786"></a><span class="lineno"> 8786</span>    <span class="keywordflow">if</span> (size.y &lt;= 0.0f)</div>
<div class="line"><a id="l08787" name="l08787"></a><span class="lineno"> 8787</span>        window-&gt;AutoFitOnlyGrows = <span class="keyword">false</span>;</div>
<div class="line"><a id="l08788" name="l08788"></a><span class="lineno"> 8788</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l08789" name="l08789"></a><span class="lineno"> 8789</span>        window-&gt;SizeFull.y = IM_TRUNC(size.y);</div>
<div class="line"><a id="l08790" name="l08790"></a><span class="lineno"> 8790</span>    <span class="keywordflow">if</span> (old_size.x != window-&gt;SizeFull.x || old_size.y != window-&gt;SizeFull.y)</div>
<div class="line"><a id="l08791" name="l08791"></a><span class="lineno"> 8791</span>        MarkIniSettingsDirty(window);</div>
<div class="line"><a id="l08792" name="l08792"></a><span class="lineno"> 8792</span>}</div>
<div class="line"><a id="l08793" name="l08793"></a><span class="lineno"> 8793</span> </div>
<div class="line"><a id="l08794" name="l08794"></a><span class="lineno"> 8794</span><span class="keywordtype">void</span> ImGui::SetWindowSize(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; size, ImGuiCond cond)</div>
<div class="line"><a id="l08795" name="l08795"></a><span class="lineno"> 8795</span>{</div>
<div class="line"><a id="l08796" name="l08796"></a><span class="lineno"> 8796</span>    SetWindowSize(GImGui-&gt;CurrentWindow, size, cond);</div>
<div class="line"><a id="l08797" name="l08797"></a><span class="lineno"> 8797</span>}</div>
<div class="line"><a id="l08798" name="l08798"></a><span class="lineno"> 8798</span> </div>
<div class="line"><a id="l08799" name="l08799"></a><span class="lineno"> 8799</span><span class="keywordtype">void</span> ImGui::SetWindowSize(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; size, ImGuiCond cond)</div>
<div class="line"><a id="l08800" name="l08800"></a><span class="lineno"> 8800</span>{</div>
<div class="line"><a id="l08801" name="l08801"></a><span class="lineno"> 8801</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = FindWindowByName(name))</div>
<div class="line"><a id="l08802" name="l08802"></a><span class="lineno"> 8802</span>        SetWindowSize(window, size, cond);</div>
<div class="line"><a id="l08803" name="l08803"></a><span class="lineno"> 8803</span>}</div>
<div class="line"><a id="l08804" name="l08804"></a><span class="lineno"> 8804</span> </div>
<div class="line"><a id="l08805" name="l08805"></a><span class="lineno"> 8805</span><span class="keywordtype">void</span> ImGui::SetWindowCollapsed(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keywordtype">bool</span> collapsed, ImGuiCond cond)</div>
<div class="line"><a id="l08806" name="l08806"></a><span class="lineno"> 8806</span>{</div>
<div class="line"><a id="l08807" name="l08807"></a><span class="lineno"> 8807</span>    <span class="comment">// Test condition (NB: bit 0 is always true) and clear flags for next time</span></div>
<div class="line"><a id="l08808" name="l08808"></a><span class="lineno"> 8808</span>    <span class="keywordflow">if</span> (cond &amp;&amp; (window-&gt;SetWindowCollapsedAllowFlags &amp; cond) == 0)</div>
<div class="line"><a id="l08809" name="l08809"></a><span class="lineno"> 8809</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l08810" name="l08810"></a><span class="lineno"> 8810</span>    window-&gt;SetWindowCollapsedAllowFlags &amp;= ~(ImGuiCond_Once | ImGuiCond_FirstUseEver | ImGuiCond_Appearing);</div>
<div class="line"><a id="l08811" name="l08811"></a><span class="lineno"> 8811</span> </div>
<div class="line"><a id="l08812" name="l08812"></a><span class="lineno"> 8812</span>    <span class="comment">// Queue applying in Begin()</span></div>
<div class="line"><a id="l08813" name="l08813"></a><span class="lineno"> 8813</span>    <span class="keywordflow">if</span> (window-&gt;WantCollapseToggle)</div>
<div class="line"><a id="l08814" name="l08814"></a><span class="lineno"> 8814</span>        window-&gt;Collapsed ^= 1;</div>
<div class="line"><a id="l08815" name="l08815"></a><span class="lineno"> 8815</span>    window-&gt;WantCollapseToggle = (window-&gt;Collapsed != collapsed);</div>
<div class="line"><a id="l08816" name="l08816"></a><span class="lineno"> 8816</span>}</div>
<div class="line"><a id="l08817" name="l08817"></a><span class="lineno"> 8817</span> </div>
<div class="line"><a id="l08818" name="l08818"></a><span class="lineno"> 8818</span><span class="keywordtype">void</span> ImGui::SetWindowHitTestHole(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; pos, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; size)</div>
<div class="line"><a id="l08819" name="l08819"></a><span class="lineno"> 8819</span>{</div>
<div class="line"><a id="l08820" name="l08820"></a><span class="lineno"> 8820</span>    IM_ASSERT(window-&gt;HitTestHoleSize.x == 0);     <span class="comment">// We don&#39;t support multiple holes/hit test filters</span></div>
<div class="line"><a id="l08821" name="l08821"></a><span class="lineno"> 8821</span>    window-&gt;HitTestHoleSize = <a class="code hl_struct" href="structImVec2ih.html">ImVec2ih</a>(size);</div>
<div class="line"><a id="l08822" name="l08822"></a><span class="lineno"> 8822</span>    window-&gt;HitTestHoleOffset = <a class="code hl_struct" href="structImVec2ih.html">ImVec2ih</a>(pos - window-&gt;Pos);</div>
<div class="line"><a id="l08823" name="l08823"></a><span class="lineno"> 8823</span>}</div>
<div class="line"><a id="l08824" name="l08824"></a><span class="lineno"> 8824</span> </div>
<div class="line"><a id="l08825" name="l08825"></a><span class="lineno"> 8825</span><span class="keywordtype">void</span> ImGui::SetWindowHiddenAndSkipItemsForCurrentFrame(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l08826" name="l08826"></a><span class="lineno"> 8826</span>{</div>
<div class="line"><a id="l08827" name="l08827"></a><span class="lineno"> 8827</span>    window-&gt;Hidden = window-&gt;SkipItems = <span class="keyword">true</span>;</div>
<div class="line"><a id="l08828" name="l08828"></a><span class="lineno"> 8828</span>    window-&gt;HiddenFramesCanSkipItems = 1;</div>
<div class="line"><a id="l08829" name="l08829"></a><span class="lineno"> 8829</span>}</div>
<div class="line"><a id="l08830" name="l08830"></a><span class="lineno"> 8830</span> </div>
<div class="line"><a id="l08831" name="l08831"></a><span class="lineno"> 8831</span><span class="keywordtype">void</span> ImGui::SetWindowCollapsed(<span class="keywordtype">bool</span> collapsed, ImGuiCond cond)</div>
<div class="line"><a id="l08832" name="l08832"></a><span class="lineno"> 8832</span>{</div>
<div class="line"><a id="l08833" name="l08833"></a><span class="lineno"> 8833</span>    SetWindowCollapsed(GImGui-&gt;CurrentWindow, collapsed, cond);</div>
<div class="line"><a id="l08834" name="l08834"></a><span class="lineno"> 8834</span>}</div>
<div class="line"><a id="l08835" name="l08835"></a><span class="lineno"> 8835</span> </div>
<div class="line"><a id="l08836" name="l08836"></a><span class="lineno"> 8836</span><span class="keywordtype">bool</span> ImGui::IsWindowCollapsed()</div>
<div class="line"><a id="l08837" name="l08837"></a><span class="lineno"> 8837</span>{</div>
<div class="line"><a id="l08838" name="l08838"></a><span class="lineno"> 8838</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GetCurrentWindowRead();</div>
<div class="line"><a id="l08839" name="l08839"></a><span class="lineno"> 8839</span>    <span class="keywordflow">return</span> window-&gt;Collapsed;</div>
<div class="line"><a id="l08840" name="l08840"></a><span class="lineno"> 8840</span>}</div>
<div class="line"><a id="l08841" name="l08841"></a><span class="lineno"> 8841</span> </div>
<div class="line"><a id="l08842" name="l08842"></a><span class="lineno"> 8842</span><span class="keywordtype">bool</span> ImGui::IsWindowAppearing()</div>
<div class="line"><a id="l08843" name="l08843"></a><span class="lineno"> 8843</span>{</div>
<div class="line"><a id="l08844" name="l08844"></a><span class="lineno"> 8844</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GetCurrentWindowRead();</div>
<div class="line"><a id="l08845" name="l08845"></a><span class="lineno"> 8845</span>    <span class="keywordflow">return</span> window-&gt;Appearing;</div>
<div class="line"><a id="l08846" name="l08846"></a><span class="lineno"> 8846</span>}</div>
<div class="line"><a id="l08847" name="l08847"></a><span class="lineno"> 8847</span> </div>
<div class="line"><a id="l08848" name="l08848"></a><span class="lineno"> 8848</span><span class="keywordtype">void</span> ImGui::SetWindowCollapsed(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keywordtype">bool</span> collapsed, ImGuiCond cond)</div>
<div class="line"><a id="l08849" name="l08849"></a><span class="lineno"> 8849</span>{</div>
<div class="line"><a id="l08850" name="l08850"></a><span class="lineno"> 8850</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = FindWindowByName(name))</div>
<div class="line"><a id="l08851" name="l08851"></a><span class="lineno"> 8851</span>        SetWindowCollapsed(window, collapsed, cond);</div>
<div class="line"><a id="l08852" name="l08852"></a><span class="lineno"> 8852</span>}</div>
<div class="line"><a id="l08853" name="l08853"></a><span class="lineno"> 8853</span> </div>
<div class="line"><a id="l08854" name="l08854"></a><span class="lineno"> 8854</span><span class="keywordtype">void</span> ImGui::SetNextWindowPos(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; pos, ImGuiCond cond, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; pivot)</div>
<div class="line"><a id="l08855" name="l08855"></a><span class="lineno"> 8855</span>{</div>
<div class="line"><a id="l08856" name="l08856"></a><span class="lineno"> 8856</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l08857" name="l08857"></a><span class="lineno"> 8857</span>    IM_ASSERT(cond == 0 || ImIsPowerOfTwo(cond)); <span class="comment">// Make sure the user doesn&#39;t attempt to combine multiple condition flags.</span></div>
<div class="line"><a id="l08858" name="l08858"></a><span class="lineno"> 8858</span>    g.NextWindowData.HasFlags |= ImGuiNextWindowDataFlags_HasPos;</div>
<div class="line"><a id="l08859" name="l08859"></a><span class="lineno"> 8859</span>    g.NextWindowData.PosVal = pos;</div>
<div class="line"><a id="l08860" name="l08860"></a><span class="lineno"> 8860</span>    g.NextWindowData.PosPivotVal = pivot;</div>
<div class="line"><a id="l08861" name="l08861"></a><span class="lineno"> 8861</span>    g.NextWindowData.PosCond = cond ? cond : ImGuiCond_Always;</div>
<div class="line"><a id="l08862" name="l08862"></a><span class="lineno"> 8862</span>    g.NextWindowData.PosUndock = <span class="keyword">true</span>;</div>
<div class="line"><a id="l08863" name="l08863"></a><span class="lineno"> 8863</span>}</div>
<div class="line"><a id="l08864" name="l08864"></a><span class="lineno"> 8864</span> </div>
<div class="line"><a id="l08865" name="l08865"></a><span class="lineno"> 8865</span><span class="keywordtype">void</span> ImGui::SetNextWindowSize(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; size, ImGuiCond cond)</div>
<div class="line"><a id="l08866" name="l08866"></a><span class="lineno"> 8866</span>{</div>
<div class="line"><a id="l08867" name="l08867"></a><span class="lineno"> 8867</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l08868" name="l08868"></a><span class="lineno"> 8868</span>    IM_ASSERT(cond == 0 || ImIsPowerOfTwo(cond)); <span class="comment">// Make sure the user doesn&#39;t attempt to combine multiple condition flags.</span></div>
<div class="line"><a id="l08869" name="l08869"></a><span class="lineno"> 8869</span>    g.NextWindowData.HasFlags |= ImGuiNextWindowDataFlags_HasSize;</div>
<div class="line"><a id="l08870" name="l08870"></a><span class="lineno"> 8870</span>    g.NextWindowData.SizeVal = size;</div>
<div class="line"><a id="l08871" name="l08871"></a><span class="lineno"> 8871</span>    g.NextWindowData.SizeCond = cond ? cond : ImGuiCond_Always;</div>
<div class="line"><a id="l08872" name="l08872"></a><span class="lineno"> 8872</span>}</div>
<div class="line"><a id="l08873" name="l08873"></a><span class="lineno"> 8873</span> </div>
<div class="line"><a id="l08874" name="l08874"></a><span class="lineno"> 8874</span><span class="comment">// For each axis:</span></div>
<div class="line"><a id="l08875" name="l08875"></a><span class="lineno"> 8875</span><span class="comment">// - Use 0.0f as min or FLT_MAX as max if you don&#39;t want limits, e.g. size_min = (500.0f, 0.0f), size_max = (FLT_MAX, FLT_MAX) sets a minimum width.</span></div>
<div class="line"><a id="l08876" name="l08876"></a><span class="lineno"> 8876</span><span class="comment">// - Use -1 for both min and max of same axis to preserve current size which itself is a constraint.</span></div>
<div class="line"><a id="l08877" name="l08877"></a><span class="lineno"> 8877</span><span class="comment">// - See &quot;Demo-&gt;Examples-&gt;Constrained-resizing window&quot; for examples.</span></div>
<div class="line"><a id="l08878" name="l08878"></a><span class="lineno"> 8878</span><span class="keywordtype">void</span> ImGui::SetNextWindowSizeConstraints(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; size_min, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; size_max, ImGuiSizeCallback custom_callback, <span class="keywordtype">void</span>* custom_callback_user_data)</div>
<div class="line"><a id="l08879" name="l08879"></a><span class="lineno"> 8879</span>{</div>
<div class="line"><a id="l08880" name="l08880"></a><span class="lineno"> 8880</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l08881" name="l08881"></a><span class="lineno"> 8881</span>    g.NextWindowData.HasFlags |= ImGuiNextWindowDataFlags_HasSizeConstraint;</div>
<div class="line"><a id="l08882" name="l08882"></a><span class="lineno"> 8882</span>    g.NextWindowData.SizeConstraintRect = <a class="code hl_struct" href="structImRect.html">ImRect</a>(size_min, size_max);</div>
<div class="line"><a id="l08883" name="l08883"></a><span class="lineno"> 8883</span>    g.NextWindowData.SizeCallback = custom_callback;</div>
<div class="line"><a id="l08884" name="l08884"></a><span class="lineno"> 8884</span>    g.NextWindowData.SizeCallbackUserData = custom_callback_user_data;</div>
<div class="line"><a id="l08885" name="l08885"></a><span class="lineno"> 8885</span>}</div>
<div class="line"><a id="l08886" name="l08886"></a><span class="lineno"> 8886</span> </div>
<div class="line"><a id="l08887" name="l08887"></a><span class="lineno"> 8887</span><span class="comment">// Content size = inner scrollable rectangle, padded with WindowPadding.</span></div>
<div class="line"><a id="l08888" name="l08888"></a><span class="lineno"> 8888</span><span class="comment">// SetNextWindowContentSize(ImVec2(100,100) + ImGuiWindowFlags_AlwaysAutoResize will always allow submitting a 100x100 item.</span></div>
<div class="line"><a id="l08889" name="l08889"></a><span class="lineno"> 8889</span><span class="keywordtype">void</span> ImGui::SetNextWindowContentSize(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; size)</div>
<div class="line"><a id="l08890" name="l08890"></a><span class="lineno"> 8890</span>{</div>
<div class="line"><a id="l08891" name="l08891"></a><span class="lineno"> 8891</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l08892" name="l08892"></a><span class="lineno"> 8892</span>    g.NextWindowData.HasFlags |= ImGuiNextWindowDataFlags_HasContentSize;</div>
<div class="line"><a id="l08893" name="l08893"></a><span class="lineno"> 8893</span>    g.NextWindowData.ContentSizeVal = ImTrunc(size);</div>
<div class="line"><a id="l08894" name="l08894"></a><span class="lineno"> 8894</span>}</div>
<div class="line"><a id="l08895" name="l08895"></a><span class="lineno"> 8895</span> </div>
<div class="line"><a id="l08896" name="l08896"></a><span class="lineno"> 8896</span><span class="keywordtype">void</span> ImGui::SetNextWindowScroll(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; scroll)</div>
<div class="line"><a id="l08897" name="l08897"></a><span class="lineno"> 8897</span>{</div>
<div class="line"><a id="l08898" name="l08898"></a><span class="lineno"> 8898</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l08899" name="l08899"></a><span class="lineno"> 8899</span>    g.NextWindowData.HasFlags |= ImGuiNextWindowDataFlags_HasScroll;</div>
<div class="line"><a id="l08900" name="l08900"></a><span class="lineno"> 8900</span>    g.NextWindowData.ScrollVal = scroll;</div>
<div class="line"><a id="l08901" name="l08901"></a><span class="lineno"> 8901</span>}</div>
<div class="line"><a id="l08902" name="l08902"></a><span class="lineno"> 8902</span> </div>
<div class="line"><a id="l08903" name="l08903"></a><span class="lineno"> 8903</span><span class="keywordtype">void</span> ImGui::SetNextWindowCollapsed(<span class="keywordtype">bool</span> collapsed, ImGuiCond cond)</div>
<div class="line"><a id="l08904" name="l08904"></a><span class="lineno"> 8904</span>{</div>
<div class="line"><a id="l08905" name="l08905"></a><span class="lineno"> 8905</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l08906" name="l08906"></a><span class="lineno"> 8906</span>    IM_ASSERT(cond == 0 || ImIsPowerOfTwo(cond)); <span class="comment">// Make sure the user doesn&#39;t attempt to combine multiple condition flags.</span></div>
<div class="line"><a id="l08907" name="l08907"></a><span class="lineno"> 8907</span>    g.NextWindowData.HasFlags |= ImGuiNextWindowDataFlags_HasCollapsed;</div>
<div class="line"><a id="l08908" name="l08908"></a><span class="lineno"> 8908</span>    g.NextWindowData.CollapsedVal = collapsed;</div>
<div class="line"><a id="l08909" name="l08909"></a><span class="lineno"> 8909</span>    g.NextWindowData.CollapsedCond = cond ? cond : ImGuiCond_Always;</div>
<div class="line"><a id="l08910" name="l08910"></a><span class="lineno"> 8910</span>}</div>
<div class="line"><a id="l08911" name="l08911"></a><span class="lineno"> 8911</span> </div>
<div class="line"><a id="l08912" name="l08912"></a><span class="lineno"> 8912</span><span class="keywordtype">void</span> ImGui::SetNextWindowBgAlpha(<span class="keywordtype">float</span> alpha)</div>
<div class="line"><a id="l08913" name="l08913"></a><span class="lineno"> 8913</span>{</div>
<div class="line"><a id="l08914" name="l08914"></a><span class="lineno"> 8914</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l08915" name="l08915"></a><span class="lineno"> 8915</span>    g.NextWindowData.HasFlags |= ImGuiNextWindowDataFlags_HasBgAlpha;</div>
<div class="line"><a id="l08916" name="l08916"></a><span class="lineno"> 8916</span>    g.NextWindowData.BgAlphaVal = alpha;</div>
<div class="line"><a id="l08917" name="l08917"></a><span class="lineno"> 8917</span>}</div>
<div class="line"><a id="l08918" name="l08918"></a><span class="lineno"> 8918</span> </div>
<div class="line"><a id="l08919" name="l08919"></a><span class="lineno"> 8919</span><span class="keywordtype">void</span> ImGui::SetNextWindowViewport(ImGuiID <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l08920" name="l08920"></a><span class="lineno"> 8920</span>{</div>
<div class="line"><a id="l08921" name="l08921"></a><span class="lineno"> 8921</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l08922" name="l08922"></a><span class="lineno"> 8922</span>    g.NextWindowData.HasFlags |= ImGuiNextWindowDataFlags_HasViewport;</div>
<div class="line"><a id="l08923" name="l08923"></a><span class="lineno"> 8923</span>    g.NextWindowData.ViewportId = id;</div>
<div class="line"><a id="l08924" name="l08924"></a><span class="lineno"> 8924</span>}</div>
<div class="line"><a id="l08925" name="l08925"></a><span class="lineno"> 8925</span> </div>
<div class="line"><a id="l08926" name="l08926"></a><span class="lineno"> 8926</span><span class="keywordtype">void</span> ImGui::SetNextWindowDockID(ImGuiID <span class="keywordtype">id</span>, ImGuiCond cond)</div>
<div class="line"><a id="l08927" name="l08927"></a><span class="lineno"> 8927</span>{</div>
<div class="line"><a id="l08928" name="l08928"></a><span class="lineno"> 8928</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l08929" name="l08929"></a><span class="lineno"> 8929</span>    g.NextWindowData.HasFlags |= ImGuiNextWindowDataFlags_HasDock;</div>
<div class="line"><a id="l08930" name="l08930"></a><span class="lineno"> 8930</span>    g.NextWindowData.DockCond = cond ? cond : ImGuiCond_Always;</div>
<div class="line"><a id="l08931" name="l08931"></a><span class="lineno"> 8931</span>    g.NextWindowData.DockId = id;</div>
<div class="line"><a id="l08932" name="l08932"></a><span class="lineno"> 8932</span>}</div>
<div class="line"><a id="l08933" name="l08933"></a><span class="lineno"> 8933</span> </div>
<div class="line"><a id="l08934" name="l08934"></a><span class="lineno"> 8934</span><span class="keywordtype">void</span> ImGui::SetNextWindowClass(<span class="keyword">const</span> <a class="code hl_struct" href="structImGuiWindowClass.html">ImGuiWindowClass</a>* window_class)</div>
<div class="line"><a id="l08935" name="l08935"></a><span class="lineno"> 8935</span>{</div>
<div class="line"><a id="l08936" name="l08936"></a><span class="lineno"> 8936</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l08937" name="l08937"></a><span class="lineno"> 8937</span>    IM_ASSERT((window_class-&gt;ViewportFlagsOverrideSet &amp; window_class-&gt;ViewportFlagsOverrideClear) == 0); <span class="comment">// Cannot set both set and clear for the same bit</span></div>
<div class="line"><a id="l08938" name="l08938"></a><span class="lineno"> 8938</span>    g.NextWindowData.HasFlags |= ImGuiNextWindowDataFlags_HasWindowClass;</div>
<div class="line"><a id="l08939" name="l08939"></a><span class="lineno"> 8939</span>    g.NextWindowData.WindowClass = *window_class;</div>
<div class="line"><a id="l08940" name="l08940"></a><span class="lineno"> 8940</span>}</div>
<div class="line"><a id="l08941" name="l08941"></a><span class="lineno"> 8941</span> </div>
<div class="line"><a id="l08942" name="l08942"></a><span class="lineno"> 8942</span><span class="comment">// This is experimental and meant to be a toy for exploring a future/wider range of features.</span></div>
<div class="line"><a id="l08943" name="l08943"></a><span class="lineno"> 8943</span><span class="keywordtype">void</span> ImGui::SetNextWindowRefreshPolicy(ImGuiWindowRefreshFlags flags)</div>
<div class="line"><a id="l08944" name="l08944"></a><span class="lineno"> 8944</span>{</div>
<div class="line"><a id="l08945" name="l08945"></a><span class="lineno"> 8945</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l08946" name="l08946"></a><span class="lineno"> 8946</span>    g.NextWindowData.HasFlags |= ImGuiNextWindowDataFlags_HasRefreshPolicy;</div>
<div class="line"><a id="l08947" name="l08947"></a><span class="lineno"> 8947</span>    g.NextWindowData.RefreshFlagsVal = flags;</div>
<div class="line"><a id="l08948" name="l08948"></a><span class="lineno"> 8948</span>}</div>
<div class="line"><a id="l08949" name="l08949"></a><span class="lineno"> 8949</span> </div>
<div class="line"><a id="l08950" name="l08950"></a><span class="lineno"> 8950</span><a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>* ImGui::GetWindowDrawList()</div>
<div class="line"><a id="l08951" name="l08951"></a><span class="lineno"> 8951</span>{</div>
<div class="line"><a id="l08952" name="l08952"></a><span class="lineno"> 8952</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GetCurrentWindow();</div>
<div class="line"><a id="l08953" name="l08953"></a><span class="lineno"> 8953</span>    <span class="keywordflow">return</span> window-&gt;DrawList;</div>
<div class="line"><a id="l08954" name="l08954"></a><span class="lineno"> 8954</span>}</div>
<div class="line"><a id="l08955" name="l08955"></a><span class="lineno"> 8955</span> </div>
<div class="line"><a id="l08956" name="l08956"></a><span class="lineno"> 8956</span><span class="keywordtype">float</span> ImGui::GetWindowDpiScale()</div>
<div class="line"><a id="l08957" name="l08957"></a><span class="lineno"> 8957</span>{</div>
<div class="line"><a id="l08958" name="l08958"></a><span class="lineno"> 8958</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l08959" name="l08959"></a><span class="lineno"> 8959</span>    <span class="keywordflow">return</span> g.CurrentDpiScale;</div>
<div class="line"><a id="l08960" name="l08960"></a><span class="lineno"> 8960</span>}</div>
<div class="line"><a id="l08961" name="l08961"></a><span class="lineno"> 8961</span> </div>
<div class="line"><a id="l08962" name="l08962"></a><span class="lineno"> 8962</span><a class="code hl_struct" href="structImGuiViewport.html">ImGuiViewport</a>* ImGui::GetWindowViewport()</div>
<div class="line"><a id="l08963" name="l08963"></a><span class="lineno"> 8963</span>{</div>
<div class="line"><a id="l08964" name="l08964"></a><span class="lineno"> 8964</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l08965" name="l08965"></a><span class="lineno"> 8965</span>    IM_ASSERT(g.CurrentViewport != NULL &amp;&amp; g.CurrentViewport == g.CurrentWindow-&gt;Viewport);</div>
<div class="line"><a id="l08966" name="l08966"></a><span class="lineno"> 8966</span>    <span class="keywordflow">return</span> g.CurrentViewport;</div>
<div class="line"><a id="l08967" name="l08967"></a><span class="lineno"> 8967</span>}</div>
<div class="line"><a id="l08968" name="l08968"></a><span class="lineno"> 8968</span> </div>
<div class="line"><a id="l08969" name="l08969"></a><span class="lineno"> 8969</span><a class="code hl_struct" href="structImFont.html">ImFont</a>* ImGui::GetFont()</div>
<div class="line"><a id="l08970" name="l08970"></a><span class="lineno"> 8970</span>{</div>
<div class="line"><a id="l08971" name="l08971"></a><span class="lineno"> 8971</span>    <span class="keywordflow">return</span> GImGui-&gt;Font;</div>
<div class="line"><a id="l08972" name="l08972"></a><span class="lineno"> 8972</span>}</div>
<div class="line"><a id="l08973" name="l08973"></a><span class="lineno"> 8973</span> </div>
<div class="line"><a id="l08974" name="l08974"></a><span class="lineno"> 8974</span><span class="keywordtype">float</span> ImGui::GetFontSize()</div>
<div class="line"><a id="l08975" name="l08975"></a><span class="lineno"> 8975</span>{</div>
<div class="line"><a id="l08976" name="l08976"></a><span class="lineno"> 8976</span>    <span class="keywordflow">return</span> GImGui-&gt;FontSize;</div>
<div class="line"><a id="l08977" name="l08977"></a><span class="lineno"> 8977</span>}</div>
<div class="line"><a id="l08978" name="l08978"></a><span class="lineno"> 8978</span> </div>
<div class="line"><a id="l08979" name="l08979"></a><span class="lineno"> 8979</span><a class="code hl_struct" href="structImVec2.html">ImVec2</a> ImGui::GetFontTexUvWhitePixel()</div>
<div class="line"><a id="l08980" name="l08980"></a><span class="lineno"> 8980</span>{</div>
<div class="line"><a id="l08981" name="l08981"></a><span class="lineno"> 8981</span>    <span class="keywordflow">return</span> GImGui-&gt;DrawListSharedData.TexUvWhitePixel;</div>
<div class="line"><a id="l08982" name="l08982"></a><span class="lineno"> 8982</span>}</div>
<div class="line"><a id="l08983" name="l08983"></a><span class="lineno"> 8983</span> </div>
<div class="line"><a id="l08984" name="l08984"></a><span class="lineno"> 8984</span><span class="keywordtype">void</span> ImGui::SetWindowFontScale(<span class="keywordtype">float</span> scale)</div>
<div class="line"><a id="l08985" name="l08985"></a><span class="lineno"> 8985</span>{</div>
<div class="line"><a id="l08986" name="l08986"></a><span class="lineno"> 8986</span>    IM_ASSERT(scale &gt; 0.0f);</div>
<div class="line"><a id="l08987" name="l08987"></a><span class="lineno"> 8987</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l08988" name="l08988"></a><span class="lineno"> 8988</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GetCurrentWindow();</div>
<div class="line"><a id="l08989" name="l08989"></a><span class="lineno"> 8989</span>    window-&gt;FontWindowScale = scale;</div>
<div class="line"><a id="l08990" name="l08990"></a><span class="lineno"> 8990</span>    g.FontSize = g.DrawListSharedData.FontSize = window-&gt;CalcFontSize();</div>
<div class="line"><a id="l08991" name="l08991"></a><span class="lineno"> 8991</span>    g.FontScale = g.DrawListSharedData.FontScale = g.FontSize / g.Font-&gt;FontSize;</div>
<div class="line"><a id="l08992" name="l08992"></a><span class="lineno"> 8992</span>}</div>
<div class="line"><a id="l08993" name="l08993"></a><span class="lineno"> 8993</span> </div>
<div class="line"><a id="l08994" name="l08994"></a><span class="lineno"> 8994</span><span class="keywordtype">void</span> ImGui::PushFocusScope(ImGuiID <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l08995" name="l08995"></a><span class="lineno"> 8995</span>{</div>
<div class="line"><a id="l08996" name="l08996"></a><span class="lineno"> 8996</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l08997" name="l08997"></a><span class="lineno"> 8997</span>    <a class="code hl_struct" href="structImGuiFocusScopeData.html">ImGuiFocusScopeData</a> data;</div>
<div class="line"><a id="l08998" name="l08998"></a><span class="lineno"> 8998</span>    data.ID = id;</div>
<div class="line"><a id="l08999" name="l08999"></a><span class="lineno"> 8999</span>    data.WindowID = g.CurrentWindow-&gt;ID;</div>
<div class="line"><a id="l09000" name="l09000"></a><span class="lineno"> 9000</span>    g.FocusScopeStack.push_back(data);</div>
<div class="line"><a id="l09001" name="l09001"></a><span class="lineno"> 9001</span>    g.CurrentFocusScopeId = id;</div>
<div class="line"><a id="l09002" name="l09002"></a><span class="lineno"> 9002</span>}</div>
<div class="line"><a id="l09003" name="l09003"></a><span class="lineno"> 9003</span> </div>
<div class="line"><a id="l09004" name="l09004"></a><span class="lineno"> 9004</span><span class="keywordtype">void</span> ImGui::PopFocusScope()</div>
<div class="line"><a id="l09005" name="l09005"></a><span class="lineno"> 9005</span>{</div>
<div class="line"><a id="l09006" name="l09006"></a><span class="lineno"> 9006</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09007" name="l09007"></a><span class="lineno"> 9007</span>    <span class="keywordflow">if</span> (g.FocusScopeStack.Size &lt;= g.StackSizesInBeginForCurrentWindow-&gt;SizeOfFocusScopeStack)</div>
<div class="line"><a id="l09008" name="l09008"></a><span class="lineno"> 9008</span>    {</div>
<div class="line"><a id="l09009" name="l09009"></a><span class="lineno"> 9009</span>        IM_ASSERT_USER_ERROR(0, <span class="stringliteral">&quot;Calling PopFocusScope() too many times!&quot;</span>);</div>
<div class="line"><a id="l09010" name="l09010"></a><span class="lineno"> 9010</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l09011" name="l09011"></a><span class="lineno"> 9011</span>    }</div>
<div class="line"><a id="l09012" name="l09012"></a><span class="lineno"> 9012</span>    g.FocusScopeStack.pop_back();</div>
<div class="line"><a id="l09013" name="l09013"></a><span class="lineno"> 9013</span>    g.CurrentFocusScopeId = g.FocusScopeStack.Size ? g.FocusScopeStack.back().ID : 0;</div>
<div class="line"><a id="l09014" name="l09014"></a><span class="lineno"> 9014</span>}</div>
<div class="line"><a id="l09015" name="l09015"></a><span class="lineno"> 9015</span> </div>
<div class="line"><a id="l09016" name="l09016"></a><span class="lineno"> 9016</span><span class="keywordtype">void</span> ImGui::SetNavFocusScope(ImGuiID focus_scope_id)</div>
<div class="line"><a id="l09017" name="l09017"></a><span class="lineno"> 9017</span>{</div>
<div class="line"><a id="l09018" name="l09018"></a><span class="lineno"> 9018</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09019" name="l09019"></a><span class="lineno"> 9019</span>    g.NavFocusScopeId = focus_scope_id;</div>
<div class="line"><a id="l09020" name="l09020"></a><span class="lineno"> 9020</span>    g.NavFocusRoute.resize(0); <span class="comment">// Invalidate</span></div>
<div class="line"><a id="l09021" name="l09021"></a><span class="lineno"> 9021</span>    <span class="keywordflow">if</span> (focus_scope_id == 0)</div>
<div class="line"><a id="l09022" name="l09022"></a><span class="lineno"> 9022</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l09023" name="l09023"></a><span class="lineno"> 9023</span>    IM_ASSERT(g.NavWindow != NULL);</div>
<div class="line"><a id="l09024" name="l09024"></a><span class="lineno"> 9024</span> </div>
<div class="line"><a id="l09025" name="l09025"></a><span class="lineno"> 9025</span>    <span class="comment">// Store current path (in reverse order)</span></div>
<div class="line"><a id="l09026" name="l09026"></a><span class="lineno"> 9026</span>    <span class="keywordflow">if</span> (focus_scope_id == g.CurrentFocusScopeId)</div>
<div class="line"><a id="l09027" name="l09027"></a><span class="lineno"> 9027</span>    {</div>
<div class="line"><a id="l09028" name="l09028"></a><span class="lineno"> 9028</span>        <span class="comment">// Top of focus stack contains local focus scopes inside current window</span></div>
<div class="line"><a id="l09029" name="l09029"></a><span class="lineno"> 9029</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = g.FocusScopeStack.Size - 1; n &gt;= 0 &amp;&amp; g.FocusScopeStack.Data[n].WindowID == g.CurrentWindow-&gt;ID; n--)</div>
<div class="line"><a id="l09030" name="l09030"></a><span class="lineno"> 9030</span>            g.NavFocusRoute.push_back(g.FocusScopeStack.Data[n]);</div>
<div class="line"><a id="l09031" name="l09031"></a><span class="lineno"> 9031</span>    }</div>
<div class="line"><a id="l09032" name="l09032"></a><span class="lineno"> 9032</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (focus_scope_id == g.NavWindow-&gt;NavRootFocusScopeId)</div>
<div class="line"><a id="l09033" name="l09033"></a><span class="lineno"> 9033</span>        g.NavFocusRoute.push_back({ focus_scope_id, g.NavWindow-&gt;ID });</div>
<div class="line"><a id="l09034" name="l09034"></a><span class="lineno"> 9034</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l09035" name="l09035"></a><span class="lineno"> 9035</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l09036" name="l09036"></a><span class="lineno"> 9036</span> </div>
<div class="line"><a id="l09037" name="l09037"></a><span class="lineno"> 9037</span>    <span class="comment">// Then follow on manually set ParentWindowForFocusRoute field (#6798)</span></div>
<div class="line"><a id="l09038" name="l09038"></a><span class="lineno"> 9038</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.NavWindow-&gt;ParentWindowForFocusRoute; window != NULL; window = window-&gt;ParentWindowForFocusRoute)</div>
<div class="line"><a id="l09039" name="l09039"></a><span class="lineno"> 9039</span>        g.NavFocusRoute.push_back({ window-&gt;NavRootFocusScopeId, window-&gt;ID });</div>
<div class="line"><a id="l09040" name="l09040"></a><span class="lineno"> 9040</span>    IM_ASSERT(g.NavFocusRoute.Size &lt; 100); <span class="comment">// Maximum depth is technically 251 as per CalcRoutingScore(): 254 - 3</span></div>
<div class="line"><a id="l09041" name="l09041"></a><span class="lineno"> 9041</span>}</div>
<div class="line"><a id="l09042" name="l09042"></a><span class="lineno"> 9042</span> </div>
<div class="line"><a id="l09043" name="l09043"></a><span class="lineno"> 9043</span><span class="comment">// Focus = move navigation cursor, set scrolling, set focus window.</span></div>
<div class="line"><a id="l09044" name="l09044"></a><span class="lineno"> 9044</span><span class="keywordtype">void</span> ImGui::FocusItem()</div>
<div class="line"><a id="l09045" name="l09045"></a><span class="lineno"> 9045</span>{</div>
<div class="line"><a id="l09046" name="l09046"></a><span class="lineno"> 9046</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09047" name="l09047"></a><span class="lineno"> 9047</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l09048" name="l09048"></a><span class="lineno"> 9048</span>    IMGUI_DEBUG_LOG_FOCUS(<span class="stringliteral">&quot;FocusItem(0x%08x) in window \&quot;%s\&quot;\n&quot;</span>, g.LastItemData.ID, window-&gt;Name);</div>
<div class="line"><a id="l09049" name="l09049"></a><span class="lineno"> 9049</span>    <span class="keywordflow">if</span> (g.DragDropActive || g.MovingWindow != NULL) <span class="comment">// FIXME: Opt-in flags for this?</span></div>
<div class="line"><a id="l09050" name="l09050"></a><span class="lineno"> 9050</span>    {</div>
<div class="line"><a id="l09051" name="l09051"></a><span class="lineno"> 9051</span>        IMGUI_DEBUG_LOG_FOCUS(<span class="stringliteral">&quot;FocusItem() ignored while DragDropActive!\n&quot;</span>);</div>
<div class="line"><a id="l09052" name="l09052"></a><span class="lineno"> 9052</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l09053" name="l09053"></a><span class="lineno"> 9053</span>    }</div>
<div class="line"><a id="l09054" name="l09054"></a><span class="lineno"> 9054</span> </div>
<div class="line"><a id="l09055" name="l09055"></a><span class="lineno"> 9055</span>    ImGuiNavMoveFlags move_flags = ImGuiNavMoveFlags_IsTabbing | ImGuiNavMoveFlags_FocusApi | ImGuiNavMoveFlags_NoSetNavCursorVisible | ImGuiNavMoveFlags_NoSelect;</div>
<div class="line"><a id="l09056" name="l09056"></a><span class="lineno"> 9056</span>    ImGuiScrollFlags scroll_flags = window-&gt;Appearing ? ImGuiScrollFlags_KeepVisibleEdgeX | ImGuiScrollFlags_AlwaysCenterY : ImGuiScrollFlags_KeepVisibleEdgeX | ImGuiScrollFlags_KeepVisibleEdgeY;</div>
<div class="line"><a id="l09057" name="l09057"></a><span class="lineno"> 9057</span>    SetNavWindow(window);</div>
<div class="line"><a id="l09058" name="l09058"></a><span class="lineno"> 9058</span>    NavMoveRequestSubmit(ImGuiDir_None, ImGuiDir_Up, move_flags, scroll_flags);</div>
<div class="line"><a id="l09059" name="l09059"></a><span class="lineno"> 9059</span>    NavMoveRequestResolveWithLastItem(&amp;g.NavMoveResultLocal);</div>
<div class="line"><a id="l09060" name="l09060"></a><span class="lineno"> 9060</span>}</div>
<div class="line"><a id="l09061" name="l09061"></a><span class="lineno"> 9061</span> </div>
<div class="line"><a id="l09062" name="l09062"></a><span class="lineno"> 9062</span><span class="keywordtype">void</span> ImGui::ActivateItemByID(ImGuiID <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l09063" name="l09063"></a><span class="lineno"> 9063</span>{</div>
<div class="line"><a id="l09064" name="l09064"></a><span class="lineno"> 9064</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09065" name="l09065"></a><span class="lineno"> 9065</span>    g.NavNextActivateId = id;</div>
<div class="line"><a id="l09066" name="l09066"></a><span class="lineno"> 9066</span>    g.NavNextActivateFlags = ImGuiActivateFlags_None;</div>
<div class="line"><a id="l09067" name="l09067"></a><span class="lineno"> 9067</span>}</div>
<div class="line"><a id="l09068" name="l09068"></a><span class="lineno"> 9068</span> </div>
<div class="line"><a id="l09069" name="l09069"></a><span class="lineno"> 9069</span><span class="comment">// Note: this will likely be called ActivateItem() once we rework our Focus/Activation system!</span></div>
<div class="line"><a id="l09070" name="l09070"></a><span class="lineno"> 9070</span><span class="comment">// But ActivateItem() should function without altering scroll/focus?</span></div>
<div class="line"><a id="l09071" name="l09071"></a><span class="lineno"> 9071</span><span class="keywordtype">void</span> ImGui::SetKeyboardFocusHere(<span class="keywordtype">int</span> offset)</div>
<div class="line"><a id="l09072" name="l09072"></a><span class="lineno"> 9072</span>{</div>
<div class="line"><a id="l09073" name="l09073"></a><span class="lineno"> 9073</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09074" name="l09074"></a><span class="lineno"> 9074</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l09075" name="l09075"></a><span class="lineno"> 9075</span>    IM_ASSERT(offset &gt;= -1);    <span class="comment">// -1 is allowed but not below</span></div>
<div class="line"><a id="l09076" name="l09076"></a><span class="lineno"> 9076</span>    IMGUI_DEBUG_LOG_FOCUS(<span class="stringliteral">&quot;SetKeyboardFocusHere(%d) in window \&quot;%s\&quot;\n&quot;</span>, offset, window-&gt;Name);</div>
<div class="line"><a id="l09077" name="l09077"></a><span class="lineno"> 9077</span> </div>
<div class="line"><a id="l09078" name="l09078"></a><span class="lineno"> 9078</span>    <span class="comment">// It makes sense in the vast majority of cases to never interrupt a drag and drop.</span></div>
<div class="line"><a id="l09079" name="l09079"></a><span class="lineno"> 9079</span>    <span class="comment">// When we refactor this function into ActivateItem() we may want to make this an option.</span></div>
<div class="line"><a id="l09080" name="l09080"></a><span class="lineno"> 9080</span>    <span class="comment">// MovingWindow is protected from most user inputs using SetActiveIdUsingNavAndKeys(), but</span></div>
<div class="line"><a id="l09081" name="l09081"></a><span class="lineno"> 9081</span>    <span class="comment">// is also automatically dropped in the event g.ActiveId is stolen.</span></div>
<div class="line"><a id="l09082" name="l09082"></a><span class="lineno"> 9082</span>    <span class="keywordflow">if</span> (g.DragDropActive || g.MovingWindow != NULL)</div>
<div class="line"><a id="l09083" name="l09083"></a><span class="lineno"> 9083</span>    {</div>
<div class="line"><a id="l09084" name="l09084"></a><span class="lineno"> 9084</span>        IMGUI_DEBUG_LOG_FOCUS(<span class="stringliteral">&quot;SetKeyboardFocusHere() ignored while DragDropActive!\n&quot;</span>);</div>
<div class="line"><a id="l09085" name="l09085"></a><span class="lineno"> 9085</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l09086" name="l09086"></a><span class="lineno"> 9086</span>    }</div>
<div class="line"><a id="l09087" name="l09087"></a><span class="lineno"> 9087</span> </div>
<div class="line"><a id="l09088" name="l09088"></a><span class="lineno"> 9088</span>    SetNavWindow(window);</div>
<div class="line"><a id="l09089" name="l09089"></a><span class="lineno"> 9089</span> </div>
<div class="line"><a id="l09090" name="l09090"></a><span class="lineno"> 9090</span>    ImGuiNavMoveFlags move_flags = ImGuiNavMoveFlags_IsTabbing | ImGuiNavMoveFlags_Activate | ImGuiNavMoveFlags_FocusApi | ImGuiNavMoveFlags_NoSetNavCursorVisible;</div>
<div class="line"><a id="l09091" name="l09091"></a><span class="lineno"> 9091</span>    ImGuiScrollFlags scroll_flags = window-&gt;Appearing ? ImGuiScrollFlags_KeepVisibleEdgeX | ImGuiScrollFlags_AlwaysCenterY : ImGuiScrollFlags_KeepVisibleEdgeX | ImGuiScrollFlags_KeepVisibleEdgeY;</div>
<div class="line"><a id="l09092" name="l09092"></a><span class="lineno"> 9092</span>    NavMoveRequestSubmit(ImGuiDir_None, offset &lt; 0 ? ImGuiDir_Up : ImGuiDir_Down, move_flags, scroll_flags); <span class="comment">// FIXME-NAV: Once we refactor tabbing, add LegacyApi flag to not activate non-inputable.</span></div>
<div class="line"><a id="l09093" name="l09093"></a><span class="lineno"> 9093</span>    <span class="keywordflow">if</span> (offset == -1)</div>
<div class="line"><a id="l09094" name="l09094"></a><span class="lineno"> 9094</span>    {</div>
<div class="line"><a id="l09095" name="l09095"></a><span class="lineno"> 9095</span>        NavMoveRequestResolveWithLastItem(&amp;g.NavMoveResultLocal);</div>
<div class="line"><a id="l09096" name="l09096"></a><span class="lineno"> 9096</span>    }</div>
<div class="line"><a id="l09097" name="l09097"></a><span class="lineno"> 9097</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l09098" name="l09098"></a><span class="lineno"> 9098</span>    {</div>
<div class="line"><a id="l09099" name="l09099"></a><span class="lineno"> 9099</span>        g.NavTabbingDir = 1;</div>
<div class="line"><a id="l09100" name="l09100"></a><span class="lineno"> 9100</span>        g.NavTabbingCounter = offset + 1;</div>
<div class="line"><a id="l09101" name="l09101"></a><span class="lineno"> 9101</span>    }</div>
<div class="line"><a id="l09102" name="l09102"></a><span class="lineno"> 9102</span>}</div>
<div class="line"><a id="l09103" name="l09103"></a><span class="lineno"> 9103</span> </div>
<div class="line"><a id="l09104" name="l09104"></a><span class="lineno"> 9104</span><span class="keywordtype">void</span> ImGui::SetItemDefaultFocus()</div>
<div class="line"><a id="l09105" name="l09105"></a><span class="lineno"> 9105</span>{</div>
<div class="line"><a id="l09106" name="l09106"></a><span class="lineno"> 9106</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09107" name="l09107"></a><span class="lineno"> 9107</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l09108" name="l09108"></a><span class="lineno"> 9108</span>    <span class="keywordflow">if</span> (!window-&gt;Appearing)</div>
<div class="line"><a id="l09109" name="l09109"></a><span class="lineno"> 9109</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l09110" name="l09110"></a><span class="lineno"> 9110</span>    <span class="keywordflow">if</span> (g.NavWindow != window-&gt;RootWindowForNav || (!g.NavInitRequest &amp;&amp; g.NavInitResult.ID == 0) || g.NavLayer != window-&gt;DC.NavLayerCurrent)</div>
<div class="line"><a id="l09111" name="l09111"></a><span class="lineno"> 9111</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l09112" name="l09112"></a><span class="lineno"> 9112</span> </div>
<div class="line"><a id="l09113" name="l09113"></a><span class="lineno"> 9113</span>    g.NavInitRequest = <span class="keyword">false</span>;</div>
<div class="line"><a id="l09114" name="l09114"></a><span class="lineno"> 9114</span>    NavApplyItemToResult(&amp;g.NavInitResult);</div>
<div class="line"><a id="l09115" name="l09115"></a><span class="lineno"> 9115</span>    NavUpdateAnyRequestFlag();</div>
<div class="line"><a id="l09116" name="l09116"></a><span class="lineno"> 9116</span> </div>
<div class="line"><a id="l09117" name="l09117"></a><span class="lineno"> 9117</span>    <span class="comment">// Scroll could be done in NavInitRequestApplyResult() via an opt-in flag (we however don&#39;t want regular init requests to scroll)</span></div>
<div class="line"><a id="l09118" name="l09118"></a><span class="lineno"> 9118</span>    <span class="keywordflow">if</span> (!window-&gt;ClipRect.Contains(g.LastItemData.Rect))</div>
<div class="line"><a id="l09119" name="l09119"></a><span class="lineno"> 9119</span>        ScrollToRectEx(window, g.LastItemData.Rect, ImGuiScrollFlags_None);</div>
<div class="line"><a id="l09120" name="l09120"></a><span class="lineno"> 9120</span>}</div>
<div class="line"><a id="l09121" name="l09121"></a><span class="lineno"> 9121</span> </div>
<div class="line"><a id="l09122" name="l09122"></a><span class="lineno"> 9122</span><span class="keywordtype">void</span> ImGui::SetStateStorage(<a class="code hl_struct" href="structImGuiStorage.html">ImGuiStorage</a>* tree)</div>
<div class="line"><a id="l09123" name="l09123"></a><span class="lineno"> 9123</span>{</div>
<div class="line"><a id="l09124" name="l09124"></a><span class="lineno"> 9124</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GImGui-&gt;CurrentWindow;</div>
<div class="line"><a id="l09125" name="l09125"></a><span class="lineno"> 9125</span>    window-&gt;DC.StateStorage = tree ? tree : &amp;window-&gt;StateStorage;</div>
<div class="line"><a id="l09126" name="l09126"></a><span class="lineno"> 9126</span>}</div>
<div class="line"><a id="l09127" name="l09127"></a><span class="lineno"> 9127</span> </div>
<div class="line"><a id="l09128" name="l09128"></a><span class="lineno"> 9128</span><a class="code hl_struct" href="structImGuiStorage.html">ImGuiStorage</a>* ImGui::GetStateStorage()</div>
<div class="line"><a id="l09129" name="l09129"></a><span class="lineno"> 9129</span>{</div>
<div class="line"><a id="l09130" name="l09130"></a><span class="lineno"> 9130</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GImGui-&gt;CurrentWindow;</div>
<div class="line"><a id="l09131" name="l09131"></a><span class="lineno"> 9131</span>    <span class="keywordflow">return</span> window-&gt;DC.StateStorage;</div>
<div class="line"><a id="l09132" name="l09132"></a><span class="lineno"> 9132</span>}</div>
<div class="line"><a id="l09133" name="l09133"></a><span class="lineno"> 9133</span> </div>
<div class="line"><a id="l09134" name="l09134"></a><span class="lineno"> 9134</span><span class="keywordtype">bool</span> ImGui::IsRectVisible(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; size)</div>
<div class="line"><a id="l09135" name="l09135"></a><span class="lineno"> 9135</span>{</div>
<div class="line"><a id="l09136" name="l09136"></a><span class="lineno"> 9136</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GImGui-&gt;CurrentWindow;</div>
<div class="line"><a id="l09137" name="l09137"></a><span class="lineno"> 9137</span>    <span class="keywordflow">return</span> window-&gt;ClipRect.Overlaps(<a class="code hl_struct" href="structImRect.html">ImRect</a>(window-&gt;DC.CursorPos, window-&gt;DC.CursorPos + size));</div>
<div class="line"><a id="l09138" name="l09138"></a><span class="lineno"> 9138</span>}</div>
<div class="line"><a id="l09139" name="l09139"></a><span class="lineno"> 9139</span> </div>
<div class="line"><a id="l09140" name="l09140"></a><span class="lineno"> 9140</span><span class="keywordtype">bool</span> ImGui::IsRectVisible(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; rect_min, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; rect_max)</div>
<div class="line"><a id="l09141" name="l09141"></a><span class="lineno"> 9141</span>{</div>
<div class="line"><a id="l09142" name="l09142"></a><span class="lineno"> 9142</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GImGui-&gt;CurrentWindow;</div>
<div class="line"><a id="l09143" name="l09143"></a><span class="lineno"> 9143</span>    <span class="keywordflow">return</span> window-&gt;ClipRect.Overlaps(<a class="code hl_struct" href="structImRect.html">ImRect</a>(rect_min, rect_max));</div>
<div class="line"><a id="l09144" name="l09144"></a><span class="lineno"> 9144</span>}</div>
<div class="line"><a id="l09145" name="l09145"></a><span class="lineno"> 9145</span> </div>
<div class="line"><a id="l09146" name="l09146"></a><span class="lineno"> 9146</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l09147" name="l09147"></a><span class="lineno"> 9147</span><span class="comment">// [SECTION] ID STACK</span></div>
<div class="line"><a id="l09148" name="l09148"></a><span class="lineno"> 9148</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l09149" name="l09149"></a><span class="lineno"> 9149</span> </div>
<div class="line"><a id="l09150" name="l09150"></a><span class="lineno"> 9150</span><span class="comment">// This is one of the very rare legacy case where we use ImGuiWindow methods,</span></div>
<div class="line"><a id="l09151" name="l09151"></a><span class="lineno"> 9151</span><span class="comment">// it should ideally be flattened at some point but it&#39;s been used a lots by widgets.</span></div>
<div class="line"><a id="l09152" name="l09152"></a><span class="lineno"> 9152</span>IM_MSVC_RUNTIME_CHECKS_OFF</div>
<div class="line"><a id="l09153" name="l09153"></a><span class="lineno"> 9153</span>ImGuiID ImGuiWindow::GetID(<span class="keyword">const</span> <span class="keywordtype">char</span>* str, <span class="keyword">const</span> <span class="keywordtype">char</span>* str_end)</div>
<div class="line"><a id="l09154" name="l09154"></a><span class="lineno"> 9154</span>{</div>
<div class="line"><a id="l09155" name="l09155"></a><span class="lineno"> 9155</span>    ImGuiID seed = IDStack.back();</div>
<div class="line"><a id="l09156" name="l09156"></a><span class="lineno"> 9156</span>    ImGuiID <span class="keywordtype">id</span> = ImHashStr(str, str_end ? (str_end - str) : 0, seed);</div>
<div class="line"><a id="l09157" name="l09157"></a><span class="lineno"> 9157</span><span class="preprocessor">#ifndef IMGUI_DISABLE_DEBUG_TOOLS</span></div>
<div class="line"><a id="l09158" name="l09158"></a><span class="lineno"> 9158</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *Ctx;</div>
<div class="line"><a id="l09159" name="l09159"></a><span class="lineno"> 9159</span>    <span class="keywordflow">if</span> (g.DebugHookIdInfo == <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l09160" name="l09160"></a><span class="lineno"> 9160</span>        ImGui::DebugHookIdInfo(<span class="keywordtype">id</span>, ImGuiDataType_String, str, str_end);</div>
<div class="line"><a id="l09161" name="l09161"></a><span class="lineno"> 9161</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l09162" name="l09162"></a><span class="lineno"> 9162</span>    <span class="keywordflow">return</span> id;</div>
<div class="line"><a id="l09163" name="l09163"></a><span class="lineno"> 9163</span>}</div>
<div class="line"><a id="l09164" name="l09164"></a><span class="lineno"> 9164</span> </div>
<div class="line"><a id="l09165" name="l09165"></a><span class="lineno"> 9165</span>ImGuiID ImGuiWindow::GetID(<span class="keyword">const</span> <span class="keywordtype">void</span>* ptr)</div>
<div class="line"><a id="l09166" name="l09166"></a><span class="lineno"> 9166</span>{</div>
<div class="line"><a id="l09167" name="l09167"></a><span class="lineno"> 9167</span>    ImGuiID seed = IDStack.back();</div>
<div class="line"><a id="l09168" name="l09168"></a><span class="lineno"> 9168</span>    ImGuiID <span class="keywordtype">id</span> = ImHashData(&amp;ptr, <span class="keyword">sizeof</span>(<span class="keywordtype">void</span>*), seed);</div>
<div class="line"><a id="l09169" name="l09169"></a><span class="lineno"> 9169</span><span class="preprocessor">#ifndef IMGUI_DISABLE_DEBUG_TOOLS</span></div>
<div class="line"><a id="l09170" name="l09170"></a><span class="lineno"> 9170</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *Ctx;</div>
<div class="line"><a id="l09171" name="l09171"></a><span class="lineno"> 9171</span>    <span class="keywordflow">if</span> (g.DebugHookIdInfo == <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l09172" name="l09172"></a><span class="lineno"> 9172</span>        ImGui::DebugHookIdInfo(<span class="keywordtype">id</span>, ImGuiDataType_Pointer, ptr, NULL);</div>
<div class="line"><a id="l09173" name="l09173"></a><span class="lineno"> 9173</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l09174" name="l09174"></a><span class="lineno"> 9174</span>    <span class="keywordflow">return</span> id;</div>
<div class="line"><a id="l09175" name="l09175"></a><span class="lineno"> 9175</span>}</div>
<div class="line"><a id="l09176" name="l09176"></a><span class="lineno"> 9176</span> </div>
<div class="line"><a id="l09177" name="l09177"></a><span class="lineno"> 9177</span>ImGuiID ImGuiWindow::GetID(<span class="keywordtype">int</span> n)</div>
<div class="line"><a id="l09178" name="l09178"></a><span class="lineno"> 9178</span>{</div>
<div class="line"><a id="l09179" name="l09179"></a><span class="lineno"> 9179</span>    ImGuiID seed = IDStack.back();</div>
<div class="line"><a id="l09180" name="l09180"></a><span class="lineno"> 9180</span>    ImGuiID <span class="keywordtype">id</span> = ImHashData(&amp;n, <span class="keyword">sizeof</span>(n), seed);</div>
<div class="line"><a id="l09181" name="l09181"></a><span class="lineno"> 9181</span><span class="preprocessor">#ifndef IMGUI_DISABLE_DEBUG_TOOLS</span></div>
<div class="line"><a id="l09182" name="l09182"></a><span class="lineno"> 9182</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *Ctx;</div>
<div class="line"><a id="l09183" name="l09183"></a><span class="lineno"> 9183</span>    <span class="keywordflow">if</span> (g.DebugHookIdInfo == <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l09184" name="l09184"></a><span class="lineno"> 9184</span>        ImGui::DebugHookIdInfo(<span class="keywordtype">id</span>, ImGuiDataType_S32, (<span class="keywordtype">void</span>*)(intptr_t)n, NULL);</div>
<div class="line"><a id="l09185" name="l09185"></a><span class="lineno"> 9185</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l09186" name="l09186"></a><span class="lineno"> 9186</span>    <span class="keywordflow">return</span> id;</div>
<div class="line"><a id="l09187" name="l09187"></a><span class="lineno"> 9187</span>}</div>
<div class="line"><a id="l09188" name="l09188"></a><span class="lineno"> 9188</span> </div>
<div class="line"><a id="l09189" name="l09189"></a><span class="lineno"> 9189</span><span class="comment">// This is only used in rare/specific situations to manufacture an ID out of nowhere.</span></div>
<div class="line"><a id="l09190" name="l09190"></a><span class="lineno"> 9190</span><span class="comment">// FIXME: Consider instead storing last non-zero ID + count of successive zero-ID, and combine those?</span></div>
<div class="line"><a id="l09191" name="l09191"></a><span class="lineno"> 9191</span>ImGuiID ImGuiWindow::GetIDFromPos(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; p_abs)</div>
<div class="line"><a id="l09192" name="l09192"></a><span class="lineno"> 9192</span>{</div>
<div class="line"><a id="l09193" name="l09193"></a><span class="lineno"> 9193</span>    ImGuiID seed = IDStack.back();</div>
<div class="line"><a id="l09194" name="l09194"></a><span class="lineno"> 9194</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> p_rel = ImGui::WindowPosAbsToRel(<span class="keyword">this</span>, p_abs);</div>
<div class="line"><a id="l09195" name="l09195"></a><span class="lineno"> 9195</span>    ImGuiID <span class="keywordtype">id</span> = ImHashData(&amp;p_rel, <span class="keyword">sizeof</span>(p_rel), seed);</div>
<div class="line"><a id="l09196" name="l09196"></a><span class="lineno"> 9196</span>    <span class="keywordflow">return</span> id;</div>
<div class="line"><a id="l09197" name="l09197"></a><span class="lineno"> 9197</span>}</div>
<div class="line"><a id="l09198" name="l09198"></a><span class="lineno"> 9198</span> </div>
<div class="line"><a id="l09199" name="l09199"></a><span class="lineno"> 9199</span><span class="comment">// &quot;</span></div>
<div class="line"><a id="l09200" name="l09200"></a><span class="lineno"> 9200</span>ImGuiID ImGuiWindow::GetIDFromRectangle(<span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; r_abs)</div>
<div class="line"><a id="l09201" name="l09201"></a><span class="lineno"> 9201</span>{</div>
<div class="line"><a id="l09202" name="l09202"></a><span class="lineno"> 9202</span>    ImGuiID seed = IDStack.back();</div>
<div class="line"><a id="l09203" name="l09203"></a><span class="lineno"> 9203</span>    <a class="code hl_struct" href="structImRect.html">ImRect</a> r_rel = ImGui::WindowRectAbsToRel(<span class="keyword">this</span>, r_abs);</div>
<div class="line"><a id="l09204" name="l09204"></a><span class="lineno"> 9204</span>    ImGuiID <span class="keywordtype">id</span> = ImHashData(&amp;r_rel, <span class="keyword">sizeof</span>(r_rel), seed);</div>
<div class="line"><a id="l09205" name="l09205"></a><span class="lineno"> 9205</span>    <span class="keywordflow">return</span> id;</div>
<div class="line"><a id="l09206" name="l09206"></a><span class="lineno"> 9206</span>}</div>
<div class="line"><a id="l09207" name="l09207"></a><span class="lineno"> 9207</span> </div>
<div class="line"><a id="l09208" name="l09208"></a><span class="lineno"> 9208</span><span class="keywordtype">void</span> ImGui::PushID(<span class="keyword">const</span> <span class="keywordtype">char</span>* str_id)</div>
<div class="line"><a id="l09209" name="l09209"></a><span class="lineno"> 9209</span>{</div>
<div class="line"><a id="l09210" name="l09210"></a><span class="lineno"> 9210</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09211" name="l09211"></a><span class="lineno"> 9211</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l09212" name="l09212"></a><span class="lineno"> 9212</span>    ImGuiID <span class="keywordtype">id</span> = window-&gt;GetID(str_id);</div>
<div class="line"><a id="l09213" name="l09213"></a><span class="lineno"> 9213</span>    window-&gt;IDStack.push_back(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l09214" name="l09214"></a><span class="lineno"> 9214</span>}</div>
<div class="line"><a id="l09215" name="l09215"></a><span class="lineno"> 9215</span> </div>
<div class="line"><a id="l09216" name="l09216"></a><span class="lineno"> 9216</span><span class="keywordtype">void</span> ImGui::PushID(<span class="keyword">const</span> <span class="keywordtype">char</span>* str_id_begin, <span class="keyword">const</span> <span class="keywordtype">char</span>* str_id_end)</div>
<div class="line"><a id="l09217" name="l09217"></a><span class="lineno"> 9217</span>{</div>
<div class="line"><a id="l09218" name="l09218"></a><span class="lineno"> 9218</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09219" name="l09219"></a><span class="lineno"> 9219</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l09220" name="l09220"></a><span class="lineno"> 9220</span>    ImGuiID <span class="keywordtype">id</span> = window-&gt;GetID(str_id_begin, str_id_end);</div>
<div class="line"><a id="l09221" name="l09221"></a><span class="lineno"> 9221</span>    window-&gt;IDStack.push_back(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l09222" name="l09222"></a><span class="lineno"> 9222</span>}</div>
<div class="line"><a id="l09223" name="l09223"></a><span class="lineno"> 9223</span> </div>
<div class="line"><a id="l09224" name="l09224"></a><span class="lineno"> 9224</span><span class="keywordtype">void</span> ImGui::PushID(<span class="keyword">const</span> <span class="keywordtype">void</span>* ptr_id)</div>
<div class="line"><a id="l09225" name="l09225"></a><span class="lineno"> 9225</span>{</div>
<div class="line"><a id="l09226" name="l09226"></a><span class="lineno"> 9226</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09227" name="l09227"></a><span class="lineno"> 9227</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l09228" name="l09228"></a><span class="lineno"> 9228</span>    ImGuiID <span class="keywordtype">id</span> = window-&gt;GetID(ptr_id);</div>
<div class="line"><a id="l09229" name="l09229"></a><span class="lineno"> 9229</span>    window-&gt;IDStack.push_back(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l09230" name="l09230"></a><span class="lineno"> 9230</span>}</div>
<div class="line"><a id="l09231" name="l09231"></a><span class="lineno"> 9231</span> </div>
<div class="line"><a id="l09232" name="l09232"></a><span class="lineno"> 9232</span><span class="keywordtype">void</span> ImGui::PushID(<span class="keywordtype">int</span> int_id)</div>
<div class="line"><a id="l09233" name="l09233"></a><span class="lineno"> 9233</span>{</div>
<div class="line"><a id="l09234" name="l09234"></a><span class="lineno"> 9234</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09235" name="l09235"></a><span class="lineno"> 9235</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l09236" name="l09236"></a><span class="lineno"> 9236</span>    ImGuiID <span class="keywordtype">id</span> = window-&gt;GetID(int_id);</div>
<div class="line"><a id="l09237" name="l09237"></a><span class="lineno"> 9237</span>    window-&gt;IDStack.push_back(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l09238" name="l09238"></a><span class="lineno"> 9238</span>}</div>
<div class="line"><a id="l09239" name="l09239"></a><span class="lineno"> 9239</span> </div>
<div class="line"><a id="l09240" name="l09240"></a><span class="lineno"> 9240</span><span class="comment">// Push a given id value ignoring the ID stack as a seed.</span></div>
<div class="line"><a id="l09241" name="l09241"></a><span class="lineno"> 9241</span><span class="keywordtype">void</span> ImGui::PushOverrideID(ImGuiID <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l09242" name="l09242"></a><span class="lineno"> 9242</span>{</div>
<div class="line"><a id="l09243" name="l09243"></a><span class="lineno"> 9243</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09244" name="l09244"></a><span class="lineno"> 9244</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l09245" name="l09245"></a><span class="lineno"> 9245</span><span class="preprocessor">#ifndef IMGUI_DISABLE_DEBUG_TOOLS</span></div>
<div class="line"><a id="l09246" name="l09246"></a><span class="lineno"> 9246</span>    <span class="keywordflow">if</span> (g.DebugHookIdInfo == <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l09247" name="l09247"></a><span class="lineno"> 9247</span>        DebugHookIdInfo(<span class="keywordtype">id</span>, ImGuiDataType_ID, NULL, NULL);</div>
<div class="line"><a id="l09248" name="l09248"></a><span class="lineno"> 9248</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l09249" name="l09249"></a><span class="lineno"> 9249</span>    window-&gt;IDStack.push_back(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l09250" name="l09250"></a><span class="lineno"> 9250</span>}</div>
<div class="line"><a id="l09251" name="l09251"></a><span class="lineno"> 9251</span> </div>
<div class="line"><a id="l09252" name="l09252"></a><span class="lineno"> 9252</span><span class="comment">// Helper to avoid a common series of PushOverrideID -&gt; GetID() -&gt; PopID() call</span></div>
<div class="line"><a id="l09253" name="l09253"></a><span class="lineno"> 9253</span><span class="comment">// (note that when using this pattern, ID Stack Tool will tend to not display the intermediate stack level.</span></div>
<div class="line"><a id="l09254" name="l09254"></a><span class="lineno"> 9254</span><span class="comment">//  for that to work we would need to do PushOverrideID() -&gt; ItemAdd() -&gt; PopID() which would alter widget code a little more)</span></div>
<div class="line"><a id="l09255" name="l09255"></a><span class="lineno"> 9255</span>ImGuiID ImGui::GetIDWithSeed(<span class="keyword">const</span> <span class="keywordtype">char</span>* str, <span class="keyword">const</span> <span class="keywordtype">char</span>* str_end, ImGuiID seed)</div>
<div class="line"><a id="l09256" name="l09256"></a><span class="lineno"> 9256</span>{</div>
<div class="line"><a id="l09257" name="l09257"></a><span class="lineno"> 9257</span>    ImGuiID <span class="keywordtype">id</span> = ImHashStr(str, str_end ? (str_end - str) : 0, seed);</div>
<div class="line"><a id="l09258" name="l09258"></a><span class="lineno"> 9258</span><span class="preprocessor">#ifndef IMGUI_DISABLE_DEBUG_TOOLS</span></div>
<div class="line"><a id="l09259" name="l09259"></a><span class="lineno"> 9259</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09260" name="l09260"></a><span class="lineno"> 9260</span>    <span class="keywordflow">if</span> (g.DebugHookIdInfo == <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l09261" name="l09261"></a><span class="lineno"> 9261</span>        DebugHookIdInfo(<span class="keywordtype">id</span>, ImGuiDataType_String, str, str_end);</div>
<div class="line"><a id="l09262" name="l09262"></a><span class="lineno"> 9262</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l09263" name="l09263"></a><span class="lineno"> 9263</span>    <span class="keywordflow">return</span> id;</div>
<div class="line"><a id="l09264" name="l09264"></a><span class="lineno"> 9264</span>}</div>
<div class="line"><a id="l09265" name="l09265"></a><span class="lineno"> 9265</span> </div>
<div class="line"><a id="l09266" name="l09266"></a><span class="lineno"> 9266</span>ImGuiID ImGui::GetIDWithSeed(<span class="keywordtype">int</span> n, ImGuiID seed)</div>
<div class="line"><a id="l09267" name="l09267"></a><span class="lineno"> 9267</span>{</div>
<div class="line"><a id="l09268" name="l09268"></a><span class="lineno"> 9268</span>    ImGuiID <span class="keywordtype">id</span> = ImHashData(&amp;n, <span class="keyword">sizeof</span>(n), seed);</div>
<div class="line"><a id="l09269" name="l09269"></a><span class="lineno"> 9269</span><span class="preprocessor">#ifndef IMGUI_DISABLE_DEBUG_TOOLS</span></div>
<div class="line"><a id="l09270" name="l09270"></a><span class="lineno"> 9270</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09271" name="l09271"></a><span class="lineno"> 9271</span>    <span class="keywordflow">if</span> (g.DebugHookIdInfo == <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l09272" name="l09272"></a><span class="lineno"> 9272</span>        DebugHookIdInfo(<span class="keywordtype">id</span>, ImGuiDataType_S32, (<span class="keywordtype">void</span>*)(intptr_t)n, NULL);</div>
<div class="line"><a id="l09273" name="l09273"></a><span class="lineno"> 9273</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l09274" name="l09274"></a><span class="lineno"> 9274</span>    <span class="keywordflow">return</span> id;</div>
<div class="line"><a id="l09275" name="l09275"></a><span class="lineno"> 9275</span>}</div>
<div class="line"><a id="l09276" name="l09276"></a><span class="lineno"> 9276</span> </div>
<div class="line"><a id="l09277" name="l09277"></a><span class="lineno"> 9277</span><span class="keywordtype">void</span> ImGui::PopID()</div>
<div class="line"><a id="l09278" name="l09278"></a><span class="lineno"> 9278</span>{</div>
<div class="line"><a id="l09279" name="l09279"></a><span class="lineno"> 9279</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GImGui-&gt;CurrentWindow;</div>
<div class="line"><a id="l09280" name="l09280"></a><span class="lineno"> 9280</span>    <span class="keywordflow">if</span> (window-&gt;IDStack.Size &lt;= 1)</div>
<div class="line"><a id="l09281" name="l09281"></a><span class="lineno"> 9281</span>    {</div>
<div class="line"><a id="l09282" name="l09282"></a><span class="lineno"> 9282</span>        IM_ASSERT_USER_ERROR(0, <span class="stringliteral">&quot;Calling PopID() too many times!&quot;</span>);</div>
<div class="line"><a id="l09283" name="l09283"></a><span class="lineno"> 9283</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l09284" name="l09284"></a><span class="lineno"> 9284</span>    }</div>
<div class="line"><a id="l09285" name="l09285"></a><span class="lineno"> 9285</span>    window-&gt;IDStack.pop_back();</div>
<div class="line"><a id="l09286" name="l09286"></a><span class="lineno"> 9286</span>}</div>
<div class="line"><a id="l09287" name="l09287"></a><span class="lineno"> 9287</span> </div>
<div class="line"><a id="l09288" name="l09288"></a><span class="lineno"> 9288</span>ImGuiID ImGui::GetID(<span class="keyword">const</span> <span class="keywordtype">char</span>* str_id)</div>
<div class="line"><a id="l09289" name="l09289"></a><span class="lineno"> 9289</span>{</div>
<div class="line"><a id="l09290" name="l09290"></a><span class="lineno"> 9290</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GImGui-&gt;CurrentWindow;</div>
<div class="line"><a id="l09291" name="l09291"></a><span class="lineno"> 9291</span>    <span class="keywordflow">return</span> window-&gt;GetID(str_id);</div>
<div class="line"><a id="l09292" name="l09292"></a><span class="lineno"> 9292</span>}</div>
<div class="line"><a id="l09293" name="l09293"></a><span class="lineno"> 9293</span> </div>
<div class="line"><a id="l09294" name="l09294"></a><span class="lineno"> 9294</span>ImGuiID ImGui::GetID(<span class="keyword">const</span> <span class="keywordtype">char</span>* str_id_begin, <span class="keyword">const</span> <span class="keywordtype">char</span>* str_id_end)</div>
<div class="line"><a id="l09295" name="l09295"></a><span class="lineno"> 9295</span>{</div>
<div class="line"><a id="l09296" name="l09296"></a><span class="lineno"> 9296</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GImGui-&gt;CurrentWindow;</div>
<div class="line"><a id="l09297" name="l09297"></a><span class="lineno"> 9297</span>    <span class="keywordflow">return</span> window-&gt;GetID(str_id_begin, str_id_end);</div>
<div class="line"><a id="l09298" name="l09298"></a><span class="lineno"> 9298</span>}</div>
<div class="line"><a id="l09299" name="l09299"></a><span class="lineno"> 9299</span> </div>
<div class="line"><a id="l09300" name="l09300"></a><span class="lineno"> 9300</span>ImGuiID ImGui::GetID(<span class="keyword">const</span> <span class="keywordtype">void</span>* ptr_id)</div>
<div class="line"><a id="l09301" name="l09301"></a><span class="lineno"> 9301</span>{</div>
<div class="line"><a id="l09302" name="l09302"></a><span class="lineno"> 9302</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GImGui-&gt;CurrentWindow;</div>
<div class="line"><a id="l09303" name="l09303"></a><span class="lineno"> 9303</span>    <span class="keywordflow">return</span> window-&gt;GetID(ptr_id);</div>
<div class="line"><a id="l09304" name="l09304"></a><span class="lineno"> 9304</span>}</div>
<div class="line"><a id="l09305" name="l09305"></a><span class="lineno"> 9305</span> </div>
<div class="line"><a id="l09306" name="l09306"></a><span class="lineno"> 9306</span>ImGuiID ImGui::GetID(<span class="keywordtype">int</span> int_id)</div>
<div class="line"><a id="l09307" name="l09307"></a><span class="lineno"> 9307</span>{</div>
<div class="line"><a id="l09308" name="l09308"></a><span class="lineno"> 9308</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GImGui-&gt;CurrentWindow;</div>
<div class="line"><a id="l09309" name="l09309"></a><span class="lineno"> 9309</span>    <span class="keywordflow">return</span> window-&gt;GetID(int_id);</div>
<div class="line"><a id="l09310" name="l09310"></a><span class="lineno"> 9310</span>}</div>
<div class="line"><a id="l09311" name="l09311"></a><span class="lineno"> 9311</span>IM_MSVC_RUNTIME_CHECKS_RESTORE</div>
<div class="line"><a id="l09312" name="l09312"></a><span class="lineno"> 9312</span> </div>
<div class="line"><a id="l09313" name="l09313"></a><span class="lineno"> 9313</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l09314" name="l09314"></a><span class="lineno"> 9314</span><span class="comment">// [SECTION] INPUTS</span></div>
<div class="line"><a id="l09315" name="l09315"></a><span class="lineno"> 9315</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l09316" name="l09316"></a><span class="lineno"> 9316</span><span class="comment">// - GetModForLRModKey() [Internal]</span></div>
<div class="line"><a id="l09317" name="l09317"></a><span class="lineno"> 9317</span><span class="comment">// - FixupKeyChord() [Internal]</span></div>
<div class="line"><a id="l09318" name="l09318"></a><span class="lineno"> 9318</span><span class="comment">// - GetKeyData() [Internal]</span></div>
<div class="line"><a id="l09319" name="l09319"></a><span class="lineno"> 9319</span><span class="comment">// - GetKeyIndex() [Internal]</span></div>
<div class="line"><a id="l09320" name="l09320"></a><span class="lineno"> 9320</span><span class="comment">// - GetKeyName()</span></div>
<div class="line"><a id="l09321" name="l09321"></a><span class="lineno"> 9321</span><span class="comment">// - GetKeyChordName() [Internal]</span></div>
<div class="line"><a id="l09322" name="l09322"></a><span class="lineno"> 9322</span><span class="comment">// - CalcTypematicRepeatAmount() [Internal]</span></div>
<div class="line"><a id="l09323" name="l09323"></a><span class="lineno"> 9323</span><span class="comment">// - GetTypematicRepeatRate() [Internal]</span></div>
<div class="line"><a id="l09324" name="l09324"></a><span class="lineno"> 9324</span><span class="comment">// - GetKeyPressedAmount() [Internal]</span></div>
<div class="line"><a id="l09325" name="l09325"></a><span class="lineno"> 9325</span><span class="comment">// - GetKeyMagnitude2d() [Internal]</span></div>
<div class="line"><a id="l09326" name="l09326"></a><span class="lineno"> 9326</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l09327" name="l09327"></a><span class="lineno"> 9327</span><span class="comment">// - UpdateKeyRoutingTable() [Internal]</span></div>
<div class="line"><a id="l09328" name="l09328"></a><span class="lineno"> 9328</span><span class="comment">// - GetRoutingIdFromOwnerId() [Internal]</span></div>
<div class="line"><a id="l09329" name="l09329"></a><span class="lineno"> 9329</span><span class="comment">// - GetShortcutRoutingData() [Internal]</span></div>
<div class="line"><a id="l09330" name="l09330"></a><span class="lineno"> 9330</span><span class="comment">// - CalcRoutingScore() [Internal]</span></div>
<div class="line"><a id="l09331" name="l09331"></a><span class="lineno"> 9331</span><span class="comment">// - SetShortcutRouting() [Internal]</span></div>
<div class="line"><a id="l09332" name="l09332"></a><span class="lineno"> 9332</span><span class="comment">// - TestShortcutRouting() [Internal]</span></div>
<div class="line"><a id="l09333" name="l09333"></a><span class="lineno"> 9333</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l09334" name="l09334"></a><span class="lineno"> 9334</span><span class="comment">// - IsKeyDown()</span></div>
<div class="line"><a id="l09335" name="l09335"></a><span class="lineno"> 9335</span><span class="comment">// - IsKeyPressed()</span></div>
<div class="line"><a id="l09336" name="l09336"></a><span class="lineno"> 9336</span><span class="comment">// - IsKeyReleased()</span></div>
<div class="line"><a id="l09337" name="l09337"></a><span class="lineno"> 9337</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l09338" name="l09338"></a><span class="lineno"> 9338</span><span class="comment">// - IsMouseDown()</span></div>
<div class="line"><a id="l09339" name="l09339"></a><span class="lineno"> 9339</span><span class="comment">// - IsMouseClicked()</span></div>
<div class="line"><a id="l09340" name="l09340"></a><span class="lineno"> 9340</span><span class="comment">// - IsMouseReleased()</span></div>
<div class="line"><a id="l09341" name="l09341"></a><span class="lineno"> 9341</span><span class="comment">// - IsMouseDoubleClicked()</span></div>
<div class="line"><a id="l09342" name="l09342"></a><span class="lineno"> 9342</span><span class="comment">// - GetMouseClickedCount()</span></div>
<div class="line"><a id="l09343" name="l09343"></a><span class="lineno"> 9343</span><span class="comment">// - IsMouseHoveringRect() [Internal]</span></div>
<div class="line"><a id="l09344" name="l09344"></a><span class="lineno"> 9344</span><span class="comment">// - IsMouseDragPastThreshold() [Internal]</span></div>
<div class="line"><a id="l09345" name="l09345"></a><span class="lineno"> 9345</span><span class="comment">// - IsMouseDragging()</span></div>
<div class="line"><a id="l09346" name="l09346"></a><span class="lineno"> 9346</span><span class="comment">// - GetMousePos()</span></div>
<div class="line"><a id="l09347" name="l09347"></a><span class="lineno"> 9347</span><span class="comment">// - SetMousePos() [Internal]</span></div>
<div class="line"><a id="l09348" name="l09348"></a><span class="lineno"> 9348</span><span class="comment">// - GetMousePosOnOpeningCurrentPopup()</span></div>
<div class="line"><a id="l09349" name="l09349"></a><span class="lineno"> 9349</span><span class="comment">// - IsMousePosValid()</span></div>
<div class="line"><a id="l09350" name="l09350"></a><span class="lineno"> 9350</span><span class="comment">// - IsAnyMouseDown()</span></div>
<div class="line"><a id="l09351" name="l09351"></a><span class="lineno"> 9351</span><span class="comment">// - GetMouseDragDelta()</span></div>
<div class="line"><a id="l09352" name="l09352"></a><span class="lineno"> 9352</span><span class="comment">// - ResetMouseDragDelta()</span></div>
<div class="line"><a id="l09353" name="l09353"></a><span class="lineno"> 9353</span><span class="comment">// - GetMouseCursor()</span></div>
<div class="line"><a id="l09354" name="l09354"></a><span class="lineno"> 9354</span><span class="comment">// - SetMouseCursor()</span></div>
<div class="line"><a id="l09355" name="l09355"></a><span class="lineno"> 9355</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l09356" name="l09356"></a><span class="lineno"> 9356</span><span class="comment">// - UpdateAliasKey()</span></div>
<div class="line"><a id="l09357" name="l09357"></a><span class="lineno"> 9357</span><span class="comment">// - GetMergedModsFromKeys()</span></div>
<div class="line"><a id="l09358" name="l09358"></a><span class="lineno"> 9358</span><span class="comment">// - UpdateKeyboardInputs()</span></div>
<div class="line"><a id="l09359" name="l09359"></a><span class="lineno"> 9359</span><span class="comment">// - UpdateMouseInputs()</span></div>
<div class="line"><a id="l09360" name="l09360"></a><span class="lineno"> 9360</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l09361" name="l09361"></a><span class="lineno"> 9361</span><span class="comment">// - LockWheelingWindow [Internal]</span></div>
<div class="line"><a id="l09362" name="l09362"></a><span class="lineno"> 9362</span><span class="comment">// - FindBestWheelingWindow [Internal]</span></div>
<div class="line"><a id="l09363" name="l09363"></a><span class="lineno"> 9363</span><span class="comment">// - UpdateMouseWheel() [Internal]</span></div>
<div class="line"><a id="l09364" name="l09364"></a><span class="lineno"> 9364</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l09365" name="l09365"></a><span class="lineno"> 9365</span><span class="comment">// - SetNextFrameWantCaptureKeyboard()</span></div>
<div class="line"><a id="l09366" name="l09366"></a><span class="lineno"> 9366</span><span class="comment">// - SetNextFrameWantCaptureMouse()</span></div>
<div class="line"><a id="l09367" name="l09367"></a><span class="lineno"> 9367</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l09368" name="l09368"></a><span class="lineno"> 9368</span><span class="comment">// - GetInputSourceName() [Internal]</span></div>
<div class="line"><a id="l09369" name="l09369"></a><span class="lineno"> 9369</span><span class="comment">// - DebugPrintInputEvent() [Internal]</span></div>
<div class="line"><a id="l09370" name="l09370"></a><span class="lineno"> 9370</span><span class="comment">// - UpdateInputEvents() [Internal]</span></div>
<div class="line"><a id="l09371" name="l09371"></a><span class="lineno"> 9371</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l09372" name="l09372"></a><span class="lineno"> 9372</span><span class="comment">// - GetKeyOwner() [Internal]</span></div>
<div class="line"><a id="l09373" name="l09373"></a><span class="lineno"> 9373</span><span class="comment">// - TestKeyOwner() [Internal]</span></div>
<div class="line"><a id="l09374" name="l09374"></a><span class="lineno"> 9374</span><span class="comment">// - SetKeyOwner() [Internal]</span></div>
<div class="line"><a id="l09375" name="l09375"></a><span class="lineno"> 9375</span><span class="comment">// - SetItemKeyOwner() [Internal]</span></div>
<div class="line"><a id="l09376" name="l09376"></a><span class="lineno"> 9376</span><span class="comment">// - Shortcut() [Internal]</span></div>
<div class="line"><a id="l09377" name="l09377"></a><span class="lineno"> 9377</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l09378" name="l09378"></a><span class="lineno"> 9378</span> </div>
<div class="line"><a id="l09379" name="l09379"></a><span class="lineno"> 9379</span><span class="keyword">static</span> ImGuiKeyChord GetModForLRModKey(ImGuiKey key)</div>
<div class="line"><a id="l09380" name="l09380"></a><span class="lineno"> 9380</span>{</div>
<div class="line"><a id="l09381" name="l09381"></a><span class="lineno"> 9381</span>    <span class="keywordflow">if</span> (key == ImGuiKey_LeftCtrl || key == ImGuiKey_RightCtrl)</div>
<div class="line"><a id="l09382" name="l09382"></a><span class="lineno"> 9382</span>        <span class="keywordflow">return</span> ImGuiMod_Ctrl;</div>
<div class="line"><a id="l09383" name="l09383"></a><span class="lineno"> 9383</span>    <span class="keywordflow">if</span> (key == ImGuiKey_LeftShift || key == ImGuiKey_RightShift)</div>
<div class="line"><a id="l09384" name="l09384"></a><span class="lineno"> 9384</span>        <span class="keywordflow">return</span> ImGuiMod_Shift;</div>
<div class="line"><a id="l09385" name="l09385"></a><span class="lineno"> 9385</span>    <span class="keywordflow">if</span> (key == ImGuiKey_LeftAlt || key == ImGuiKey_RightAlt)</div>
<div class="line"><a id="l09386" name="l09386"></a><span class="lineno"> 9386</span>        <span class="keywordflow">return</span> ImGuiMod_Alt;</div>
<div class="line"><a id="l09387" name="l09387"></a><span class="lineno"> 9387</span>    <span class="keywordflow">if</span> (key == ImGuiKey_LeftSuper || key == ImGuiKey_RightSuper)</div>
<div class="line"><a id="l09388" name="l09388"></a><span class="lineno"> 9388</span>        <span class="keywordflow">return</span> ImGuiMod_Super;</div>
<div class="line"><a id="l09389" name="l09389"></a><span class="lineno"> 9389</span>    <span class="keywordflow">return</span> ImGuiMod_None;</div>
<div class="line"><a id="l09390" name="l09390"></a><span class="lineno"> 9390</span>}</div>
<div class="line"><a id="l09391" name="l09391"></a><span class="lineno"> 9391</span> </div>
<div class="line"><a id="l09392" name="l09392"></a><span class="lineno"> 9392</span>ImGuiKeyChord ImGui::FixupKeyChord(ImGuiKeyChord key_chord)</div>
<div class="line"><a id="l09393" name="l09393"></a><span class="lineno"> 9393</span>{</div>
<div class="line"><a id="l09394" name="l09394"></a><span class="lineno"> 9394</span>    <span class="comment">// Add ImGuiMod_XXXX when a corresponding ImGuiKey_LeftXXX/ImGuiKey_RightXXX is specified.</span></div>
<div class="line"><a id="l09395" name="l09395"></a><span class="lineno"> 9395</span>    ImGuiKey key = (ImGuiKey)(key_chord &amp; ~ImGuiMod_Mask_);</div>
<div class="line"><a id="l09396" name="l09396"></a><span class="lineno"> 9396</span>    <span class="keywordflow">if</span> (IsLRModKey(key))</div>
<div class="line"><a id="l09397" name="l09397"></a><span class="lineno"> 9397</span>        key_chord |= GetModForLRModKey(key);</div>
<div class="line"><a id="l09398" name="l09398"></a><span class="lineno"> 9398</span>    <span class="keywordflow">return</span> key_chord;</div>
<div class="line"><a id="l09399" name="l09399"></a><span class="lineno"> 9399</span>}</div>
<div class="line"><a id="l09400" name="l09400"></a><span class="lineno"> 9400</span> </div>
<div class="line"><a id="l09401" name="l09401"></a><span class="lineno"> 9401</span><a class="code hl_struct" href="structImGuiKeyData.html">ImGuiKeyData</a>* ImGui::GetKeyData(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, ImGuiKey key)</div>
<div class="line"><a id="l09402" name="l09402"></a><span class="lineno"> 9402</span>{</div>
<div class="line"><a id="l09403" name="l09403"></a><span class="lineno"> 9403</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *ctx;</div>
<div class="line"><a id="l09404" name="l09404"></a><span class="lineno"> 9404</span> </div>
<div class="line"><a id="l09405" name="l09405"></a><span class="lineno"> 9405</span>    <span class="comment">// Special storage location for mods</span></div>
<div class="line"><a id="l09406" name="l09406"></a><span class="lineno"> 9406</span>    <span class="keywordflow">if</span> (key &amp; ImGuiMod_Mask_)</div>
<div class="line"><a id="l09407" name="l09407"></a><span class="lineno"> 9407</span>        key = ConvertSingleModFlagToKey(key);</div>
<div class="line"><a id="l09408" name="l09408"></a><span class="lineno"> 9408</span> </div>
<div class="line"><a id="l09409" name="l09409"></a><span class="lineno"> 9409</span>    IM_ASSERT(IsNamedKey(key) &amp;&amp; <span class="stringliteral">&quot;Support for user key indices was dropped in favor of ImGuiKey. Please update backend &amp; user code.&quot;</span>);</div>
<div class="line"><a id="l09410" name="l09410"></a><span class="lineno"> 9410</span>    <span class="keywordflow">return</span> &amp;g.IO.KeysData[key - ImGuiKey_NamedKey_BEGIN];</div>
<div class="line"><a id="l09411" name="l09411"></a><span class="lineno"> 9411</span>}</div>
<div class="line"><a id="l09412" name="l09412"></a><span class="lineno"> 9412</span> </div>
<div class="line"><a id="l09413" name="l09413"></a><span class="lineno"> 9413</span><span class="comment">// Those names are provided for debugging purpose and are not meant to be saved persistently nor compared.</span></div>
<div class="line"><a id="l09414" name="l09414"></a><span class="lineno"> 9414</span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> GKeyNames[] =</div>
<div class="line"><a id="l09415" name="l09415"></a><span class="lineno"> 9415</span>{</div>
<div class="line"><a id="l09416" name="l09416"></a><span class="lineno"> 9416</span>    <span class="stringliteral">&quot;Tab&quot;</span>, <span class="stringliteral">&quot;LeftArrow&quot;</span>, <span class="stringliteral">&quot;RightArrow&quot;</span>, <span class="stringliteral">&quot;UpArrow&quot;</span>, <span class="stringliteral">&quot;DownArrow&quot;</span>, <span class="stringliteral">&quot;PageUp&quot;</span>, <span class="stringliteral">&quot;PageDown&quot;</span>,</div>
<div class="line"><a id="l09417" name="l09417"></a><span class="lineno"> 9417</span>    <span class="stringliteral">&quot;Home&quot;</span>, <span class="stringliteral">&quot;End&quot;</span>, <span class="stringliteral">&quot;Insert&quot;</span>, <span class="stringliteral">&quot;Delete&quot;</span>, <span class="stringliteral">&quot;Backspace&quot;</span>, <span class="stringliteral">&quot;Space&quot;</span>, <span class="stringliteral">&quot;Enter&quot;</span>, <span class="stringliteral">&quot;Escape&quot;</span>,</div>
<div class="line"><a id="l09418" name="l09418"></a><span class="lineno"> 9418</span>    <span class="stringliteral">&quot;LeftCtrl&quot;</span>, <span class="stringliteral">&quot;LeftShift&quot;</span>, <span class="stringliteral">&quot;LeftAlt&quot;</span>, <span class="stringliteral">&quot;LeftSuper&quot;</span>, <span class="stringliteral">&quot;RightCtrl&quot;</span>, <span class="stringliteral">&quot;RightShift&quot;</span>, <span class="stringliteral">&quot;RightAlt&quot;</span>, <span class="stringliteral">&quot;RightSuper&quot;</span>, <span class="stringliteral">&quot;Menu&quot;</span>,</div>
<div class="line"><a id="l09419" name="l09419"></a><span class="lineno"> 9419</span>    <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;2&quot;</span>, <span class="stringliteral">&quot;3&quot;</span>, <span class="stringliteral">&quot;4&quot;</span>, <span class="stringliteral">&quot;5&quot;</span>, <span class="stringliteral">&quot;6&quot;</span>, <span class="stringliteral">&quot;7&quot;</span>, <span class="stringliteral">&quot;8&quot;</span>, <span class="stringliteral">&quot;9&quot;</span>, <span class="stringliteral">&quot;A&quot;</span>, <span class="stringliteral">&quot;B&quot;</span>, <span class="stringliteral">&quot;C&quot;</span>, <span class="stringliteral">&quot;D&quot;</span>, <span class="stringliteral">&quot;E&quot;</span>, <span class="stringliteral">&quot;F&quot;</span>, <span class="stringliteral">&quot;G&quot;</span>, <span class="stringliteral">&quot;H&quot;</span>,</div>
<div class="line"><a id="l09420" name="l09420"></a><span class="lineno"> 9420</span>    <span class="stringliteral">&quot;I&quot;</span>, <span class="stringliteral">&quot;J&quot;</span>, <span class="stringliteral">&quot;K&quot;</span>, <span class="stringliteral">&quot;L&quot;</span>, <span class="stringliteral">&quot;M&quot;</span>, <span class="stringliteral">&quot;N&quot;</span>, <span class="stringliteral">&quot;O&quot;</span>, <span class="stringliteral">&quot;P&quot;</span>, <span class="stringliteral">&quot;Q&quot;</span>, <span class="stringliteral">&quot;R&quot;</span>, <span class="stringliteral">&quot;S&quot;</span>, <span class="stringliteral">&quot;T&quot;</span>, <span class="stringliteral">&quot;U&quot;</span>, <span class="stringliteral">&quot;V&quot;</span>, <span class="stringliteral">&quot;W&quot;</span>, <span class="stringliteral">&quot;X&quot;</span>, <span class="stringliteral">&quot;Y&quot;</span>, <span class="stringliteral">&quot;Z&quot;</span>,</div>
<div class="line"><a id="l09421" name="l09421"></a><span class="lineno"> 9421</span>    <span class="stringliteral">&quot;F1&quot;</span>, <span class="stringliteral">&quot;F2&quot;</span>, <span class="stringliteral">&quot;F3&quot;</span>, <span class="stringliteral">&quot;F4&quot;</span>, <span class="stringliteral">&quot;F5&quot;</span>, <span class="stringliteral">&quot;F6&quot;</span>, <span class="stringliteral">&quot;F7&quot;</span>, <span class="stringliteral">&quot;F8&quot;</span>, <span class="stringliteral">&quot;F9&quot;</span>, <span class="stringliteral">&quot;F10&quot;</span>, <span class="stringliteral">&quot;F11&quot;</span>, <span class="stringliteral">&quot;F12&quot;</span>,</div>
<div class="line"><a id="l09422" name="l09422"></a><span class="lineno"> 9422</span>    <span class="stringliteral">&quot;F13&quot;</span>, <span class="stringliteral">&quot;F14&quot;</span>, <span class="stringliteral">&quot;F15&quot;</span>, <span class="stringliteral">&quot;F16&quot;</span>, <span class="stringliteral">&quot;F17&quot;</span>, <span class="stringliteral">&quot;F18&quot;</span>, <span class="stringliteral">&quot;F19&quot;</span>, <span class="stringliteral">&quot;F20&quot;</span>, <span class="stringliteral">&quot;F21&quot;</span>, <span class="stringliteral">&quot;F22&quot;</span>, <span class="stringliteral">&quot;F23&quot;</span>, <span class="stringliteral">&quot;F24&quot;</span>,</div>
<div class="line"><a id="l09423" name="l09423"></a><span class="lineno"> 9423</span>    <span class="stringliteral">&quot;Apostrophe&quot;</span>, <span class="stringliteral">&quot;Comma&quot;</span>, <span class="stringliteral">&quot;Minus&quot;</span>, <span class="stringliteral">&quot;Period&quot;</span>, <span class="stringliteral">&quot;Slash&quot;</span>, <span class="stringliteral">&quot;Semicolon&quot;</span>, <span class="stringliteral">&quot;Equal&quot;</span>, <span class="stringliteral">&quot;LeftBracket&quot;</span>,</div>
<div class="line"><a id="l09424" name="l09424"></a><span class="lineno"> 9424</span>    <span class="stringliteral">&quot;Backslash&quot;</span>, <span class="stringliteral">&quot;RightBracket&quot;</span>, <span class="stringliteral">&quot;GraveAccent&quot;</span>, <span class="stringliteral">&quot;CapsLock&quot;</span>, <span class="stringliteral">&quot;ScrollLock&quot;</span>, <span class="stringliteral">&quot;NumLock&quot;</span>, <span class="stringliteral">&quot;PrintScreen&quot;</span>,</div>
<div class="line"><a id="l09425" name="l09425"></a><span class="lineno"> 9425</span>    <span class="stringliteral">&quot;Pause&quot;</span>, <span class="stringliteral">&quot;Keypad0&quot;</span>, <span class="stringliteral">&quot;Keypad1&quot;</span>, <span class="stringliteral">&quot;Keypad2&quot;</span>, <span class="stringliteral">&quot;Keypad3&quot;</span>, <span class="stringliteral">&quot;Keypad4&quot;</span>, <span class="stringliteral">&quot;Keypad5&quot;</span>, <span class="stringliteral">&quot;Keypad6&quot;</span>,</div>
<div class="line"><a id="l09426" name="l09426"></a><span class="lineno"> 9426</span>    <span class="stringliteral">&quot;Keypad7&quot;</span>, <span class="stringliteral">&quot;Keypad8&quot;</span>, <span class="stringliteral">&quot;Keypad9&quot;</span>, <span class="stringliteral">&quot;KeypadDecimal&quot;</span>, <span class="stringliteral">&quot;KeypadDivide&quot;</span>, <span class="stringliteral">&quot;KeypadMultiply&quot;</span>,</div>
<div class="line"><a id="l09427" name="l09427"></a><span class="lineno"> 9427</span>    <span class="stringliteral">&quot;KeypadSubtract&quot;</span>, <span class="stringliteral">&quot;KeypadAdd&quot;</span>, <span class="stringliteral">&quot;KeypadEnter&quot;</span>, <span class="stringliteral">&quot;KeypadEqual&quot;</span>,</div>
<div class="line"><a id="l09428" name="l09428"></a><span class="lineno"> 9428</span>    <span class="stringliteral">&quot;AppBack&quot;</span>, <span class="stringliteral">&quot;AppForward&quot;</span>, <span class="stringliteral">&quot;Oem102&quot;</span>,</div>
<div class="line"><a id="l09429" name="l09429"></a><span class="lineno"> 9429</span>    <span class="stringliteral">&quot;GamepadStart&quot;</span>, <span class="stringliteral">&quot;GamepadBack&quot;</span>,</div>
<div class="line"><a id="l09430" name="l09430"></a><span class="lineno"> 9430</span>    <span class="stringliteral">&quot;GamepadFaceLeft&quot;</span>, <span class="stringliteral">&quot;GamepadFaceRight&quot;</span>, <span class="stringliteral">&quot;GamepadFaceUp&quot;</span>, <span class="stringliteral">&quot;GamepadFaceDown&quot;</span>,</div>
<div class="line"><a id="l09431" name="l09431"></a><span class="lineno"> 9431</span>    <span class="stringliteral">&quot;GamepadDpadLeft&quot;</span>, <span class="stringliteral">&quot;GamepadDpadRight&quot;</span>, <span class="stringliteral">&quot;GamepadDpadUp&quot;</span>, <span class="stringliteral">&quot;GamepadDpadDown&quot;</span>,</div>
<div class="line"><a id="l09432" name="l09432"></a><span class="lineno"> 9432</span>    <span class="stringliteral">&quot;GamepadL1&quot;</span>, <span class="stringliteral">&quot;GamepadR1&quot;</span>, <span class="stringliteral">&quot;GamepadL2&quot;</span>, <span class="stringliteral">&quot;GamepadR2&quot;</span>, <span class="stringliteral">&quot;GamepadL3&quot;</span>, <span class="stringliteral">&quot;GamepadR3&quot;</span>,</div>
<div class="line"><a id="l09433" name="l09433"></a><span class="lineno"> 9433</span>    <span class="stringliteral">&quot;GamepadLStickLeft&quot;</span>, <span class="stringliteral">&quot;GamepadLStickRight&quot;</span>, <span class="stringliteral">&quot;GamepadLStickUp&quot;</span>, <span class="stringliteral">&quot;GamepadLStickDown&quot;</span>,</div>
<div class="line"><a id="l09434" name="l09434"></a><span class="lineno"> 9434</span>    <span class="stringliteral">&quot;GamepadRStickLeft&quot;</span>, <span class="stringliteral">&quot;GamepadRStickRight&quot;</span>, <span class="stringliteral">&quot;GamepadRStickUp&quot;</span>, <span class="stringliteral">&quot;GamepadRStickDown&quot;</span>,</div>
<div class="line"><a id="l09435" name="l09435"></a><span class="lineno"> 9435</span>    <span class="stringliteral">&quot;MouseLeft&quot;</span>, <span class="stringliteral">&quot;MouseRight&quot;</span>, <span class="stringliteral">&quot;MouseMiddle&quot;</span>, <span class="stringliteral">&quot;MouseX1&quot;</span>, <span class="stringliteral">&quot;MouseX2&quot;</span>, <span class="stringliteral">&quot;MouseWheelX&quot;</span>, <span class="stringliteral">&quot;MouseWheelY&quot;</span>,</div>
<div class="line"><a id="l09436" name="l09436"></a><span class="lineno"> 9436</span>    <span class="stringliteral">&quot;ModCtrl&quot;</span>, <span class="stringliteral">&quot;ModShift&quot;</span>, <span class="stringliteral">&quot;ModAlt&quot;</span>, <span class="stringliteral">&quot;ModSuper&quot;</span>, <span class="comment">// ReservedForModXXX are showing the ModXXX names.</span></div>
<div class="line"><a id="l09437" name="l09437"></a><span class="lineno"> 9437</span>};</div>
<div class="line"><a id="l09438" name="l09438"></a><span class="lineno"> 9438</span>IM_STATIC_ASSERT(ImGuiKey_NamedKey_COUNT == IM_ARRAYSIZE(GKeyNames));</div>
<div class="line"><a id="l09439" name="l09439"></a><span class="lineno"> 9439</span> </div>
<div class="line"><a id="l09440" name="l09440"></a><span class="lineno"> 9440</span><span class="keyword">const</span> <span class="keywordtype">char</span>* ImGui::GetKeyName(ImGuiKey key)</div>
<div class="line"><a id="l09441" name="l09441"></a><span class="lineno"> 9441</span>{</div>
<div class="line"><a id="l09442" name="l09442"></a><span class="lineno"> 9442</span>    <span class="keywordflow">if</span> (key == ImGuiKey_None)</div>
<div class="line"><a id="l09443" name="l09443"></a><span class="lineno"> 9443</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;None&quot;</span>;</div>
<div class="line"><a id="l09444" name="l09444"></a><span class="lineno"> 9444</span>    IM_ASSERT(IsNamedKeyOrMod(key) &amp;&amp; <span class="stringliteral">&quot;Support for user key indices was dropped in favor of ImGuiKey. Please update backend and user code.&quot;</span>);</div>
<div class="line"><a id="l09445" name="l09445"></a><span class="lineno"> 9445</span>    <span class="keywordflow">if</span> (key &amp; ImGuiMod_Mask_)</div>
<div class="line"><a id="l09446" name="l09446"></a><span class="lineno"> 9446</span>        key = ConvertSingleModFlagToKey(key);</div>
<div class="line"><a id="l09447" name="l09447"></a><span class="lineno"> 9447</span>    <span class="keywordflow">if</span> (!IsNamedKey(key))</div>
<div class="line"><a id="l09448" name="l09448"></a><span class="lineno"> 9448</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unknown&quot;</span>;</div>
<div class="line"><a id="l09449" name="l09449"></a><span class="lineno"> 9449</span> </div>
<div class="line"><a id="l09450" name="l09450"></a><span class="lineno"> 9450</span>    <span class="keywordflow">return</span> GKeyNames[key - ImGuiKey_NamedKey_BEGIN];</div>
<div class="line"><a id="l09451" name="l09451"></a><span class="lineno"> 9451</span>}</div>
<div class="line"><a id="l09452" name="l09452"></a><span class="lineno"> 9452</span> </div>
<div class="line"><a id="l09453" name="l09453"></a><span class="lineno"> 9453</span><span class="comment">// Return untranslated names: on macOS, Cmd key will show as Ctrl, Ctrl key will show as super.</span></div>
<div class="line"><a id="l09454" name="l09454"></a><span class="lineno"> 9454</span><span class="comment">// Lifetime of return value: valid until next call to same function.</span></div>
<div class="line"><a id="l09455" name="l09455"></a><span class="lineno"> 9455</span><span class="keyword">const</span> <span class="keywordtype">char</span>* ImGui::GetKeyChordName(ImGuiKeyChord key_chord)</div>
<div class="line"><a id="l09456" name="l09456"></a><span class="lineno"> 9456</span>{</div>
<div class="line"><a id="l09457" name="l09457"></a><span class="lineno"> 9457</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09458" name="l09458"></a><span class="lineno"> 9458</span> </div>
<div class="line"><a id="l09459" name="l09459"></a><span class="lineno"> 9459</span>    <span class="keyword">const</span> ImGuiKey key = (ImGuiKey)(key_chord &amp; ~ImGuiMod_Mask_);</div>
<div class="line"><a id="l09460" name="l09460"></a><span class="lineno"> 9460</span>    <span class="keywordflow">if</span> (IsLRModKey(key))</div>
<div class="line"><a id="l09461" name="l09461"></a><span class="lineno"> 9461</span>        key_chord &amp;= ~GetModForLRModKey(key); <span class="comment">// Return &quot;Ctrl+LeftShift&quot; instead of &quot;Ctrl+Shift+LeftShift&quot;</span></div>
<div class="line"><a id="l09462" name="l09462"></a><span class="lineno"> 9462</span>    ImFormatString(g.TempKeychordName, IM_ARRAYSIZE(g.TempKeychordName), <span class="stringliteral">&quot;%s%s%s%s%s&quot;</span>,</div>
<div class="line"><a id="l09463" name="l09463"></a><span class="lineno"> 9463</span>        (key_chord &amp; ImGuiMod_Ctrl) ? <span class="stringliteral">&quot;Ctrl+&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l09464" name="l09464"></a><span class="lineno"> 9464</span>        (key_chord &amp; ImGuiMod_Shift) ? <span class="stringliteral">&quot;Shift+&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l09465" name="l09465"></a><span class="lineno"> 9465</span>        (key_chord &amp; ImGuiMod_Alt) ? <span class="stringliteral">&quot;Alt+&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l09466" name="l09466"></a><span class="lineno"> 9466</span>        (key_chord &amp; ImGuiMod_Super) ? <span class="stringliteral">&quot;Super+&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l09467" name="l09467"></a><span class="lineno"> 9467</span>        (key != ImGuiKey_None || key_chord == ImGuiKey_None) ? GetKeyName(key) : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a id="l09468" name="l09468"></a><span class="lineno"> 9468</span>    <span class="keywordtype">size_t</span> len;</div>
<div class="line"><a id="l09469" name="l09469"></a><span class="lineno"> 9469</span>    <span class="keywordflow">if</span> (key == ImGuiKey_None &amp;&amp; key_chord != 0)</div>
<div class="line"><a id="l09470" name="l09470"></a><span class="lineno"> 9470</span>        <span class="keywordflow">if</span> ((len = ImStrlen(g.TempKeychordName)) != 0) <span class="comment">// Remove trailing &#39;+&#39;</span></div>
<div class="line"><a id="l09471" name="l09471"></a><span class="lineno"> 9471</span>            g.TempKeychordName[len - 1] = 0;</div>
<div class="line"><a id="l09472" name="l09472"></a><span class="lineno"> 9472</span>    <span class="keywordflow">return</span> g.TempKeychordName;</div>
<div class="line"><a id="l09473" name="l09473"></a><span class="lineno"> 9473</span>}</div>
<div class="line"><a id="l09474" name="l09474"></a><span class="lineno"> 9474</span> </div>
<div class="line"><a id="l09475" name="l09475"></a><span class="lineno"> 9475</span><span class="comment">// t0 = previous time (e.g.: g.Time - g.IO.DeltaTime)</span></div>
<div class="line"><a id="l09476" name="l09476"></a><span class="lineno"> 9476</span><span class="comment">// t1 = current time (e.g.: g.Time)</span></div>
<div class="line"><a id="l09477" name="l09477"></a><span class="lineno"> 9477</span><span class="comment">// An event is triggered at:</span></div>
<div class="line"><a id="l09478" name="l09478"></a><span class="lineno"> 9478</span><span class="comment">//  t = 0.0f     t = repeat_delay,    t = repeat_delay + repeat_rate*N</span></div>
<div class="line"><a id="l09479" name="l09479"></a><span class="lineno"> 9479</span><span class="keywordtype">int</span> ImGui::CalcTypematicRepeatAmount(<span class="keywordtype">float</span> t0, <span class="keywordtype">float</span> t1, <span class="keywordtype">float</span> repeat_delay, <span class="keywordtype">float</span> repeat_rate)</div>
<div class="line"><a id="l09480" name="l09480"></a><span class="lineno"> 9480</span>{</div>
<div class="line"><a id="l09481" name="l09481"></a><span class="lineno"> 9481</span>    <span class="keywordflow">if</span> (t1 == 0.0f)</div>
<div class="line"><a id="l09482" name="l09482"></a><span class="lineno"> 9482</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l09483" name="l09483"></a><span class="lineno"> 9483</span>    <span class="keywordflow">if</span> (t0 &gt;= t1)</div>
<div class="line"><a id="l09484" name="l09484"></a><span class="lineno"> 9484</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09485" name="l09485"></a><span class="lineno"> 9485</span>    <span class="keywordflow">if</span> (repeat_rate &lt;= 0.0f)</div>
<div class="line"><a id="l09486" name="l09486"></a><span class="lineno"> 9486</span>        <span class="keywordflow">return</span> (t0 &lt; repeat_delay) &amp;&amp; (t1 &gt;= repeat_delay);</div>
<div class="line"><a id="l09487" name="l09487"></a><span class="lineno"> 9487</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> count_t0 = (t0 &lt; repeat_delay) ? -1 : (int)((t0 - repeat_delay) / repeat_rate);</div>
<div class="line"><a id="l09488" name="l09488"></a><span class="lineno"> 9488</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> count_t1 = (t1 &lt; repeat_delay) ? -1 : (int)((t1 - repeat_delay) / repeat_rate);</div>
<div class="line"><a id="l09489" name="l09489"></a><span class="lineno"> 9489</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> count = count_t1 - count_t0;</div>
<div class="line"><a id="l09490" name="l09490"></a><span class="lineno"> 9490</span>    <span class="keywordflow">return</span> count;</div>
<div class="line"><a id="l09491" name="l09491"></a><span class="lineno"> 9491</span>}</div>
<div class="line"><a id="l09492" name="l09492"></a><span class="lineno"> 9492</span> </div>
<div class="line"><a id="l09493" name="l09493"></a><span class="lineno"> 9493</span><span class="keywordtype">void</span> ImGui::GetTypematicRepeatRate(ImGuiInputFlags flags, <span class="keywordtype">float</span>* repeat_delay, <span class="keywordtype">float</span>* repeat_rate)</div>
<div class="line"><a id="l09494" name="l09494"></a><span class="lineno"> 9494</span>{</div>
<div class="line"><a id="l09495" name="l09495"></a><span class="lineno"> 9495</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09496" name="l09496"></a><span class="lineno"> 9496</span>    <span class="keywordflow">switch</span> (flags &amp; ImGuiInputFlags_RepeatRateMask_)</div>
<div class="line"><a id="l09497" name="l09497"></a><span class="lineno"> 9497</span>    {</div>
<div class="line"><a id="l09498" name="l09498"></a><span class="lineno"> 9498</span>    <span class="keywordflow">case</span> ImGuiInputFlags_RepeatRateNavMove:             *repeat_delay = g.IO.KeyRepeatDelay * 0.72f; *repeat_rate = g.IO.KeyRepeatRate * 0.80f; <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l09499" name="l09499"></a><span class="lineno"> 9499</span>    <span class="keywordflow">case</span> ImGuiInputFlags_RepeatRateNavTweak:            *repeat_delay = g.IO.KeyRepeatDelay * 0.72f; *repeat_rate = g.IO.KeyRepeatRate * 0.30f; <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l09500" name="l09500"></a><span class="lineno"> 9500</span>    <span class="keywordflow">case</span> ImGuiInputFlags_RepeatRateDefault: <span class="keywordflow">default</span>:    *repeat_delay = g.IO.KeyRepeatDelay * 1.00f; *repeat_rate = g.IO.KeyRepeatRate * 1.00f; <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l09501" name="l09501"></a><span class="lineno"> 9501</span>    }</div>
<div class="line"><a id="l09502" name="l09502"></a><span class="lineno"> 9502</span>}</div>
<div class="line"><a id="l09503" name="l09503"></a><span class="lineno"> 9503</span> </div>
<div class="line"><a id="l09504" name="l09504"></a><span class="lineno"> 9504</span><span class="comment">// Return value representing the number of presses in the last time period, for the given repeat rate</span></div>
<div class="line"><a id="l09505" name="l09505"></a><span class="lineno"> 9505</span><span class="comment">// (most often returns 0 or 1. The result is generally only &gt;1 when RepeatRate is smaller than DeltaTime, aka large DeltaTime or fast RepeatRate)</span></div>
<div class="line"><a id="l09506" name="l09506"></a><span class="lineno"> 9506</span><span class="keywordtype">int</span> ImGui::GetKeyPressedAmount(ImGuiKey key, <span class="keywordtype">float</span> repeat_delay, <span class="keywordtype">float</span> repeat_rate)</div>
<div class="line"><a id="l09507" name="l09507"></a><span class="lineno"> 9507</span>{</div>
<div class="line"><a id="l09508" name="l09508"></a><span class="lineno"> 9508</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09509" name="l09509"></a><span class="lineno"> 9509</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiKeyData.html">ImGuiKeyData</a>* key_data = GetKeyData(key);</div>
<div class="line"><a id="l09510" name="l09510"></a><span class="lineno"> 9510</span>    <span class="keywordflow">if</span> (!key_data-&gt;Down) <span class="comment">// In theory this should already be encoded as (DownDuration &lt; 0.0f), but testing this facilitates eating mechanism (until we finish work on key ownership)</span></div>
<div class="line"><a id="l09511" name="l09511"></a><span class="lineno"> 9511</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09512" name="l09512"></a><span class="lineno"> 9512</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> t = key_data-&gt;DownDuration;</div>
<div class="line"><a id="l09513" name="l09513"></a><span class="lineno"> 9513</span>    <span class="keywordflow">return</span> CalcTypematicRepeatAmount(t - g.IO.DeltaTime, t, repeat_delay, repeat_rate);</div>
<div class="line"><a id="l09514" name="l09514"></a><span class="lineno"> 9514</span>}</div>
<div class="line"><a id="l09515" name="l09515"></a><span class="lineno"> 9515</span> </div>
<div class="line"><a id="l09516" name="l09516"></a><span class="lineno"> 9516</span><span class="comment">// Return 2D vector representing the combination of four cardinal direction, with analog value support (for e.g. ImGuiKey_GamepadLStick* values).</span></div>
<div class="line"><a id="l09517" name="l09517"></a><span class="lineno"> 9517</span><a class="code hl_struct" href="structImVec2.html">ImVec2</a> ImGui::GetKeyMagnitude2d(ImGuiKey key_left, ImGuiKey key_right, ImGuiKey key_up, ImGuiKey key_down)</div>
<div class="line"><a id="l09518" name="l09518"></a><span class="lineno"> 9518</span>{</div>
<div class="line"><a id="l09519" name="l09519"></a><span class="lineno"> 9519</span>    <span class="keywordflow">return</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(</div>
<div class="line"><a id="l09520" name="l09520"></a><span class="lineno"> 9520</span>        GetKeyData(key_right)-&gt;AnalogValue - GetKeyData(key_left)-&gt;AnalogValue,</div>
<div class="line"><a id="l09521" name="l09521"></a><span class="lineno"> 9521</span>        GetKeyData(key_down)-&gt;AnalogValue - GetKeyData(key_up)-&gt;AnalogValue);</div>
<div class="line"><a id="l09522" name="l09522"></a><span class="lineno"> 9522</span>}</div>
<div class="line"><a id="l09523" name="l09523"></a><span class="lineno"> 9523</span> </div>
<div class="line"><a id="l09524" name="l09524"></a><span class="lineno"> 9524</span><span class="comment">// Rewrite routing data buffers to strip old entries + sort by key to make queries not touch scattered data.</span></div>
<div class="line"><a id="l09525" name="l09525"></a><span class="lineno"> 9525</span><span class="comment">//   Entries   D,A,B,B,A,C,B     --&gt; A,A,B,B,B,C,D</span></div>
<div class="line"><a id="l09526" name="l09526"></a><span class="lineno"> 9526</span><span class="comment">//   Index     A:1 B:2 C:5 D:0   --&gt; A:0 B:2 C:5 D:6</span></div>
<div class="line"><a id="l09527" name="l09527"></a><span class="lineno"> 9527</span><span class="comment">// See &#39;Metrics-&gt;Key Owners &amp; Shortcut Routing&#39; to visualize the result of that operation.</span></div>
<div class="line"><a id="l09528" name="l09528"></a><span class="lineno"> 9528</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::UpdateKeyRoutingTable(<a class="code hl_struct" href="structImGuiKeyRoutingTable.html">ImGuiKeyRoutingTable</a>* rt)</div>
<div class="line"><a id="l09529" name="l09529"></a><span class="lineno"> 9529</span>{</div>
<div class="line"><a id="l09530" name="l09530"></a><span class="lineno"> 9530</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09531" name="l09531"></a><span class="lineno"> 9531</span>    rt-&gt;EntriesNext.resize(0);</div>
<div class="line"><a id="l09532" name="l09532"></a><span class="lineno"> 9532</span>    <span class="keywordflow">for</span> (ImGuiKey key = ImGuiKey_NamedKey_BEGIN; key &lt; ImGuiKey_NamedKey_END; key = (ImGuiKey)(key + 1))</div>
<div class="line"><a id="l09533" name="l09533"></a><span class="lineno"> 9533</span>    {</div>
<div class="line"><a id="l09534" name="l09534"></a><span class="lineno"> 9534</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> new_routing_start_idx = rt-&gt;EntriesNext.Size;</div>
<div class="line"><a id="l09535" name="l09535"></a><span class="lineno"> 9535</span>        <a class="code hl_struct" href="structImGuiKeyRoutingData.html">ImGuiKeyRoutingData</a>* routing_entry;</div>
<div class="line"><a id="l09536" name="l09536"></a><span class="lineno"> 9536</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> old_routing_idx = rt-&gt;Index[key - ImGuiKey_NamedKey_BEGIN]; old_routing_idx != -1; old_routing_idx = routing_entry-&gt;NextEntryIndex)</div>
<div class="line"><a id="l09537" name="l09537"></a><span class="lineno"> 9537</span>        {</div>
<div class="line"><a id="l09538" name="l09538"></a><span class="lineno"> 9538</span>            routing_entry = &amp;rt-&gt;Entries[old_routing_idx];</div>
<div class="line"><a id="l09539" name="l09539"></a><span class="lineno"> 9539</span>            routing_entry-&gt;RoutingCurrScore = routing_entry-&gt;RoutingNextScore;</div>
<div class="line"><a id="l09540" name="l09540"></a><span class="lineno"> 9540</span>            routing_entry-&gt;RoutingCurr = routing_entry-&gt;RoutingNext; <span class="comment">// Update entry</span></div>
<div class="line"><a id="l09541" name="l09541"></a><span class="lineno"> 9541</span>            routing_entry-&gt;RoutingNext = ImGuiKeyOwner_NoOwner;</div>
<div class="line"><a id="l09542" name="l09542"></a><span class="lineno"> 9542</span>            routing_entry-&gt;RoutingNextScore = 255;</div>
<div class="line"><a id="l09543" name="l09543"></a><span class="lineno"> 9543</span>            <span class="keywordflow">if</span> (routing_entry-&gt;RoutingCurr == ImGuiKeyOwner_NoOwner)</div>
<div class="line"><a id="l09544" name="l09544"></a><span class="lineno"> 9544</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l09545" name="l09545"></a><span class="lineno"> 9545</span>            rt-&gt;EntriesNext.push_back(*routing_entry); <span class="comment">// Write alive ones into new buffer</span></div>
<div class="line"><a id="l09546" name="l09546"></a><span class="lineno"> 9546</span> </div>
<div class="line"><a id="l09547" name="l09547"></a><span class="lineno"> 9547</span>            <span class="comment">// Apply routing to owner if there&#39;s no owner already (RoutingCurr == None at this point)</span></div>
<div class="line"><a id="l09548" name="l09548"></a><span class="lineno"> 9548</span>            <span class="comment">// This is the result of previous frame&#39;s SetShortcutRouting() call.</span></div>
<div class="line"><a id="l09549" name="l09549"></a><span class="lineno"> 9549</span>            <span class="keywordflow">if</span> (routing_entry-&gt;Mods == g.IO.KeyMods)</div>
<div class="line"><a id="l09550" name="l09550"></a><span class="lineno"> 9550</span>            {</div>
<div class="line"><a id="l09551" name="l09551"></a><span class="lineno"> 9551</span>                <a class="code hl_struct" href="structImGuiKeyOwnerData.html">ImGuiKeyOwnerData</a>* owner_data = GetKeyOwnerData(&amp;g, key);</div>
<div class="line"><a id="l09552" name="l09552"></a><span class="lineno"> 9552</span>                <span class="keywordflow">if</span> (owner_data-&gt;OwnerCurr == ImGuiKeyOwner_NoOwner)</div>
<div class="line"><a id="l09553" name="l09553"></a><span class="lineno"> 9553</span>                {</div>
<div class="line"><a id="l09554" name="l09554"></a><span class="lineno"> 9554</span>                    owner_data-&gt;OwnerCurr = routing_entry-&gt;RoutingCurr;</div>
<div class="line"><a id="l09555" name="l09555"></a><span class="lineno"> 9555</span>                    <span class="comment">//IMGUI_DEBUG_LOG(&quot;SetKeyOwner(%s, owner_id=0x%08X) via Routing\n&quot;, GetKeyName(key), routing_entry-&gt;RoutingCurr);</span></div>
<div class="line"><a id="l09556" name="l09556"></a><span class="lineno"> 9556</span>                }</div>
<div class="line"><a id="l09557" name="l09557"></a><span class="lineno"> 9557</span>            }</div>
<div class="line"><a id="l09558" name="l09558"></a><span class="lineno"> 9558</span>        }</div>
<div class="line"><a id="l09559" name="l09559"></a><span class="lineno"> 9559</span> </div>
<div class="line"><a id="l09560" name="l09560"></a><span class="lineno"> 9560</span>        <span class="comment">// Rewrite linked-list</span></div>
<div class="line"><a id="l09561" name="l09561"></a><span class="lineno"> 9561</span>        rt-&gt;Index[key - ImGuiKey_NamedKey_BEGIN] = (ImGuiKeyRoutingIndex)(new_routing_start_idx &lt; rt-&gt;EntriesNext.Size ? new_routing_start_idx : -1);</div>
<div class="line"><a id="l09562" name="l09562"></a><span class="lineno"> 9562</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = new_routing_start_idx; n &lt; rt-&gt;EntriesNext.Size; n++)</div>
<div class="line"><a id="l09563" name="l09563"></a><span class="lineno"> 9563</span>            rt-&gt;EntriesNext[n].NextEntryIndex = (ImGuiKeyRoutingIndex)((n + 1 &lt; rt-&gt;EntriesNext.Size) ? n + 1 : -1);</div>
<div class="line"><a id="l09564" name="l09564"></a><span class="lineno"> 9564</span>    }</div>
<div class="line"><a id="l09565" name="l09565"></a><span class="lineno"> 9565</span>    rt-&gt;Entries.swap(rt-&gt;EntriesNext); <span class="comment">// Swap new and old indexes</span></div>
<div class="line"><a id="l09566" name="l09566"></a><span class="lineno"> 9566</span>}</div>
<div class="line"><a id="l09567" name="l09567"></a><span class="lineno"> 9567</span> </div>
<div class="line"><a id="l09568" name="l09568"></a><span class="lineno"> 9568</span><span class="comment">// owner_id may be None/Any, but routing_id needs to be always be set, so we default to GetCurrentFocusScope().</span></div>
<div class="line"><a id="l09569" name="l09569"></a><span class="lineno"> 9569</span><span class="keyword">static</span> <span class="keyword">inline</span> ImGuiID GetRoutingIdFromOwnerId(ImGuiID owner_id)</div>
<div class="line"><a id="l09570" name="l09570"></a><span class="lineno"> 9570</span>{</div>
<div class="line"><a id="l09571" name="l09571"></a><span class="lineno"> 9571</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09572" name="l09572"></a><span class="lineno"> 9572</span>    <span class="keywordflow">return</span> (owner_id != ImGuiKeyOwner_NoOwner &amp;&amp; owner_id != ImGuiKeyOwner_Any) ? owner_id : g.CurrentFocusScopeId;</div>
<div class="line"><a id="l09573" name="l09573"></a><span class="lineno"> 9573</span>}</div>
<div class="line"><a id="l09574" name="l09574"></a><span class="lineno"> 9574</span> </div>
<div class="line"><a id="l09575" name="l09575"></a><span class="lineno"> 9575</span><a class="code hl_struct" href="structImGuiKeyRoutingData.html">ImGuiKeyRoutingData</a>* ImGui::GetShortcutRoutingData(ImGuiKeyChord key_chord)</div>
<div class="line"><a id="l09576" name="l09576"></a><span class="lineno"> 9576</span>{</div>
<div class="line"><a id="l09577" name="l09577"></a><span class="lineno"> 9577</span>    <span class="comment">// Majority of shortcuts will be Key + any number of Mods</span></div>
<div class="line"><a id="l09578" name="l09578"></a><span class="lineno"> 9578</span>    <span class="comment">// We accept _Single_ mod with ImGuiKey_None.</span></div>
<div class="line"><a id="l09579" name="l09579"></a><span class="lineno"> 9579</span>    <span class="comment">//  - Shortcut(ImGuiKey_S | ImGuiMod_Ctrl);                    // Legal</span></div>
<div class="line"><a id="l09580" name="l09580"></a><span class="lineno"> 9580</span>    <span class="comment">//  - Shortcut(ImGuiKey_S | ImGuiMod_Ctrl | ImGuiMod_Shift);   // Legal</span></div>
<div class="line"><a id="l09581" name="l09581"></a><span class="lineno"> 9581</span>    <span class="comment">//  - Shortcut(ImGuiMod_Ctrl);                                 // Legal</span></div>
<div class="line"><a id="l09582" name="l09582"></a><span class="lineno"> 9582</span>    <span class="comment">//  - Shortcut(ImGuiMod_Ctrl | ImGuiMod_Shift);                // Not legal</span></div>
<div class="line"><a id="l09583" name="l09583"></a><span class="lineno"> 9583</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09584" name="l09584"></a><span class="lineno"> 9584</span>    <a class="code hl_struct" href="structImGuiKeyRoutingTable.html">ImGuiKeyRoutingTable</a>* rt = &amp;g.KeysRoutingTable;</div>
<div class="line"><a id="l09585" name="l09585"></a><span class="lineno"> 9585</span>    <a class="code hl_struct" href="structImGuiKeyRoutingData.html">ImGuiKeyRoutingData</a>* routing_data;</div>
<div class="line"><a id="l09586" name="l09586"></a><span class="lineno"> 9586</span>    ImGuiKey key = (ImGuiKey)(key_chord &amp; ~ImGuiMod_Mask_);</div>
<div class="line"><a id="l09587" name="l09587"></a><span class="lineno"> 9587</span>    ImGuiKey mods = (ImGuiKey)(key_chord &amp; ImGuiMod_Mask_);</div>
<div class="line"><a id="l09588" name="l09588"></a><span class="lineno"> 9588</span>    <span class="keywordflow">if</span> (key == ImGuiKey_None)</div>
<div class="line"><a id="l09589" name="l09589"></a><span class="lineno"> 9589</span>        key = ConvertSingleModFlagToKey(mods);</div>
<div class="line"><a id="l09590" name="l09590"></a><span class="lineno"> 9590</span>    IM_ASSERT(IsNamedKey(key));</div>
<div class="line"><a id="l09591" name="l09591"></a><span class="lineno"> 9591</span> </div>
<div class="line"><a id="l09592" name="l09592"></a><span class="lineno"> 9592</span>    <span class="comment">// Get (in the majority of case, the linked list will have one element so this should be 2 reads.</span></div>
<div class="line"><a id="l09593" name="l09593"></a><span class="lineno"> 9593</span>    <span class="comment">// Subsequent elements will be contiguous in memory as list is sorted/rebuilt in NewFrame).</span></div>
<div class="line"><a id="l09594" name="l09594"></a><span class="lineno"> 9594</span>    <span class="keywordflow">for</span> (ImGuiKeyRoutingIndex idx = rt-&gt;Index[key - ImGuiKey_NamedKey_BEGIN]; idx != -1; idx = routing_data-&gt;NextEntryIndex)</div>
<div class="line"><a id="l09595" name="l09595"></a><span class="lineno"> 9595</span>    {</div>
<div class="line"><a id="l09596" name="l09596"></a><span class="lineno"> 9596</span>        routing_data = &amp;rt-&gt;Entries[idx];</div>
<div class="line"><a id="l09597" name="l09597"></a><span class="lineno"> 9597</span>        <span class="keywordflow">if</span> (routing_data-&gt;Mods == mods)</div>
<div class="line"><a id="l09598" name="l09598"></a><span class="lineno"> 9598</span>            <span class="keywordflow">return</span> routing_data;</div>
<div class="line"><a id="l09599" name="l09599"></a><span class="lineno"> 9599</span>    }</div>
<div class="line"><a id="l09600" name="l09600"></a><span class="lineno"> 9600</span> </div>
<div class="line"><a id="l09601" name="l09601"></a><span class="lineno"> 9601</span>    <span class="comment">// Add to linked-list</span></div>
<div class="line"><a id="l09602" name="l09602"></a><span class="lineno"> 9602</span>    ImGuiKeyRoutingIndex routing_data_idx = (ImGuiKeyRoutingIndex)rt-&gt;Entries.Size;</div>
<div class="line"><a id="l09603" name="l09603"></a><span class="lineno"> 9603</span>    rt-&gt;Entries.push_back(<a class="code hl_struct" href="structImGuiKeyRoutingData.html">ImGuiKeyRoutingData</a>());</div>
<div class="line"><a id="l09604" name="l09604"></a><span class="lineno"> 9604</span>    routing_data = &amp;rt-&gt;Entries[routing_data_idx];</div>
<div class="line"><a id="l09605" name="l09605"></a><span class="lineno"> 9605</span>    routing_data-&gt;Mods = (ImU16)mods;</div>
<div class="line"><a id="l09606" name="l09606"></a><span class="lineno"> 9606</span>    routing_data-&gt;NextEntryIndex = rt-&gt;Index[key - ImGuiKey_NamedKey_BEGIN]; <span class="comment">// Setup linked list</span></div>
<div class="line"><a id="l09607" name="l09607"></a><span class="lineno"> 9607</span>    rt-&gt;Index[key - ImGuiKey_NamedKey_BEGIN] = routing_data_idx;</div>
<div class="line"><a id="l09608" name="l09608"></a><span class="lineno"> 9608</span>    <span class="keywordflow">return</span> routing_data;</div>
<div class="line"><a id="l09609" name="l09609"></a><span class="lineno"> 9609</span>}</div>
<div class="line"><a id="l09610" name="l09610"></a><span class="lineno"> 9610</span> </div>
<div class="line"><a id="l09611" name="l09611"></a><span class="lineno"> 9611</span><span class="comment">// Current score encoding (lower is highest priority):</span></div>
<div class="line"><a id="l09612" name="l09612"></a><span class="lineno"> 9612</span><span class="comment">//  -   0: ImGuiInputFlags_RouteGlobal | ImGuiInputFlags_RouteOverActive</span></div>
<div class="line"><a id="l09613" name="l09613"></a><span class="lineno"> 9613</span><span class="comment">//  -   1: ImGuiInputFlags_ActiveItem or ImGuiInputFlags_RouteFocused (if item active)</span></div>
<div class="line"><a id="l09614" name="l09614"></a><span class="lineno"> 9614</span><span class="comment">//  -   2: ImGuiInputFlags_RouteGlobal | ImGuiInputFlags_RouteOverFocused</span></div>
<div class="line"><a id="l09615" name="l09615"></a><span class="lineno"> 9615</span><span class="comment">//  -  3+: ImGuiInputFlags_RouteFocused (if window in focus-stack)</span></div>
<div class="line"><a id="l09616" name="l09616"></a><span class="lineno"> 9616</span><span class="comment">//  - 254: ImGuiInputFlags_RouteGlobal</span></div>
<div class="line"><a id="l09617" name="l09617"></a><span class="lineno"> 9617</span><span class="comment">//  - 255: never route</span></div>
<div class="line"><a id="l09618" name="l09618"></a><span class="lineno"> 9618</span><span class="comment">// &#39;flags&#39; should include an explicit routing policy</span></div>
<div class="line"><a id="l09619" name="l09619"></a><span class="lineno"> 9619</span><span class="keyword">static</span> <span class="keywordtype">int</span> CalcRoutingScore(ImGuiID focus_scope_id, ImGuiID owner_id, ImGuiInputFlags flags)</div>
<div class="line"><a id="l09620" name="l09620"></a><span class="lineno"> 9620</span>{</div>
<div class="line"><a id="l09621" name="l09621"></a><span class="lineno"> 9621</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09622" name="l09622"></a><span class="lineno"> 9622</span>    <span class="keywordflow">if</span> (flags &amp; ImGuiInputFlags_RouteFocused)</div>
<div class="line"><a id="l09623" name="l09623"></a><span class="lineno"> 9623</span>    {</div>
<div class="line"><a id="l09624" name="l09624"></a><span class="lineno"> 9624</span>        <span class="comment">// ActiveID gets top priority</span></div>
<div class="line"><a id="l09625" name="l09625"></a><span class="lineno"> 9625</span>        <span class="comment">// (we don&#39;t check g.ActiveIdUsingAllKeys here. Routing is applied but if input ownership is tested later it may discard it)</span></div>
<div class="line"><a id="l09626" name="l09626"></a><span class="lineno"> 9626</span>        <span class="keywordflow">if</span> (owner_id != 0 &amp;&amp; g.ActiveId == owner_id)</div>
<div class="line"><a id="l09627" name="l09627"></a><span class="lineno"> 9627</span>            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l09628" name="l09628"></a><span class="lineno"> 9628</span> </div>
<div class="line"><a id="l09629" name="l09629"></a><span class="lineno"> 9629</span>        <span class="comment">// Score based on distance to focused window (lower is better)</span></div>
<div class="line"><a id="l09630" name="l09630"></a><span class="lineno"> 9630</span>        <span class="comment">// Assuming both windows are submitting a routing request,</span></div>
<div class="line"><a id="l09631" name="l09631"></a><span class="lineno"> 9631</span>        <span class="comment">// - When Window....... is focused -&gt; Window scores 3 (best), Window/ChildB scores 255 (no match)</span></div>
<div class="line"><a id="l09632" name="l09632"></a><span class="lineno"> 9632</span>        <span class="comment">// - When Window/ChildB is focused -&gt; Window scores 4,        Window/ChildB scores 3 (best)</span></div>
<div class="line"><a id="l09633" name="l09633"></a><span class="lineno"> 9633</span>        <span class="comment">// Assuming only WindowA is submitting a routing request,</span></div>
<div class="line"><a id="l09634" name="l09634"></a><span class="lineno"> 9634</span>        <span class="comment">// - When Window/ChildB is focused -&gt; Window scores 4 (best), Window/ChildB doesn&#39;t have a score.</span></div>
<div class="line"><a id="l09635" name="l09635"></a><span class="lineno"> 9635</span>        <span class="comment">// This essentially follow the window-&gt;ParentWindowForFocusRoute chain.</span></div>
<div class="line"><a id="l09636" name="l09636"></a><span class="lineno"> 9636</span>        <span class="keywordflow">if</span> (focus_scope_id == 0)</div>
<div class="line"><a id="l09637" name="l09637"></a><span class="lineno"> 9637</span>            <span class="keywordflow">return</span> 255;</div>
<div class="line"><a id="l09638" name="l09638"></a><span class="lineno"> 9638</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> index_in_focus_path = 0; index_in_focus_path &lt; g.NavFocusRoute.Size; index_in_focus_path++)</div>
<div class="line"><a id="l09639" name="l09639"></a><span class="lineno"> 9639</span>            <span class="keywordflow">if</span> (g.NavFocusRoute.Data[index_in_focus_path].ID == focus_scope_id)</div>
<div class="line"><a id="l09640" name="l09640"></a><span class="lineno"> 9640</span>                <span class="keywordflow">return</span> 3 + index_in_focus_path;</div>
<div class="line"><a id="l09641" name="l09641"></a><span class="lineno"> 9641</span>        <span class="keywordflow">return</span> 255;</div>
<div class="line"><a id="l09642" name="l09642"></a><span class="lineno"> 9642</span>    }</div>
<div class="line"><a id="l09643" name="l09643"></a><span class="lineno"> 9643</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags &amp; ImGuiInputFlags_RouteActive)</div>
<div class="line"><a id="l09644" name="l09644"></a><span class="lineno"> 9644</span>    {</div>
<div class="line"><a id="l09645" name="l09645"></a><span class="lineno"> 9645</span>        <span class="keywordflow">if</span> (owner_id != 0 &amp;&amp; g.ActiveId == owner_id)</div>
<div class="line"><a id="l09646" name="l09646"></a><span class="lineno"> 9646</span>            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l09647" name="l09647"></a><span class="lineno"> 9647</span>        <span class="keywordflow">return</span> 255;</div>
<div class="line"><a id="l09648" name="l09648"></a><span class="lineno"> 9648</span>    }</div>
<div class="line"><a id="l09649" name="l09649"></a><span class="lineno"> 9649</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags &amp; ImGuiInputFlags_RouteGlobal)</div>
<div class="line"><a id="l09650" name="l09650"></a><span class="lineno"> 9650</span>    {</div>
<div class="line"><a id="l09651" name="l09651"></a><span class="lineno"> 9651</span>        <span class="keywordflow">if</span> (flags &amp; ImGuiInputFlags_RouteOverActive)</div>
<div class="line"><a id="l09652" name="l09652"></a><span class="lineno"> 9652</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09653" name="l09653"></a><span class="lineno"> 9653</span>        <span class="keywordflow">if</span> (flags &amp; ImGuiInputFlags_RouteOverFocused)</div>
<div class="line"><a id="l09654" name="l09654"></a><span class="lineno"> 9654</span>            <span class="keywordflow">return</span> 2;</div>
<div class="line"><a id="l09655" name="l09655"></a><span class="lineno"> 9655</span>        <span class="keywordflow">return</span> 254;</div>
<div class="line"><a id="l09656" name="l09656"></a><span class="lineno"> 9656</span>    }</div>
<div class="line"><a id="l09657" name="l09657"></a><span class="lineno"> 9657</span>    IM_ASSERT(0);</div>
<div class="line"><a id="l09658" name="l09658"></a><span class="lineno"> 9658</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l09659" name="l09659"></a><span class="lineno"> 9659</span>}</div>
<div class="line"><a id="l09660" name="l09660"></a><span class="lineno"> 9660</span> </div>
<div class="line"><a id="l09661" name="l09661"></a><span class="lineno"> 9661</span><span class="comment">// - We need this to filter some Shortcut() routes when an item e.g. an InputText() is active</span></div>
<div class="line"><a id="l09662" name="l09662"></a><span class="lineno"> 9662</span><span class="comment">//   e.g. ImGuiKey_G won&#39;t be considered a shortcut when item is active, but ImGuiMod|ImGuiKey_G can be.</span></div>
<div class="line"><a id="l09663" name="l09663"></a><span class="lineno"> 9663</span><span class="comment">// - This is also used by UpdateInputEvents() to avoid trickling in the most common case of e.g. pressing ImGuiKey_G also emitting a G character.</span></div>
<div class="line"><a id="l09664" name="l09664"></a><span class="lineno"> 9664</span><span class="keyword">static</span> <span class="keywordtype">bool</span> IsKeyChordPotentiallyCharInput(ImGuiKeyChord key_chord)</div>
<div class="line"><a id="l09665" name="l09665"></a><span class="lineno"> 9665</span>{</div>
<div class="line"><a id="l09666" name="l09666"></a><span class="lineno"> 9666</span>    <span class="comment">// Mimic &#39;ignore_char_inputs&#39; logic in InputText()</span></div>
<div class="line"><a id="l09667" name="l09667"></a><span class="lineno"> 9667</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09668" name="l09668"></a><span class="lineno"> 9668</span> </div>
<div class="line"><a id="l09669" name="l09669"></a><span class="lineno"> 9669</span>    <span class="comment">// When the right mods are pressed it cannot be a char input so we won&#39;t filter the shortcut out.</span></div>
<div class="line"><a id="l09670" name="l09670"></a><span class="lineno"> 9670</span>    ImGuiKey mods = (ImGuiKey)(key_chord &amp; ImGuiMod_Mask_);</div>
<div class="line"><a id="l09671" name="l09671"></a><span class="lineno"> 9671</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> ignore_char_inputs = ((mods &amp; ImGuiMod_Ctrl) &amp;&amp; !(mods &amp; ImGuiMod_Alt)) || (g.IO.ConfigMacOSXBehaviors &amp;&amp; (mods &amp; ImGuiMod_Ctrl));</div>
<div class="line"><a id="l09672" name="l09672"></a><span class="lineno"> 9672</span>    <span class="keywordflow">if</span> (ignore_char_inputs)</div>
<div class="line"><a id="l09673" name="l09673"></a><span class="lineno"> 9673</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09674" name="l09674"></a><span class="lineno"> 9674</span> </div>
<div class="line"><a id="l09675" name="l09675"></a><span class="lineno"> 9675</span>    <span class="comment">// Return true for A-Z, 0-9 and other keys associated to char inputs. Other keys such as F1-F12 won&#39;t be filtered.</span></div>
<div class="line"><a id="l09676" name="l09676"></a><span class="lineno"> 9676</span>    ImGuiKey key = (ImGuiKey)(key_chord &amp; ~ImGuiMod_Mask_);</div>
<div class="line"><a id="l09677" name="l09677"></a><span class="lineno"> 9677</span>    <span class="keywordflow">if</span> (key == ImGuiKey_None)</div>
<div class="line"><a id="l09678" name="l09678"></a><span class="lineno"> 9678</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09679" name="l09679"></a><span class="lineno"> 9679</span>    <span class="keywordflow">return</span> g.KeysMayBeCharInput.TestBit(key);</div>
<div class="line"><a id="l09680" name="l09680"></a><span class="lineno"> 9680</span>}</div>
<div class="line"><a id="l09681" name="l09681"></a><span class="lineno"> 9681</span> </div>
<div class="line"><a id="l09682" name="l09682"></a><span class="lineno"> 9682</span><span class="comment">// Request a desired route for an input chord (key + mods).</span></div>
<div class="line"><a id="l09683" name="l09683"></a><span class="lineno"> 9683</span><span class="comment">// Return true if the route is available this frame.</span></div>
<div class="line"><a id="l09684" name="l09684"></a><span class="lineno"> 9684</span><span class="comment">// - Routes and key ownership are attributed at the beginning of next frame based on best score and mod state.</span></div>
<div class="line"><a id="l09685" name="l09685"></a><span class="lineno"> 9685</span><span class="comment">//   (Conceptually this does a &quot;Submit for next frame&quot; + &quot;Test for current frame&quot;.</span></div>
<div class="line"><a id="l09686" name="l09686"></a><span class="lineno"> 9686</span><span class="comment">//   As such, it could be called TrySetXXX or SubmitXXX, or the Submit and Test operations should be separate.)</span></div>
<div class="line"><a id="l09687" name="l09687"></a><span class="lineno"> 9687</span><span class="keywordtype">bool</span> ImGui::SetShortcutRouting(ImGuiKeyChord key_chord, ImGuiInputFlags flags, ImGuiID owner_id)</div>
<div class="line"><a id="l09688" name="l09688"></a><span class="lineno"> 9688</span>{</div>
<div class="line"><a id="l09689" name="l09689"></a><span class="lineno"> 9689</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09690" name="l09690"></a><span class="lineno"> 9690</span>    <span class="keywordflow">if</span> ((flags &amp; ImGuiInputFlags_RouteTypeMask_) == 0)</div>
<div class="line"><a id="l09691" name="l09691"></a><span class="lineno"> 9691</span>        flags |= ImGuiInputFlags_RouteGlobal | ImGuiInputFlags_RouteOverFocused | ImGuiInputFlags_RouteOverActive; <span class="comment">// IMPORTANT: This is the default for SetShortcutRouting() but NOT Shortcut()</span></div>
<div class="line"><a id="l09692" name="l09692"></a><span class="lineno"> 9692</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l09693" name="l09693"></a><span class="lineno"> 9693</span>        IM_ASSERT(ImIsPowerOfTwo(flags &amp; ImGuiInputFlags_RouteTypeMask_)); <span class="comment">// Check that only 1 routing flag is used</span></div>
<div class="line"><a id="l09694" name="l09694"></a><span class="lineno"> 9694</span>    IM_ASSERT(owner_id != ImGuiKeyOwner_Any &amp;&amp; owner_id != ImGuiKeyOwner_NoOwner);</div>
<div class="line"><a id="l09695" name="l09695"></a><span class="lineno"> 9695</span>    <span class="keywordflow">if</span> (flags &amp; (ImGuiInputFlags_RouteOverFocused | ImGuiInputFlags_RouteOverActive | ImGuiInputFlags_RouteUnlessBgFocused))</div>
<div class="line"><a id="l09696" name="l09696"></a><span class="lineno"> 9696</span>        IM_ASSERT(flags &amp; ImGuiInputFlags_RouteGlobal);</div>
<div class="line"><a id="l09697" name="l09697"></a><span class="lineno"> 9697</span> </div>
<div class="line"><a id="l09698" name="l09698"></a><span class="lineno"> 9698</span>    <span class="comment">// Add ImGuiMod_XXXX when a corresponding ImGuiKey_LeftXXX/ImGuiKey_RightXXX is specified.</span></div>
<div class="line"><a id="l09699" name="l09699"></a><span class="lineno"> 9699</span>    key_chord = FixupKeyChord(key_chord);</div>
<div class="line"><a id="l09700" name="l09700"></a><span class="lineno"> 9700</span> </div>
<div class="line"><a id="l09701" name="l09701"></a><span class="lineno"> 9701</span>    <span class="comment">// [DEBUG] Debug break requested by user</span></div>
<div class="line"><a id="l09702" name="l09702"></a><span class="lineno"> 9702</span>    <span class="keywordflow">if</span> (g.DebugBreakInShortcutRouting == key_chord)</div>
<div class="line"><a id="l09703" name="l09703"></a><span class="lineno"> 9703</span>        IM_DEBUG_BREAK();</div>
<div class="line"><a id="l09704" name="l09704"></a><span class="lineno"> 9704</span> </div>
<div class="line"><a id="l09705" name="l09705"></a><span class="lineno"> 9705</span>    <span class="keywordflow">if</span> (flags &amp; ImGuiInputFlags_RouteUnlessBgFocused)</div>
<div class="line"><a id="l09706" name="l09706"></a><span class="lineno"> 9706</span>        <span class="keywordflow">if</span> (g.NavWindow == NULL)</div>
<div class="line"><a id="l09707" name="l09707"></a><span class="lineno"> 9707</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09708" name="l09708"></a><span class="lineno"> 9708</span> </div>
<div class="line"><a id="l09709" name="l09709"></a><span class="lineno"> 9709</span>    <span class="comment">// Note how ImGuiInputFlags_RouteAlways won&#39;t set routing and thus won&#39;t set owner. May want to rework this?</span></div>
<div class="line"><a id="l09710" name="l09710"></a><span class="lineno"> 9710</span>    <span class="keywordflow">if</span> (flags &amp; ImGuiInputFlags_RouteAlways)</div>
<div class="line"><a id="l09711" name="l09711"></a><span class="lineno"> 9711</span>    {</div>
<div class="line"><a id="l09712" name="l09712"></a><span class="lineno"> 9712</span>        IMGUI_DEBUG_LOG_INPUTROUTING(<span class="stringliteral">&quot;SetShortcutRouting(%s, flags=%04X, owner_id=0x%08X) -&gt; always, no register\n&quot;</span>, GetKeyChordName(key_chord), flags, owner_id);</div>
<div class="line"><a id="l09713" name="l09713"></a><span class="lineno"> 9713</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l09714" name="l09714"></a><span class="lineno"> 9714</span>    }</div>
<div class="line"><a id="l09715" name="l09715"></a><span class="lineno"> 9715</span> </div>
<div class="line"><a id="l09716" name="l09716"></a><span class="lineno"> 9716</span>    <span class="comment">// Specific culling when there&#39;s an active item.</span></div>
<div class="line"><a id="l09717" name="l09717"></a><span class="lineno"> 9717</span>    <span class="keywordflow">if</span> (g.ActiveId != 0 &amp;&amp; g.ActiveId != owner_id)</div>
<div class="line"><a id="l09718" name="l09718"></a><span class="lineno"> 9718</span>    {</div>
<div class="line"><a id="l09719" name="l09719"></a><span class="lineno"> 9719</span>        <span class="keywordflow">if</span> (flags &amp; ImGuiInputFlags_RouteActive)</div>
<div class="line"><a id="l09720" name="l09720"></a><span class="lineno"> 9720</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09721" name="l09721"></a><span class="lineno"> 9721</span> </div>
<div class="line"><a id="l09722" name="l09722"></a><span class="lineno"> 9722</span>        <span class="comment">// Cull shortcuts with no modifiers when it could generate a character.</span></div>
<div class="line"><a id="l09723" name="l09723"></a><span class="lineno"> 9723</span>        <span class="comment">// e.g. Shortcut(ImGuiKey_G) also generates &#39;g&#39; character, should not trigger when InputText() is active.</span></div>
<div class="line"><a id="l09724" name="l09724"></a><span class="lineno"> 9724</span>        <span class="comment">// but  Shortcut(Ctrl+G) should generally trigger when InputText() is active.</span></div>
<div class="line"><a id="l09725" name="l09725"></a><span class="lineno"> 9725</span>        <span class="comment">// TL;DR: lettered shortcut with no mods or with only Alt mod will not trigger while an item reading text input is active.</span></div>
<div class="line"><a id="l09726" name="l09726"></a><span class="lineno"> 9726</span>        <span class="comment">// (We cannot filter based on io.InputQueueCharacters[] contents because of trickling and key&lt;&gt;chars submission order are undefined)</span></div>
<div class="line"><a id="l09727" name="l09727"></a><span class="lineno"> 9727</span>        <span class="keywordflow">if</span> (g.IO.WantTextInput &amp;&amp; IsKeyChordPotentiallyCharInput(key_chord))</div>
<div class="line"><a id="l09728" name="l09728"></a><span class="lineno"> 9728</span>        {</div>
<div class="line"><a id="l09729" name="l09729"></a><span class="lineno"> 9729</span>            IMGUI_DEBUG_LOG_INPUTROUTING(<span class="stringliteral">&quot;SetShortcutRouting(%s, flags=%04X, owner_id=0x%08X) -&gt; filtered as potential char input\n&quot;</span>, GetKeyChordName(key_chord), flags, owner_id);</div>
<div class="line"><a id="l09730" name="l09730"></a><span class="lineno"> 9730</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09731" name="l09731"></a><span class="lineno"> 9731</span>        }</div>
<div class="line"><a id="l09732" name="l09732"></a><span class="lineno"> 9732</span> </div>
<div class="line"><a id="l09733" name="l09733"></a><span class="lineno"> 9733</span>        <span class="comment">// ActiveIdUsingAllKeyboardKeys trumps all for ActiveId</span></div>
<div class="line"><a id="l09734" name="l09734"></a><span class="lineno"> 9734</span>        <span class="keywordflow">if</span> ((flags &amp; ImGuiInputFlags_RouteOverActive) == 0 &amp;&amp; g.ActiveIdUsingAllKeyboardKeys)</div>
<div class="line"><a id="l09735" name="l09735"></a><span class="lineno"> 9735</span>        {</div>
<div class="line"><a id="l09736" name="l09736"></a><span class="lineno"> 9736</span>            ImGuiKey key = (ImGuiKey)(key_chord &amp; ~ImGuiMod_Mask_);</div>
<div class="line"><a id="l09737" name="l09737"></a><span class="lineno"> 9737</span>            <span class="keywordflow">if</span> (key == ImGuiKey_None)</div>
<div class="line"><a id="l09738" name="l09738"></a><span class="lineno"> 9738</span>                key = ConvertSingleModFlagToKey((ImGuiKey)(key_chord &amp; ImGuiMod_Mask_));</div>
<div class="line"><a id="l09739" name="l09739"></a><span class="lineno"> 9739</span>            <span class="keywordflow">if</span> (key &gt;= ImGuiKey_Keyboard_BEGIN &amp;&amp; key &lt; ImGuiKey_Keyboard_END)</div>
<div class="line"><a id="l09740" name="l09740"></a><span class="lineno"> 9740</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09741" name="l09741"></a><span class="lineno"> 9741</span>        }</div>
<div class="line"><a id="l09742" name="l09742"></a><span class="lineno"> 9742</span>    }</div>
<div class="line"><a id="l09743" name="l09743"></a><span class="lineno"> 9743</span> </div>
<div class="line"><a id="l09744" name="l09744"></a><span class="lineno"> 9744</span>    <span class="comment">// Where do we evaluate route for?</span></div>
<div class="line"><a id="l09745" name="l09745"></a><span class="lineno"> 9745</span>    ImGuiID focus_scope_id = g.CurrentFocusScopeId;</div>
<div class="line"><a id="l09746" name="l09746"></a><span class="lineno"> 9746</span>    <span class="keywordflow">if</span> (flags &amp; ImGuiInputFlags_RouteFromRootWindow)</div>
<div class="line"><a id="l09747" name="l09747"></a><span class="lineno"> 9747</span>        focus_scope_id = g.CurrentWindow-&gt;RootWindow-&gt;ID; <span class="comment">// See PushFocusScope() call in Begin()</span></div>
<div class="line"><a id="l09748" name="l09748"></a><span class="lineno"> 9748</span> </div>
<div class="line"><a id="l09749" name="l09749"></a><span class="lineno"> 9749</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> score = CalcRoutingScore(focus_scope_id, owner_id, flags);</div>
<div class="line"><a id="l09750" name="l09750"></a><span class="lineno"> 9750</span>    IMGUI_DEBUG_LOG_INPUTROUTING(<span class="stringliteral">&quot;SetShortcutRouting(%s, flags=%04X, owner_id=0x%08X) -&gt; score %d\n&quot;</span>, GetKeyChordName(key_chord), flags, owner_id, score);</div>
<div class="line"><a id="l09751" name="l09751"></a><span class="lineno"> 9751</span>    <span class="keywordflow">if</span> (score == 255)</div>
<div class="line"><a id="l09752" name="l09752"></a><span class="lineno"> 9752</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09753" name="l09753"></a><span class="lineno"> 9753</span> </div>
<div class="line"><a id="l09754" name="l09754"></a><span class="lineno"> 9754</span>    <span class="comment">// Submit routing for NEXT frame (assuming score is sufficient)</span></div>
<div class="line"><a id="l09755" name="l09755"></a><span class="lineno"> 9755</span>    <span class="comment">// FIXME: Could expose a way to use a &quot;serve last&quot; policy for same score resolution (using &lt;= instead of &lt;).</span></div>
<div class="line"><a id="l09756" name="l09756"></a><span class="lineno"> 9756</span>    <a class="code hl_struct" href="structImGuiKeyRoutingData.html">ImGuiKeyRoutingData</a>* routing_data = GetShortcutRoutingData(key_chord);</div>
<div class="line"><a id="l09757" name="l09757"></a><span class="lineno"> 9757</span>    <span class="comment">//const bool set_route = (flags &amp; ImGuiInputFlags_ServeLast) ? (score &lt;= routing_data-&gt;RoutingNextScore) : (score &lt; routing_data-&gt;RoutingNextScore);</span></div>
<div class="line"><a id="l09758" name="l09758"></a><span class="lineno"> 9758</span>    <span class="keywordflow">if</span> (score &lt; routing_data-&gt;RoutingNextScore)</div>
<div class="line"><a id="l09759" name="l09759"></a><span class="lineno"> 9759</span>    {</div>
<div class="line"><a id="l09760" name="l09760"></a><span class="lineno"> 9760</span>        routing_data-&gt;RoutingNext = owner_id;</div>
<div class="line"><a id="l09761" name="l09761"></a><span class="lineno"> 9761</span>        routing_data-&gt;RoutingNextScore = (ImU8)score;</div>
<div class="line"><a id="l09762" name="l09762"></a><span class="lineno"> 9762</span>    }</div>
<div class="line"><a id="l09763" name="l09763"></a><span class="lineno"> 9763</span> </div>
<div class="line"><a id="l09764" name="l09764"></a><span class="lineno"> 9764</span>    <span class="comment">// Return routing state for CURRENT frame</span></div>
<div class="line"><a id="l09765" name="l09765"></a><span class="lineno"> 9765</span>    <span class="keywordflow">if</span> (routing_data-&gt;RoutingCurr == owner_id)</div>
<div class="line"><a id="l09766" name="l09766"></a><span class="lineno"> 9766</span>        IMGUI_DEBUG_LOG_INPUTROUTING(<span class="stringliteral">&quot;--&gt; granting current route\n&quot;</span>);</div>
<div class="line"><a id="l09767" name="l09767"></a><span class="lineno"> 9767</span>    <span class="keywordflow">return</span> routing_data-&gt;RoutingCurr == owner_id;</div>
<div class="line"><a id="l09768" name="l09768"></a><span class="lineno"> 9768</span>}</div>
<div class="line"><a id="l09769" name="l09769"></a><span class="lineno"> 9769</span> </div>
<div class="line"><a id="l09770" name="l09770"></a><span class="lineno"> 9770</span><span class="comment">// Currently unused by core (but used by tests)</span></div>
<div class="line"><a id="l09771" name="l09771"></a><span class="lineno"> 9771</span><span class="comment">// Note: this cannot be turned into GetShortcutRouting() because we do the owner_id-&gt;routing_id translation, name would be more misleading.</span></div>
<div class="line"><a id="l09772" name="l09772"></a><span class="lineno"> 9772</span><span class="keywordtype">bool</span> ImGui::TestShortcutRouting(ImGuiKeyChord key_chord, ImGuiID owner_id)</div>
<div class="line"><a id="l09773" name="l09773"></a><span class="lineno"> 9773</span>{</div>
<div class="line"><a id="l09774" name="l09774"></a><span class="lineno"> 9774</span>    <span class="keyword">const</span> ImGuiID routing_id = GetRoutingIdFromOwnerId(owner_id);</div>
<div class="line"><a id="l09775" name="l09775"></a><span class="lineno"> 9775</span>    key_chord = FixupKeyChord(key_chord);</div>
<div class="line"><a id="l09776" name="l09776"></a><span class="lineno"> 9776</span>    <a class="code hl_struct" href="structImGuiKeyRoutingData.html">ImGuiKeyRoutingData</a>* routing_data = GetShortcutRoutingData(key_chord); <span class="comment">// FIXME: Could avoid creating entry.</span></div>
<div class="line"><a id="l09777" name="l09777"></a><span class="lineno"> 9777</span>    <span class="keywordflow">return</span> routing_data-&gt;RoutingCurr == routing_id;</div>
<div class="line"><a id="l09778" name="l09778"></a><span class="lineno"> 9778</span>}</div>
<div class="line"><a id="l09779" name="l09779"></a><span class="lineno"> 9779</span> </div>
<div class="line"><a id="l09780" name="l09780"></a><span class="lineno"> 9780</span><span class="comment">// Note that Dear ImGui doesn&#39;t know the meaning/semantic of ImGuiKey from 0..511: they are legacy native keycodes.</span></div>
<div class="line"><a id="l09781" name="l09781"></a><span class="lineno"> 9781</span><span class="comment">// Consider transitioning from &#39;IsKeyDown(MY_ENGINE_KEY_A)&#39; (&lt;1.87) to IsKeyDown(ImGuiKey_A) (&gt;= 1.87)</span></div>
<div class="line"><a id="l09782" name="l09782"></a><span class="lineno"> 9782</span><span class="keywordtype">bool</span> ImGui::IsKeyDown(ImGuiKey key)</div>
<div class="line"><a id="l09783" name="l09783"></a><span class="lineno"> 9783</span>{</div>
<div class="line"><a id="l09784" name="l09784"></a><span class="lineno"> 9784</span>    <span class="keywordflow">return</span> IsKeyDown(key, ImGuiKeyOwner_Any);</div>
<div class="line"><a id="l09785" name="l09785"></a><span class="lineno"> 9785</span>}</div>
<div class="line"><a id="l09786" name="l09786"></a><span class="lineno"> 9786</span> </div>
<div class="line"><a id="l09787" name="l09787"></a><span class="lineno"> 9787</span><span class="keywordtype">bool</span> ImGui::IsKeyDown(ImGuiKey key, ImGuiID owner_id)</div>
<div class="line"><a id="l09788" name="l09788"></a><span class="lineno"> 9788</span>{</div>
<div class="line"><a id="l09789" name="l09789"></a><span class="lineno"> 9789</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiKeyData.html">ImGuiKeyData</a>* key_data = GetKeyData(key);</div>
<div class="line"><a id="l09790" name="l09790"></a><span class="lineno"> 9790</span>    <span class="keywordflow">if</span> (!key_data-&gt;Down)</div>
<div class="line"><a id="l09791" name="l09791"></a><span class="lineno"> 9791</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09792" name="l09792"></a><span class="lineno"> 9792</span>    <span class="keywordflow">if</span> (!TestKeyOwner(key, owner_id))</div>
<div class="line"><a id="l09793" name="l09793"></a><span class="lineno"> 9793</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09794" name="l09794"></a><span class="lineno"> 9794</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l09795" name="l09795"></a><span class="lineno"> 9795</span>}</div>
<div class="line"><a id="l09796" name="l09796"></a><span class="lineno"> 9796</span> </div>
<div class="line"><a id="l09797" name="l09797"></a><span class="lineno"> 9797</span><span class="keywordtype">bool</span> ImGui::IsKeyPressed(ImGuiKey key, <span class="keywordtype">bool</span> repeat)</div>
<div class="line"><a id="l09798" name="l09798"></a><span class="lineno"> 9798</span>{</div>
<div class="line"><a id="l09799" name="l09799"></a><span class="lineno"> 9799</span>    <span class="keywordflow">return</span> IsKeyPressed(key, repeat ? ImGuiInputFlags_Repeat : ImGuiInputFlags_None, ImGuiKeyOwner_Any);</div>
<div class="line"><a id="l09800" name="l09800"></a><span class="lineno"> 9800</span>}</div>
<div class="line"><a id="l09801" name="l09801"></a><span class="lineno"> 9801</span> </div>
<div class="line"><a id="l09802" name="l09802"></a><span class="lineno"> 9802</span><span class="comment">// Important: unlike legacy IsKeyPressed(ImGuiKey, bool repeat=true) which DEFAULT to repeat, this requires EXPLICIT repeat.</span></div>
<div class="line"><a id="l09803" name="l09803"></a><span class="lineno"> 9803</span><span class="keywordtype">bool</span> ImGui::IsKeyPressed(ImGuiKey key, ImGuiInputFlags flags, ImGuiID owner_id)</div>
<div class="line"><a id="l09804" name="l09804"></a><span class="lineno"> 9804</span>{</div>
<div class="line"><a id="l09805" name="l09805"></a><span class="lineno"> 9805</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiKeyData.html">ImGuiKeyData</a>* key_data = GetKeyData(key);</div>
<div class="line"><a id="l09806" name="l09806"></a><span class="lineno"> 9806</span>    <span class="keywordflow">if</span> (!key_data-&gt;Down) <span class="comment">// In theory this should already be encoded as (DownDuration &lt; 0.0f), but testing this facilitates eating mechanism (until we finish work on key ownership)</span></div>
<div class="line"><a id="l09807" name="l09807"></a><span class="lineno"> 9807</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09808" name="l09808"></a><span class="lineno"> 9808</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> t = key_data-&gt;DownDuration;</div>
<div class="line"><a id="l09809" name="l09809"></a><span class="lineno"> 9809</span>    <span class="keywordflow">if</span> (t &lt; 0.0f)</div>
<div class="line"><a id="l09810" name="l09810"></a><span class="lineno"> 9810</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09811" name="l09811"></a><span class="lineno"> 9811</span>    IM_ASSERT((flags &amp; ~ImGuiInputFlags_SupportedByIsKeyPressed) == 0); <span class="comment">// Passing flags not supported by this function!</span></div>
<div class="line"><a id="l09812" name="l09812"></a><span class="lineno"> 9812</span>    <span class="keywordflow">if</span> (flags &amp; (ImGuiInputFlags_RepeatRateMask_ | ImGuiInputFlags_RepeatUntilMask_)) <span class="comment">// Setting any _RepeatXXX option enables _Repeat</span></div>
<div class="line"><a id="l09813" name="l09813"></a><span class="lineno"> 9813</span>        flags |= ImGuiInputFlags_Repeat;</div>
<div class="line"><a id="l09814" name="l09814"></a><span class="lineno"> 9814</span> </div>
<div class="line"><a id="l09815" name="l09815"></a><span class="lineno"> 9815</span>    <span class="keywordtype">bool</span> pressed = (t == 0.0f);</div>
<div class="line"><a id="l09816" name="l09816"></a><span class="lineno"> 9816</span>    <span class="keywordflow">if</span> (!pressed &amp;&amp; (flags &amp; ImGuiInputFlags_Repeat) != 0)</div>
<div class="line"><a id="l09817" name="l09817"></a><span class="lineno"> 9817</span>    {</div>
<div class="line"><a id="l09818" name="l09818"></a><span class="lineno"> 9818</span>        <span class="keywordtype">float</span> repeat_delay, repeat_rate;</div>
<div class="line"><a id="l09819" name="l09819"></a><span class="lineno"> 9819</span>        GetTypematicRepeatRate(flags, &amp;repeat_delay, &amp;repeat_rate);</div>
<div class="line"><a id="l09820" name="l09820"></a><span class="lineno"> 9820</span>        pressed = (t &gt; repeat_delay) &amp;&amp; GetKeyPressedAmount(key, repeat_delay, repeat_rate) &gt; 0;</div>
<div class="line"><a id="l09821" name="l09821"></a><span class="lineno"> 9821</span>        <span class="keywordflow">if</span> (pressed &amp;&amp; (flags &amp; ImGuiInputFlags_RepeatUntilMask_))</div>
<div class="line"><a id="l09822" name="l09822"></a><span class="lineno"> 9822</span>        {</div>
<div class="line"><a id="l09823" name="l09823"></a><span class="lineno"> 9823</span>            <span class="comment">// Slightly bias &#39;key_pressed_time&#39; as DownDuration is an accumulation of DeltaTime which we compare to an absolute time value.</span></div>
<div class="line"><a id="l09824" name="l09824"></a><span class="lineno"> 9824</span>            <span class="comment">// Ideally we&#39;d replace DownDuration with KeyPressedTime but it would break user&#39;s code.</span></div>
<div class="line"><a id="l09825" name="l09825"></a><span class="lineno"> 9825</span>            <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09826" name="l09826"></a><span class="lineno"> 9826</span>            <span class="keywordtype">double</span> key_pressed_time = g.Time - t + 0.00001f;</div>
<div class="line"><a id="l09827" name="l09827"></a><span class="lineno"> 9827</span>            <span class="keywordflow">if</span> ((flags &amp; ImGuiInputFlags_RepeatUntilKeyModsChange) &amp;&amp; (g.LastKeyModsChangeTime &gt; key_pressed_time))</div>
<div class="line"><a id="l09828" name="l09828"></a><span class="lineno"> 9828</span>                pressed = <span class="keyword">false</span>;</div>
<div class="line"><a id="l09829" name="l09829"></a><span class="lineno"> 9829</span>            <span class="keywordflow">if</span> ((flags &amp; ImGuiInputFlags_RepeatUntilKeyModsChangeFromNone) &amp;&amp; (g.LastKeyModsChangeFromNoneTime &gt; key_pressed_time))</div>
<div class="line"><a id="l09830" name="l09830"></a><span class="lineno"> 9830</span>                pressed = <span class="keyword">false</span>;</div>
<div class="line"><a id="l09831" name="l09831"></a><span class="lineno"> 9831</span>            <span class="keywordflow">if</span> ((flags &amp; ImGuiInputFlags_RepeatUntilOtherKeyPress) &amp;&amp; (g.LastKeyboardKeyPressTime &gt; key_pressed_time))</div>
<div class="line"><a id="l09832" name="l09832"></a><span class="lineno"> 9832</span>                pressed = <span class="keyword">false</span>;</div>
<div class="line"><a id="l09833" name="l09833"></a><span class="lineno"> 9833</span>        }</div>
<div class="line"><a id="l09834" name="l09834"></a><span class="lineno"> 9834</span>    }</div>
<div class="line"><a id="l09835" name="l09835"></a><span class="lineno"> 9835</span>    <span class="keywordflow">if</span> (!pressed)</div>
<div class="line"><a id="l09836" name="l09836"></a><span class="lineno"> 9836</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09837" name="l09837"></a><span class="lineno"> 9837</span>    <span class="keywordflow">if</span> (!TestKeyOwner(key, owner_id))</div>
<div class="line"><a id="l09838" name="l09838"></a><span class="lineno"> 9838</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09839" name="l09839"></a><span class="lineno"> 9839</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l09840" name="l09840"></a><span class="lineno"> 9840</span>}</div>
<div class="line"><a id="l09841" name="l09841"></a><span class="lineno"> 9841</span> </div>
<div class="line"><a id="l09842" name="l09842"></a><span class="lineno"> 9842</span><span class="keywordtype">bool</span> ImGui::IsKeyReleased(ImGuiKey key)</div>
<div class="line"><a id="l09843" name="l09843"></a><span class="lineno"> 9843</span>{</div>
<div class="line"><a id="l09844" name="l09844"></a><span class="lineno"> 9844</span>    <span class="keywordflow">return</span> IsKeyReleased(key, ImGuiKeyOwner_Any);</div>
<div class="line"><a id="l09845" name="l09845"></a><span class="lineno"> 9845</span>}</div>
<div class="line"><a id="l09846" name="l09846"></a><span class="lineno"> 9846</span> </div>
<div class="line"><a id="l09847" name="l09847"></a><span class="lineno"> 9847</span><span class="keywordtype">bool</span> ImGui::IsKeyReleased(ImGuiKey key, ImGuiID owner_id)</div>
<div class="line"><a id="l09848" name="l09848"></a><span class="lineno"> 9848</span>{</div>
<div class="line"><a id="l09849" name="l09849"></a><span class="lineno"> 9849</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiKeyData.html">ImGuiKeyData</a>* key_data = GetKeyData(key);</div>
<div class="line"><a id="l09850" name="l09850"></a><span class="lineno"> 9850</span>    <span class="keywordflow">if</span> (key_data-&gt;DownDurationPrev &lt; 0.0f || key_data-&gt;Down)</div>
<div class="line"><a id="l09851" name="l09851"></a><span class="lineno"> 9851</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09852" name="l09852"></a><span class="lineno"> 9852</span>    <span class="keywordflow">if</span> (!TestKeyOwner(key, owner_id))</div>
<div class="line"><a id="l09853" name="l09853"></a><span class="lineno"> 9853</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09854" name="l09854"></a><span class="lineno"> 9854</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l09855" name="l09855"></a><span class="lineno"> 9855</span>}</div>
<div class="line"><a id="l09856" name="l09856"></a><span class="lineno"> 9856</span> </div>
<div class="line"><a id="l09857" name="l09857"></a><span class="lineno"> 9857</span><span class="keywordtype">bool</span> ImGui::IsMouseDown(ImGuiMouseButton button)</div>
<div class="line"><a id="l09858" name="l09858"></a><span class="lineno"> 9858</span>{</div>
<div class="line"><a id="l09859" name="l09859"></a><span class="lineno"> 9859</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09860" name="l09860"></a><span class="lineno"> 9860</span>    IM_ASSERT(button &gt;= 0 &amp;&amp; button &lt; IM_ARRAYSIZE(g.IO.MouseDown));</div>
<div class="line"><a id="l09861" name="l09861"></a><span class="lineno"> 9861</span>    <span class="keywordflow">return</span> g.IO.MouseDown[button] &amp;&amp; TestKeyOwner(MouseButtonToKey(button), ImGuiKeyOwner_Any); <span class="comment">// should be same as IsKeyDown(MouseButtonToKey(button), ImGuiKeyOwner_Any), but this allows legacy code hijacking the io.Mousedown[] array.</span></div>
<div class="line"><a id="l09862" name="l09862"></a><span class="lineno"> 9862</span>}</div>
<div class="line"><a id="l09863" name="l09863"></a><span class="lineno"> 9863</span> </div>
<div class="line"><a id="l09864" name="l09864"></a><span class="lineno"> 9864</span><span class="keywordtype">bool</span> ImGui::IsMouseDown(ImGuiMouseButton button, ImGuiID owner_id)</div>
<div class="line"><a id="l09865" name="l09865"></a><span class="lineno"> 9865</span>{</div>
<div class="line"><a id="l09866" name="l09866"></a><span class="lineno"> 9866</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09867" name="l09867"></a><span class="lineno"> 9867</span>    IM_ASSERT(button &gt;= 0 &amp;&amp; button &lt; IM_ARRAYSIZE(g.IO.MouseDown));</div>
<div class="line"><a id="l09868" name="l09868"></a><span class="lineno"> 9868</span>    <span class="keywordflow">return</span> g.IO.MouseDown[button] &amp;&amp; TestKeyOwner(MouseButtonToKey(button), owner_id); <span class="comment">// Should be same as IsKeyDown(MouseButtonToKey(button), owner_id), but this allows legacy code hijacking the io.Mousedown[] array.</span></div>
<div class="line"><a id="l09869" name="l09869"></a><span class="lineno"> 9869</span>}</div>
<div class="line"><a id="l09870" name="l09870"></a><span class="lineno"> 9870</span> </div>
<div class="line"><a id="l09871" name="l09871"></a><span class="lineno"> 9871</span><span class="keywordtype">bool</span> ImGui::IsMouseClicked(ImGuiMouseButton button, <span class="keywordtype">bool</span> repeat)</div>
<div class="line"><a id="l09872" name="l09872"></a><span class="lineno"> 9872</span>{</div>
<div class="line"><a id="l09873" name="l09873"></a><span class="lineno"> 9873</span>    <span class="keywordflow">return</span> IsMouseClicked(button, repeat ? ImGuiInputFlags_Repeat : ImGuiInputFlags_None, ImGuiKeyOwner_Any);</div>
<div class="line"><a id="l09874" name="l09874"></a><span class="lineno"> 9874</span>}</div>
<div class="line"><a id="l09875" name="l09875"></a><span class="lineno"> 9875</span> </div>
<div class="line"><a id="l09876" name="l09876"></a><span class="lineno"> 9876</span><span class="keywordtype">bool</span> ImGui::IsMouseClicked(ImGuiMouseButton button, ImGuiInputFlags flags, ImGuiID owner_id)</div>
<div class="line"><a id="l09877" name="l09877"></a><span class="lineno"> 9877</span>{</div>
<div class="line"><a id="l09878" name="l09878"></a><span class="lineno"> 9878</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09879" name="l09879"></a><span class="lineno"> 9879</span>    IM_ASSERT(button &gt;= 0 &amp;&amp; button &lt; IM_ARRAYSIZE(g.IO.MouseDown));</div>
<div class="line"><a id="l09880" name="l09880"></a><span class="lineno"> 9880</span>    <span class="keywordflow">if</span> (!g.IO.MouseDown[button]) <span class="comment">// In theory this should already be encoded as (DownDuration &lt; 0.0f), but testing this facilitates eating mechanism (until we finish work on key ownership)</span></div>
<div class="line"><a id="l09881" name="l09881"></a><span class="lineno"> 9881</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09882" name="l09882"></a><span class="lineno"> 9882</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> t = g.IO.MouseDownDuration[button];</div>
<div class="line"><a id="l09883" name="l09883"></a><span class="lineno"> 9883</span>    <span class="keywordflow">if</span> (t &lt; 0.0f)</div>
<div class="line"><a id="l09884" name="l09884"></a><span class="lineno"> 9884</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09885" name="l09885"></a><span class="lineno"> 9885</span>    IM_ASSERT((flags &amp; ~ImGuiInputFlags_SupportedByIsMouseClicked) == 0); <span class="comment">// Passing flags not supported by this function! // FIXME: Could support RepeatRate and RepeatUntil flags here.</span></div>
<div class="line"><a id="l09886" name="l09886"></a><span class="lineno"> 9886</span> </div>
<div class="line"><a id="l09887" name="l09887"></a><span class="lineno"> 9887</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> repeat = (flags &amp; ImGuiInputFlags_Repeat) != 0;</div>
<div class="line"><a id="l09888" name="l09888"></a><span class="lineno"> 9888</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> pressed = (t == 0.0f) || (repeat &amp;&amp; t &gt; g.IO.KeyRepeatDelay &amp;&amp; CalcTypematicRepeatAmount(t - g.IO.DeltaTime, t, g.IO.KeyRepeatDelay, g.IO.KeyRepeatRate) &gt; 0);</div>
<div class="line"><a id="l09889" name="l09889"></a><span class="lineno"> 9889</span>    <span class="keywordflow">if</span> (!pressed)</div>
<div class="line"><a id="l09890" name="l09890"></a><span class="lineno"> 9890</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09891" name="l09891"></a><span class="lineno"> 9891</span> </div>
<div class="line"><a id="l09892" name="l09892"></a><span class="lineno"> 9892</span>    <span class="keywordflow">if</span> (!TestKeyOwner(MouseButtonToKey(button), owner_id))</div>
<div class="line"><a id="l09893" name="l09893"></a><span class="lineno"> 9893</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09894" name="l09894"></a><span class="lineno"> 9894</span> </div>
<div class="line"><a id="l09895" name="l09895"></a><span class="lineno"> 9895</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l09896" name="l09896"></a><span class="lineno"> 9896</span>}</div>
<div class="line"><a id="l09897" name="l09897"></a><span class="lineno"> 9897</span> </div>
<div class="line"><a id="l09898" name="l09898"></a><span class="lineno"> 9898</span><span class="keywordtype">bool</span> ImGui::IsMouseReleased(ImGuiMouseButton button)</div>
<div class="line"><a id="l09899" name="l09899"></a><span class="lineno"> 9899</span>{</div>
<div class="line"><a id="l09900" name="l09900"></a><span class="lineno"> 9900</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09901" name="l09901"></a><span class="lineno"> 9901</span>    IM_ASSERT(button &gt;= 0 &amp;&amp; button &lt; IM_ARRAYSIZE(g.IO.MouseDown));</div>
<div class="line"><a id="l09902" name="l09902"></a><span class="lineno"> 9902</span>    <span class="keywordflow">return</span> g.IO.MouseReleased[button] &amp;&amp; TestKeyOwner(MouseButtonToKey(button), ImGuiKeyOwner_Any); <span class="comment">// Should be same as IsKeyReleased(MouseButtonToKey(button), ImGuiKeyOwner_Any)</span></div>
<div class="line"><a id="l09903" name="l09903"></a><span class="lineno"> 9903</span>}</div>
<div class="line"><a id="l09904" name="l09904"></a><span class="lineno"> 9904</span> </div>
<div class="line"><a id="l09905" name="l09905"></a><span class="lineno"> 9905</span><span class="keywordtype">bool</span> ImGui::IsMouseReleased(ImGuiMouseButton button, ImGuiID owner_id)</div>
<div class="line"><a id="l09906" name="l09906"></a><span class="lineno"> 9906</span>{</div>
<div class="line"><a id="l09907" name="l09907"></a><span class="lineno"> 9907</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09908" name="l09908"></a><span class="lineno"> 9908</span>    IM_ASSERT(button &gt;= 0 &amp;&amp; button &lt; IM_ARRAYSIZE(g.IO.MouseDown));</div>
<div class="line"><a id="l09909" name="l09909"></a><span class="lineno"> 9909</span>    <span class="keywordflow">return</span> g.IO.MouseReleased[button] &amp;&amp; TestKeyOwner(MouseButtonToKey(button), owner_id); <span class="comment">// Should be same as IsKeyReleased(MouseButtonToKey(button), owner_id)</span></div>
<div class="line"><a id="l09910" name="l09910"></a><span class="lineno"> 9910</span>}</div>
<div class="line"><a id="l09911" name="l09911"></a><span class="lineno"> 9911</span> </div>
<div class="line"><a id="l09912" name="l09912"></a><span class="lineno"> 9912</span><span class="comment">// Use if you absolutely need to distinguish single-click from double-click by introducing a delay.</span></div>
<div class="line"><a id="l09913" name="l09913"></a><span class="lineno"> 9913</span><span class="comment">// Generally use with &#39;delay &gt;= io.MouseDoubleClickTime&#39; + combined with a &#39;io.MouseClickedLastCount == 1&#39; test.</span></div>
<div class="line"><a id="l09914" name="l09914"></a><span class="lineno"> 9914</span><span class="comment">// This is a very rarely used UI idiom, but some apps use this: e.g. MS Explorer single click on an icon to rename.</span></div>
<div class="line"><a id="l09915" name="l09915"></a><span class="lineno"> 9915</span><span class="keywordtype">bool</span> ImGui::IsMouseReleasedWithDelay(ImGuiMouseButton button, <span class="keywordtype">float</span> delay)</div>
<div class="line"><a id="l09916" name="l09916"></a><span class="lineno"> 9916</span>{</div>
<div class="line"><a id="l09917" name="l09917"></a><span class="lineno"> 9917</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09918" name="l09918"></a><span class="lineno"> 9918</span>    IM_ASSERT(button &gt;= 0 &amp;&amp; button &lt; IM_ARRAYSIZE(g.IO.MouseDown));</div>
<div class="line"><a id="l09919" name="l09919"></a><span class="lineno"> 9919</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> time_since_release = (float)(g.Time - g.IO.MouseReleasedTime[button]);</div>
<div class="line"><a id="l09920" name="l09920"></a><span class="lineno"> 9920</span>    <span class="keywordflow">return</span> !IsMouseDown(button) &amp;&amp; (time_since_release - g.IO.DeltaTime &lt; delay) &amp;&amp; (time_since_release &gt;= delay);</div>
<div class="line"><a id="l09921" name="l09921"></a><span class="lineno"> 9921</span>}</div>
<div class="line"><a id="l09922" name="l09922"></a><span class="lineno"> 9922</span> </div>
<div class="line"><a id="l09923" name="l09923"></a><span class="lineno"> 9923</span><span class="keywordtype">bool</span> ImGui::IsMouseDoubleClicked(ImGuiMouseButton button)</div>
<div class="line"><a id="l09924" name="l09924"></a><span class="lineno"> 9924</span>{</div>
<div class="line"><a id="l09925" name="l09925"></a><span class="lineno"> 9925</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09926" name="l09926"></a><span class="lineno"> 9926</span>    IM_ASSERT(button &gt;= 0 &amp;&amp; button &lt; IM_ARRAYSIZE(g.IO.MouseDown));</div>
<div class="line"><a id="l09927" name="l09927"></a><span class="lineno"> 9927</span>    <span class="keywordflow">return</span> g.IO.MouseClickedCount[button] == 2 &amp;&amp; TestKeyOwner(MouseButtonToKey(button), ImGuiKeyOwner_Any);</div>
<div class="line"><a id="l09928" name="l09928"></a><span class="lineno"> 9928</span>}</div>
<div class="line"><a id="l09929" name="l09929"></a><span class="lineno"> 9929</span> </div>
<div class="line"><a id="l09930" name="l09930"></a><span class="lineno"> 9930</span><span class="keywordtype">bool</span> ImGui::IsMouseDoubleClicked(ImGuiMouseButton button, ImGuiID owner_id)</div>
<div class="line"><a id="l09931" name="l09931"></a><span class="lineno"> 9931</span>{</div>
<div class="line"><a id="l09932" name="l09932"></a><span class="lineno"> 9932</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09933" name="l09933"></a><span class="lineno"> 9933</span>    IM_ASSERT(button &gt;= 0 &amp;&amp; button &lt; IM_ARRAYSIZE(g.IO.MouseDown));</div>
<div class="line"><a id="l09934" name="l09934"></a><span class="lineno"> 9934</span>    <span class="keywordflow">return</span> g.IO.MouseClickedCount[button] == 2 &amp;&amp; TestKeyOwner(MouseButtonToKey(button), owner_id);</div>
<div class="line"><a id="l09935" name="l09935"></a><span class="lineno"> 9935</span>}</div>
<div class="line"><a id="l09936" name="l09936"></a><span class="lineno"> 9936</span> </div>
<div class="line"><a id="l09937" name="l09937"></a><span class="lineno"> 9937</span><span class="keywordtype">int</span> ImGui::GetMouseClickedCount(ImGuiMouseButton button)</div>
<div class="line"><a id="l09938" name="l09938"></a><span class="lineno"> 9938</span>{</div>
<div class="line"><a id="l09939" name="l09939"></a><span class="lineno"> 9939</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09940" name="l09940"></a><span class="lineno"> 9940</span>    IM_ASSERT(button &gt;= 0 &amp;&amp; button &lt; IM_ARRAYSIZE(g.IO.MouseDown));</div>
<div class="line"><a id="l09941" name="l09941"></a><span class="lineno"> 9941</span>    <span class="keywordflow">return</span> g.IO.MouseClickedCount[button];</div>
<div class="line"><a id="l09942" name="l09942"></a><span class="lineno"> 9942</span>}</div>
<div class="line"><a id="l09943" name="l09943"></a><span class="lineno"> 9943</span> </div>
<div class="line"><a id="l09944" name="l09944"></a><span class="lineno"> 9944</span><span class="comment">// Test if mouse cursor is hovering given rectangle</span></div>
<div class="line"><a id="l09945" name="l09945"></a><span class="lineno"> 9945</span><span class="comment">// NB- Rectangle is clipped by our current clip setting</span></div>
<div class="line"><a id="l09946" name="l09946"></a><span class="lineno"> 9946</span><span class="comment">// NB- Expand the rectangle to be generous on imprecise inputs systems (g.Style.TouchExtraPadding)</span></div>
<div class="line"><a id="l09947" name="l09947"></a><span class="lineno"> 9947</span><span class="keywordtype">bool</span> ImGui::IsMouseHoveringRect(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; r_min, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; r_max, <span class="keywordtype">bool</span> clip)</div>
<div class="line"><a id="l09948" name="l09948"></a><span class="lineno"> 9948</span>{</div>
<div class="line"><a id="l09949" name="l09949"></a><span class="lineno"> 9949</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09950" name="l09950"></a><span class="lineno"> 9950</span> </div>
<div class="line"><a id="l09951" name="l09951"></a><span class="lineno"> 9951</span>    <span class="comment">// Clip</span></div>
<div class="line"><a id="l09952" name="l09952"></a><span class="lineno"> 9952</span>    <a class="code hl_struct" href="structImRect.html">ImRect</a> rect_clipped(r_min, r_max);</div>
<div class="line"><a id="l09953" name="l09953"></a><span class="lineno"> 9953</span>    <span class="keywordflow">if</span> (clip)</div>
<div class="line"><a id="l09954" name="l09954"></a><span class="lineno"> 9954</span>        rect_clipped.ClipWith(g.CurrentWindow-&gt;ClipRect);</div>
<div class="line"><a id="l09955" name="l09955"></a><span class="lineno"> 9955</span> </div>
<div class="line"><a id="l09956" name="l09956"></a><span class="lineno"> 9956</span>    <span class="comment">// Hit testing, expanded for touch input</span></div>
<div class="line"><a id="l09957" name="l09957"></a><span class="lineno"> 9957</span>    <span class="keywordflow">if</span> (!rect_clipped.ContainsWithPad(g.IO.MousePos, g.Style.TouchExtraPadding))</div>
<div class="line"><a id="l09958" name="l09958"></a><span class="lineno"> 9958</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09959" name="l09959"></a><span class="lineno"> 9959</span>    <span class="keywordflow">if</span> (!g.MouseViewport-&gt;GetMainRect().Overlaps(rect_clipped))</div>
<div class="line"><a id="l09960" name="l09960"></a><span class="lineno"> 9960</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09961" name="l09961"></a><span class="lineno"> 9961</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l09962" name="l09962"></a><span class="lineno"> 9962</span>}</div>
<div class="line"><a id="l09963" name="l09963"></a><span class="lineno"> 9963</span> </div>
<div class="line"><a id="l09964" name="l09964"></a><span class="lineno"> 9964</span><span class="comment">// Return if a mouse click/drag went past the given threshold. Valid to call during the MouseReleased frame.</span></div>
<div class="line"><a id="l09965" name="l09965"></a><span class="lineno"> 9965</span><span class="comment">// [Internal] This doesn&#39;t test if the button is pressed</span></div>
<div class="line"><a id="l09966" name="l09966"></a><span class="lineno"> 9966</span><span class="keywordtype">bool</span> ImGui::IsMouseDragPastThreshold(ImGuiMouseButton button, <span class="keywordtype">float</span> lock_threshold)</div>
<div class="line"><a id="l09967" name="l09967"></a><span class="lineno"> 9967</span>{</div>
<div class="line"><a id="l09968" name="l09968"></a><span class="lineno"> 9968</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09969" name="l09969"></a><span class="lineno"> 9969</span>    IM_ASSERT(button &gt;= 0 &amp;&amp; button &lt; IM_ARRAYSIZE(g.IO.MouseDown));</div>
<div class="line"><a id="l09970" name="l09970"></a><span class="lineno"> 9970</span>    <span class="keywordflow">if</span> (lock_threshold &lt; 0.0f)</div>
<div class="line"><a id="l09971" name="l09971"></a><span class="lineno"> 9971</span>        lock_threshold = g.IO.MouseDragThreshold;</div>
<div class="line"><a id="l09972" name="l09972"></a><span class="lineno"> 9972</span>    <span class="keywordflow">return</span> g.IO.MouseDragMaxDistanceSqr[button] &gt;= lock_threshold * lock_threshold;</div>
<div class="line"><a id="l09973" name="l09973"></a><span class="lineno"> 9973</span>}</div>
<div class="line"><a id="l09974" name="l09974"></a><span class="lineno"> 9974</span> </div>
<div class="line"><a id="l09975" name="l09975"></a><span class="lineno"> 9975</span><span class="keywordtype">bool</span> ImGui::IsMouseDragging(ImGuiMouseButton button, <span class="keywordtype">float</span> lock_threshold)</div>
<div class="line"><a id="l09976" name="l09976"></a><span class="lineno"> 9976</span>{</div>
<div class="line"><a id="l09977" name="l09977"></a><span class="lineno"> 9977</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09978" name="l09978"></a><span class="lineno"> 9978</span>    IM_ASSERT(button &gt;= 0 &amp;&amp; button &lt; IM_ARRAYSIZE(g.IO.MouseDown));</div>
<div class="line"><a id="l09979" name="l09979"></a><span class="lineno"> 9979</span>    <span class="keywordflow">if</span> (!g.IO.MouseDown[button])</div>
<div class="line"><a id="l09980" name="l09980"></a><span class="lineno"> 9980</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l09981" name="l09981"></a><span class="lineno"> 9981</span>    <span class="keywordflow">return</span> IsMouseDragPastThreshold(button, lock_threshold);</div>
<div class="line"><a id="l09982" name="l09982"></a><span class="lineno"> 9982</span>}</div>
<div class="line"><a id="l09983" name="l09983"></a><span class="lineno"> 9983</span> </div>
<div class="line"><a id="l09984" name="l09984"></a><span class="lineno"> 9984</span><a class="code hl_struct" href="structImVec2.html">ImVec2</a> ImGui::GetMousePos()</div>
<div class="line"><a id="l09985" name="l09985"></a><span class="lineno"> 9985</span>{</div>
<div class="line"><a id="l09986" name="l09986"></a><span class="lineno"> 9986</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09987" name="l09987"></a><span class="lineno"> 9987</span>    <span class="keywordflow">return</span> g.IO.MousePos;</div>
<div class="line"><a id="l09988" name="l09988"></a><span class="lineno"> 9988</span>}</div>
<div class="line"><a id="l09989" name="l09989"></a><span class="lineno"> 9989</span> </div>
<div class="line"><a id="l09990" name="l09990"></a><span class="lineno"> 9990</span><span class="comment">// This is called TeleportMousePos() and not SetMousePos() to emphasis that setting MousePosPrev will effectively clear mouse delta as well.</span></div>
<div class="line"><a id="l09991" name="l09991"></a><span class="lineno"> 9991</span><span class="comment">// It is expected you only call this if (io.BackendFlags &amp; ImGuiBackendFlags_HasSetMousePos) is set and supported by backend.</span></div>
<div class="line"><a id="l09992" name="l09992"></a><span class="lineno"> 9992</span><span class="keywordtype">void</span> ImGui::TeleportMousePos(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; pos)</div>
<div class="line"><a id="l09993" name="l09993"></a><span class="lineno"> 9993</span>{</div>
<div class="line"><a id="l09994" name="l09994"></a><span class="lineno"> 9994</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l09995" name="l09995"></a><span class="lineno"> 9995</span>    g.IO.MousePos = g.IO.MousePosPrev = pos;</div>
<div class="line"><a id="l09996" name="l09996"></a><span class="lineno"> 9996</span>    g.IO.MouseDelta = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, 0.0f);</div>
<div class="line"><a id="l09997" name="l09997"></a><span class="lineno"> 9997</span>    g.IO.WantSetMousePos = <span class="keyword">true</span>;</div>
<div class="line"><a id="l09998" name="l09998"></a><span class="lineno"> 9998</span>    <span class="comment">//IMGUI_DEBUG_LOG_IO(&quot;TeleportMousePos: (%.1f,%.1f)\n&quot;, io.MousePos.x, io.MousePos.y);</span></div>
<div class="line"><a id="l09999" name="l09999"></a><span class="lineno"> 9999</span>}</div>
<div class="line"><a id="l10000" name="l10000"></a><span class="lineno">10000</span> </div>
<div class="line"><a id="l10001" name="l10001"></a><span class="lineno">10001</span><span class="comment">// NB: prefer to call right after BeginPopup(). At the time Selectable/MenuItem is activated, the popup is already closed!</span></div>
<div class="line"><a id="l10002" name="l10002"></a><span class="lineno">10002</span><a class="code hl_struct" href="structImVec2.html">ImVec2</a> ImGui::GetMousePosOnOpeningCurrentPopup()</div>
<div class="line"><a id="l10003" name="l10003"></a><span class="lineno">10003</span>{</div>
<div class="line"><a id="l10004" name="l10004"></a><span class="lineno">10004</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l10005" name="l10005"></a><span class="lineno">10005</span>    <span class="keywordflow">if</span> (g.BeginPopupStack.Size &gt; 0)</div>
<div class="line"><a id="l10006" name="l10006"></a><span class="lineno">10006</span>        <span class="keywordflow">return</span> g.OpenPopupStack[g.BeginPopupStack.Size - 1].OpenMousePos;</div>
<div class="line"><a id="l10007" name="l10007"></a><span class="lineno">10007</span>    <span class="keywordflow">return</span> g.IO.MousePos;</div>
<div class="line"><a id="l10008" name="l10008"></a><span class="lineno">10008</span>}</div>
<div class="line"><a id="l10009" name="l10009"></a><span class="lineno">10009</span> </div>
<div class="line"><a id="l10010" name="l10010"></a><span class="lineno">10010</span><span class="comment">// We typically use ImVec2(-FLT_MAX,-FLT_MAX) to denote an invalid mouse position.</span></div>
<div class="line"><a id="l10011" name="l10011"></a><span class="lineno">10011</span><span class="keywordtype">bool</span> ImGui::IsMousePosValid(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>* mouse_pos)</div>
<div class="line"><a id="l10012" name="l10012"></a><span class="lineno">10012</span>{</div>
<div class="line"><a id="l10013" name="l10013"></a><span class="lineno">10013</span>    <span class="comment">// The assert is only to silence a false-positive in XCode Static Analysis.</span></div>
<div class="line"><a id="l10014" name="l10014"></a><span class="lineno">10014</span>    <span class="comment">// Because GImGui is not dereferenced in every code path, the static analyzer assume that it may be NULL (which it doesn&#39;t for other functions).</span></div>
<div class="line"><a id="l10015" name="l10015"></a><span class="lineno">10015</span>    IM_ASSERT(GImGui != NULL);</div>
<div class="line"><a id="l10016" name="l10016"></a><span class="lineno">10016</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> MOUSE_INVALID = -256000.0f;</div>
<div class="line"><a id="l10017" name="l10017"></a><span class="lineno">10017</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> p = mouse_pos ? *mouse_pos : GImGui-&gt;IO.MousePos;</div>
<div class="line"><a id="l10018" name="l10018"></a><span class="lineno">10018</span>    <span class="keywordflow">return</span> p.x &gt;= MOUSE_INVALID &amp;&amp; p.y &gt;= MOUSE_INVALID;</div>
<div class="line"><a id="l10019" name="l10019"></a><span class="lineno">10019</span>}</div>
<div class="line"><a id="l10020" name="l10020"></a><span class="lineno">10020</span> </div>
<div class="line"><a id="l10021" name="l10021"></a><span class="lineno">10021</span><span class="comment">// [WILL OBSOLETE] This was designed for backends, but prefer having backend maintain a mask of held mouse buttons, because upcoming input queue system will make this invalid.</span></div>
<div class="line"><a id="l10022" name="l10022"></a><span class="lineno">10022</span><span class="keywordtype">bool</span> ImGui::IsAnyMouseDown()</div>
<div class="line"><a id="l10023" name="l10023"></a><span class="lineno">10023</span>{</div>
<div class="line"><a id="l10024" name="l10024"></a><span class="lineno">10024</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l10025" name="l10025"></a><span class="lineno">10025</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; IM_ARRAYSIZE(g.IO.MouseDown); n++)</div>
<div class="line"><a id="l10026" name="l10026"></a><span class="lineno">10026</span>        <span class="keywordflow">if</span> (g.IO.MouseDown[n])</div>
<div class="line"><a id="l10027" name="l10027"></a><span class="lineno">10027</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l10028" name="l10028"></a><span class="lineno">10028</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l10029" name="l10029"></a><span class="lineno">10029</span>}</div>
<div class="line"><a id="l10030" name="l10030"></a><span class="lineno">10030</span> </div>
<div class="line"><a id="l10031" name="l10031"></a><span class="lineno">10031</span><span class="comment">// Return the delta from the initial clicking position while the mouse button is clicked or was just released.</span></div>
<div class="line"><a id="l10032" name="l10032"></a><span class="lineno">10032</span><span class="comment">// This is locked and return 0.0f until the mouse moves past a distance threshold at least once.</span></div>
<div class="line"><a id="l10033" name="l10033"></a><span class="lineno">10033</span><span class="comment">// NB: This is only valid if IsMousePosValid(). backends in theory should always keep mouse position valid when dragging even outside the client window.</span></div>
<div class="line"><a id="l10034" name="l10034"></a><span class="lineno">10034</span><a class="code hl_struct" href="structImVec2.html">ImVec2</a> ImGui::GetMouseDragDelta(ImGuiMouseButton button, <span class="keywordtype">float</span> lock_threshold)</div>
<div class="line"><a id="l10035" name="l10035"></a><span class="lineno">10035</span>{</div>
<div class="line"><a id="l10036" name="l10036"></a><span class="lineno">10036</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l10037" name="l10037"></a><span class="lineno">10037</span>    IM_ASSERT(button &gt;= 0 &amp;&amp; button &lt; IM_ARRAYSIZE(g.IO.MouseDown));</div>
<div class="line"><a id="l10038" name="l10038"></a><span class="lineno">10038</span>    <span class="keywordflow">if</span> (lock_threshold &lt; 0.0f)</div>
<div class="line"><a id="l10039" name="l10039"></a><span class="lineno">10039</span>        lock_threshold = g.IO.MouseDragThreshold;</div>
<div class="line"><a id="l10040" name="l10040"></a><span class="lineno">10040</span>    <span class="keywordflow">if</span> (g.IO.MouseDown[button] || g.IO.MouseReleased[button])</div>
<div class="line"><a id="l10041" name="l10041"></a><span class="lineno">10041</span>        <span class="keywordflow">if</span> (g.IO.MouseDragMaxDistanceSqr[button] &gt;= lock_threshold * lock_threshold)</div>
<div class="line"><a id="l10042" name="l10042"></a><span class="lineno">10042</span>            <span class="keywordflow">if</span> (IsMousePosValid(&amp;g.IO.MousePos) &amp;&amp; IsMousePosValid(&amp;g.IO.MouseClickedPos[button]))</div>
<div class="line"><a id="l10043" name="l10043"></a><span class="lineno">10043</span>                <span class="keywordflow">return</span> g.IO.MousePos - g.IO.MouseClickedPos[button];</div>
<div class="line"><a id="l10044" name="l10044"></a><span class="lineno">10044</span>    <span class="keywordflow">return</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, 0.0f);</div>
<div class="line"><a id="l10045" name="l10045"></a><span class="lineno">10045</span>}</div>
<div class="line"><a id="l10046" name="l10046"></a><span class="lineno">10046</span> </div>
<div class="line"><a id="l10047" name="l10047"></a><span class="lineno">10047</span><span class="keywordtype">void</span> ImGui::ResetMouseDragDelta(ImGuiMouseButton button)</div>
<div class="line"><a id="l10048" name="l10048"></a><span class="lineno">10048</span>{</div>
<div class="line"><a id="l10049" name="l10049"></a><span class="lineno">10049</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l10050" name="l10050"></a><span class="lineno">10050</span>    IM_ASSERT(button &gt;= 0 &amp;&amp; button &lt; IM_ARRAYSIZE(g.IO.MouseDown));</div>
<div class="line"><a id="l10051" name="l10051"></a><span class="lineno">10051</span>    <span class="comment">// NB: We don&#39;t need to reset g.IO.MouseDragMaxDistanceSqr</span></div>
<div class="line"><a id="l10052" name="l10052"></a><span class="lineno">10052</span>    g.IO.MouseClickedPos[button] = g.IO.MousePos;</div>
<div class="line"><a id="l10053" name="l10053"></a><span class="lineno">10053</span>}</div>
<div class="line"><a id="l10054" name="l10054"></a><span class="lineno">10054</span> </div>
<div class="line"><a id="l10055" name="l10055"></a><span class="lineno">10055</span><span class="comment">// Get desired mouse cursor shape.</span></div>
<div class="line"><a id="l10056" name="l10056"></a><span class="lineno">10056</span><span class="comment">// Important: this is meant to be used by a platform backend, it is reset in ImGui::NewFrame(),</span></div>
<div class="line"><a id="l10057" name="l10057"></a><span class="lineno">10057</span><span class="comment">// updated during the frame, and locked in EndFrame()/Render().</span></div>
<div class="line"><a id="l10058" name="l10058"></a><span class="lineno">10058</span><span class="comment">// If you use software rendering by setting io.MouseDrawCursor then Dear ImGui will render those for you</span></div>
<div class="line"><a id="l10059" name="l10059"></a><span class="lineno">10059</span>ImGuiMouseCursor ImGui::GetMouseCursor()</div>
<div class="line"><a id="l10060" name="l10060"></a><span class="lineno">10060</span>{</div>
<div class="line"><a id="l10061" name="l10061"></a><span class="lineno">10061</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l10062" name="l10062"></a><span class="lineno">10062</span>    <span class="keywordflow">return</span> g.MouseCursor;</div>
<div class="line"><a id="l10063" name="l10063"></a><span class="lineno">10063</span>}</div>
<div class="line"><a id="l10064" name="l10064"></a><span class="lineno">10064</span> </div>
<div class="line"><a id="l10065" name="l10065"></a><span class="lineno">10065</span><span class="comment">// We intentionally accept values of ImGuiMouseCursor that are outside our bounds, in case users needs to hack-in a custom cursor value.</span></div>
<div class="line"><a id="l10066" name="l10066"></a><span class="lineno">10066</span><span class="comment">// Custom cursors may be handled by custom backends. If you are using a standard backend and want to hack in a custom cursor, you may</span></div>
<div class="line"><a id="l10067" name="l10067"></a><span class="lineno">10067</span><span class="comment">// handle it before the backend _NewFrame() call and temporarily set ImGuiConfigFlags_NoMouseCursorChange during the backend _NewFrame() call.</span></div>
<div class="line"><a id="l10068" name="l10068"></a><span class="lineno">10068</span><span class="keywordtype">void</span> ImGui::SetMouseCursor(ImGuiMouseCursor cursor_type)</div>
<div class="line"><a id="l10069" name="l10069"></a><span class="lineno">10069</span>{</div>
<div class="line"><a id="l10070" name="l10070"></a><span class="lineno">10070</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l10071" name="l10071"></a><span class="lineno">10071</span>    g.MouseCursor = cursor_type;</div>
<div class="line"><a id="l10072" name="l10072"></a><span class="lineno">10072</span>}</div>
<div class="line"><a id="l10073" name="l10073"></a><span class="lineno">10073</span> </div>
<div class="line"><a id="l10074" name="l10074"></a><span class="lineno">10074</span><span class="keyword">static</span> <span class="keywordtype">void</span> UpdateAliasKey(ImGuiKey key, <span class="keywordtype">bool</span> v, <span class="keywordtype">float</span> analog_value)</div>
<div class="line"><a id="l10075" name="l10075"></a><span class="lineno">10075</span>{</div>
<div class="line"><a id="l10076" name="l10076"></a><span class="lineno">10076</span>    IM_ASSERT(ImGui::IsAliasKey(key));</div>
<div class="line"><a id="l10077" name="l10077"></a><span class="lineno">10077</span>    <a class="code hl_struct" href="structImGuiKeyData.html">ImGuiKeyData</a>* key_data = ImGui::GetKeyData(key);</div>
<div class="line"><a id="l10078" name="l10078"></a><span class="lineno">10078</span>    key_data-&gt;Down = v;</div>
<div class="line"><a id="l10079" name="l10079"></a><span class="lineno">10079</span>    key_data-&gt;AnalogValue = analog_value;</div>
<div class="line"><a id="l10080" name="l10080"></a><span class="lineno">10080</span>}</div>
<div class="line"><a id="l10081" name="l10081"></a><span class="lineno">10081</span> </div>
<div class="line"><a id="l10082" name="l10082"></a><span class="lineno">10082</span><span class="comment">// [Internal] Do not use directly</span></div>
<div class="line"><a id="l10083" name="l10083"></a><span class="lineno">10083</span><span class="keyword">static</span> ImGuiKeyChord GetMergedModsFromKeys()</div>
<div class="line"><a id="l10084" name="l10084"></a><span class="lineno">10084</span>{</div>
<div class="line"><a id="l10085" name="l10085"></a><span class="lineno">10085</span>    ImGuiKeyChord mods = 0;</div>
<div class="line"><a id="l10086" name="l10086"></a><span class="lineno">10086</span>    <span class="keywordflow">if</span> (ImGui::IsKeyDown(ImGuiMod_Ctrl))     { mods |= ImGuiMod_Ctrl; }</div>
<div class="line"><a id="l10087" name="l10087"></a><span class="lineno">10087</span>    <span class="keywordflow">if</span> (ImGui::IsKeyDown(ImGuiMod_Shift))    { mods |= ImGuiMod_Shift; }</div>
<div class="line"><a id="l10088" name="l10088"></a><span class="lineno">10088</span>    <span class="keywordflow">if</span> (ImGui::IsKeyDown(ImGuiMod_Alt))      { mods |= ImGuiMod_Alt; }</div>
<div class="line"><a id="l10089" name="l10089"></a><span class="lineno">10089</span>    <span class="keywordflow">if</span> (ImGui::IsKeyDown(ImGuiMod_Super))    { mods |= ImGuiMod_Super; }</div>
<div class="line"><a id="l10090" name="l10090"></a><span class="lineno">10090</span>    <span class="keywordflow">return</span> mods;</div>
<div class="line"><a id="l10091" name="l10091"></a><span class="lineno">10091</span>}</div>
<div class="line"><a id="l10092" name="l10092"></a><span class="lineno">10092</span> </div>
<div class="line"><a id="l10093" name="l10093"></a><span class="lineno">10093</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::UpdateKeyboardInputs()</div>
<div class="line"><a id="l10094" name="l10094"></a><span class="lineno">10094</span>{</div>
<div class="line"><a id="l10095" name="l10095"></a><span class="lineno">10095</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l10096" name="l10096"></a><span class="lineno">10096</span>    <a class="code hl_struct" href="structImGuiIO.html">ImGuiIO</a>&amp; io = g.IO;</div>
<div class="line"><a id="l10097" name="l10097"></a><span class="lineno">10097</span> </div>
<div class="line"><a id="l10098" name="l10098"></a><span class="lineno">10098</span>    <span class="keywordflow">if</span> (io.ConfigFlags &amp; ImGuiConfigFlags_NoKeyboard)</div>
<div class="line"><a id="l10099" name="l10099"></a><span class="lineno">10099</span>        io.ClearInputKeys();</div>
<div class="line"><a id="l10100" name="l10100"></a><span class="lineno">10100</span> </div>
<div class="line"><a id="l10101" name="l10101"></a><span class="lineno">10101</span>    <span class="comment">// Update aliases</span></div>
<div class="line"><a id="l10102" name="l10102"></a><span class="lineno">10102</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; ImGuiMouseButton_COUNT; n++)</div>
<div class="line"><a id="l10103" name="l10103"></a><span class="lineno">10103</span>        UpdateAliasKey(MouseButtonToKey(n), io.MouseDown[n], io.MouseDown[n] ? 1.0f : 0.0f);</div>
<div class="line"><a id="l10104" name="l10104"></a><span class="lineno">10104</span>    UpdateAliasKey(ImGuiKey_MouseWheelX, io.MouseWheelH != 0.0f, io.MouseWheelH);</div>
<div class="line"><a id="l10105" name="l10105"></a><span class="lineno">10105</span>    UpdateAliasKey(ImGuiKey_MouseWheelY, io.MouseWheel != 0.0f, io.MouseWheel);</div>
<div class="line"><a id="l10106" name="l10106"></a><span class="lineno">10106</span> </div>
<div class="line"><a id="l10107" name="l10107"></a><span class="lineno">10107</span>    <span class="comment">// Synchronize io.KeyMods and io.KeyCtrl/io.KeyShift/etc. values.</span></div>
<div class="line"><a id="l10108" name="l10108"></a><span class="lineno">10108</span>    <span class="comment">// - New backends (1.87+): send io.AddKeyEvent(ImGuiMod_XXX) -&gt;                                      -&gt; (here) deriving io.KeyMods + io.KeyXXX from key array.</span></div>
<div class="line"><a id="l10109" name="l10109"></a><span class="lineno">10109</span>    <span class="comment">// - Legacy backends:      set io.KeyXXX bools               -&gt; (above) set key array from io.KeyXXX -&gt; (here) deriving io.KeyMods + io.KeyXXX from key array.</span></div>
<div class="line"><a id="l10110" name="l10110"></a><span class="lineno">10110</span>    <span class="comment">// So with legacy backends the 4 values will do a unnecessary back-and-forth but it makes the code simpler and future facing.</span></div>
<div class="line"><a id="l10111" name="l10111"></a><span class="lineno">10111</span>    <span class="keyword">const</span> ImGuiKeyChord prev_key_mods = io.KeyMods;</div>
<div class="line"><a id="l10112" name="l10112"></a><span class="lineno">10112</span>    io.KeyMods = GetMergedModsFromKeys();</div>
<div class="line"><a id="l10113" name="l10113"></a><span class="lineno">10113</span>    io.KeyCtrl = (io.KeyMods &amp; ImGuiMod_Ctrl) != 0;</div>
<div class="line"><a id="l10114" name="l10114"></a><span class="lineno">10114</span>    io.KeyShift = (io.KeyMods &amp; ImGuiMod_Shift) != 0;</div>
<div class="line"><a id="l10115" name="l10115"></a><span class="lineno">10115</span>    io.KeyAlt = (io.KeyMods &amp; ImGuiMod_Alt) != 0;</div>
<div class="line"><a id="l10116" name="l10116"></a><span class="lineno">10116</span>    io.KeySuper = (io.KeyMods &amp; ImGuiMod_Super) != 0;</div>
<div class="line"><a id="l10117" name="l10117"></a><span class="lineno">10117</span>    <span class="keywordflow">if</span> (prev_key_mods != io.KeyMods)</div>
<div class="line"><a id="l10118" name="l10118"></a><span class="lineno">10118</span>        g.LastKeyModsChangeTime = g.Time;</div>
<div class="line"><a id="l10119" name="l10119"></a><span class="lineno">10119</span>    <span class="keywordflow">if</span> (prev_key_mods != io.KeyMods &amp;&amp; prev_key_mods == 0)</div>
<div class="line"><a id="l10120" name="l10120"></a><span class="lineno">10120</span>        g.LastKeyModsChangeFromNoneTime = g.Time;</div>
<div class="line"><a id="l10121" name="l10121"></a><span class="lineno">10121</span> </div>
<div class="line"><a id="l10122" name="l10122"></a><span class="lineno">10122</span>    <span class="comment">// Clear gamepad data if disabled</span></div>
<div class="line"><a id="l10123" name="l10123"></a><span class="lineno">10123</span>    <span class="keywordflow">if</span> ((io.BackendFlags &amp; ImGuiBackendFlags_HasGamepad) == 0)</div>
<div class="line"><a id="l10124" name="l10124"></a><span class="lineno">10124</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> key = ImGuiKey_Gamepad_BEGIN; key &lt; ImGuiKey_Gamepad_END; key++)</div>
<div class="line"><a id="l10125" name="l10125"></a><span class="lineno">10125</span>        {</div>
<div class="line"><a id="l10126" name="l10126"></a><span class="lineno">10126</span>            io.KeysData[key - ImGuiKey_NamedKey_BEGIN].Down = <span class="keyword">false</span>;</div>
<div class="line"><a id="l10127" name="l10127"></a><span class="lineno">10127</span>            io.KeysData[key - ImGuiKey_NamedKey_BEGIN].AnalogValue = 0.0f;</div>
<div class="line"><a id="l10128" name="l10128"></a><span class="lineno">10128</span>        }</div>
<div class="line"><a id="l10129" name="l10129"></a><span class="lineno">10129</span> </div>
<div class="line"><a id="l10130" name="l10130"></a><span class="lineno">10130</span>    <span class="comment">// Update keys</span></div>
<div class="line"><a id="l10131" name="l10131"></a><span class="lineno">10131</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> key = ImGuiKey_NamedKey_BEGIN; key &lt; ImGuiKey_NamedKey_END; key++)</div>
<div class="line"><a id="l10132" name="l10132"></a><span class="lineno">10132</span>    {</div>
<div class="line"><a id="l10133" name="l10133"></a><span class="lineno">10133</span>        <a class="code hl_struct" href="structImGuiKeyData.html">ImGuiKeyData</a>* key_data = &amp;io.KeysData[key - ImGuiKey_NamedKey_BEGIN];</div>
<div class="line"><a id="l10134" name="l10134"></a><span class="lineno">10134</span>        key_data-&gt;DownDurationPrev = key_data-&gt;DownDuration;</div>
<div class="line"><a id="l10135" name="l10135"></a><span class="lineno">10135</span>        key_data-&gt;DownDuration = key_data-&gt;Down ? (key_data-&gt;DownDuration &lt; 0.0f ? 0.0f : key_data-&gt;DownDuration + io.DeltaTime) : -1.0f;</div>
<div class="line"><a id="l10136" name="l10136"></a><span class="lineno">10136</span>        <span class="keywordflow">if</span> (key_data-&gt;DownDuration == 0.0f)</div>
<div class="line"><a id="l10137" name="l10137"></a><span class="lineno">10137</span>        {</div>
<div class="line"><a id="l10138" name="l10138"></a><span class="lineno">10138</span>            <span class="keywordflow">if</span> (IsKeyboardKey((ImGuiKey)key))</div>
<div class="line"><a id="l10139" name="l10139"></a><span class="lineno">10139</span>                g.LastKeyboardKeyPressTime = g.Time;</div>
<div class="line"><a id="l10140" name="l10140"></a><span class="lineno">10140</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (key == ImGuiKey_ReservedForModCtrl || key == ImGuiKey_ReservedForModShift || key == ImGuiKey_ReservedForModAlt || key == ImGuiKey_ReservedForModSuper)</div>
<div class="line"><a id="l10141" name="l10141"></a><span class="lineno">10141</span>                g.LastKeyboardKeyPressTime = g.Time;</div>
<div class="line"><a id="l10142" name="l10142"></a><span class="lineno">10142</span>        }</div>
<div class="line"><a id="l10143" name="l10143"></a><span class="lineno">10143</span>    }</div>
<div class="line"><a id="l10144" name="l10144"></a><span class="lineno">10144</span> </div>
<div class="line"><a id="l10145" name="l10145"></a><span class="lineno">10145</span>    <span class="comment">// Update keys/input owner (named keys only): one entry per key</span></div>
<div class="line"><a id="l10146" name="l10146"></a><span class="lineno">10146</span>    <span class="keywordflow">for</span> (ImGuiKey key = ImGuiKey_NamedKey_BEGIN; key &lt; ImGuiKey_NamedKey_END; key = (ImGuiKey)(key + 1))</div>
<div class="line"><a id="l10147" name="l10147"></a><span class="lineno">10147</span>    {</div>
<div class="line"><a id="l10148" name="l10148"></a><span class="lineno">10148</span>        <a class="code hl_struct" href="structImGuiKeyData.html">ImGuiKeyData</a>* key_data = &amp;io.KeysData[key - ImGuiKey_NamedKey_BEGIN];</div>
<div class="line"><a id="l10149" name="l10149"></a><span class="lineno">10149</span>        <a class="code hl_struct" href="structImGuiKeyOwnerData.html">ImGuiKeyOwnerData</a>* owner_data = &amp;g.KeysOwnerData[key - ImGuiKey_NamedKey_BEGIN];</div>
<div class="line"><a id="l10150" name="l10150"></a><span class="lineno">10150</span>        owner_data-&gt;OwnerCurr = owner_data-&gt;OwnerNext;</div>
<div class="line"><a id="l10151" name="l10151"></a><span class="lineno">10151</span>        <span class="keywordflow">if</span> (!key_data-&gt;Down) <span class="comment">// Important: ownership is released on the frame after a release. Ensure a &#39;MouseDown -&gt; CloseWindow -&gt; MouseUp&#39; chain doesn&#39;t lead to someone else seeing the MouseUp.</span></div>
<div class="line"><a id="l10152" name="l10152"></a><span class="lineno">10152</span>            owner_data-&gt;OwnerNext = ImGuiKeyOwner_NoOwner;</div>
<div class="line"><a id="l10153" name="l10153"></a><span class="lineno">10153</span>        owner_data-&gt;LockThisFrame = owner_data-&gt;LockUntilRelease = owner_data-&gt;LockUntilRelease &amp;&amp; key_data-&gt;Down;  <span class="comment">// Clear LockUntilRelease when key is not Down anymore</span></div>
<div class="line"><a id="l10154" name="l10154"></a><span class="lineno">10154</span>    }</div>
<div class="line"><a id="l10155" name="l10155"></a><span class="lineno">10155</span> </div>
<div class="line"><a id="l10156" name="l10156"></a><span class="lineno">10156</span>    <span class="comment">// Update key routing (for e.g. shortcuts)</span></div>
<div class="line"><a id="l10157" name="l10157"></a><span class="lineno">10157</span>    UpdateKeyRoutingTable(&amp;g.KeysRoutingTable);</div>
<div class="line"><a id="l10158" name="l10158"></a><span class="lineno">10158</span>}</div>
<div class="line"><a id="l10159" name="l10159"></a><span class="lineno">10159</span> </div>
<div class="line"><a id="l10160" name="l10160"></a><span class="lineno">10160</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::UpdateMouseInputs()</div>
<div class="line"><a id="l10161" name="l10161"></a><span class="lineno">10161</span>{</div>
<div class="line"><a id="l10162" name="l10162"></a><span class="lineno">10162</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l10163" name="l10163"></a><span class="lineno">10163</span>    <a class="code hl_struct" href="structImGuiIO.html">ImGuiIO</a>&amp; io = g.IO;</div>
<div class="line"><a id="l10164" name="l10164"></a><span class="lineno">10164</span> </div>
<div class="line"><a id="l10165" name="l10165"></a><span class="lineno">10165</span>    <span class="comment">// Mouse Wheel swapping flag</span></div>
<div class="line"><a id="l10166" name="l10166"></a><span class="lineno">10166</span>    <span class="comment">// As a standard behavior holding SHIFT while using Vertical Mouse Wheel triggers Horizontal scroll instead</span></div>
<div class="line"><a id="l10167" name="l10167"></a><span class="lineno">10167</span>    <span class="comment">// - We avoid doing it on OSX as it the OS input layer handles this already.</span></div>
<div class="line"><a id="l10168" name="l10168"></a><span class="lineno">10168</span>    <span class="comment">// - FIXME: However this means when running on OSX over Emscripten, Shift+WheelY will incur two swapping (1 in OS, 1 here), canceling the feature.</span></div>
<div class="line"><a id="l10169" name="l10169"></a><span class="lineno">10169</span>    <span class="comment">// - FIXME: When we can distinguish e.g. touchpad scroll events from mouse ones, we&#39;ll set this accordingly based on input source.</span></div>
<div class="line"><a id="l10170" name="l10170"></a><span class="lineno">10170</span>    io.MouseWheelRequestAxisSwap = io.KeyShift &amp;&amp; !io.ConfigMacOSXBehaviors;</div>
<div class="line"><a id="l10171" name="l10171"></a><span class="lineno">10171</span> </div>
<div class="line"><a id="l10172" name="l10172"></a><span class="lineno">10172</span>    <span class="comment">// Round mouse position to avoid spreading non-rounded position (e.g. UpdateManualResize doesn&#39;t support them well)</span></div>
<div class="line"><a id="l10173" name="l10173"></a><span class="lineno">10173</span>    <span class="keywordflow">if</span> (IsMousePosValid(&amp;io.MousePos))</div>
<div class="line"><a id="l10174" name="l10174"></a><span class="lineno">10174</span>        io.MousePos = g.MouseLastValidPos = ImFloor(io.MousePos);</div>
<div class="line"><a id="l10175" name="l10175"></a><span class="lineno">10175</span> </div>
<div class="line"><a id="l10176" name="l10176"></a><span class="lineno">10176</span>    <span class="comment">// If mouse just appeared or disappeared (usually denoted by -FLT_MAX components) we cancel out movement in MouseDelta</span></div>
<div class="line"><a id="l10177" name="l10177"></a><span class="lineno">10177</span>    <span class="keywordflow">if</span> (IsMousePosValid(&amp;io.MousePos) &amp;&amp; IsMousePosValid(&amp;io.MousePosPrev))</div>
<div class="line"><a id="l10178" name="l10178"></a><span class="lineno">10178</span>        io.MouseDelta = io.MousePos - io.MousePosPrev;</div>
<div class="line"><a id="l10179" name="l10179"></a><span class="lineno">10179</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l10180" name="l10180"></a><span class="lineno">10180</span>        io.MouseDelta = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, 0.0f);</div>
<div class="line"><a id="l10181" name="l10181"></a><span class="lineno">10181</span> </div>
<div class="line"><a id="l10182" name="l10182"></a><span class="lineno">10182</span>    <span class="comment">// Update stationary timer.</span></div>
<div class="line"><a id="l10183" name="l10183"></a><span class="lineno">10183</span>    <span class="comment">// FIXME: May need to rework again to have some tolerance for occasional small movement, while being functional on high-framerates.</span></div>
<div class="line"><a id="l10184" name="l10184"></a><span class="lineno">10184</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> mouse_stationary_threshold = (io.MouseSource == ImGuiMouseSource_Mouse) ? 2.0f : 3.0f; <span class="comment">// Slightly higher threshold for ImGuiMouseSource_TouchScreen/ImGuiMouseSource_Pen, may need rework.</span></div>
<div class="line"><a id="l10185" name="l10185"></a><span class="lineno">10185</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> mouse_stationary = (ImLengthSqr(io.MouseDelta) &lt;= mouse_stationary_threshold * mouse_stationary_threshold);</div>
<div class="line"><a id="l10186" name="l10186"></a><span class="lineno">10186</span>    g.MouseStationaryTimer = mouse_stationary ? (g.MouseStationaryTimer + io.DeltaTime) : 0.0f;</div>
<div class="line"><a id="l10187" name="l10187"></a><span class="lineno">10187</span>    <span class="comment">//IMGUI_DEBUG_LOG(&quot;%.4f\n&quot;, g.MouseStationaryTimer);</span></div>
<div class="line"><a id="l10188" name="l10188"></a><span class="lineno">10188</span> </div>
<div class="line"><a id="l10189" name="l10189"></a><span class="lineno">10189</span>    <span class="comment">// If mouse moved we re-enable mouse hovering in case it was disabled by keyboard/gamepad. In theory should use a &gt;0.0f threshold but would need to reset in everywhere we set this to true.</span></div>
<div class="line"><a id="l10190" name="l10190"></a><span class="lineno">10190</span>    <span class="keywordflow">if</span> (io.MouseDelta.x != 0.0f || io.MouseDelta.y != 0.0f)</div>
<div class="line"><a id="l10191" name="l10191"></a><span class="lineno">10191</span>        g.NavHighlightItemUnderNav = <span class="keyword">false</span>;</div>
<div class="line"><a id="l10192" name="l10192"></a><span class="lineno">10192</span> </div>
<div class="line"><a id="l10193" name="l10193"></a><span class="lineno">10193</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; IM_ARRAYSIZE(io.MouseDown); i++)</div>
<div class="line"><a id="l10194" name="l10194"></a><span class="lineno">10194</span>    {</div>
<div class="line"><a id="l10195" name="l10195"></a><span class="lineno">10195</span>        io.MouseClicked[i] = io.MouseDown[i] &amp;&amp; io.MouseDownDuration[i] &lt; 0.0f;</div>
<div class="line"><a id="l10196" name="l10196"></a><span class="lineno">10196</span>        io.MouseClickedCount[i] = 0; <span class="comment">// Will be filled below</span></div>
<div class="line"><a id="l10197" name="l10197"></a><span class="lineno">10197</span>        io.MouseReleased[i] = !io.MouseDown[i] &amp;&amp; io.MouseDownDuration[i] &gt;= 0.0f;</div>
<div class="line"><a id="l10198" name="l10198"></a><span class="lineno">10198</span>        <span class="keywordflow">if</span> (io.MouseReleased[i])</div>
<div class="line"><a id="l10199" name="l10199"></a><span class="lineno">10199</span>            io.MouseReleasedTime[i] = g.Time;</div>
<div class="line"><a id="l10200" name="l10200"></a><span class="lineno">10200</span>        io.MouseDownDurationPrev[i] = io.MouseDownDuration[i];</div>
<div class="line"><a id="l10201" name="l10201"></a><span class="lineno">10201</span>        io.MouseDownDuration[i] = io.MouseDown[i] ? (io.MouseDownDuration[i] &lt; 0.0f ? 0.0f : io.MouseDownDuration[i] + io.DeltaTime) : -1.0f;</div>
<div class="line"><a id="l10202" name="l10202"></a><span class="lineno">10202</span>        <span class="keywordflow">if</span> (io.MouseClicked[i])</div>
<div class="line"><a id="l10203" name="l10203"></a><span class="lineno">10203</span>        {</div>
<div class="line"><a id="l10204" name="l10204"></a><span class="lineno">10204</span>            <span class="keywordtype">bool</span> is_repeated_click = <span class="keyword">false</span>;</div>
<div class="line"><a id="l10205" name="l10205"></a><span class="lineno">10205</span>            <span class="keywordflow">if</span> ((<span class="keywordtype">float</span>)(g.Time - io.MouseClickedTime[i]) &lt; io.MouseDoubleClickTime)</div>
<div class="line"><a id="l10206" name="l10206"></a><span class="lineno">10206</span>            {</div>
<div class="line"><a id="l10207" name="l10207"></a><span class="lineno">10207</span>                <a class="code hl_struct" href="structImVec2.html">ImVec2</a> delta_from_click_pos = IsMousePosValid(&amp;io.MousePos) ? (io.MousePos - io.MouseClickedPos[i]) : <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, 0.0f);</div>
<div class="line"><a id="l10208" name="l10208"></a><span class="lineno">10208</span>                <span class="keywordflow">if</span> (ImLengthSqr(delta_from_click_pos) &lt; io.MouseDoubleClickMaxDist * io.MouseDoubleClickMaxDist)</div>
<div class="line"><a id="l10209" name="l10209"></a><span class="lineno">10209</span>                    is_repeated_click = <span class="keyword">true</span>;</div>
<div class="line"><a id="l10210" name="l10210"></a><span class="lineno">10210</span>            }</div>
<div class="line"><a id="l10211" name="l10211"></a><span class="lineno">10211</span>            <span class="keywordflow">if</span> (is_repeated_click)</div>
<div class="line"><a id="l10212" name="l10212"></a><span class="lineno">10212</span>                io.MouseClickedLastCount[i]++;</div>
<div class="line"><a id="l10213" name="l10213"></a><span class="lineno">10213</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l10214" name="l10214"></a><span class="lineno">10214</span>                io.MouseClickedLastCount[i] = 1;</div>
<div class="line"><a id="l10215" name="l10215"></a><span class="lineno">10215</span>            io.MouseClickedTime[i] = g.Time;</div>
<div class="line"><a id="l10216" name="l10216"></a><span class="lineno">10216</span>            io.MouseClickedPos[i] = io.MousePos;</div>
<div class="line"><a id="l10217" name="l10217"></a><span class="lineno">10217</span>            io.MouseClickedCount[i] = io.MouseClickedLastCount[i];</div>
<div class="line"><a id="l10218" name="l10218"></a><span class="lineno">10218</span>            io.MouseDragMaxDistanceAbs[i] = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, 0.0f);</div>
<div class="line"><a id="l10219" name="l10219"></a><span class="lineno">10219</span>            io.MouseDragMaxDistanceSqr[i] = 0.0f;</div>
<div class="line"><a id="l10220" name="l10220"></a><span class="lineno">10220</span>        }</div>
<div class="line"><a id="l10221" name="l10221"></a><span class="lineno">10221</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (io.MouseDown[i])</div>
<div class="line"><a id="l10222" name="l10222"></a><span class="lineno">10222</span>        {</div>
<div class="line"><a id="l10223" name="l10223"></a><span class="lineno">10223</span>            <span class="comment">// Maintain the maximum distance we reaching from the initial click position, which is used with dragging threshold</span></div>
<div class="line"><a id="l10224" name="l10224"></a><span class="lineno">10224</span>            <a class="code hl_struct" href="structImVec2.html">ImVec2</a> delta_from_click_pos = IsMousePosValid(&amp;io.MousePos) ? (io.MousePos - io.MouseClickedPos[i]) : <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, 0.0f);</div>
<div class="line"><a id="l10225" name="l10225"></a><span class="lineno">10225</span>            io.MouseDragMaxDistanceSqr[i] = ImMax(io.MouseDragMaxDistanceSqr[i], ImLengthSqr(delta_from_click_pos));</div>
<div class="line"><a id="l10226" name="l10226"></a><span class="lineno">10226</span>            io.MouseDragMaxDistanceAbs[i].x = ImMax(io.MouseDragMaxDistanceAbs[i].x, delta_from_click_pos.x &lt; 0.0f ? -delta_from_click_pos.x : delta_from_click_pos.x);</div>
<div class="line"><a id="l10227" name="l10227"></a><span class="lineno">10227</span>            io.MouseDragMaxDistanceAbs[i].y = ImMax(io.MouseDragMaxDistanceAbs[i].y, delta_from_click_pos.y &lt; 0.0f ? -delta_from_click_pos.y : delta_from_click_pos.y);</div>
<div class="line"><a id="l10228" name="l10228"></a><span class="lineno">10228</span>        }</div>
<div class="line"><a id="l10229" name="l10229"></a><span class="lineno">10229</span> </div>
<div class="line"><a id="l10230" name="l10230"></a><span class="lineno">10230</span>        <span class="comment">// We provide io.MouseDoubleClicked[] as a legacy service</span></div>
<div class="line"><a id="l10231" name="l10231"></a><span class="lineno">10231</span>        io.MouseDoubleClicked[i] = (io.MouseClickedCount[i] == 2);</div>
<div class="line"><a id="l10232" name="l10232"></a><span class="lineno">10232</span> </div>
<div class="line"><a id="l10233" name="l10233"></a><span class="lineno">10233</span>        <span class="comment">// Clicking any mouse button reactivate mouse hovering which may have been deactivated by keyboard/gamepad navigation</span></div>
<div class="line"><a id="l10234" name="l10234"></a><span class="lineno">10234</span>        <span class="keywordflow">if</span> (io.MouseClicked[i])</div>
<div class="line"><a id="l10235" name="l10235"></a><span class="lineno">10235</span>            g.NavHighlightItemUnderNav = <span class="keyword">false</span>;</div>
<div class="line"><a id="l10236" name="l10236"></a><span class="lineno">10236</span>    }</div>
<div class="line"><a id="l10237" name="l10237"></a><span class="lineno">10237</span>}</div>
<div class="line"><a id="l10238" name="l10238"></a><span class="lineno">10238</span> </div>
<div class="line"><a id="l10239" name="l10239"></a><span class="lineno">10239</span><span class="keyword">static</span> <span class="keywordtype">void</span> LockWheelingWindow(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keywordtype">float</span> wheel_amount)</div>
<div class="line"><a id="l10240" name="l10240"></a><span class="lineno">10240</span>{</div>
<div class="line"><a id="l10241" name="l10241"></a><span class="lineno">10241</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l10242" name="l10242"></a><span class="lineno">10242</span>    <span class="keywordflow">if</span> (window)</div>
<div class="line"><a id="l10243" name="l10243"></a><span class="lineno">10243</span>        g.WheelingWindowReleaseTimer = ImMin(g.WheelingWindowReleaseTimer + ImAbs(wheel_amount) * WINDOWS_MOUSE_WHEEL_SCROLL_LOCK_TIMER, WINDOWS_MOUSE_WHEEL_SCROLL_LOCK_TIMER);</div>
<div class="line"><a id="l10244" name="l10244"></a><span class="lineno">10244</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l10245" name="l10245"></a><span class="lineno">10245</span>        g.WheelingWindowReleaseTimer = 0.0f;</div>
<div class="line"><a id="l10246" name="l10246"></a><span class="lineno">10246</span>    <span class="keywordflow">if</span> (g.WheelingWindow == window)</div>
<div class="line"><a id="l10247" name="l10247"></a><span class="lineno">10247</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l10248" name="l10248"></a><span class="lineno">10248</span>    IMGUI_DEBUG_LOG_IO(<span class="stringliteral">&quot;[io] LockWheelingWindow() \&quot;%s\&quot;\n&quot;</span>, window ? window-&gt;Name : <span class="stringliteral">&quot;NULL&quot;</span>);</div>
<div class="line"><a id="l10249" name="l10249"></a><span class="lineno">10249</span>    g.WheelingWindow = window;</div>
<div class="line"><a id="l10250" name="l10250"></a><span class="lineno">10250</span>    g.WheelingWindowRefMousePos = g.IO.MousePos;</div>
<div class="line"><a id="l10251" name="l10251"></a><span class="lineno">10251</span>    <span class="keywordflow">if</span> (window == NULL)</div>
<div class="line"><a id="l10252" name="l10252"></a><span class="lineno">10252</span>    {</div>
<div class="line"><a id="l10253" name="l10253"></a><span class="lineno">10253</span>        g.WheelingWindowStartFrame = -1;</div>
<div class="line"><a id="l10254" name="l10254"></a><span class="lineno">10254</span>        g.WheelingAxisAvg = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, 0.0f);</div>
<div class="line"><a id="l10255" name="l10255"></a><span class="lineno">10255</span>    }</div>
<div class="line"><a id="l10256" name="l10256"></a><span class="lineno">10256</span>}</div>
<div class="line"><a id="l10257" name="l10257"></a><span class="lineno">10257</span> </div>
<div class="line"><a id="l10258" name="l10258"></a><span class="lineno">10258</span><span class="keyword">static</span> <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* FindBestWheelingWindow(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; wheel)</div>
<div class="line"><a id="l10259" name="l10259"></a><span class="lineno">10259</span>{</div>
<div class="line"><a id="l10260" name="l10260"></a><span class="lineno">10260</span>    <span class="comment">// For each axis, find window in the hierarchy that may want to use scrolling</span></div>
<div class="line"><a id="l10261" name="l10261"></a><span class="lineno">10261</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l10262" name="l10262"></a><span class="lineno">10262</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* windows[2] = { NULL, NULL };</div>
<div class="line"><a id="l10263" name="l10263"></a><span class="lineno">10263</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> axis = 0; axis &lt; 2; axis++)</div>
<div class="line"><a id="l10264" name="l10264"></a><span class="lineno">10264</span>        <span class="keywordflow">if</span> (wheel[axis] != 0.0f)</div>
<div class="line"><a id="l10265" name="l10265"></a><span class="lineno">10265</span>            <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = windows[axis] = g.HoveredWindow; window-&gt;Flags &amp; ImGuiWindowFlags_ChildWindow; window = windows[axis] = window-&gt;ParentWindow)</div>
<div class="line"><a id="l10266" name="l10266"></a><span class="lineno">10266</span>            {</div>
<div class="line"><a id="l10267" name="l10267"></a><span class="lineno">10267</span>                <span class="comment">// Bubble up into parent window if:</span></div>
<div class="line"><a id="l10268" name="l10268"></a><span class="lineno">10268</span>                <span class="comment">// - a child window doesn&#39;t allow any scrolling.</span></div>
<div class="line"><a id="l10269" name="l10269"></a><span class="lineno">10269</span>                <span class="comment">// - a child window has the ImGuiWindowFlags_NoScrollWithMouse flag.</span></div>
<div class="line"><a id="l10271" name="l10271"></a><span class="lineno">10271</span>                <span class="keyword">const</span> <span class="keywordtype">bool</span> has_scrolling = (window-&gt;ScrollMax[axis] != 0.0f);</div>
<div class="line"><a id="l10272" name="l10272"></a><span class="lineno">10272</span>                <span class="keyword">const</span> <span class="keywordtype">bool</span> inputs_disabled = (window-&gt;Flags &amp; ImGuiWindowFlags_NoScrollWithMouse) &amp;&amp; !(window-&gt;Flags &amp; ImGuiWindowFlags_NoMouseInputs);</div>
<div class="line"><a id="l10273" name="l10273"></a><span class="lineno">10273</span>                <span class="comment">//const bool scrolling_past_limits = (wheel_v &lt; 0.0f) ? (window-&gt;Scroll[axis] &lt;= 0.0f) : (window-&gt;Scroll[axis] &gt;= window-&gt;ScrollMax[axis]);</span></div>
<div class="line"><a id="l10274" name="l10274"></a><span class="lineno">10274</span>                <span class="keywordflow">if</span> (has_scrolling &amp;&amp; !inputs_disabled) <span class="comment">// &amp;&amp; !scrolling_past_limits)</span></div>
<div class="line"><a id="l10275" name="l10275"></a><span class="lineno">10275</span>                    <span class="keywordflow">break</span>; <span class="comment">// select this window</span></div>
<div class="line"><a id="l10276" name="l10276"></a><span class="lineno">10276</span>            }</div>
<div class="line"><a id="l10277" name="l10277"></a><span class="lineno">10277</span>    <span class="keywordflow">if</span> (windows[0] == NULL &amp;&amp; windows[1] == NULL)</div>
<div class="line"><a id="l10278" name="l10278"></a><span class="lineno">10278</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l10279" name="l10279"></a><span class="lineno">10279</span> </div>
<div class="line"><a id="l10280" name="l10280"></a><span class="lineno">10280</span>    <span class="comment">// If there&#39;s only one window or only one axis then there&#39;s no ambiguity</span></div>
<div class="line"><a id="l10281" name="l10281"></a><span class="lineno">10281</span>    <span class="keywordflow">if</span> (windows[0] == windows[1] || windows[0] == NULL || windows[1] == NULL)</div>
<div class="line"><a id="l10282" name="l10282"></a><span class="lineno">10282</span>        <span class="keywordflow">return</span> windows[1] ? windows[1] : windows[0];</div>
<div class="line"><a id="l10283" name="l10283"></a><span class="lineno">10283</span> </div>
<div class="line"><a id="l10284" name="l10284"></a><span class="lineno">10284</span>    <span class="comment">// If candidate are different windows we need to decide which one to prioritize</span></div>
<div class="line"><a id="l10285" name="l10285"></a><span class="lineno">10285</span>    <span class="comment">// - First frame: only find a winner if one axis is zero.</span></div>
<div class="line"><a id="l10286" name="l10286"></a><span class="lineno">10286</span>    <span class="comment">// - Subsequent frames: only find a winner when one is more than the other.</span></div>
<div class="line"><a id="l10287" name="l10287"></a><span class="lineno">10287</span>    <span class="keywordflow">if</span> (g.WheelingWindowStartFrame == -1)</div>
<div class="line"><a id="l10288" name="l10288"></a><span class="lineno">10288</span>        g.WheelingWindowStartFrame = g.FrameCount;</div>
<div class="line"><a id="l10289" name="l10289"></a><span class="lineno">10289</span>    <span class="keywordflow">if</span> ((g.WheelingWindowStartFrame == g.FrameCount &amp;&amp; wheel.x != 0.0f &amp;&amp; wheel.y != 0.0f) || (g.WheelingAxisAvg.x == g.WheelingAxisAvg.y))</div>
<div class="line"><a id="l10290" name="l10290"></a><span class="lineno">10290</span>    {</div>
<div class="line"><a id="l10291" name="l10291"></a><span class="lineno">10291</span>        g.WheelingWindowWheelRemainder = wheel;</div>
<div class="line"><a id="l10292" name="l10292"></a><span class="lineno">10292</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l10293" name="l10293"></a><span class="lineno">10293</span>    }</div>
<div class="line"><a id="l10294" name="l10294"></a><span class="lineno">10294</span>    <span class="keywordflow">return</span> (g.WheelingAxisAvg.x &gt; g.WheelingAxisAvg.y) ? windows[0] : windows[1];</div>
<div class="line"><a id="l10295" name="l10295"></a><span class="lineno">10295</span>}</div>
<div class="line"><a id="l10296" name="l10296"></a><span class="lineno">10296</span> </div>
<div class="line"><a id="l10297" name="l10297"></a><span class="lineno">10297</span><span class="comment">// Called by NewFrame()</span></div>
<div class="line"><a id="l10298" name="l10298"></a><span class="lineno">10298</span><span class="keywordtype">void</span> ImGui::UpdateMouseWheel()</div>
<div class="line"><a id="l10299" name="l10299"></a><span class="lineno">10299</span>{</div>
<div class="line"><a id="l10300" name="l10300"></a><span class="lineno">10300</span>    <span class="comment">// Reset the locked window if we move the mouse or after the timer elapses.</span></div>
<div class="line"><a id="l10301" name="l10301"></a><span class="lineno">10301</span>    <span class="comment">// FIXME: Ideally we could refactor to have one timer for &quot;changing window w/ same axis&quot; and a shorter timer for &quot;changing window or axis w/ other axis&quot; (#3795)</span></div>
<div class="line"><a id="l10302" name="l10302"></a><span class="lineno">10302</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l10303" name="l10303"></a><span class="lineno">10303</span>    <span class="keywordflow">if</span> (g.WheelingWindow != NULL)</div>
<div class="line"><a id="l10304" name="l10304"></a><span class="lineno">10304</span>    {</div>
<div class="line"><a id="l10305" name="l10305"></a><span class="lineno">10305</span>        g.WheelingWindowReleaseTimer -= g.IO.DeltaTime;</div>
<div class="line"><a id="l10306" name="l10306"></a><span class="lineno">10306</span>        <span class="keywordflow">if</span> (IsMousePosValid() &amp;&amp; ImLengthSqr(g.IO.MousePos - g.WheelingWindowRefMousePos) &gt; g.IO.MouseDragThreshold * g.IO.MouseDragThreshold)</div>
<div class="line"><a id="l10307" name="l10307"></a><span class="lineno">10307</span>            g.WheelingWindowReleaseTimer = 0.0f;</div>
<div class="line"><a id="l10308" name="l10308"></a><span class="lineno">10308</span>        <span class="keywordflow">if</span> (g.WheelingWindowReleaseTimer &lt;= 0.0f)</div>
<div class="line"><a id="l10309" name="l10309"></a><span class="lineno">10309</span>            LockWheelingWindow(NULL, 0.0f);</div>
<div class="line"><a id="l10310" name="l10310"></a><span class="lineno">10310</span>    }</div>
<div class="line"><a id="l10311" name="l10311"></a><span class="lineno">10311</span> </div>
<div class="line"><a id="l10312" name="l10312"></a><span class="lineno">10312</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> wheel;</div>
<div class="line"><a id="l10313" name="l10313"></a><span class="lineno">10313</span>    wheel.x = TestKeyOwner(ImGuiKey_MouseWheelX, ImGuiKeyOwner_NoOwner) ? g.IO.MouseWheelH : 0.0f;</div>
<div class="line"><a id="l10314" name="l10314"></a><span class="lineno">10314</span>    wheel.y = TestKeyOwner(ImGuiKey_MouseWheelY, ImGuiKeyOwner_NoOwner) ? g.IO.MouseWheel : 0.0f;</div>
<div class="line"><a id="l10315" name="l10315"></a><span class="lineno">10315</span> </div>
<div class="line"><a id="l10316" name="l10316"></a><span class="lineno">10316</span>    <span class="comment">//IMGUI_DEBUG_LOG(&quot;MouseWheel X:%.3f Y:%.3f\n&quot;, wheel_x, wheel_y);</span></div>
<div class="line"><a id="l10317" name="l10317"></a><span class="lineno">10317</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* mouse_window = g.WheelingWindow ? g.WheelingWindow : g.HoveredWindow;</div>
<div class="line"><a id="l10318" name="l10318"></a><span class="lineno">10318</span>    <span class="keywordflow">if</span> (!mouse_window || mouse_window-&gt;Collapsed)</div>
<div class="line"><a id="l10319" name="l10319"></a><span class="lineno">10319</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l10320" name="l10320"></a><span class="lineno">10320</span> </div>
<div class="line"><a id="l10321" name="l10321"></a><span class="lineno">10321</span>    <span class="comment">// Zoom / Scale window</span></div>
<div class="line"><a id="l10322" name="l10322"></a><span class="lineno">10322</span>    <span class="comment">// FIXME-OBSOLETE: This is an old feature, it still works but pretty much nobody is using it and may be best redesigned.</span></div>
<div class="line"><a id="l10323" name="l10323"></a><span class="lineno">10323</span>    <span class="keywordflow">if</span> (wheel.y != 0.0f &amp;&amp; g.IO.KeyCtrl &amp;&amp; g.IO.FontAllowUserScaling)</div>
<div class="line"><a id="l10324" name="l10324"></a><span class="lineno">10324</span>    {</div>
<div class="line"><a id="l10325" name="l10325"></a><span class="lineno">10325</span>        LockWheelingWindow(mouse_window, wheel.y);</div>
<div class="line"><a id="l10326" name="l10326"></a><span class="lineno">10326</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = mouse_window;</div>
<div class="line"><a id="l10327" name="l10327"></a><span class="lineno">10327</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> new_font_scale = ImClamp(window-&gt;FontWindowScale + g.IO.MouseWheel * 0.10f, 0.50f, 2.50f);</div>
<div class="line"><a id="l10328" name="l10328"></a><span class="lineno">10328</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> scale = new_font_scale / window-&gt;FontWindowScale;</div>
<div class="line"><a id="l10329" name="l10329"></a><span class="lineno">10329</span>        window-&gt;FontWindowScale = new_font_scale;</div>
<div class="line"><a id="l10330" name="l10330"></a><span class="lineno">10330</span>        <span class="keywordflow">if</span> (window == window-&gt;RootWindow)</div>
<div class="line"><a id="l10331" name="l10331"></a><span class="lineno">10331</span>        {</div>
<div class="line"><a id="l10332" name="l10332"></a><span class="lineno">10332</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> offset = window-&gt;Size * (1.0f - scale) * (g.IO.MousePos - window-&gt;Pos) / window-&gt;Size;</div>
<div class="line"><a id="l10333" name="l10333"></a><span class="lineno">10333</span>            SetWindowPos(window, window-&gt;Pos + offset, 0);</div>
<div class="line"><a id="l10334" name="l10334"></a><span class="lineno">10334</span>            window-&gt;Size = ImTrunc(window-&gt;Size * scale);</div>
<div class="line"><a id="l10335" name="l10335"></a><span class="lineno">10335</span>            window-&gt;SizeFull = ImTrunc(window-&gt;SizeFull * scale);</div>
<div class="line"><a id="l10336" name="l10336"></a><span class="lineno">10336</span>        }</div>
<div class="line"><a id="l10337" name="l10337"></a><span class="lineno">10337</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l10338" name="l10338"></a><span class="lineno">10338</span>    }</div>
<div class="line"><a id="l10339" name="l10339"></a><span class="lineno">10339</span>    <span class="keywordflow">if</span> (g.IO.KeyCtrl)</div>
<div class="line"><a id="l10340" name="l10340"></a><span class="lineno">10340</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l10341" name="l10341"></a><span class="lineno">10341</span> </div>
<div class="line"><a id="l10342" name="l10342"></a><span class="lineno">10342</span>    <span class="comment">// Mouse wheel scrolling</span></div>
<div class="line"><a id="l10343" name="l10343"></a><span class="lineno">10343</span>    <span class="comment">// Read about io.MouseWheelRequestAxisSwap and its issue on Mac+Emscripten in UpdateMouseInputs()</span></div>
<div class="line"><a id="l10344" name="l10344"></a><span class="lineno">10344</span>    <span class="keywordflow">if</span> (g.IO.MouseWheelRequestAxisSwap)</div>
<div class="line"><a id="l10345" name="l10345"></a><span class="lineno">10345</span>        wheel = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(wheel.y, 0.0f);</div>
<div class="line"><a id="l10346" name="l10346"></a><span class="lineno">10346</span> </div>
<div class="line"><a id="l10347" name="l10347"></a><span class="lineno">10347</span>    <span class="comment">// Maintain a rough average of moving magnitude on both axes</span></div>
<div class="line"><a id="l10348" name="l10348"></a><span class="lineno">10348</span>    <span class="comment">// FIXME: should by based on wall clock time rather than frame-counter</span></div>
<div class="line"><a id="l10349" name="l10349"></a><span class="lineno">10349</span>    g.WheelingAxisAvg.x = ImExponentialMovingAverage(g.WheelingAxisAvg.x, ImAbs(wheel.x), 30);</div>
<div class="line"><a id="l10350" name="l10350"></a><span class="lineno">10350</span>    g.WheelingAxisAvg.y = ImExponentialMovingAverage(g.WheelingAxisAvg.y, ImAbs(wheel.y), 30);</div>
<div class="line"><a id="l10351" name="l10351"></a><span class="lineno">10351</span> </div>
<div class="line"><a id="l10352" name="l10352"></a><span class="lineno">10352</span>    <span class="comment">// In the rare situation where FindBestWheelingWindow() had to defer first frame of wheeling due to ambiguous main axis, reinject it now.</span></div>
<div class="line"><a id="l10353" name="l10353"></a><span class="lineno">10353</span>    wheel += g.WheelingWindowWheelRemainder;</div>
<div class="line"><a id="l10354" name="l10354"></a><span class="lineno">10354</span>    g.WheelingWindowWheelRemainder = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, 0.0f);</div>
<div class="line"><a id="l10355" name="l10355"></a><span class="lineno">10355</span>    <span class="keywordflow">if</span> (wheel.x == 0.0f &amp;&amp; wheel.y == 0.0f)</div>
<div class="line"><a id="l10356" name="l10356"></a><span class="lineno">10356</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l10357" name="l10357"></a><span class="lineno">10357</span> </div>
<div class="line"><a id="l10358" name="l10358"></a><span class="lineno">10358</span>    <span class="comment">// Mouse wheel scrolling: find target and apply</span></div>
<div class="line"><a id="l10359" name="l10359"></a><span class="lineno">10359</span>    <span class="comment">// - don&#39;t renew lock if axis doesn&#39;t apply on the window.</span></div>
<div class="line"><a id="l10360" name="l10360"></a><span class="lineno">10360</span>    <span class="comment">// - select a main axis when both axes are being moved.</span></div>
<div class="line"><a id="l10361" name="l10361"></a><span class="lineno">10361</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = (g.WheelingWindow ? g.WheelingWindow : FindBestWheelingWindow(wheel)))</div>
<div class="line"><a id="l10362" name="l10362"></a><span class="lineno">10362</span>        if (!(window-&gt;Flags &amp; ImGuiWindowFlags_NoScrollWithMouse) &amp;&amp; !(window-&gt;Flags &amp; ImGuiWindowFlags_NoMouseInputs))</div>
<div class="line"><a id="l10363" name="l10363"></a><span class="lineno">10363</span>        {</div>
<div class="line"><a id="l10364" name="l10364"></a><span class="lineno">10364</span>            <span class="keywordtype">bool</span> do_scroll[2] = { wheel.x != 0.0f &amp;&amp; window-&gt;ScrollMax.x != 0.0f, wheel.y != 0.0f &amp;&amp; window-&gt;ScrollMax.y != 0.0f };</div>
<div class="line"><a id="l10365" name="l10365"></a><span class="lineno">10365</span>            <span class="keywordflow">if</span> (do_scroll[ImGuiAxis_X] &amp;&amp; do_scroll[ImGuiAxis_Y])</div>
<div class="line"><a id="l10366" name="l10366"></a><span class="lineno">10366</span>                do_scroll[(g.WheelingAxisAvg.x &gt; g.WheelingAxisAvg.y) ? ImGuiAxis_Y : ImGuiAxis_X] = false;</div>
<div class="line"><a id="l10367" name="l10367"></a><span class="lineno">10367</span>            <span class="keywordflow">if</span> (do_scroll[ImGuiAxis_X])</div>
<div class="line"><a id="l10368" name="l10368"></a><span class="lineno">10368</span>            {</div>
<div class="line"><a id="l10369" name="l10369"></a><span class="lineno">10369</span>                LockWheelingWindow(window, wheel.x);</div>
<div class="line"><a id="l10370" name="l10370"></a><span class="lineno">10370</span>                <span class="keywordtype">float</span> max_step = window-&gt;InnerRect.GetWidth() * 0.67f;</div>
<div class="line"><a id="l10371" name="l10371"></a><span class="lineno">10371</span>                <span class="keywordtype">float</span> scroll_step = ImTrunc(ImMin(2 * window-&gt;FontRefSize, max_step));</div>
<div class="line"><a id="l10372" name="l10372"></a><span class="lineno">10372</span>                SetScrollX(window, window-&gt;Scroll.x - wheel.x * scroll_step);</div>
<div class="line"><a id="l10373" name="l10373"></a><span class="lineno">10373</span>                g.WheelingWindowScrolledFrame = g.FrameCount;</div>
<div class="line"><a id="l10374" name="l10374"></a><span class="lineno">10374</span>            }</div>
<div class="line"><a id="l10375" name="l10375"></a><span class="lineno">10375</span>            <span class="keywordflow">if</span> (do_scroll[ImGuiAxis_Y])</div>
<div class="line"><a id="l10376" name="l10376"></a><span class="lineno">10376</span>            {</div>
<div class="line"><a id="l10377" name="l10377"></a><span class="lineno">10377</span>                LockWheelingWindow(window, wheel.y);</div>
<div class="line"><a id="l10378" name="l10378"></a><span class="lineno">10378</span>                <span class="keywordtype">float</span> max_step = window-&gt;InnerRect.GetHeight() * 0.67f;</div>
<div class="line"><a id="l10379" name="l10379"></a><span class="lineno">10379</span>                <span class="keywordtype">float</span> scroll_step = ImTrunc(ImMin(5 * window-&gt;FontRefSize, max_step));</div>
<div class="line"><a id="l10380" name="l10380"></a><span class="lineno">10380</span>                SetScrollY(window, window-&gt;Scroll.y - wheel.y * scroll_step);</div>
<div class="line"><a id="l10381" name="l10381"></a><span class="lineno">10381</span>                g.WheelingWindowScrolledFrame = g.FrameCount;</div>
<div class="line"><a id="l10382" name="l10382"></a><span class="lineno">10382</span>            }</div>
<div class="line"><a id="l10383" name="l10383"></a><span class="lineno">10383</span>        }</div>
<div class="line"><a id="l10384" name="l10384"></a><span class="lineno">10384</span>}</div>
<div class="line"><a id="l10385" name="l10385"></a><span class="lineno">10385</span> </div>
<div class="line"><a id="l10386" name="l10386"></a><span class="lineno">10386</span><span class="keywordtype">void</span> ImGui::SetNextFrameWantCaptureKeyboard(<span class="keywordtype">bool</span> want_capture_keyboard)</div>
<div class="line"><a id="l10387" name="l10387"></a><span class="lineno">10387</span>{</div>
<div class="line"><a id="l10388" name="l10388"></a><span class="lineno">10388</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l10389" name="l10389"></a><span class="lineno">10389</span>    g.WantCaptureKeyboardNextFrame = want_capture_keyboard ? 1 : 0;</div>
<div class="line"><a id="l10390" name="l10390"></a><span class="lineno">10390</span>}</div>
<div class="line"><a id="l10391" name="l10391"></a><span class="lineno">10391</span> </div>
<div class="line"><a id="l10392" name="l10392"></a><span class="lineno">10392</span><span class="keywordtype">void</span> ImGui::SetNextFrameWantCaptureMouse(<span class="keywordtype">bool</span> want_capture_mouse)</div>
<div class="line"><a id="l10393" name="l10393"></a><span class="lineno">10393</span>{</div>
<div class="line"><a id="l10394" name="l10394"></a><span class="lineno">10394</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l10395" name="l10395"></a><span class="lineno">10395</span>    g.WantCaptureMouseNextFrame = want_capture_mouse ? 1 : 0;</div>
<div class="line"><a id="l10396" name="l10396"></a><span class="lineno">10396</span>}</div>
<div class="line"><a id="l10397" name="l10397"></a><span class="lineno">10397</span> </div>
<div class="line"><a id="l10398" name="l10398"></a><span class="lineno">10398</span><span class="preprocessor">#ifndef IMGUI_DISABLE_DEBUG_TOOLS</span></div>
<div class="line"><a id="l10399" name="l10399"></a><span class="lineno">10399</span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* GetInputSourceName(ImGuiInputSource source)</div>
<div class="line"><a id="l10400" name="l10400"></a><span class="lineno">10400</span>{</div>
<div class="line"><a id="l10401" name="l10401"></a><span class="lineno">10401</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* input_source_names[] = { <span class="stringliteral">&quot;None&quot;</span>, <span class="stringliteral">&quot;Mouse&quot;</span>, <span class="stringliteral">&quot;Keyboard&quot;</span>, <span class="stringliteral">&quot;Gamepad&quot;</span> };</div>
<div class="line"><a id="l10402" name="l10402"></a><span class="lineno">10402</span>    IM_ASSERT(IM_ARRAYSIZE(input_source_names) == ImGuiInputSource_COUNT &amp;&amp; source &gt;= 0 &amp;&amp; source &lt; ImGuiInputSource_COUNT);</div>
<div class="line"><a id="l10403" name="l10403"></a><span class="lineno">10403</span>    <span class="keywordflow">return</span> input_source_names[source];</div>
<div class="line"><a id="l10404" name="l10404"></a><span class="lineno">10404</span>}</div>
<div class="line"><a id="l10405" name="l10405"></a><span class="lineno">10405</span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* GetMouseSourceName(ImGuiMouseSource source)</div>
<div class="line"><a id="l10406" name="l10406"></a><span class="lineno">10406</span>{</div>
<div class="line"><a id="l10407" name="l10407"></a><span class="lineno">10407</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* mouse_source_names[] = { <span class="stringliteral">&quot;Mouse&quot;</span>, <span class="stringliteral">&quot;TouchScreen&quot;</span>, <span class="stringliteral">&quot;Pen&quot;</span> };</div>
<div class="line"><a id="l10408" name="l10408"></a><span class="lineno">10408</span>    IM_ASSERT(IM_ARRAYSIZE(mouse_source_names) == ImGuiMouseSource_COUNT &amp;&amp; source &gt;= 0 &amp;&amp; source &lt; ImGuiMouseSource_COUNT);</div>
<div class="line"><a id="l10409" name="l10409"></a><span class="lineno">10409</span>    <span class="keywordflow">return</span> mouse_source_names[source];</div>
<div class="line"><a id="l10410" name="l10410"></a><span class="lineno">10410</span>}</div>
<div class="line"><a id="l10411" name="l10411"></a><span class="lineno">10411</span><span class="keyword">static</span> <span class="keywordtype">void</span> DebugPrintInputEvent(<span class="keyword">const</span> <span class="keywordtype">char</span>* prefix, <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiInputEvent.html">ImGuiInputEvent</a>* e)</div>
<div class="line"><a id="l10412" name="l10412"></a><span class="lineno">10412</span>{</div>
<div class="line"><a id="l10413" name="l10413"></a><span class="lineno">10413</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l10414" name="l10414"></a><span class="lineno">10414</span>    <span class="keywordflow">if</span> (e-&gt;Type == ImGuiInputEventType_MousePos)    { <span class="keywordflow">if</span> (e-&gt;MousePos.PosX == -FLT_MAX &amp;&amp; e-&gt;MousePos.PosY == -FLT_MAX) IMGUI_DEBUG_LOG_IO(<span class="stringliteral">&quot;[io] %s: MousePos (-FLT_MAX, -FLT_MAX)\n&quot;</span>, prefix); <span class="keywordflow">else</span> IMGUI_DEBUG_LOG_IO(<span class="stringliteral">&quot;[io] %s: MousePos (%.1f, %.1f) (%s)\n&quot;</span>, prefix, e-&gt;MousePos.PosX, e-&gt;MousePos.PosY, GetMouseSourceName(e-&gt;MousePos.MouseSource)); <span class="keywordflow">return</span>; }</div>
<div class="line"><a id="l10415" name="l10415"></a><span class="lineno">10415</span>    <span class="keywordflow">if</span> (e-&gt;Type == ImGuiInputEventType_MouseButton) { IMGUI_DEBUG_LOG_IO(<span class="stringliteral">&quot;[io] %s: MouseButton %d %s (%s)\n&quot;</span>, prefix, e-&gt;MouseButton.Button, e-&gt;MouseButton.Down ? <span class="stringliteral">&quot;Down&quot;</span> : <span class="stringliteral">&quot;Up&quot;</span>, GetMouseSourceName(e-&gt;MouseButton.MouseSource)); <span class="keywordflow">return</span>; }</div>
<div class="line"><a id="l10416" name="l10416"></a><span class="lineno">10416</span>    <span class="keywordflow">if</span> (e-&gt;Type == ImGuiInputEventType_MouseWheel)  { IMGUI_DEBUG_LOG_IO(<span class="stringliteral">&quot;[io] %s: MouseWheel (%.3f, %.3f) (%s)\n&quot;</span>, prefix, e-&gt;MouseWheel.WheelX, e-&gt;MouseWheel.WheelY, GetMouseSourceName(e-&gt;MouseWheel.MouseSource)); <span class="keywordflow">return</span>; }</div>
<div class="line"><a id="l10417" name="l10417"></a><span class="lineno">10417</span>    <span class="keywordflow">if</span> (e-&gt;Type == ImGuiInputEventType_MouseViewport){IMGUI_DEBUG_LOG_IO(<span class="stringliteral">&quot;[io] %s: MouseViewport (0x%08X)\n&quot;</span>, prefix, e-&gt;MouseViewport.HoveredViewportID); <span class="keywordflow">return</span>; }</div>
<div class="line"><a id="l10418" name="l10418"></a><span class="lineno">10418</span>    <span class="keywordflow">if</span> (e-&gt;Type == ImGuiInputEventType_Key)         { IMGUI_DEBUG_LOG_IO(<span class="stringliteral">&quot;[io] %s: Key \&quot;%s\&quot; %s\n&quot;</span>, prefix, ImGui::GetKeyName(e-&gt;Key.Key), e-&gt;Key.Down ? <span class="stringliteral">&quot;Down&quot;</span> : <span class="stringliteral">&quot;Up&quot;</span>); <span class="keywordflow">return</span>; }</div>
<div class="line"><a id="l10419" name="l10419"></a><span class="lineno">10419</span>    <span class="keywordflow">if</span> (e-&gt;Type == ImGuiInputEventType_Text)        { IMGUI_DEBUG_LOG_IO(<span class="stringliteral">&quot;[io] %s: Text: %c (U+%08X)\n&quot;</span>, prefix, e-&gt;Text.Char, e-&gt;Text.Char); <span class="keywordflow">return</span>; }</div>
<div class="line"><a id="l10420" name="l10420"></a><span class="lineno">10420</span>    <span class="keywordflow">if</span> (e-&gt;Type == ImGuiInputEventType_Focus)       { IMGUI_DEBUG_LOG_IO(<span class="stringliteral">&quot;[io] %s: AppFocused %d\n&quot;</span>, prefix, e-&gt;AppFocused.Focused); <span class="keywordflow">return</span>; }</div>
<div class="line"><a id="l10421" name="l10421"></a><span class="lineno">10421</span>}</div>
<div class="line"><a id="l10422" name="l10422"></a><span class="lineno">10422</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l10423" name="l10423"></a><span class="lineno">10423</span> </div>
<div class="line"><a id="l10424" name="l10424"></a><span class="lineno">10424</span><span class="comment">// Process input queue</span></div>
<div class="line"><a id="l10425" name="l10425"></a><span class="lineno">10425</span><span class="comment">// We always call this with the value of &#39;bool g.IO.ConfigInputTrickleEventQueue&#39;.</span></div>
<div class="line"><a id="l10426" name="l10426"></a><span class="lineno">10426</span><span class="comment">// - trickle_fast_inputs = false : process all events, turn into flattened input state (e.g. successive down/up/down/up will be lost)</span></div>
<div class="line"><a id="l10427" name="l10427"></a><span class="lineno">10427</span><span class="comment">// - trickle_fast_inputs = true  : process as many events as possible (successive down/up/down/up will be trickled over several frames so nothing is lost) (new feature in 1.87)</span></div>
<div class="line"><a id="l10428" name="l10428"></a><span class="lineno">10428</span><span class="keywordtype">void</span> ImGui::UpdateInputEvents(<span class="keywordtype">bool</span> trickle_fast_inputs)</div>
<div class="line"><a id="l10429" name="l10429"></a><span class="lineno">10429</span>{</div>
<div class="line"><a id="l10430" name="l10430"></a><span class="lineno">10430</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l10431" name="l10431"></a><span class="lineno">10431</span>    <a class="code hl_struct" href="structImGuiIO.html">ImGuiIO</a>&amp; io = g.IO;</div>
<div class="line"><a id="l10432" name="l10432"></a><span class="lineno">10432</span> </div>
<div class="line"><a id="l10433" name="l10433"></a><span class="lineno">10433</span>    <span class="comment">// Only trickle chars&lt;&gt;key when working with InputText()</span></div>
<div class="line"><a id="l10434" name="l10434"></a><span class="lineno">10434</span>    <span class="comment">// FIXME: InputText() could parse event trail?</span></div>
<div class="line"><a id="l10435" name="l10435"></a><span class="lineno">10435</span>    <span class="comment">// FIXME: Could specialize chars&lt;&gt;keys trickling rules for control keys (those not typically associated to characters)</span></div>
<div class="line"><a id="l10436" name="l10436"></a><span class="lineno">10436</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> trickle_interleaved_nonchar_keys_and_text = (trickle_fast_inputs &amp;&amp; g.WantTextInputNextFrame == 1);</div>
<div class="line"><a id="l10437" name="l10437"></a><span class="lineno">10437</span> </div>
<div class="line"><a id="l10438" name="l10438"></a><span class="lineno">10438</span>    <span class="keywordtype">bool</span> mouse_moved = <span class="keyword">false</span>, mouse_wheeled = <span class="keyword">false</span>, key_changed = <span class="keyword">false</span>, key_changed_nonchar = <span class="keyword">false</span>, text_inputted = <span class="keyword">false</span>;</div>
<div class="line"><a id="l10439" name="l10439"></a><span class="lineno">10439</span>    <span class="keywordtype">int</span>  mouse_button_changed = 0x00;</div>
<div class="line"><a id="l10440" name="l10440"></a><span class="lineno">10440</span>    <a class="code hl_struct" href="structImBitArray.html">ImBitArray&lt;ImGuiKey_NamedKey_COUNT&gt;</a> key_changed_mask;</div>
<div class="line"><a id="l10441" name="l10441"></a><span class="lineno">10441</span> </div>
<div class="line"><a id="l10442" name="l10442"></a><span class="lineno">10442</span>    <span class="keywordtype">int</span> event_n = 0;</div>
<div class="line"><a id="l10443" name="l10443"></a><span class="lineno">10443</span>    <span class="keywordflow">for</span> (; event_n &lt; g.InputEventsQueue.Size; event_n++)</div>
<div class="line"><a id="l10444" name="l10444"></a><span class="lineno">10444</span>    {</div>
<div class="line"><a id="l10445" name="l10445"></a><span class="lineno">10445</span>        <a class="code hl_struct" href="structImGuiInputEvent.html">ImGuiInputEvent</a>* e = &amp;g.InputEventsQueue[event_n];</div>
<div class="line"><a id="l10446" name="l10446"></a><span class="lineno">10446</span>        <span class="keywordflow">if</span> (e-&gt;Type == ImGuiInputEventType_MousePos)</div>
<div class="line"><a id="l10447" name="l10447"></a><span class="lineno">10447</span>        {</div>
<div class="line"><a id="l10448" name="l10448"></a><span class="lineno">10448</span>            <span class="keywordflow">if</span> (g.IO.WantSetMousePos)</div>
<div class="line"><a id="l10449" name="l10449"></a><span class="lineno">10449</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l10450" name="l10450"></a><span class="lineno">10450</span>            <span class="comment">// Trickling Rule: Stop processing queued events if we already handled a mouse button change</span></div>
<div class="line"><a id="l10451" name="l10451"></a><span class="lineno">10451</span>            <a class="code hl_struct" href="structImVec2.html">ImVec2</a> event_pos(e-&gt;MousePos.PosX, e-&gt;MousePos.PosY);</div>
<div class="line"><a id="l10452" name="l10452"></a><span class="lineno">10452</span>            <span class="keywordflow">if</span> (trickle_fast_inputs &amp;&amp; (mouse_button_changed != 0 || mouse_wheeled || key_changed || text_inputted))</div>
<div class="line"><a id="l10453" name="l10453"></a><span class="lineno">10453</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l10454" name="l10454"></a><span class="lineno">10454</span>            io.MousePos = event_pos;</div>
<div class="line"><a id="l10455" name="l10455"></a><span class="lineno">10455</span>            io.MouseSource = e-&gt;MousePos.MouseSource;</div>
<div class="line"><a id="l10456" name="l10456"></a><span class="lineno">10456</span>            mouse_moved = <span class="keyword">true</span>;</div>
<div class="line"><a id="l10457" name="l10457"></a><span class="lineno">10457</span>        }</div>
<div class="line"><a id="l10458" name="l10458"></a><span class="lineno">10458</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e-&gt;Type == ImGuiInputEventType_MouseButton)</div>
<div class="line"><a id="l10459" name="l10459"></a><span class="lineno">10459</span>        {</div>
<div class="line"><a id="l10460" name="l10460"></a><span class="lineno">10460</span>            <span class="comment">// Trickling Rule: Stop processing queued events if we got multiple action on the same button</span></div>
<div class="line"><a id="l10461" name="l10461"></a><span class="lineno">10461</span>            <span class="keyword">const</span> ImGuiMouseButton button = e-&gt;MouseButton.Button;</div>
<div class="line"><a id="l10462" name="l10462"></a><span class="lineno">10462</span>            IM_ASSERT(button &gt;= 0 &amp;&amp; button &lt; ImGuiMouseButton_COUNT);</div>
<div class="line"><a id="l10463" name="l10463"></a><span class="lineno">10463</span>            <span class="keywordflow">if</span> (trickle_fast_inputs &amp;&amp; ((mouse_button_changed &amp; (1 &lt;&lt; button)) || mouse_wheeled))</div>
<div class="line"><a id="l10464" name="l10464"></a><span class="lineno">10464</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l10465" name="l10465"></a><span class="lineno">10465</span>            <span class="keywordflow">if</span> (trickle_fast_inputs &amp;&amp; e-&gt;MouseButton.MouseSource == ImGuiMouseSource_TouchScreen &amp;&amp; mouse_moved) <span class="comment">// #2702: TouchScreen have no initial hover.</span></div>
<div class="line"><a id="l10466" name="l10466"></a><span class="lineno">10466</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l10467" name="l10467"></a><span class="lineno">10467</span>            io.MouseDown[button] = e-&gt;MouseButton.Down;</div>
<div class="line"><a id="l10468" name="l10468"></a><span class="lineno">10468</span>            io.MouseSource = e-&gt;MouseButton.MouseSource;</div>
<div class="line"><a id="l10469" name="l10469"></a><span class="lineno">10469</span>            mouse_button_changed |= (1 &lt;&lt; button);</div>
<div class="line"><a id="l10470" name="l10470"></a><span class="lineno">10470</span>        }</div>
<div class="line"><a id="l10471" name="l10471"></a><span class="lineno">10471</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e-&gt;Type == ImGuiInputEventType_MouseWheel)</div>
<div class="line"><a id="l10472" name="l10472"></a><span class="lineno">10472</span>        {</div>
<div class="line"><a id="l10473" name="l10473"></a><span class="lineno">10473</span>            <span class="comment">// Trickling Rule: Stop processing queued events if we got multiple action on the event</span></div>
<div class="line"><a id="l10474" name="l10474"></a><span class="lineno">10474</span>            <span class="keywordflow">if</span> (trickle_fast_inputs &amp;&amp; (mouse_moved || mouse_button_changed != 0))</div>
<div class="line"><a id="l10475" name="l10475"></a><span class="lineno">10475</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l10476" name="l10476"></a><span class="lineno">10476</span>            io.MouseWheelH += e-&gt;MouseWheel.WheelX;</div>
<div class="line"><a id="l10477" name="l10477"></a><span class="lineno">10477</span>            io.MouseWheel += e-&gt;MouseWheel.WheelY;</div>
<div class="line"><a id="l10478" name="l10478"></a><span class="lineno">10478</span>            io.MouseSource = e-&gt;MouseWheel.MouseSource;</div>
<div class="line"><a id="l10479" name="l10479"></a><span class="lineno">10479</span>            mouse_wheeled = <span class="keyword">true</span>;</div>
<div class="line"><a id="l10480" name="l10480"></a><span class="lineno">10480</span>        }</div>
<div class="line"><a id="l10481" name="l10481"></a><span class="lineno">10481</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e-&gt;Type == ImGuiInputEventType_MouseViewport)</div>
<div class="line"><a id="l10482" name="l10482"></a><span class="lineno">10482</span>        {</div>
<div class="line"><a id="l10483" name="l10483"></a><span class="lineno">10483</span>            io.MouseHoveredViewport = e-&gt;MouseViewport.HoveredViewportID;</div>
<div class="line"><a id="l10484" name="l10484"></a><span class="lineno">10484</span>        }</div>
<div class="line"><a id="l10485" name="l10485"></a><span class="lineno">10485</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e-&gt;Type == ImGuiInputEventType_Key)</div>
<div class="line"><a id="l10486" name="l10486"></a><span class="lineno">10486</span>        {</div>
<div class="line"><a id="l10487" name="l10487"></a><span class="lineno">10487</span>            <span class="comment">// Trickling Rule: Stop processing queued events if we got multiple action on the same button</span></div>
<div class="line"><a id="l10488" name="l10488"></a><span class="lineno">10488</span>            <span class="keywordflow">if</span> (io.ConfigFlags &amp; ImGuiConfigFlags_NoKeyboard)</div>
<div class="line"><a id="l10489" name="l10489"></a><span class="lineno">10489</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l10490" name="l10490"></a><span class="lineno">10490</span>            ImGuiKey key = e-&gt;Key.Key;</div>
<div class="line"><a id="l10491" name="l10491"></a><span class="lineno">10491</span>            IM_ASSERT(key != ImGuiKey_None);</div>
<div class="line"><a id="l10492" name="l10492"></a><span class="lineno">10492</span>            <a class="code hl_struct" href="structImGuiKeyData.html">ImGuiKeyData</a>* key_data = GetKeyData(key);</div>
<div class="line"><a id="l10493" name="l10493"></a><span class="lineno">10493</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> key_data_index = (int)(key_data - g.IO.KeysData);</div>
<div class="line"><a id="l10494" name="l10494"></a><span class="lineno">10494</span>            <span class="keywordflow">if</span> (trickle_fast_inputs &amp;&amp; key_data-&gt;Down != e-&gt;Key.Down &amp;&amp; (key_changed_mask.TestBit(key_data_index) || mouse_button_changed != 0))</div>
<div class="line"><a id="l10495" name="l10495"></a><span class="lineno">10495</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l10496" name="l10496"></a><span class="lineno">10496</span> </div>
<div class="line"><a id="l10497" name="l10497"></a><span class="lineno">10497</span>            <span class="keyword">const</span> <span class="keywordtype">bool</span> key_is_potentially_for_char_input = IsKeyChordPotentiallyCharInput(GetMergedModsFromKeys() | key);</div>
<div class="line"><a id="l10498" name="l10498"></a><span class="lineno">10498</span>            <span class="keywordflow">if</span> (trickle_interleaved_nonchar_keys_and_text &amp;&amp; (text_inputted &amp;&amp; !key_is_potentially_for_char_input))</div>
<div class="line"><a id="l10499" name="l10499"></a><span class="lineno">10499</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l10500" name="l10500"></a><span class="lineno">10500</span> </div>
<div class="line"><a id="l10501" name="l10501"></a><span class="lineno">10501</span>            <span class="keywordflow">if</span> (key_data-&gt;Down != e-&gt;Key.Down) <span class="comment">// Analog change only do not trigger this, so it won&#39;t block e.g. further mouse pos events testing key_changed.</span></div>
<div class="line"><a id="l10502" name="l10502"></a><span class="lineno">10502</span>            {</div>
<div class="line"><a id="l10503" name="l10503"></a><span class="lineno">10503</span>                key_changed = <span class="keyword">true</span>;</div>
<div class="line"><a id="l10504" name="l10504"></a><span class="lineno">10504</span>                key_changed_mask.SetBit(key_data_index);</div>
<div class="line"><a id="l10505" name="l10505"></a><span class="lineno">10505</span>                <span class="keywordflow">if</span> (trickle_interleaved_nonchar_keys_and_text &amp;&amp; !key_is_potentially_for_char_input)</div>
<div class="line"><a id="l10506" name="l10506"></a><span class="lineno">10506</span>                    key_changed_nonchar = <span class="keyword">true</span>;</div>
<div class="line"><a id="l10507" name="l10507"></a><span class="lineno">10507</span>            }</div>
<div class="line"><a id="l10508" name="l10508"></a><span class="lineno">10508</span> </div>
<div class="line"><a id="l10509" name="l10509"></a><span class="lineno">10509</span>            key_data-&gt;Down = e-&gt;Key.Down;</div>
<div class="line"><a id="l10510" name="l10510"></a><span class="lineno">10510</span>            key_data-&gt;AnalogValue = e-&gt;Key.AnalogValue;</div>
<div class="line"><a id="l10511" name="l10511"></a><span class="lineno">10511</span>        }</div>
<div class="line"><a id="l10512" name="l10512"></a><span class="lineno">10512</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e-&gt;Type == ImGuiInputEventType_Text)</div>
<div class="line"><a id="l10513" name="l10513"></a><span class="lineno">10513</span>        {</div>
<div class="line"><a id="l10514" name="l10514"></a><span class="lineno">10514</span>            <span class="keywordflow">if</span> (io.ConfigFlags &amp; ImGuiConfigFlags_NoKeyboard)</div>
<div class="line"><a id="l10515" name="l10515"></a><span class="lineno">10515</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l10516" name="l10516"></a><span class="lineno">10516</span>            <span class="comment">// Trickling Rule: Stop processing queued events if keys/mouse have been interacted with</span></div>
<div class="line"><a id="l10517" name="l10517"></a><span class="lineno">10517</span>            <span class="keywordflow">if</span> (trickle_fast_inputs &amp;&amp; (mouse_button_changed != 0 || mouse_moved || mouse_wheeled))</div>
<div class="line"><a id="l10518" name="l10518"></a><span class="lineno">10518</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l10519" name="l10519"></a><span class="lineno">10519</span>            <span class="keywordflow">if</span> (trickle_interleaved_nonchar_keys_and_text &amp;&amp; key_changed_nonchar)</div>
<div class="line"><a id="l10520" name="l10520"></a><span class="lineno">10520</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l10521" name="l10521"></a><span class="lineno">10521</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> c = e-&gt;Text.Char;</div>
<div class="line"><a id="l10522" name="l10522"></a><span class="lineno">10522</span>            io.InputQueueCharacters.push_back(c &lt;= IM_UNICODE_CODEPOINT_MAX ? (ImWchar)c : IM_UNICODE_CODEPOINT_INVALID);</div>
<div class="line"><a id="l10523" name="l10523"></a><span class="lineno">10523</span>            <span class="keywordflow">if</span> (trickle_interleaved_nonchar_keys_and_text)</div>
<div class="line"><a id="l10524" name="l10524"></a><span class="lineno">10524</span>                text_inputted = <span class="keyword">true</span>;</div>
<div class="line"><a id="l10525" name="l10525"></a><span class="lineno">10525</span>        }</div>
<div class="line"><a id="l10526" name="l10526"></a><span class="lineno">10526</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e-&gt;Type == ImGuiInputEventType_Focus)</div>
<div class="line"><a id="l10527" name="l10527"></a><span class="lineno">10527</span>        {</div>
<div class="line"><a id="l10528" name="l10528"></a><span class="lineno">10528</span>            <span class="comment">// We intentionally overwrite this and process in NewFrame(), in order to give a chance</span></div>
<div class="line"><a id="l10529" name="l10529"></a><span class="lineno">10529</span>            <span class="comment">// to multi-viewports backends to queue AddFocusEvent(false) + AddFocusEvent(true) in same frame.</span></div>
<div class="line"><a id="l10530" name="l10530"></a><span class="lineno">10530</span>            <span class="keyword">const</span> <span class="keywordtype">bool</span> focus_lost = !e-&gt;AppFocused.Focused;</div>
<div class="line"><a id="l10531" name="l10531"></a><span class="lineno">10531</span>            io.AppFocusLost = focus_lost;</div>
<div class="line"><a id="l10532" name="l10532"></a><span class="lineno">10532</span>        }</div>
<div class="line"><a id="l10533" name="l10533"></a><span class="lineno">10533</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l10534" name="l10534"></a><span class="lineno">10534</span>        {</div>
<div class="line"><a id="l10535" name="l10535"></a><span class="lineno">10535</span>            IM_ASSERT(0 &amp;&amp; <span class="stringliteral">&quot;Unknown event!&quot;</span>);</div>
<div class="line"><a id="l10536" name="l10536"></a><span class="lineno">10536</span>        }</div>
<div class="line"><a id="l10537" name="l10537"></a><span class="lineno">10537</span>    }</div>
<div class="line"><a id="l10538" name="l10538"></a><span class="lineno">10538</span> </div>
<div class="line"><a id="l10539" name="l10539"></a><span class="lineno">10539</span>    <span class="comment">// Record trail (for domain-specific applications wanting to access a precise trail)</span></div>
<div class="line"><a id="l10540" name="l10540"></a><span class="lineno">10540</span>    <span class="comment">//if (event_n != 0) IMGUI_DEBUG_LOG_IO(&quot;Processed: %d / Remaining: %d\n&quot;, event_n, g.InputEventsQueue.Size - event_n);</span></div>
<div class="line"><a id="l10541" name="l10541"></a><span class="lineno">10541</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; event_n; n++)</div>
<div class="line"><a id="l10542" name="l10542"></a><span class="lineno">10542</span>        g.InputEventsTrail.push_back(g.InputEventsQueue[n]);</div>
<div class="line"><a id="l10543" name="l10543"></a><span class="lineno">10543</span> </div>
<div class="line"><a id="l10544" name="l10544"></a><span class="lineno">10544</span>    <span class="comment">// [DEBUG]</span></div>
<div class="line"><a id="l10545" name="l10545"></a><span class="lineno">10545</span><span class="preprocessor">#ifndef IMGUI_DISABLE_DEBUG_TOOLS</span></div>
<div class="line"><a id="l10546" name="l10546"></a><span class="lineno">10546</span>    <span class="keywordflow">if</span> (event_n != 0 &amp;&amp; (g.DebugLogFlags &amp; ImGuiDebugLogFlags_EventIO))</div>
<div class="line"><a id="l10547" name="l10547"></a><span class="lineno">10547</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; g.InputEventsQueue.Size; n++)</div>
<div class="line"><a id="l10548" name="l10548"></a><span class="lineno">10548</span>            DebugPrintInputEvent(n &lt; event_n ? <span class="stringliteral">&quot;Processed&quot;</span> : <span class="stringliteral">&quot;Remaining&quot;</span>, &amp;g.InputEventsQueue[n]);</div>
<div class="line"><a id="l10549" name="l10549"></a><span class="lineno">10549</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l10550" name="l10550"></a><span class="lineno">10550</span> </div>
<div class="line"><a id="l10551" name="l10551"></a><span class="lineno">10551</span>    <span class="comment">// Remaining events will be processed on the next frame</span></div>
<div class="line"><a id="l10552" name="l10552"></a><span class="lineno">10552</span>    <span class="keywordflow">if</span> (event_n == g.InputEventsQueue.Size)</div>
<div class="line"><a id="l10553" name="l10553"></a><span class="lineno">10553</span>        g.InputEventsQueue.resize(0);</div>
<div class="line"><a id="l10554" name="l10554"></a><span class="lineno">10554</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l10555" name="l10555"></a><span class="lineno">10555</span>        g.InputEventsQueue.erase(g.InputEventsQueue.Data, g.InputEventsQueue.Data + event_n);</div>
<div class="line"><a id="l10556" name="l10556"></a><span class="lineno">10556</span> </div>
<div class="line"><a id="l10557" name="l10557"></a><span class="lineno">10557</span>    <span class="comment">// Clear buttons state when focus is lost</span></div>
<div class="line"><a id="l10558" name="l10558"></a><span class="lineno">10558</span>    <span class="comment">// - this is useful so e.g. releasing Alt after focus loss on Alt-Tab doesn&#39;t trigger the Alt menu toggle.</span></div>
<div class="line"><a id="l10559" name="l10559"></a><span class="lineno">10559</span>    <span class="comment">// - we clear in EndFrame() and not now in order allow application/user code polling this flag</span></div>
<div class="line"><a id="l10560" name="l10560"></a><span class="lineno">10560</span>    <span class="comment">//   (e.g. custom backend may want to clear additional data, custom widgets may want to react with a &quot;canceling&quot; event).</span></div>
<div class="line"><a id="l10561" name="l10561"></a><span class="lineno">10561</span>    <span class="keywordflow">if</span> (g.IO.AppFocusLost)</div>
<div class="line"><a id="l10562" name="l10562"></a><span class="lineno">10562</span>    {</div>
<div class="line"><a id="l10563" name="l10563"></a><span class="lineno">10563</span>        g.IO.ClearInputKeys();</div>
<div class="line"><a id="l10564" name="l10564"></a><span class="lineno">10564</span>        g.IO.ClearInputMouse();</div>
<div class="line"><a id="l10565" name="l10565"></a><span class="lineno">10565</span>    }</div>
<div class="line"><a id="l10566" name="l10566"></a><span class="lineno">10566</span>}</div>
<div class="line"><a id="l10567" name="l10567"></a><span class="lineno">10567</span> </div>
<div class="line"><a id="l10568" name="l10568"></a><span class="lineno">10568</span>ImGuiID ImGui::GetKeyOwner(ImGuiKey key)</div>
<div class="line"><a id="l10569" name="l10569"></a><span class="lineno">10569</span>{</div>
<div class="line"><a id="l10570" name="l10570"></a><span class="lineno">10570</span>    <span class="keywordflow">if</span> (!IsNamedKeyOrMod(key))</div>
<div class="line"><a id="l10571" name="l10571"></a><span class="lineno">10571</span>        <span class="keywordflow">return</span> ImGuiKeyOwner_NoOwner;</div>
<div class="line"><a id="l10572" name="l10572"></a><span class="lineno">10572</span> </div>
<div class="line"><a id="l10573" name="l10573"></a><span class="lineno">10573</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l10574" name="l10574"></a><span class="lineno">10574</span>    <a class="code hl_struct" href="structImGuiKeyOwnerData.html">ImGuiKeyOwnerData</a>* owner_data = GetKeyOwnerData(&amp;g, key);</div>
<div class="line"><a id="l10575" name="l10575"></a><span class="lineno">10575</span>    ImGuiID owner_id = owner_data-&gt;OwnerCurr;</div>
<div class="line"><a id="l10576" name="l10576"></a><span class="lineno">10576</span> </div>
<div class="line"><a id="l10577" name="l10577"></a><span class="lineno">10577</span>    <span class="keywordflow">if</span> (g.ActiveIdUsingAllKeyboardKeys &amp;&amp; owner_id != g.ActiveId &amp;&amp; owner_id != ImGuiKeyOwner_Any)</div>
<div class="line"><a id="l10578" name="l10578"></a><span class="lineno">10578</span>        <span class="keywordflow">if</span> (key &gt;= ImGuiKey_Keyboard_BEGIN &amp;&amp; key &lt; ImGuiKey_Keyboard_END)</div>
<div class="line"><a id="l10579" name="l10579"></a><span class="lineno">10579</span>            <span class="keywordflow">return</span> ImGuiKeyOwner_NoOwner;</div>
<div class="line"><a id="l10580" name="l10580"></a><span class="lineno">10580</span> </div>
<div class="line"><a id="l10581" name="l10581"></a><span class="lineno">10581</span>    <span class="keywordflow">return</span> owner_id;</div>
<div class="line"><a id="l10582" name="l10582"></a><span class="lineno">10582</span>}</div>
<div class="line"><a id="l10583" name="l10583"></a><span class="lineno">10583</span> </div>
<div class="line"><a id="l10584" name="l10584"></a><span class="lineno">10584</span><span class="comment">// TestKeyOwner(..., ID)   : (owner == None || owner == ID)</span></div>
<div class="line"><a id="l10585" name="l10585"></a><span class="lineno">10585</span><span class="comment">// TestKeyOwner(..., None) : (owner == None)</span></div>
<div class="line"><a id="l10586" name="l10586"></a><span class="lineno">10586</span><span class="comment">// TestKeyOwner(..., Any)  : no owner test</span></div>
<div class="line"><a id="l10587" name="l10587"></a><span class="lineno">10587</span><span class="comment">// All paths are also testing for key not being locked, for the rare cases that key have been locked with using ImGuiInputFlags_LockXXX flags.</span></div>
<div class="line"><a id="l10588" name="l10588"></a><span class="lineno">10588</span><span class="keywordtype">bool</span> ImGui::TestKeyOwner(ImGuiKey key, ImGuiID owner_id)</div>
<div class="line"><a id="l10589" name="l10589"></a><span class="lineno">10589</span>{</div>
<div class="line"><a id="l10590" name="l10590"></a><span class="lineno">10590</span>    <span class="keywordflow">if</span> (!IsNamedKeyOrMod(key))</div>
<div class="line"><a id="l10591" name="l10591"></a><span class="lineno">10591</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l10592" name="l10592"></a><span class="lineno">10592</span> </div>
<div class="line"><a id="l10593" name="l10593"></a><span class="lineno">10593</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l10594" name="l10594"></a><span class="lineno">10594</span>    <span class="keywordflow">if</span> (g.ActiveIdUsingAllKeyboardKeys &amp;&amp; owner_id != g.ActiveId &amp;&amp; owner_id != ImGuiKeyOwner_Any)</div>
<div class="line"><a id="l10595" name="l10595"></a><span class="lineno">10595</span>        <span class="keywordflow">if</span> (key &gt;= ImGuiKey_Keyboard_BEGIN &amp;&amp; key &lt; ImGuiKey_Keyboard_END)</div>
<div class="line"><a id="l10596" name="l10596"></a><span class="lineno">10596</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l10597" name="l10597"></a><span class="lineno">10597</span> </div>
<div class="line"><a id="l10598" name="l10598"></a><span class="lineno">10598</span>    <a class="code hl_struct" href="structImGuiKeyOwnerData.html">ImGuiKeyOwnerData</a>* owner_data = GetKeyOwnerData(&amp;g, key);</div>
<div class="line"><a id="l10599" name="l10599"></a><span class="lineno">10599</span>    <span class="keywordflow">if</span> (owner_id == ImGuiKeyOwner_Any)</div>
<div class="line"><a id="l10600" name="l10600"></a><span class="lineno">10600</span>        <span class="keywordflow">return</span> (owner_data-&gt;LockThisFrame == <span class="keyword">false</span>);</div>
<div class="line"><a id="l10601" name="l10601"></a><span class="lineno">10601</span> </div>
<div class="line"><a id="l10602" name="l10602"></a><span class="lineno">10602</span>    <span class="comment">// Note: SetKeyOwner() sets OwnerCurr. It is not strictly required for most mouse routing overlap (because of ActiveId/HoveredId</span></div>
<div class="line"><a id="l10603" name="l10603"></a><span class="lineno">10603</span>    <span class="comment">// are acting as filter before this has a chance to filter), but sane as soon as user tries to look into things.</span></div>
<div class="line"><a id="l10604" name="l10604"></a><span class="lineno">10604</span>    <span class="comment">// Setting OwnerCurr in SetKeyOwner() is more consistent than testing OwnerNext here: would be inconsistent with getter and other functions.</span></div>
<div class="line"><a id="l10605" name="l10605"></a><span class="lineno">10605</span>    <span class="keywordflow">if</span> (owner_data-&gt;OwnerCurr != owner_id)</div>
<div class="line"><a id="l10606" name="l10606"></a><span class="lineno">10606</span>    {</div>
<div class="line"><a id="l10607" name="l10607"></a><span class="lineno">10607</span>        <span class="keywordflow">if</span> (owner_data-&gt;LockThisFrame)</div>
<div class="line"><a id="l10608" name="l10608"></a><span class="lineno">10608</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l10609" name="l10609"></a><span class="lineno">10609</span>        <span class="keywordflow">if</span> (owner_data-&gt;OwnerCurr != ImGuiKeyOwner_NoOwner)</div>
<div class="line"><a id="l10610" name="l10610"></a><span class="lineno">10610</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l10611" name="l10611"></a><span class="lineno">10611</span>    }</div>
<div class="line"><a id="l10612" name="l10612"></a><span class="lineno">10612</span> </div>
<div class="line"><a id="l10613" name="l10613"></a><span class="lineno">10613</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l10614" name="l10614"></a><span class="lineno">10614</span>}</div>
<div class="line"><a id="l10615" name="l10615"></a><span class="lineno">10615</span> </div>
<div class="line"><a id="l10616" name="l10616"></a><span class="lineno">10616</span><span class="comment">// _LockXXX flags are useful to lock keys away from code which is not input-owner aware.</span></div>
<div class="line"><a id="l10617" name="l10617"></a><span class="lineno">10617</span><span class="comment">// When using _LockXXX flags, you can use ImGuiKeyOwner_Any to lock keys from everyone.</span></div>
<div class="line"><a id="l10618" name="l10618"></a><span class="lineno">10618</span><span class="comment">// - SetKeyOwner(..., None)              : clears owner</span></div>
<div class="line"><a id="l10619" name="l10619"></a><span class="lineno">10619</span><span class="comment">// - SetKeyOwner(..., Any, !Lock)        : illegal (assert)</span></div>
<div class="line"><a id="l10620" name="l10620"></a><span class="lineno">10620</span><span class="comment">// - SetKeyOwner(..., Any or None, Lock) : set lock</span></div>
<div class="line"><a id="l10621" name="l10621"></a><span class="lineno">10621</span><span class="keywordtype">void</span> ImGui::SetKeyOwner(ImGuiKey key, ImGuiID owner_id, ImGuiInputFlags flags)</div>
<div class="line"><a id="l10622" name="l10622"></a><span class="lineno">10622</span>{</div>
<div class="line"><a id="l10623" name="l10623"></a><span class="lineno">10623</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l10624" name="l10624"></a><span class="lineno">10624</span>    IM_ASSERT(IsNamedKeyOrMod(key) &amp;&amp; (owner_id != ImGuiKeyOwner_Any || (flags &amp; (ImGuiInputFlags_LockThisFrame | ImGuiInputFlags_LockUntilRelease)))); <span class="comment">// Can only use _Any with _LockXXX flags (to eat a key away without an ID to retrieve it)</span></div>
<div class="line"><a id="l10625" name="l10625"></a><span class="lineno">10625</span>    IM_ASSERT((flags &amp; ~ImGuiInputFlags_SupportedBySetKeyOwner) == 0); <span class="comment">// Passing flags not supported by this function!</span></div>
<div class="line"><a id="l10626" name="l10626"></a><span class="lineno">10626</span>    <span class="comment">//IMGUI_DEBUG_LOG(&quot;SetKeyOwner(%s, owner_id=0x%08X, flags=%08X)\n&quot;, GetKeyName(key), owner_id, flags);</span></div>
<div class="line"><a id="l10627" name="l10627"></a><span class="lineno">10627</span> </div>
<div class="line"><a id="l10628" name="l10628"></a><span class="lineno">10628</span>    <a class="code hl_struct" href="structImGuiKeyOwnerData.html">ImGuiKeyOwnerData</a>* owner_data = GetKeyOwnerData(&amp;g, key);</div>
<div class="line"><a id="l10629" name="l10629"></a><span class="lineno">10629</span>    owner_data-&gt;OwnerCurr = owner_data-&gt;OwnerNext = owner_id;</div>
<div class="line"><a id="l10630" name="l10630"></a><span class="lineno">10630</span> </div>
<div class="line"><a id="l10631" name="l10631"></a><span class="lineno">10631</span>    <span class="comment">// We cannot lock by default as it would likely break lots of legacy code.</span></div>
<div class="line"><a id="l10632" name="l10632"></a><span class="lineno">10632</span>    <span class="comment">// In the case of using LockUntilRelease while key is not down we still lock during the frame (no key_data-&gt;Down test)</span></div>
<div class="line"><a id="l10633" name="l10633"></a><span class="lineno">10633</span>    owner_data-&gt;LockUntilRelease = (flags &amp; ImGuiInputFlags_LockUntilRelease) != 0;</div>
<div class="line"><a id="l10634" name="l10634"></a><span class="lineno">10634</span>    owner_data-&gt;LockThisFrame = (flags &amp; ImGuiInputFlags_LockThisFrame) != 0 || (owner_data-&gt;LockUntilRelease);</div>
<div class="line"><a id="l10635" name="l10635"></a><span class="lineno">10635</span>}</div>
<div class="line"><a id="l10636" name="l10636"></a><span class="lineno">10636</span> </div>
<div class="line"><a id="l10637" name="l10637"></a><span class="lineno">10637</span><span class="comment">// Rarely used helper</span></div>
<div class="line"><a id="l10638" name="l10638"></a><span class="lineno">10638</span><span class="keywordtype">void</span> ImGui::SetKeyOwnersForKeyChord(ImGuiKeyChord key_chord, ImGuiID owner_id, ImGuiInputFlags flags)</div>
<div class="line"><a id="l10639" name="l10639"></a><span class="lineno">10639</span>{</div>
<div class="line"><a id="l10640" name="l10640"></a><span class="lineno">10640</span>    <span class="keywordflow">if</span> (key_chord &amp; ImGuiMod_Ctrl)      { SetKeyOwner(ImGuiMod_Ctrl, owner_id, flags); }</div>
<div class="line"><a id="l10641" name="l10641"></a><span class="lineno">10641</span>    <span class="keywordflow">if</span> (key_chord &amp; ImGuiMod_Shift)     { SetKeyOwner(ImGuiMod_Shift, owner_id, flags); }</div>
<div class="line"><a id="l10642" name="l10642"></a><span class="lineno">10642</span>    <span class="keywordflow">if</span> (key_chord &amp; ImGuiMod_Alt)       { SetKeyOwner(ImGuiMod_Alt, owner_id, flags); }</div>
<div class="line"><a id="l10643" name="l10643"></a><span class="lineno">10643</span>    <span class="keywordflow">if</span> (key_chord &amp; ImGuiMod_Super)     { SetKeyOwner(ImGuiMod_Super, owner_id, flags); }</div>
<div class="line"><a id="l10644" name="l10644"></a><span class="lineno">10644</span>    <span class="keywordflow">if</span> (key_chord &amp; ~ImGuiMod_Mask_)    { SetKeyOwner((ImGuiKey)(key_chord &amp; ~ImGuiMod_Mask_), owner_id, flags); }</div>
<div class="line"><a id="l10645" name="l10645"></a><span class="lineno">10645</span>}</div>
<div class="line"><a id="l10646" name="l10646"></a><span class="lineno">10646</span> </div>
<div class="line"><a id="l10647" name="l10647"></a><span class="lineno">10647</span><span class="comment">// This is more or less equivalent to:</span></div>
<div class="line"><a id="l10648" name="l10648"></a><span class="lineno">10648</span><span class="comment">//   if (IsItemHovered() || IsItemActive())</span></div>
<div class="line"><a id="l10649" name="l10649"></a><span class="lineno">10649</span><span class="comment">//       SetKeyOwner(key, GetItemID());</span></div>
<div class="line"><a id="l10650" name="l10650"></a><span class="lineno">10650</span><span class="comment">// Extensive uses of that (e.g. many calls for a single item) may want to manually perform the tests once and then call SetKeyOwner() multiple times.</span></div>
<div class="line"><a id="l10651" name="l10651"></a><span class="lineno">10651</span><span class="comment">// More advanced usage scenarios may want to call SetKeyOwner() manually based on different condition.</span></div>
<div class="line"><a id="l10652" name="l10652"></a><span class="lineno">10652</span><span class="comment">// Worth noting is that only one item can be hovered and only one item can be active, therefore this usage pattern doesn&#39;t need to bother with routing and priority.</span></div>
<div class="line"><a id="l10653" name="l10653"></a><span class="lineno">10653</span><span class="keywordtype">void</span> ImGui::SetItemKeyOwner(ImGuiKey key, ImGuiInputFlags flags)</div>
<div class="line"><a id="l10654" name="l10654"></a><span class="lineno">10654</span>{</div>
<div class="line"><a id="l10655" name="l10655"></a><span class="lineno">10655</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l10656" name="l10656"></a><span class="lineno">10656</span>    ImGuiID <span class="keywordtype">id</span> = g.LastItemData.ID;</div>
<div class="line"><a id="l10657" name="l10657"></a><span class="lineno">10657</span>    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == 0 || (g.HoveredId != <span class="keywordtype">id</span> &amp;&amp; g.ActiveId != <span class="keywordtype">id</span>))</div>
<div class="line"><a id="l10658" name="l10658"></a><span class="lineno">10658</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l10659" name="l10659"></a><span class="lineno">10659</span>    <span class="keywordflow">if</span> ((flags &amp; ImGuiInputFlags_CondMask_) == 0)</div>
<div class="line"><a id="l10660" name="l10660"></a><span class="lineno">10660</span>        flags |= ImGuiInputFlags_CondDefault_;</div>
<div class="line"><a id="l10661" name="l10661"></a><span class="lineno">10661</span>    <span class="keywordflow">if</span> ((g.HoveredId == <span class="keywordtype">id</span> &amp;&amp; (flags &amp; ImGuiInputFlags_CondHovered)) || (g.ActiveId == <span class="keywordtype">id</span> &amp;&amp; (flags &amp; ImGuiInputFlags_CondActive)))</div>
<div class="line"><a id="l10662" name="l10662"></a><span class="lineno">10662</span>    {</div>
<div class="line"><a id="l10663" name="l10663"></a><span class="lineno">10663</span>        IM_ASSERT((flags &amp; ~ImGuiInputFlags_SupportedBySetItemKeyOwner) == 0); <span class="comment">// Passing flags not supported by this function!</span></div>
<div class="line"><a id="l10664" name="l10664"></a><span class="lineno">10664</span>        SetKeyOwner(key, <span class="keywordtype">id</span>, flags &amp; ~ImGuiInputFlags_CondMask_);</div>
<div class="line"><a id="l10665" name="l10665"></a><span class="lineno">10665</span>    }</div>
<div class="line"><a id="l10666" name="l10666"></a><span class="lineno">10666</span>}</div>
<div class="line"><a id="l10667" name="l10667"></a><span class="lineno">10667</span> </div>
<div class="line"><a id="l10668" name="l10668"></a><span class="lineno">10668</span><span class="keywordtype">void</span> ImGui::SetItemKeyOwner(ImGuiKey key)</div>
<div class="line"><a id="l10669" name="l10669"></a><span class="lineno">10669</span>{</div>
<div class="line"><a id="l10670" name="l10670"></a><span class="lineno">10670</span>    SetItemKeyOwner(key, ImGuiInputFlags_None);</div>
<div class="line"><a id="l10671" name="l10671"></a><span class="lineno">10671</span>}</div>
<div class="line"><a id="l10672" name="l10672"></a><span class="lineno">10672</span> </div>
<div class="line"><a id="l10673" name="l10673"></a><span class="lineno">10673</span><span class="comment">// This is the only public API until we expose owner_id versions of the API as replacements.</span></div>
<div class="line"><a id="l10674" name="l10674"></a><span class="lineno">10674</span><span class="keywordtype">bool</span> ImGui::IsKeyChordPressed(ImGuiKeyChord key_chord)</div>
<div class="line"><a id="l10675" name="l10675"></a><span class="lineno">10675</span>{</div>
<div class="line"><a id="l10676" name="l10676"></a><span class="lineno">10676</span>    <span class="keywordflow">return</span> IsKeyChordPressed(key_chord, ImGuiInputFlags_None, ImGuiKeyOwner_Any);</div>
<div class="line"><a id="l10677" name="l10677"></a><span class="lineno">10677</span>}</div>
<div class="line"><a id="l10678" name="l10678"></a><span class="lineno">10678</span> </div>
<div class="line"><a id="l10679" name="l10679"></a><span class="lineno">10679</span><span class="comment">// This is equivalent to comparing KeyMods + doing a IsKeyPressed()</span></div>
<div class="line"><a id="l10680" name="l10680"></a><span class="lineno">10680</span><span class="keywordtype">bool</span> ImGui::IsKeyChordPressed(ImGuiKeyChord key_chord, ImGuiInputFlags flags, ImGuiID owner_id)</div>
<div class="line"><a id="l10681" name="l10681"></a><span class="lineno">10681</span>{</div>
<div class="line"><a id="l10682" name="l10682"></a><span class="lineno">10682</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l10683" name="l10683"></a><span class="lineno">10683</span>    key_chord = FixupKeyChord(key_chord);</div>
<div class="line"><a id="l10684" name="l10684"></a><span class="lineno">10684</span>    ImGuiKey mods = (ImGuiKey)(key_chord &amp; ImGuiMod_Mask_);</div>
<div class="line"><a id="l10685" name="l10685"></a><span class="lineno">10685</span>    <span class="keywordflow">if</span> (g.IO.KeyMods != mods)</div>
<div class="line"><a id="l10686" name="l10686"></a><span class="lineno">10686</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l10687" name="l10687"></a><span class="lineno">10687</span> </div>
<div class="line"><a id="l10688" name="l10688"></a><span class="lineno">10688</span>    <span class="comment">// Special storage location for mods</span></div>
<div class="line"><a id="l10689" name="l10689"></a><span class="lineno">10689</span>    ImGuiKey key = (ImGuiKey)(key_chord &amp; ~ImGuiMod_Mask_);</div>
<div class="line"><a id="l10690" name="l10690"></a><span class="lineno">10690</span>    <span class="keywordflow">if</span> (key == ImGuiKey_None)</div>
<div class="line"><a id="l10691" name="l10691"></a><span class="lineno">10691</span>        key = ConvertSingleModFlagToKey(mods);</div>
<div class="line"><a id="l10692" name="l10692"></a><span class="lineno">10692</span>    <span class="keywordflow">if</span> (!IsKeyPressed(key, (flags &amp; ImGuiInputFlags_RepeatMask_), owner_id))</div>
<div class="line"><a id="l10693" name="l10693"></a><span class="lineno">10693</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l10694" name="l10694"></a><span class="lineno">10694</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l10695" name="l10695"></a><span class="lineno">10695</span>}</div>
<div class="line"><a id="l10696" name="l10696"></a><span class="lineno">10696</span> </div>
<div class="line"><a id="l10697" name="l10697"></a><span class="lineno">10697</span><span class="keywordtype">void</span> ImGui::SetNextItemShortcut(ImGuiKeyChord key_chord, ImGuiInputFlags flags)</div>
<div class="line"><a id="l10698" name="l10698"></a><span class="lineno">10698</span>{</div>
<div class="line"><a id="l10699" name="l10699"></a><span class="lineno">10699</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l10700" name="l10700"></a><span class="lineno">10700</span>    g.NextItemData.HasFlags |= ImGuiNextItemDataFlags_HasShortcut;</div>
<div class="line"><a id="l10701" name="l10701"></a><span class="lineno">10701</span>    g.NextItemData.Shortcut = key_chord;</div>
<div class="line"><a id="l10702" name="l10702"></a><span class="lineno">10702</span>    g.NextItemData.ShortcutFlags = flags;</div>
<div class="line"><a id="l10703" name="l10703"></a><span class="lineno">10703</span>}</div>
<div class="line"><a id="l10704" name="l10704"></a><span class="lineno">10704</span> </div>
<div class="line"><a id="l10705" name="l10705"></a><span class="lineno">10705</span><span class="comment">// Called from within ItemAdd: at this point we can read from NextItemData and write to LastItemData</span></div>
<div class="line"><a id="l10706" name="l10706"></a><span class="lineno">10706</span><span class="keywordtype">void</span> ImGui::ItemHandleShortcut(ImGuiID <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l10707" name="l10707"></a><span class="lineno">10707</span>{</div>
<div class="line"><a id="l10708" name="l10708"></a><span class="lineno">10708</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l10709" name="l10709"></a><span class="lineno">10709</span>    ImGuiInputFlags flags = g.NextItemData.ShortcutFlags;</div>
<div class="line"><a id="l10710" name="l10710"></a><span class="lineno">10710</span>    IM_ASSERT((flags &amp; ~ImGuiInputFlags_SupportedBySetNextItemShortcut) == 0); <span class="comment">// Passing flags not supported by SetNextItemShortcut()!</span></div>
<div class="line"><a id="l10711" name="l10711"></a><span class="lineno">10711</span> </div>
<div class="line"><a id="l10712" name="l10712"></a><span class="lineno">10712</span>    <span class="keywordflow">if</span> (g.LastItemData.ItemFlags &amp; ImGuiItemFlags_Disabled)</div>
<div class="line"><a id="l10713" name="l10713"></a><span class="lineno">10713</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l10714" name="l10714"></a><span class="lineno">10714</span>    <span class="keywordflow">if</span> (flags &amp; ImGuiInputFlags_Tooltip)</div>
<div class="line"><a id="l10715" name="l10715"></a><span class="lineno">10715</span>    {</div>
<div class="line"><a id="l10716" name="l10716"></a><span class="lineno">10716</span>        g.LastItemData.StatusFlags |= ImGuiItemStatusFlags_HasShortcut;</div>
<div class="line"><a id="l10717" name="l10717"></a><span class="lineno">10717</span>        g.LastItemData.Shortcut = g.NextItemData.Shortcut;</div>
<div class="line"><a id="l10718" name="l10718"></a><span class="lineno">10718</span>    }</div>
<div class="line"><a id="l10719" name="l10719"></a><span class="lineno">10719</span>    <span class="keywordflow">if</span> (!Shortcut(g.NextItemData.Shortcut, flags &amp; ImGuiInputFlags_SupportedByShortcut, <span class="keywordtype">id</span>) || g.NavActivateId != 0)</div>
<div class="line"><a id="l10720" name="l10720"></a><span class="lineno">10720</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l10721" name="l10721"></a><span class="lineno">10721</span> </div>
<div class="line"><a id="l10722" name="l10722"></a><span class="lineno">10722</span>    <span class="comment">// FIXME: Generalize Activation queue?</span></div>
<div class="line"><a id="l10723" name="l10723"></a><span class="lineno">10723</span>    g.NavActivateId = id; <span class="comment">// Will effectively disable clipping.</span></div>
<div class="line"><a id="l10724" name="l10724"></a><span class="lineno">10724</span>    g.NavActivateFlags = ImGuiActivateFlags_PreferInput | ImGuiActivateFlags_FromShortcut;</div>
<div class="line"><a id="l10725" name="l10725"></a><span class="lineno">10725</span>    <span class="comment">//if (g.ActiveId == 0 || g.ActiveId == id)</span></div>
<div class="line"><a id="l10726" name="l10726"></a><span class="lineno">10726</span>    g.NavActivateDownId = g.NavActivatePressedId = id;</div>
<div class="line"><a id="l10727" name="l10727"></a><span class="lineno">10727</span>    NavHighlightActivated(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l10728" name="l10728"></a><span class="lineno">10728</span>}</div>
<div class="line"><a id="l10729" name="l10729"></a><span class="lineno">10729</span> </div>
<div class="line"><a id="l10730" name="l10730"></a><span class="lineno">10730</span><span class="keywordtype">bool</span> ImGui::Shortcut(ImGuiKeyChord key_chord, ImGuiInputFlags flags)</div>
<div class="line"><a id="l10731" name="l10731"></a><span class="lineno">10731</span>{</div>
<div class="line"><a id="l10732" name="l10732"></a><span class="lineno">10732</span>    <span class="keywordflow">return</span> Shortcut(key_chord, flags, ImGuiKeyOwner_Any);</div>
<div class="line"><a id="l10733" name="l10733"></a><span class="lineno">10733</span>}</div>
<div class="line"><a id="l10734" name="l10734"></a><span class="lineno">10734</span> </div>
<div class="line"><a id="l10735" name="l10735"></a><span class="lineno">10735</span><span class="keywordtype">bool</span> ImGui::Shortcut(ImGuiKeyChord key_chord, ImGuiInputFlags flags, ImGuiID owner_id)</div>
<div class="line"><a id="l10736" name="l10736"></a><span class="lineno">10736</span>{</div>
<div class="line"><a id="l10737" name="l10737"></a><span class="lineno">10737</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l10738" name="l10738"></a><span class="lineno">10738</span>    <span class="comment">//IMGUI_DEBUG_LOG(&quot;Shortcut(%s, flags=%X, owner_id=0x%08X)\n&quot;, GetKeyChordName(key_chord, g.TempBuffer.Data, g.TempBuffer.Size), flags, owner_id);</span></div>
<div class="line"><a id="l10739" name="l10739"></a><span class="lineno">10739</span> </div>
<div class="line"><a id="l10740" name="l10740"></a><span class="lineno">10740</span>    <span class="comment">// When using (owner_id == 0/Any): SetShortcutRouting() will use CurrentFocusScopeId and filter with this, so IsKeyPressed() is fine with he 0/Any.</span></div>
<div class="line"><a id="l10741" name="l10741"></a><span class="lineno">10741</span>    <span class="keywordflow">if</span> ((flags &amp; ImGuiInputFlags_RouteTypeMask_) == 0)</div>
<div class="line"><a id="l10742" name="l10742"></a><span class="lineno">10742</span>        flags |= ImGuiInputFlags_RouteFocused;</div>
<div class="line"><a id="l10743" name="l10743"></a><span class="lineno">10743</span> </div>
<div class="line"><a id="l10744" name="l10744"></a><span class="lineno">10744</span>    <span class="comment">// Using &#39;owner_id == ImGuiKeyOwner_Any/0&#39;: auto-assign an owner based on current focus scope (each window has its focus scope by default)</span></div>
<div class="line"><a id="l10745" name="l10745"></a><span class="lineno">10745</span>    <span class="comment">// Effectively makes Shortcut() always input-owner aware.</span></div>
<div class="line"><a id="l10746" name="l10746"></a><span class="lineno">10746</span>    <span class="keywordflow">if</span> (owner_id == ImGuiKeyOwner_Any || owner_id == ImGuiKeyOwner_NoOwner)</div>
<div class="line"><a id="l10747" name="l10747"></a><span class="lineno">10747</span>        owner_id = GetRoutingIdFromOwnerId(owner_id);</div>
<div class="line"><a id="l10748" name="l10748"></a><span class="lineno">10748</span> </div>
<div class="line"><a id="l10749" name="l10749"></a><span class="lineno">10749</span>    <span class="keywordflow">if</span> (g.CurrentItemFlags &amp; ImGuiItemFlags_Disabled)</div>
<div class="line"><a id="l10750" name="l10750"></a><span class="lineno">10750</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l10751" name="l10751"></a><span class="lineno">10751</span> </div>
<div class="line"><a id="l10752" name="l10752"></a><span class="lineno">10752</span>    <span class="comment">// Submit route</span></div>
<div class="line"><a id="l10753" name="l10753"></a><span class="lineno">10753</span>    <span class="keywordflow">if</span> (!SetShortcutRouting(key_chord, flags, owner_id))</div>
<div class="line"><a id="l10754" name="l10754"></a><span class="lineno">10754</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l10755" name="l10755"></a><span class="lineno">10755</span> </div>
<div class="line"><a id="l10756" name="l10756"></a><span class="lineno">10756</span>    <span class="comment">// Default repeat behavior for Shortcut()</span></div>
<div class="line"><a id="l10757" name="l10757"></a><span class="lineno">10757</span>    <span class="comment">// So e.g. pressing Ctrl+W and releasing Ctrl while holding W will not trigger the W shortcut.</span></div>
<div class="line"><a id="l10758" name="l10758"></a><span class="lineno">10758</span>    <span class="keywordflow">if</span> ((flags &amp; ImGuiInputFlags_Repeat) != 0 &amp;&amp; (flags &amp; ImGuiInputFlags_RepeatUntilMask_) == 0)</div>
<div class="line"><a id="l10759" name="l10759"></a><span class="lineno">10759</span>        flags |= ImGuiInputFlags_RepeatUntilKeyModsChange;</div>
<div class="line"><a id="l10760" name="l10760"></a><span class="lineno">10760</span> </div>
<div class="line"><a id="l10761" name="l10761"></a><span class="lineno">10761</span>    <span class="keywordflow">if</span> (!IsKeyChordPressed(key_chord, flags, owner_id))</div>
<div class="line"><a id="l10762" name="l10762"></a><span class="lineno">10762</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l10763" name="l10763"></a><span class="lineno">10763</span> </div>
<div class="line"><a id="l10764" name="l10764"></a><span class="lineno">10764</span>    <span class="comment">// Claim mods during the press</span></div>
<div class="line"><a id="l10765" name="l10765"></a><span class="lineno">10765</span>    SetKeyOwnersForKeyChord(key_chord &amp; ImGuiMod_Mask_, owner_id);</div>
<div class="line"><a id="l10766" name="l10766"></a><span class="lineno">10766</span> </div>
<div class="line"><a id="l10767" name="l10767"></a><span class="lineno">10767</span>    IM_ASSERT((flags &amp; ~ImGuiInputFlags_SupportedByShortcut) == 0); <span class="comment">// Passing flags not supported by this function!</span></div>
<div class="line"><a id="l10768" name="l10768"></a><span class="lineno">10768</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l10769" name="l10769"></a><span class="lineno">10769</span>}</div>
<div class="line"><a id="l10770" name="l10770"></a><span class="lineno">10770</span> </div>
<div class="line"><a id="l10771" name="l10771"></a><span class="lineno">10771</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l10772" name="l10772"></a><span class="lineno">10772</span><span class="comment">// [SECTION] ERROR CHECKING, STATE RECOVERY</span></div>
<div class="line"><a id="l10773" name="l10773"></a><span class="lineno">10773</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l10774" name="l10774"></a><span class="lineno">10774</span><span class="comment">// - DebugCheckVersionAndDataLayout() (called via IMGUI_CHECKVERSION() macros)</span></div>
<div class="line"><a id="l10775" name="l10775"></a><span class="lineno">10775</span><span class="comment">// - ErrorCheckUsingSetCursorPosToExtendParentBoundaries()</span></div>
<div class="line"><a id="l10776" name="l10776"></a><span class="lineno">10776</span><span class="comment">// - ErrorCheckNewFrameSanityChecks()</span></div>
<div class="line"><a id="l10777" name="l10777"></a><span class="lineno">10777</span><span class="comment">// - ErrorCheckEndFrameSanityChecks()</span></div>
<div class="line"><a id="l10778" name="l10778"></a><span class="lineno">10778</span><span class="comment">// - ErrorRecoveryStoreState()</span></div>
<div class="line"><a id="l10779" name="l10779"></a><span class="lineno">10779</span><span class="comment">// - ErrorRecoveryTryToRecoverState()</span></div>
<div class="line"><a id="l10780" name="l10780"></a><span class="lineno">10780</span><span class="comment">// - ErrorRecoveryTryToRecoverWindowState()</span></div>
<div class="line"><a id="l10781" name="l10781"></a><span class="lineno">10781</span><span class="comment">// - ErrorLog()</span></div>
<div class="line"><a id="l10782" name="l10782"></a><span class="lineno">10782</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l10783" name="l10783"></a><span class="lineno">10783</span> </div>
<div class="line"><a id="l10784" name="l10784"></a><span class="lineno">10784</span><span class="comment">// Verify ABI compatibility between caller code and compiled version of Dear ImGui. This helps detects some build issues.</span></div>
<div class="line"><a id="l10785" name="l10785"></a><span class="lineno">10785</span><span class="comment">// Called by IMGUI_CHECKVERSION().</span></div>
<div class="line"><a id="l10786" name="l10786"></a><span class="lineno">10786</span><span class="comment">// Verify that the type sizes are matching between the calling file&#39;s compilation unit and imgui.cpp&#39;s compilation unit</span></div>
<div class="line"><a id="l10787" name="l10787"></a><span class="lineno">10787</span><span class="comment">// If this triggers you have mismatched headers and compiled code versions.</span></div>
<div class="line"><a id="l10788" name="l10788"></a><span class="lineno">10788</span><span class="comment">// - It could be because of a build issue (using new headers with old compiled code)</span></div>
<div class="line"><a id="l10789" name="l10789"></a><span class="lineno">10789</span><span class="comment">// - It could be because of mismatched configuration #define, compilation settings, packing pragma etc.</span></div>
<div class="line"><a id="l10790" name="l10790"></a><span class="lineno">10790</span><span class="comment">//   THE CONFIGURATION SETTINGS MENTIONED IN imconfig.h MUST BE SET FOR ALL COMPILATION UNITS INVOLVED WITH DEAR IMGUI.</span></div>
<div class="line"><a id="l10791" name="l10791"></a><span class="lineno">10791</span><span class="comment">//   Which is why it is required you put them in your imconfig file (and NOT only before including imgui.h).</span></div>
<div class="line"><a id="l10792" name="l10792"></a><span class="lineno">10792</span><span class="comment">//   Otherwise it is possible that different compilation units would see different structure layout.</span></div>
<div class="line"><a id="l10793" name="l10793"></a><span class="lineno">10793</span><span class="comment">//   If you don&#39;t want to modify imconfig.h you can use the IMGUI_USER_CONFIG define to change filename.</span></div>
<div class="line"><a id="l10794" name="l10794"></a><span class="lineno">10794</span><span class="keywordtype">bool</span> ImGui::DebugCheckVersionAndDataLayout(<span class="keyword">const</span> <span class="keywordtype">char</span>* version, <span class="keywordtype">size_t</span> sz_io, <span class="keywordtype">size_t</span> sz_style, <span class="keywordtype">size_t</span> sz_vec2, <span class="keywordtype">size_t</span> sz_vec4, <span class="keywordtype">size_t</span> sz_vert, <span class="keywordtype">size_t</span> sz_idx)</div>
<div class="line"><a id="l10795" name="l10795"></a><span class="lineno">10795</span>{</div>
<div class="line"><a id="l10796" name="l10796"></a><span class="lineno">10796</span>    <span class="keywordtype">bool</span> error = <span class="keyword">false</span>;</div>
<div class="line"><a id="l10797" name="l10797"></a><span class="lineno">10797</span>    <span class="keywordflow">if</span> (strcmp(version, IMGUI_VERSION) != 0) { error = <span class="keyword">true</span>; IM_ASSERT(strcmp(version, IMGUI_VERSION) == 0 &amp;&amp; <span class="stringliteral">&quot;Mismatched version string!&quot;</span>); }</div>
<div class="line"><a id="l10798" name="l10798"></a><span class="lineno">10798</span>    <span class="keywordflow">if</span> (sz_io    != <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structImGuiIO.html">ImGuiIO</a>))    { error = <span class="keyword">true</span>; IM_ASSERT(sz_io == <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structImGuiIO.html">ImGuiIO</a>) &amp;&amp; <span class="stringliteral">&quot;Mismatched struct layout!&quot;</span>); }</div>
<div class="line"><a id="l10799" name="l10799"></a><span class="lineno">10799</span>    <span class="keywordflow">if</span> (sz_style != <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>)) { error = <span class="keyword">true</span>; IM_ASSERT(sz_style == <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>) &amp;&amp; <span class="stringliteral">&quot;Mismatched struct layout!&quot;</span>); }</div>
<div class="line"><a id="l10800" name="l10800"></a><span class="lineno">10800</span>    <span class="keywordflow">if</span> (sz_vec2  != <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structImVec2.html">ImVec2</a>))     { error = <span class="keyword">true</span>; IM_ASSERT(sz_vec2 == <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structImVec2.html">ImVec2</a>) &amp;&amp; <span class="stringliteral">&quot;Mismatched struct layout!&quot;</span>); }</div>
<div class="line"><a id="l10801" name="l10801"></a><span class="lineno">10801</span>    <span class="keywordflow">if</span> (sz_vec4  != <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structImVec4.html">ImVec4</a>))     { error = <span class="keyword">true</span>; IM_ASSERT(sz_vec4 == <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structImVec4.html">ImVec4</a>) &amp;&amp; <span class="stringliteral">&quot;Mismatched struct layout!&quot;</span>); }</div>
<div class="line"><a id="l10802" name="l10802"></a><span class="lineno">10802</span>    <span class="keywordflow">if</span> (sz_vert  != <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structImDrawVert.html">ImDrawVert</a>)) { error = <span class="keyword">true</span>; IM_ASSERT(sz_vert == <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structImDrawVert.html">ImDrawVert</a>) &amp;&amp; <span class="stringliteral">&quot;Mismatched struct layout!&quot;</span>); }</div>
<div class="line"><a id="l10803" name="l10803"></a><span class="lineno">10803</span>    <span class="keywordflow">if</span> (sz_idx   != <span class="keyword">sizeof</span>(ImDrawIdx))  { error = <span class="keyword">true</span>; IM_ASSERT(sz_idx == <span class="keyword">sizeof</span>(ImDrawIdx) &amp;&amp; <span class="stringliteral">&quot;Mismatched struct layout!&quot;</span>); }</div>
<div class="line"><a id="l10804" name="l10804"></a><span class="lineno">10804</span>    <span class="keywordflow">return</span> !error;</div>
<div class="line"><a id="l10805" name="l10805"></a><span class="lineno">10805</span>}</div>
<div class="line"><a id="l10806" name="l10806"></a><span class="lineno">10806</span> </div>
<div class="line"><a id="l10807" name="l10807"></a><span class="lineno">10807</span><span class="comment">// Until 1.89 (IMGUI_VERSION_NUM &lt; 18814) it was legal to use SetCursorPos() to extend the boundary of a parent (e.g. window or table cell)</span></div>
<div class="line"><a id="l10808" name="l10808"></a><span class="lineno">10808</span><span class="comment">// This is causing issues and ambiguity and we need to retire that.</span></div>
<div class="line"><a id="l10809" name="l10809"></a><span class="lineno">10809</span><span class="comment">// See https://github.com/ocornut/imgui/issues/5548 for more details.</span></div>
<div class="line"><a id="l10810" name="l10810"></a><span class="lineno">10810</span><span class="comment">// [Scenario 1]</span></div>
<div class="line"><a id="l10811" name="l10811"></a><span class="lineno">10811</span><span class="comment">//  Previously this would make the window content size ~200x200:</span></div>
<div class="line"><a id="l10812" name="l10812"></a><span class="lineno">10812</span><span class="comment">//    Begin(...) + SetCursorScreenPos(GetCursorScreenPos() + ImVec2(200,200)) + End();  // NOT OK</span></div>
<div class="line"><a id="l10813" name="l10813"></a><span class="lineno">10813</span><span class="comment">//  Instead, please submit an item:</span></div>
<div class="line"><a id="l10814" name="l10814"></a><span class="lineno">10814</span><span class="comment">//    Begin(...) + SetCursorScreenPos(GetCursorScreenPos() + ImVec2(200,200)) + Dummy(ImVec2(0,0)) + End(); // OK</span></div>
<div class="line"><a id="l10815" name="l10815"></a><span class="lineno">10815</span><span class="comment">//  Alternative:</span></div>
<div class="line"><a id="l10816" name="l10816"></a><span class="lineno">10816</span><span class="comment">//    Begin(...) + Dummy(ImVec2(200,200)) + End(); // OK</span></div>
<div class="line"><a id="l10817" name="l10817"></a><span class="lineno">10817</span><span class="comment">// [Scenario 2]</span></div>
<div class="line"><a id="l10818" name="l10818"></a><span class="lineno">10818</span><span class="comment">//  For reference this is one of the issue what we aim to fix with this change:</span></div>
<div class="line"><a id="l10819" name="l10819"></a><span class="lineno">10819</span><span class="comment">//    BeginGroup() + SomeItem(&quot;foobar&quot;) + SetCursorScreenPos(GetCursorScreenPos()) + EndGroup()</span></div>
<div class="line"><a id="l10820" name="l10820"></a><span class="lineno">10820</span><span class="comment">//  The previous logic made SetCursorScreenPos(GetCursorScreenPos()) have a side-effect! It would erroneously incorporate ItemSpacing.y after the item into content size, making the group taller!</span></div>
<div class="line"><a id="l10821" name="l10821"></a><span class="lineno">10821</span><span class="comment">//  While this code is a little twisted, no-one would expect SetXXX(GetXXX()) to have a side-effect. Using vertical alignment patterns could trigger this issue.</span></div>
<div class="line"><a id="l10822" name="l10822"></a><span class="lineno">10822</span><span class="keywordtype">void</span> ImGui::ErrorCheckUsingSetCursorPosToExtendParentBoundaries()</div>
<div class="line"><a id="l10823" name="l10823"></a><span class="lineno">10823</span>{</div>
<div class="line"><a id="l10824" name="l10824"></a><span class="lineno">10824</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l10825" name="l10825"></a><span class="lineno">10825</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l10826" name="l10826"></a><span class="lineno">10826</span>    IM_ASSERT(window-&gt;DC.IsSetPos);</div>
<div class="line"><a id="l10827" name="l10827"></a><span class="lineno">10827</span>    window-&gt;DC.IsSetPos = <span class="keyword">false</span>;</div>
<div class="line"><a id="l10828" name="l10828"></a><span class="lineno">10828</span><span class="preprocessor">#ifdef IMGUI_DISABLE_OBSOLETE_FUNCTIONS</span></div>
<div class="line"><a id="l10829" name="l10829"></a><span class="lineno">10829</span>    <span class="keywordflow">if</span> (window-&gt;DC.CursorPos.x &lt;= window-&gt;DC.CursorMaxPos.x &amp;&amp; window-&gt;DC.CursorPos.y &lt;= window-&gt;DC.CursorMaxPos.y)</div>
<div class="line"><a id="l10830" name="l10830"></a><span class="lineno">10830</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l10831" name="l10831"></a><span class="lineno">10831</span>    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a id="l10832" name="l10832"></a><span class="lineno">10832</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l10833" name="l10833"></a><span class="lineno">10833</span>    IM_ASSERT(0 &amp;&amp; <span class="stringliteral">&quot;Code uses SetCursorPos()/SetCursorScreenPos() to extend window/parent boundaries. Please submit an item e.g. Dummy() to validate extent.&quot;</span>);</div>
<div class="line"><a id="l10834" name="l10834"></a><span class="lineno">10834</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l10835" name="l10835"></a><span class="lineno">10835</span>    window-&gt;DC.CursorMaxPos = ImMax(window-&gt;DC.CursorMaxPos, window-&gt;DC.CursorPos);</div>
<div class="line"><a id="l10836" name="l10836"></a><span class="lineno">10836</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l10837" name="l10837"></a><span class="lineno">10837</span>}</div>
<div class="line"><a id="l10838" name="l10838"></a><span class="lineno">10838</span> </div>
<div class="line"><a id="l10839" name="l10839"></a><span class="lineno">10839</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::ErrorCheckNewFrameSanityChecks()</div>
<div class="line"><a id="l10840" name="l10840"></a><span class="lineno">10840</span>{</div>
<div class="line"><a id="l10841" name="l10841"></a><span class="lineno">10841</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l10842" name="l10842"></a><span class="lineno">10842</span> </div>
<div class="line"><a id="l10843" name="l10843"></a><span class="lineno">10843</span>    <span class="comment">// Check user IM_ASSERT macro</span></div>
<div class="line"><a id="l10844" name="l10844"></a><span class="lineno">10844</span>    <span class="comment">// (IF YOU GET A WARNING OR COMPILE ERROR HERE: it means your assert macro is incorrectly defined!</span></div>
<div class="line"><a id="l10845" name="l10845"></a><span class="lineno">10845</span>    <span class="comment">//  If your macro uses multiple statements, it NEEDS to be surrounded by a &#39;do { ... } while (0)&#39; block.</span></div>
<div class="line"><a id="l10846" name="l10846"></a><span class="lineno">10846</span>    <span class="comment">//  This is a common C/C++ idiom to allow multiple statements macros to be used in control flow blocks.)</span></div>
<div class="line"><a id="l10847" name="l10847"></a><span class="lineno">10847</span>    <span class="comment">// #define IM_ASSERT(EXPR)   if (SomeCode(EXPR)) SomeMoreCode();                    // Wrong!</span></div>
<div class="line"><a id="l10848" name="l10848"></a><span class="lineno">10848</span>    <span class="comment">// #define IM_ASSERT(EXPR)   do { if (SomeCode(EXPR)) SomeMoreCode(); } while (0)   // Correct!</span></div>
<div class="line"><a id="l10849" name="l10849"></a><span class="lineno">10849</span>    <span class="keywordflow">if</span> (<span class="keyword">true</span>) IM_ASSERT(1); <span class="keywordflow">else</span> IM_ASSERT(0);</div>
<div class="line"><a id="l10850" name="l10850"></a><span class="lineno">10850</span> </div>
<div class="line"><a id="l10851" name="l10851"></a><span class="lineno">10851</span>    <span class="comment">// Emscripten backends are often imprecise in their submission of DeltaTime. (#6114, #3644)</span></div>
<div class="line"><a id="l10852" name="l10852"></a><span class="lineno">10852</span>    <span class="comment">// Ideally the Emscripten app/backend should aim to fix or smooth this value and avoid feeding zero, but we tolerate it.</span></div>
<div class="line"><a id="l10853" name="l10853"></a><span class="lineno">10853</span><span class="preprocessor">#ifdef __EMSCRIPTEN__</span></div>
<div class="line"><a id="l10854" name="l10854"></a><span class="lineno">10854</span>    <span class="keywordflow">if</span> (g.IO.DeltaTime &lt;= 0.0f &amp;&amp; g.FrameCount &gt; 0)</div>
<div class="line"><a id="l10855" name="l10855"></a><span class="lineno">10855</span>        g.IO.DeltaTime = 0.00001f;</div>
<div class="line"><a id="l10856" name="l10856"></a><span class="lineno">10856</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l10857" name="l10857"></a><span class="lineno">10857</span> </div>
<div class="line"><a id="l10858" name="l10858"></a><span class="lineno">10858</span>    <span class="comment">// Check user data</span></div>
<div class="line"><a id="l10859" name="l10859"></a><span class="lineno">10859</span>    <span class="comment">// (We pass an error message in the assert expression to make it visible to programmers who are not using a debugger, as most assert handlers display their argument)</span></div>
<div class="line"><a id="l10860" name="l10860"></a><span class="lineno">10860</span>    IM_ASSERT(g.Initialized);</div>
<div class="line"><a id="l10861" name="l10861"></a><span class="lineno">10861</span>    IM_ASSERT((g.IO.DeltaTime &gt; 0.0f || g.FrameCount == 0)              &amp;&amp; <span class="stringliteral">&quot;Need a positive DeltaTime!&quot;</span>);</div>
<div class="line"><a id="l10862" name="l10862"></a><span class="lineno">10862</span>    IM_ASSERT((g.FrameCount == 0 || g.FrameCountEnded == g.FrameCount)  &amp;&amp; <span class="stringliteral">&quot;Forgot to call Render() or EndFrame() at the end of the previous frame?&quot;</span>);</div>
<div class="line"><a id="l10863" name="l10863"></a><span class="lineno">10863</span>    IM_ASSERT(g.IO.DisplaySize.x &gt;= 0.0f &amp;&amp; g.IO.DisplaySize.y &gt;= 0.0f  &amp;&amp; <span class="stringliteral">&quot;Invalid DisplaySize value!&quot;</span>);</div>
<div class="line"><a id="l10864" name="l10864"></a><span class="lineno">10864</span>    IM_ASSERT(g.IO.Fonts-&gt;IsBuilt()                                     &amp;&amp; <span class="stringliteral">&quot;Font Atlas not built! Make sure you called ImGui_ImplXXXX_NewFrame() function for renderer backend, which should call io.Fonts-&gt;GetTexDataAsRGBA32() / GetTexDataAsAlpha8()&quot;</span>);</div>
<div class="line"><a id="l10865" name="l10865"></a><span class="lineno">10865</span>    IM_ASSERT(g.Style.CurveTessellationTol &gt; 0.0f                       &amp;&amp; <span class="stringliteral">&quot;Invalid style setting!&quot;</span>);</div>
<div class="line"><a id="l10866" name="l10866"></a><span class="lineno">10866</span>    IM_ASSERT(g.Style.CircleTessellationMaxError &gt; 0.0f                 &amp;&amp; <span class="stringliteral">&quot;Invalid style setting!&quot;</span>);</div>
<div class="line"><a id="l10867" name="l10867"></a><span class="lineno">10867</span>    IM_ASSERT(g.Style.Alpha &gt;= 0.0f &amp;&amp; g.Style.Alpha &lt;= 1.0f            &amp;&amp; <span class="stringliteral">&quot;Invalid style setting!&quot;</span>); <span class="comment">// Allows us to avoid a few clamps in color computations</span></div>
<div class="line"><a id="l10868" name="l10868"></a><span class="lineno">10868</span>    IM_ASSERT(g.Style.WindowMinSize.x &gt;= 1.0f &amp;&amp; g.Style.WindowMinSize.y &gt;= 1.0f &amp;&amp; <span class="stringliteral">&quot;Invalid style setting!&quot;</span>);</div>
<div class="line"><a id="l10869" name="l10869"></a><span class="lineno">10869</span>    IM_ASSERT(g.Style.WindowBorderHoverPadding &gt; 0.0f                   &amp;&amp; <span class="stringliteral">&quot;Invalid style setting!&quot;</span>); <span class="comment">// Required otherwise cannot resize from borders.</span></div>
<div class="line"><a id="l10870" name="l10870"></a><span class="lineno">10870</span>    IM_ASSERT(g.Style.WindowMenuButtonPosition == ImGuiDir_None || g.Style.WindowMenuButtonPosition == ImGuiDir_Left || g.Style.WindowMenuButtonPosition == ImGuiDir_Right);</div>
<div class="line"><a id="l10871" name="l10871"></a><span class="lineno">10871</span>    IM_ASSERT(g.Style.ColorButtonPosition == ImGuiDir_Left || g.Style.ColorButtonPosition == ImGuiDir_Right);</div>
<div class="line"><a id="l10872" name="l10872"></a><span class="lineno">10872</span> </div>
<div class="line"><a id="l10873" name="l10873"></a><span class="lineno">10873</span>    <span class="comment">// Error handling: we do not accept 100% silent recovery! Please contact me if you feel this is getting in your way.</span></div>
<div class="line"><a id="l10874" name="l10874"></a><span class="lineno">10874</span>    <span class="keywordflow">if</span> (g.IO.ConfigErrorRecovery)</div>
<div class="line"><a id="l10875" name="l10875"></a><span class="lineno">10875</span>        IM_ASSERT(g.IO.ConfigErrorRecoveryEnableAssert || g.IO.ConfigErrorRecoveryEnableDebugLog || g.IO.ConfigErrorRecoveryEnableTooltip || g.ErrorCallback != NULL);</div>
<div class="line"><a id="l10876" name="l10876"></a><span class="lineno">10876</span> </div>
<div class="line"><a id="l10877" name="l10877"></a><span class="lineno">10877</span><span class="preprocessor">#ifndef IMGUI_DISABLE_OBSOLETE_FUNCTIONS</span></div>
<div class="line"><a id="l10878" name="l10878"></a><span class="lineno">10878</span>    <span class="comment">// Remap legacy names</span></div>
<div class="line"><a id="l10879" name="l10879"></a><span class="lineno">10879</span>    <span class="keywordflow">if</span> (g.IO.ConfigFlags &amp; ImGuiConfigFlags_NavEnableSetMousePos)</div>
<div class="line"><a id="l10880" name="l10880"></a><span class="lineno">10880</span>    {</div>
<div class="line"><a id="l10881" name="l10881"></a><span class="lineno">10881</span>        g.IO.ConfigNavMoveSetMousePos = <span class="keyword">true</span>;</div>
<div class="line"><a id="l10882" name="l10882"></a><span class="lineno">10882</span>        g.IO.ConfigFlags &amp;= ~ImGuiConfigFlags_NavEnableSetMousePos;</div>
<div class="line"><a id="l10883" name="l10883"></a><span class="lineno">10883</span>    }</div>
<div class="line"><a id="l10884" name="l10884"></a><span class="lineno">10884</span>    <span class="keywordflow">if</span> (g.IO.ConfigFlags &amp; ImGuiConfigFlags_NavNoCaptureKeyboard)</div>
<div class="line"><a id="l10885" name="l10885"></a><span class="lineno">10885</span>    {</div>
<div class="line"><a id="l10886" name="l10886"></a><span class="lineno">10886</span>        g.IO.ConfigNavCaptureKeyboard = <span class="keyword">false</span>;</div>
<div class="line"><a id="l10887" name="l10887"></a><span class="lineno">10887</span>        g.IO.ConfigFlags &amp;= ~ImGuiConfigFlags_NavNoCaptureKeyboard;</div>
<div class="line"><a id="l10888" name="l10888"></a><span class="lineno">10888</span>    }</div>
<div class="line"><a id="l10889" name="l10889"></a><span class="lineno">10889</span> </div>
<div class="line"><a id="l10890" name="l10890"></a><span class="lineno">10890</span>    <span class="comment">// Remap legacy clipboard handlers (OBSOLETED in 1.91.1, August 2024)</span></div>
<div class="line"><a id="l10891" name="l10891"></a><span class="lineno">10891</span>    <span class="keywordflow">if</span> (g.IO.GetClipboardTextFn != NULL &amp;&amp; (g.PlatformIO.Platform_GetClipboardTextFn == NULL || g.PlatformIO.Platform_GetClipboardTextFn == Platform_GetClipboardTextFn_DefaultImpl))</div>
<div class="line"><a id="l10892" name="l10892"></a><span class="lineno">10892</span>        g.PlatformIO.Platform_GetClipboardTextFn = [](<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx) { <span class="keywordflow">return</span> ctx-&gt;IO.GetClipboardTextFn(ctx-&gt;IO.ClipboardUserData); };</div>
<div class="line"><a id="l10893" name="l10893"></a><span class="lineno">10893</span>    <span class="keywordflow">if</span> (g.IO.SetClipboardTextFn != NULL &amp;&amp; (g.PlatformIO.Platform_SetClipboardTextFn == NULL || g.PlatformIO.Platform_SetClipboardTextFn == Platform_SetClipboardTextFn_DefaultImpl))</div>
<div class="line"><a id="l10894" name="l10894"></a><span class="lineno">10894</span>        g.PlatformIO.Platform_SetClipboardTextFn = [](<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <span class="keyword">const</span> <span class="keywordtype">char</span>* text) { <span class="keywordflow">return</span> ctx-&gt;IO.SetClipboardTextFn(ctx-&gt;IO.ClipboardUserData, text); };</div>
<div class="line"><a id="l10895" name="l10895"></a><span class="lineno">10895</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l10896" name="l10896"></a><span class="lineno">10896</span> </div>
<div class="line"><a id="l10897" name="l10897"></a><span class="lineno">10897</span>    <span class="comment">// Perform simple check: error if Docking or Viewport are enabled _exactly_ on frame 1 (instead of frame 0 or later), which is a common error leading to loss of .ini data.</span></div>
<div class="line"><a id="l10898" name="l10898"></a><span class="lineno">10898</span>    <span class="keywordflow">if</span> (g.FrameCount == 1 &amp;&amp; (g.IO.ConfigFlags &amp; ImGuiConfigFlags_DockingEnable) &amp;&amp; (g.ConfigFlagsLastFrame &amp; ImGuiConfigFlags_DockingEnable) == 0)</div>
<div class="line"><a id="l10899" name="l10899"></a><span class="lineno">10899</span>        IM_ASSERT(0 &amp;&amp; <span class="stringliteral">&quot;Please set DockingEnable before the first call to NewFrame()! Otherwise you will lose your .ini settings!&quot;</span>);</div>
<div class="line"><a id="l10900" name="l10900"></a><span class="lineno">10900</span>    <span class="keywordflow">if</span> (g.FrameCount == 1 &amp;&amp; (g.IO.ConfigFlags &amp; ImGuiConfigFlags_ViewportsEnable) &amp;&amp; (g.ConfigFlagsLastFrame &amp; ImGuiConfigFlags_ViewportsEnable) == 0)</div>
<div class="line"><a id="l10901" name="l10901"></a><span class="lineno">10901</span>        IM_ASSERT(0 &amp;&amp; <span class="stringliteral">&quot;Please set ViewportsEnable before the first call to NewFrame()! Otherwise you will lose your .ini settings!&quot;</span>);</div>
<div class="line"><a id="l10902" name="l10902"></a><span class="lineno">10902</span> </div>
<div class="line"><a id="l10903" name="l10903"></a><span class="lineno">10903</span>    <span class="comment">// Perform simple checks: multi-viewport and platform windows support</span></div>
<div class="line"><a id="l10904" name="l10904"></a><span class="lineno">10904</span>    <span class="keywordflow">if</span> (g.IO.ConfigFlags &amp; ImGuiConfigFlags_ViewportsEnable)</div>
<div class="line"><a id="l10905" name="l10905"></a><span class="lineno">10905</span>    {</div>
<div class="line"><a id="l10906" name="l10906"></a><span class="lineno">10906</span>        <span class="keywordflow">if</span> ((g.IO.BackendFlags &amp; ImGuiBackendFlags_PlatformHasViewports) &amp;&amp; (g.IO.BackendFlags &amp; ImGuiBackendFlags_RendererHasViewports))</div>
<div class="line"><a id="l10907" name="l10907"></a><span class="lineno">10907</span>        {</div>
<div class="line"><a id="l10908" name="l10908"></a><span class="lineno">10908</span>            IM_ASSERT((g.FrameCount == 0 || g.FrameCount == g.FrameCountPlatformEnded) &amp;&amp; <span class="stringliteral">&quot;Forgot to call UpdatePlatformWindows() in main loop after EndFrame()? Check examples/ applications for reference.&quot;</span>);</div>
<div class="line"><a id="l10909" name="l10909"></a><span class="lineno">10909</span>            IM_ASSERT(g.PlatformIO.Platform_CreateWindow  != NULL &amp;&amp; <span class="stringliteral">&quot;Platform init didn&#39;t install handlers?&quot;</span>);</div>
<div class="line"><a id="l10910" name="l10910"></a><span class="lineno">10910</span>            IM_ASSERT(g.PlatformIO.Platform_DestroyWindow != NULL &amp;&amp; <span class="stringliteral">&quot;Platform init didn&#39;t install handlers?&quot;</span>);</div>
<div class="line"><a id="l10911" name="l10911"></a><span class="lineno">10911</span>            IM_ASSERT(g.PlatformIO.Platform_GetWindowPos  != NULL &amp;&amp; <span class="stringliteral">&quot;Platform init didn&#39;t install handlers?&quot;</span>);</div>
<div class="line"><a id="l10912" name="l10912"></a><span class="lineno">10912</span>            IM_ASSERT(g.PlatformIO.Platform_SetWindowPos  != NULL &amp;&amp; <span class="stringliteral">&quot;Platform init didn&#39;t install handlers?&quot;</span>);</div>
<div class="line"><a id="l10913" name="l10913"></a><span class="lineno">10913</span>            IM_ASSERT(g.PlatformIO.Platform_GetWindowSize != NULL &amp;&amp; <span class="stringliteral">&quot;Platform init didn&#39;t install handlers?&quot;</span>);</div>
<div class="line"><a id="l10914" name="l10914"></a><span class="lineno">10914</span>            IM_ASSERT(g.PlatformIO.Platform_SetWindowSize != NULL &amp;&amp; <span class="stringliteral">&quot;Platform init didn&#39;t install handlers?&quot;</span>);</div>
<div class="line"><a id="l10915" name="l10915"></a><span class="lineno">10915</span>            IM_ASSERT(g.PlatformIO.Monitors.Size &gt; 0 &amp;&amp; <span class="stringliteral">&quot;Platform init didn&#39;t setup Monitors list?&quot;</span>);</div>
<div class="line"><a id="l10916" name="l10916"></a><span class="lineno">10916</span>            IM_ASSERT((g.Viewports[0]-&gt;PlatformUserData != NULL || g.Viewports[0]-&gt;PlatformHandle != NULL) &amp;&amp; <span class="stringliteral">&quot;Platform init didn&#39;t setup main viewport.&quot;</span>);</div>
<div class="line"><a id="l10917" name="l10917"></a><span class="lineno">10917</span>            <span class="keywordflow">if</span> (g.IO.ConfigDockingTransparentPayload &amp;&amp; (g.IO.ConfigFlags &amp; ImGuiConfigFlags_DockingEnable))</div>
<div class="line"><a id="l10918" name="l10918"></a><span class="lineno">10918</span>                IM_ASSERT(g.PlatformIO.Platform_SetWindowAlpha != NULL &amp;&amp; <span class="stringliteral">&quot;Platform_SetWindowAlpha handler is required to use io.ConfigDockingTransparent!&quot;</span>);</div>
<div class="line"><a id="l10919" name="l10919"></a><span class="lineno">10919</span>        }</div>
<div class="line"><a id="l10920" name="l10920"></a><span class="lineno">10920</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l10921" name="l10921"></a><span class="lineno">10921</span>        {</div>
<div class="line"><a id="l10922" name="l10922"></a><span class="lineno">10922</span>            <span class="comment">// Disable feature, our backends do not support it</span></div>
<div class="line"><a id="l10923" name="l10923"></a><span class="lineno">10923</span>            g.IO.ConfigFlags &amp;= ~ImGuiConfigFlags_ViewportsEnable;</div>
<div class="line"><a id="l10924" name="l10924"></a><span class="lineno">10924</span>        }</div>
<div class="line"><a id="l10925" name="l10925"></a><span class="lineno">10925</span> </div>
<div class="line"><a id="l10926" name="l10926"></a><span class="lineno">10926</span>        <span class="comment">// Perform simple checks on platform monitor data + compute a total bounding box for quick early outs</span></div>
<div class="line"><a id="l10927" name="l10927"></a><span class="lineno">10927</span>        <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiPlatformMonitor.html">ImGuiPlatformMonitor</a>&amp; mon : g.PlatformIO.Monitors)</div>
<div class="line"><a id="l10928" name="l10928"></a><span class="lineno">10928</span>        {</div>
<div class="line"><a id="l10929" name="l10929"></a><span class="lineno">10929</span>            IM_UNUSED(mon);</div>
<div class="line"><a id="l10930" name="l10930"></a><span class="lineno">10930</span>            IM_ASSERT(mon.MainSize.x &gt; 0.0f &amp;&amp; mon.MainSize.y &gt; 0.0f &amp;&amp; <span class="stringliteral">&quot;Monitor main bounds not setup properly.&quot;</span>);</div>
<div class="line"><a id="l10931" name="l10931"></a><span class="lineno">10931</span>            IM_ASSERT(<a class="code hl_struct" href="structImRect.html">ImRect</a>(mon.MainPos, mon.MainPos + mon.MainSize).Contains(<a class="code hl_struct" href="structImRect.html">ImRect</a>(mon.WorkPos, mon.WorkPos + mon.WorkSize)) &amp;&amp; <span class="stringliteral">&quot;Monitor work bounds not setup properly. If you don&#39;t have work area information, just copy MainPos/MainSize into them.&quot;</span>);</div>
<div class="line"><a id="l10932" name="l10932"></a><span class="lineno">10932</span>            IM_ASSERT(mon.DpiScale &gt; 0.0f &amp;&amp; mon.DpiScale &lt; 99.0f &amp;&amp; <span class="stringliteral">&quot;Monitor DpiScale is invalid.&quot;</span>); <span class="comment">// Typical correct values would be between 1.0f and 4.0f</span></div>
<div class="line"><a id="l10933" name="l10933"></a><span class="lineno">10933</span>        }</div>
<div class="line"><a id="l10934" name="l10934"></a><span class="lineno">10934</span>    }</div>
<div class="line"><a id="l10935" name="l10935"></a><span class="lineno">10935</span>}</div>
<div class="line"><a id="l10936" name="l10936"></a><span class="lineno">10936</span> </div>
<div class="line"><a id="l10937" name="l10937"></a><span class="lineno">10937</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::ErrorCheckEndFrameSanityChecks()</div>
<div class="line"><a id="l10938" name="l10938"></a><span class="lineno">10938</span>{</div>
<div class="line"><a id="l10939" name="l10939"></a><span class="lineno">10939</span>    <span class="comment">// Verify that io.KeyXXX fields haven&#39;t been tampered with. Key mods should not be modified between NewFrame() and EndFrame()</span></div>
<div class="line"><a id="l10940" name="l10940"></a><span class="lineno">10940</span>    <span class="comment">// One possible reason leading to this assert is that your backends update inputs _AFTER_ NewFrame().</span></div>
<div class="line"><a id="l10941" name="l10941"></a><span class="lineno">10941</span>    <span class="comment">// It is known that when some modal native windows called mid-frame takes focus away, some backends such as GLFW will</span></div>
<div class="line"><a id="l10942" name="l10942"></a><span class="lineno">10942</span>    <span class="comment">// send key release events mid-frame. This would normally trigger this assertion and lead to sheared inputs.</span></div>
<div class="line"><a id="l10943" name="l10943"></a><span class="lineno">10943</span>    <span class="comment">// We silently accommodate for this case by ignoring the case where all io.KeyXXX modifiers were released (aka key_mod_flags == 0),</span></div>
<div class="line"><a id="l10944" name="l10944"></a><span class="lineno">10944</span>    <span class="comment">// while still correctly asserting on mid-frame key press events.</span></div>
<div class="line"><a id="l10945" name="l10945"></a><span class="lineno">10945</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l10946" name="l10946"></a><span class="lineno">10946</span>    <span class="keyword">const</span> ImGuiKeyChord key_mods = GetMergedModsFromKeys();</div>
<div class="line"><a id="l10947" name="l10947"></a><span class="lineno">10947</span>    IM_UNUSED(g);</div>
<div class="line"><a id="l10948" name="l10948"></a><span class="lineno">10948</span>    IM_UNUSED(key_mods);</div>
<div class="line"><a id="l10949" name="l10949"></a><span class="lineno">10949</span>    IM_ASSERT((key_mods == 0 || g.IO.KeyMods == key_mods) &amp;&amp; <span class="stringliteral">&quot;Mismatching io.KeyCtrl/io.KeyShift/io.KeyAlt/io.KeySuper vs io.KeyMods&quot;</span>);</div>
<div class="line"><a id="l10950" name="l10950"></a><span class="lineno">10950</span>    IM_UNUSED(key_mods);</div>
<div class="line"><a id="l10951" name="l10951"></a><span class="lineno">10951</span> </div>
<div class="line"><a id="l10952" name="l10952"></a><span class="lineno">10952</span>    IM_ASSERT(g.CurrentWindowStack.Size == 1);</div>
<div class="line"><a id="l10953" name="l10953"></a><span class="lineno">10953</span>    IM_ASSERT(g.CurrentWindowStack[0].Window-&gt;IsFallbackWindow);</div>
<div class="line"><a id="l10954" name="l10954"></a><span class="lineno">10954</span>}</div>
<div class="line"><a id="l10955" name="l10955"></a><span class="lineno">10955</span> </div>
<div class="line"><a id="l10956" name="l10956"></a><span class="lineno">10956</span><span class="comment">// Save current stack sizes. Called e.g. by NewFrame() and by Begin() but may be called for manual recovery.</span></div>
<div class="line"><a id="l10957" name="l10957"></a><span class="lineno">10957</span><span class="keywordtype">void</span> ImGui::ErrorRecoveryStoreState(<a class="code hl_struct" href="structImGuiErrorRecoveryState.html">ImGuiErrorRecoveryState</a>* state_out)</div>
<div class="line"><a id="l10958" name="l10958"></a><span class="lineno">10958</span>{</div>
<div class="line"><a id="l10959" name="l10959"></a><span class="lineno">10959</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l10960" name="l10960"></a><span class="lineno">10960</span>    state_out-&gt;SizeOfWindowStack = (short)g.CurrentWindowStack.Size;</div>
<div class="line"><a id="l10961" name="l10961"></a><span class="lineno">10961</span>    state_out-&gt;SizeOfIDStack = (short)g.CurrentWindow-&gt;IDStack.Size;</div>
<div class="line"><a id="l10962" name="l10962"></a><span class="lineno">10962</span>    state_out-&gt;SizeOfTreeStack = (short)g.CurrentWindow-&gt;DC.TreeDepth; <span class="comment">// NOT g.TreeNodeStack.Size which is a partial stack!</span></div>
<div class="line"><a id="l10963" name="l10963"></a><span class="lineno">10963</span>    state_out-&gt;SizeOfColorStack = (short)g.ColorStack.Size;</div>
<div class="line"><a id="l10964" name="l10964"></a><span class="lineno">10964</span>    state_out-&gt;SizeOfStyleVarStack = (short)g.StyleVarStack.Size;</div>
<div class="line"><a id="l10965" name="l10965"></a><span class="lineno">10965</span>    state_out-&gt;SizeOfFontStack = (short)g.FontStack.Size;</div>
<div class="line"><a id="l10966" name="l10966"></a><span class="lineno">10966</span>    state_out-&gt;SizeOfFocusScopeStack = (short)g.FocusScopeStack.Size;</div>
<div class="line"><a id="l10967" name="l10967"></a><span class="lineno">10967</span>    state_out-&gt;SizeOfGroupStack = (short)g.GroupStack.Size;</div>
<div class="line"><a id="l10968" name="l10968"></a><span class="lineno">10968</span>    state_out-&gt;SizeOfItemFlagsStack = (short)g.ItemFlagsStack.Size;</div>
<div class="line"><a id="l10969" name="l10969"></a><span class="lineno">10969</span>    state_out-&gt;SizeOfBeginPopupStack = (short)g.BeginPopupStack.Size;</div>
<div class="line"><a id="l10970" name="l10970"></a><span class="lineno">10970</span>    state_out-&gt;SizeOfDisabledStack = (short)g.DisabledStackSize;</div>
<div class="line"><a id="l10971" name="l10971"></a><span class="lineno">10971</span>}</div>
<div class="line"><a id="l10972" name="l10972"></a><span class="lineno">10972</span> </div>
<div class="line"><a id="l10973" name="l10973"></a><span class="lineno">10973</span><span class="comment">// Chosen name &quot;Try to recover&quot; over e.g. &quot;Restore&quot; to suggest this is not a 100% guaranteed recovery.</span></div>
<div class="line"><a id="l10974" name="l10974"></a><span class="lineno">10974</span><span class="comment">// Called by e.g. EndFrame() but may be called for manual recovery.</span></div>
<div class="line"><a id="l10975" name="l10975"></a><span class="lineno">10975</span><span class="comment">// Attempt to recover full window stack.</span></div>
<div class="line"><a id="l10976" name="l10976"></a><span class="lineno">10976</span><span class="keywordtype">void</span> ImGui::ErrorRecoveryTryToRecoverState(<span class="keyword">const</span> <a class="code hl_struct" href="structImGuiErrorRecoveryState.html">ImGuiErrorRecoveryState</a>* state_in)</div>
<div class="line"><a id="l10977" name="l10977"></a><span class="lineno">10977</span>{</div>
<div class="line"><a id="l10978" name="l10978"></a><span class="lineno">10978</span>    <span class="comment">// PVS-Studio V1044 is &quot;Loop break conditions do not depend on the number of iterations&quot;</span></div>
<div class="line"><a id="l10979" name="l10979"></a><span class="lineno">10979</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l10980" name="l10980"></a><span class="lineno">10980</span>    <span class="keywordflow">while</span> (g.CurrentWindowStack.Size &gt; state_in-&gt;SizeOfWindowStack) <span class="comment">//-V1044</span></div>
<div class="line"><a id="l10981" name="l10981"></a><span class="lineno">10981</span>    {</div>
<div class="line"><a id="l10982" name="l10982"></a><span class="lineno">10982</span>        <span class="comment">// Recap:</span></div>
<div class="line"><a id="l10983" name="l10983"></a><span class="lineno">10983</span>        <span class="comment">// - Begin()/BeginChild() return false to indicate the window is collapsed or fully clipped.</span></div>
<div class="line"><a id="l10984" name="l10984"></a><span class="lineno">10984</span>        <span class="comment">// - Always call a matching End() for each Begin() call, regardless of its return value!</span></div>
<div class="line"><a id="l10985" name="l10985"></a><span class="lineno">10985</span>        <span class="comment">// - Begin/End and BeginChild/EndChild logic is KNOWN TO BE INCONSISTENT WITH ALL OTHER BEGIN/END FUNCTIONS.</span></div>
<div class="line"><a id="l10986" name="l10986"></a><span class="lineno">10986</span>        <span class="comment">// - We will fix that in a future major update.</span></div>
<div class="line"><a id="l10987" name="l10987"></a><span class="lineno">10987</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l10988" name="l10988"></a><span class="lineno">10988</span>        <span class="keywordflow">if</span> (window-&gt;Flags &amp; ImGuiWindowFlags_ChildWindow)</div>
<div class="line"><a id="l10989" name="l10989"></a><span class="lineno">10989</span>        {</div>
<div class="line"><a id="l10990" name="l10990"></a><span class="lineno">10990</span>            <span class="keywordflow">if</span> (g.CurrentTable != NULL &amp;&amp; g.CurrentTable-&gt;InnerWindow == g.CurrentWindow)</div>
<div class="line"><a id="l10991" name="l10991"></a><span class="lineno">10991</span>            {</div>
<div class="line"><a id="l10992" name="l10992"></a><span class="lineno">10992</span>                IM_ASSERT_USER_ERROR(0, <span class="stringliteral">&quot;Missing EndTable()&quot;</span>);</div>
<div class="line"><a id="l10993" name="l10993"></a><span class="lineno">10993</span>                EndTable();</div>
<div class="line"><a id="l10994" name="l10994"></a><span class="lineno">10994</span>            }</div>
<div class="line"><a id="l10995" name="l10995"></a><span class="lineno">10995</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l10996" name="l10996"></a><span class="lineno">10996</span>            {</div>
<div class="line"><a id="l10997" name="l10997"></a><span class="lineno">10997</span>                IM_ASSERT_USER_ERROR(0, <span class="stringliteral">&quot;Missing EndChild()&quot;</span>);</div>
<div class="line"><a id="l10998" name="l10998"></a><span class="lineno">10998</span>                EndChild();</div>
<div class="line"><a id="l10999" name="l10999"></a><span class="lineno">10999</span>            }</div>
<div class="line"><a id="l11000" name="l11000"></a><span class="lineno">11000</span>        }</div>
<div class="line"><a id="l11001" name="l11001"></a><span class="lineno">11001</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l11002" name="l11002"></a><span class="lineno">11002</span>        {</div>
<div class="line"><a id="l11003" name="l11003"></a><span class="lineno">11003</span>            IM_ASSERT_USER_ERROR(0, <span class="stringliteral">&quot;Missing End()&quot;</span>);</div>
<div class="line"><a id="l11004" name="l11004"></a><span class="lineno">11004</span>            End();</div>
<div class="line"><a id="l11005" name="l11005"></a><span class="lineno">11005</span>        }</div>
<div class="line"><a id="l11006" name="l11006"></a><span class="lineno">11006</span>    }</div>
<div class="line"><a id="l11007" name="l11007"></a><span class="lineno">11007</span>    <span class="keywordflow">if</span> (g.CurrentWindowStack.Size == state_in-&gt;SizeOfWindowStack)</div>
<div class="line"><a id="l11008" name="l11008"></a><span class="lineno">11008</span>        ErrorRecoveryTryToRecoverWindowState(state_in);</div>
<div class="line"><a id="l11009" name="l11009"></a><span class="lineno">11009</span>}</div>
<div class="line"><a id="l11010" name="l11010"></a><span class="lineno">11010</span> </div>
<div class="line"><a id="l11011" name="l11011"></a><span class="lineno">11011</span><span class="comment">// Called by e.g. End() but may be called for manual recovery.</span></div>
<div class="line"><a id="l11012" name="l11012"></a><span class="lineno">11012</span><span class="comment">// Read &#39;// Error Handling [BETA]&#39; block in imgui_internal.h for details.</span></div>
<div class="line"><a id="l11013" name="l11013"></a><span class="lineno">11013</span><span class="comment">// Attempt to recover from incorrect usage of BeginXXX/EndXXX/PushXXX/PopXXX calls.</span></div>
<div class="line"><a id="l11014" name="l11014"></a><span class="lineno">11014</span><span class="keywordtype">void</span>    ImGui::ErrorRecoveryTryToRecoverWindowState(<span class="keyword">const</span> <a class="code hl_struct" href="structImGuiErrorRecoveryState.html">ImGuiErrorRecoveryState</a>* state_in)</div>
<div class="line"><a id="l11015" name="l11015"></a><span class="lineno">11015</span>{</div>
<div class="line"><a id="l11016" name="l11016"></a><span class="lineno">11016</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l11017" name="l11017"></a><span class="lineno">11017</span> </div>
<div class="line"><a id="l11018" name="l11018"></a><span class="lineno">11018</span>    <span class="keywordflow">while</span> (g.CurrentTable != NULL &amp;&amp; g.CurrentTable-&gt;InnerWindow == g.CurrentWindow) <span class="comment">//-V1044</span></div>
<div class="line"><a id="l11019" name="l11019"></a><span class="lineno">11019</span>    {</div>
<div class="line"><a id="l11020" name="l11020"></a><span class="lineno">11020</span>        IM_ASSERT_USER_ERROR(0, <span class="stringliteral">&quot;Missing EndTable()&quot;</span>);</div>
<div class="line"><a id="l11021" name="l11021"></a><span class="lineno">11021</span>        EndTable();</div>
<div class="line"><a id="l11022" name="l11022"></a><span class="lineno">11022</span>    }</div>
<div class="line"><a id="l11023" name="l11023"></a><span class="lineno">11023</span> </div>
<div class="line"><a id="l11024" name="l11024"></a><span class="lineno">11024</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l11025" name="l11025"></a><span class="lineno">11025</span> </div>
<div class="line"><a id="l11026" name="l11026"></a><span class="lineno">11026</span>    <span class="comment">// FIXME: Can&#39;t recover from inside BeginTabItem/EndTabItem yet.</span></div>
<div class="line"><a id="l11027" name="l11027"></a><span class="lineno">11027</span>    <span class="keywordflow">while</span> (g.CurrentTabBar != NULL &amp;&amp; g.CurrentTabBar-&gt;Window == window) <span class="comment">//-V1044</span></div>
<div class="line"><a id="l11028" name="l11028"></a><span class="lineno">11028</span>    {</div>
<div class="line"><a id="l11029" name="l11029"></a><span class="lineno">11029</span>        IM_ASSERT_USER_ERROR(0, <span class="stringliteral">&quot;Missing EndTabBar()&quot;</span>);</div>
<div class="line"><a id="l11030" name="l11030"></a><span class="lineno">11030</span>        EndTabBar();</div>
<div class="line"><a id="l11031" name="l11031"></a><span class="lineno">11031</span>    }</div>
<div class="line"><a id="l11032" name="l11032"></a><span class="lineno">11032</span>    <span class="keywordflow">while</span> (g.CurrentMultiSelect != NULL &amp;&amp; g.CurrentMultiSelect-&gt;Storage-&gt;Window == window) <span class="comment">//-V1044</span></div>
<div class="line"><a id="l11033" name="l11033"></a><span class="lineno">11033</span>    {</div>
<div class="line"><a id="l11034" name="l11034"></a><span class="lineno">11034</span>        IM_ASSERT_USER_ERROR(0, <span class="stringliteral">&quot;Missing EndMultiSelect()&quot;</span>);</div>
<div class="line"><a id="l11035" name="l11035"></a><span class="lineno">11035</span>        EndMultiSelect();</div>
<div class="line"><a id="l11036" name="l11036"></a><span class="lineno">11036</span>    }</div>
<div class="line"><a id="l11037" name="l11037"></a><span class="lineno">11037</span>    <span class="keywordflow">if</span> (window-&gt;DC.MenuBarAppending) <span class="comment">//-V1044</span></div>
<div class="line"><a id="l11038" name="l11038"></a><span class="lineno">11038</span>    {</div>
<div class="line"><a id="l11039" name="l11039"></a><span class="lineno">11039</span>        IM_ASSERT_USER_ERROR(0, <span class="stringliteral">&quot;Missing EndMenuBar()&quot;</span>);</div>
<div class="line"><a id="l11040" name="l11040"></a><span class="lineno">11040</span>        EndMenuBar();</div>
<div class="line"><a id="l11041" name="l11041"></a><span class="lineno">11041</span>    }</div>
<div class="line"><a id="l11042" name="l11042"></a><span class="lineno">11042</span>    <span class="keywordflow">while</span> (window-&gt;DC.TreeDepth &gt; state_in-&gt;SizeOfTreeStack) <span class="comment">//-V1044</span></div>
<div class="line"><a id="l11043" name="l11043"></a><span class="lineno">11043</span>    {</div>
<div class="line"><a id="l11044" name="l11044"></a><span class="lineno">11044</span>        IM_ASSERT_USER_ERROR(0, <span class="stringliteral">&quot;Missing TreePop()&quot;</span>);</div>
<div class="line"><a id="l11045" name="l11045"></a><span class="lineno">11045</span>        TreePop();</div>
<div class="line"><a id="l11046" name="l11046"></a><span class="lineno">11046</span>    }</div>
<div class="line"><a id="l11047" name="l11047"></a><span class="lineno">11047</span>    <span class="keywordflow">while</span> (g.GroupStack.Size &gt; state_in-&gt;SizeOfGroupStack) <span class="comment">//-V1044</span></div>
<div class="line"><a id="l11048" name="l11048"></a><span class="lineno">11048</span>    {</div>
<div class="line"><a id="l11049" name="l11049"></a><span class="lineno">11049</span>        IM_ASSERT_USER_ERROR(0, <span class="stringliteral">&quot;Missing EndGroup()&quot;</span>);</div>
<div class="line"><a id="l11050" name="l11050"></a><span class="lineno">11050</span>        EndGroup();</div>
<div class="line"><a id="l11051" name="l11051"></a><span class="lineno">11051</span>    }</div>
<div class="line"><a id="l11052" name="l11052"></a><span class="lineno">11052</span>    IM_ASSERT(g.GroupStack.Size == state_in-&gt;SizeOfGroupStack);</div>
<div class="line"><a id="l11053" name="l11053"></a><span class="lineno">11053</span>    <span class="keywordflow">while</span> (window-&gt;IDStack.Size &gt; state_in-&gt;SizeOfIDStack) <span class="comment">//-V1044</span></div>
<div class="line"><a id="l11054" name="l11054"></a><span class="lineno">11054</span>    {</div>
<div class="line"><a id="l11055" name="l11055"></a><span class="lineno">11055</span>        IM_ASSERT_USER_ERROR(0, <span class="stringliteral">&quot;Missing PopID()&quot;</span>);</div>
<div class="line"><a id="l11056" name="l11056"></a><span class="lineno">11056</span>        PopID();</div>
<div class="line"><a id="l11057" name="l11057"></a><span class="lineno">11057</span>    }</div>
<div class="line"><a id="l11058" name="l11058"></a><span class="lineno">11058</span>    <span class="keywordflow">while</span> (g.DisabledStackSize &gt; state_in-&gt;SizeOfDisabledStack) <span class="comment">//-V1044</span></div>
<div class="line"><a id="l11059" name="l11059"></a><span class="lineno">11059</span>    {</div>
<div class="line"><a id="l11060" name="l11060"></a><span class="lineno">11060</span>        IM_ASSERT_USER_ERROR(0, <span class="stringliteral">&quot;Missing EndDisabled()&quot;</span>);</div>
<div class="line"><a id="l11061" name="l11061"></a><span class="lineno">11061</span>        <span class="keywordflow">if</span> (g.CurrentItemFlags &amp; ImGuiItemFlags_Disabled)</div>
<div class="line"><a id="l11062" name="l11062"></a><span class="lineno">11062</span>            EndDisabled();</div>
<div class="line"><a id="l11063" name="l11063"></a><span class="lineno">11063</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l11064" name="l11064"></a><span class="lineno">11064</span>        {</div>
<div class="line"><a id="l11065" name="l11065"></a><span class="lineno">11065</span>            EndDisabledOverrideReenable();</div>
<div class="line"><a id="l11066" name="l11066"></a><span class="lineno">11066</span>            g.CurrentWindowStack.back().DisabledOverrideReenable = <span class="keyword">false</span>;</div>
<div class="line"><a id="l11067" name="l11067"></a><span class="lineno">11067</span>        }</div>
<div class="line"><a id="l11068" name="l11068"></a><span class="lineno">11068</span>    }</div>
<div class="line"><a id="l11069" name="l11069"></a><span class="lineno">11069</span>    IM_ASSERT(g.DisabledStackSize == state_in-&gt;SizeOfDisabledStack);</div>
<div class="line"><a id="l11070" name="l11070"></a><span class="lineno">11070</span>    <span class="keywordflow">while</span> (g.ColorStack.Size &gt; state_in-&gt;SizeOfColorStack) <span class="comment">//-V1044</span></div>
<div class="line"><a id="l11071" name="l11071"></a><span class="lineno">11071</span>    {</div>
<div class="line"><a id="l11072" name="l11072"></a><span class="lineno">11072</span>        IM_ASSERT_USER_ERROR(0, <span class="stringliteral">&quot;Missing PopStyleColor()&quot;</span>);</div>
<div class="line"><a id="l11073" name="l11073"></a><span class="lineno">11073</span>        PopStyleColor();</div>
<div class="line"><a id="l11074" name="l11074"></a><span class="lineno">11074</span>    }</div>
<div class="line"><a id="l11075" name="l11075"></a><span class="lineno">11075</span>    <span class="keywordflow">while</span> (g.ItemFlagsStack.Size &gt; state_in-&gt;SizeOfItemFlagsStack) <span class="comment">//-V1044</span></div>
<div class="line"><a id="l11076" name="l11076"></a><span class="lineno">11076</span>    {</div>
<div class="line"><a id="l11077" name="l11077"></a><span class="lineno">11077</span>        IM_ASSERT_USER_ERROR(0, <span class="stringliteral">&quot;Missing PopItemFlag()&quot;</span>);</div>
<div class="line"><a id="l11078" name="l11078"></a><span class="lineno">11078</span>        PopItemFlag();</div>
<div class="line"><a id="l11079" name="l11079"></a><span class="lineno">11079</span>    }</div>
<div class="line"><a id="l11080" name="l11080"></a><span class="lineno">11080</span>    <span class="keywordflow">while</span> (g.StyleVarStack.Size &gt; state_in-&gt;SizeOfStyleVarStack) <span class="comment">//-V1044</span></div>
<div class="line"><a id="l11081" name="l11081"></a><span class="lineno">11081</span>    {</div>
<div class="line"><a id="l11082" name="l11082"></a><span class="lineno">11082</span>        IM_ASSERT_USER_ERROR(0, <span class="stringliteral">&quot;Missing PopStyleVar()&quot;</span>);</div>
<div class="line"><a id="l11083" name="l11083"></a><span class="lineno">11083</span>        PopStyleVar();</div>
<div class="line"><a id="l11084" name="l11084"></a><span class="lineno">11084</span>    }</div>
<div class="line"><a id="l11085" name="l11085"></a><span class="lineno">11085</span>    <span class="keywordflow">while</span> (g.FontStack.Size &gt; state_in-&gt;SizeOfFontStack) <span class="comment">//-V1044</span></div>
<div class="line"><a id="l11086" name="l11086"></a><span class="lineno">11086</span>    {</div>
<div class="line"><a id="l11087" name="l11087"></a><span class="lineno">11087</span>        IM_ASSERT_USER_ERROR(0, <span class="stringliteral">&quot;Missing PopFont()&quot;</span>);</div>
<div class="line"><a id="l11088" name="l11088"></a><span class="lineno">11088</span>        PopFont();</div>
<div class="line"><a id="l11089" name="l11089"></a><span class="lineno">11089</span>    }</div>
<div class="line"><a id="l11090" name="l11090"></a><span class="lineno">11090</span>    <span class="keywordflow">while</span> (g.FocusScopeStack.Size &gt; state_in-&gt;SizeOfFocusScopeStack) <span class="comment">//-V1044</span></div>
<div class="line"><a id="l11091" name="l11091"></a><span class="lineno">11091</span>    {</div>
<div class="line"><a id="l11092" name="l11092"></a><span class="lineno">11092</span>        IM_ASSERT_USER_ERROR(0, <span class="stringliteral">&quot;Missing PopFocusScope()&quot;</span>);</div>
<div class="line"><a id="l11093" name="l11093"></a><span class="lineno">11093</span>        PopFocusScope();</div>
<div class="line"><a id="l11094" name="l11094"></a><span class="lineno">11094</span>    }</div>
<div class="line"><a id="l11095" name="l11095"></a><span class="lineno">11095</span>    <span class="comment">//IM_ASSERT(g.FocusScopeStack.Size == state_in-&gt;SizeOfFocusScopeStack);</span></div>
<div class="line"><a id="l11096" name="l11096"></a><span class="lineno">11096</span>}</div>
<div class="line"><a id="l11097" name="l11097"></a><span class="lineno">11097</span> </div>
<div class="line"><a id="l11098" name="l11098"></a><span class="lineno">11098</span><span class="keywordtype">bool</span>    ImGui::ErrorLog(<span class="keyword">const</span> <span class="keywordtype">char</span>* msg)</div>
<div class="line"><a id="l11099" name="l11099"></a><span class="lineno">11099</span>{</div>
<div class="line"><a id="l11100" name="l11100"></a><span class="lineno">11100</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l11101" name="l11101"></a><span class="lineno">11101</span> </div>
<div class="line"><a id="l11102" name="l11102"></a><span class="lineno">11102</span>    <span class="comment">// Output to debug log</span></div>
<div class="line"><a id="l11103" name="l11103"></a><span class="lineno">11103</span><span class="preprocessor">#ifndef IMGUI_DISABLE_DEBUG_TOOLS</span></div>
<div class="line"><a id="l11104" name="l11104"></a><span class="lineno">11104</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l11105" name="l11105"></a><span class="lineno">11105</span> </div>
<div class="line"><a id="l11106" name="l11106"></a><span class="lineno">11106</span>    <span class="keywordflow">if</span> (g.IO.ConfigErrorRecoveryEnableDebugLog)</div>
<div class="line"><a id="l11107" name="l11107"></a><span class="lineno">11107</span>    {</div>
<div class="line"><a id="l11108" name="l11108"></a><span class="lineno">11108</span>        <span class="keywordflow">if</span> (g.ErrorFirst)</div>
<div class="line"><a id="l11109" name="l11109"></a><span class="lineno">11109</span>            IMGUI_DEBUG_LOG_ERROR(<span class="stringliteral">&quot;[imgui-error] (current settings: Assert=%d, Log=%d, Tooltip=%d)\n&quot;</span>,</div>
<div class="line"><a id="l11110" name="l11110"></a><span class="lineno">11110</span>                g.IO.ConfigErrorRecoveryEnableAssert, g.IO.ConfigErrorRecoveryEnableDebugLog, g.IO.ConfigErrorRecoveryEnableTooltip);</div>
<div class="line"><a id="l11111" name="l11111"></a><span class="lineno">11111</span>        IMGUI_DEBUG_LOG_ERROR(<span class="stringliteral">&quot;[imgui-error] In window &#39;%s&#39;: %s\n&quot;</span>, window ? window-&gt;Name : <span class="stringliteral">&quot;NULL&quot;</span>, msg);</div>
<div class="line"><a id="l11112" name="l11112"></a><span class="lineno">11112</span>    }</div>
<div class="line"><a id="l11113" name="l11113"></a><span class="lineno">11113</span>    g.ErrorFirst = <span class="keyword">false</span>;</div>
<div class="line"><a id="l11114" name="l11114"></a><span class="lineno">11114</span> </div>
<div class="line"><a id="l11115" name="l11115"></a><span class="lineno">11115</span>    <span class="comment">// Output to tooltip</span></div>
<div class="line"><a id="l11116" name="l11116"></a><span class="lineno">11116</span>    <span class="keywordflow">if</span> (g.IO.ConfigErrorRecoveryEnableTooltip)</div>
<div class="line"><a id="l11117" name="l11117"></a><span class="lineno">11117</span>    {</div>
<div class="line"><a id="l11118" name="l11118"></a><span class="lineno">11118</span>        <span class="keywordflow">if</span> (g.WithinFrameScope &amp;&amp; BeginErrorTooltip())</div>
<div class="line"><a id="l11119" name="l11119"></a><span class="lineno">11119</span>        {</div>
<div class="line"><a id="l11120" name="l11120"></a><span class="lineno">11120</span>            <span class="keywordflow">if</span> (g.ErrorCountCurrentFrame &lt; 20)</div>
<div class="line"><a id="l11121" name="l11121"></a><span class="lineno">11121</span>            {</div>
<div class="line"><a id="l11122" name="l11122"></a><span class="lineno">11122</span>                Text(<span class="stringliteral">&quot;In window &#39;%s&#39;: %s&quot;</span>, window ? window-&gt;Name : <span class="stringliteral">&quot;NULL&quot;</span>, msg);</div>
<div class="line"><a id="l11123" name="l11123"></a><span class="lineno">11123</span>                <span class="keywordflow">if</span> (window &amp;&amp; (!window-&gt;IsFallbackWindow || window-&gt;WasActive))</div>
<div class="line"><a id="l11124" name="l11124"></a><span class="lineno">11124</span>                    GetForegroundDrawList(window)-&gt;AddRect(window-&gt;Pos, window-&gt;Pos + window-&gt;Size, IM_COL32(255, 0, 0, 255));</div>
<div class="line"><a id="l11125" name="l11125"></a><span class="lineno">11125</span>            }</div>
<div class="line"><a id="l11126" name="l11126"></a><span class="lineno">11126</span>            <span class="keywordflow">if</span> (g.ErrorCountCurrentFrame == 20)</div>
<div class="line"><a id="l11127" name="l11127"></a><span class="lineno">11127</span>                Text(<span class="stringliteral">&quot;(and more errors)&quot;</span>);</div>
<div class="line"><a id="l11128" name="l11128"></a><span class="lineno">11128</span>            <span class="comment">// EndFrame() will amend debug buttons to this window, after all errors have been submitted.</span></div>
<div class="line"><a id="l11129" name="l11129"></a><span class="lineno">11129</span>            EndErrorTooltip();</div>
<div class="line"><a id="l11130" name="l11130"></a><span class="lineno">11130</span>        }</div>
<div class="line"><a id="l11131" name="l11131"></a><span class="lineno">11131</span>        g.ErrorCountCurrentFrame++;</div>
<div class="line"><a id="l11132" name="l11132"></a><span class="lineno">11132</span>    }</div>
<div class="line"><a id="l11133" name="l11133"></a><span class="lineno">11133</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l11134" name="l11134"></a><span class="lineno">11134</span> </div>
<div class="line"><a id="l11135" name="l11135"></a><span class="lineno">11135</span>    <span class="comment">// Output to callback</span></div>
<div class="line"><a id="l11136" name="l11136"></a><span class="lineno">11136</span>    <span class="keywordflow">if</span> (g.ErrorCallback != NULL)</div>
<div class="line"><a id="l11137" name="l11137"></a><span class="lineno">11137</span>        g.ErrorCallback(&amp;g, g.ErrorCallbackUserData, msg);</div>
<div class="line"><a id="l11138" name="l11138"></a><span class="lineno">11138</span> </div>
<div class="line"><a id="l11139" name="l11139"></a><span class="lineno">11139</span>    <span class="comment">// Return whether we should assert</span></div>
<div class="line"><a id="l11140" name="l11140"></a><span class="lineno">11140</span>    <span class="keywordflow">return</span> g.IO.ConfigErrorRecoveryEnableAssert;</div>
<div class="line"><a id="l11141" name="l11141"></a><span class="lineno">11141</span>}</div>
<div class="line"><a id="l11142" name="l11142"></a><span class="lineno">11142</span> </div>
<div class="line"><a id="l11143" name="l11143"></a><span class="lineno">11143</span><span class="keywordtype">void</span> ImGui::ErrorCheckEndFrameFinalizeErrorTooltip()</div>
<div class="line"><a id="l11144" name="l11144"></a><span class="lineno">11144</span>{</div>
<div class="line"><a id="l11145" name="l11145"></a><span class="lineno">11145</span><span class="preprocessor">#ifndef IMGUI_DISABLE_DEBUG_TOOLS</span></div>
<div class="line"><a id="l11146" name="l11146"></a><span class="lineno">11146</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l11147" name="l11147"></a><span class="lineno">11147</span>    <span class="keywordflow">if</span> (g.DebugDrawIdConflicts != 0 &amp;&amp; g.IO.KeyCtrl == <span class="keyword">false</span>)</div>
<div class="line"><a id="l11148" name="l11148"></a><span class="lineno">11148</span>        g.DebugDrawIdConflictsCount = g.HoveredIdPreviousFrameItemCount;</div>
<div class="line"><a id="l11149" name="l11149"></a><span class="lineno">11149</span>    <span class="keywordflow">if</span> (g.DebugDrawIdConflicts != 0 &amp;&amp; g.DebugItemPickerActive == <span class="keyword">false</span> &amp;&amp; BeginErrorTooltip())</div>
<div class="line"><a id="l11150" name="l11150"></a><span class="lineno">11150</span>    {</div>
<div class="line"><a id="l11151" name="l11151"></a><span class="lineno">11151</span>        Text(<span class="stringliteral">&quot;Programmer error: %d visible items with conflicting ID!&quot;</span>, g.DebugDrawIdConflictsCount);</div>
<div class="line"><a id="l11152" name="l11152"></a><span class="lineno">11152</span>        BulletText(<span class="stringliteral">&quot;Code should use PushID()/PopID() in loops, or append \&quot;##xx\&quot; to same-label identifiers!&quot;</span>);</div>
<div class="line"><a id="l11153" name="l11153"></a><span class="lineno">11153</span>        BulletText(<span class="stringliteral">&quot;Empty label e.g. Button(\&quot;\&quot;) == same ID as parent widget/node. Use Button(\&quot;##xx\&quot;) instead!&quot;</span>);</div>
<div class="line"><a id="l11154" name="l11154"></a><span class="lineno">11154</span>        <span class="comment">//BulletText(&quot;Code intending to use duplicate ID may use e.g. PushItemFlag(ImGuiItemFlags_AllowDuplicateId, true); ... PopItemFlag()&quot;); // Not making this too visible for fear of it being abused.</span></div>
<div class="line"><a id="l11155" name="l11155"></a><span class="lineno">11155</span>        BulletText(<span class="stringliteral">&quot;Set io.ConfigDebugHighlightIdConflicts=false to disable this warning in non-programmers builds.&quot;</span>);</div>
<div class="line"><a id="l11156" name="l11156"></a><span class="lineno">11156</span>        Separator();</div>
<div class="line"><a id="l11157" name="l11157"></a><span class="lineno">11157</span>        <span class="keywordflow">if</span> (g.IO.ConfigDebugHighlightIdConflictsShowItemPicker)</div>
<div class="line"><a id="l11158" name="l11158"></a><span class="lineno">11158</span>        {</div>
<div class="line"><a id="l11159" name="l11159"></a><span class="lineno">11159</span>            Text(<span class="stringliteral">&quot;(Hold CTRL to: use &quot;</span>);</div>
<div class="line"><a id="l11160" name="l11160"></a><span class="lineno">11160</span>            SameLine(0.0f, 0.0f);</div>
<div class="line"><a id="l11161" name="l11161"></a><span class="lineno">11161</span>            <span class="keywordflow">if</span> (SmallButton(<span class="stringliteral">&quot;Item Picker&quot;</span>))</div>
<div class="line"><a id="l11162" name="l11162"></a><span class="lineno">11162</span>                DebugStartItemPicker();</div>
<div class="line"><a id="l11163" name="l11163"></a><span class="lineno">11163</span>            SameLine(0.0f, 0.0f);</div>
<div class="line"><a id="l11164" name="l11164"></a><span class="lineno">11164</span>            Text(<span class="stringliteral">&quot; to break in item call-stack, or &quot;</span>);</div>
<div class="line"><a id="l11165" name="l11165"></a><span class="lineno">11165</span>        }</div>
<div class="line"><a id="l11166" name="l11166"></a><span class="lineno">11166</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l11167" name="l11167"></a><span class="lineno">11167</span>        {</div>
<div class="line"><a id="l11168" name="l11168"></a><span class="lineno">11168</span>            Text(<span class="stringliteral">&quot;(Hold CTRL to &quot;</span>);</div>
<div class="line"><a id="l11169" name="l11169"></a><span class="lineno">11169</span>        }</div>
<div class="line"><a id="l11170" name="l11170"></a><span class="lineno">11170</span>        SameLine(0.0f, 0.0f);</div>
<div class="line"><a id="l11171" name="l11171"></a><span class="lineno">11171</span>        <span class="keywordflow">if</span> (SmallButton(<span class="stringliteral">&quot;Open FAQ-&gt;About ID Stack System&quot;</span>) &amp;&amp; g.PlatformIO.Platform_OpenInShellFn != NULL)</div>
<div class="line"><a id="l11172" name="l11172"></a><span class="lineno">11172</span>            g.PlatformIO.Platform_OpenInShellFn(&amp;g, <span class="stringliteral">&quot;https://github.com/ocornut/imgui/blob/master/docs/FAQ.md#qa-usage&quot;</span>);</div>
<div class="line"><a id="l11173" name="l11173"></a><span class="lineno">11173</span>        SameLine(0.0f, 0.0f);</div>
<div class="line"><a id="l11174" name="l11174"></a><span class="lineno">11174</span>        Text(<span class="stringliteral">&quot;)&quot;</span>);</div>
<div class="line"><a id="l11175" name="l11175"></a><span class="lineno">11175</span>        EndErrorTooltip();</div>
<div class="line"><a id="l11176" name="l11176"></a><span class="lineno">11176</span>    }</div>
<div class="line"><a id="l11177" name="l11177"></a><span class="lineno">11177</span> </div>
<div class="line"><a id="l11178" name="l11178"></a><span class="lineno">11178</span>    <span class="keywordflow">if</span> (g.ErrorCountCurrentFrame &gt; 0 &amp;&amp; BeginErrorTooltip()) <span class="comment">// Amend at end of frame</span></div>
<div class="line"><a id="l11179" name="l11179"></a><span class="lineno">11179</span>    {</div>
<div class="line"><a id="l11180" name="l11180"></a><span class="lineno">11180</span>        Separator();</div>
<div class="line"><a id="l11181" name="l11181"></a><span class="lineno">11181</span>        Text(<span class="stringliteral">&quot;(Hold CTRL to:&quot;</span>);</div>
<div class="line"><a id="l11182" name="l11182"></a><span class="lineno">11182</span>        SameLine();</div>
<div class="line"><a id="l11183" name="l11183"></a><span class="lineno">11183</span>        <span class="keywordflow">if</span> (SmallButton(<span class="stringliteral">&quot;Enable Asserts&quot;</span>))</div>
<div class="line"><a id="l11184" name="l11184"></a><span class="lineno">11184</span>            g.IO.ConfigErrorRecoveryEnableAssert = <span class="keyword">true</span>;</div>
<div class="line"><a id="l11185" name="l11185"></a><span class="lineno">11185</span>        <span class="comment">//SameLine();</span></div>
<div class="line"><a id="l11186" name="l11186"></a><span class="lineno">11186</span>        <span class="comment">//if (SmallButton(&quot;Hide Error Tooltips&quot;))</span></div>
<div class="line"><a id="l11187" name="l11187"></a><span class="lineno">11187</span>        <span class="comment">//    g.IO.ConfigErrorRecoveryEnableTooltip = false; // Too dangerous</span></div>
<div class="line"><a id="l11188" name="l11188"></a><span class="lineno">11188</span>        SameLine(0, 0);</div>
<div class="line"><a id="l11189" name="l11189"></a><span class="lineno">11189</span>        Text(<span class="stringliteral">&quot;)&quot;</span>);</div>
<div class="line"><a id="l11190" name="l11190"></a><span class="lineno">11190</span>        EndErrorTooltip();</div>
<div class="line"><a id="l11191" name="l11191"></a><span class="lineno">11191</span>    }</div>
<div class="line"><a id="l11192" name="l11192"></a><span class="lineno">11192</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l11193" name="l11193"></a><span class="lineno">11193</span>}</div>
<div class="line"><a id="l11194" name="l11194"></a><span class="lineno">11194</span> </div>
<div class="line"><a id="l11195" name="l11195"></a><span class="lineno">11195</span><span class="comment">// Pseudo-tooltip. Follow mouse until CTRL is held. When CTRL is held we lock position, allowing to click it.</span></div>
<div class="line"><a id="l11196" name="l11196"></a><span class="lineno">11196</span><span class="keywordtype">bool</span> ImGui::BeginErrorTooltip()</div>
<div class="line"><a id="l11197" name="l11197"></a><span class="lineno">11197</span>{</div>
<div class="line"><a id="l11198" name="l11198"></a><span class="lineno">11198</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l11199" name="l11199"></a><span class="lineno">11199</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = FindWindowByName(<span class="stringliteral">&quot;##Tooltip_Error&quot;</span>);</div>
<div class="line"><a id="l11200" name="l11200"></a><span class="lineno">11200</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> use_locked_pos = (g.IO.KeyCtrl &amp;&amp; window &amp;&amp; window-&gt;WasActive);</div>
<div class="line"><a id="l11201" name="l11201"></a><span class="lineno">11201</span>    PushStyleColor(ImGuiCol_PopupBg, ImLerp(g.Style.Colors[ImGuiCol_PopupBg], <a class="code hl_struct" href="structImVec4.html">ImVec4</a>(1.0f, 0.0f, 0.0f, 1.0f), 0.15f));</div>
<div class="line"><a id="l11202" name="l11202"></a><span class="lineno">11202</span>    <span class="keywordflow">if</span> (use_locked_pos)</div>
<div class="line"><a id="l11203" name="l11203"></a><span class="lineno">11203</span>        SetNextWindowPos(g.ErrorTooltipLockedPos);</div>
<div class="line"><a id="l11204" name="l11204"></a><span class="lineno">11204</span>    <span class="keywordtype">bool</span> is_visible = Begin(<span class="stringliteral">&quot;##Tooltip_Error&quot;</span>, NULL, ImGuiWindowFlags_Tooltip | ImGuiWindowFlags_NoDecoration | ImGuiWindowFlags_NoMove | ImGuiWindowFlags_NoResize | ImGuiWindowFlags_NoSavedSettings | ImGuiWindowFlags_AlwaysAutoResize);</div>
<div class="line"><a id="l11205" name="l11205"></a><span class="lineno">11205</span>    PopStyleColor();</div>
<div class="line"><a id="l11206" name="l11206"></a><span class="lineno">11206</span>    <span class="keywordflow">if</span> (is_visible &amp;&amp; g.CurrentWindow-&gt;BeginCount == 1)</div>
<div class="line"><a id="l11207" name="l11207"></a><span class="lineno">11207</span>    {</div>
<div class="line"><a id="l11208" name="l11208"></a><span class="lineno">11208</span>        SeparatorText(<span class="stringliteral">&quot;MESSAGE FROM DEAR IMGUI&quot;</span>);</div>
<div class="line"><a id="l11209" name="l11209"></a><span class="lineno">11209</span>        BringWindowToDisplayFront(g.CurrentWindow);</div>
<div class="line"><a id="l11210" name="l11210"></a><span class="lineno">11210</span>        BringWindowToFocusFront(g.CurrentWindow);</div>
<div class="line"><a id="l11211" name="l11211"></a><span class="lineno">11211</span>        g.ErrorTooltipLockedPos = GetWindowPos();</div>
<div class="line"><a id="l11212" name="l11212"></a><span class="lineno">11212</span>    }</div>
<div class="line"><a id="l11213" name="l11213"></a><span class="lineno">11213</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!is_visible)</div>
<div class="line"><a id="l11214" name="l11214"></a><span class="lineno">11214</span>    {</div>
<div class="line"><a id="l11215" name="l11215"></a><span class="lineno">11215</span>        End();</div>
<div class="line"><a id="l11216" name="l11216"></a><span class="lineno">11216</span>    }</div>
<div class="line"><a id="l11217" name="l11217"></a><span class="lineno">11217</span>    <span class="keywordflow">return</span> is_visible;</div>
<div class="line"><a id="l11218" name="l11218"></a><span class="lineno">11218</span>}</div>
<div class="line"><a id="l11219" name="l11219"></a><span class="lineno">11219</span> </div>
<div class="line"><a id="l11220" name="l11220"></a><span class="lineno">11220</span><span class="keywordtype">void</span> ImGui::EndErrorTooltip()</div>
<div class="line"><a id="l11221" name="l11221"></a><span class="lineno">11221</span>{</div>
<div class="line"><a id="l11222" name="l11222"></a><span class="lineno">11222</span>    End();</div>
<div class="line"><a id="l11223" name="l11223"></a><span class="lineno">11223</span>}</div>
<div class="line"><a id="l11224" name="l11224"></a><span class="lineno">11224</span> </div>
<div class="line"><a id="l11225" name="l11225"></a><span class="lineno">11225</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l11226" name="l11226"></a><span class="lineno">11226</span><span class="comment">// [SECTION] ITEM SUBMISSION</span></div>
<div class="line"><a id="l11227" name="l11227"></a><span class="lineno">11227</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l11228" name="l11228"></a><span class="lineno">11228</span><span class="comment">// - KeepAliveID()</span></div>
<div class="line"><a id="l11229" name="l11229"></a><span class="lineno">11229</span><span class="comment">// - ItemAdd()</span></div>
<div class="line"><a id="l11230" name="l11230"></a><span class="lineno">11230</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l11231" name="l11231"></a><span class="lineno">11231</span> </div>
<div class="line"><a id="l11232" name="l11232"></a><span class="lineno">11232</span><span class="comment">// Code not using ItemAdd() may need to call this manually otherwise ActiveId will be cleared. In IMGUI_VERSION_NUM &lt; 18717 this was called by GetID().</span></div>
<div class="line"><a id="l11233" name="l11233"></a><span class="lineno">11233</span><span class="keywordtype">void</span> ImGui::KeepAliveID(ImGuiID <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l11234" name="l11234"></a><span class="lineno">11234</span>{</div>
<div class="line"><a id="l11235" name="l11235"></a><span class="lineno">11235</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l11236" name="l11236"></a><span class="lineno">11236</span>    <span class="keywordflow">if</span> (g.ActiveId == <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l11237" name="l11237"></a><span class="lineno">11237</span>        g.ActiveIdIsAlive = id;</div>
<div class="line"><a id="l11238" name="l11238"></a><span class="lineno">11238</span>    <span class="keywordflow">if</span> (g.DeactivatedItemData.ID == <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l11239" name="l11239"></a><span class="lineno">11239</span>        g.DeactivatedItemData.IsAlive = <span class="keyword">true</span>;</div>
<div class="line"><a id="l11240" name="l11240"></a><span class="lineno">11240</span>}</div>
<div class="line"><a id="l11241" name="l11241"></a><span class="lineno">11241</span> </div>
<div class="line"><a id="l11242" name="l11242"></a><span class="lineno">11242</span><span class="comment">// Declare item bounding box for clipping and interaction.</span></div>
<div class="line"><a id="l11243" name="l11243"></a><span class="lineno">11243</span><span class="comment">// Note that the size can be different than the one provided to ItemSize(). Typically, widgets that spread over available surface</span></div>
<div class="line"><a id="l11244" name="l11244"></a><span class="lineno">11244</span><span class="comment">// declare their minimum size requirement to ItemSize() and provide a larger region to ItemAdd() which is used drawing/interaction.</span></div>
<div class="line"><a id="l11245" name="l11245"></a><span class="lineno">11245</span><span class="comment">// THIS IS IN THE PERFORMANCE CRITICAL PATH (UNTIL THE CLIPPING TEST AND EARLY-RETURN)</span></div>
<div class="line"><a id="l11246" name="l11246"></a><span class="lineno">11246</span>IM_MSVC_RUNTIME_CHECKS_OFF</div>
<div class="line"><a id="l11247" name="l11247"></a><span class="lineno">11247</span><span class="keywordtype">bool</span> ImGui::ItemAdd(<span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; bb, ImGuiID <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>* nav_bb_arg, ImGuiItemFlags extra_flags)</div>
<div class="line"><a id="l11248" name="l11248"></a><span class="lineno">11248</span>{</div>
<div class="line"><a id="l11249" name="l11249"></a><span class="lineno">11249</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l11250" name="l11250"></a><span class="lineno">11250</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l11251" name="l11251"></a><span class="lineno">11251</span> </div>
<div class="line"><a id="l11252" name="l11252"></a><span class="lineno">11252</span>    <span class="comment">// Set item data</span></div>
<div class="line"><a id="l11253" name="l11253"></a><span class="lineno">11253</span>    <span class="comment">// (DisplayRect is left untouched, made valid when ImGuiItemStatusFlags_HasDisplayRect is set)</span></div>
<div class="line"><a id="l11254" name="l11254"></a><span class="lineno">11254</span>    g.LastItemData.ID = id;</div>
<div class="line"><a id="l11255" name="l11255"></a><span class="lineno">11255</span>    g.LastItemData.Rect = bb;</div>
<div class="line"><a id="l11256" name="l11256"></a><span class="lineno">11256</span>    g.LastItemData.NavRect = nav_bb_arg ? *nav_bb_arg : bb;</div>
<div class="line"><a id="l11257" name="l11257"></a><span class="lineno">11257</span>    g.LastItemData.ItemFlags = g.CurrentItemFlags | g.NextItemData.ItemFlags | extra_flags;</div>
<div class="line"><a id="l11258" name="l11258"></a><span class="lineno">11258</span>    g.LastItemData.StatusFlags = ImGuiItemStatusFlags_None;</div>
<div class="line"><a id="l11259" name="l11259"></a><span class="lineno">11259</span>    <span class="comment">// Note: we don&#39;t copy &#39;g.NextItemData.SelectionUserData&#39; to an hypothetical g.LastItemData.SelectionUserData: since the former is not cleared.</span></div>
<div class="line"><a id="l11260" name="l11260"></a><span class="lineno">11260</span> </div>
<div class="line"><a id="l11261" name="l11261"></a><span class="lineno">11261</span>    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> != 0)</div>
<div class="line"><a id="l11262" name="l11262"></a><span class="lineno">11262</span>    {</div>
<div class="line"><a id="l11263" name="l11263"></a><span class="lineno">11263</span>        KeepAliveID(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l11264" name="l11264"></a><span class="lineno">11264</span> </div>
<div class="line"><a id="l11265" name="l11265"></a><span class="lineno">11265</span>        <span class="comment">// Directional navigation processing</span></div>
<div class="line"><a id="l11266" name="l11266"></a><span class="lineno">11266</span>        <span class="comment">// Runs prior to clipping early-out</span></div>
<div class="line"><a id="l11267" name="l11267"></a><span class="lineno">11267</span>        <span class="comment">//  (a) So that NavInitRequest can be honored, for newly opened windows to select a default widget</span></div>
<div class="line"><a id="l11268" name="l11268"></a><span class="lineno">11268</span>        <span class="comment">//  (b) So that we can scroll up/down past clipped items. This adds a small O(N) cost to regular navigation requests</span></div>
<div class="line"><a id="l11269" name="l11269"></a><span class="lineno">11269</span>        <span class="comment">//      unfortunately, but it is still limited to one window. It may not scale very well for windows with ten of</span></div>
<div class="line"><a id="l11270" name="l11270"></a><span class="lineno">11270</span>        <span class="comment">//      thousands of item, but at least NavMoveRequest is only set on user interaction, aka maximum once a frame.</span></div>
<div class="line"><a id="l11271" name="l11271"></a><span class="lineno">11271</span>        <span class="comment">//      We could early out with &quot;if (is_clipped &amp;&amp; !g.NavInitRequest) return false;&quot; but when we wouldn&#39;t be able</span></div>
<div class="line"><a id="l11272" name="l11272"></a><span class="lineno">11272</span>        <span class="comment">//      to reach unclipped widgets. This would work if user had explicit scrolling control (e.g. mapped on a stick).</span></div>
<div class="line"><a id="l11273" name="l11273"></a><span class="lineno">11273</span>        <span class="comment">// We intentionally don&#39;t check if g.NavWindow != NULL because g.NavAnyRequest should only be set when it is non null.</span></div>
<div class="line"><a id="l11274" name="l11274"></a><span class="lineno">11274</span>        <span class="comment">// If we crash on a NULL g.NavWindow we need to fix the bug elsewhere.</span></div>
<div class="line"><a id="l11275" name="l11275"></a><span class="lineno">11275</span>        <span class="keywordflow">if</span> (!(g.LastItemData.ItemFlags &amp; ImGuiItemFlags_NoNav))</div>
<div class="line"><a id="l11276" name="l11276"></a><span class="lineno">11276</span>        {</div>
<div class="line"><a id="l11277" name="l11277"></a><span class="lineno">11277</span>            <span class="comment">// FIMXE-NAV: investigate changing the window tests into a simple &#39;if (g.NavFocusScopeId == g.CurrentFocusScopeId)&#39; test.</span></div>
<div class="line"><a id="l11278" name="l11278"></a><span class="lineno">11278</span>            window-&gt;DC.NavLayersActiveMaskNext |= (1 &lt;&lt; window-&gt;DC.NavLayerCurrent);</div>
<div class="line"><a id="l11279" name="l11279"></a><span class="lineno">11279</span>            <span class="keywordflow">if</span> (g.NavId == <span class="keywordtype">id</span> || g.NavAnyRequest)</div>
<div class="line"><a id="l11280" name="l11280"></a><span class="lineno">11280</span>                <span class="keywordflow">if</span> (g.NavWindow-&gt;RootWindowForNav == window-&gt;RootWindowForNav)</div>
<div class="line"><a id="l11281" name="l11281"></a><span class="lineno">11281</span>                    <span class="keywordflow">if</span> (window == g.NavWindow || ((window-&gt;ChildFlags | g.NavWindow-&gt;ChildFlags) &amp; ImGuiChildFlags_NavFlattened))</div>
<div class="line"><a id="l11282" name="l11282"></a><span class="lineno">11282</span>                        NavProcessItem();</div>
<div class="line"><a id="l11283" name="l11283"></a><span class="lineno">11283</span>        }</div>
<div class="line"><a id="l11284" name="l11284"></a><span class="lineno">11284</span> </div>
<div class="line"><a id="l11285" name="l11285"></a><span class="lineno">11285</span>        <span class="keywordflow">if</span> (g.NextItemData.HasFlags &amp; ImGuiNextItemDataFlags_HasShortcut)</div>
<div class="line"><a id="l11286" name="l11286"></a><span class="lineno">11286</span>            ItemHandleShortcut(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l11287" name="l11287"></a><span class="lineno">11287</span>    }</div>
<div class="line"><a id="l11288" name="l11288"></a><span class="lineno">11288</span> </div>
<div class="line"><a id="l11289" name="l11289"></a><span class="lineno">11289</span>    <span class="comment">// Lightweight clear of SetNextItemXXX data.</span></div>
<div class="line"><a id="l11290" name="l11290"></a><span class="lineno">11290</span>    g.NextItemData.HasFlags = ImGuiNextItemDataFlags_None;</div>
<div class="line"><a id="l11291" name="l11291"></a><span class="lineno">11291</span>    g.NextItemData.ItemFlags = ImGuiItemFlags_None;</div>
<div class="line"><a id="l11292" name="l11292"></a><span class="lineno">11292</span> </div>
<div class="line"><a id="l11293" name="l11293"></a><span class="lineno">11293</span><span class="preprocessor">#ifdef IMGUI_ENABLE_TEST_ENGINE</span></div>
<div class="line"><a id="l11294" name="l11294"></a><span class="lineno">11294</span>    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> != 0)</div>
<div class="line"><a id="l11295" name="l11295"></a><span class="lineno">11295</span>        IMGUI_TEST_ENGINE_ITEM_ADD(<span class="keywordtype">id</span>, g.LastItemData.NavRect, &amp;g.LastItemData);</div>
<div class="line"><a id="l11296" name="l11296"></a><span class="lineno">11296</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l11297" name="l11297"></a><span class="lineno">11297</span> </div>
<div class="line"><a id="l11298" name="l11298"></a><span class="lineno">11298</span>    <span class="comment">// Clipping test</span></div>
<div class="line"><a id="l11299" name="l11299"></a><span class="lineno">11299</span>    <span class="comment">// (this is an inline copy of IsClippedEx() so we can reuse the is_rect_visible value, otherwise we&#39;d do &#39;if (IsClippedEx(bb, id)) return false&#39;)</span></div>
<div class="line"><a id="l11300" name="l11300"></a><span class="lineno">11300</span>    <span class="comment">// g.NavActivateId is not necessarily == g.NavId, in the case of remote activation (e.g. shortcuts)</span></div>
<div class="line"><a id="l11301" name="l11301"></a><span class="lineno">11301</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_rect_visible = bb.Overlaps(window-&gt;ClipRect);</div>
<div class="line"><a id="l11302" name="l11302"></a><span class="lineno">11302</span>    <span class="keywordflow">if</span> (!is_rect_visible)</div>
<div class="line"><a id="l11303" name="l11303"></a><span class="lineno">11303</span>        <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == 0 || (<span class="keywordtype">id</span> != g.ActiveId &amp;&amp; <span class="keywordtype">id</span> != g.ActiveIdPreviousFrame &amp;&amp; <span class="keywordtype">id</span> != g.NavId &amp;&amp; <span class="keywordtype">id</span> != g.NavActivateId))</div>
<div class="line"><a id="l11304" name="l11304"></a><span class="lineno">11304</span>            <span class="keywordflow">if</span> (!g.ItemUnclipByLog)</div>
<div class="line"><a id="l11305" name="l11305"></a><span class="lineno">11305</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l11306" name="l11306"></a><span class="lineno">11306</span> </div>
<div class="line"><a id="l11307" name="l11307"></a><span class="lineno">11307</span>    <span class="comment">// [DEBUG]</span></div>
<div class="line"><a id="l11308" name="l11308"></a><span class="lineno">11308</span><span class="preprocessor">#ifndef IMGUI_DISABLE_DEBUG_TOOLS</span></div>
<div class="line"><a id="l11309" name="l11309"></a><span class="lineno">11309</span>    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> != 0)</div>
<div class="line"><a id="l11310" name="l11310"></a><span class="lineno">11310</span>    {</div>
<div class="line"><a id="l11311" name="l11311"></a><span class="lineno">11311</span>        <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == g.DebugLocateId)</div>
<div class="line"><a id="l11312" name="l11312"></a><span class="lineno">11312</span>            DebugLocateItemResolveWithLastItem();</div>
<div class="line"><a id="l11313" name="l11313"></a><span class="lineno">11313</span> </div>
<div class="line"><a id="l11314" name="l11314"></a><span class="lineno">11314</span>        <span class="comment">// [DEBUG] People keep stumbling on this problem and using &quot;&quot; as identifier in the root of a window instead of &quot;##something&quot;.</span></div>
<div class="line"><a id="l11315" name="l11315"></a><span class="lineno">11315</span>        <span class="comment">// Empty identifier are valid and useful in a small amount of cases, but 99.9% of the time you want to use &quot;##something&quot;.</span></div>
<div class="line"><a id="l11316" name="l11316"></a><span class="lineno">11316</span>        <span class="comment">// READ THE FAQ: https://dearimgui.com/faq</span></div>
<div class="line"><a id="l11317" name="l11317"></a><span class="lineno">11317</span>        IM_ASSERT(<span class="keywordtype">id</span> != window-&gt;ID &amp;&amp; <span class="stringliteral">&quot;Cannot have an empty ID at the root of a window. If you need an empty label, use ## and read the FAQ about how the ID Stack works!&quot;</span>);</div>
<div class="line"><a id="l11318" name="l11318"></a><span class="lineno">11318</span>    }</div>
<div class="line"><a id="l11319" name="l11319"></a><span class="lineno">11319</span>    <span class="comment">//if (g.IO.KeyAlt) window-&gt;DrawList-&gt;AddRect(bb.Min, bb.Max, IM_COL32(255,255,0,120)); // [DEBUG]</span></div>
<div class="line"><a id="l11320" name="l11320"></a><span class="lineno">11320</span>    <span class="comment">//if ((g.LastItemData.ItemFlags &amp; ImGuiItemFlags_NoNav) == 0)</span></div>
<div class="line"><a id="l11321" name="l11321"></a><span class="lineno">11321</span>    <span class="comment">//    window-&gt;DrawList-&gt;AddRect(g.LastItemData.NavRect.Min, g.LastItemData.NavRect.Max, IM_COL32(255,255,0,255)); // [DEBUG]</span></div>
<div class="line"><a id="l11322" name="l11322"></a><span class="lineno">11322</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l11323" name="l11323"></a><span class="lineno">11323</span> </div>
<div class="line"><a id="l11324" name="l11324"></a><span class="lineno">11324</span>    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> != 0 &amp;&amp; g.DeactivatedItemData.ID == <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l11325" name="l11325"></a><span class="lineno">11325</span>        g.DeactivatedItemData.ElapseFrame = g.FrameCount;</div>
<div class="line"><a id="l11326" name="l11326"></a><span class="lineno">11326</span> </div>
<div class="line"><a id="l11327" name="l11327"></a><span class="lineno">11327</span>    <span class="comment">// We need to calculate this now to take account of the current clipping rectangle (as items like Selectable may change them)</span></div>
<div class="line"><a id="l11328" name="l11328"></a><span class="lineno">11328</span>    <span class="keywordflow">if</span> (is_rect_visible)</div>
<div class="line"><a id="l11329" name="l11329"></a><span class="lineno">11329</span>        g.LastItemData.StatusFlags |= ImGuiItemStatusFlags_Visible;</div>
<div class="line"><a id="l11330" name="l11330"></a><span class="lineno">11330</span>    <span class="keywordflow">if</span> (IsMouseHoveringRect(bb.Min, bb.Max))</div>
<div class="line"><a id="l11331" name="l11331"></a><span class="lineno">11331</span>        g.LastItemData.StatusFlags |= ImGuiItemStatusFlags_HoveredRect;</div>
<div class="line"><a id="l11332" name="l11332"></a><span class="lineno">11332</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l11333" name="l11333"></a><span class="lineno">11333</span>}</div>
<div class="line"><a id="l11334" name="l11334"></a><span class="lineno">11334</span>IM_MSVC_RUNTIME_CHECKS_RESTORE</div>
<div class="line"><a id="l11335" name="l11335"></a><span class="lineno">11335</span> </div>
<div class="line"><a id="l11336" name="l11336"></a><span class="lineno">11336</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l11337" name="l11337"></a><span class="lineno">11337</span><span class="comment">// [SECTION] LAYOUT</span></div>
<div class="line"><a id="l11338" name="l11338"></a><span class="lineno">11338</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l11339" name="l11339"></a><span class="lineno">11339</span><span class="comment">// - ItemSize()</span></div>
<div class="line"><a id="l11340" name="l11340"></a><span class="lineno">11340</span><span class="comment">// - SameLine()</span></div>
<div class="line"><a id="l11341" name="l11341"></a><span class="lineno">11341</span><span class="comment">// - GetCursorScreenPos()</span></div>
<div class="line"><a id="l11342" name="l11342"></a><span class="lineno">11342</span><span class="comment">// - SetCursorScreenPos()</span></div>
<div class="line"><a id="l11343" name="l11343"></a><span class="lineno">11343</span><span class="comment">// - GetCursorPos(), GetCursorPosX(), GetCursorPosY()</span></div>
<div class="line"><a id="l11344" name="l11344"></a><span class="lineno">11344</span><span class="comment">// - SetCursorPos(), SetCursorPosX(), SetCursorPosY()</span></div>
<div class="line"><a id="l11345" name="l11345"></a><span class="lineno">11345</span><span class="comment">// - GetCursorStartPos()</span></div>
<div class="line"><a id="l11346" name="l11346"></a><span class="lineno">11346</span><span class="comment">// - Indent()</span></div>
<div class="line"><a id="l11347" name="l11347"></a><span class="lineno">11347</span><span class="comment">// - Unindent()</span></div>
<div class="line"><a id="l11348" name="l11348"></a><span class="lineno">11348</span><span class="comment">// - SetNextItemWidth()</span></div>
<div class="line"><a id="l11349" name="l11349"></a><span class="lineno">11349</span><span class="comment">// - PushItemWidth()</span></div>
<div class="line"><a id="l11350" name="l11350"></a><span class="lineno">11350</span><span class="comment">// - PushMultiItemsWidths()</span></div>
<div class="line"><a id="l11351" name="l11351"></a><span class="lineno">11351</span><span class="comment">// - PopItemWidth()</span></div>
<div class="line"><a id="l11352" name="l11352"></a><span class="lineno">11352</span><span class="comment">// - CalcItemWidth()</span></div>
<div class="line"><a id="l11353" name="l11353"></a><span class="lineno">11353</span><span class="comment">// - CalcItemSize()</span></div>
<div class="line"><a id="l11354" name="l11354"></a><span class="lineno">11354</span><span class="comment">// - GetTextLineHeight()</span></div>
<div class="line"><a id="l11355" name="l11355"></a><span class="lineno">11355</span><span class="comment">// - GetTextLineHeightWithSpacing()</span></div>
<div class="line"><a id="l11356" name="l11356"></a><span class="lineno">11356</span><span class="comment">// - GetFrameHeight()</span></div>
<div class="line"><a id="l11357" name="l11357"></a><span class="lineno">11357</span><span class="comment">// - GetFrameHeightWithSpacing()</span></div>
<div class="line"><a id="l11358" name="l11358"></a><span class="lineno">11358</span><span class="comment">// - GetContentRegionMax()</span></div>
<div class="line"><a id="l11359" name="l11359"></a><span class="lineno">11359</span><span class="comment">// - GetContentRegionAvail(),</span></div>
<div class="line"><a id="l11360" name="l11360"></a><span class="lineno">11360</span><span class="comment">// - BeginGroup()</span></div>
<div class="line"><a id="l11361" name="l11361"></a><span class="lineno">11361</span><span class="comment">// - EndGroup()</span></div>
<div class="line"><a id="l11362" name="l11362"></a><span class="lineno">11362</span><span class="comment">// Also see in imgui_widgets: tab bars, and in imgui_tables: tables, columns.</span></div>
<div class="line"><a id="l11363" name="l11363"></a><span class="lineno">11363</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l11364" name="l11364"></a><span class="lineno">11364</span> </div>
<div class="line"><a id="l11365" name="l11365"></a><span class="lineno">11365</span><span class="comment">// Advance cursor given item size for layout.</span></div>
<div class="line"><a id="l11366" name="l11366"></a><span class="lineno">11366</span><span class="comment">// Register minimum needed size so it can extend the bounding box used for auto-fit calculation.</span></div>
<div class="line"><a id="l11367" name="l11367"></a><span class="lineno">11367</span><span class="comment">// See comments in ItemAdd() about how/why the size provided to ItemSize() vs ItemAdd() may often different.</span></div>
<div class="line"><a id="l11368" name="l11368"></a><span class="lineno">11368</span><span class="comment">// THIS IS IN THE PERFORMANCE CRITICAL PATH.</span></div>
<div class="line"><a id="l11369" name="l11369"></a><span class="lineno">11369</span>IM_MSVC_RUNTIME_CHECKS_OFF</div>
<div class="line"><a id="l11370" name="l11370"></a><span class="lineno">11370</span><span class="keywordtype">void</span> ImGui::ItemSize(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; size, <span class="keywordtype">float</span> text_baseline_y)</div>
<div class="line"><a id="l11371" name="l11371"></a><span class="lineno">11371</span>{</div>
<div class="line"><a id="l11372" name="l11372"></a><span class="lineno">11372</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l11373" name="l11373"></a><span class="lineno">11373</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l11374" name="l11374"></a><span class="lineno">11374</span>    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a id="l11375" name="l11375"></a><span class="lineno">11375</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l11376" name="l11376"></a><span class="lineno">11376</span> </div>
<div class="line"><a id="l11377" name="l11377"></a><span class="lineno">11377</span>    <span class="comment">// We increase the height in this function to accommodate for baseline offset.</span></div>
<div class="line"><a id="l11378" name="l11378"></a><span class="lineno">11378</span>    <span class="comment">// In theory we should be offsetting the starting position (window-&gt;DC.CursorPos), that will be the topic of a larger refactor,</span></div>
<div class="line"><a id="l11379" name="l11379"></a><span class="lineno">11379</span>    <span class="comment">// but since ItemSize() is not yet an API that moves the cursor (to handle e.g. wrapping) enlarging the height has the same effect.</span></div>
<div class="line"><a id="l11380" name="l11380"></a><span class="lineno">11380</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> offset_to_match_baseline_y = (text_baseline_y &gt;= 0) ? ImMax(0.0f, window-&gt;DC.CurrLineTextBaseOffset - text_baseline_y) : 0.0f;</div>
<div class="line"><a id="l11381" name="l11381"></a><span class="lineno">11381</span> </div>
<div class="line"><a id="l11382" name="l11382"></a><span class="lineno">11382</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> line_y1 = window-&gt;DC.IsSameLine ? window-&gt;DC.CursorPosPrevLine.y : window-&gt;DC.CursorPos.y;</div>
<div class="line"><a id="l11383" name="l11383"></a><span class="lineno">11383</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> line_height = ImMax(window-&gt;DC.CurrLineSize.y, <span class="comment">/*ImMax(*/</span>window-&gt;DC.CursorPos.y - line_y1<span class="comment">/*, 0.0f)*/</span> + size.y + offset_to_match_baseline_y);</div>
<div class="line"><a id="l11384" name="l11384"></a><span class="lineno">11384</span> </div>
<div class="line"><a id="l11385" name="l11385"></a><span class="lineno">11385</span>    <span class="comment">// Always align ourselves on pixel boundaries</span></div>
<div class="line"><a id="l11386" name="l11386"></a><span class="lineno">11386</span>    <span class="comment">//if (g.IO.KeyAlt) window-&gt;DrawList-&gt;AddRect(window-&gt;DC.CursorPos, window-&gt;DC.CursorPos + ImVec2(size.x, line_height), IM_COL32(255,0,0,200)); // [DEBUG]</span></div>
<div class="line"><a id="l11387" name="l11387"></a><span class="lineno">11387</span>    window-&gt;DC.CursorPosPrevLine.x = window-&gt;DC.CursorPos.x + size.x;</div>
<div class="line"><a id="l11388" name="l11388"></a><span class="lineno">11388</span>    window-&gt;DC.CursorPosPrevLine.y = line_y1;</div>
<div class="line"><a id="l11389" name="l11389"></a><span class="lineno">11389</span>    window-&gt;DC.CursorPos.x = IM_TRUNC(window-&gt;Pos.x + window-&gt;DC.Indent.x + window-&gt;DC.ColumnsOffset.x);    <span class="comment">// Next line</span></div>
<div class="line"><a id="l11390" name="l11390"></a><span class="lineno">11390</span>    window-&gt;DC.CursorPos.y = IM_TRUNC(line_y1 + line_height + g.Style.ItemSpacing.y);                       <span class="comment">// Next line</span></div>
<div class="line"><a id="l11391" name="l11391"></a><span class="lineno">11391</span>    window-&gt;DC.CursorMaxPos.x = ImMax(window-&gt;DC.CursorMaxPos.x, window-&gt;DC.CursorPosPrevLine.x);</div>
<div class="line"><a id="l11392" name="l11392"></a><span class="lineno">11392</span>    window-&gt;DC.CursorMaxPos.y = ImMax(window-&gt;DC.CursorMaxPos.y, window-&gt;DC.CursorPos.y - g.Style.ItemSpacing.y);</div>
<div class="line"><a id="l11393" name="l11393"></a><span class="lineno">11393</span>    <span class="comment">//if (g.IO.KeyAlt) window-&gt;DrawList-&gt;AddCircle(window-&gt;DC.CursorMaxPos, 3.0f, IM_COL32(255,0,0,255), 4); // [DEBUG]</span></div>
<div class="line"><a id="l11394" name="l11394"></a><span class="lineno">11394</span> </div>
<div class="line"><a id="l11395" name="l11395"></a><span class="lineno">11395</span>    window-&gt;DC.PrevLineSize.y = line_height;</div>
<div class="line"><a id="l11396" name="l11396"></a><span class="lineno">11396</span>    window-&gt;DC.CurrLineSize.y = 0.0f;</div>
<div class="line"><a id="l11397" name="l11397"></a><span class="lineno">11397</span>    window-&gt;DC.PrevLineTextBaseOffset = ImMax(window-&gt;DC.CurrLineTextBaseOffset, text_baseline_y);</div>
<div class="line"><a id="l11398" name="l11398"></a><span class="lineno">11398</span>    window-&gt;DC.CurrLineTextBaseOffset = 0.0f;</div>
<div class="line"><a id="l11399" name="l11399"></a><span class="lineno">11399</span>    window-&gt;DC.IsSameLine = window-&gt;DC.IsSetPos = <span class="keyword">false</span>;</div>
<div class="line"><a id="l11400" name="l11400"></a><span class="lineno">11400</span> </div>
<div class="line"><a id="l11401" name="l11401"></a><span class="lineno">11401</span>    <span class="comment">// Horizontal layout mode</span></div>
<div class="line"><a id="l11402" name="l11402"></a><span class="lineno">11402</span>    <span class="keywordflow">if</span> (window-&gt;DC.LayoutType == ImGuiLayoutType_Horizontal)</div>
<div class="line"><a id="l11403" name="l11403"></a><span class="lineno">11403</span>        SameLine();</div>
<div class="line"><a id="l11404" name="l11404"></a><span class="lineno">11404</span>}</div>
<div class="line"><a id="l11405" name="l11405"></a><span class="lineno">11405</span>IM_MSVC_RUNTIME_CHECKS_RESTORE</div>
<div class="line"><a id="l11406" name="l11406"></a><span class="lineno">11406</span> </div>
<div class="line"><a id="l11407" name="l11407"></a><span class="lineno">11407</span><span class="comment">// Gets back to previous line and continue with horizontal layout</span></div>
<div class="line"><a id="l11408" name="l11408"></a><span class="lineno">11408</span><span class="comment">//      offset_from_start_x == 0 : follow right after previous item</span></div>
<div class="line"><a id="l11409" name="l11409"></a><span class="lineno">11409</span><span class="comment">//      offset_from_start_x != 0 : align to specified x position (relative to window/group left)</span></div>
<div class="line"><a id="l11410" name="l11410"></a><span class="lineno">11410</span><span class="comment">//      spacing_w &lt; 0            : use default spacing if offset_from_start_x == 0, no spacing if offset_from_start_x != 0</span></div>
<div class="line"><a id="l11411" name="l11411"></a><span class="lineno">11411</span><span class="comment">//      spacing_w &gt;= 0           : enforce spacing amount</span></div>
<div class="line"><a id="l11412" name="l11412"></a><span class="lineno">11412</span><span class="keywordtype">void</span> ImGui::SameLine(<span class="keywordtype">float</span> offset_from_start_x, <span class="keywordtype">float</span> spacing_w)</div>
<div class="line"><a id="l11413" name="l11413"></a><span class="lineno">11413</span>{</div>
<div class="line"><a id="l11414" name="l11414"></a><span class="lineno">11414</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l11415" name="l11415"></a><span class="lineno">11415</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l11416" name="l11416"></a><span class="lineno">11416</span>    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a id="l11417" name="l11417"></a><span class="lineno">11417</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l11418" name="l11418"></a><span class="lineno">11418</span> </div>
<div class="line"><a id="l11419" name="l11419"></a><span class="lineno">11419</span>    <span class="keywordflow">if</span> (offset_from_start_x != 0.0f)</div>
<div class="line"><a id="l11420" name="l11420"></a><span class="lineno">11420</span>    {</div>
<div class="line"><a id="l11421" name="l11421"></a><span class="lineno">11421</span>        <span class="keywordflow">if</span> (spacing_w &lt; 0.0f)</div>
<div class="line"><a id="l11422" name="l11422"></a><span class="lineno">11422</span>            spacing_w = 0.0f;</div>
<div class="line"><a id="l11423" name="l11423"></a><span class="lineno">11423</span>        window-&gt;DC.CursorPos.x = window-&gt;Pos.x - window-&gt;Scroll.x + offset_from_start_x + spacing_w + window-&gt;DC.GroupOffset.x + window-&gt;DC.ColumnsOffset.x;</div>
<div class="line"><a id="l11424" name="l11424"></a><span class="lineno">11424</span>        window-&gt;DC.CursorPos.y = window-&gt;DC.CursorPosPrevLine.y;</div>
<div class="line"><a id="l11425" name="l11425"></a><span class="lineno">11425</span>    }</div>
<div class="line"><a id="l11426" name="l11426"></a><span class="lineno">11426</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l11427" name="l11427"></a><span class="lineno">11427</span>    {</div>
<div class="line"><a id="l11428" name="l11428"></a><span class="lineno">11428</span>        <span class="keywordflow">if</span> (spacing_w &lt; 0.0f)</div>
<div class="line"><a id="l11429" name="l11429"></a><span class="lineno">11429</span>            spacing_w = g.Style.ItemSpacing.x;</div>
<div class="line"><a id="l11430" name="l11430"></a><span class="lineno">11430</span>        window-&gt;DC.CursorPos.x = window-&gt;DC.CursorPosPrevLine.x + spacing_w;</div>
<div class="line"><a id="l11431" name="l11431"></a><span class="lineno">11431</span>        window-&gt;DC.CursorPos.y = window-&gt;DC.CursorPosPrevLine.y;</div>
<div class="line"><a id="l11432" name="l11432"></a><span class="lineno">11432</span>    }</div>
<div class="line"><a id="l11433" name="l11433"></a><span class="lineno">11433</span>    window-&gt;DC.CurrLineSize = window-&gt;DC.PrevLineSize;</div>
<div class="line"><a id="l11434" name="l11434"></a><span class="lineno">11434</span>    window-&gt;DC.CurrLineTextBaseOffset = window-&gt;DC.PrevLineTextBaseOffset;</div>
<div class="line"><a id="l11435" name="l11435"></a><span class="lineno">11435</span>    window-&gt;DC.IsSameLine = <span class="keyword">true</span>;</div>
<div class="line"><a id="l11436" name="l11436"></a><span class="lineno">11436</span>}</div>
<div class="line"><a id="l11437" name="l11437"></a><span class="lineno">11437</span> </div>
<div class="line"><a id="l11438" name="l11438"></a><span class="lineno">11438</span><a class="code hl_struct" href="structImVec2.html">ImVec2</a> ImGui::GetCursorScreenPos()</div>
<div class="line"><a id="l11439" name="l11439"></a><span class="lineno">11439</span>{</div>
<div class="line"><a id="l11440" name="l11440"></a><span class="lineno">11440</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GetCurrentWindowRead();</div>
<div class="line"><a id="l11441" name="l11441"></a><span class="lineno">11441</span>    <span class="keywordflow">return</span> window-&gt;DC.CursorPos;</div>
<div class="line"><a id="l11442" name="l11442"></a><span class="lineno">11442</span>}</div>
<div class="line"><a id="l11443" name="l11443"></a><span class="lineno">11443</span> </div>
<div class="line"><a id="l11444" name="l11444"></a><span class="lineno">11444</span><span class="keywordtype">void</span> ImGui::SetCursorScreenPos(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; pos)</div>
<div class="line"><a id="l11445" name="l11445"></a><span class="lineno">11445</span>{</div>
<div class="line"><a id="l11446" name="l11446"></a><span class="lineno">11446</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GetCurrentWindow();</div>
<div class="line"><a id="l11447" name="l11447"></a><span class="lineno">11447</span>    window-&gt;DC.CursorPos = pos;</div>
<div class="line"><a id="l11448" name="l11448"></a><span class="lineno">11448</span>    <span class="comment">//window-&gt;DC.CursorMaxPos = ImMax(window-&gt;DC.CursorMaxPos, window-&gt;DC.CursorPos);</span></div>
<div class="line"><a id="l11449" name="l11449"></a><span class="lineno">11449</span>    window-&gt;DC.IsSetPos = <span class="keyword">true</span>;</div>
<div class="line"><a id="l11450" name="l11450"></a><span class="lineno">11450</span>}</div>
<div class="line"><a id="l11451" name="l11451"></a><span class="lineno">11451</span> </div>
<div class="line"><a id="l11452" name="l11452"></a><span class="lineno">11452</span><span class="comment">// User generally sees positions in window coordinates. Internally we store CursorPos in absolute screen coordinates because it is more convenient.</span></div>
<div class="line"><a id="l11453" name="l11453"></a><span class="lineno">11453</span><span class="comment">// Conversion happens as we pass the value to user, but it makes our naming convention confusing because GetCursorPos() == (DC.CursorPos - window.Pos). May want to rename &#39;DC.CursorPos&#39;.</span></div>
<div class="line"><a id="l11454" name="l11454"></a><span class="lineno">11454</span><a class="code hl_struct" href="structImVec2.html">ImVec2</a> ImGui::GetCursorPos()</div>
<div class="line"><a id="l11455" name="l11455"></a><span class="lineno">11455</span>{</div>
<div class="line"><a id="l11456" name="l11456"></a><span class="lineno">11456</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GetCurrentWindowRead();</div>
<div class="line"><a id="l11457" name="l11457"></a><span class="lineno">11457</span>    <span class="keywordflow">return</span> window-&gt;DC.CursorPos - window-&gt;Pos + window-&gt;Scroll;</div>
<div class="line"><a id="l11458" name="l11458"></a><span class="lineno">11458</span>}</div>
<div class="line"><a id="l11459" name="l11459"></a><span class="lineno">11459</span> </div>
<div class="line"><a id="l11460" name="l11460"></a><span class="lineno">11460</span><span class="keywordtype">float</span> ImGui::GetCursorPosX()</div>
<div class="line"><a id="l11461" name="l11461"></a><span class="lineno">11461</span>{</div>
<div class="line"><a id="l11462" name="l11462"></a><span class="lineno">11462</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GetCurrentWindowRead();</div>
<div class="line"><a id="l11463" name="l11463"></a><span class="lineno">11463</span>    <span class="keywordflow">return</span> window-&gt;DC.CursorPos.x - window-&gt;Pos.x + window-&gt;Scroll.x;</div>
<div class="line"><a id="l11464" name="l11464"></a><span class="lineno">11464</span>}</div>
<div class="line"><a id="l11465" name="l11465"></a><span class="lineno">11465</span> </div>
<div class="line"><a id="l11466" name="l11466"></a><span class="lineno">11466</span><span class="keywordtype">float</span> ImGui::GetCursorPosY()</div>
<div class="line"><a id="l11467" name="l11467"></a><span class="lineno">11467</span>{</div>
<div class="line"><a id="l11468" name="l11468"></a><span class="lineno">11468</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GetCurrentWindowRead();</div>
<div class="line"><a id="l11469" name="l11469"></a><span class="lineno">11469</span>    <span class="keywordflow">return</span> window-&gt;DC.CursorPos.y - window-&gt;Pos.y + window-&gt;Scroll.y;</div>
<div class="line"><a id="l11470" name="l11470"></a><span class="lineno">11470</span>}</div>
<div class="line"><a id="l11471" name="l11471"></a><span class="lineno">11471</span> </div>
<div class="line"><a id="l11472" name="l11472"></a><span class="lineno">11472</span><span class="keywordtype">void</span> ImGui::SetCursorPos(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; local_pos)</div>
<div class="line"><a id="l11473" name="l11473"></a><span class="lineno">11473</span>{</div>
<div class="line"><a id="l11474" name="l11474"></a><span class="lineno">11474</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GetCurrentWindow();</div>
<div class="line"><a id="l11475" name="l11475"></a><span class="lineno">11475</span>    window-&gt;DC.CursorPos = window-&gt;Pos - window-&gt;Scroll + local_pos;</div>
<div class="line"><a id="l11476" name="l11476"></a><span class="lineno">11476</span>    <span class="comment">//window-&gt;DC.CursorMaxPos = ImMax(window-&gt;DC.CursorMaxPos, window-&gt;DC.CursorPos);</span></div>
<div class="line"><a id="l11477" name="l11477"></a><span class="lineno">11477</span>    window-&gt;DC.IsSetPos = <span class="keyword">true</span>;</div>
<div class="line"><a id="l11478" name="l11478"></a><span class="lineno">11478</span>}</div>
<div class="line"><a id="l11479" name="l11479"></a><span class="lineno">11479</span> </div>
<div class="line"><a id="l11480" name="l11480"></a><span class="lineno">11480</span><span class="keywordtype">void</span> ImGui::SetCursorPosX(<span class="keywordtype">float</span> x)</div>
<div class="line"><a id="l11481" name="l11481"></a><span class="lineno">11481</span>{</div>
<div class="line"><a id="l11482" name="l11482"></a><span class="lineno">11482</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GetCurrentWindow();</div>
<div class="line"><a id="l11483" name="l11483"></a><span class="lineno">11483</span>    window-&gt;DC.CursorPos.x = window-&gt;Pos.x - window-&gt;Scroll.x + x;</div>
<div class="line"><a id="l11484" name="l11484"></a><span class="lineno">11484</span>    <span class="comment">//window-&gt;DC.CursorMaxPos.x = ImMax(window-&gt;DC.CursorMaxPos.x, window-&gt;DC.CursorPos.x);</span></div>
<div class="line"><a id="l11485" name="l11485"></a><span class="lineno">11485</span>    window-&gt;DC.IsSetPos = <span class="keyword">true</span>;</div>
<div class="line"><a id="l11486" name="l11486"></a><span class="lineno">11486</span>}</div>
<div class="line"><a id="l11487" name="l11487"></a><span class="lineno">11487</span> </div>
<div class="line"><a id="l11488" name="l11488"></a><span class="lineno">11488</span><span class="keywordtype">void</span> ImGui::SetCursorPosY(<span class="keywordtype">float</span> y)</div>
<div class="line"><a id="l11489" name="l11489"></a><span class="lineno">11489</span>{</div>
<div class="line"><a id="l11490" name="l11490"></a><span class="lineno">11490</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GetCurrentWindow();</div>
<div class="line"><a id="l11491" name="l11491"></a><span class="lineno">11491</span>    window-&gt;DC.CursorPos.y = window-&gt;Pos.y - window-&gt;Scroll.y + y;</div>
<div class="line"><a id="l11492" name="l11492"></a><span class="lineno">11492</span>    <span class="comment">//window-&gt;DC.CursorMaxPos.y = ImMax(window-&gt;DC.CursorMaxPos.y, window-&gt;DC.CursorPos.y);</span></div>
<div class="line"><a id="l11493" name="l11493"></a><span class="lineno">11493</span>    window-&gt;DC.IsSetPos = <span class="keyword">true</span>;</div>
<div class="line"><a id="l11494" name="l11494"></a><span class="lineno">11494</span>}</div>
<div class="line"><a id="l11495" name="l11495"></a><span class="lineno">11495</span> </div>
<div class="line"><a id="l11496" name="l11496"></a><span class="lineno">11496</span><a class="code hl_struct" href="structImVec2.html">ImVec2</a> ImGui::GetCursorStartPos()</div>
<div class="line"><a id="l11497" name="l11497"></a><span class="lineno">11497</span>{</div>
<div class="line"><a id="l11498" name="l11498"></a><span class="lineno">11498</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GetCurrentWindowRead();</div>
<div class="line"><a id="l11499" name="l11499"></a><span class="lineno">11499</span>    <span class="keywordflow">return</span> window-&gt;DC.CursorStartPos - window-&gt;Pos;</div>
<div class="line"><a id="l11500" name="l11500"></a><span class="lineno">11500</span>}</div>
<div class="line"><a id="l11501" name="l11501"></a><span class="lineno">11501</span> </div>
<div class="line"><a id="l11502" name="l11502"></a><span class="lineno">11502</span><span class="keywordtype">void</span> ImGui::Indent(<span class="keywordtype">float</span> indent_w)</div>
<div class="line"><a id="l11503" name="l11503"></a><span class="lineno">11503</span>{</div>
<div class="line"><a id="l11504" name="l11504"></a><span class="lineno">11504</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l11505" name="l11505"></a><span class="lineno">11505</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GetCurrentWindow();</div>
<div class="line"><a id="l11506" name="l11506"></a><span class="lineno">11506</span>    window-&gt;DC.Indent.x += (indent_w != 0.0f) ? indent_w : g.Style.IndentSpacing;</div>
<div class="line"><a id="l11507" name="l11507"></a><span class="lineno">11507</span>    window-&gt;DC.CursorPos.x = window-&gt;Pos.x + window-&gt;DC.Indent.x + window-&gt;DC.ColumnsOffset.x;</div>
<div class="line"><a id="l11508" name="l11508"></a><span class="lineno">11508</span>}</div>
<div class="line"><a id="l11509" name="l11509"></a><span class="lineno">11509</span> </div>
<div class="line"><a id="l11510" name="l11510"></a><span class="lineno">11510</span><span class="keywordtype">void</span> ImGui::Unindent(<span class="keywordtype">float</span> indent_w)</div>
<div class="line"><a id="l11511" name="l11511"></a><span class="lineno">11511</span>{</div>
<div class="line"><a id="l11512" name="l11512"></a><span class="lineno">11512</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l11513" name="l11513"></a><span class="lineno">11513</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GetCurrentWindow();</div>
<div class="line"><a id="l11514" name="l11514"></a><span class="lineno">11514</span>    window-&gt;DC.Indent.x -= (indent_w != 0.0f) ? indent_w : g.Style.IndentSpacing;</div>
<div class="line"><a id="l11515" name="l11515"></a><span class="lineno">11515</span>    window-&gt;DC.CursorPos.x = window-&gt;Pos.x + window-&gt;DC.Indent.x + window-&gt;DC.ColumnsOffset.x;</div>
<div class="line"><a id="l11516" name="l11516"></a><span class="lineno">11516</span>}</div>
<div class="line"><a id="l11517" name="l11517"></a><span class="lineno">11517</span> </div>
<div class="line"><a id="l11518" name="l11518"></a><span class="lineno">11518</span><span class="comment">// Affect large frame+labels widgets only.</span></div>
<div class="line"><a id="l11519" name="l11519"></a><span class="lineno">11519</span><span class="keywordtype">void</span> ImGui::SetNextItemWidth(<span class="keywordtype">float</span> item_width)</div>
<div class="line"><a id="l11520" name="l11520"></a><span class="lineno">11520</span>{</div>
<div class="line"><a id="l11521" name="l11521"></a><span class="lineno">11521</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l11522" name="l11522"></a><span class="lineno">11522</span>    g.NextItemData.HasFlags |= ImGuiNextItemDataFlags_HasWidth;</div>
<div class="line"><a id="l11523" name="l11523"></a><span class="lineno">11523</span>    g.NextItemData.Width = item_width;</div>
<div class="line"><a id="l11524" name="l11524"></a><span class="lineno">11524</span>}</div>
<div class="line"><a id="l11525" name="l11525"></a><span class="lineno">11525</span> </div>
<div class="line"><a id="l11526" name="l11526"></a><span class="lineno">11526</span><span class="comment">// FIXME: Remove the == 0.0f behavior?</span></div>
<div class="line"><a id="l11527" name="l11527"></a><span class="lineno">11527</span><span class="keywordtype">void</span> ImGui::PushItemWidth(<span class="keywordtype">float</span> item_width)</div>
<div class="line"><a id="l11528" name="l11528"></a><span class="lineno">11528</span>{</div>
<div class="line"><a id="l11529" name="l11529"></a><span class="lineno">11529</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l11530" name="l11530"></a><span class="lineno">11530</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l11531" name="l11531"></a><span class="lineno">11531</span>    window-&gt;DC.ItemWidthStack.push_back(window-&gt;DC.ItemWidth); <span class="comment">// Backup current width</span></div>
<div class="line"><a id="l11532" name="l11532"></a><span class="lineno">11532</span>    window-&gt;DC.ItemWidth = (item_width == 0.0f ? window-&gt;ItemWidthDefault : item_width);</div>
<div class="line"><a id="l11533" name="l11533"></a><span class="lineno">11533</span>    g.NextItemData.HasFlags &amp;= ~ImGuiNextItemDataFlags_HasWidth;</div>
<div class="line"><a id="l11534" name="l11534"></a><span class="lineno">11534</span>}</div>
<div class="line"><a id="l11535" name="l11535"></a><span class="lineno">11535</span> </div>
<div class="line"><a id="l11536" name="l11536"></a><span class="lineno">11536</span><span class="keywordtype">void</span> ImGui::PushMultiItemsWidths(<span class="keywordtype">int</span> components, <span class="keywordtype">float</span> w_full)</div>
<div class="line"><a id="l11537" name="l11537"></a><span class="lineno">11537</span>{</div>
<div class="line"><a id="l11538" name="l11538"></a><span class="lineno">11538</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l11539" name="l11539"></a><span class="lineno">11539</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l11540" name="l11540"></a><span class="lineno">11540</span>    IM_ASSERT(components &gt; 0);</div>
<div class="line"><a id="l11541" name="l11541"></a><span class="lineno">11541</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>&amp; style = g.Style;</div>
<div class="line"><a id="l11542" name="l11542"></a><span class="lineno">11542</span>    window-&gt;DC.ItemWidthStack.push_back(window-&gt;DC.ItemWidth); <span class="comment">// Backup current width</span></div>
<div class="line"><a id="l11543" name="l11543"></a><span class="lineno">11543</span>    <span class="keywordtype">float</span> w_items = w_full - style.ItemInnerSpacing.x * (components - 1);</div>
<div class="line"><a id="l11544" name="l11544"></a><span class="lineno">11544</span>    <span class="keywordtype">float</span> prev_split = w_items;</div>
<div class="line"><a id="l11545" name="l11545"></a><span class="lineno">11545</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = components - 1; i &gt; 0; i--)</div>
<div class="line"><a id="l11546" name="l11546"></a><span class="lineno">11546</span>    {</div>
<div class="line"><a id="l11547" name="l11547"></a><span class="lineno">11547</span>        <span class="keywordtype">float</span> next_split = IM_TRUNC(w_items * i / components);</div>
<div class="line"><a id="l11548" name="l11548"></a><span class="lineno">11548</span>        window-&gt;DC.ItemWidthStack.push_back(ImMax(prev_split - next_split, 1.0f));</div>
<div class="line"><a id="l11549" name="l11549"></a><span class="lineno">11549</span>        prev_split = next_split;</div>
<div class="line"><a id="l11550" name="l11550"></a><span class="lineno">11550</span>    }</div>
<div class="line"><a id="l11551" name="l11551"></a><span class="lineno">11551</span>    window-&gt;DC.ItemWidth = ImMax(prev_split, 1.0f);</div>
<div class="line"><a id="l11552" name="l11552"></a><span class="lineno">11552</span>    g.NextItemData.HasFlags &amp;= ~ImGuiNextItemDataFlags_HasWidth;</div>
<div class="line"><a id="l11553" name="l11553"></a><span class="lineno">11553</span>}</div>
<div class="line"><a id="l11554" name="l11554"></a><span class="lineno">11554</span> </div>
<div class="line"><a id="l11555" name="l11555"></a><span class="lineno">11555</span><span class="keywordtype">void</span> ImGui::PopItemWidth()</div>
<div class="line"><a id="l11556" name="l11556"></a><span class="lineno">11556</span>{</div>
<div class="line"><a id="l11557" name="l11557"></a><span class="lineno">11557</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l11558" name="l11558"></a><span class="lineno">11558</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l11559" name="l11559"></a><span class="lineno">11559</span>    <span class="keywordflow">if</span> (window-&gt;DC.ItemWidthStack.Size &lt;= 0)</div>
<div class="line"><a id="l11560" name="l11560"></a><span class="lineno">11560</span>    {</div>
<div class="line"><a id="l11561" name="l11561"></a><span class="lineno">11561</span>        IM_ASSERT_USER_ERROR(0, <span class="stringliteral">&quot;Calling PopItemWidth() too many times!&quot;</span>);</div>
<div class="line"><a id="l11562" name="l11562"></a><span class="lineno">11562</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l11563" name="l11563"></a><span class="lineno">11563</span>    }</div>
<div class="line"><a id="l11564" name="l11564"></a><span class="lineno">11564</span>    window-&gt;DC.ItemWidth = window-&gt;DC.ItemWidthStack.back();</div>
<div class="line"><a id="l11565" name="l11565"></a><span class="lineno">11565</span>    window-&gt;DC.ItemWidthStack.pop_back();</div>
<div class="line"><a id="l11566" name="l11566"></a><span class="lineno">11566</span>}</div>
<div class="line"><a id="l11567" name="l11567"></a><span class="lineno">11567</span> </div>
<div class="line"><a id="l11568" name="l11568"></a><span class="lineno">11568</span><span class="comment">// Calculate default item width given value passed to PushItemWidth() or SetNextItemWidth().</span></div>
<div class="line"><a id="l11569" name="l11569"></a><span class="lineno">11569</span><span class="comment">// The SetNextItemWidth() data is generally cleared/consumed by ItemAdd() or NextItemData.ClearFlags()</span></div>
<div class="line"><a id="l11570" name="l11570"></a><span class="lineno">11570</span><span class="keywordtype">float</span> ImGui::CalcItemWidth()</div>
<div class="line"><a id="l11571" name="l11571"></a><span class="lineno">11571</span>{</div>
<div class="line"><a id="l11572" name="l11572"></a><span class="lineno">11572</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l11573" name="l11573"></a><span class="lineno">11573</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l11574" name="l11574"></a><span class="lineno">11574</span>    <span class="keywordtype">float</span> w;</div>
<div class="line"><a id="l11575" name="l11575"></a><span class="lineno">11575</span>    <span class="keywordflow">if</span> (g.NextItemData.HasFlags &amp; ImGuiNextItemDataFlags_HasWidth)</div>
<div class="line"><a id="l11576" name="l11576"></a><span class="lineno">11576</span>        w = g.NextItemData.Width;</div>
<div class="line"><a id="l11577" name="l11577"></a><span class="lineno">11577</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l11578" name="l11578"></a><span class="lineno">11578</span>        w = window-&gt;DC.ItemWidth;</div>
<div class="line"><a id="l11579" name="l11579"></a><span class="lineno">11579</span>    <span class="keywordflow">if</span> (w &lt; 0.0f)</div>
<div class="line"><a id="l11580" name="l11580"></a><span class="lineno">11580</span>    {</div>
<div class="line"><a id="l11581" name="l11581"></a><span class="lineno">11581</span>        <span class="keywordtype">float</span> region_avail_x = GetContentRegionAvail().x;</div>
<div class="line"><a id="l11582" name="l11582"></a><span class="lineno">11582</span>        w = ImMax(1.0f, region_avail_x + w);</div>
<div class="line"><a id="l11583" name="l11583"></a><span class="lineno">11583</span>    }</div>
<div class="line"><a id="l11584" name="l11584"></a><span class="lineno">11584</span>    w = IM_TRUNC(w);</div>
<div class="line"><a id="l11585" name="l11585"></a><span class="lineno">11585</span>    <span class="keywordflow">return</span> w;</div>
<div class="line"><a id="l11586" name="l11586"></a><span class="lineno">11586</span>}</div>
<div class="line"><a id="l11587" name="l11587"></a><span class="lineno">11587</span> </div>
<div class="line"><a id="l11588" name="l11588"></a><span class="lineno">11588</span><span class="comment">// [Internal] Calculate full item size given user provided &#39;size&#39; parameter and default width/height. Default width is often == CalcItemWidth().</span></div>
<div class="line"><a id="l11589" name="l11589"></a><span class="lineno">11589</span><span class="comment">// Those two functions CalcItemWidth vs CalcItemSize are awkwardly named because they are not fully symmetrical.</span></div>
<div class="line"><a id="l11590" name="l11590"></a><span class="lineno">11590</span><span class="comment">// Note that only CalcItemWidth() is publicly exposed.</span></div>
<div class="line"><a id="l11591" name="l11591"></a><span class="lineno">11591</span><span class="comment">// The 4.0f here may be changed to match CalcItemWidth() and/or BeginChild() (right now we have a mismatch which is harmless but undesirable)</span></div>
<div class="line"><a id="l11592" name="l11592"></a><span class="lineno">11592</span><a class="code hl_struct" href="structImVec2.html">ImVec2</a> ImGui::CalcItemSize(<a class="code hl_struct" href="structImVec2.html">ImVec2</a> size, <span class="keywordtype">float</span> default_w, <span class="keywordtype">float</span> default_h)</div>
<div class="line"><a id="l11593" name="l11593"></a><span class="lineno">11593</span>{</div>
<div class="line"><a id="l11594" name="l11594"></a><span class="lineno">11594</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> avail;</div>
<div class="line"><a id="l11595" name="l11595"></a><span class="lineno">11595</span>    <span class="keywordflow">if</span> (size.x &lt; 0.0f || size.y &lt; 0.0f)</div>
<div class="line"><a id="l11596" name="l11596"></a><span class="lineno">11596</span>        avail = GetContentRegionAvail();</div>
<div class="line"><a id="l11597" name="l11597"></a><span class="lineno">11597</span> </div>
<div class="line"><a id="l11598" name="l11598"></a><span class="lineno">11598</span>    <span class="keywordflow">if</span> (size.x == 0.0f)</div>
<div class="line"><a id="l11599" name="l11599"></a><span class="lineno">11599</span>        size.x = default_w;</div>
<div class="line"><a id="l11600" name="l11600"></a><span class="lineno">11600</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (size.x &lt; 0.0f)</div>
<div class="line"><a id="l11601" name="l11601"></a><span class="lineno">11601</span>        size.x = ImMax(4.0f, avail.x + size.x); <span class="comment">// &lt;-- size.x is negative here so we are subtracting</span></div>
<div class="line"><a id="l11602" name="l11602"></a><span class="lineno">11602</span> </div>
<div class="line"><a id="l11603" name="l11603"></a><span class="lineno">11603</span>    <span class="keywordflow">if</span> (size.y == 0.0f)</div>
<div class="line"><a id="l11604" name="l11604"></a><span class="lineno">11604</span>        size.y = default_h;</div>
<div class="line"><a id="l11605" name="l11605"></a><span class="lineno">11605</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (size.y &lt; 0.0f)</div>
<div class="line"><a id="l11606" name="l11606"></a><span class="lineno">11606</span>        size.y = ImMax(4.0f, avail.y + size.y); <span class="comment">// &lt;-- size.y is negative here so we are subtracting</span></div>
<div class="line"><a id="l11607" name="l11607"></a><span class="lineno">11607</span> </div>
<div class="line"><a id="l11608" name="l11608"></a><span class="lineno">11608</span>    <span class="keywordflow">return</span> size;</div>
<div class="line"><a id="l11609" name="l11609"></a><span class="lineno">11609</span>}</div>
<div class="line"><a id="l11610" name="l11610"></a><span class="lineno">11610</span> </div>
<div class="line"><a id="l11611" name="l11611"></a><span class="lineno">11611</span><span class="keywordtype">float</span> ImGui::GetTextLineHeight()</div>
<div class="line"><a id="l11612" name="l11612"></a><span class="lineno">11612</span>{</div>
<div class="line"><a id="l11613" name="l11613"></a><span class="lineno">11613</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l11614" name="l11614"></a><span class="lineno">11614</span>    <span class="keywordflow">return</span> g.FontSize;</div>
<div class="line"><a id="l11615" name="l11615"></a><span class="lineno">11615</span>}</div>
<div class="line"><a id="l11616" name="l11616"></a><span class="lineno">11616</span> </div>
<div class="line"><a id="l11617" name="l11617"></a><span class="lineno">11617</span><span class="keywordtype">float</span> ImGui::GetTextLineHeightWithSpacing()</div>
<div class="line"><a id="l11618" name="l11618"></a><span class="lineno">11618</span>{</div>
<div class="line"><a id="l11619" name="l11619"></a><span class="lineno">11619</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l11620" name="l11620"></a><span class="lineno">11620</span>    <span class="keywordflow">return</span> g.FontSize + g.Style.ItemSpacing.y;</div>
<div class="line"><a id="l11621" name="l11621"></a><span class="lineno">11621</span>}</div>
<div class="line"><a id="l11622" name="l11622"></a><span class="lineno">11622</span> </div>
<div class="line"><a id="l11623" name="l11623"></a><span class="lineno">11623</span><span class="keywordtype">float</span> ImGui::GetFrameHeight()</div>
<div class="line"><a id="l11624" name="l11624"></a><span class="lineno">11624</span>{</div>
<div class="line"><a id="l11625" name="l11625"></a><span class="lineno">11625</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l11626" name="l11626"></a><span class="lineno">11626</span>    <span class="keywordflow">return</span> g.FontSize + g.Style.FramePadding.y * 2.0f;</div>
<div class="line"><a id="l11627" name="l11627"></a><span class="lineno">11627</span>}</div>
<div class="line"><a id="l11628" name="l11628"></a><span class="lineno">11628</span> </div>
<div class="line"><a id="l11629" name="l11629"></a><span class="lineno">11629</span><span class="keywordtype">float</span> ImGui::GetFrameHeightWithSpacing()</div>
<div class="line"><a id="l11630" name="l11630"></a><span class="lineno">11630</span>{</div>
<div class="line"><a id="l11631" name="l11631"></a><span class="lineno">11631</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l11632" name="l11632"></a><span class="lineno">11632</span>    <span class="keywordflow">return</span> g.FontSize + g.Style.FramePadding.y * 2.0f + g.Style.ItemSpacing.y;</div>
<div class="line"><a id="l11633" name="l11633"></a><span class="lineno">11633</span>}</div>
<div class="line"><a id="l11634" name="l11634"></a><span class="lineno">11634</span> </div>
<div class="line"><a id="l11635" name="l11635"></a><span class="lineno">11635</span><a class="code hl_struct" href="structImVec2.html">ImVec2</a> ImGui::GetContentRegionAvail()</div>
<div class="line"><a id="l11636" name="l11636"></a><span class="lineno">11636</span>{</div>
<div class="line"><a id="l11637" name="l11637"></a><span class="lineno">11637</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l11638" name="l11638"></a><span class="lineno">11638</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l11639" name="l11639"></a><span class="lineno">11639</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> mx = (window-&gt;DC.CurrentColumns || g.CurrentTable) ? window-&gt;WorkRect.Max : window-&gt;ContentRegionRect.Max;</div>
<div class="line"><a id="l11640" name="l11640"></a><span class="lineno">11640</span>    <span class="keywordflow">return</span> mx - window-&gt;DC.CursorPos;</div>
<div class="line"><a id="l11641" name="l11641"></a><span class="lineno">11641</span>}</div>
<div class="line"><a id="l11642" name="l11642"></a><span class="lineno">11642</span> </div>
<div class="line"><a id="l11643" name="l11643"></a><span class="lineno">11643</span><span class="preprocessor">#ifndef IMGUI_DISABLE_OBSOLETE_FUNCTIONS</span></div>
<div class="line"><a id="l11644" name="l11644"></a><span class="lineno">11644</span> </div>
<div class="line"><a id="l11645" name="l11645"></a><span class="lineno">11645</span><span class="comment">// You should never need those functions. Always use GetCursorScreenPos() and GetContentRegionAvail()!</span></div>
<div class="line"><a id="l11646" name="l11646"></a><span class="lineno">11646</span><span class="comment">// They are bizarre local-coordinates which don&#39;t play well with scrolling.</span></div>
<div class="line"><a id="l11647" name="l11647"></a><span class="lineno">11647</span><a class="code hl_struct" href="structImVec2.html">ImVec2</a> ImGui::GetContentRegionMax()</div>
<div class="line"><a id="l11648" name="l11648"></a><span class="lineno">11648</span>{</div>
<div class="line"><a id="l11649" name="l11649"></a><span class="lineno">11649</span>    <span class="keywordflow">return</span> GetContentRegionAvail() + GetCursorScreenPos() - GetWindowPos();</div>
<div class="line"><a id="l11650" name="l11650"></a><span class="lineno">11650</span>}</div>
<div class="line"><a id="l11651" name="l11651"></a><span class="lineno">11651</span> </div>
<div class="line"><a id="l11652" name="l11652"></a><span class="lineno">11652</span><a class="code hl_struct" href="structImVec2.html">ImVec2</a> ImGui::GetWindowContentRegionMin()</div>
<div class="line"><a id="l11653" name="l11653"></a><span class="lineno">11653</span>{</div>
<div class="line"><a id="l11654" name="l11654"></a><span class="lineno">11654</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GImGui-&gt;CurrentWindow;</div>
<div class="line"><a id="l11655" name="l11655"></a><span class="lineno">11655</span>    <span class="keywordflow">return</span> window-&gt;ContentRegionRect.Min - window-&gt;Pos;</div>
<div class="line"><a id="l11656" name="l11656"></a><span class="lineno">11656</span>}</div>
<div class="line"><a id="l11657" name="l11657"></a><span class="lineno">11657</span> </div>
<div class="line"><a id="l11658" name="l11658"></a><span class="lineno">11658</span><a class="code hl_struct" href="structImVec2.html">ImVec2</a> ImGui::GetWindowContentRegionMax()</div>
<div class="line"><a id="l11659" name="l11659"></a><span class="lineno">11659</span>{</div>
<div class="line"><a id="l11660" name="l11660"></a><span class="lineno">11660</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GImGui-&gt;CurrentWindow;</div>
<div class="line"><a id="l11661" name="l11661"></a><span class="lineno">11661</span>    <span class="keywordflow">return</span> window-&gt;ContentRegionRect.Max - window-&gt;Pos;</div>
<div class="line"><a id="l11662" name="l11662"></a><span class="lineno">11662</span>}</div>
<div class="line"><a id="l11663" name="l11663"></a><span class="lineno">11663</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l11664" name="l11664"></a><span class="lineno">11664</span> </div>
<div class="line"><a id="l11665" name="l11665"></a><span class="lineno">11665</span><span class="comment">// Lock horizontal starting position + capture group bounding box into one &quot;item&quot; (so you can use IsItemHovered() or layout primitives such as SameLine() on whole group, etc.)</span></div>
<div class="line"><a id="l11666" name="l11666"></a><span class="lineno">11666</span><span class="comment">// Groups are currently a mishmash of functionalities which should perhaps be clarified and separated.</span></div>
<div class="line"><a id="l11667" name="l11667"></a><span class="lineno">11667</span><span class="comment">// FIXME-OPT: Could we safely early out on -&gt;SkipItems?</span></div>
<div class="line"><a id="l11668" name="l11668"></a><span class="lineno">11668</span><span class="keywordtype">void</span> ImGui::BeginGroup()</div>
<div class="line"><a id="l11669" name="l11669"></a><span class="lineno">11669</span>{</div>
<div class="line"><a id="l11670" name="l11670"></a><span class="lineno">11670</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l11671" name="l11671"></a><span class="lineno">11671</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l11672" name="l11672"></a><span class="lineno">11672</span> </div>
<div class="line"><a id="l11673" name="l11673"></a><span class="lineno">11673</span>    g.GroupStack.resize(g.GroupStack.Size + 1);</div>
<div class="line"><a id="l11674" name="l11674"></a><span class="lineno">11674</span>    <a class="code hl_struct" href="structImGuiGroupData.html">ImGuiGroupData</a>&amp; group_data = g.GroupStack.back();</div>
<div class="line"><a id="l11675" name="l11675"></a><span class="lineno">11675</span>    group_data.WindowID = window-&gt;ID;</div>
<div class="line"><a id="l11676" name="l11676"></a><span class="lineno">11676</span>    group_data.BackupCursorPos = window-&gt;DC.CursorPos;</div>
<div class="line"><a id="l11677" name="l11677"></a><span class="lineno">11677</span>    group_data.BackupCursorPosPrevLine = window-&gt;DC.CursorPosPrevLine;</div>
<div class="line"><a id="l11678" name="l11678"></a><span class="lineno">11678</span>    group_data.BackupCursorMaxPos = window-&gt;DC.CursorMaxPos;</div>
<div class="line"><a id="l11679" name="l11679"></a><span class="lineno">11679</span>    group_data.BackupIndent = window-&gt;DC.Indent;</div>
<div class="line"><a id="l11680" name="l11680"></a><span class="lineno">11680</span>    group_data.BackupGroupOffset = window-&gt;DC.GroupOffset;</div>
<div class="line"><a id="l11681" name="l11681"></a><span class="lineno">11681</span>    group_data.BackupCurrLineSize = window-&gt;DC.CurrLineSize;</div>
<div class="line"><a id="l11682" name="l11682"></a><span class="lineno">11682</span>    group_data.BackupCurrLineTextBaseOffset = window-&gt;DC.CurrLineTextBaseOffset;</div>
<div class="line"><a id="l11683" name="l11683"></a><span class="lineno">11683</span>    group_data.BackupActiveIdIsAlive = g.ActiveIdIsAlive;</div>
<div class="line"><a id="l11684" name="l11684"></a><span class="lineno">11684</span>    group_data.BackupHoveredIdIsAlive = g.HoveredId != 0;</div>
<div class="line"><a id="l11685" name="l11685"></a><span class="lineno">11685</span>    group_data.BackupIsSameLine = window-&gt;DC.IsSameLine;</div>
<div class="line"><a id="l11686" name="l11686"></a><span class="lineno">11686</span>    group_data.BackupDeactivatedIdIsAlive = g.DeactivatedItemData.IsAlive;</div>
<div class="line"><a id="l11687" name="l11687"></a><span class="lineno">11687</span>    group_data.EmitItem = <span class="keyword">true</span>;</div>
<div class="line"><a id="l11688" name="l11688"></a><span class="lineno">11688</span> </div>
<div class="line"><a id="l11689" name="l11689"></a><span class="lineno">11689</span>    window-&gt;DC.GroupOffset.x = window-&gt;DC.CursorPos.x - window-&gt;Pos.x - window-&gt;DC.ColumnsOffset.x;</div>
<div class="line"><a id="l11690" name="l11690"></a><span class="lineno">11690</span>    window-&gt;DC.Indent = window-&gt;DC.GroupOffset;</div>
<div class="line"><a id="l11691" name="l11691"></a><span class="lineno">11691</span>    window-&gt;DC.CursorMaxPos = window-&gt;DC.CursorPos;</div>
<div class="line"><a id="l11692" name="l11692"></a><span class="lineno">11692</span>    window-&gt;DC.CurrLineSize = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, 0.0f);</div>
<div class="line"><a id="l11693" name="l11693"></a><span class="lineno">11693</span>    <span class="keywordflow">if</span> (g.LogEnabled)</div>
<div class="line"><a id="l11694" name="l11694"></a><span class="lineno">11694</span>        g.LogLinePosY = -FLT_MAX; <span class="comment">// To enforce a carriage return</span></div>
<div class="line"><a id="l11695" name="l11695"></a><span class="lineno">11695</span>}</div>
<div class="line"><a id="l11696" name="l11696"></a><span class="lineno">11696</span> </div>
<div class="line"><a id="l11697" name="l11697"></a><span class="lineno">11697</span><span class="keywordtype">void</span> ImGui::EndGroup()</div>
<div class="line"><a id="l11698" name="l11698"></a><span class="lineno">11698</span>{</div>
<div class="line"><a id="l11699" name="l11699"></a><span class="lineno">11699</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l11700" name="l11700"></a><span class="lineno">11700</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l11701" name="l11701"></a><span class="lineno">11701</span>    IM_ASSERT(g.GroupStack.Size &gt; 0); <span class="comment">// Mismatched BeginGroup()/EndGroup() calls</span></div>
<div class="line"><a id="l11702" name="l11702"></a><span class="lineno">11702</span> </div>
<div class="line"><a id="l11703" name="l11703"></a><span class="lineno">11703</span>    <a class="code hl_struct" href="structImGuiGroupData.html">ImGuiGroupData</a>&amp; group_data = g.GroupStack.back();</div>
<div class="line"><a id="l11704" name="l11704"></a><span class="lineno">11704</span>    IM_ASSERT(group_data.WindowID == window-&gt;ID); <span class="comment">// EndGroup() in wrong window?</span></div>
<div class="line"><a id="l11705" name="l11705"></a><span class="lineno">11705</span> </div>
<div class="line"><a id="l11706" name="l11706"></a><span class="lineno">11706</span>    <span class="keywordflow">if</span> (window-&gt;DC.IsSetPos)</div>
<div class="line"><a id="l11707" name="l11707"></a><span class="lineno">11707</span>        ErrorCheckUsingSetCursorPosToExtendParentBoundaries();</div>
<div class="line"><a id="l11708" name="l11708"></a><span class="lineno">11708</span> </div>
<div class="line"><a id="l11709" name="l11709"></a><span class="lineno">11709</span>    <span class="comment">// Include LastItemData.Rect.Max as a workaround for e.g. EndTable() undershooting with CursorMaxPos report. (#7543)</span></div>
<div class="line"><a id="l11710" name="l11710"></a><span class="lineno">11710</span>    <a class="code hl_struct" href="structImRect.html">ImRect</a> group_bb(group_data.BackupCursorPos, ImMax(ImMax(window-&gt;DC.CursorMaxPos, g.LastItemData.Rect.Max), group_data.BackupCursorPos));</div>
<div class="line"><a id="l11711" name="l11711"></a><span class="lineno">11711</span>    window-&gt;DC.CursorPos = group_data.BackupCursorPos;</div>
<div class="line"><a id="l11712" name="l11712"></a><span class="lineno">11712</span>    window-&gt;DC.CursorPosPrevLine = group_data.BackupCursorPosPrevLine;</div>
<div class="line"><a id="l11713" name="l11713"></a><span class="lineno">11713</span>    window-&gt;DC.CursorMaxPos = ImMax(group_data.BackupCursorMaxPos, group_bb.Max);</div>
<div class="line"><a id="l11714" name="l11714"></a><span class="lineno">11714</span>    window-&gt;DC.Indent = group_data.BackupIndent;</div>
<div class="line"><a id="l11715" name="l11715"></a><span class="lineno">11715</span>    window-&gt;DC.GroupOffset = group_data.BackupGroupOffset;</div>
<div class="line"><a id="l11716" name="l11716"></a><span class="lineno">11716</span>    window-&gt;DC.CurrLineSize = group_data.BackupCurrLineSize;</div>
<div class="line"><a id="l11717" name="l11717"></a><span class="lineno">11717</span>    window-&gt;DC.CurrLineTextBaseOffset = group_data.BackupCurrLineTextBaseOffset;</div>
<div class="line"><a id="l11718" name="l11718"></a><span class="lineno">11718</span>    window-&gt;DC.IsSameLine = group_data.BackupIsSameLine;</div>
<div class="line"><a id="l11719" name="l11719"></a><span class="lineno">11719</span>    <span class="keywordflow">if</span> (g.LogEnabled)</div>
<div class="line"><a id="l11720" name="l11720"></a><span class="lineno">11720</span>        g.LogLinePosY = -FLT_MAX; <span class="comment">// To enforce a carriage return</span></div>
<div class="line"><a id="l11721" name="l11721"></a><span class="lineno">11721</span> </div>
<div class="line"><a id="l11722" name="l11722"></a><span class="lineno">11722</span>    <span class="keywordflow">if</span> (!group_data.EmitItem)</div>
<div class="line"><a id="l11723" name="l11723"></a><span class="lineno">11723</span>    {</div>
<div class="line"><a id="l11724" name="l11724"></a><span class="lineno">11724</span>        g.GroupStack.pop_back();</div>
<div class="line"><a id="l11725" name="l11725"></a><span class="lineno">11725</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l11726" name="l11726"></a><span class="lineno">11726</span>    }</div>
<div class="line"><a id="l11727" name="l11727"></a><span class="lineno">11727</span> </div>
<div class="line"><a id="l11728" name="l11728"></a><span class="lineno">11728</span>    window-&gt;DC.CurrLineTextBaseOffset = ImMax(window-&gt;DC.PrevLineTextBaseOffset, group_data.BackupCurrLineTextBaseOffset); <span class="comment">// FIXME: Incorrect, we should grab the base offset from the *first line* of the group but it is hard to obtain now.</span></div>
<div class="line"><a id="l11729" name="l11729"></a><span class="lineno">11729</span>    ItemSize(group_bb.GetSize());</div>
<div class="line"><a id="l11730" name="l11730"></a><span class="lineno">11730</span>    ItemAdd(group_bb, 0, NULL, ImGuiItemFlags_NoTabStop);</div>
<div class="line"><a id="l11731" name="l11731"></a><span class="lineno">11731</span> </div>
<div class="line"><a id="l11732" name="l11732"></a><span class="lineno">11732</span>    <span class="comment">// If the current ActiveId was declared within the boundary of our group, we copy it to LastItemId so IsItemActive(), IsItemDeactivated() etc. will be functional on the entire group.</span></div>
<div class="line"><a id="l11733" name="l11733"></a><span class="lineno">11733</span>    <span class="comment">// It would be neater if we replaced window.DC.LastItemId by e.g. &#39;bool LastItemIsActive&#39;, but would put a little more burden on individual widgets.</span></div>
<div class="line"><a id="l11734" name="l11734"></a><span class="lineno">11734</span>    <span class="comment">// Also if you grep for LastItemId you&#39;ll notice it is only used in that context.</span></div>
<div class="line"><a id="l11735" name="l11735"></a><span class="lineno">11735</span>    <span class="comment">// (The two tests not the same because ActiveIdIsAlive is an ID itself, in order to be able to handle ActiveId being overwritten during the frame.)</span></div>
<div class="line"><a id="l11736" name="l11736"></a><span class="lineno">11736</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> group_contains_curr_active_id = (group_data.BackupActiveIdIsAlive != g.ActiveId) &amp;&amp; (g.ActiveIdIsAlive == g.ActiveId) &amp;&amp; g.ActiveId;</div>
<div class="line"><a id="l11737" name="l11737"></a><span class="lineno">11737</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> group_contains_deactivated_id = (group_data.BackupDeactivatedIdIsAlive == <span class="keyword">false</span>) &amp;&amp; (g.DeactivatedItemData.IsAlive == <span class="keyword">true</span>);</div>
<div class="line"><a id="l11738" name="l11738"></a><span class="lineno">11738</span>    <span class="keywordflow">if</span> (group_contains_curr_active_id)</div>
<div class="line"><a id="l11739" name="l11739"></a><span class="lineno">11739</span>        g.LastItemData.ID = g.ActiveId;</div>
<div class="line"><a id="l11740" name="l11740"></a><span class="lineno">11740</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (group_contains_deactivated_id)</div>
<div class="line"><a id="l11741" name="l11741"></a><span class="lineno">11741</span>        g.LastItemData.ID = g.DeactivatedItemData.ID;</div>
<div class="line"><a id="l11742" name="l11742"></a><span class="lineno">11742</span>    g.LastItemData.Rect = group_bb;</div>
<div class="line"><a id="l11743" name="l11743"></a><span class="lineno">11743</span> </div>
<div class="line"><a id="l11744" name="l11744"></a><span class="lineno">11744</span>    <span class="comment">// Forward Hovered flag</span></div>
<div class="line"><a id="l11745" name="l11745"></a><span class="lineno">11745</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> group_contains_curr_hovered_id = (group_data.BackupHoveredIdIsAlive == <span class="keyword">false</span>) &amp;&amp; g.HoveredId != 0;</div>
<div class="line"><a id="l11746" name="l11746"></a><span class="lineno">11746</span>    <span class="keywordflow">if</span> (group_contains_curr_hovered_id)</div>
<div class="line"><a id="l11747" name="l11747"></a><span class="lineno">11747</span>        g.LastItemData.StatusFlags |= ImGuiItemStatusFlags_HoveredWindow;</div>
<div class="line"><a id="l11748" name="l11748"></a><span class="lineno">11748</span> </div>
<div class="line"><a id="l11749" name="l11749"></a><span class="lineno">11749</span>    <span class="comment">// Forward Edited flag</span></div>
<div class="line"><a id="l11750" name="l11750"></a><span class="lineno">11750</span>    <span class="keywordflow">if</span> (group_contains_curr_active_id &amp;&amp; g.ActiveIdHasBeenEditedThisFrame)</div>
<div class="line"><a id="l11751" name="l11751"></a><span class="lineno">11751</span>        g.LastItemData.StatusFlags |= ImGuiItemStatusFlags_Edited;</div>
<div class="line"><a id="l11752" name="l11752"></a><span class="lineno">11752</span> </div>
<div class="line"><a id="l11753" name="l11753"></a><span class="lineno">11753</span>    <span class="comment">// Forward Deactivated flag</span></div>
<div class="line"><a id="l11754" name="l11754"></a><span class="lineno">11754</span>    g.LastItemData.StatusFlags |= ImGuiItemStatusFlags_HasDeactivated;</div>
<div class="line"><a id="l11755" name="l11755"></a><span class="lineno">11755</span>    <span class="keywordflow">if</span> (group_contains_deactivated_id)</div>
<div class="line"><a id="l11756" name="l11756"></a><span class="lineno">11756</span>        g.LastItemData.StatusFlags |= ImGuiItemStatusFlags_Deactivated;</div>
<div class="line"><a id="l11757" name="l11757"></a><span class="lineno">11757</span> </div>
<div class="line"><a id="l11758" name="l11758"></a><span class="lineno">11758</span>    g.GroupStack.pop_back();</div>
<div class="line"><a id="l11759" name="l11759"></a><span class="lineno">11759</span>    <span class="keywordflow">if</span> (g.DebugShowGroupRects)</div>
<div class="line"><a id="l11760" name="l11760"></a><span class="lineno">11760</span>        window-&gt;DrawList-&gt;AddRect(group_bb.Min, group_bb.Max, IM_COL32(255,0,255,255));   <span class="comment">// [Debug]</span></div>
<div class="line"><a id="l11761" name="l11761"></a><span class="lineno">11761</span>}</div>
<div class="line"><a id="l11762" name="l11762"></a><span class="lineno">11762</span> </div>
<div class="line"><a id="l11763" name="l11763"></a><span class="lineno">11763</span> </div>
<div class="line"><a id="l11764" name="l11764"></a><span class="lineno">11764</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l11765" name="l11765"></a><span class="lineno">11765</span><span class="comment">// [SECTION] SCROLLING</span></div>
<div class="line"><a id="l11766" name="l11766"></a><span class="lineno">11766</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l11767" name="l11767"></a><span class="lineno">11767</span> </div>
<div class="line"><a id="l11768" name="l11768"></a><span class="lineno">11768</span><span class="comment">// Helper to snap on edges when aiming at an item very close to the edge,</span></div>
<div class="line"><a id="l11769" name="l11769"></a><span class="lineno">11769</span><span class="comment">// So the difference between WindowPadding and ItemSpacing will be in the visible area after scrolling.</span></div>
<div class="line"><a id="l11770" name="l11770"></a><span class="lineno">11770</span><span class="comment">// When we refactor the scrolling API this may be configurable with a flag?</span></div>
<div class="line"><a id="l11771" name="l11771"></a><span class="lineno">11771</span><span class="comment">// Note that the effect for this won&#39;t be visible on X axis with default Style settings as WindowPadding.x == ItemSpacing.x by default.</span></div>
<div class="line"><a id="l11772" name="l11772"></a><span class="lineno">11772</span><span class="keyword">static</span> <span class="keywordtype">float</span> CalcScrollEdgeSnap(<span class="keywordtype">float</span> target, <span class="keywordtype">float</span> snap_min, <span class="keywordtype">float</span> snap_max, <span class="keywordtype">float</span> snap_threshold, <span class="keywordtype">float</span> center_ratio)</div>
<div class="line"><a id="l11773" name="l11773"></a><span class="lineno">11773</span>{</div>
<div class="line"><a id="l11774" name="l11774"></a><span class="lineno">11774</span>    <span class="keywordflow">if</span> (target &lt;= snap_min + snap_threshold)</div>
<div class="line"><a id="l11775" name="l11775"></a><span class="lineno">11775</span>        <span class="keywordflow">return</span> ImLerp(snap_min, target, center_ratio);</div>
<div class="line"><a id="l11776" name="l11776"></a><span class="lineno">11776</span>    <span class="keywordflow">if</span> (target &gt;= snap_max - snap_threshold)</div>
<div class="line"><a id="l11777" name="l11777"></a><span class="lineno">11777</span>        <span class="keywordflow">return</span> ImLerp(target, snap_max, center_ratio);</div>
<div class="line"><a id="l11778" name="l11778"></a><span class="lineno">11778</span>    <span class="keywordflow">return</span> target;</div>
<div class="line"><a id="l11779" name="l11779"></a><span class="lineno">11779</span>}</div>
<div class="line"><a id="l11780" name="l11780"></a><span class="lineno">11780</span> </div>
<div class="line"><a id="l11781" name="l11781"></a><span class="lineno">11781</span><span class="keyword">static</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> CalcNextScrollFromScrollTargetAndClamp(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l11782" name="l11782"></a><span class="lineno">11782</span>{</div>
<div class="line"><a id="l11783" name="l11783"></a><span class="lineno">11783</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> scroll = window-&gt;Scroll;</div>
<div class="line"><a id="l11784" name="l11784"></a><span class="lineno">11784</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> decoration_size(window-&gt;DecoOuterSizeX1 + window-&gt;DecoInnerSizeX1 + window-&gt;DecoOuterSizeX2, window-&gt;DecoOuterSizeY1 + window-&gt;DecoInnerSizeY1 + window-&gt;DecoOuterSizeY2);</div>
<div class="line"><a id="l11785" name="l11785"></a><span class="lineno">11785</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> axis = 0; axis &lt; 2; axis++)</div>
<div class="line"><a id="l11786" name="l11786"></a><span class="lineno">11786</span>    {</div>
<div class="line"><a id="l11787" name="l11787"></a><span class="lineno">11787</span>        <span class="keywordflow">if</span> (window-&gt;ScrollTarget[axis] &lt; FLT_MAX)</div>
<div class="line"><a id="l11788" name="l11788"></a><span class="lineno">11788</span>        {</div>
<div class="line"><a id="l11789" name="l11789"></a><span class="lineno">11789</span>            <span class="keywordtype">float</span> center_ratio = window-&gt;ScrollTargetCenterRatio[axis];</div>
<div class="line"><a id="l11790" name="l11790"></a><span class="lineno">11790</span>            <span class="keywordtype">float</span> scroll_target = window-&gt;ScrollTarget[axis];</div>
<div class="line"><a id="l11791" name="l11791"></a><span class="lineno">11791</span>            <span class="keywordflow">if</span> (window-&gt;ScrollTargetEdgeSnapDist[axis] &gt; 0.0f)</div>
<div class="line"><a id="l11792" name="l11792"></a><span class="lineno">11792</span>            {</div>
<div class="line"><a id="l11793" name="l11793"></a><span class="lineno">11793</span>                <span class="keywordtype">float</span> snap_min = 0.0f;</div>
<div class="line"><a id="l11794" name="l11794"></a><span class="lineno">11794</span>                <span class="keywordtype">float</span> snap_max = window-&gt;ScrollMax[axis] + window-&gt;SizeFull[axis] - decoration_size[axis];</div>
<div class="line"><a id="l11795" name="l11795"></a><span class="lineno">11795</span>                scroll_target = CalcScrollEdgeSnap(scroll_target, snap_min, snap_max, window-&gt;ScrollTargetEdgeSnapDist[axis], center_ratio);</div>
<div class="line"><a id="l11796" name="l11796"></a><span class="lineno">11796</span>            }</div>
<div class="line"><a id="l11797" name="l11797"></a><span class="lineno">11797</span>            scroll[axis] = scroll_target - center_ratio * (window-&gt;SizeFull[axis] - decoration_size[axis]);</div>
<div class="line"><a id="l11798" name="l11798"></a><span class="lineno">11798</span>        }</div>
<div class="line"><a id="l11799" name="l11799"></a><span class="lineno">11799</span>        scroll[axis] = IM_ROUND(ImMax(scroll[axis], 0.0f));</div>
<div class="line"><a id="l11800" name="l11800"></a><span class="lineno">11800</span>        <span class="keywordflow">if</span> (!window-&gt;Collapsed &amp;&amp; !window-&gt;SkipItems)</div>
<div class="line"><a id="l11801" name="l11801"></a><span class="lineno">11801</span>            scroll[axis] = ImMin(scroll[axis], window-&gt;ScrollMax[axis]);</div>
<div class="line"><a id="l11802" name="l11802"></a><span class="lineno">11802</span>    }</div>
<div class="line"><a id="l11803" name="l11803"></a><span class="lineno">11803</span>    <span class="keywordflow">return</span> scroll;</div>
<div class="line"><a id="l11804" name="l11804"></a><span class="lineno">11804</span>}</div>
<div class="line"><a id="l11805" name="l11805"></a><span class="lineno">11805</span> </div>
<div class="line"><a id="l11806" name="l11806"></a><span class="lineno">11806</span><span class="keywordtype">void</span> ImGui::ScrollToItem(ImGuiScrollFlags flags)</div>
<div class="line"><a id="l11807" name="l11807"></a><span class="lineno">11807</span>{</div>
<div class="line"><a id="l11808" name="l11808"></a><span class="lineno">11808</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l11809" name="l11809"></a><span class="lineno">11809</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l11810" name="l11810"></a><span class="lineno">11810</span>    ScrollToRectEx(window, g.LastItemData.NavRect, flags);</div>
<div class="line"><a id="l11811" name="l11811"></a><span class="lineno">11811</span>}</div>
<div class="line"><a id="l11812" name="l11812"></a><span class="lineno">11812</span> </div>
<div class="line"><a id="l11813" name="l11813"></a><span class="lineno">11813</span><span class="keywordtype">void</span> ImGui::ScrollToRect(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; item_rect, ImGuiScrollFlags flags)</div>
<div class="line"><a id="l11814" name="l11814"></a><span class="lineno">11814</span>{</div>
<div class="line"><a id="l11815" name="l11815"></a><span class="lineno">11815</span>    ScrollToRectEx(window, item_rect, flags);</div>
<div class="line"><a id="l11816" name="l11816"></a><span class="lineno">11816</span>}</div>
<div class="line"><a id="l11817" name="l11817"></a><span class="lineno">11817</span> </div>
<div class="line"><a id="l11818" name="l11818"></a><span class="lineno">11818</span><span class="comment">// Scroll to keep newly navigated item fully into view</span></div>
<div class="line"><a id="l11819" name="l11819"></a><span class="lineno">11819</span><a class="code hl_struct" href="structImVec2.html">ImVec2</a> ImGui::ScrollToRectEx(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; item_rect, ImGuiScrollFlags flags)</div>
<div class="line"><a id="l11820" name="l11820"></a><span class="lineno">11820</span>{</div>
<div class="line"><a id="l11821" name="l11821"></a><span class="lineno">11821</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l11822" name="l11822"></a><span class="lineno">11822</span>    <a class="code hl_struct" href="structImRect.html">ImRect</a> scroll_rect(window-&gt;InnerRect.Min - <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(1, 1), window-&gt;InnerRect.Max + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(1, 1));</div>
<div class="line"><a id="l11823" name="l11823"></a><span class="lineno">11823</span>    scroll_rect.Min.x = ImMin(scroll_rect.Min.x + window-&gt;DecoInnerSizeX1, scroll_rect.Max.x);</div>
<div class="line"><a id="l11824" name="l11824"></a><span class="lineno">11824</span>    scroll_rect.Min.y = ImMin(scroll_rect.Min.y + window-&gt;DecoInnerSizeY1, scroll_rect.Max.y);</div>
<div class="line"><a id="l11825" name="l11825"></a><span class="lineno">11825</span>    <span class="comment">//GetForegroundDrawList(window)-&gt;AddRect(item_rect.Min, item_rect.Max, IM_COL32(255,0,0,255), 0.0f, 0, 5.0f); // [DEBUG]</span></div>
<div class="line"><a id="l11826" name="l11826"></a><span class="lineno">11826</span>    <span class="comment">//GetForegroundDrawList(window)-&gt;AddRect(scroll_rect.Min, scroll_rect.Max, IM_COL32_WHITE); // [DEBUG]</span></div>
<div class="line"><a id="l11827" name="l11827"></a><span class="lineno">11827</span> </div>
<div class="line"><a id="l11828" name="l11828"></a><span class="lineno">11828</span>    <span class="comment">// Check that only one behavior is selected per axis</span></div>
<div class="line"><a id="l11829" name="l11829"></a><span class="lineno">11829</span>    IM_ASSERT((flags &amp; ImGuiScrollFlags_MaskX_) == 0 || ImIsPowerOfTwo(flags &amp; ImGuiScrollFlags_MaskX_));</div>
<div class="line"><a id="l11830" name="l11830"></a><span class="lineno">11830</span>    IM_ASSERT((flags &amp; ImGuiScrollFlags_MaskY_) == 0 || ImIsPowerOfTwo(flags &amp; ImGuiScrollFlags_MaskY_));</div>
<div class="line"><a id="l11831" name="l11831"></a><span class="lineno">11831</span> </div>
<div class="line"><a id="l11832" name="l11832"></a><span class="lineno">11832</span>    <span class="comment">// Defaults</span></div>
<div class="line"><a id="l11833" name="l11833"></a><span class="lineno">11833</span>    ImGuiScrollFlags in_flags = flags;</div>
<div class="line"><a id="l11834" name="l11834"></a><span class="lineno">11834</span>    <span class="keywordflow">if</span> ((flags &amp; ImGuiScrollFlags_MaskX_) == 0 &amp;&amp; window-&gt;ScrollbarX)</div>
<div class="line"><a id="l11835" name="l11835"></a><span class="lineno">11835</span>        flags |= ImGuiScrollFlags_KeepVisibleEdgeX;</div>
<div class="line"><a id="l11836" name="l11836"></a><span class="lineno">11836</span>    <span class="keywordflow">if</span> ((flags &amp; ImGuiScrollFlags_MaskY_) == 0)</div>
<div class="line"><a id="l11837" name="l11837"></a><span class="lineno">11837</span>        flags |= window-&gt;Appearing ? ImGuiScrollFlags_AlwaysCenterY : ImGuiScrollFlags_KeepVisibleEdgeY;</div>
<div class="line"><a id="l11838" name="l11838"></a><span class="lineno">11838</span> </div>
<div class="line"><a id="l11839" name="l11839"></a><span class="lineno">11839</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> fully_visible_x = item_rect.Min.x &gt;= scroll_rect.Min.x &amp;&amp; item_rect.Max.x &lt;= scroll_rect.Max.x;</div>
<div class="line"><a id="l11840" name="l11840"></a><span class="lineno">11840</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> fully_visible_y = item_rect.Min.y &gt;= scroll_rect.Min.y &amp;&amp; item_rect.Max.y &lt;= scroll_rect.Max.y;</div>
<div class="line"><a id="l11841" name="l11841"></a><span class="lineno">11841</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> can_be_fully_visible_x = (item_rect.GetWidth() + g.Style.ItemSpacing.x * 2.0f) &lt;= scroll_rect.GetWidth() || (window-&gt;AutoFitFramesX &gt; 0) || (window-&gt;Flags &amp; ImGuiWindowFlags_AlwaysAutoResize) != 0;</div>
<div class="line"><a id="l11842" name="l11842"></a><span class="lineno">11842</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> can_be_fully_visible_y = (item_rect.GetHeight() + g.Style.ItemSpacing.y * 2.0f) &lt;= scroll_rect.GetHeight() || (window-&gt;AutoFitFramesY &gt; 0) || (window-&gt;Flags &amp; ImGuiWindowFlags_AlwaysAutoResize) != 0;</div>
<div class="line"><a id="l11843" name="l11843"></a><span class="lineno">11843</span> </div>
<div class="line"><a id="l11844" name="l11844"></a><span class="lineno">11844</span>    <span class="keywordflow">if</span> ((flags &amp; ImGuiScrollFlags_KeepVisibleEdgeX) &amp;&amp; !fully_visible_x)</div>
<div class="line"><a id="l11845" name="l11845"></a><span class="lineno">11845</span>    {</div>
<div class="line"><a id="l11846" name="l11846"></a><span class="lineno">11846</span>        <span class="keywordflow">if</span> (item_rect.Min.x &lt; scroll_rect.Min.x || !can_be_fully_visible_x)</div>
<div class="line"><a id="l11847" name="l11847"></a><span class="lineno">11847</span>            SetScrollFromPosX(window, item_rect.Min.x - g.Style.ItemSpacing.x - window-&gt;Pos.x, 0.0f);</div>
<div class="line"><a id="l11848" name="l11848"></a><span class="lineno">11848</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (item_rect.Max.x &gt;= scroll_rect.Max.x)</div>
<div class="line"><a id="l11849" name="l11849"></a><span class="lineno">11849</span>            SetScrollFromPosX(window, item_rect.Max.x + g.Style.ItemSpacing.x - window-&gt;Pos.x, 1.0f);</div>
<div class="line"><a id="l11850" name="l11850"></a><span class="lineno">11850</span>    }</div>
<div class="line"><a id="l11851" name="l11851"></a><span class="lineno">11851</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (((flags &amp; ImGuiScrollFlags_KeepVisibleCenterX) &amp;&amp; !fully_visible_x) || (flags &amp; ImGuiScrollFlags_AlwaysCenterX))</div>
<div class="line"><a id="l11852" name="l11852"></a><span class="lineno">11852</span>    {</div>
<div class="line"><a id="l11853" name="l11853"></a><span class="lineno">11853</span>        <span class="keywordflow">if</span> (can_be_fully_visible_x)</div>
<div class="line"><a id="l11854" name="l11854"></a><span class="lineno">11854</span>            SetScrollFromPosX(window, ImTrunc((item_rect.Min.x + item_rect.Max.x) * 0.5f) - window-&gt;Pos.x, 0.5f);</div>
<div class="line"><a id="l11855" name="l11855"></a><span class="lineno">11855</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l11856" name="l11856"></a><span class="lineno">11856</span>            SetScrollFromPosX(window, item_rect.Min.x - window-&gt;Pos.x, 0.0f);</div>
<div class="line"><a id="l11857" name="l11857"></a><span class="lineno">11857</span>    }</div>
<div class="line"><a id="l11858" name="l11858"></a><span class="lineno">11858</span> </div>
<div class="line"><a id="l11859" name="l11859"></a><span class="lineno">11859</span>    <span class="keywordflow">if</span> ((flags &amp; ImGuiScrollFlags_KeepVisibleEdgeY) &amp;&amp; !fully_visible_y)</div>
<div class="line"><a id="l11860" name="l11860"></a><span class="lineno">11860</span>    {</div>
<div class="line"><a id="l11861" name="l11861"></a><span class="lineno">11861</span>        <span class="keywordflow">if</span> (item_rect.Min.y &lt; scroll_rect.Min.y || !can_be_fully_visible_y)</div>
<div class="line"><a id="l11862" name="l11862"></a><span class="lineno">11862</span>            SetScrollFromPosY(window, item_rect.Min.y - g.Style.ItemSpacing.y - window-&gt;Pos.y, 0.0f);</div>
<div class="line"><a id="l11863" name="l11863"></a><span class="lineno">11863</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (item_rect.Max.y &gt;= scroll_rect.Max.y)</div>
<div class="line"><a id="l11864" name="l11864"></a><span class="lineno">11864</span>            SetScrollFromPosY(window, item_rect.Max.y + g.Style.ItemSpacing.y - window-&gt;Pos.y, 1.0f);</div>
<div class="line"><a id="l11865" name="l11865"></a><span class="lineno">11865</span>    }</div>
<div class="line"><a id="l11866" name="l11866"></a><span class="lineno">11866</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (((flags &amp; ImGuiScrollFlags_KeepVisibleCenterY) &amp;&amp; !fully_visible_y) || (flags &amp; ImGuiScrollFlags_AlwaysCenterY))</div>
<div class="line"><a id="l11867" name="l11867"></a><span class="lineno">11867</span>    {</div>
<div class="line"><a id="l11868" name="l11868"></a><span class="lineno">11868</span>        <span class="keywordflow">if</span> (can_be_fully_visible_y)</div>
<div class="line"><a id="l11869" name="l11869"></a><span class="lineno">11869</span>            SetScrollFromPosY(window, ImTrunc((item_rect.Min.y + item_rect.Max.y) * 0.5f) - window-&gt;Pos.y, 0.5f);</div>
<div class="line"><a id="l11870" name="l11870"></a><span class="lineno">11870</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l11871" name="l11871"></a><span class="lineno">11871</span>            SetScrollFromPosY(window, item_rect.Min.y - window-&gt;Pos.y, 0.0f);</div>
<div class="line"><a id="l11872" name="l11872"></a><span class="lineno">11872</span>    }</div>
<div class="line"><a id="l11873" name="l11873"></a><span class="lineno">11873</span> </div>
<div class="line"><a id="l11874" name="l11874"></a><span class="lineno">11874</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> next_scroll = CalcNextScrollFromScrollTargetAndClamp(window);</div>
<div class="line"><a id="l11875" name="l11875"></a><span class="lineno">11875</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> delta_scroll = next_scroll - window-&gt;Scroll;</div>
<div class="line"><a id="l11876" name="l11876"></a><span class="lineno">11876</span> </div>
<div class="line"><a id="l11877" name="l11877"></a><span class="lineno">11877</span>    <span class="comment">// Also scroll parent window to keep us into view if necessary</span></div>
<div class="line"><a id="l11878" name="l11878"></a><span class="lineno">11878</span>    <span class="keywordflow">if</span> (!(flags &amp; ImGuiScrollFlags_NoScrollParent) &amp;&amp; (window-&gt;Flags &amp; ImGuiWindowFlags_ChildWindow))</div>
<div class="line"><a id="l11879" name="l11879"></a><span class="lineno">11879</span>    {</div>
<div class="line"><a id="l11880" name="l11880"></a><span class="lineno">11880</span>        <span class="comment">// FIXME-SCROLL: May be an option?</span></div>
<div class="line"><a id="l11881" name="l11881"></a><span class="lineno">11881</span>        <span class="keywordflow">if</span> ((in_flags &amp; (ImGuiScrollFlags_AlwaysCenterX | ImGuiScrollFlags_KeepVisibleCenterX)) != 0)</div>
<div class="line"><a id="l11882" name="l11882"></a><span class="lineno">11882</span>            in_flags = (in_flags &amp; ~ImGuiScrollFlags_MaskX_) | ImGuiScrollFlags_KeepVisibleEdgeX;</div>
<div class="line"><a id="l11883" name="l11883"></a><span class="lineno">11883</span>        <span class="keywordflow">if</span> ((in_flags &amp; (ImGuiScrollFlags_AlwaysCenterY | ImGuiScrollFlags_KeepVisibleCenterY)) != 0)</div>
<div class="line"><a id="l11884" name="l11884"></a><span class="lineno">11884</span>            in_flags = (in_flags &amp; ~ImGuiScrollFlags_MaskY_) | ImGuiScrollFlags_KeepVisibleEdgeY;</div>
<div class="line"><a id="l11885" name="l11885"></a><span class="lineno">11885</span>        delta_scroll += ScrollToRectEx(window-&gt;ParentWindow, <a class="code hl_struct" href="structImRect.html">ImRect</a>(item_rect.Min - delta_scroll, item_rect.Max - delta_scroll), in_flags);</div>
<div class="line"><a id="l11886" name="l11886"></a><span class="lineno">11886</span>    }</div>
<div class="line"><a id="l11887" name="l11887"></a><span class="lineno">11887</span> </div>
<div class="line"><a id="l11888" name="l11888"></a><span class="lineno">11888</span>    <span class="keywordflow">return</span> delta_scroll;</div>
<div class="line"><a id="l11889" name="l11889"></a><span class="lineno">11889</span>}</div>
<div class="line"><a id="l11890" name="l11890"></a><span class="lineno">11890</span> </div>
<div class="line"><a id="l11891" name="l11891"></a><span class="lineno">11891</span><span class="keywordtype">float</span> ImGui::GetScrollX()</div>
<div class="line"><a id="l11892" name="l11892"></a><span class="lineno">11892</span>{</div>
<div class="line"><a id="l11893" name="l11893"></a><span class="lineno">11893</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GImGui-&gt;CurrentWindow;</div>
<div class="line"><a id="l11894" name="l11894"></a><span class="lineno">11894</span>    <span class="keywordflow">return</span> window-&gt;Scroll.x;</div>
<div class="line"><a id="l11895" name="l11895"></a><span class="lineno">11895</span>}</div>
<div class="line"><a id="l11896" name="l11896"></a><span class="lineno">11896</span> </div>
<div class="line"><a id="l11897" name="l11897"></a><span class="lineno">11897</span><span class="keywordtype">float</span> ImGui::GetScrollY()</div>
<div class="line"><a id="l11898" name="l11898"></a><span class="lineno">11898</span>{</div>
<div class="line"><a id="l11899" name="l11899"></a><span class="lineno">11899</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GImGui-&gt;CurrentWindow;</div>
<div class="line"><a id="l11900" name="l11900"></a><span class="lineno">11900</span>    <span class="keywordflow">return</span> window-&gt;Scroll.y;</div>
<div class="line"><a id="l11901" name="l11901"></a><span class="lineno">11901</span>}</div>
<div class="line"><a id="l11902" name="l11902"></a><span class="lineno">11902</span> </div>
<div class="line"><a id="l11903" name="l11903"></a><span class="lineno">11903</span><span class="keywordtype">float</span> ImGui::GetScrollMaxX()</div>
<div class="line"><a id="l11904" name="l11904"></a><span class="lineno">11904</span>{</div>
<div class="line"><a id="l11905" name="l11905"></a><span class="lineno">11905</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GImGui-&gt;CurrentWindow;</div>
<div class="line"><a id="l11906" name="l11906"></a><span class="lineno">11906</span>    <span class="keywordflow">return</span> window-&gt;ScrollMax.x;</div>
<div class="line"><a id="l11907" name="l11907"></a><span class="lineno">11907</span>}</div>
<div class="line"><a id="l11908" name="l11908"></a><span class="lineno">11908</span> </div>
<div class="line"><a id="l11909" name="l11909"></a><span class="lineno">11909</span><span class="keywordtype">float</span> ImGui::GetScrollMaxY()</div>
<div class="line"><a id="l11910" name="l11910"></a><span class="lineno">11910</span>{</div>
<div class="line"><a id="l11911" name="l11911"></a><span class="lineno">11911</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GImGui-&gt;CurrentWindow;</div>
<div class="line"><a id="l11912" name="l11912"></a><span class="lineno">11912</span>    <span class="keywordflow">return</span> window-&gt;ScrollMax.y;</div>
<div class="line"><a id="l11913" name="l11913"></a><span class="lineno">11913</span>}</div>
<div class="line"><a id="l11914" name="l11914"></a><span class="lineno">11914</span> </div>
<div class="line"><a id="l11915" name="l11915"></a><span class="lineno">11915</span><span class="keywordtype">void</span> ImGui::SetScrollX(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keywordtype">float</span> scroll_x)</div>
<div class="line"><a id="l11916" name="l11916"></a><span class="lineno">11916</span>{</div>
<div class="line"><a id="l11917" name="l11917"></a><span class="lineno">11917</span>    window-&gt;ScrollTarget.x = scroll_x;</div>
<div class="line"><a id="l11918" name="l11918"></a><span class="lineno">11918</span>    window-&gt;ScrollTargetCenterRatio.x = 0.0f;</div>
<div class="line"><a id="l11919" name="l11919"></a><span class="lineno">11919</span>    window-&gt;ScrollTargetEdgeSnapDist.x = 0.0f;</div>
<div class="line"><a id="l11920" name="l11920"></a><span class="lineno">11920</span>}</div>
<div class="line"><a id="l11921" name="l11921"></a><span class="lineno">11921</span> </div>
<div class="line"><a id="l11922" name="l11922"></a><span class="lineno">11922</span><span class="keywordtype">void</span> ImGui::SetScrollY(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keywordtype">float</span> scroll_y)</div>
<div class="line"><a id="l11923" name="l11923"></a><span class="lineno">11923</span>{</div>
<div class="line"><a id="l11924" name="l11924"></a><span class="lineno">11924</span>    window-&gt;ScrollTarget.y = scroll_y;</div>
<div class="line"><a id="l11925" name="l11925"></a><span class="lineno">11925</span>    window-&gt;ScrollTargetCenterRatio.y = 0.0f;</div>
<div class="line"><a id="l11926" name="l11926"></a><span class="lineno">11926</span>    window-&gt;ScrollTargetEdgeSnapDist.y = 0.0f;</div>
<div class="line"><a id="l11927" name="l11927"></a><span class="lineno">11927</span>}</div>
<div class="line"><a id="l11928" name="l11928"></a><span class="lineno">11928</span> </div>
<div class="line"><a id="l11929" name="l11929"></a><span class="lineno">11929</span><span class="keywordtype">void</span> ImGui::SetScrollX(<span class="keywordtype">float</span> scroll_x)</div>
<div class="line"><a id="l11930" name="l11930"></a><span class="lineno">11930</span>{</div>
<div class="line"><a id="l11931" name="l11931"></a><span class="lineno">11931</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l11932" name="l11932"></a><span class="lineno">11932</span>    SetScrollX(g.CurrentWindow, scroll_x);</div>
<div class="line"><a id="l11933" name="l11933"></a><span class="lineno">11933</span>}</div>
<div class="line"><a id="l11934" name="l11934"></a><span class="lineno">11934</span> </div>
<div class="line"><a id="l11935" name="l11935"></a><span class="lineno">11935</span><span class="keywordtype">void</span> ImGui::SetScrollY(<span class="keywordtype">float</span> scroll_y)</div>
<div class="line"><a id="l11936" name="l11936"></a><span class="lineno">11936</span>{</div>
<div class="line"><a id="l11937" name="l11937"></a><span class="lineno">11937</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l11938" name="l11938"></a><span class="lineno">11938</span>    SetScrollY(g.CurrentWindow, scroll_y);</div>
<div class="line"><a id="l11939" name="l11939"></a><span class="lineno">11939</span>}</div>
<div class="line"><a id="l11940" name="l11940"></a><span class="lineno">11940</span> </div>
<div class="line"><a id="l11941" name="l11941"></a><span class="lineno">11941</span><span class="comment">// Note that a local position will vary depending on initial scroll value,</span></div>
<div class="line"><a id="l11942" name="l11942"></a><span class="lineno">11942</span><span class="comment">// This is a little bit confusing so bear with us:</span></div>
<div class="line"><a id="l11943" name="l11943"></a><span class="lineno">11943</span><span class="comment">//  - local_pos = (absolution_pos - window-&gt;Pos)</span></div>
<div class="line"><a id="l11944" name="l11944"></a><span class="lineno">11944</span><span class="comment">//  - So local_x/local_y are 0.0f for a position at the upper-left corner of a window,</span></div>
<div class="line"><a id="l11945" name="l11945"></a><span class="lineno">11945</span><span class="comment">//    and generally local_x/local_y are &gt;(padding+decoration) &amp;&amp; &lt;(size-padding-decoration) when in the visible area.</span></div>
<div class="line"><a id="l11946" name="l11946"></a><span class="lineno">11946</span><span class="comment">//  - They mostly exist because of legacy API.</span></div>
<div class="line"><a id="l11947" name="l11947"></a><span class="lineno">11947</span><span class="comment">// Following the rules above, when trying to work with scrolling code, consider that:</span></div>
<div class="line"><a id="l11948" name="l11948"></a><span class="lineno">11948</span><span class="comment">//  - SetScrollFromPosY(0.0f) == SetScrollY(0.0f + scroll.y) == has no effect!</span></div>
<div class="line"><a id="l11949" name="l11949"></a><span class="lineno">11949</span><span class="comment">//  - SetScrollFromPosY(-scroll.y) == SetScrollY(-scroll.y + scroll.y) == SetScrollY(0.0f) == reset scroll. Of course writing SetScrollY(0.0f) directly then makes more sense</span></div>
<div class="line"><a id="l11950" name="l11950"></a><span class="lineno">11950</span><span class="comment">// We store a target position so centering and clamping can occur on the next frame when we are guaranteed to have a known window size</span></div>
<div class="line"><a id="l11951" name="l11951"></a><span class="lineno">11951</span><span class="keywordtype">void</span> ImGui::SetScrollFromPosX(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keywordtype">float</span> local_x, <span class="keywordtype">float</span> center_x_ratio)</div>
<div class="line"><a id="l11952" name="l11952"></a><span class="lineno">11952</span>{</div>
<div class="line"><a id="l11953" name="l11953"></a><span class="lineno">11953</span>    IM_ASSERT(center_x_ratio &gt;= 0.0f &amp;&amp; center_x_ratio &lt;= 1.0f);</div>
<div class="line"><a id="l11954" name="l11954"></a><span class="lineno">11954</span>    window-&gt;ScrollTarget.x = IM_TRUNC(local_x - window-&gt;DecoOuterSizeX1 - window-&gt;DecoInnerSizeX1 + window-&gt;Scroll.x); <span class="comment">// Convert local position to scroll offset</span></div>
<div class="line"><a id="l11955" name="l11955"></a><span class="lineno">11955</span>    window-&gt;ScrollTargetCenterRatio.x = center_x_ratio;</div>
<div class="line"><a id="l11956" name="l11956"></a><span class="lineno">11956</span>    window-&gt;ScrollTargetEdgeSnapDist.x = 0.0f;</div>
<div class="line"><a id="l11957" name="l11957"></a><span class="lineno">11957</span>}</div>
<div class="line"><a id="l11958" name="l11958"></a><span class="lineno">11958</span> </div>
<div class="line"><a id="l11959" name="l11959"></a><span class="lineno">11959</span><span class="keywordtype">void</span> ImGui::SetScrollFromPosY(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keywordtype">float</span> local_y, <span class="keywordtype">float</span> center_y_ratio)</div>
<div class="line"><a id="l11960" name="l11960"></a><span class="lineno">11960</span>{</div>
<div class="line"><a id="l11961" name="l11961"></a><span class="lineno">11961</span>    IM_ASSERT(center_y_ratio &gt;= 0.0f &amp;&amp; center_y_ratio &lt;= 1.0f);</div>
<div class="line"><a id="l11962" name="l11962"></a><span class="lineno">11962</span>    window-&gt;ScrollTarget.y = IM_TRUNC(local_y - window-&gt;DecoOuterSizeY1 - window-&gt;DecoInnerSizeY1 + window-&gt;Scroll.y); <span class="comment">// Convert local position to scroll offset</span></div>
<div class="line"><a id="l11963" name="l11963"></a><span class="lineno">11963</span>    window-&gt;ScrollTargetCenterRatio.y = center_y_ratio;</div>
<div class="line"><a id="l11964" name="l11964"></a><span class="lineno">11964</span>    window-&gt;ScrollTargetEdgeSnapDist.y = 0.0f;</div>
<div class="line"><a id="l11965" name="l11965"></a><span class="lineno">11965</span>}</div>
<div class="line"><a id="l11966" name="l11966"></a><span class="lineno">11966</span> </div>
<div class="line"><a id="l11967" name="l11967"></a><span class="lineno">11967</span><span class="keywordtype">void</span> ImGui::SetScrollFromPosX(<span class="keywordtype">float</span> local_x, <span class="keywordtype">float</span> center_x_ratio)</div>
<div class="line"><a id="l11968" name="l11968"></a><span class="lineno">11968</span>{</div>
<div class="line"><a id="l11969" name="l11969"></a><span class="lineno">11969</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l11970" name="l11970"></a><span class="lineno">11970</span>    SetScrollFromPosX(g.CurrentWindow, local_x, center_x_ratio);</div>
<div class="line"><a id="l11971" name="l11971"></a><span class="lineno">11971</span>}</div>
<div class="line"><a id="l11972" name="l11972"></a><span class="lineno">11972</span> </div>
<div class="line"><a id="l11973" name="l11973"></a><span class="lineno">11973</span><span class="keywordtype">void</span> ImGui::SetScrollFromPosY(<span class="keywordtype">float</span> local_y, <span class="keywordtype">float</span> center_y_ratio)</div>
<div class="line"><a id="l11974" name="l11974"></a><span class="lineno">11974</span>{</div>
<div class="line"><a id="l11975" name="l11975"></a><span class="lineno">11975</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l11976" name="l11976"></a><span class="lineno">11976</span>    SetScrollFromPosY(g.CurrentWindow, local_y, center_y_ratio);</div>
<div class="line"><a id="l11977" name="l11977"></a><span class="lineno">11977</span>}</div>
<div class="line"><a id="l11978" name="l11978"></a><span class="lineno">11978</span> </div>
<div class="line"><a id="l11979" name="l11979"></a><span class="lineno">11979</span><span class="comment">// center_x_ratio: 0.0f left of last item, 0.5f horizontal center of last item, 1.0f right of last item.</span></div>
<div class="line"><a id="l11980" name="l11980"></a><span class="lineno">11980</span><span class="keywordtype">void</span> ImGui::SetScrollHereX(<span class="keywordtype">float</span> center_x_ratio)</div>
<div class="line"><a id="l11981" name="l11981"></a><span class="lineno">11981</span>{</div>
<div class="line"><a id="l11982" name="l11982"></a><span class="lineno">11982</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l11983" name="l11983"></a><span class="lineno">11983</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l11984" name="l11984"></a><span class="lineno">11984</span>    <span class="keywordtype">float</span> spacing_x = ImMax(window-&gt;WindowPadding.x, g.Style.ItemSpacing.x);</div>
<div class="line"><a id="l11985" name="l11985"></a><span class="lineno">11985</span>    <span class="keywordtype">float</span> target_pos_x = ImLerp(g.LastItemData.Rect.Min.x - spacing_x, g.LastItemData.Rect.Max.x + spacing_x, center_x_ratio);</div>
<div class="line"><a id="l11986" name="l11986"></a><span class="lineno">11986</span>    SetScrollFromPosX(window, target_pos_x - window-&gt;Pos.x, center_x_ratio); <span class="comment">// Convert from absolute to local pos</span></div>
<div class="line"><a id="l11987" name="l11987"></a><span class="lineno">11987</span> </div>
<div class="line"><a id="l11988" name="l11988"></a><span class="lineno">11988</span>    <span class="comment">// Tweak: snap on edges when aiming at an item very close to the edge</span></div>
<div class="line"><a id="l11989" name="l11989"></a><span class="lineno">11989</span>    window-&gt;ScrollTargetEdgeSnapDist.x = ImMax(0.0f, window-&gt;WindowPadding.x - spacing_x);</div>
<div class="line"><a id="l11990" name="l11990"></a><span class="lineno">11990</span>}</div>
<div class="line"><a id="l11991" name="l11991"></a><span class="lineno">11991</span> </div>
<div class="line"><a id="l11992" name="l11992"></a><span class="lineno">11992</span><span class="comment">// center_y_ratio: 0.0f top of last item, 0.5f vertical center of last item, 1.0f bottom of last item.</span></div>
<div class="line"><a id="l11993" name="l11993"></a><span class="lineno">11993</span><span class="keywordtype">void</span> ImGui::SetScrollHereY(<span class="keywordtype">float</span> center_y_ratio)</div>
<div class="line"><a id="l11994" name="l11994"></a><span class="lineno">11994</span>{</div>
<div class="line"><a id="l11995" name="l11995"></a><span class="lineno">11995</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l11996" name="l11996"></a><span class="lineno">11996</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l11997" name="l11997"></a><span class="lineno">11997</span>    <span class="keywordtype">float</span> spacing_y = ImMax(window-&gt;WindowPadding.y, g.Style.ItemSpacing.y);</div>
<div class="line"><a id="l11998" name="l11998"></a><span class="lineno">11998</span>    <span class="keywordtype">float</span> target_pos_y = ImLerp(window-&gt;DC.CursorPosPrevLine.y - spacing_y, window-&gt;DC.CursorPosPrevLine.y + window-&gt;DC.PrevLineSize.y + spacing_y, center_y_ratio);</div>
<div class="line"><a id="l11999" name="l11999"></a><span class="lineno">11999</span>    SetScrollFromPosY(window, target_pos_y - window-&gt;Pos.y, center_y_ratio); <span class="comment">// Convert from absolute to local pos</span></div>
<div class="line"><a id="l12000" name="l12000"></a><span class="lineno">12000</span> </div>
<div class="line"><a id="l12001" name="l12001"></a><span class="lineno">12001</span>    <span class="comment">// Tweak: snap on edges when aiming at an item very close to the edge</span></div>
<div class="line"><a id="l12002" name="l12002"></a><span class="lineno">12002</span>    window-&gt;ScrollTargetEdgeSnapDist.y = ImMax(0.0f, window-&gt;WindowPadding.y - spacing_y);</div>
<div class="line"><a id="l12003" name="l12003"></a><span class="lineno">12003</span>}</div>
<div class="line"><a id="l12004" name="l12004"></a><span class="lineno">12004</span> </div>
<div class="line"><a id="l12005" name="l12005"></a><span class="lineno">12005</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l12006" name="l12006"></a><span class="lineno">12006</span><span class="comment">// [SECTION] TOOLTIPS</span></div>
<div class="line"><a id="l12007" name="l12007"></a><span class="lineno">12007</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l12008" name="l12008"></a><span class="lineno">12008</span> </div>
<div class="line"><a id="l12009" name="l12009"></a><span class="lineno">12009</span><span class="keywordtype">bool</span> ImGui::BeginTooltip()</div>
<div class="line"><a id="l12010" name="l12010"></a><span class="lineno">12010</span>{</div>
<div class="line"><a id="l12011" name="l12011"></a><span class="lineno">12011</span>    <span class="keywordflow">return</span> BeginTooltipEx(ImGuiTooltipFlags_None, ImGuiWindowFlags_None);</div>
<div class="line"><a id="l12012" name="l12012"></a><span class="lineno">12012</span>}</div>
<div class="line"><a id="l12013" name="l12013"></a><span class="lineno">12013</span> </div>
<div class="line"><a id="l12014" name="l12014"></a><span class="lineno">12014</span><span class="keywordtype">bool</span> ImGui::BeginItemTooltip()</div>
<div class="line"><a id="l12015" name="l12015"></a><span class="lineno">12015</span>{</div>
<div class="line"><a id="l12016" name="l12016"></a><span class="lineno">12016</span>    <span class="keywordflow">if</span> (!IsItemHovered(ImGuiHoveredFlags_ForTooltip))</div>
<div class="line"><a id="l12017" name="l12017"></a><span class="lineno">12017</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l12018" name="l12018"></a><span class="lineno">12018</span>    <span class="keywordflow">return</span> BeginTooltipEx(ImGuiTooltipFlags_None, ImGuiWindowFlags_None);</div>
<div class="line"><a id="l12019" name="l12019"></a><span class="lineno">12019</span>}</div>
<div class="line"><a id="l12020" name="l12020"></a><span class="lineno">12020</span> </div>
<div class="line"><a id="l12021" name="l12021"></a><span class="lineno">12021</span><span class="keywordtype">bool</span> ImGui::BeginTooltipEx(ImGuiTooltipFlags tooltip_flags, ImGuiWindowFlags extra_window_flags)</div>
<div class="line"><a id="l12022" name="l12022"></a><span class="lineno">12022</span>{</div>
<div class="line"><a id="l12023" name="l12023"></a><span class="lineno">12023</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12024" name="l12024"></a><span class="lineno">12024</span> </div>
<div class="line"><a id="l12025" name="l12025"></a><span class="lineno">12025</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_dragdrop_tooltip = g.DragDropWithinSource || g.DragDropWithinTarget;</div>
<div class="line"><a id="l12026" name="l12026"></a><span class="lineno">12026</span>    <span class="keywordflow">if</span> (is_dragdrop_tooltip)</div>
<div class="line"><a id="l12027" name="l12027"></a><span class="lineno">12027</span>    {</div>
<div class="line"><a id="l12028" name="l12028"></a><span class="lineno">12028</span>        <span class="comment">// Drag and Drop tooltips are positioning differently than other tooltips:</span></div>
<div class="line"><a id="l12029" name="l12029"></a><span class="lineno">12029</span>        <span class="comment">// - offset visibility to increase visibility around mouse.</span></div>
<div class="line"><a id="l12030" name="l12030"></a><span class="lineno">12030</span>        <span class="comment">// - never clamp within outer viewport boundary.</span></div>
<div class="line"><a id="l12031" name="l12031"></a><span class="lineno">12031</span>        <span class="comment">// We call SetNextWindowPos() to enforce position and disable clamping.</span></div>
<div class="line"><a id="l12032" name="l12032"></a><span class="lineno">12032</span>        <span class="comment">// See FindBestWindowPosForPopup() for positioning logic of other tooltips (not drag and drop ones).</span></div>
<div class="line"><a id="l12033" name="l12033"></a><span class="lineno">12033</span>        <span class="comment">//ImVec2 tooltip_pos = g.IO.MousePos - g.ActiveIdClickOffset - g.Style.WindowPadding;</span></div>
<div class="line"><a id="l12034" name="l12034"></a><span class="lineno">12034</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_touchscreen = (g.IO.MouseSource == ImGuiMouseSource_TouchScreen);</div>
<div class="line"><a id="l12035" name="l12035"></a><span class="lineno">12035</span>        <span class="keywordflow">if</span> ((g.NextWindowData.HasFlags &amp; ImGuiNextWindowDataFlags_HasPos) == 0)</div>
<div class="line"><a id="l12036" name="l12036"></a><span class="lineno">12036</span>        {</div>
<div class="line"><a id="l12037" name="l12037"></a><span class="lineno">12037</span>            <a class="code hl_struct" href="structImVec2.html">ImVec2</a> tooltip_pos = is_touchscreen ? (g.IO.MousePos + TOOLTIP_DEFAULT_OFFSET_TOUCH * g.Style.MouseCursorScale) : (g.IO.MousePos + TOOLTIP_DEFAULT_OFFSET_MOUSE * g.Style.MouseCursorScale);</div>
<div class="line"><a id="l12038" name="l12038"></a><span class="lineno">12038</span>            <a class="code hl_struct" href="structImVec2.html">ImVec2</a> tooltip_pivot = is_touchscreen ? TOOLTIP_DEFAULT_PIVOT_TOUCH : <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, 0.0f);</div>
<div class="line"><a id="l12039" name="l12039"></a><span class="lineno">12039</span>            SetNextWindowPos(tooltip_pos, ImGuiCond_None, tooltip_pivot);</div>
<div class="line"><a id="l12040" name="l12040"></a><span class="lineno">12040</span>        }</div>
<div class="line"><a id="l12041" name="l12041"></a><span class="lineno">12041</span> </div>
<div class="line"><a id="l12042" name="l12042"></a><span class="lineno">12042</span>        SetNextWindowBgAlpha(g.Style.Colors[ImGuiCol_PopupBg].w * 0.60f);</div>
<div class="line"><a id="l12043" name="l12043"></a><span class="lineno">12043</span>        <span class="comment">//PushStyleVar(ImGuiStyleVar_Alpha, g.Style.Alpha * 0.60f); // This would be nice but e.g ColorButton with checkboard has issue with transparent colors :(</span></div>
<div class="line"><a id="l12044" name="l12044"></a><span class="lineno">12044</span>        tooltip_flags |= ImGuiTooltipFlags_OverridePrevious;</div>
<div class="line"><a id="l12045" name="l12045"></a><span class="lineno">12045</span>    }</div>
<div class="line"><a id="l12046" name="l12046"></a><span class="lineno">12046</span> </div>
<div class="line"><a id="l12047" name="l12047"></a><span class="lineno">12047</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* window_name_template = is_dragdrop_tooltip ? <span class="stringliteral">&quot;##Tooltip_DragDrop_%02d&quot;</span> : <span class="stringliteral">&quot;##Tooltip_%02d&quot;</span>;</div>
<div class="line"><a id="l12048" name="l12048"></a><span class="lineno">12048</span>    <span class="keywordtype">char</span> window_name[32];</div>
<div class="line"><a id="l12049" name="l12049"></a><span class="lineno">12049</span>    ImFormatString(window_name, IM_ARRAYSIZE(window_name), window_name_template, g.TooltipOverrideCount);</div>
<div class="line"><a id="l12050" name="l12050"></a><span class="lineno">12050</span>    <span class="keywordflow">if</span> ((tooltip_flags &amp; ImGuiTooltipFlags_OverridePrevious) &amp;&amp; g.TooltipPreviousWindow != NULL &amp;&amp; g.TooltipPreviousWindow-&gt;Active)</div>
<div class="line"><a id="l12051" name="l12051"></a><span class="lineno">12051</span>    {</div>
<div class="line"><a id="l12052" name="l12052"></a><span class="lineno">12052</span>        <span class="comment">// Hide previous tooltip from being displayed. We can&#39;t easily &quot;reset&quot; the content of a window so we create a new one.</span></div>
<div class="line"><a id="l12053" name="l12053"></a><span class="lineno">12053</span>        <span class="comment">//IMGUI_DEBUG_LOG(&quot;[tooltip] &#39;%s&#39; already active, using +1 for this frame\n&quot;, window_name);</span></div>
<div class="line"><a id="l12054" name="l12054"></a><span class="lineno">12054</span>        SetWindowHiddenAndSkipItemsForCurrentFrame(g.TooltipPreviousWindow);</div>
<div class="line"><a id="l12055" name="l12055"></a><span class="lineno">12055</span>        ImFormatString(window_name, IM_ARRAYSIZE(window_name), window_name_template, ++g.TooltipOverrideCount);</div>
<div class="line"><a id="l12056" name="l12056"></a><span class="lineno">12056</span>    }</div>
<div class="line"><a id="l12057" name="l12057"></a><span class="lineno">12057</span> </div>
<div class="line"><a id="l12058" name="l12058"></a><span class="lineno">12058</span>    ImGuiWindowFlags flags = ImGuiWindowFlags_Tooltip | ImGuiWindowFlags_NoInputs | ImGuiWindowFlags_NoTitleBar | ImGuiWindowFlags_NoMove | ImGuiWindowFlags_NoResize | ImGuiWindowFlags_NoSavedSettings | ImGuiWindowFlags_AlwaysAutoResize | ImGuiWindowFlags_NoDocking;</div>
<div class="line"><a id="l12059" name="l12059"></a><span class="lineno">12059</span>    Begin(window_name, NULL, flags | extra_window_flags);</div>
<div class="line"><a id="l12060" name="l12060"></a><span class="lineno">12060</span>    <span class="comment">// 2023-03-09: Added bool return value to the API, but currently always returning true.</span></div>
<div class="line"><a id="l12061" name="l12061"></a><span class="lineno">12061</span>    <span class="comment">// If this ever returns false we need to update BeginDragDropSource() accordingly.</span></div>
<div class="line"><a id="l12062" name="l12062"></a><span class="lineno">12062</span>    <span class="comment">//if (!ret)</span></div>
<div class="line"><a id="l12063" name="l12063"></a><span class="lineno">12063</span>    <span class="comment">//    End();</span></div>
<div class="line"><a id="l12064" name="l12064"></a><span class="lineno">12064</span>    <span class="comment">//return ret;</span></div>
<div class="line"><a id="l12065" name="l12065"></a><span class="lineno">12065</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l12066" name="l12066"></a><span class="lineno">12066</span>}</div>
<div class="line"><a id="l12067" name="l12067"></a><span class="lineno">12067</span> </div>
<div class="line"><a id="l12068" name="l12068"></a><span class="lineno">12068</span><span class="keywordtype">void</span> ImGui::EndTooltip()</div>
<div class="line"><a id="l12069" name="l12069"></a><span class="lineno">12069</span>{</div>
<div class="line"><a id="l12070" name="l12070"></a><span class="lineno">12070</span>    IM_ASSERT(GetCurrentWindowRead()-&gt;Flags &amp; ImGuiWindowFlags_Tooltip);   <span class="comment">// Mismatched BeginTooltip()/EndTooltip() calls</span></div>
<div class="line"><a id="l12071" name="l12071"></a><span class="lineno">12071</span>    End();</div>
<div class="line"><a id="l12072" name="l12072"></a><span class="lineno">12072</span>}</div>
<div class="line"><a id="l12073" name="l12073"></a><span class="lineno">12073</span> </div>
<div class="line"><a id="l12074" name="l12074"></a><span class="lineno">12074</span><span class="keywordtype">void</span> ImGui::SetTooltip(<span class="keyword">const</span> <span class="keywordtype">char</span>* fmt, ...)</div>
<div class="line"><a id="l12075" name="l12075"></a><span class="lineno">12075</span>{</div>
<div class="line"><a id="l12076" name="l12076"></a><span class="lineno">12076</span>    va_list args;</div>
<div class="line"><a id="l12077" name="l12077"></a><span class="lineno">12077</span>    va_start(args, fmt);</div>
<div class="line"><a id="l12078" name="l12078"></a><span class="lineno">12078</span>    SetTooltipV(fmt, args);</div>
<div class="line"><a id="l12079" name="l12079"></a><span class="lineno">12079</span>    va_end(args);</div>
<div class="line"><a id="l12080" name="l12080"></a><span class="lineno">12080</span>}</div>
<div class="line"><a id="l12081" name="l12081"></a><span class="lineno">12081</span> </div>
<div class="line"><a id="l12082" name="l12082"></a><span class="lineno">12082</span><span class="keywordtype">void</span> ImGui::SetTooltipV(<span class="keyword">const</span> <span class="keywordtype">char</span>* fmt, va_list args)</div>
<div class="line"><a id="l12083" name="l12083"></a><span class="lineno">12083</span>{</div>
<div class="line"><a id="l12084" name="l12084"></a><span class="lineno">12084</span>    <span class="keywordflow">if</span> (!BeginTooltipEx(ImGuiTooltipFlags_OverridePrevious, ImGuiWindowFlags_None))</div>
<div class="line"><a id="l12085" name="l12085"></a><span class="lineno">12085</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l12086" name="l12086"></a><span class="lineno">12086</span>    TextV(fmt, args);</div>
<div class="line"><a id="l12087" name="l12087"></a><span class="lineno">12087</span>    EndTooltip();</div>
<div class="line"><a id="l12088" name="l12088"></a><span class="lineno">12088</span>}</div>
<div class="line"><a id="l12089" name="l12089"></a><span class="lineno">12089</span> </div>
<div class="line"><a id="l12090" name="l12090"></a><span class="lineno">12090</span><span class="comment">// Shortcut to use &#39;style.HoverFlagsForTooltipMouse&#39; or &#39;style.HoverFlagsForTooltipNav&#39;.</span></div>
<div class="line"><a id="l12091" name="l12091"></a><span class="lineno">12091</span><span class="comment">// Defaults to == ImGuiHoveredFlags_Stationary | ImGuiHoveredFlags_DelayShort when using the mouse.</span></div>
<div class="line"><a id="l12092" name="l12092"></a><span class="lineno">12092</span><span class="keywordtype">void</span> ImGui::SetItemTooltip(<span class="keyword">const</span> <span class="keywordtype">char</span>* fmt, ...)</div>
<div class="line"><a id="l12093" name="l12093"></a><span class="lineno">12093</span>{</div>
<div class="line"><a id="l12094" name="l12094"></a><span class="lineno">12094</span>    va_list args;</div>
<div class="line"><a id="l12095" name="l12095"></a><span class="lineno">12095</span>    va_start(args, fmt);</div>
<div class="line"><a id="l12096" name="l12096"></a><span class="lineno">12096</span>    <span class="keywordflow">if</span> (IsItemHovered(ImGuiHoveredFlags_ForTooltip))</div>
<div class="line"><a id="l12097" name="l12097"></a><span class="lineno">12097</span>        SetTooltipV(fmt, args);</div>
<div class="line"><a id="l12098" name="l12098"></a><span class="lineno">12098</span>    va_end(args);</div>
<div class="line"><a id="l12099" name="l12099"></a><span class="lineno">12099</span>}</div>
<div class="line"><a id="l12100" name="l12100"></a><span class="lineno">12100</span> </div>
<div class="line"><a id="l12101" name="l12101"></a><span class="lineno">12101</span><span class="keywordtype">void</span> ImGui::SetItemTooltipV(<span class="keyword">const</span> <span class="keywordtype">char</span>* fmt, va_list args)</div>
<div class="line"><a id="l12102" name="l12102"></a><span class="lineno">12102</span>{</div>
<div class="line"><a id="l12103" name="l12103"></a><span class="lineno">12103</span>    <span class="keywordflow">if</span> (IsItemHovered(ImGuiHoveredFlags_ForTooltip))</div>
<div class="line"><a id="l12104" name="l12104"></a><span class="lineno">12104</span>        SetTooltipV(fmt, args);</div>
<div class="line"><a id="l12105" name="l12105"></a><span class="lineno">12105</span>}</div>
<div class="line"><a id="l12106" name="l12106"></a><span class="lineno">12106</span> </div>
<div class="line"><a id="l12107" name="l12107"></a><span class="lineno">12107</span> </div>
<div class="line"><a id="l12108" name="l12108"></a><span class="lineno">12108</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l12109" name="l12109"></a><span class="lineno">12109</span><span class="comment">// [SECTION] POPUPS</span></div>
<div class="line"><a id="l12110" name="l12110"></a><span class="lineno">12110</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l12111" name="l12111"></a><span class="lineno">12111</span> </div>
<div class="line"><a id="l12112" name="l12112"></a><span class="lineno">12112</span><span class="comment">// Supported flags: ImGuiPopupFlags_AnyPopupId, ImGuiPopupFlags_AnyPopupLevel</span></div>
<div class="line"><a id="l12113" name="l12113"></a><span class="lineno">12113</span><span class="keywordtype">bool</span> ImGui::IsPopupOpen(ImGuiID <span class="keywordtype">id</span>, ImGuiPopupFlags popup_flags)</div>
<div class="line"><a id="l12114" name="l12114"></a><span class="lineno">12114</span>{</div>
<div class="line"><a id="l12115" name="l12115"></a><span class="lineno">12115</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12116" name="l12116"></a><span class="lineno">12116</span>    <span class="keywordflow">if</span> (popup_flags &amp; ImGuiPopupFlags_AnyPopupId)</div>
<div class="line"><a id="l12117" name="l12117"></a><span class="lineno">12117</span>    {</div>
<div class="line"><a id="l12118" name="l12118"></a><span class="lineno">12118</span>        <span class="comment">// Return true if any popup is open at the current BeginPopup() level of the popup stack</span></div>
<div class="line"><a id="l12119" name="l12119"></a><span class="lineno">12119</span>        <span class="comment">// This may be used to e.g. test for another popups already opened to handle popups priorities at the same level.</span></div>
<div class="line"><a id="l12120" name="l12120"></a><span class="lineno">12120</span>        IM_ASSERT(<span class="keywordtype">id</span> == 0);</div>
<div class="line"><a id="l12121" name="l12121"></a><span class="lineno">12121</span>        <span class="keywordflow">if</span> (popup_flags &amp; ImGuiPopupFlags_AnyPopupLevel)</div>
<div class="line"><a id="l12122" name="l12122"></a><span class="lineno">12122</span>            <span class="keywordflow">return</span> g.OpenPopupStack.Size &gt; 0;</div>
<div class="line"><a id="l12123" name="l12123"></a><span class="lineno">12123</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l12124" name="l12124"></a><span class="lineno">12124</span>            <span class="keywordflow">return</span> g.OpenPopupStack.Size &gt; g.BeginPopupStack.Size;</div>
<div class="line"><a id="l12125" name="l12125"></a><span class="lineno">12125</span>    }</div>
<div class="line"><a id="l12126" name="l12126"></a><span class="lineno">12126</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l12127" name="l12127"></a><span class="lineno">12127</span>    {</div>
<div class="line"><a id="l12128" name="l12128"></a><span class="lineno">12128</span>        <span class="keywordflow">if</span> (popup_flags &amp; ImGuiPopupFlags_AnyPopupLevel)</div>
<div class="line"><a id="l12129" name="l12129"></a><span class="lineno">12129</span>        {</div>
<div class="line"><a id="l12130" name="l12130"></a><span class="lineno">12130</span>            <span class="comment">// Return true if the popup is open anywhere in the popup stack</span></div>
<div class="line"><a id="l12131" name="l12131"></a><span class="lineno">12131</span>            <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiPopupData.html">ImGuiPopupData</a>&amp; popup_data : g.OpenPopupStack)</div>
<div class="line"><a id="l12132" name="l12132"></a><span class="lineno">12132</span>                if (popup_data.PopupId == id)</div>
<div class="line"><a id="l12133" name="l12133"></a><span class="lineno">12133</span>                    return true;</div>
<div class="line"><a id="l12134" name="l12134"></a><span class="lineno">12134</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l12135" name="l12135"></a><span class="lineno">12135</span>        }</div>
<div class="line"><a id="l12136" name="l12136"></a><span class="lineno">12136</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l12137" name="l12137"></a><span class="lineno">12137</span>        {</div>
<div class="line"><a id="l12138" name="l12138"></a><span class="lineno">12138</span>            <span class="comment">// Return true if the popup is open at the current BeginPopup() level of the popup stack (this is the most-common query)</span></div>
<div class="line"><a id="l12139" name="l12139"></a><span class="lineno">12139</span>            <span class="keywordflow">return</span> g.OpenPopupStack.Size &gt; g.BeginPopupStack.Size &amp;&amp; g.OpenPopupStack[g.BeginPopupStack.Size].PopupId == id;</div>
<div class="line"><a id="l12140" name="l12140"></a><span class="lineno">12140</span>        }</div>
<div class="line"><a id="l12141" name="l12141"></a><span class="lineno">12141</span>    }</div>
<div class="line"><a id="l12142" name="l12142"></a><span class="lineno">12142</span>}</div>
<div class="line"><a id="l12143" name="l12143"></a><span class="lineno">12143</span> </div>
<div class="line"><a id="l12144" name="l12144"></a><span class="lineno">12144</span><span class="keywordtype">bool</span> ImGui::IsPopupOpen(<span class="keyword">const</span> <span class="keywordtype">char</span>* str_id, ImGuiPopupFlags popup_flags)</div>
<div class="line"><a id="l12145" name="l12145"></a><span class="lineno">12145</span>{</div>
<div class="line"><a id="l12146" name="l12146"></a><span class="lineno">12146</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12147" name="l12147"></a><span class="lineno">12147</span>    ImGuiID <span class="keywordtype">id</span> = (popup_flags &amp; ImGuiPopupFlags_AnyPopupId) ? 0 : g.CurrentWindow-&gt;GetID(str_id);</div>
<div class="line"><a id="l12148" name="l12148"></a><span class="lineno">12148</span>    <span class="keywordflow">if</span> ((popup_flags &amp; ImGuiPopupFlags_AnyPopupLevel) &amp;&amp; <span class="keywordtype">id</span> != 0)</div>
<div class="line"><a id="l12149" name="l12149"></a><span class="lineno">12149</span>        IM_ASSERT(0 &amp;&amp; <span class="stringliteral">&quot;Cannot use IsPopupOpen() with a string id and ImGuiPopupFlags_AnyPopupLevel.&quot;</span>); <span class="comment">// But non-string version is legal and used internally</span></div>
<div class="line"><a id="l12150" name="l12150"></a><span class="lineno">12150</span>    <span class="keywordflow">return</span> IsPopupOpen(<span class="keywordtype">id</span>, popup_flags);</div>
<div class="line"><a id="l12151" name="l12151"></a><span class="lineno">12151</span>}</div>
<div class="line"><a id="l12152" name="l12152"></a><span class="lineno">12152</span> </div>
<div class="line"><a id="l12153" name="l12153"></a><span class="lineno">12153</span><span class="comment">// Also see FindBlockingModal(NULL)</span></div>
<div class="line"><a id="l12154" name="l12154"></a><span class="lineno">12154</span><a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* ImGui::GetTopMostPopupModal()</div>
<div class="line"><a id="l12155" name="l12155"></a><span class="lineno">12155</span>{</div>
<div class="line"><a id="l12156" name="l12156"></a><span class="lineno">12156</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12157" name="l12157"></a><span class="lineno">12157</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = g.OpenPopupStack.Size - 1; n &gt;= 0; n--)</div>
<div class="line"><a id="l12158" name="l12158"></a><span class="lineno">12158</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* popup = g.OpenPopupStack.Data[n].Window)</div>
<div class="line"><a id="l12159" name="l12159"></a><span class="lineno">12159</span>            <span class="keywordflow">if</span> (popup-&gt;Flags &amp; ImGuiWindowFlags_Modal)</div>
<div class="line"><a id="l12160" name="l12160"></a><span class="lineno">12160</span>                <span class="keywordflow">return</span> popup;</div>
<div class="line"><a id="l12161" name="l12161"></a><span class="lineno">12161</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l12162" name="l12162"></a><span class="lineno">12162</span>}</div>
<div class="line"><a id="l12163" name="l12163"></a><span class="lineno">12163</span> </div>
<div class="line"><a id="l12164" name="l12164"></a><span class="lineno">12164</span><span class="comment">// See Demo-&gt;Stacked Modal to confirm what this is for.</span></div>
<div class="line"><a id="l12165" name="l12165"></a><span class="lineno">12165</span><a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* ImGui::GetTopMostAndVisiblePopupModal()</div>
<div class="line"><a id="l12166" name="l12166"></a><span class="lineno">12166</span>{</div>
<div class="line"><a id="l12167" name="l12167"></a><span class="lineno">12167</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12168" name="l12168"></a><span class="lineno">12168</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = g.OpenPopupStack.Size - 1; n &gt;= 0; n--)</div>
<div class="line"><a id="l12169" name="l12169"></a><span class="lineno">12169</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* popup = g.OpenPopupStack.Data[n].Window)</div>
<div class="line"><a id="l12170" name="l12170"></a><span class="lineno">12170</span>            <span class="keywordflow">if</span> ((popup-&gt;Flags &amp; ImGuiWindowFlags_Modal) &amp;&amp; IsWindowActiveAndVisible(popup))</div>
<div class="line"><a id="l12171" name="l12171"></a><span class="lineno">12171</span>                <span class="keywordflow">return</span> popup;</div>
<div class="line"><a id="l12172" name="l12172"></a><span class="lineno">12172</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l12173" name="l12173"></a><span class="lineno">12173</span>}</div>
<div class="line"><a id="l12174" name="l12174"></a><span class="lineno">12174</span> </div>
<div class="line"><a id="l12175" name="l12175"></a><span class="lineno">12175</span> </div>
<div class="line"><a id="l12176" name="l12176"></a><span class="lineno">12176</span><span class="comment">// When a modal popup is open, newly created windows that want focus (i.e. are not popups and do not specify ImGuiWindowFlags_NoFocusOnAppearing)</span></div>
<div class="line"><a id="l12177" name="l12177"></a><span class="lineno">12177</span><span class="comment">// should be positioned behind that modal window, unless the window was created inside the modal begin-stack.</span></div>
<div class="line"><a id="l12178" name="l12178"></a><span class="lineno">12178</span><span class="comment">// In case of multiple stacked modals newly created window honors begin stack order and does not go below its own modal parent.</span></div>
<div class="line"><a id="l12179" name="l12179"></a><span class="lineno">12179</span><span class="comment">// - WindowA            // FindBlockingModal() returns Modal1</span></div>
<div class="line"><a id="l12180" name="l12180"></a><span class="lineno">12180</span><span class="comment">//   - WindowB          //                  .. returns Modal1</span></div>
<div class="line"><a id="l12181" name="l12181"></a><span class="lineno">12181</span><span class="comment">//   - Modal1           //                  .. returns Modal2</span></div>
<div class="line"><a id="l12182" name="l12182"></a><span class="lineno">12182</span><span class="comment">//      - WindowC       //                  .. returns Modal2</span></div>
<div class="line"><a id="l12183" name="l12183"></a><span class="lineno">12183</span><span class="comment">//          - WindowD   //                  .. returns Modal2</span></div>
<div class="line"><a id="l12184" name="l12184"></a><span class="lineno">12184</span><span class="comment">//          - Modal2    //                  .. returns Modal2</span></div>
<div class="line"><a id="l12185" name="l12185"></a><span class="lineno">12185</span><span class="comment">//            - WindowE //                  .. returns NULL</span></div>
<div class="line"><a id="l12186" name="l12186"></a><span class="lineno">12186</span><span class="comment">// Notes:</span></div>
<div class="line"><a id="l12187" name="l12187"></a><span class="lineno">12187</span><span class="comment">// - FindBlockingModal(NULL) == NULL is generally equivalent to GetTopMostPopupModal() == NULL.</span></div>
<div class="line"><a id="l12188" name="l12188"></a><span class="lineno">12188</span><span class="comment">//   Only difference is here we check for -&gt;Active/WasActive but it may be unnecessary.</span></div>
<div class="line"><a id="l12189" name="l12189"></a><span class="lineno">12189</span><a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* ImGui::FindBlockingModal(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l12190" name="l12190"></a><span class="lineno">12190</span>{</div>
<div class="line"><a id="l12191" name="l12191"></a><span class="lineno">12191</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12192" name="l12192"></a><span class="lineno">12192</span>    <span class="keywordflow">if</span> (g.OpenPopupStack.Size &lt;= 0)</div>
<div class="line"><a id="l12193" name="l12193"></a><span class="lineno">12193</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l12194" name="l12194"></a><span class="lineno">12194</span> </div>
<div class="line"><a id="l12195" name="l12195"></a><span class="lineno">12195</span>    <span class="comment">// Find a modal that has common parent with specified window. Specified window should be positioned behind that modal.</span></div>
<div class="line"><a id="l12196" name="l12196"></a><span class="lineno">12196</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiPopupData.html">ImGuiPopupData</a>&amp; popup_data : g.OpenPopupStack)</div>
<div class="line"><a id="l12197" name="l12197"></a><span class="lineno">12197</span>    {</div>
<div class="line"><a id="l12198" name="l12198"></a><span class="lineno">12198</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* popup_window = popup_data.Window;</div>
<div class="line"><a id="l12199" name="l12199"></a><span class="lineno">12199</span>        <span class="keywordflow">if</span> (popup_window == NULL || !(popup_window-&gt;Flags &amp; ImGuiWindowFlags_Modal))</div>
<div class="line"><a id="l12200" name="l12200"></a><span class="lineno">12200</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l12201" name="l12201"></a><span class="lineno">12201</span>        <span class="keywordflow">if</span> (!popup_window-&gt;Active &amp;&amp; !popup_window-&gt;WasActive)  <span class="comment">// Check WasActive, because this code may run before popup renders on current frame, also check Active to handle newly created windows.</span></div>
<div class="line"><a id="l12202" name="l12202"></a><span class="lineno">12202</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l12203" name="l12203"></a><span class="lineno">12203</span>        <span class="keywordflow">if</span> (window == NULL)                                     <span class="comment">// FindBlockingModal(NULL) test for if FocusWindow(NULL) is naturally possible via a mouse click.</span></div>
<div class="line"><a id="l12204" name="l12204"></a><span class="lineno">12204</span>            <span class="keywordflow">return</span> popup_window;</div>
<div class="line"><a id="l12205" name="l12205"></a><span class="lineno">12205</span>        <span class="keywordflow">if</span> (IsWindowWithinBeginStackOf(window, popup_window))   <span class="comment">// Window may be over modal</span></div>
<div class="line"><a id="l12206" name="l12206"></a><span class="lineno">12206</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l12207" name="l12207"></a><span class="lineno">12207</span>        <span class="keywordflow">return</span> popup_window;                                    <span class="comment">// Place window right below first block modal</span></div>
<div class="line"><a id="l12208" name="l12208"></a><span class="lineno">12208</span>    }</div>
<div class="line"><a id="l12209" name="l12209"></a><span class="lineno">12209</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l12210" name="l12210"></a><span class="lineno">12210</span>}</div>
<div class="line"><a id="l12211" name="l12211"></a><span class="lineno">12211</span> </div>
<div class="line"><a id="l12212" name="l12212"></a><span class="lineno">12212</span><span class="keywordtype">void</span> ImGui::OpenPopup(<span class="keyword">const</span> <span class="keywordtype">char</span>* str_id, ImGuiPopupFlags popup_flags)</div>
<div class="line"><a id="l12213" name="l12213"></a><span class="lineno">12213</span>{</div>
<div class="line"><a id="l12214" name="l12214"></a><span class="lineno">12214</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12215" name="l12215"></a><span class="lineno">12215</span>    ImGuiID <span class="keywordtype">id</span> = g.CurrentWindow-&gt;GetID(str_id);</div>
<div class="line"><a id="l12216" name="l12216"></a><span class="lineno">12216</span>    IMGUI_DEBUG_LOG_POPUP(<span class="stringliteral">&quot;[popup] OpenPopup(\&quot;%s\&quot; -&gt; 0x%08X)\n&quot;</span>, str_id, <span class="keywordtype">id</span>);</div>
<div class="line"><a id="l12217" name="l12217"></a><span class="lineno">12217</span>    OpenPopupEx(<span class="keywordtype">id</span>, popup_flags);</div>
<div class="line"><a id="l12218" name="l12218"></a><span class="lineno">12218</span>}</div>
<div class="line"><a id="l12219" name="l12219"></a><span class="lineno">12219</span> </div>
<div class="line"><a id="l12220" name="l12220"></a><span class="lineno">12220</span><span class="keywordtype">void</span> ImGui::OpenPopup(ImGuiID <span class="keywordtype">id</span>, ImGuiPopupFlags popup_flags)</div>
<div class="line"><a id="l12221" name="l12221"></a><span class="lineno">12221</span>{</div>
<div class="line"><a id="l12222" name="l12222"></a><span class="lineno">12222</span>    OpenPopupEx(<span class="keywordtype">id</span>, popup_flags);</div>
<div class="line"><a id="l12223" name="l12223"></a><span class="lineno">12223</span>}</div>
<div class="line"><a id="l12224" name="l12224"></a><span class="lineno">12224</span> </div>
<div class="line"><a id="l12225" name="l12225"></a><span class="lineno">12225</span><span class="comment">// Mark popup as open (toggle toward open state).</span></div>
<div class="line"><a id="l12226" name="l12226"></a><span class="lineno">12226</span><span class="comment">// Popups are closed when user click outside, or activate a pressable item, or CloseCurrentPopup() is called within a BeginPopup()/EndPopup() block.</span></div>
<div class="line"><a id="l12227" name="l12227"></a><span class="lineno">12227</span><span class="comment">// Popup identifiers are relative to the current ID-stack (so OpenPopup and BeginPopup needs to be at the same level).</span></div>
<div class="line"><a id="l12228" name="l12228"></a><span class="lineno">12228</span><span class="comment">// One open popup per level of the popup hierarchy (NB: when assigning we reset the Window member of ImGuiPopupRef to NULL)</span></div>
<div class="line"><a id="l12229" name="l12229"></a><span class="lineno">12229</span><span class="keywordtype">void</span> ImGui::OpenPopupEx(ImGuiID <span class="keywordtype">id</span>, ImGuiPopupFlags popup_flags)</div>
<div class="line"><a id="l12230" name="l12230"></a><span class="lineno">12230</span>{</div>
<div class="line"><a id="l12231" name="l12231"></a><span class="lineno">12231</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12232" name="l12232"></a><span class="lineno">12232</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* parent_window = g.CurrentWindow;</div>
<div class="line"><a id="l12233" name="l12233"></a><span class="lineno">12233</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> current_stack_size = g.BeginPopupStack.Size;</div>
<div class="line"><a id="l12234" name="l12234"></a><span class="lineno">12234</span> </div>
<div class="line"><a id="l12235" name="l12235"></a><span class="lineno">12235</span>    <span class="keywordflow">if</span> (popup_flags &amp; ImGuiPopupFlags_NoOpenOverExistingPopup)</div>
<div class="line"><a id="l12236" name="l12236"></a><span class="lineno">12236</span>        <span class="keywordflow">if</span> (IsPopupOpen((ImGuiID)0, ImGuiPopupFlags_AnyPopupId))</div>
<div class="line"><a id="l12237" name="l12237"></a><span class="lineno">12237</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l12238" name="l12238"></a><span class="lineno">12238</span> </div>
<div class="line"><a id="l12239" name="l12239"></a><span class="lineno">12239</span>    <a class="code hl_struct" href="structImGuiPopupData.html">ImGuiPopupData</a> popup_ref; <span class="comment">// Tagged as new ref as Window will be set back to NULL if we write this into OpenPopupStack.</span></div>
<div class="line"><a id="l12240" name="l12240"></a><span class="lineno">12240</span>    popup_ref.PopupId = id;</div>
<div class="line"><a id="l12241" name="l12241"></a><span class="lineno">12241</span>    popup_ref.Window = NULL;</div>
<div class="line"><a id="l12242" name="l12242"></a><span class="lineno">12242</span>    popup_ref.RestoreNavWindow = g.NavWindow;           <span class="comment">// When popup closes focus may be restored to NavWindow (depend on window type).</span></div>
<div class="line"><a id="l12243" name="l12243"></a><span class="lineno">12243</span>    popup_ref.OpenFrameCount = g.FrameCount;</div>
<div class="line"><a id="l12244" name="l12244"></a><span class="lineno">12244</span>    popup_ref.OpenParentId = parent_window-&gt;IDStack.back();</div>
<div class="line"><a id="l12245" name="l12245"></a><span class="lineno">12245</span>    popup_ref.OpenPopupPos = NavCalcPreferredRefPos();</div>
<div class="line"><a id="l12246" name="l12246"></a><span class="lineno">12246</span>    popup_ref.OpenMousePos = IsMousePosValid(&amp;g.IO.MousePos) ? g.IO.MousePos : popup_ref.OpenPopupPos;</div>
<div class="line"><a id="l12247" name="l12247"></a><span class="lineno">12247</span> </div>
<div class="line"><a id="l12248" name="l12248"></a><span class="lineno">12248</span>    IMGUI_DEBUG_LOG_POPUP(<span class="stringliteral">&quot;[popup] OpenPopupEx(0x%08X)\n&quot;</span>, <span class="keywordtype">id</span>);</div>
<div class="line"><a id="l12249" name="l12249"></a><span class="lineno">12249</span>    <span class="keywordflow">if</span> (g.OpenPopupStack.Size &lt; current_stack_size + 1)</div>
<div class="line"><a id="l12250" name="l12250"></a><span class="lineno">12250</span>    {</div>
<div class="line"><a id="l12251" name="l12251"></a><span class="lineno">12251</span>        g.OpenPopupStack.push_back(popup_ref);</div>
<div class="line"><a id="l12252" name="l12252"></a><span class="lineno">12252</span>    }</div>
<div class="line"><a id="l12253" name="l12253"></a><span class="lineno">12253</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l12254" name="l12254"></a><span class="lineno">12254</span>    {</div>
<div class="line"><a id="l12255" name="l12255"></a><span class="lineno">12255</span>        <span class="comment">// Gently handle the user mistakenly calling OpenPopup() every frames: it is likely a programming mistake!</span></div>
<div class="line"><a id="l12256" name="l12256"></a><span class="lineno">12256</span>        <span class="comment">// However, if we were to run the regular code path, the ui would become completely unusable because the popup will always be</span></div>
<div class="line"><a id="l12257" name="l12257"></a><span class="lineno">12257</span>        <span class="comment">// in hidden-while-calculating-size state _while_ claiming focus. Which is extremely confusing situation for the programmer.</span></div>
<div class="line"><a id="l12258" name="l12258"></a><span class="lineno">12258</span>        <span class="comment">// Instead, for successive frames calls to OpenPopup(), we silently avoid reopening even if ImGuiPopupFlags_NoReopen is not specified.</span></div>
<div class="line"><a id="l12259" name="l12259"></a><span class="lineno">12259</span>        <span class="keywordtype">bool</span> keep_existing = <span class="keyword">false</span>;</div>
<div class="line"><a id="l12260" name="l12260"></a><span class="lineno">12260</span>        <span class="keywordflow">if</span> (g.OpenPopupStack[current_stack_size].PopupId == <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l12261" name="l12261"></a><span class="lineno">12261</span>            <span class="keywordflow">if</span> ((g.OpenPopupStack[current_stack_size].OpenFrameCount == g.FrameCount - 1) || (popup_flags &amp; ImGuiPopupFlags_NoReopen))</div>
<div class="line"><a id="l12262" name="l12262"></a><span class="lineno">12262</span>                keep_existing = <span class="keyword">true</span>;</div>
<div class="line"><a id="l12263" name="l12263"></a><span class="lineno">12263</span>        <span class="keywordflow">if</span> (keep_existing)</div>
<div class="line"><a id="l12264" name="l12264"></a><span class="lineno">12264</span>        {</div>
<div class="line"><a id="l12265" name="l12265"></a><span class="lineno">12265</span>            <span class="comment">// No reopen</span></div>
<div class="line"><a id="l12266" name="l12266"></a><span class="lineno">12266</span>            g.OpenPopupStack[current_stack_size].OpenFrameCount = popup_ref.OpenFrameCount;</div>
<div class="line"><a id="l12267" name="l12267"></a><span class="lineno">12267</span>        }</div>
<div class="line"><a id="l12268" name="l12268"></a><span class="lineno">12268</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l12269" name="l12269"></a><span class="lineno">12269</span>        {</div>
<div class="line"><a id="l12270" name="l12270"></a><span class="lineno">12270</span>            <span class="comment">// Reopen: close child popups if any, then flag popup for open/reopen (set position, focus, init navigation)</span></div>
<div class="line"><a id="l12271" name="l12271"></a><span class="lineno">12271</span>            ClosePopupToLevel(current_stack_size, <span class="keyword">true</span>);</div>
<div class="line"><a id="l12272" name="l12272"></a><span class="lineno">12272</span>            g.OpenPopupStack.push_back(popup_ref);</div>
<div class="line"><a id="l12273" name="l12273"></a><span class="lineno">12273</span>        }</div>
<div class="line"><a id="l12274" name="l12274"></a><span class="lineno">12274</span> </div>
<div class="line"><a id="l12275" name="l12275"></a><span class="lineno">12275</span>        <span class="comment">// When reopening a popup we first refocus its parent, otherwise if its parent is itself a popup it would get closed by ClosePopupsOverWindow().</span></div>
<div class="line"><a id="l12276" name="l12276"></a><span class="lineno">12276</span>        <span class="comment">// This is equivalent to what ClosePopupToLevel() does.</span></div>
<div class="line"><a id="l12277" name="l12277"></a><span class="lineno">12277</span>        <span class="comment">//if (g.OpenPopupStack[current_stack_size].PopupId == id)</span></div>
<div class="line"><a id="l12278" name="l12278"></a><span class="lineno">12278</span>        <span class="comment">//    FocusWindow(parent_window);</span></div>
<div class="line"><a id="l12279" name="l12279"></a><span class="lineno">12279</span>    }</div>
<div class="line"><a id="l12280" name="l12280"></a><span class="lineno">12280</span>}</div>
<div class="line"><a id="l12281" name="l12281"></a><span class="lineno">12281</span> </div>
<div class="line"><a id="l12282" name="l12282"></a><span class="lineno">12282</span><span class="comment">// When popups are stacked, clicking on a lower level popups puts focus back to it and close popups above it.</span></div>
<div class="line"><a id="l12283" name="l12283"></a><span class="lineno">12283</span><span class="comment">// This function closes any popups that are over &#39;ref_window&#39;.</span></div>
<div class="line"><a id="l12284" name="l12284"></a><span class="lineno">12284</span><span class="keywordtype">void</span> ImGui::ClosePopupsOverWindow(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* ref_window, <span class="keywordtype">bool</span> restore_focus_to_window_under_popup)</div>
<div class="line"><a id="l12285" name="l12285"></a><span class="lineno">12285</span>{</div>
<div class="line"><a id="l12286" name="l12286"></a><span class="lineno">12286</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12287" name="l12287"></a><span class="lineno">12287</span>    <span class="keywordflow">if</span> (g.OpenPopupStack.Size == 0)</div>
<div class="line"><a id="l12288" name="l12288"></a><span class="lineno">12288</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l12289" name="l12289"></a><span class="lineno">12289</span> </div>
<div class="line"><a id="l12290" name="l12290"></a><span class="lineno">12290</span>    <span class="comment">// Don&#39;t close our own child popup windows.</span></div>
<div class="line"><a id="l12291" name="l12291"></a><span class="lineno">12291</span>    <span class="comment">//IMGUI_DEBUG_LOG_POPUP(&quot;[popup] ClosePopupsOverWindow(\&quot;%s\&quot;) restore_under=%d\n&quot;, ref_window ? ref_window-&gt;Name : &quot;&lt;NULL&gt;&quot;, restore_focus_to_window_under_popup);</span></div>
<div class="line"><a id="l12292" name="l12292"></a><span class="lineno">12292</span>    <span class="keywordtype">int</span> popup_count_to_keep = 0;</div>
<div class="line"><a id="l12293" name="l12293"></a><span class="lineno">12293</span>    <span class="keywordflow">if</span> (ref_window)</div>
<div class="line"><a id="l12294" name="l12294"></a><span class="lineno">12294</span>    {</div>
<div class="line"><a id="l12295" name="l12295"></a><span class="lineno">12295</span>        <span class="comment">// Find the highest popup which is a descendant of the reference window (generally reference window = NavWindow)</span></div>
<div class="line"><a id="l12296" name="l12296"></a><span class="lineno">12296</span>        <span class="keywordflow">for</span> (; popup_count_to_keep &lt; g.OpenPopupStack.Size; popup_count_to_keep++)</div>
<div class="line"><a id="l12297" name="l12297"></a><span class="lineno">12297</span>        {</div>
<div class="line"><a id="l12298" name="l12298"></a><span class="lineno">12298</span>            <a class="code hl_struct" href="structImGuiPopupData.html">ImGuiPopupData</a>&amp; popup = g.OpenPopupStack[popup_count_to_keep];</div>
<div class="line"><a id="l12299" name="l12299"></a><span class="lineno">12299</span>            <span class="keywordflow">if</span> (!popup.Window)</div>
<div class="line"><a id="l12300" name="l12300"></a><span class="lineno">12300</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l12301" name="l12301"></a><span class="lineno">12301</span>            IM_ASSERT((popup.Window-&gt;Flags &amp; ImGuiWindowFlags_Popup) != 0);</div>
<div class="line"><a id="l12302" name="l12302"></a><span class="lineno">12302</span> </div>
<div class="line"><a id="l12303" name="l12303"></a><span class="lineno">12303</span>            <span class="comment">// Trim the stack unless the popup is a direct parent of the reference window (the reference window is often the NavWindow)</span></div>
<div class="line"><a id="l12304" name="l12304"></a><span class="lineno">12304</span>            <span class="comment">// - Clicking/Focusing Window2 won&#39;t close Popup1:</span></div>
<div class="line"><a id="l12305" name="l12305"></a><span class="lineno">12305</span>            <span class="comment">//     Window -&gt; Popup1 -&gt; Window2(Ref)</span></div>
<div class="line"><a id="l12306" name="l12306"></a><span class="lineno">12306</span>            <span class="comment">// - Clicking/focusing Popup1 will close Popup2 and Popup3:</span></div>
<div class="line"><a id="l12307" name="l12307"></a><span class="lineno">12307</span>            <span class="comment">//     Window -&gt; Popup1(Ref) -&gt; Popup2 -&gt; Popup3</span></div>
<div class="line"><a id="l12308" name="l12308"></a><span class="lineno">12308</span>            <span class="comment">// - Each popups may contain child windows, which is why we compare -&gt;RootWindowDockTree!</span></div>
<div class="line"><a id="l12309" name="l12309"></a><span class="lineno">12309</span>            <span class="comment">//     Window -&gt; Popup1 -&gt; Popup1_Child -&gt; Popup2 -&gt; Popup2_Child</span></div>
<div class="line"><a id="l12310" name="l12310"></a><span class="lineno">12310</span>            <span class="comment">// We step through every popup from bottom to top to validate their position relative to reference window.</span></div>
<div class="line"><a id="l12311" name="l12311"></a><span class="lineno">12311</span>            <span class="keywordtype">bool</span> ref_window_is_descendent_of_popup = <span class="keyword">false</span>;</div>
<div class="line"><a id="l12312" name="l12312"></a><span class="lineno">12312</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = popup_count_to_keep; n &lt; g.OpenPopupStack.Size; n++)</div>
<div class="line"><a id="l12313" name="l12313"></a><span class="lineno">12313</span>                <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* popup_window = g.OpenPopupStack[n].Window)</div>
<div class="line"><a id="l12314" name="l12314"></a><span class="lineno">12314</span>                    <span class="comment">//if (popup_window-&gt;RootWindowDockTree == ref_window-&gt;RootWindowDockTree) // FIXME-MERGE</span></div>
<div class="line"><a id="l12315" name="l12315"></a><span class="lineno">12315</span>                    <span class="keywordflow">if</span> (IsWindowWithinBeginStackOf(ref_window, popup_window))</div>
<div class="line"><a id="l12316" name="l12316"></a><span class="lineno">12316</span>                    {</div>
<div class="line"><a id="l12317" name="l12317"></a><span class="lineno">12317</span>                        ref_window_is_descendent_of_popup = <span class="keyword">true</span>;</div>
<div class="line"><a id="l12318" name="l12318"></a><span class="lineno">12318</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l12319" name="l12319"></a><span class="lineno">12319</span>                    }</div>
<div class="line"><a id="l12320" name="l12320"></a><span class="lineno">12320</span>            <span class="keywordflow">if</span> (!ref_window_is_descendent_of_popup)</div>
<div class="line"><a id="l12321" name="l12321"></a><span class="lineno">12321</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l12322" name="l12322"></a><span class="lineno">12322</span>        }</div>
<div class="line"><a id="l12323" name="l12323"></a><span class="lineno">12323</span>    }</div>
<div class="line"><a id="l12324" name="l12324"></a><span class="lineno">12324</span>    <span class="keywordflow">if</span> (popup_count_to_keep &lt; g.OpenPopupStack.Size) <span class="comment">// This test is not required but it allows to set a convenient breakpoint on the statement below</span></div>
<div class="line"><a id="l12325" name="l12325"></a><span class="lineno">12325</span>    {</div>
<div class="line"><a id="l12326" name="l12326"></a><span class="lineno">12326</span>        IMGUI_DEBUG_LOG_POPUP(<span class="stringliteral">&quot;[popup] ClosePopupsOverWindow(\&quot;%s\&quot;)\n&quot;</span>, ref_window ? ref_window-&gt;Name : <span class="stringliteral">&quot;&lt;NULL&gt;&quot;</span>);</div>
<div class="line"><a id="l12327" name="l12327"></a><span class="lineno">12327</span>        ClosePopupToLevel(popup_count_to_keep, restore_focus_to_window_under_popup);</div>
<div class="line"><a id="l12328" name="l12328"></a><span class="lineno">12328</span>    }</div>
<div class="line"><a id="l12329" name="l12329"></a><span class="lineno">12329</span>}</div>
<div class="line"><a id="l12330" name="l12330"></a><span class="lineno">12330</span> </div>
<div class="line"><a id="l12331" name="l12331"></a><span class="lineno">12331</span><span class="keywordtype">void</span> ImGui::ClosePopupsExceptModals()</div>
<div class="line"><a id="l12332" name="l12332"></a><span class="lineno">12332</span>{</div>
<div class="line"><a id="l12333" name="l12333"></a><span class="lineno">12333</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12334" name="l12334"></a><span class="lineno">12334</span> </div>
<div class="line"><a id="l12335" name="l12335"></a><span class="lineno">12335</span>    <span class="keywordtype">int</span> popup_count_to_keep;</div>
<div class="line"><a id="l12336" name="l12336"></a><span class="lineno">12336</span>    <span class="keywordflow">for</span> (popup_count_to_keep = g.OpenPopupStack.Size; popup_count_to_keep &gt; 0; popup_count_to_keep--)</div>
<div class="line"><a id="l12337" name="l12337"></a><span class="lineno">12337</span>    {</div>
<div class="line"><a id="l12338" name="l12338"></a><span class="lineno">12338</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.OpenPopupStack[popup_count_to_keep - 1].Window;</div>
<div class="line"><a id="l12339" name="l12339"></a><span class="lineno">12339</span>        <span class="keywordflow">if</span> (!window || (window-&gt;Flags &amp; ImGuiWindowFlags_Modal))</div>
<div class="line"><a id="l12340" name="l12340"></a><span class="lineno">12340</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l12341" name="l12341"></a><span class="lineno">12341</span>    }</div>
<div class="line"><a id="l12342" name="l12342"></a><span class="lineno">12342</span>    <span class="keywordflow">if</span> (popup_count_to_keep &lt; g.OpenPopupStack.Size) <span class="comment">// This test is not required but it allows to set a convenient breakpoint on the statement below</span></div>
<div class="line"><a id="l12343" name="l12343"></a><span class="lineno">12343</span>        ClosePopupToLevel(popup_count_to_keep, <span class="keyword">true</span>);</div>
<div class="line"><a id="l12344" name="l12344"></a><span class="lineno">12344</span>}</div>
<div class="line"><a id="l12345" name="l12345"></a><span class="lineno">12345</span> </div>
<div class="line"><a id="l12346" name="l12346"></a><span class="lineno">12346</span><span class="keywordtype">void</span> ImGui::ClosePopupToLevel(<span class="keywordtype">int</span> remaining, <span class="keywordtype">bool</span> restore_focus_to_window_under_popup)</div>
<div class="line"><a id="l12347" name="l12347"></a><span class="lineno">12347</span>{</div>
<div class="line"><a id="l12348" name="l12348"></a><span class="lineno">12348</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12349" name="l12349"></a><span class="lineno">12349</span>    IMGUI_DEBUG_LOG_POPUP(<span class="stringliteral">&quot;[popup] ClosePopupToLevel(%d), restore_under=%d\n&quot;</span>, remaining, restore_focus_to_window_under_popup);</div>
<div class="line"><a id="l12350" name="l12350"></a><span class="lineno">12350</span>    IM_ASSERT(remaining &gt;= 0 &amp;&amp; remaining &lt; g.OpenPopupStack.Size);</div>
<div class="line"><a id="l12351" name="l12351"></a><span class="lineno">12351</span>    <span class="keywordflow">if</span> (g.DebugLogFlags &amp; ImGuiDebugLogFlags_EventPopup)</div>
<div class="line"><a id="l12352" name="l12352"></a><span class="lineno">12352</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = remaining; n &lt; g.OpenPopupStack.Size; n++)</div>
<div class="line"><a id="l12353" name="l12353"></a><span class="lineno">12353</span>            IMGUI_DEBUG_LOG_POPUP(<span class="stringliteral">&quot;[popup] - Closing PopupID 0x%08X Window \&quot;%s\&quot;\n&quot;</span>, g.OpenPopupStack[n].PopupId, g.OpenPopupStack[n].Window ? g.OpenPopupStack[n].Window-&gt;Name : NULL);</div>
<div class="line"><a id="l12354" name="l12354"></a><span class="lineno">12354</span> </div>
<div class="line"><a id="l12355" name="l12355"></a><span class="lineno">12355</span>    <span class="comment">// Trim open popup stack</span></div>
<div class="line"><a id="l12356" name="l12356"></a><span class="lineno">12356</span>    <a class="code hl_struct" href="structImGuiPopupData.html">ImGuiPopupData</a> prev_popup = g.OpenPopupStack[remaining];</div>
<div class="line"><a id="l12357" name="l12357"></a><span class="lineno">12357</span>    g.OpenPopupStack.resize(remaining);</div>
<div class="line"><a id="l12358" name="l12358"></a><span class="lineno">12358</span> </div>
<div class="line"><a id="l12359" name="l12359"></a><span class="lineno">12359</span>    <span class="comment">// Restore focus (unless popup window was not yet submitted, and didn&#39;t have a chance to take focus anyhow. See #7325 for an edge case)</span></div>
<div class="line"><a id="l12360" name="l12360"></a><span class="lineno">12360</span>    <span class="keywordflow">if</span> (restore_focus_to_window_under_popup &amp;&amp; prev_popup.Window)</div>
<div class="line"><a id="l12361" name="l12361"></a><span class="lineno">12361</span>    {</div>
<div class="line"><a id="l12362" name="l12362"></a><span class="lineno">12362</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* popup_window = prev_popup.Window;</div>
<div class="line"><a id="l12363" name="l12363"></a><span class="lineno">12363</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* focus_window = (popup_window-&gt;Flags &amp; ImGuiWindowFlags_ChildMenu) ? popup_window-&gt;ParentWindow : prev_popup.RestoreNavWindow;</div>
<div class="line"><a id="l12364" name="l12364"></a><span class="lineno">12364</span>        <span class="keywordflow">if</span> (focus_window &amp;&amp; !focus_window-&gt;WasActive)</div>
<div class="line"><a id="l12365" name="l12365"></a><span class="lineno">12365</span>            FocusTopMostWindowUnderOne(popup_window, NULL, NULL, ImGuiFocusRequestFlags_RestoreFocusedChild); <span class="comment">// Fallback</span></div>
<div class="line"><a id="l12366" name="l12366"></a><span class="lineno">12366</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l12367" name="l12367"></a><span class="lineno">12367</span>            FocusWindow(focus_window, (g.NavLayer == ImGuiNavLayer_Main) ? ImGuiFocusRequestFlags_RestoreFocusedChild : ImGuiFocusRequestFlags_None);</div>
<div class="line"><a id="l12368" name="l12368"></a><span class="lineno">12368</span>    }</div>
<div class="line"><a id="l12369" name="l12369"></a><span class="lineno">12369</span>}</div>
<div class="line"><a id="l12370" name="l12370"></a><span class="lineno">12370</span> </div>
<div class="line"><a id="l12371" name="l12371"></a><span class="lineno">12371</span><span class="comment">// Close the popup we have begin-ed into.</span></div>
<div class="line"><a id="l12372" name="l12372"></a><span class="lineno">12372</span><span class="keywordtype">void</span> ImGui::CloseCurrentPopup()</div>
<div class="line"><a id="l12373" name="l12373"></a><span class="lineno">12373</span>{</div>
<div class="line"><a id="l12374" name="l12374"></a><span class="lineno">12374</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12375" name="l12375"></a><span class="lineno">12375</span>    <span class="keywordtype">int</span> popup_idx = g.BeginPopupStack.Size - 1;</div>
<div class="line"><a id="l12376" name="l12376"></a><span class="lineno">12376</span>    <span class="keywordflow">if</span> (popup_idx &lt; 0 || popup_idx &gt;= g.OpenPopupStack.Size || g.BeginPopupStack[popup_idx].PopupId != g.OpenPopupStack[popup_idx].PopupId)</div>
<div class="line"><a id="l12377" name="l12377"></a><span class="lineno">12377</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l12378" name="l12378"></a><span class="lineno">12378</span> </div>
<div class="line"><a id="l12379" name="l12379"></a><span class="lineno">12379</span>    <span class="comment">// Closing a menu closes its top-most parent popup (unless a modal)</span></div>
<div class="line"><a id="l12380" name="l12380"></a><span class="lineno">12380</span>    <span class="keywordflow">while</span> (popup_idx &gt; 0)</div>
<div class="line"><a id="l12381" name="l12381"></a><span class="lineno">12381</span>    {</div>
<div class="line"><a id="l12382" name="l12382"></a><span class="lineno">12382</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* popup_window = g.OpenPopupStack[popup_idx].Window;</div>
<div class="line"><a id="l12383" name="l12383"></a><span class="lineno">12383</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* parent_popup_window = g.OpenPopupStack[popup_idx - 1].Window;</div>
<div class="line"><a id="l12384" name="l12384"></a><span class="lineno">12384</span>        <span class="keywordtype">bool</span> close_parent = <span class="keyword">false</span>;</div>
<div class="line"><a id="l12385" name="l12385"></a><span class="lineno">12385</span>        <span class="keywordflow">if</span> (popup_window &amp;&amp; (popup_window-&gt;Flags &amp; ImGuiWindowFlags_ChildMenu))</div>
<div class="line"><a id="l12386" name="l12386"></a><span class="lineno">12386</span>            <span class="keywordflow">if</span> (parent_popup_window &amp;&amp; !(parent_popup_window-&gt;Flags &amp; ImGuiWindowFlags_MenuBar))</div>
<div class="line"><a id="l12387" name="l12387"></a><span class="lineno">12387</span>                close_parent = <span class="keyword">true</span>;</div>
<div class="line"><a id="l12388" name="l12388"></a><span class="lineno">12388</span>        <span class="keywordflow">if</span> (!close_parent)</div>
<div class="line"><a id="l12389" name="l12389"></a><span class="lineno">12389</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l12390" name="l12390"></a><span class="lineno">12390</span>        popup_idx--;</div>
<div class="line"><a id="l12391" name="l12391"></a><span class="lineno">12391</span>    }</div>
<div class="line"><a id="l12392" name="l12392"></a><span class="lineno">12392</span>    IMGUI_DEBUG_LOG_POPUP(<span class="stringliteral">&quot;[popup] CloseCurrentPopup %d -&gt; %d\n&quot;</span>, g.BeginPopupStack.Size - 1, popup_idx);</div>
<div class="line"><a id="l12393" name="l12393"></a><span class="lineno">12393</span>    ClosePopupToLevel(popup_idx, <span class="keyword">true</span>);</div>
<div class="line"><a id="l12394" name="l12394"></a><span class="lineno">12394</span> </div>
<div class="line"><a id="l12395" name="l12395"></a><span class="lineno">12395</span>    <span class="comment">// A common pattern is to close a popup when selecting a menu item/selectable that will open another window.</span></div>
<div class="line"><a id="l12396" name="l12396"></a><span class="lineno">12396</span>    <span class="comment">// To improve this usage pattern, we avoid nav highlight for a single frame in the parent window.</span></div>
<div class="line"><a id="l12397" name="l12397"></a><span class="lineno">12397</span>    <span class="comment">// Similarly, we could avoid mouse hover highlight in this window but it is less visually problematic.</span></div>
<div class="line"><a id="l12398" name="l12398"></a><span class="lineno">12398</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.NavWindow)</div>
<div class="line"><a id="l12399" name="l12399"></a><span class="lineno">12399</span>        window-&gt;DC.NavHideHighlightOneFrame = <span class="keyword">true</span>;</div>
<div class="line"><a id="l12400" name="l12400"></a><span class="lineno">12400</span>}</div>
<div class="line"><a id="l12401" name="l12401"></a><span class="lineno">12401</span> </div>
<div class="line"><a id="l12402" name="l12402"></a><span class="lineno">12402</span><span class="comment">// Attention! BeginPopup() adds default flags when calling BeginPopupEx()!</span></div>
<div class="line"><a id="l12403" name="l12403"></a><span class="lineno">12403</span><span class="keywordtype">bool</span> ImGui::BeginPopupEx(ImGuiID <span class="keywordtype">id</span>, ImGuiWindowFlags extra_window_flags)</div>
<div class="line"><a id="l12404" name="l12404"></a><span class="lineno">12404</span>{</div>
<div class="line"><a id="l12405" name="l12405"></a><span class="lineno">12405</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12406" name="l12406"></a><span class="lineno">12406</span>    <span class="keywordflow">if</span> (!IsPopupOpen(<span class="keywordtype">id</span>, ImGuiPopupFlags_None))</div>
<div class="line"><a id="l12407" name="l12407"></a><span class="lineno">12407</span>    {</div>
<div class="line"><a id="l12408" name="l12408"></a><span class="lineno">12408</span>        g.NextWindowData.ClearFlags(); <span class="comment">// We behave like Begin() and need to consume those values</span></div>
<div class="line"><a id="l12409" name="l12409"></a><span class="lineno">12409</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l12410" name="l12410"></a><span class="lineno">12410</span>    }</div>
<div class="line"><a id="l12411" name="l12411"></a><span class="lineno">12411</span> </div>
<div class="line"><a id="l12412" name="l12412"></a><span class="lineno">12412</span>    <span class="keywordtype">char</span> name[20];</div>
<div class="line"><a id="l12413" name="l12413"></a><span class="lineno">12413</span>    IM_ASSERT((extra_window_flags &amp; ImGuiWindowFlags_ChildMenu) == 0); <span class="comment">// Use BeginPopupMenuEx()</span></div>
<div class="line"><a id="l12414" name="l12414"></a><span class="lineno">12414</span>    ImFormatString(name, IM_ARRAYSIZE(name), <span class="stringliteral">&quot;##Popup_%08x&quot;</span>, <span class="keywordtype">id</span>); <span class="comment">// No recycling, so we can close/open during the same frame</span></div>
<div class="line"><a id="l12415" name="l12415"></a><span class="lineno">12415</span> </div>
<div class="line"><a id="l12416" name="l12416"></a><span class="lineno">12416</span>    <span class="keywordtype">bool</span> is_open = Begin(name, NULL, extra_window_flags | ImGuiWindowFlags_Popup | ImGuiWindowFlags_NoDocking);</div>
<div class="line"><a id="l12417" name="l12417"></a><span class="lineno">12417</span>    <span class="keywordflow">if</span> (!is_open) <span class="comment">// NB: Begin can return false when the popup is completely clipped (e.g. zero size display)</span></div>
<div class="line"><a id="l12418" name="l12418"></a><span class="lineno">12418</span>        EndPopup();</div>
<div class="line"><a id="l12419" name="l12419"></a><span class="lineno">12419</span>    <span class="comment">//g.CurrentWindow-&gt;FocusRouteParentWindow = g.CurrentWindow-&gt;ParentWindowInBeginStack;</span></div>
<div class="line"><a id="l12420" name="l12420"></a><span class="lineno">12420</span>    <span class="keywordflow">return</span> is_open;</div>
<div class="line"><a id="l12421" name="l12421"></a><span class="lineno">12421</span>}</div>
<div class="line"><a id="l12422" name="l12422"></a><span class="lineno">12422</span> </div>
<div class="line"><a id="l12423" name="l12423"></a><span class="lineno">12423</span><span class="keywordtype">bool</span> ImGui::BeginPopupMenuEx(ImGuiID <span class="keywordtype">id</span>, <span class="keyword">const</span> <span class="keywordtype">char</span>* label, ImGuiWindowFlags extra_window_flags)</div>
<div class="line"><a id="l12424" name="l12424"></a><span class="lineno">12424</span>{</div>
<div class="line"><a id="l12425" name="l12425"></a><span class="lineno">12425</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12426" name="l12426"></a><span class="lineno">12426</span>    <span class="keywordflow">if</span> (!IsPopupOpen(<span class="keywordtype">id</span>, ImGuiPopupFlags_None))</div>
<div class="line"><a id="l12427" name="l12427"></a><span class="lineno">12427</span>    {</div>
<div class="line"><a id="l12428" name="l12428"></a><span class="lineno">12428</span>        g.NextWindowData.ClearFlags(); <span class="comment">// We behave like Begin() and need to consume those values</span></div>
<div class="line"><a id="l12429" name="l12429"></a><span class="lineno">12429</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l12430" name="l12430"></a><span class="lineno">12430</span>    }</div>
<div class="line"><a id="l12431" name="l12431"></a><span class="lineno">12431</span> </div>
<div class="line"><a id="l12432" name="l12432"></a><span class="lineno">12432</span>    <span class="keywordtype">char</span> name[128];</div>
<div class="line"><a id="l12433" name="l12433"></a><span class="lineno">12433</span>    IM_ASSERT(extra_window_flags &amp; ImGuiWindowFlags_ChildMenu);</div>
<div class="line"><a id="l12434" name="l12434"></a><span class="lineno">12434</span>    ImFormatString(name, IM_ARRAYSIZE(name), <span class="stringliteral">&quot;%s###Menu_%02d&quot;</span>, label, g.BeginMenuDepth); <span class="comment">// Recycle windows based on depth</span></div>
<div class="line"><a id="l12435" name="l12435"></a><span class="lineno">12435</span>    <span class="keywordtype">bool</span> is_open = Begin(name, NULL, extra_window_flags | ImGuiWindowFlags_Popup);</div>
<div class="line"><a id="l12436" name="l12436"></a><span class="lineno">12436</span>    <span class="keywordflow">if</span> (!is_open) <span class="comment">// NB: Begin can return false when the popup is completely clipped (e.g. zero size display)</span></div>
<div class="line"><a id="l12437" name="l12437"></a><span class="lineno">12437</span>        EndPopup();</div>
<div class="line"><a id="l12438" name="l12438"></a><span class="lineno">12438</span>    <span class="comment">//g.CurrentWindow-&gt;FocusRouteParentWindow = g.CurrentWindow-&gt;ParentWindowInBeginStack;</span></div>
<div class="line"><a id="l12439" name="l12439"></a><span class="lineno">12439</span>    <span class="keywordflow">return</span> is_open;</div>
<div class="line"><a id="l12440" name="l12440"></a><span class="lineno">12440</span>}</div>
<div class="line"><a id="l12441" name="l12441"></a><span class="lineno">12441</span> </div>
<div class="line"><a id="l12442" name="l12442"></a><span class="lineno">12442</span><span class="keywordtype">bool</span> ImGui::BeginPopup(<span class="keyword">const</span> <span class="keywordtype">char</span>* str_id, ImGuiWindowFlags flags)</div>
<div class="line"><a id="l12443" name="l12443"></a><span class="lineno">12443</span>{</div>
<div class="line"><a id="l12444" name="l12444"></a><span class="lineno">12444</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12445" name="l12445"></a><span class="lineno">12445</span>    <span class="keywordflow">if</span> (g.OpenPopupStack.Size &lt;= g.BeginPopupStack.Size) <span class="comment">// Early out for performance</span></div>
<div class="line"><a id="l12446" name="l12446"></a><span class="lineno">12446</span>    {</div>
<div class="line"><a id="l12447" name="l12447"></a><span class="lineno">12447</span>        g.NextWindowData.ClearFlags(); <span class="comment">// We behave like Begin() and need to consume those values</span></div>
<div class="line"><a id="l12448" name="l12448"></a><span class="lineno">12448</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l12449" name="l12449"></a><span class="lineno">12449</span>    }</div>
<div class="line"><a id="l12450" name="l12450"></a><span class="lineno">12450</span>    flags |= ImGuiWindowFlags_AlwaysAutoResize | ImGuiWindowFlags_NoTitleBar | ImGuiWindowFlags_NoSavedSettings;</div>
<div class="line"><a id="l12451" name="l12451"></a><span class="lineno">12451</span>    ImGuiID <span class="keywordtype">id</span> = g.CurrentWindow-&gt;GetID(str_id);</div>
<div class="line"><a id="l12452" name="l12452"></a><span class="lineno">12452</span>    <span class="keywordflow">return</span> BeginPopupEx(<span class="keywordtype">id</span>, flags);</div>
<div class="line"><a id="l12453" name="l12453"></a><span class="lineno">12453</span>}</div>
<div class="line"><a id="l12454" name="l12454"></a><span class="lineno">12454</span> </div>
<div class="line"><a id="l12455" name="l12455"></a><span class="lineno">12455</span><span class="comment">// If &#39;p_open&#39; is specified for a modal popup window, the popup will have a regular close button which will close the popup.</span></div>
<div class="line"><a id="l12456" name="l12456"></a><span class="lineno">12456</span><span class="comment">// Note that popup visibility status is owned by Dear ImGui (and manipulated with e.g. OpenPopup).</span></div>
<div class="line"><a id="l12457" name="l12457"></a><span class="lineno">12457</span><span class="comment">// - *p_open set back to false in BeginPopupModal() when popup is not open.</span></div>
<div class="line"><a id="l12458" name="l12458"></a><span class="lineno">12458</span><span class="comment">// - if you set *p_open to false before calling BeginPopupModal(), it will close the popup.</span></div>
<div class="line"><a id="l12459" name="l12459"></a><span class="lineno">12459</span><span class="keywordtype">bool</span> ImGui::BeginPopupModal(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keywordtype">bool</span>* p_open, ImGuiWindowFlags flags)</div>
<div class="line"><a id="l12460" name="l12460"></a><span class="lineno">12460</span>{</div>
<div class="line"><a id="l12461" name="l12461"></a><span class="lineno">12461</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12462" name="l12462"></a><span class="lineno">12462</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l12463" name="l12463"></a><span class="lineno">12463</span>    <span class="keyword">const</span> ImGuiID <span class="keywordtype">id</span> = window-&gt;GetID(name);</div>
<div class="line"><a id="l12464" name="l12464"></a><span class="lineno">12464</span>    <span class="keywordflow">if</span> (!IsPopupOpen(<span class="keywordtype">id</span>, ImGuiPopupFlags_None))</div>
<div class="line"><a id="l12465" name="l12465"></a><span class="lineno">12465</span>    {</div>
<div class="line"><a id="l12466" name="l12466"></a><span class="lineno">12466</span>        g.NextWindowData.ClearFlags(); <span class="comment">// We behave like Begin() and need to consume those values</span></div>
<div class="line"><a id="l12467" name="l12467"></a><span class="lineno">12467</span>        <span class="keywordflow">if</span> (p_open &amp;&amp; *p_open)</div>
<div class="line"><a id="l12468" name="l12468"></a><span class="lineno">12468</span>            *p_open = <span class="keyword">false</span>;</div>
<div class="line"><a id="l12469" name="l12469"></a><span class="lineno">12469</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l12470" name="l12470"></a><span class="lineno">12470</span>    }</div>
<div class="line"><a id="l12471" name="l12471"></a><span class="lineno">12471</span> </div>
<div class="line"><a id="l12472" name="l12472"></a><span class="lineno">12472</span>    <span class="comment">// Center modal windows by default for increased visibility</span></div>
<div class="line"><a id="l12473" name="l12473"></a><span class="lineno">12473</span>    <span class="comment">// (this won&#39;t really last as settings will kick in, and is mostly for backward compatibility. user may do the same themselves)</span></div>
<div class="line"><a id="l12474" name="l12474"></a><span class="lineno">12474</span>    <span class="comment">// FIXME: Should test for (PosCond &amp; window-&gt;SetWindowPosAllowFlags) with the upcoming window.</span></div>
<div class="line"><a id="l12475" name="l12475"></a><span class="lineno">12475</span>    <span class="keywordflow">if</span> ((g.NextWindowData.HasFlags &amp; ImGuiNextWindowDataFlags_HasPos) == 0)</div>
<div class="line"><a id="l12476" name="l12476"></a><span class="lineno">12476</span>    {</div>
<div class="line"><a id="l12477" name="l12477"></a><span class="lineno">12477</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiViewport.html">ImGuiViewport</a>* viewport = window-&gt;WasActive ? window-&gt;Viewport : GetMainViewport(); <span class="comment">// FIXME-VIEWPORT: What may be our reference viewport?</span></div>
<div class="line"><a id="l12478" name="l12478"></a><span class="lineno">12478</span>        SetNextWindowPos(viewport-&gt;GetCenter(), ImGuiCond_FirstUseEver, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.5f, 0.5f));</div>
<div class="line"><a id="l12479" name="l12479"></a><span class="lineno">12479</span>    }</div>
<div class="line"><a id="l12480" name="l12480"></a><span class="lineno">12480</span> </div>
<div class="line"><a id="l12481" name="l12481"></a><span class="lineno">12481</span>    flags |= ImGuiWindowFlags_Popup | ImGuiWindowFlags_Modal | ImGuiWindowFlags_NoCollapse | ImGuiWindowFlags_NoDocking;</div>
<div class="line"><a id="l12482" name="l12482"></a><span class="lineno">12482</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_open = Begin(name, p_open, flags);</div>
<div class="line"><a id="l12483" name="l12483"></a><span class="lineno">12483</span>    <span class="keywordflow">if</span> (!is_open || (p_open &amp;&amp; !*p_open)) <span class="comment">// NB: is_open can be &#39;false&#39; when the popup is completely clipped (e.g. zero size display)</span></div>
<div class="line"><a id="l12484" name="l12484"></a><span class="lineno">12484</span>    {</div>
<div class="line"><a id="l12485" name="l12485"></a><span class="lineno">12485</span>        EndPopup();</div>
<div class="line"><a id="l12486" name="l12486"></a><span class="lineno">12486</span>        <span class="keywordflow">if</span> (is_open)</div>
<div class="line"><a id="l12487" name="l12487"></a><span class="lineno">12487</span>            ClosePopupToLevel(g.BeginPopupStack.Size, <span class="keyword">true</span>);</div>
<div class="line"><a id="l12488" name="l12488"></a><span class="lineno">12488</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l12489" name="l12489"></a><span class="lineno">12489</span>    }</div>
<div class="line"><a id="l12490" name="l12490"></a><span class="lineno">12490</span>    <span class="keywordflow">return</span> is_open;</div>
<div class="line"><a id="l12491" name="l12491"></a><span class="lineno">12491</span>}</div>
<div class="line"><a id="l12492" name="l12492"></a><span class="lineno">12492</span> </div>
<div class="line"><a id="l12493" name="l12493"></a><span class="lineno">12493</span><span class="keywordtype">void</span> ImGui::EndPopup()</div>
<div class="line"><a id="l12494" name="l12494"></a><span class="lineno">12494</span>{</div>
<div class="line"><a id="l12495" name="l12495"></a><span class="lineno">12495</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12496" name="l12496"></a><span class="lineno">12496</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l12497" name="l12497"></a><span class="lineno">12497</span>    <span class="keywordflow">if</span> ((window-&gt;Flags &amp; ImGuiWindowFlags_Popup) == 0 || g.BeginPopupStack.Size == 0)</div>
<div class="line"><a id="l12498" name="l12498"></a><span class="lineno">12498</span>    {</div>
<div class="line"><a id="l12499" name="l12499"></a><span class="lineno">12499</span>        IM_ASSERT_USER_ERROR(0, <span class="stringliteral">&quot;Calling EndPopup() too many times or in wrong window!&quot;</span>);</div>
<div class="line"><a id="l12500" name="l12500"></a><span class="lineno">12500</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l12501" name="l12501"></a><span class="lineno">12501</span>    }</div>
<div class="line"><a id="l12502" name="l12502"></a><span class="lineno">12502</span> </div>
<div class="line"><a id="l12503" name="l12503"></a><span class="lineno">12503</span>    <span class="comment">// Make all menus and popups wrap around for now, may need to expose that policy (e.g. focus scope could include wrap/loop policy flags used by new move requests)</span></div>
<div class="line"><a id="l12504" name="l12504"></a><span class="lineno">12504</span>    <span class="keywordflow">if</span> (g.NavWindow == window)</div>
<div class="line"><a id="l12505" name="l12505"></a><span class="lineno">12505</span>        NavMoveRequestTryWrapping(window, ImGuiNavMoveFlags_LoopY);</div>
<div class="line"><a id="l12506" name="l12506"></a><span class="lineno">12506</span> </div>
<div class="line"><a id="l12507" name="l12507"></a><span class="lineno">12507</span>    <span class="comment">// Child-popups don&#39;t need to be laid out</span></div>
<div class="line"><a id="l12508" name="l12508"></a><span class="lineno">12508</span>    <span class="keyword">const</span> ImGuiID backup_within_end_child_id = g.WithinEndChildID;</div>
<div class="line"><a id="l12509" name="l12509"></a><span class="lineno">12509</span>    <span class="keywordflow">if</span> (window-&gt;Flags &amp; ImGuiWindowFlags_ChildWindow)</div>
<div class="line"><a id="l12510" name="l12510"></a><span class="lineno">12510</span>        g.WithinEndChildID = window-&gt;ID;</div>
<div class="line"><a id="l12511" name="l12511"></a><span class="lineno">12511</span>    End();</div>
<div class="line"><a id="l12512" name="l12512"></a><span class="lineno">12512</span>    g.WithinEndChildID = backup_within_end_child_id;</div>
<div class="line"><a id="l12513" name="l12513"></a><span class="lineno">12513</span>}</div>
<div class="line"><a id="l12514" name="l12514"></a><span class="lineno">12514</span> </div>
<div class="line"><a id="l12515" name="l12515"></a><span class="lineno">12515</span><span class="comment">// Helper to open a popup if mouse button is released over the item</span></div>
<div class="line"><a id="l12516" name="l12516"></a><span class="lineno">12516</span><span class="comment">// - This is essentially the same as BeginPopupContextItem() but without the trailing BeginPopup()</span></div>
<div class="line"><a id="l12517" name="l12517"></a><span class="lineno">12517</span><span class="keywordtype">void</span> ImGui::OpenPopupOnItemClick(<span class="keyword">const</span> <span class="keywordtype">char</span>* str_id, ImGuiPopupFlags popup_flags)</div>
<div class="line"><a id="l12518" name="l12518"></a><span class="lineno">12518</span>{</div>
<div class="line"><a id="l12519" name="l12519"></a><span class="lineno">12519</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12520" name="l12520"></a><span class="lineno">12520</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l12521" name="l12521"></a><span class="lineno">12521</span>    <span class="keywordtype">int</span> mouse_button = (popup_flags &amp; ImGuiPopupFlags_MouseButtonMask_);</div>
<div class="line"><a id="l12522" name="l12522"></a><span class="lineno">12522</span>    <span class="keywordflow">if</span> (IsMouseReleased(mouse_button) &amp;&amp; IsItemHovered(ImGuiHoveredFlags_AllowWhenBlockedByPopup))</div>
<div class="line"><a id="l12523" name="l12523"></a><span class="lineno">12523</span>    {</div>
<div class="line"><a id="l12524" name="l12524"></a><span class="lineno">12524</span>        ImGuiID <span class="keywordtype">id</span> = str_id ? window-&gt;GetID(str_id) : g.LastItemData.ID;    <span class="comment">// If user hasn&#39;t passed an ID, we can use the LastItemID. Using LastItemID as a Popup ID won&#39;t conflict!</span></div>
<div class="line"><a id="l12525" name="l12525"></a><span class="lineno">12525</span>        IM_ASSERT(<span class="keywordtype">id</span> != 0);                                             <span class="comment">// You cannot pass a NULL str_id if the last item has no identifier (e.g. a Text() item)</span></div>
<div class="line"><a id="l12526" name="l12526"></a><span class="lineno">12526</span>        OpenPopupEx(<span class="keywordtype">id</span>, popup_flags);</div>
<div class="line"><a id="l12527" name="l12527"></a><span class="lineno">12527</span>    }</div>
<div class="line"><a id="l12528" name="l12528"></a><span class="lineno">12528</span>}</div>
<div class="line"><a id="l12529" name="l12529"></a><span class="lineno">12529</span> </div>
<div class="line"><a id="l12530" name="l12530"></a><span class="lineno">12530</span><span class="comment">// This is a helper to handle the simplest case of associating one named popup to one given widget.</span></div>
<div class="line"><a id="l12531" name="l12531"></a><span class="lineno">12531</span><span class="comment">// - To create a popup associated to the last item, you generally want to pass a NULL value to str_id.</span></div>
<div class="line"><a id="l12532" name="l12532"></a><span class="lineno">12532</span><span class="comment">// - To create a popup with a specific identifier, pass it in str_id.</span></div>
<div class="line"><a id="l12533" name="l12533"></a><span class="lineno">12533</span><span class="comment">//    - This is useful when using using BeginPopupContextItem() on an item which doesn&#39;t have an identifier, e.g. a Text() call.</span></div>
<div class="line"><a id="l12534" name="l12534"></a><span class="lineno">12534</span><span class="comment">//    - This is useful when multiple code locations may want to manipulate/open the same popup, given an explicit id.</span></div>
<div class="line"><a id="l12535" name="l12535"></a><span class="lineno">12535</span><span class="comment">// - You may want to handle the whole on user side if you have specific needs (e.g. tweaking IsItemHovered() parameters).</span></div>
<div class="line"><a id="l12536" name="l12536"></a><span class="lineno">12536</span><span class="comment">//   This is essentially the same as:</span></div>
<div class="line"><a id="l12537" name="l12537"></a><span class="lineno">12537</span><span class="comment">//       id = str_id ? GetID(str_id) : GetItemID();</span></div>
<div class="line"><a id="l12538" name="l12538"></a><span class="lineno">12538</span><span class="comment">//       OpenPopupOnItemClick(str_id, ImGuiPopupFlags_MouseButtonRight);</span></div>
<div class="line"><a id="l12539" name="l12539"></a><span class="lineno">12539</span><span class="comment">//       return BeginPopup(id);</span></div>
<div class="line"><a id="l12540" name="l12540"></a><span class="lineno">12540</span><span class="comment">//   Which is essentially the same as:</span></div>
<div class="line"><a id="l12541" name="l12541"></a><span class="lineno">12541</span><span class="comment">//       id = str_id ? GetID(str_id) : GetItemID();</span></div>
<div class="line"><a id="l12542" name="l12542"></a><span class="lineno">12542</span><span class="comment">//       if (IsItemHovered() &amp;&amp; IsMouseReleased(ImGuiMouseButton_Right))</span></div>
<div class="line"><a id="l12543" name="l12543"></a><span class="lineno">12543</span><span class="comment">//           OpenPopup(id);</span></div>
<div class="line"><a id="l12544" name="l12544"></a><span class="lineno">12544</span><span class="comment">//       return BeginPopup(id);</span></div>
<div class="line"><a id="l12545" name="l12545"></a><span class="lineno">12545</span><span class="comment">//   The main difference being that this is tweaked to avoid computing the ID twice.</span></div>
<div class="line"><a id="l12546" name="l12546"></a><span class="lineno">12546</span><span class="keywordtype">bool</span> ImGui::BeginPopupContextItem(<span class="keyword">const</span> <span class="keywordtype">char</span>* str_id, ImGuiPopupFlags popup_flags)</div>
<div class="line"><a id="l12547" name="l12547"></a><span class="lineno">12547</span>{</div>
<div class="line"><a id="l12548" name="l12548"></a><span class="lineno">12548</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12549" name="l12549"></a><span class="lineno">12549</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l12550" name="l12550"></a><span class="lineno">12550</span>    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a id="l12551" name="l12551"></a><span class="lineno">12551</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l12552" name="l12552"></a><span class="lineno">12552</span>    ImGuiID <span class="keywordtype">id</span> = str_id ? window-&gt;GetID(str_id) : g.LastItemData.ID;    <span class="comment">// If user hasn&#39;t passed an ID, we can use the LastItemID. Using LastItemID as a Popup ID won&#39;t conflict!</span></div>
<div class="line"><a id="l12553" name="l12553"></a><span class="lineno">12553</span>    IM_ASSERT(<span class="keywordtype">id</span> != 0);                                             <span class="comment">// You cannot pass a NULL str_id if the last item has no identifier (e.g. a Text() item)</span></div>
<div class="line"><a id="l12554" name="l12554"></a><span class="lineno">12554</span>    <span class="keywordtype">int</span> mouse_button = (popup_flags &amp; ImGuiPopupFlags_MouseButtonMask_);</div>
<div class="line"><a id="l12555" name="l12555"></a><span class="lineno">12555</span>    <span class="keywordflow">if</span> (IsMouseReleased(mouse_button) &amp;&amp; IsItemHovered(ImGuiHoveredFlags_AllowWhenBlockedByPopup))</div>
<div class="line"><a id="l12556" name="l12556"></a><span class="lineno">12556</span>        OpenPopupEx(<span class="keywordtype">id</span>, popup_flags);</div>
<div class="line"><a id="l12557" name="l12557"></a><span class="lineno">12557</span>    <span class="keywordflow">return</span> BeginPopupEx(<span class="keywordtype">id</span>, ImGuiWindowFlags_AlwaysAutoResize | ImGuiWindowFlags_NoTitleBar | ImGuiWindowFlags_NoSavedSettings);</div>
<div class="line"><a id="l12558" name="l12558"></a><span class="lineno">12558</span>}</div>
<div class="line"><a id="l12559" name="l12559"></a><span class="lineno">12559</span> </div>
<div class="line"><a id="l12560" name="l12560"></a><span class="lineno">12560</span><span class="keywordtype">bool</span> ImGui::BeginPopupContextWindow(<span class="keyword">const</span> <span class="keywordtype">char</span>* str_id, ImGuiPopupFlags popup_flags)</div>
<div class="line"><a id="l12561" name="l12561"></a><span class="lineno">12561</span>{</div>
<div class="line"><a id="l12562" name="l12562"></a><span class="lineno">12562</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12563" name="l12563"></a><span class="lineno">12563</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l12564" name="l12564"></a><span class="lineno">12564</span>    <span class="keywordflow">if</span> (!str_id)</div>
<div class="line"><a id="l12565" name="l12565"></a><span class="lineno">12565</span>        str_id = <span class="stringliteral">&quot;window_context&quot;</span>;</div>
<div class="line"><a id="l12566" name="l12566"></a><span class="lineno">12566</span>    ImGuiID <span class="keywordtype">id</span> = window-&gt;GetID(str_id);</div>
<div class="line"><a id="l12567" name="l12567"></a><span class="lineno">12567</span>    <span class="keywordtype">int</span> mouse_button = (popup_flags &amp; ImGuiPopupFlags_MouseButtonMask_);</div>
<div class="line"><a id="l12568" name="l12568"></a><span class="lineno">12568</span>    <span class="keywordflow">if</span> (IsMouseReleased(mouse_button) &amp;&amp; IsWindowHovered(ImGuiHoveredFlags_AllowWhenBlockedByPopup))</div>
<div class="line"><a id="l12569" name="l12569"></a><span class="lineno">12569</span>        <span class="keywordflow">if</span> (!(popup_flags &amp; ImGuiPopupFlags_NoOpenOverItems) || !IsAnyItemHovered())</div>
<div class="line"><a id="l12570" name="l12570"></a><span class="lineno">12570</span>            OpenPopupEx(<span class="keywordtype">id</span>, popup_flags);</div>
<div class="line"><a id="l12571" name="l12571"></a><span class="lineno">12571</span>    <span class="keywordflow">return</span> BeginPopupEx(<span class="keywordtype">id</span>, ImGuiWindowFlags_AlwaysAutoResize | ImGuiWindowFlags_NoTitleBar | ImGuiWindowFlags_NoSavedSettings);</div>
<div class="line"><a id="l12572" name="l12572"></a><span class="lineno">12572</span>}</div>
<div class="line"><a id="l12573" name="l12573"></a><span class="lineno">12573</span> </div>
<div class="line"><a id="l12574" name="l12574"></a><span class="lineno">12574</span><span class="keywordtype">bool</span> ImGui::BeginPopupContextVoid(<span class="keyword">const</span> <span class="keywordtype">char</span>* str_id, ImGuiPopupFlags popup_flags)</div>
<div class="line"><a id="l12575" name="l12575"></a><span class="lineno">12575</span>{</div>
<div class="line"><a id="l12576" name="l12576"></a><span class="lineno">12576</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12577" name="l12577"></a><span class="lineno">12577</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l12578" name="l12578"></a><span class="lineno">12578</span>    <span class="keywordflow">if</span> (!str_id)</div>
<div class="line"><a id="l12579" name="l12579"></a><span class="lineno">12579</span>        str_id = <span class="stringliteral">&quot;void_context&quot;</span>;</div>
<div class="line"><a id="l12580" name="l12580"></a><span class="lineno">12580</span>    ImGuiID <span class="keywordtype">id</span> = window-&gt;GetID(str_id);</div>
<div class="line"><a id="l12581" name="l12581"></a><span class="lineno">12581</span>    <span class="keywordtype">int</span> mouse_button = (popup_flags &amp; ImGuiPopupFlags_MouseButtonMask_);</div>
<div class="line"><a id="l12582" name="l12582"></a><span class="lineno">12582</span>    <span class="keywordflow">if</span> (IsMouseReleased(mouse_button) &amp;&amp; !IsWindowHovered(ImGuiHoveredFlags_AnyWindow))</div>
<div class="line"><a id="l12583" name="l12583"></a><span class="lineno">12583</span>        <span class="keywordflow">if</span> (GetTopMostPopupModal() == NULL)</div>
<div class="line"><a id="l12584" name="l12584"></a><span class="lineno">12584</span>            OpenPopupEx(<span class="keywordtype">id</span>, popup_flags);</div>
<div class="line"><a id="l12585" name="l12585"></a><span class="lineno">12585</span>    <span class="keywordflow">return</span> BeginPopupEx(<span class="keywordtype">id</span>, ImGuiWindowFlags_AlwaysAutoResize | ImGuiWindowFlags_NoTitleBar | ImGuiWindowFlags_NoSavedSettings);</div>
<div class="line"><a id="l12586" name="l12586"></a><span class="lineno">12586</span>}</div>
<div class="line"><a id="l12587" name="l12587"></a><span class="lineno">12587</span> </div>
<div class="line"><a id="l12588" name="l12588"></a><span class="lineno">12588</span><span class="comment">// r_avoid = the rectangle to avoid (e.g. for tooltip it is a rectangle around the mouse cursor which we want to avoid. for popups it&#39;s a small point around the cursor.)</span></div>
<div class="line"><a id="l12589" name="l12589"></a><span class="lineno">12589</span><span class="comment">// r_outer = the visible area rectangle, minus safe area padding. If our popup size won&#39;t fit because of safe area padding we ignore it.</span></div>
<div class="line"><a id="l12590" name="l12590"></a><span class="lineno">12590</span><span class="comment">// (r_outer is usually equivalent to the viewport rectangle minus padding, but when multi-viewports are enabled and monitor</span></div>
<div class="line"><a id="l12591" name="l12591"></a><span class="lineno">12591</span><span class="comment">//  information are available, it may represent the entire platform monitor from the frame of reference of the current viewport.</span></div>
<div class="line"><a id="l12592" name="l12592"></a><span class="lineno">12592</span><span class="comment">//  this allows us to have tooltips/popups displayed out of the parent viewport.)</span></div>
<div class="line"><a id="l12593" name="l12593"></a><span class="lineno">12593</span><a class="code hl_struct" href="structImVec2.html">ImVec2</a> ImGui::FindBestWindowPosForPopupEx(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; ref_pos, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; size, ImGuiDir* last_dir, <span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; r_outer, <span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; r_avoid, ImGuiPopupPositionPolicy policy)</div>
<div class="line"><a id="l12594" name="l12594"></a><span class="lineno">12594</span>{</div>
<div class="line"><a id="l12595" name="l12595"></a><span class="lineno">12595</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> base_pos_clamped = ImClamp(ref_pos, r_outer.Min, r_outer.Max - size);</div>
<div class="line"><a id="l12596" name="l12596"></a><span class="lineno">12596</span>    <span class="comment">//GetForegroundDrawList()-&gt;AddRect(r_avoid.Min, r_avoid.Max, IM_COL32(255,0,0,255));</span></div>
<div class="line"><a id="l12597" name="l12597"></a><span class="lineno">12597</span>    <span class="comment">//GetForegroundDrawList()-&gt;AddRect(r_outer.Min, r_outer.Max, IM_COL32(0,255,0,255));</span></div>
<div class="line"><a id="l12598" name="l12598"></a><span class="lineno">12598</span> </div>
<div class="line"><a id="l12599" name="l12599"></a><span class="lineno">12599</span>    <span class="comment">// Combo Box policy (we want a connecting edge)</span></div>
<div class="line"><a id="l12600" name="l12600"></a><span class="lineno">12600</span>    <span class="keywordflow">if</span> (policy == ImGuiPopupPositionPolicy_ComboBox)</div>
<div class="line"><a id="l12601" name="l12601"></a><span class="lineno">12601</span>    {</div>
<div class="line"><a id="l12602" name="l12602"></a><span class="lineno">12602</span>        <span class="keyword">const</span> ImGuiDir dir_prefered_order[ImGuiDir_COUNT] = { ImGuiDir_Down, ImGuiDir_Right, ImGuiDir_Left, ImGuiDir_Up };</div>
<div class="line"><a id="l12603" name="l12603"></a><span class="lineno">12603</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = (*last_dir != ImGuiDir_None) ? -1 : 0; n &lt; ImGuiDir_COUNT; n++)</div>
<div class="line"><a id="l12604" name="l12604"></a><span class="lineno">12604</span>        {</div>
<div class="line"><a id="l12605" name="l12605"></a><span class="lineno">12605</span>            <span class="keyword">const</span> ImGuiDir dir = (n == -1) ? *last_dir : dir_prefered_order[n];</div>
<div class="line"><a id="l12606" name="l12606"></a><span class="lineno">12606</span>            <span class="keywordflow">if</span> (n != -1 &amp;&amp; dir == *last_dir) <span class="comment">// Already tried this direction?</span></div>
<div class="line"><a id="l12607" name="l12607"></a><span class="lineno">12607</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l12608" name="l12608"></a><span class="lineno">12608</span>            <a class="code hl_struct" href="structImVec2.html">ImVec2</a> pos;</div>
<div class="line"><a id="l12609" name="l12609"></a><span class="lineno">12609</span>            <span class="keywordflow">if</span> (dir == ImGuiDir_Down)  pos = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(r_avoid.Min.x, r_avoid.Max.y);          <span class="comment">// Below, Toward Right (default)</span></div>
<div class="line"><a id="l12610" name="l12610"></a><span class="lineno">12610</span>            <span class="keywordflow">if</span> (dir == ImGuiDir_Right) pos = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(r_avoid.Min.x, r_avoid.Min.y - size.y); <span class="comment">// Above, Toward Right</span></div>
<div class="line"><a id="l12611" name="l12611"></a><span class="lineno">12611</span>            <span class="keywordflow">if</span> (dir == ImGuiDir_Left)  pos = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(r_avoid.Max.x - size.x, r_avoid.Max.y); <span class="comment">// Below, Toward Left</span></div>
<div class="line"><a id="l12612" name="l12612"></a><span class="lineno">12612</span>            <span class="keywordflow">if</span> (dir == ImGuiDir_Up)    pos = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(r_avoid.Max.x - size.x, r_avoid.Min.y - size.y); <span class="comment">// Above, Toward Left</span></div>
<div class="line"><a id="l12613" name="l12613"></a><span class="lineno">12613</span>            <span class="keywordflow">if</span> (!r_outer.Contains(<a class="code hl_struct" href="structImRect.html">ImRect</a>(pos, pos + size)))</div>
<div class="line"><a id="l12614" name="l12614"></a><span class="lineno">12614</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l12615" name="l12615"></a><span class="lineno">12615</span>            *last_dir = dir;</div>
<div class="line"><a id="l12616" name="l12616"></a><span class="lineno">12616</span>            <span class="keywordflow">return</span> pos;</div>
<div class="line"><a id="l12617" name="l12617"></a><span class="lineno">12617</span>        }</div>
<div class="line"><a id="l12618" name="l12618"></a><span class="lineno">12618</span>    }</div>
<div class="line"><a id="l12619" name="l12619"></a><span class="lineno">12619</span> </div>
<div class="line"><a id="l12620" name="l12620"></a><span class="lineno">12620</span>    <span class="comment">// Tooltip and Default popup policy</span></div>
<div class="line"><a id="l12621" name="l12621"></a><span class="lineno">12621</span>    <span class="comment">// (Always first try the direction we used on the last frame, if any)</span></div>
<div class="line"><a id="l12622" name="l12622"></a><span class="lineno">12622</span>    <span class="keywordflow">if</span> (policy == ImGuiPopupPositionPolicy_Tooltip || policy == ImGuiPopupPositionPolicy_Default)</div>
<div class="line"><a id="l12623" name="l12623"></a><span class="lineno">12623</span>    {</div>
<div class="line"><a id="l12624" name="l12624"></a><span class="lineno">12624</span>        <span class="keyword">const</span> ImGuiDir dir_prefered_order[ImGuiDir_COUNT] = { ImGuiDir_Right, ImGuiDir_Down, ImGuiDir_Up, ImGuiDir_Left };</div>
<div class="line"><a id="l12625" name="l12625"></a><span class="lineno">12625</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = (*last_dir != ImGuiDir_None) ? -1 : 0; n &lt; ImGuiDir_COUNT; n++)</div>
<div class="line"><a id="l12626" name="l12626"></a><span class="lineno">12626</span>        {</div>
<div class="line"><a id="l12627" name="l12627"></a><span class="lineno">12627</span>            <span class="keyword">const</span> ImGuiDir dir = (n == -1) ? *last_dir : dir_prefered_order[n];</div>
<div class="line"><a id="l12628" name="l12628"></a><span class="lineno">12628</span>            <span class="keywordflow">if</span> (n != -1 &amp;&amp; dir == *last_dir) <span class="comment">// Already tried this direction?</span></div>
<div class="line"><a id="l12629" name="l12629"></a><span class="lineno">12629</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l12630" name="l12630"></a><span class="lineno">12630</span> </div>
<div class="line"><a id="l12631" name="l12631"></a><span class="lineno">12631</span>            <span class="keyword">const</span> <span class="keywordtype">float</span> avail_w = (dir == ImGuiDir_Left ? r_avoid.Min.x : r_outer.Max.x) - (dir == ImGuiDir_Right ? r_avoid.Max.x : r_outer.Min.x);</div>
<div class="line"><a id="l12632" name="l12632"></a><span class="lineno">12632</span>            <span class="keyword">const</span> <span class="keywordtype">float</span> avail_h = (dir == ImGuiDir_Up ? r_avoid.Min.y : r_outer.Max.y) - (dir == ImGuiDir_Down ? r_avoid.Max.y : r_outer.Min.y);</div>
<div class="line"><a id="l12633" name="l12633"></a><span class="lineno">12633</span> </div>
<div class="line"><a id="l12634" name="l12634"></a><span class="lineno">12634</span>            <span class="comment">// If there&#39;s not enough room on one axis, there&#39;s no point in positioning on a side on this axis (e.g. when not enough width, use a top/bottom position to maximize available width)</span></div>
<div class="line"><a id="l12635" name="l12635"></a><span class="lineno">12635</span>            <span class="keywordflow">if</span> (avail_w &lt; size.x &amp;&amp; (dir == ImGuiDir_Left || dir == ImGuiDir_Right))</div>
<div class="line"><a id="l12636" name="l12636"></a><span class="lineno">12636</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l12637" name="l12637"></a><span class="lineno">12637</span>            <span class="keywordflow">if</span> (avail_h &lt; size.y &amp;&amp; (dir == ImGuiDir_Up || dir == ImGuiDir_Down))</div>
<div class="line"><a id="l12638" name="l12638"></a><span class="lineno">12638</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l12639" name="l12639"></a><span class="lineno">12639</span> </div>
<div class="line"><a id="l12640" name="l12640"></a><span class="lineno">12640</span>            <a class="code hl_struct" href="structImVec2.html">ImVec2</a> pos;</div>
<div class="line"><a id="l12641" name="l12641"></a><span class="lineno">12641</span>            pos.x = (dir == ImGuiDir_Left) ? r_avoid.Min.x - size.x : (dir == ImGuiDir_Right) ? r_avoid.Max.x : base_pos_clamped.x;</div>
<div class="line"><a id="l12642" name="l12642"></a><span class="lineno">12642</span>            pos.y = (dir == ImGuiDir_Up) ? r_avoid.Min.y - size.y : (dir == ImGuiDir_Down) ? r_avoid.Max.y : base_pos_clamped.y;</div>
<div class="line"><a id="l12643" name="l12643"></a><span class="lineno">12643</span> </div>
<div class="line"><a id="l12644" name="l12644"></a><span class="lineno">12644</span>            <span class="comment">// Clamp top-left corner of popup</span></div>
<div class="line"><a id="l12645" name="l12645"></a><span class="lineno">12645</span>            pos.x = ImMax(pos.x, r_outer.Min.x);</div>
<div class="line"><a id="l12646" name="l12646"></a><span class="lineno">12646</span>            pos.y = ImMax(pos.y, r_outer.Min.y);</div>
<div class="line"><a id="l12647" name="l12647"></a><span class="lineno">12647</span> </div>
<div class="line"><a id="l12648" name="l12648"></a><span class="lineno">12648</span>            *last_dir = dir;</div>
<div class="line"><a id="l12649" name="l12649"></a><span class="lineno">12649</span>            <span class="keywordflow">return</span> pos;</div>
<div class="line"><a id="l12650" name="l12650"></a><span class="lineno">12650</span>        }</div>
<div class="line"><a id="l12651" name="l12651"></a><span class="lineno">12651</span>    }</div>
<div class="line"><a id="l12652" name="l12652"></a><span class="lineno">12652</span> </div>
<div class="line"><a id="l12653" name="l12653"></a><span class="lineno">12653</span>    <span class="comment">// Fallback when not enough room:</span></div>
<div class="line"><a id="l12654" name="l12654"></a><span class="lineno">12654</span>    *last_dir = ImGuiDir_None;</div>
<div class="line"><a id="l12655" name="l12655"></a><span class="lineno">12655</span> </div>
<div class="line"><a id="l12656" name="l12656"></a><span class="lineno">12656</span>    <span class="comment">// For tooltip we prefer avoiding the cursor at all cost even if it means that part of the tooltip won&#39;t be visible.</span></div>
<div class="line"><a id="l12657" name="l12657"></a><span class="lineno">12657</span>    <span class="keywordflow">if</span> (policy == ImGuiPopupPositionPolicy_Tooltip)</div>
<div class="line"><a id="l12658" name="l12658"></a><span class="lineno">12658</span>        <span class="keywordflow">return</span> ref_pos + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(2, 2);</div>
<div class="line"><a id="l12659" name="l12659"></a><span class="lineno">12659</span> </div>
<div class="line"><a id="l12660" name="l12660"></a><span class="lineno">12660</span>    <span class="comment">// Otherwise try to keep within display</span></div>
<div class="line"><a id="l12661" name="l12661"></a><span class="lineno">12661</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> pos = ref_pos;</div>
<div class="line"><a id="l12662" name="l12662"></a><span class="lineno">12662</span>    pos.x = ImMax(ImMin(pos.x + size.x, r_outer.Max.x) - size.x, r_outer.Min.x);</div>
<div class="line"><a id="l12663" name="l12663"></a><span class="lineno">12663</span>    pos.y = ImMax(ImMin(pos.y + size.y, r_outer.Max.y) - size.y, r_outer.Min.y);</div>
<div class="line"><a id="l12664" name="l12664"></a><span class="lineno">12664</span>    <span class="keywordflow">return</span> pos;</div>
<div class="line"><a id="l12665" name="l12665"></a><span class="lineno">12665</span>}</div>
<div class="line"><a id="l12666" name="l12666"></a><span class="lineno">12666</span> </div>
<div class="line"><a id="l12667" name="l12667"></a><span class="lineno">12667</span><span class="comment">// Note that this is used for popups, which can overlap the non work-area of individual viewports.</span></div>
<div class="line"><a id="l12668" name="l12668"></a><span class="lineno">12668</span><a class="code hl_struct" href="structImRect.html">ImRect</a> ImGui::GetPopupAllowedExtentRect(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l12669" name="l12669"></a><span class="lineno">12669</span>{</div>
<div class="line"><a id="l12670" name="l12670"></a><span class="lineno">12670</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12671" name="l12671"></a><span class="lineno">12671</span>    <a class="code hl_struct" href="structImRect.html">ImRect</a> r_screen;</div>
<div class="line"><a id="l12672" name="l12672"></a><span class="lineno">12672</span>    <span class="keywordflow">if</span> (window-&gt;ViewportAllowPlatformMonitorExtend &gt;= 0)</div>
<div class="line"><a id="l12673" name="l12673"></a><span class="lineno">12673</span>    {</div>
<div class="line"><a id="l12674" name="l12674"></a><span class="lineno">12674</span>        <span class="comment">// Extent with be in the frame of reference of the given viewport (so Min is likely to be negative here)</span></div>
<div class="line"><a id="l12675" name="l12675"></a><span class="lineno">12675</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiPlatformMonitor.html">ImGuiPlatformMonitor</a>&amp; monitor = g.PlatformIO.Monitors[window-&gt;ViewportAllowPlatformMonitorExtend];</div>
<div class="line"><a id="l12676" name="l12676"></a><span class="lineno">12676</span>        r_screen.Min = monitor.WorkPos;</div>
<div class="line"><a id="l12677" name="l12677"></a><span class="lineno">12677</span>        r_screen.Max = monitor.WorkPos + monitor.WorkSize;</div>
<div class="line"><a id="l12678" name="l12678"></a><span class="lineno">12678</span>    }</div>
<div class="line"><a id="l12679" name="l12679"></a><span class="lineno">12679</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l12680" name="l12680"></a><span class="lineno">12680</span>    {</div>
<div class="line"><a id="l12681" name="l12681"></a><span class="lineno">12681</span>        <span class="comment">// Use the full viewport area (not work area) for popups</span></div>
<div class="line"><a id="l12682" name="l12682"></a><span class="lineno">12682</span>        r_screen = window-&gt;Viewport-&gt;GetMainRect();</div>
<div class="line"><a id="l12683" name="l12683"></a><span class="lineno">12683</span>    }</div>
<div class="line"><a id="l12684" name="l12684"></a><span class="lineno">12684</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> padding = g.Style.DisplaySafeAreaPadding;</div>
<div class="line"><a id="l12685" name="l12685"></a><span class="lineno">12685</span>    r_screen.Expand(<a class="code hl_struct" href="structImVec2.html">ImVec2</a>((r_screen.GetWidth() &gt; padding.x * 2) ? -padding.x : 0.0f, (r_screen.GetHeight() &gt; padding.y * 2) ? -padding.y : 0.0f));</div>
<div class="line"><a id="l12686" name="l12686"></a><span class="lineno">12686</span>    <span class="keywordflow">return</span> r_screen;</div>
<div class="line"><a id="l12687" name="l12687"></a><span class="lineno">12687</span>}</div>
<div class="line"><a id="l12688" name="l12688"></a><span class="lineno">12688</span> </div>
<div class="line"><a id="l12689" name="l12689"></a><span class="lineno">12689</span><a class="code hl_struct" href="structImVec2.html">ImVec2</a> ImGui::FindBestWindowPosForPopup(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l12690" name="l12690"></a><span class="lineno">12690</span>{</div>
<div class="line"><a id="l12691" name="l12691"></a><span class="lineno">12691</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12692" name="l12692"></a><span class="lineno">12692</span> </div>
<div class="line"><a id="l12693" name="l12693"></a><span class="lineno">12693</span>    <a class="code hl_struct" href="structImRect.html">ImRect</a> r_outer = GetPopupAllowedExtentRect(window);</div>
<div class="line"><a id="l12694" name="l12694"></a><span class="lineno">12694</span>    <span class="keywordflow">if</span> (window-&gt;Flags &amp; ImGuiWindowFlags_ChildMenu)</div>
<div class="line"><a id="l12695" name="l12695"></a><span class="lineno">12695</span>    {</div>
<div class="line"><a id="l12696" name="l12696"></a><span class="lineno">12696</span>        <span class="comment">// Child menus typically request _any_ position within the parent menu item, and then we move the new menu outside the parent bounds.</span></div>
<div class="line"><a id="l12697" name="l12697"></a><span class="lineno">12697</span>        <span class="comment">// This is how we end up with child menus appearing (most-commonly) on the right of the parent menu.</span></div>
<div class="line"><a id="l12698" name="l12698"></a><span class="lineno">12698</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* parent_window = window-&gt;ParentWindow;</div>
<div class="line"><a id="l12699" name="l12699"></a><span class="lineno">12699</span>        <span class="keywordtype">float</span> horizontal_overlap = g.Style.ItemInnerSpacing.x; <span class="comment">// We want some overlap to convey the relative depth of each menu (currently the amount of overlap is hard-coded to style.ItemSpacing.x).</span></div>
<div class="line"><a id="l12700" name="l12700"></a><span class="lineno">12700</span>        <a class="code hl_struct" href="structImRect.html">ImRect</a> r_avoid;</div>
<div class="line"><a id="l12701" name="l12701"></a><span class="lineno">12701</span>        <span class="keywordflow">if</span> (parent_window-&gt;DC.MenuBarAppending)</div>
<div class="line"><a id="l12702" name="l12702"></a><span class="lineno">12702</span>            r_avoid = <a class="code hl_struct" href="structImRect.html">ImRect</a>(-FLT_MAX, parent_window-&gt;ClipRect.Min.y, FLT_MAX, parent_window-&gt;ClipRect.Max.y); <span class="comment">// Avoid parent menu-bar. If we wanted multi-line menu-bar, we may instead want to have the calling window setup e.g. a NextWindowData.PosConstraintAvoidRect field</span></div>
<div class="line"><a id="l12703" name="l12703"></a><span class="lineno">12703</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l12704" name="l12704"></a><span class="lineno">12704</span>            r_avoid = <a class="code hl_struct" href="structImRect.html">ImRect</a>(parent_window-&gt;Pos.x + horizontal_overlap, -FLT_MAX, parent_window-&gt;Pos.x + parent_window-&gt;Size.x - horizontal_overlap - parent_window-&gt;ScrollbarSizes.x, FLT_MAX);</div>
<div class="line"><a id="l12705" name="l12705"></a><span class="lineno">12705</span>        <span class="keywordflow">return</span> FindBestWindowPosForPopupEx(window-&gt;Pos, window-&gt;Size, &amp;window-&gt;AutoPosLastDirection, r_outer, r_avoid, ImGuiPopupPositionPolicy_Default);</div>
<div class="line"><a id="l12706" name="l12706"></a><span class="lineno">12706</span>    }</div>
<div class="line"><a id="l12707" name="l12707"></a><span class="lineno">12707</span>    <span class="keywordflow">if</span> (window-&gt;Flags &amp; ImGuiWindowFlags_Popup)</div>
<div class="line"><a id="l12708" name="l12708"></a><span class="lineno">12708</span>    {</div>
<div class="line"><a id="l12709" name="l12709"></a><span class="lineno">12709</span>        <span class="keywordflow">return</span> FindBestWindowPosForPopupEx(window-&gt;Pos, window-&gt;Size, &amp;window-&gt;AutoPosLastDirection, r_outer, <a class="code hl_struct" href="structImRect.html">ImRect</a>(window-&gt;Pos, window-&gt;Pos), ImGuiPopupPositionPolicy_Default); <span class="comment">// Ideally we&#39;d disable r_avoid here</span></div>
<div class="line"><a id="l12710" name="l12710"></a><span class="lineno">12710</span>    }</div>
<div class="line"><a id="l12711" name="l12711"></a><span class="lineno">12711</span>    <span class="keywordflow">if</span> (window-&gt;Flags &amp; ImGuiWindowFlags_Tooltip)</div>
<div class="line"><a id="l12712" name="l12712"></a><span class="lineno">12712</span>    {</div>
<div class="line"><a id="l12713" name="l12713"></a><span class="lineno">12713</span>        <span class="comment">// Position tooltip (always follows mouse + clamp within outer boundaries)</span></div>
<div class="line"><a id="l12714" name="l12714"></a><span class="lineno">12714</span>        <span class="comment">// FIXME:</span></div>
<div class="line"><a id="l12715" name="l12715"></a><span class="lineno">12715</span>        <span class="comment">// - Too many paths. One problem is that FindBestWindowPosForPopupEx() doesn&#39;t allow passing a suggested position (so touch screen path doesn&#39;t use it by default).</span></div>
<div class="line"><a id="l12716" name="l12716"></a><span class="lineno">12716</span>        <span class="comment">// - Drag and drop tooltips are not using this path either: BeginTooltipEx() manually sets their position.</span></div>
<div class="line"><a id="l12717" name="l12717"></a><span class="lineno">12717</span>        <span class="comment">// - Require some tidying up. In theory we could handle both cases in same location, but requires a bit of shuffling</span></div>
<div class="line"><a id="l12718" name="l12718"></a><span class="lineno">12718</span>        <span class="comment">//   as drag and drop tooltips are calling SetNextWindowPos() leading to &#39;window_pos_set_by_api&#39; being set in Begin().</span></div>
<div class="line"><a id="l12719" name="l12719"></a><span class="lineno">12719</span>        IM_ASSERT(g.CurrentWindow == window);</div>
<div class="line"><a id="l12720" name="l12720"></a><span class="lineno">12720</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> scale = g.Style.MouseCursorScale;</div>
<div class="line"><a id="l12721" name="l12721"></a><span class="lineno">12721</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> ref_pos = NavCalcPreferredRefPos();</div>
<div class="line"><a id="l12722" name="l12722"></a><span class="lineno">12722</span> </div>
<div class="line"><a id="l12723" name="l12723"></a><span class="lineno">12723</span>        <span class="keywordflow">if</span> (g.IO.MouseSource == ImGuiMouseSource_TouchScreen &amp;&amp; NavCalcPreferredRefPosSource() == ImGuiInputSource_Mouse)</div>
<div class="line"><a id="l12724" name="l12724"></a><span class="lineno">12724</span>        {</div>
<div class="line"><a id="l12725" name="l12725"></a><span class="lineno">12725</span>            <a class="code hl_struct" href="structImVec2.html">ImVec2</a> tooltip_pos = ref_pos + TOOLTIP_DEFAULT_OFFSET_TOUCH * scale - (TOOLTIP_DEFAULT_PIVOT_TOUCH * window-&gt;Size);</div>
<div class="line"><a id="l12726" name="l12726"></a><span class="lineno">12726</span>            <span class="keywordflow">if</span> (r_outer.Contains(<a class="code hl_struct" href="structImRect.html">ImRect</a>(tooltip_pos, tooltip_pos + window-&gt;Size)))</div>
<div class="line"><a id="l12727" name="l12727"></a><span class="lineno">12727</span>                <span class="keywordflow">return</span> tooltip_pos;</div>
<div class="line"><a id="l12728" name="l12728"></a><span class="lineno">12728</span>        }</div>
<div class="line"><a id="l12729" name="l12729"></a><span class="lineno">12729</span> </div>
<div class="line"><a id="l12730" name="l12730"></a><span class="lineno">12730</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> tooltip_pos = ref_pos + TOOLTIP_DEFAULT_OFFSET_MOUSE * scale;</div>
<div class="line"><a id="l12731" name="l12731"></a><span class="lineno">12731</span>        <a class="code hl_struct" href="structImRect.html">ImRect</a> r_avoid;</div>
<div class="line"><a id="l12732" name="l12732"></a><span class="lineno">12732</span>        <span class="keywordflow">if</span> (g.NavCursorVisible &amp;&amp; g.NavHighlightItemUnderNav &amp;&amp; !g.IO.ConfigNavMoveSetMousePos)</div>
<div class="line"><a id="l12733" name="l12733"></a><span class="lineno">12733</span>            r_avoid = <a class="code hl_struct" href="structImRect.html">ImRect</a>(ref_pos.x - 16, ref_pos.y - 8, ref_pos.x + 16, ref_pos.y + 8);</div>
<div class="line"><a id="l12734" name="l12734"></a><span class="lineno">12734</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l12735" name="l12735"></a><span class="lineno">12735</span>            r_avoid = <a class="code hl_struct" href="structImRect.html">ImRect</a>(ref_pos.x - 16, ref_pos.y - 8, ref_pos.x + 24 * scale, ref_pos.y + 24 * scale); <span class="comment">// FIXME: Hard-coded based on mouse cursor shape expectation. Exact dimension not very important.</span></div>
<div class="line"><a id="l12736" name="l12736"></a><span class="lineno">12736</span>        <span class="comment">//GetForegroundDrawList()-&gt;AddRect(r_avoid.Min, r_avoid.Max, IM_COL32(255, 0, 255, 255));</span></div>
<div class="line"><a id="l12737" name="l12737"></a><span class="lineno">12737</span> </div>
<div class="line"><a id="l12738" name="l12738"></a><span class="lineno">12738</span>        <span class="keywordflow">return</span> FindBestWindowPosForPopupEx(tooltip_pos, window-&gt;Size, &amp;window-&gt;AutoPosLastDirection, r_outer, r_avoid, ImGuiPopupPositionPolicy_Tooltip);</div>
<div class="line"><a id="l12739" name="l12739"></a><span class="lineno">12739</span>    }</div>
<div class="line"><a id="l12740" name="l12740"></a><span class="lineno">12740</span>    IM_ASSERT(0);</div>
<div class="line"><a id="l12741" name="l12741"></a><span class="lineno">12741</span>    <span class="keywordflow">return</span> window-&gt;Pos;</div>
<div class="line"><a id="l12742" name="l12742"></a><span class="lineno">12742</span>}</div>
<div class="line"><a id="l12743" name="l12743"></a><span class="lineno">12743</span> </div>
<div class="line"><a id="l12744" name="l12744"></a><span class="lineno">12744</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l12745" name="l12745"></a><span class="lineno">12745</span><span class="comment">// [SECTION] WINDOW FOCUS</span></div>
<div class="line"><a id="l12746" name="l12746"></a><span class="lineno">12746</span><span class="comment">//----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l12747" name="l12747"></a><span class="lineno">12747</span><span class="comment">// - SetWindowFocus()</span></div>
<div class="line"><a id="l12748" name="l12748"></a><span class="lineno">12748</span><span class="comment">// - SetNextWindowFocus()</span></div>
<div class="line"><a id="l12749" name="l12749"></a><span class="lineno">12749</span><span class="comment">// - IsWindowFocused()</span></div>
<div class="line"><a id="l12750" name="l12750"></a><span class="lineno">12750</span><span class="comment">// - UpdateWindowInFocusOrderList() [Internal]</span></div>
<div class="line"><a id="l12751" name="l12751"></a><span class="lineno">12751</span><span class="comment">// - BringWindowToFocusFront() [Internal]</span></div>
<div class="line"><a id="l12752" name="l12752"></a><span class="lineno">12752</span><span class="comment">// - BringWindowToDisplayFront() [Internal]</span></div>
<div class="line"><a id="l12753" name="l12753"></a><span class="lineno">12753</span><span class="comment">// - BringWindowToDisplayBack() [Internal]</span></div>
<div class="line"><a id="l12754" name="l12754"></a><span class="lineno">12754</span><span class="comment">// - BringWindowToDisplayBehind() [Internal]</span></div>
<div class="line"><a id="l12755" name="l12755"></a><span class="lineno">12755</span><span class="comment">// - FindWindowDisplayIndex() [Internal]</span></div>
<div class="line"><a id="l12756" name="l12756"></a><span class="lineno">12756</span><span class="comment">// - FocusWindow() [Internal]</span></div>
<div class="line"><a id="l12757" name="l12757"></a><span class="lineno">12757</span><span class="comment">// - FocusTopMostWindowUnderOne() [Internal]</span></div>
<div class="line"><a id="l12758" name="l12758"></a><span class="lineno">12758</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l12759" name="l12759"></a><span class="lineno">12759</span> </div>
<div class="line"><a id="l12760" name="l12760"></a><span class="lineno">12760</span><span class="keywordtype">void</span> ImGui::SetWindowFocus()</div>
<div class="line"><a id="l12761" name="l12761"></a><span class="lineno">12761</span>{</div>
<div class="line"><a id="l12762" name="l12762"></a><span class="lineno">12762</span>    FocusWindow(GImGui-&gt;CurrentWindow);</div>
<div class="line"><a id="l12763" name="l12763"></a><span class="lineno">12763</span>}</div>
<div class="line"><a id="l12764" name="l12764"></a><span class="lineno">12764</span> </div>
<div class="line"><a id="l12765" name="l12765"></a><span class="lineno">12765</span><span class="keywordtype">void</span> ImGui::SetWindowFocus(<span class="keyword">const</span> <span class="keywordtype">char</span>* name)</div>
<div class="line"><a id="l12766" name="l12766"></a><span class="lineno">12766</span>{</div>
<div class="line"><a id="l12767" name="l12767"></a><span class="lineno">12767</span>    <span class="keywordflow">if</span> (name)</div>
<div class="line"><a id="l12768" name="l12768"></a><span class="lineno">12768</span>    {</div>
<div class="line"><a id="l12769" name="l12769"></a><span class="lineno">12769</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = FindWindowByName(name))</div>
<div class="line"><a id="l12770" name="l12770"></a><span class="lineno">12770</span>            FocusWindow(window);</div>
<div class="line"><a id="l12771" name="l12771"></a><span class="lineno">12771</span>    }</div>
<div class="line"><a id="l12772" name="l12772"></a><span class="lineno">12772</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l12773" name="l12773"></a><span class="lineno">12773</span>    {</div>
<div class="line"><a id="l12774" name="l12774"></a><span class="lineno">12774</span>        FocusWindow(NULL);</div>
<div class="line"><a id="l12775" name="l12775"></a><span class="lineno">12775</span>    }</div>
<div class="line"><a id="l12776" name="l12776"></a><span class="lineno">12776</span>}</div>
<div class="line"><a id="l12777" name="l12777"></a><span class="lineno">12777</span> </div>
<div class="line"><a id="l12778" name="l12778"></a><span class="lineno">12778</span><span class="keywordtype">void</span> ImGui::SetNextWindowFocus()</div>
<div class="line"><a id="l12779" name="l12779"></a><span class="lineno">12779</span>{</div>
<div class="line"><a id="l12780" name="l12780"></a><span class="lineno">12780</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12781" name="l12781"></a><span class="lineno">12781</span>    g.NextWindowData.HasFlags |= ImGuiNextWindowDataFlags_HasFocus;</div>
<div class="line"><a id="l12782" name="l12782"></a><span class="lineno">12782</span>}</div>
<div class="line"><a id="l12783" name="l12783"></a><span class="lineno">12783</span> </div>
<div class="line"><a id="l12784" name="l12784"></a><span class="lineno">12784</span><span class="comment">// Similar to IsWindowHovered()</span></div>
<div class="line"><a id="l12785" name="l12785"></a><span class="lineno">12785</span><span class="keywordtype">bool</span> ImGui::IsWindowFocused(ImGuiFocusedFlags flags)</div>
<div class="line"><a id="l12786" name="l12786"></a><span class="lineno">12786</span>{</div>
<div class="line"><a id="l12787" name="l12787"></a><span class="lineno">12787</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12788" name="l12788"></a><span class="lineno">12788</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* ref_window = g.NavWindow;</div>
<div class="line"><a id="l12789" name="l12789"></a><span class="lineno">12789</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* cur_window = g.CurrentWindow;</div>
<div class="line"><a id="l12790" name="l12790"></a><span class="lineno">12790</span> </div>
<div class="line"><a id="l12791" name="l12791"></a><span class="lineno">12791</span>    <span class="keywordflow">if</span> (ref_window == NULL)</div>
<div class="line"><a id="l12792" name="l12792"></a><span class="lineno">12792</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l12793" name="l12793"></a><span class="lineno">12793</span>    <span class="keywordflow">if</span> (flags &amp; ImGuiFocusedFlags_AnyWindow)</div>
<div class="line"><a id="l12794" name="l12794"></a><span class="lineno">12794</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l12795" name="l12795"></a><span class="lineno">12795</span> </div>
<div class="line"><a id="l12796" name="l12796"></a><span class="lineno">12796</span>    IM_ASSERT(cur_window); <span class="comment">// Not inside a Begin()/End()</span></div>
<div class="line"><a id="l12797" name="l12797"></a><span class="lineno">12797</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> popup_hierarchy = (flags &amp; ImGuiFocusedFlags_NoPopupHierarchy) == 0;</div>
<div class="line"><a id="l12798" name="l12798"></a><span class="lineno">12798</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> dock_hierarchy = (flags &amp; ImGuiFocusedFlags_DockHierarchy) != 0;</div>
<div class="line"><a id="l12799" name="l12799"></a><span class="lineno">12799</span>    <span class="keywordflow">if</span> (flags &amp; ImGuiHoveredFlags_RootWindow)</div>
<div class="line"><a id="l12800" name="l12800"></a><span class="lineno">12800</span>        cur_window = GetCombinedRootWindow(cur_window, popup_hierarchy, dock_hierarchy);</div>
<div class="line"><a id="l12801" name="l12801"></a><span class="lineno">12801</span> </div>
<div class="line"><a id="l12802" name="l12802"></a><span class="lineno">12802</span>    <span class="keywordflow">if</span> (flags &amp; ImGuiHoveredFlags_ChildWindows)</div>
<div class="line"><a id="l12803" name="l12803"></a><span class="lineno">12803</span>        <span class="keywordflow">return</span> IsWindowChildOf(ref_window, cur_window, popup_hierarchy, dock_hierarchy);</div>
<div class="line"><a id="l12804" name="l12804"></a><span class="lineno">12804</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l12805" name="l12805"></a><span class="lineno">12805</span>        <span class="keywordflow">return</span> (ref_window == cur_window);</div>
<div class="line"><a id="l12806" name="l12806"></a><span class="lineno">12806</span>}</div>
<div class="line"><a id="l12807" name="l12807"></a><span class="lineno">12807</span> </div>
<div class="line"><a id="l12808" name="l12808"></a><span class="lineno">12808</span><span class="keyword">static</span> <span class="keywordtype">int</span> ImGui::FindWindowFocusIndex(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l12809" name="l12809"></a><span class="lineno">12809</span>{</div>
<div class="line"><a id="l12810" name="l12810"></a><span class="lineno">12810</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12811" name="l12811"></a><span class="lineno">12811</span>    IM_UNUSED(g);</div>
<div class="line"><a id="l12812" name="l12812"></a><span class="lineno">12812</span>    <span class="keywordtype">int</span> order = window-&gt;FocusOrder;</div>
<div class="line"><a id="l12813" name="l12813"></a><span class="lineno">12813</span>    IM_ASSERT(window-&gt;RootWindow == window); <span class="comment">// No child window (not testing _ChildWindow because of docking)</span></div>
<div class="line"><a id="l12814" name="l12814"></a><span class="lineno">12814</span>    IM_ASSERT(g.WindowsFocusOrder[order] == window);</div>
<div class="line"><a id="l12815" name="l12815"></a><span class="lineno">12815</span>    <span class="keywordflow">return</span> order;</div>
<div class="line"><a id="l12816" name="l12816"></a><span class="lineno">12816</span>}</div>
<div class="line"><a id="l12817" name="l12817"></a><span class="lineno">12817</span> </div>
<div class="line"><a id="l12818" name="l12818"></a><span class="lineno">12818</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::UpdateWindowInFocusOrderList(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keywordtype">bool</span> just_created, ImGuiWindowFlags new_flags)</div>
<div class="line"><a id="l12819" name="l12819"></a><span class="lineno">12819</span>{</div>
<div class="line"><a id="l12820" name="l12820"></a><span class="lineno">12820</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12821" name="l12821"></a><span class="lineno">12821</span> </div>
<div class="line"><a id="l12822" name="l12822"></a><span class="lineno">12822</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> new_is_explicit_child = (new_flags &amp; ImGuiWindowFlags_ChildWindow) != 0 &amp;&amp; ((new_flags &amp; ImGuiWindowFlags_Popup) == 0 || (new_flags &amp; ImGuiWindowFlags_ChildMenu) != 0);</div>
<div class="line"><a id="l12823" name="l12823"></a><span class="lineno">12823</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> child_flag_changed = new_is_explicit_child != window-&gt;IsExplicitChild;</div>
<div class="line"><a id="l12824" name="l12824"></a><span class="lineno">12824</span>    <span class="keywordflow">if</span> ((just_created || child_flag_changed) &amp;&amp; !new_is_explicit_child)</div>
<div class="line"><a id="l12825" name="l12825"></a><span class="lineno">12825</span>    {</div>
<div class="line"><a id="l12826" name="l12826"></a><span class="lineno">12826</span>        IM_ASSERT(!g.WindowsFocusOrder.contains(window));</div>
<div class="line"><a id="l12827" name="l12827"></a><span class="lineno">12827</span>        g.WindowsFocusOrder.push_back(window);</div>
<div class="line"><a id="l12828" name="l12828"></a><span class="lineno">12828</span>        window-&gt;FocusOrder = (short)(g.WindowsFocusOrder.Size - 1);</div>
<div class="line"><a id="l12829" name="l12829"></a><span class="lineno">12829</span>    }</div>
<div class="line"><a id="l12830" name="l12830"></a><span class="lineno">12830</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!just_created &amp;&amp; child_flag_changed &amp;&amp; new_is_explicit_child)</div>
<div class="line"><a id="l12831" name="l12831"></a><span class="lineno">12831</span>    {</div>
<div class="line"><a id="l12832" name="l12832"></a><span class="lineno">12832</span>        IM_ASSERT(g.WindowsFocusOrder[window-&gt;FocusOrder] == window);</div>
<div class="line"><a id="l12833" name="l12833"></a><span class="lineno">12833</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = window-&gt;FocusOrder + 1; n &lt; g.WindowsFocusOrder.Size; n++)</div>
<div class="line"><a id="l12834" name="l12834"></a><span class="lineno">12834</span>            g.WindowsFocusOrder[n]-&gt;FocusOrder--;</div>
<div class="line"><a id="l12835" name="l12835"></a><span class="lineno">12835</span>        g.WindowsFocusOrder.erase(g.WindowsFocusOrder.Data + window-&gt;FocusOrder);</div>
<div class="line"><a id="l12836" name="l12836"></a><span class="lineno">12836</span>        window-&gt;FocusOrder = -1;</div>
<div class="line"><a id="l12837" name="l12837"></a><span class="lineno">12837</span>    }</div>
<div class="line"><a id="l12838" name="l12838"></a><span class="lineno">12838</span>    window-&gt;IsExplicitChild = new_is_explicit_child;</div>
<div class="line"><a id="l12839" name="l12839"></a><span class="lineno">12839</span>}</div>
<div class="line"><a id="l12840" name="l12840"></a><span class="lineno">12840</span> </div>
<div class="line"><a id="l12841" name="l12841"></a><span class="lineno">12841</span><span class="keywordtype">void</span> ImGui::BringWindowToFocusFront(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l12842" name="l12842"></a><span class="lineno">12842</span>{</div>
<div class="line"><a id="l12843" name="l12843"></a><span class="lineno">12843</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12844" name="l12844"></a><span class="lineno">12844</span>    IM_ASSERT(window == window-&gt;RootWindow);</div>
<div class="line"><a id="l12845" name="l12845"></a><span class="lineno">12845</span> </div>
<div class="line"><a id="l12846" name="l12846"></a><span class="lineno">12846</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> cur_order = window-&gt;FocusOrder;</div>
<div class="line"><a id="l12847" name="l12847"></a><span class="lineno">12847</span>    IM_ASSERT(g.WindowsFocusOrder[cur_order] == window);</div>
<div class="line"><a id="l12848" name="l12848"></a><span class="lineno">12848</span>    <span class="keywordflow">if</span> (g.WindowsFocusOrder.back() == window)</div>
<div class="line"><a id="l12849" name="l12849"></a><span class="lineno">12849</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l12850" name="l12850"></a><span class="lineno">12850</span> </div>
<div class="line"><a id="l12851" name="l12851"></a><span class="lineno">12851</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> new_order = g.WindowsFocusOrder.Size - 1;</div>
<div class="line"><a id="l12852" name="l12852"></a><span class="lineno">12852</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = cur_order; n &lt; new_order; n++)</div>
<div class="line"><a id="l12853" name="l12853"></a><span class="lineno">12853</span>    {</div>
<div class="line"><a id="l12854" name="l12854"></a><span class="lineno">12854</span>        g.WindowsFocusOrder[n] = g.WindowsFocusOrder[n + 1];</div>
<div class="line"><a id="l12855" name="l12855"></a><span class="lineno">12855</span>        g.WindowsFocusOrder[n]-&gt;FocusOrder--;</div>
<div class="line"><a id="l12856" name="l12856"></a><span class="lineno">12856</span>        IM_ASSERT(g.WindowsFocusOrder[n]-&gt;FocusOrder == n);</div>
<div class="line"><a id="l12857" name="l12857"></a><span class="lineno">12857</span>    }</div>
<div class="line"><a id="l12858" name="l12858"></a><span class="lineno">12858</span>    g.WindowsFocusOrder[new_order] = window;</div>
<div class="line"><a id="l12859" name="l12859"></a><span class="lineno">12859</span>    window-&gt;FocusOrder = (short)new_order;</div>
<div class="line"><a id="l12860" name="l12860"></a><span class="lineno">12860</span>}</div>
<div class="line"><a id="l12861" name="l12861"></a><span class="lineno">12861</span> </div>
<div class="line"><a id="l12862" name="l12862"></a><span class="lineno">12862</span><span class="comment">// Note technically focus related but rather adjacent and close to BringWindowToFocusFront()</span></div>
<div class="line"><a id="l12863" name="l12863"></a><span class="lineno">12863</span><span class="keywordtype">void</span> ImGui::BringWindowToDisplayFront(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l12864" name="l12864"></a><span class="lineno">12864</span>{</div>
<div class="line"><a id="l12865" name="l12865"></a><span class="lineno">12865</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12866" name="l12866"></a><span class="lineno">12866</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* current_front_window = g.Windows.back();</div>
<div class="line"><a id="l12867" name="l12867"></a><span class="lineno">12867</span>    <span class="keywordflow">if</span> (current_front_window == window || current_front_window-&gt;RootWindowDockTree == window) <span class="comment">// Cheap early out (could be better)</span></div>
<div class="line"><a id="l12868" name="l12868"></a><span class="lineno">12868</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l12869" name="l12869"></a><span class="lineno">12869</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = g.Windows.Size - 2; i &gt;= 0; i--) <span class="comment">// We can ignore the top-most window</span></div>
<div class="line"><a id="l12870" name="l12870"></a><span class="lineno">12870</span>        <span class="keywordflow">if</span> (g.Windows[i] == window)</div>
<div class="line"><a id="l12871" name="l12871"></a><span class="lineno">12871</span>        {</div>
<div class="line"><a id="l12872" name="l12872"></a><span class="lineno">12872</span>            memmove(&amp;g.Windows[i], &amp;g.Windows[i + 1], (<span class="keywordtype">size_t</span>)(g.Windows.Size - i - 1) * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>*));</div>
<div class="line"><a id="l12873" name="l12873"></a><span class="lineno">12873</span>            g.Windows[g.Windows.Size - 1] = window;</div>
<div class="line"><a id="l12874" name="l12874"></a><span class="lineno">12874</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l12875" name="l12875"></a><span class="lineno">12875</span>        }</div>
<div class="line"><a id="l12876" name="l12876"></a><span class="lineno">12876</span>}</div>
<div class="line"><a id="l12877" name="l12877"></a><span class="lineno">12877</span> </div>
<div class="line"><a id="l12878" name="l12878"></a><span class="lineno">12878</span><span class="keywordtype">void</span> ImGui::BringWindowToDisplayBack(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l12879" name="l12879"></a><span class="lineno">12879</span>{</div>
<div class="line"><a id="l12880" name="l12880"></a><span class="lineno">12880</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12881" name="l12881"></a><span class="lineno">12881</span>    <span class="keywordflow">if</span> (g.Windows[0] == window)</div>
<div class="line"><a id="l12882" name="l12882"></a><span class="lineno">12882</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l12883" name="l12883"></a><span class="lineno">12883</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; g.Windows.Size; i++)</div>
<div class="line"><a id="l12884" name="l12884"></a><span class="lineno">12884</span>        <span class="keywordflow">if</span> (g.Windows[i] == window)</div>
<div class="line"><a id="l12885" name="l12885"></a><span class="lineno">12885</span>        {</div>
<div class="line"><a id="l12886" name="l12886"></a><span class="lineno">12886</span>            memmove(&amp;g.Windows[1], &amp;g.Windows[0], (<span class="keywordtype">size_t</span>)i * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>*));</div>
<div class="line"><a id="l12887" name="l12887"></a><span class="lineno">12887</span>            g.Windows[0] = window;</div>
<div class="line"><a id="l12888" name="l12888"></a><span class="lineno">12888</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l12889" name="l12889"></a><span class="lineno">12889</span>        }</div>
<div class="line"><a id="l12890" name="l12890"></a><span class="lineno">12890</span>}</div>
<div class="line"><a id="l12891" name="l12891"></a><span class="lineno">12891</span> </div>
<div class="line"><a id="l12892" name="l12892"></a><span class="lineno">12892</span><span class="keywordtype">void</span> ImGui::BringWindowToDisplayBehind(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* behind_window)</div>
<div class="line"><a id="l12893" name="l12893"></a><span class="lineno">12893</span>{</div>
<div class="line"><a id="l12894" name="l12894"></a><span class="lineno">12894</span>    IM_ASSERT(window != NULL &amp;&amp; behind_window != NULL);</div>
<div class="line"><a id="l12895" name="l12895"></a><span class="lineno">12895</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12896" name="l12896"></a><span class="lineno">12896</span>    window = window-&gt;RootWindow;</div>
<div class="line"><a id="l12897" name="l12897"></a><span class="lineno">12897</span>    behind_window = behind_window-&gt;RootWindow;</div>
<div class="line"><a id="l12898" name="l12898"></a><span class="lineno">12898</span>    <span class="keywordtype">int</span> pos_wnd = FindWindowDisplayIndex(window);</div>
<div class="line"><a id="l12899" name="l12899"></a><span class="lineno">12899</span>    <span class="keywordtype">int</span> pos_beh = FindWindowDisplayIndex(behind_window);</div>
<div class="line"><a id="l12900" name="l12900"></a><span class="lineno">12900</span>    <span class="keywordflow">if</span> (pos_wnd &lt; pos_beh)</div>
<div class="line"><a id="l12901" name="l12901"></a><span class="lineno">12901</span>    {</div>
<div class="line"><a id="l12902" name="l12902"></a><span class="lineno">12902</span>        <span class="keywordtype">size_t</span> copy_bytes = (pos_beh - pos_wnd - 1) * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>*);</div>
<div class="line"><a id="l12903" name="l12903"></a><span class="lineno">12903</span>        memmove(&amp;g.Windows.Data[pos_wnd], &amp;g.Windows.Data[pos_wnd + 1], copy_bytes);</div>
<div class="line"><a id="l12904" name="l12904"></a><span class="lineno">12904</span>        g.Windows[pos_beh - 1] = window;</div>
<div class="line"><a id="l12905" name="l12905"></a><span class="lineno">12905</span>    }</div>
<div class="line"><a id="l12906" name="l12906"></a><span class="lineno">12906</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l12907" name="l12907"></a><span class="lineno">12907</span>    {</div>
<div class="line"><a id="l12908" name="l12908"></a><span class="lineno">12908</span>        <span class="keywordtype">size_t</span> copy_bytes = (pos_wnd - pos_beh) * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>*);</div>
<div class="line"><a id="l12909" name="l12909"></a><span class="lineno">12909</span>        memmove(&amp;g.Windows.Data[pos_beh + 1], &amp;g.Windows.Data[pos_beh], copy_bytes);</div>
<div class="line"><a id="l12910" name="l12910"></a><span class="lineno">12910</span>        g.Windows[pos_beh] = window;</div>
<div class="line"><a id="l12911" name="l12911"></a><span class="lineno">12911</span>    }</div>
<div class="line"><a id="l12912" name="l12912"></a><span class="lineno">12912</span>}</div>
<div class="line"><a id="l12913" name="l12913"></a><span class="lineno">12913</span> </div>
<div class="line"><a id="l12914" name="l12914"></a><span class="lineno">12914</span><span class="keywordtype">int</span> ImGui::FindWindowDisplayIndex(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l12915" name="l12915"></a><span class="lineno">12915</span>{</div>
<div class="line"><a id="l12916" name="l12916"></a><span class="lineno">12916</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12917" name="l12917"></a><span class="lineno">12917</span>    <span class="keywordflow">return</span> g.Windows.index_from_ptr(g.Windows.find(window));</div>
<div class="line"><a id="l12918" name="l12918"></a><span class="lineno">12918</span>}</div>
<div class="line"><a id="l12919" name="l12919"></a><span class="lineno">12919</span> </div>
<div class="line"><a id="l12920" name="l12920"></a><span class="lineno">12920</span><span class="comment">// Moving window to front of display and set focus (which happens to be back of our sorted list)</span></div>
<div class="line"><a id="l12921" name="l12921"></a><span class="lineno">12921</span><span class="keywordtype">void</span> ImGui::FocusWindow(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, ImGuiFocusRequestFlags flags)</div>
<div class="line"><a id="l12922" name="l12922"></a><span class="lineno">12922</span>{</div>
<div class="line"><a id="l12923" name="l12923"></a><span class="lineno">12923</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12924" name="l12924"></a><span class="lineno">12924</span> </div>
<div class="line"><a id="l12925" name="l12925"></a><span class="lineno">12925</span>    <span class="comment">// Modal check?</span></div>
<div class="line"><a id="l12926" name="l12926"></a><span class="lineno">12926</span>    <span class="keywordflow">if</span> ((flags &amp; ImGuiFocusRequestFlags_UnlessBelowModal) &amp;&amp; (g.NavWindow != window)) <span class="comment">// Early out in common case.</span></div>
<div class="line"><a id="l12927" name="l12927"></a><span class="lineno">12927</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* blocking_modal = FindBlockingModal(window))</div>
<div class="line"><a id="l12928" name="l12928"></a><span class="lineno">12928</span>        {</div>
<div class="line"><a id="l12929" name="l12929"></a><span class="lineno">12929</span>            <span class="comment">// This block would typically be reached in two situations:</span></div>
<div class="line"><a id="l12930" name="l12930"></a><span class="lineno">12930</span>            <span class="comment">// - API call to FocusWindow() with a window under a modal and ImGuiFocusRequestFlags_UnlessBelowModal flag.</span></div>
<div class="line"><a id="l12931" name="l12931"></a><span class="lineno">12931</span>            <span class="comment">// - User clicking on void or anything behind a modal while a modal is open (window == NULL)</span></div>
<div class="line"><a id="l12932" name="l12932"></a><span class="lineno">12932</span>            IMGUI_DEBUG_LOG_FOCUS(<span class="stringliteral">&quot;[focus] FocusWindow(\&quot;%s\&quot;, UnlessBelowModal): prevented by \&quot;%s\&quot;.\n&quot;</span>, window ? window-&gt;Name : <span class="stringliteral">&quot;&lt;NULL&gt;&quot;</span>, blocking_modal-&gt;Name);</div>
<div class="line"><a id="l12933" name="l12933"></a><span class="lineno">12933</span>            <span class="keywordflow">if</span> (window &amp;&amp; window == window-&gt;RootWindow &amp;&amp; (window-&gt;Flags &amp; ImGuiWindowFlags_NoBringToFrontOnFocus) == 0)</div>
<div class="line"><a id="l12934" name="l12934"></a><span class="lineno">12934</span>                BringWindowToDisplayBehind(window, blocking_modal); <span class="comment">// Still bring right under modal. (FIXME: Could move in focus list too?)</span></div>
<div class="line"><a id="l12935" name="l12935"></a><span class="lineno">12935</span>            ClosePopupsOverWindow(GetTopMostPopupModal(), <span class="keyword">false</span>); <span class="comment">// Note how we need to use GetTopMostPopupModal() aad NOT blocking_modal, to handle nested modals</span></div>
<div class="line"><a id="l12936" name="l12936"></a><span class="lineno">12936</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l12937" name="l12937"></a><span class="lineno">12937</span>        }</div>
<div class="line"><a id="l12938" name="l12938"></a><span class="lineno">12938</span> </div>
<div class="line"><a id="l12939" name="l12939"></a><span class="lineno">12939</span>    <span class="comment">// Find last focused child (if any) and focus it instead.</span></div>
<div class="line"><a id="l12940" name="l12940"></a><span class="lineno">12940</span>    <span class="keywordflow">if</span> ((flags &amp; ImGuiFocusRequestFlags_RestoreFocusedChild) &amp;&amp; window != NULL)</div>
<div class="line"><a id="l12941" name="l12941"></a><span class="lineno">12941</span>        window = NavRestoreLastChildNavWindow(window);</div>
<div class="line"><a id="l12942" name="l12942"></a><span class="lineno">12942</span> </div>
<div class="line"><a id="l12943" name="l12943"></a><span class="lineno">12943</span>    <span class="comment">// Apply focus</span></div>
<div class="line"><a id="l12944" name="l12944"></a><span class="lineno">12944</span>    <span class="keywordflow">if</span> (g.NavWindow != window)</div>
<div class="line"><a id="l12945" name="l12945"></a><span class="lineno">12945</span>    {</div>
<div class="line"><a id="l12946" name="l12946"></a><span class="lineno">12946</span>        SetNavWindow(window);</div>
<div class="line"><a id="l12947" name="l12947"></a><span class="lineno">12947</span>        <span class="keywordflow">if</span> (window &amp;&amp; g.NavHighlightItemUnderNav)</div>
<div class="line"><a id="l12948" name="l12948"></a><span class="lineno">12948</span>            g.NavMousePosDirty = <span class="keyword">true</span>;</div>
<div class="line"><a id="l12949" name="l12949"></a><span class="lineno">12949</span>        g.NavId = window ? window-&gt;NavLastIds[0] : 0; <span class="comment">// Restore NavId</span></div>
<div class="line"><a id="l12950" name="l12950"></a><span class="lineno">12950</span>        g.NavLayer = ImGuiNavLayer_Main;</div>
<div class="line"><a id="l12951" name="l12951"></a><span class="lineno">12951</span>        SetNavFocusScope(window ? window-&gt;NavRootFocusScopeId : 0);</div>
<div class="line"><a id="l12952" name="l12952"></a><span class="lineno">12952</span>        g.NavIdIsAlive = <span class="keyword">false</span>;</div>
<div class="line"><a id="l12953" name="l12953"></a><span class="lineno">12953</span>        g.NavLastValidSelectionUserData = ImGuiSelectionUserData_Invalid;</div>
<div class="line"><a id="l12954" name="l12954"></a><span class="lineno">12954</span> </div>
<div class="line"><a id="l12955" name="l12955"></a><span class="lineno">12955</span>        <span class="comment">// Close popups if any</span></div>
<div class="line"><a id="l12956" name="l12956"></a><span class="lineno">12956</span>        ClosePopupsOverWindow(window, <span class="keyword">false</span>);</div>
<div class="line"><a id="l12957" name="l12957"></a><span class="lineno">12957</span>    }</div>
<div class="line"><a id="l12958" name="l12958"></a><span class="lineno">12958</span> </div>
<div class="line"><a id="l12959" name="l12959"></a><span class="lineno">12959</span>    <span class="comment">// Move the root window to the top of the pile</span></div>
<div class="line"><a id="l12960" name="l12960"></a><span class="lineno">12960</span>    IM_ASSERT(window == NULL || window-&gt;RootWindowDockTree != NULL);</div>
<div class="line"><a id="l12961" name="l12961"></a><span class="lineno">12961</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* focus_front_window = window ? window-&gt;RootWindow : NULL;</div>
<div class="line"><a id="l12962" name="l12962"></a><span class="lineno">12962</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* display_front_window = window ? window-&gt;RootWindowDockTree : NULL;</div>
<div class="line"><a id="l12963" name="l12963"></a><span class="lineno">12963</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* dock_node = window ? window-&gt;DockNode : NULL;</div>
<div class="line"><a id="l12964" name="l12964"></a><span class="lineno">12964</span>    <span class="keywordtype">bool</span> active_id_window_is_dock_node_host = (g.ActiveIdWindow &amp;&amp; dock_node &amp;&amp; dock_node-&gt;HostWindow == g.ActiveIdWindow);</div>
<div class="line"><a id="l12965" name="l12965"></a><span class="lineno">12965</span> </div>
<div class="line"><a id="l12966" name="l12966"></a><span class="lineno">12966</span>    <span class="comment">// Steal active widgets. Some of the cases it triggers includes:</span></div>
<div class="line"><a id="l12967" name="l12967"></a><span class="lineno">12967</span>    <span class="comment">// - Focus a window while an InputText in another window is active, if focus happens before the old InputText can run.</span></div>
<div class="line"><a id="l12968" name="l12968"></a><span class="lineno">12968</span>    <span class="comment">// - When using Nav to activate menu items (due to timing of activating on press-&gt;new window appears-&gt;losing ActiveId)</span></div>
<div class="line"><a id="l12969" name="l12969"></a><span class="lineno">12969</span>    <span class="comment">// - Using dock host items (tab, collapse button) can trigger this before we redirect the ActiveIdWindow toward the child window.</span></div>
<div class="line"><a id="l12970" name="l12970"></a><span class="lineno">12970</span>    <span class="keywordflow">if</span> (g.ActiveId != 0 &amp;&amp; g.ActiveIdWindow &amp;&amp; g.ActiveIdWindow-&gt;RootWindow != focus_front_window)</div>
<div class="line"><a id="l12971" name="l12971"></a><span class="lineno">12971</span>        <span class="keywordflow">if</span> (!g.ActiveIdNoClearOnFocusLoss &amp;&amp; !active_id_window_is_dock_node_host)</div>
<div class="line"><a id="l12972" name="l12972"></a><span class="lineno">12972</span>            ClearActiveID();</div>
<div class="line"><a id="l12973" name="l12973"></a><span class="lineno">12973</span> </div>
<div class="line"><a id="l12974" name="l12974"></a><span class="lineno">12974</span>    <span class="comment">// Passing NULL allow to disable keyboard focus</span></div>
<div class="line"><a id="l12975" name="l12975"></a><span class="lineno">12975</span>    <span class="keywordflow">if</span> (!window)</div>
<div class="line"><a id="l12976" name="l12976"></a><span class="lineno">12976</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l12977" name="l12977"></a><span class="lineno">12977</span>    window-&gt;LastFrameJustFocused = g.FrameCount;</div>
<div class="line"><a id="l12978" name="l12978"></a><span class="lineno">12978</span> </div>
<div class="line"><a id="l12979" name="l12979"></a><span class="lineno">12979</span>    <span class="comment">// Select in dock node</span></div>
<div class="line"><a id="l12980" name="l12980"></a><span class="lineno">12980</span>    <span class="comment">// For #2304 we avoid applying focus immediately before the tabbar is visible.</span></div>
<div class="line"><a id="l12981" name="l12981"></a><span class="lineno">12981</span>    <span class="comment">//if (dock_node &amp;&amp; dock_node-&gt;TabBar)</span></div>
<div class="line"><a id="l12982" name="l12982"></a><span class="lineno">12982</span>    <span class="comment">//    dock_node-&gt;TabBar-&gt;SelectedTabId = dock_node-&gt;TabBar-&gt;NextSelectedTabId = window-&gt;TabId;</span></div>
<div class="line"><a id="l12983" name="l12983"></a><span class="lineno">12983</span> </div>
<div class="line"><a id="l12984" name="l12984"></a><span class="lineno">12984</span>    <span class="comment">// Bring to front</span></div>
<div class="line"><a id="l12985" name="l12985"></a><span class="lineno">12985</span>    BringWindowToFocusFront(focus_front_window);</div>
<div class="line"><a id="l12986" name="l12986"></a><span class="lineno">12986</span>    <span class="keywordflow">if</span> (((window-&gt;Flags | focus_front_window-&gt;Flags | display_front_window-&gt;Flags) &amp; ImGuiWindowFlags_NoBringToFrontOnFocus) == 0)</div>
<div class="line"><a id="l12987" name="l12987"></a><span class="lineno">12987</span>        BringWindowToDisplayFront(display_front_window);</div>
<div class="line"><a id="l12988" name="l12988"></a><span class="lineno">12988</span>}</div>
<div class="line"><a id="l12989" name="l12989"></a><span class="lineno">12989</span> </div>
<div class="line"><a id="l12990" name="l12990"></a><span class="lineno">12990</span><span class="keywordtype">void</span> ImGui::FocusTopMostWindowUnderOne(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* under_this_window, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* ignore_window, <a class="code hl_struct" href="structImGuiViewport.html">ImGuiViewport</a>* filter_viewport, ImGuiFocusRequestFlags flags)</div>
<div class="line"><a id="l12991" name="l12991"></a><span class="lineno">12991</span>{</div>
<div class="line"><a id="l12992" name="l12992"></a><span class="lineno">12992</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l12993" name="l12993"></a><span class="lineno">12993</span>    <span class="keywordtype">int</span> start_idx = g.WindowsFocusOrder.Size - 1;</div>
<div class="line"><a id="l12994" name="l12994"></a><span class="lineno">12994</span>    <span class="keywordflow">if</span> (under_this_window != NULL)</div>
<div class="line"><a id="l12995" name="l12995"></a><span class="lineno">12995</span>    {</div>
<div class="line"><a id="l12996" name="l12996"></a><span class="lineno">12996</span>        <span class="comment">// Aim at root window behind us, if we are in a child window that&#39;s our own root (see #4640)</span></div>
<div class="line"><a id="l12997" name="l12997"></a><span class="lineno">12997</span>        <span class="keywordtype">int</span> offset = -1;</div>
<div class="line"><a id="l12998" name="l12998"></a><span class="lineno">12998</span>        <span class="keywordflow">while</span> (under_this_window-&gt;Flags &amp; ImGuiWindowFlags_ChildWindow)</div>
<div class="line"><a id="l12999" name="l12999"></a><span class="lineno">12999</span>        {</div>
<div class="line"><a id="l13000" name="l13000"></a><span class="lineno">13000</span>            under_this_window = under_this_window-&gt;ParentWindow;</div>
<div class="line"><a id="l13001" name="l13001"></a><span class="lineno">13001</span>            offset = 0;</div>
<div class="line"><a id="l13002" name="l13002"></a><span class="lineno">13002</span>        }</div>
<div class="line"><a id="l13003" name="l13003"></a><span class="lineno">13003</span>        start_idx = FindWindowFocusIndex(under_this_window) + offset;</div>
<div class="line"><a id="l13004" name="l13004"></a><span class="lineno">13004</span>    }</div>
<div class="line"><a id="l13005" name="l13005"></a><span class="lineno">13005</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = start_idx; i &gt;= 0; i--)</div>
<div class="line"><a id="l13006" name="l13006"></a><span class="lineno">13006</span>    {</div>
<div class="line"><a id="l13007" name="l13007"></a><span class="lineno">13007</span>        <span class="comment">// We may later decide to test for different NoXXXInputs based on the active navigation input (mouse vs nav) but that may feel more confusing to the user.</span></div>
<div class="line"><a id="l13008" name="l13008"></a><span class="lineno">13008</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.WindowsFocusOrder[i];</div>
<div class="line"><a id="l13009" name="l13009"></a><span class="lineno">13009</span>        <span class="keywordflow">if</span> (window == ignore_window || !window-&gt;WasActive)</div>
<div class="line"><a id="l13010" name="l13010"></a><span class="lineno">13010</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l13011" name="l13011"></a><span class="lineno">13011</span>        <span class="keywordflow">if</span> (filter_viewport != NULL &amp;&amp; window-&gt;Viewport != filter_viewport)</div>
<div class="line"><a id="l13012" name="l13012"></a><span class="lineno">13012</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l13013" name="l13013"></a><span class="lineno">13013</span>        <span class="keywordflow">if</span> ((window-&gt;Flags &amp; (ImGuiWindowFlags_NoMouseInputs | ImGuiWindowFlags_NoNavInputs)) != (ImGuiWindowFlags_NoMouseInputs | ImGuiWindowFlags_NoNavInputs))</div>
<div class="line"><a id="l13014" name="l13014"></a><span class="lineno">13014</span>        {</div>
<div class="line"><a id="l13015" name="l13015"></a><span class="lineno">13015</span>            <span class="comment">// FIXME-DOCK: When ImGuiFocusRequestFlags_RestoreFocusedChild is set...</span></div>
<div class="line"><a id="l13016" name="l13016"></a><span class="lineno">13016</span>            <span class="comment">// This is failing (lagging by one frame) for docked windows.</span></div>
<div class="line"><a id="l13017" name="l13017"></a><span class="lineno">13017</span>            <span class="comment">// If A and B are docked into window and B disappear, at the NewFrame() call site window-&gt;NavLastChildNavWindow will still point to B.</span></div>
<div class="line"><a id="l13018" name="l13018"></a><span class="lineno">13018</span>            <span class="comment">// We might leverage the tab order implicitly stored in window-&gt;DockNodeAsHost-&gt;TabBar (essentially the &#39;most_recently_selected_tab&#39; code in tab bar will do that but on next update)</span></div>
<div class="line"><a id="l13019" name="l13019"></a><span class="lineno">13019</span>            <span class="comment">// to tell which is the &quot;previous&quot; window. Or we may leverage &#39;LastFrameFocused/LastFrameJustFocused&#39; and have this function handle child window itself?</span></div>
<div class="line"><a id="l13020" name="l13020"></a><span class="lineno">13020</span>            FocusWindow(window, flags);</div>
<div class="line"><a id="l13021" name="l13021"></a><span class="lineno">13021</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l13022" name="l13022"></a><span class="lineno">13022</span>        }</div>
<div class="line"><a id="l13023" name="l13023"></a><span class="lineno">13023</span>    }</div>
<div class="line"><a id="l13024" name="l13024"></a><span class="lineno">13024</span>    FocusWindow(NULL, flags);</div>
<div class="line"><a id="l13025" name="l13025"></a><span class="lineno">13025</span>}</div>
<div class="line"><a id="l13026" name="l13026"></a><span class="lineno">13026</span> </div>
<div class="line"><a id="l13027" name="l13027"></a><span class="lineno">13027</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l13028" name="l13028"></a><span class="lineno">13028</span><span class="comment">// [SECTION] KEYBOARD/GAMEPAD NAVIGATION</span></div>
<div class="line"><a id="l13029" name="l13029"></a><span class="lineno">13029</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l13030" name="l13030"></a><span class="lineno">13030</span> </div>
<div class="line"><a id="l13031" name="l13031"></a><span class="lineno">13031</span><span class="comment">// FIXME-NAV: The existence of SetNavID vs SetFocusID vs FocusWindow() needs to be clarified/reworked.</span></div>
<div class="line"><a id="l13032" name="l13032"></a><span class="lineno">13032</span><span class="comment">// In our terminology those should be interchangeable, yet right now this is super confusing.</span></div>
<div class="line"><a id="l13033" name="l13033"></a><span class="lineno">13033</span><span class="comment">// Those two functions are merely a legacy artifact, so at minimum naming should be clarified.</span></div>
<div class="line"><a id="l13034" name="l13034"></a><span class="lineno">13034</span> </div>
<div class="line"><a id="l13035" name="l13035"></a><span class="lineno">13035</span><span class="keywordtype">void</span> ImGui::SetNavCursorVisible(<span class="keywordtype">bool</span> visible)</div>
<div class="line"><a id="l13036" name="l13036"></a><span class="lineno">13036</span>{</div>
<div class="line"><a id="l13037" name="l13037"></a><span class="lineno">13037</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l13038" name="l13038"></a><span class="lineno">13038</span>    <span class="keywordflow">if</span> (g.IO.ConfigNavCursorVisibleAlways)</div>
<div class="line"><a id="l13039" name="l13039"></a><span class="lineno">13039</span>        visible = <span class="keyword">true</span>;</div>
<div class="line"><a id="l13040" name="l13040"></a><span class="lineno">13040</span>    g.NavCursorVisible = visible;</div>
<div class="line"><a id="l13041" name="l13041"></a><span class="lineno">13041</span>}</div>
<div class="line"><a id="l13042" name="l13042"></a><span class="lineno">13042</span> </div>
<div class="line"><a id="l13043" name="l13043"></a><span class="lineno">13043</span><span class="comment">// (was called NavRestoreHighlightAfterMove() before 1.91.4)</span></div>
<div class="line"><a id="l13044" name="l13044"></a><span class="lineno">13044</span><span class="keywordtype">void</span> ImGui::SetNavCursorVisibleAfterMove()</div>
<div class="line"><a id="l13045" name="l13045"></a><span class="lineno">13045</span>{</div>
<div class="line"><a id="l13046" name="l13046"></a><span class="lineno">13046</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l13047" name="l13047"></a><span class="lineno">13047</span>    <span class="keywordflow">if</span> (g.IO.ConfigNavCursorVisibleAuto)</div>
<div class="line"><a id="l13048" name="l13048"></a><span class="lineno">13048</span>        g.NavCursorVisible = <span class="keyword">true</span>;</div>
<div class="line"><a id="l13049" name="l13049"></a><span class="lineno">13049</span>    g.NavHighlightItemUnderNav = g.NavMousePosDirty = <span class="keyword">true</span>;</div>
<div class="line"><a id="l13050" name="l13050"></a><span class="lineno">13050</span>}</div>
<div class="line"><a id="l13051" name="l13051"></a><span class="lineno">13051</span> </div>
<div class="line"><a id="l13052" name="l13052"></a><span class="lineno">13052</span><span class="keywordtype">void</span> ImGui::SetNavWindow(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l13053" name="l13053"></a><span class="lineno">13053</span>{</div>
<div class="line"><a id="l13054" name="l13054"></a><span class="lineno">13054</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l13055" name="l13055"></a><span class="lineno">13055</span>    <span class="keywordflow">if</span> (g.NavWindow != window)</div>
<div class="line"><a id="l13056" name="l13056"></a><span class="lineno">13056</span>    {</div>
<div class="line"><a id="l13057" name="l13057"></a><span class="lineno">13057</span>        IMGUI_DEBUG_LOG_FOCUS(<span class="stringliteral">&quot;[focus] SetNavWindow(\&quot;%s\&quot;)\n&quot;</span>, window ? window-&gt;Name : <span class="stringliteral">&quot;&lt;NULL&gt;&quot;</span>);</div>
<div class="line"><a id="l13058" name="l13058"></a><span class="lineno">13058</span>        g.NavWindow = window;</div>
<div class="line"><a id="l13059" name="l13059"></a><span class="lineno">13059</span>        g.NavLastValidSelectionUserData = ImGuiSelectionUserData_Invalid;</div>
<div class="line"><a id="l13060" name="l13060"></a><span class="lineno">13060</span>    }</div>
<div class="line"><a id="l13061" name="l13061"></a><span class="lineno">13061</span>    g.NavInitRequest = g.NavMoveSubmitted = g.NavMoveScoringItems = <span class="keyword">false</span>;</div>
<div class="line"><a id="l13062" name="l13062"></a><span class="lineno">13062</span>    NavUpdateAnyRequestFlag();</div>
<div class="line"><a id="l13063" name="l13063"></a><span class="lineno">13063</span>}</div>
<div class="line"><a id="l13064" name="l13064"></a><span class="lineno">13064</span> </div>
<div class="line"><a id="l13065" name="l13065"></a><span class="lineno">13065</span><span class="keywordtype">void</span> ImGui::NavHighlightActivated(ImGuiID <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l13066" name="l13066"></a><span class="lineno">13066</span>{</div>
<div class="line"><a id="l13067" name="l13067"></a><span class="lineno">13067</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l13068" name="l13068"></a><span class="lineno">13068</span>    g.NavHighlightActivatedId = id;</div>
<div class="line"><a id="l13069" name="l13069"></a><span class="lineno">13069</span>    g.NavHighlightActivatedTimer = NAV_ACTIVATE_HIGHLIGHT_TIMER;</div>
<div class="line"><a id="l13070" name="l13070"></a><span class="lineno">13070</span>}</div>
<div class="line"><a id="l13071" name="l13071"></a><span class="lineno">13071</span> </div>
<div class="line"><a id="l13072" name="l13072"></a><span class="lineno">13072</span><span class="keywordtype">void</span> ImGui::NavClearPreferredPosForAxis(ImGuiAxis axis)</div>
<div class="line"><a id="l13073" name="l13073"></a><span class="lineno">13073</span>{</div>
<div class="line"><a id="l13074" name="l13074"></a><span class="lineno">13074</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l13075" name="l13075"></a><span class="lineno">13075</span>    g.NavWindow-&gt;RootWindowForNav-&gt;NavPreferredScoringPosRel[g.NavLayer][axis] = FLT_MAX;</div>
<div class="line"><a id="l13076" name="l13076"></a><span class="lineno">13076</span>}</div>
<div class="line"><a id="l13077" name="l13077"></a><span class="lineno">13077</span> </div>
<div class="line"><a id="l13078" name="l13078"></a><span class="lineno">13078</span><span class="keywordtype">void</span> ImGui::SetNavID(ImGuiID <span class="keywordtype">id</span>, ImGuiNavLayer nav_layer, ImGuiID focus_scope_id, <span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; rect_rel)</div>
<div class="line"><a id="l13079" name="l13079"></a><span class="lineno">13079</span>{</div>
<div class="line"><a id="l13080" name="l13080"></a><span class="lineno">13080</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l13081" name="l13081"></a><span class="lineno">13081</span>    IM_ASSERT(g.NavWindow != NULL);</div>
<div class="line"><a id="l13082" name="l13082"></a><span class="lineno">13082</span>    IM_ASSERT(nav_layer == ImGuiNavLayer_Main || nav_layer == ImGuiNavLayer_Menu);</div>
<div class="line"><a id="l13083" name="l13083"></a><span class="lineno">13083</span>    g.NavId = id;</div>
<div class="line"><a id="l13084" name="l13084"></a><span class="lineno">13084</span>    g.NavLayer = nav_layer;</div>
<div class="line"><a id="l13085" name="l13085"></a><span class="lineno">13085</span>    SetNavFocusScope(focus_scope_id);</div>
<div class="line"><a id="l13086" name="l13086"></a><span class="lineno">13086</span>    g.NavWindow-&gt;NavLastIds[nav_layer] = id;</div>
<div class="line"><a id="l13087" name="l13087"></a><span class="lineno">13087</span>    g.NavWindow-&gt;NavRectRel[nav_layer] = rect_rel;</div>
<div class="line"><a id="l13088" name="l13088"></a><span class="lineno">13088</span> </div>
<div class="line"><a id="l13089" name="l13089"></a><span class="lineno">13089</span>    <span class="comment">// Clear preferred scoring position (NavMoveRequestApplyResult() will tend to restore it)</span></div>
<div class="line"><a id="l13090" name="l13090"></a><span class="lineno">13090</span>    NavClearPreferredPosForAxis(ImGuiAxis_X);</div>
<div class="line"><a id="l13091" name="l13091"></a><span class="lineno">13091</span>    NavClearPreferredPosForAxis(ImGuiAxis_Y);</div>
<div class="line"><a id="l13092" name="l13092"></a><span class="lineno">13092</span>}</div>
<div class="line"><a id="l13093" name="l13093"></a><span class="lineno">13093</span> </div>
<div class="line"><a id="l13094" name="l13094"></a><span class="lineno">13094</span><span class="keywordtype">void</span> ImGui::SetFocusID(ImGuiID <span class="keywordtype">id</span>, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l13095" name="l13095"></a><span class="lineno">13095</span>{</div>
<div class="line"><a id="l13096" name="l13096"></a><span class="lineno">13096</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l13097" name="l13097"></a><span class="lineno">13097</span>    IM_ASSERT(<span class="keywordtype">id</span> != 0);</div>
<div class="line"><a id="l13098" name="l13098"></a><span class="lineno">13098</span> </div>
<div class="line"><a id="l13099" name="l13099"></a><span class="lineno">13099</span>    <span class="keywordflow">if</span> (g.NavWindow != window)</div>
<div class="line"><a id="l13100" name="l13100"></a><span class="lineno">13100</span>       SetNavWindow(window);</div>
<div class="line"><a id="l13101" name="l13101"></a><span class="lineno">13101</span> </div>
<div class="line"><a id="l13102" name="l13102"></a><span class="lineno">13102</span>    <span class="comment">// Assume that SetFocusID() is called in the context where its window-&gt;DC.NavLayerCurrent and g.CurrentFocusScopeId are valid.</span></div>
<div class="line"><a id="l13103" name="l13103"></a><span class="lineno">13103</span>    <span class="comment">// Note that window may be != g.CurrentWindow (e.g. SetFocusID call in InputTextEx for multi-line text)</span></div>
<div class="line"><a id="l13104" name="l13104"></a><span class="lineno">13104</span>    <span class="keyword">const</span> ImGuiNavLayer nav_layer = window-&gt;DC.NavLayerCurrent;</div>
<div class="line"><a id="l13105" name="l13105"></a><span class="lineno">13105</span>    g.NavId = id;</div>
<div class="line"><a id="l13106" name="l13106"></a><span class="lineno">13106</span>    g.NavLayer = nav_layer;</div>
<div class="line"><a id="l13107" name="l13107"></a><span class="lineno">13107</span>    SetNavFocusScope(g.CurrentFocusScopeId);</div>
<div class="line"><a id="l13108" name="l13108"></a><span class="lineno">13108</span>    window-&gt;NavLastIds[nav_layer] = id;</div>
<div class="line"><a id="l13109" name="l13109"></a><span class="lineno">13109</span>    <span class="keywordflow">if</span> (g.LastItemData.ID == <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l13110" name="l13110"></a><span class="lineno">13110</span>        window-&gt;NavRectRel[nav_layer] = WindowRectAbsToRel(window, g.LastItemData.NavRect);</div>
<div class="line"><a id="l13111" name="l13111"></a><span class="lineno">13111</span> </div>
<div class="line"><a id="l13112" name="l13112"></a><span class="lineno">13112</span>    <span class="keywordflow">if</span> (g.ActiveIdSource == ImGuiInputSource_Keyboard || g.ActiveIdSource == ImGuiInputSource_Gamepad)</div>
<div class="line"><a id="l13113" name="l13113"></a><span class="lineno">13113</span>        g.NavHighlightItemUnderNav = <span class="keyword">true</span>;</div>
<div class="line"><a id="l13114" name="l13114"></a><span class="lineno">13114</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (g.IO.ConfigNavCursorVisibleAuto)</div>
<div class="line"><a id="l13115" name="l13115"></a><span class="lineno">13115</span>        g.NavCursorVisible = <span class="keyword">false</span>;</div>
<div class="line"><a id="l13116" name="l13116"></a><span class="lineno">13116</span> </div>
<div class="line"><a id="l13117" name="l13117"></a><span class="lineno">13117</span>    <span class="comment">// Clear preferred scoring position (NavMoveRequestApplyResult() will tend to restore it)</span></div>
<div class="line"><a id="l13118" name="l13118"></a><span class="lineno">13118</span>    NavClearPreferredPosForAxis(ImGuiAxis_X);</div>
<div class="line"><a id="l13119" name="l13119"></a><span class="lineno">13119</span>    NavClearPreferredPosForAxis(ImGuiAxis_Y);</div>
<div class="line"><a id="l13120" name="l13120"></a><span class="lineno">13120</span>}</div>
<div class="line"><a id="l13121" name="l13121"></a><span class="lineno">13121</span> </div>
<div class="line"><a id="l13122" name="l13122"></a><span class="lineno">13122</span><span class="keyword">static</span> ImGuiDir ImGetDirQuadrantFromDelta(<span class="keywordtype">float</span> dx, <span class="keywordtype">float</span> dy)</div>
<div class="line"><a id="l13123" name="l13123"></a><span class="lineno">13123</span>{</div>
<div class="line"><a id="l13124" name="l13124"></a><span class="lineno">13124</span>    <span class="keywordflow">if</span> (ImFabs(dx) &gt; ImFabs(dy))</div>
<div class="line"><a id="l13125" name="l13125"></a><span class="lineno">13125</span>        <span class="keywordflow">return</span> (dx &gt; 0.0f) ? ImGuiDir_Right : ImGuiDir_Left;</div>
<div class="line"><a id="l13126" name="l13126"></a><span class="lineno">13126</span>    <span class="keywordflow">return</span> (dy &gt; 0.0f) ? ImGuiDir_Down : ImGuiDir_Up;</div>
<div class="line"><a id="l13127" name="l13127"></a><span class="lineno">13127</span>}</div>
<div class="line"><a id="l13128" name="l13128"></a><span class="lineno">13128</span> </div>
<div class="line"><a id="l13129" name="l13129"></a><span class="lineno">13129</span><span class="keyword">static</span> <span class="keywordtype">float</span> <span class="keyword">inline</span> NavScoreItemDistInterval(<span class="keywordtype">float</span> cand_min, <span class="keywordtype">float</span> cand_max, <span class="keywordtype">float</span> curr_min, <span class="keywordtype">float</span> curr_max)</div>
<div class="line"><a id="l13130" name="l13130"></a><span class="lineno">13130</span>{</div>
<div class="line"><a id="l13131" name="l13131"></a><span class="lineno">13131</span>    <span class="keywordflow">if</span> (cand_max &lt; curr_min)</div>
<div class="line"><a id="l13132" name="l13132"></a><span class="lineno">13132</span>        <span class="keywordflow">return</span> cand_max - curr_min;</div>
<div class="line"><a id="l13133" name="l13133"></a><span class="lineno">13133</span>    <span class="keywordflow">if</span> (curr_max &lt; cand_min)</div>
<div class="line"><a id="l13134" name="l13134"></a><span class="lineno">13134</span>        <span class="keywordflow">return</span> cand_min - curr_max;</div>
<div class="line"><a id="l13135" name="l13135"></a><span class="lineno">13135</span>    <span class="keywordflow">return</span> 0.0f;</div>
<div class="line"><a id="l13136" name="l13136"></a><span class="lineno">13136</span>}</div>
<div class="line"><a id="l13137" name="l13137"></a><span class="lineno">13137</span> </div>
<div class="line"><a id="l13138" name="l13138"></a><span class="lineno">13138</span><span class="comment">// Scoring function for keyboard/gamepad directional navigation. Based on https://gist.github.com/rygorous/6981057</span></div>
<div class="line"><a id="l13139" name="l13139"></a><span class="lineno">13139</span><span class="keyword">static</span> <span class="keywordtype">bool</span> ImGui::NavScoreItem(<a class="code hl_struct" href="structImGuiNavItemData.html">ImGuiNavItemData</a>* result)</div>
<div class="line"><a id="l13140" name="l13140"></a><span class="lineno">13140</span>{</div>
<div class="line"><a id="l13141" name="l13141"></a><span class="lineno">13141</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l13142" name="l13142"></a><span class="lineno">13142</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l13143" name="l13143"></a><span class="lineno">13143</span>    <span class="keywordflow">if</span> (g.NavLayer != window-&gt;DC.NavLayerCurrent)</div>
<div class="line"><a id="l13144" name="l13144"></a><span class="lineno">13144</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l13145" name="l13145"></a><span class="lineno">13145</span> </div>
<div class="line"><a id="l13146" name="l13146"></a><span class="lineno">13146</span>    <span class="comment">// FIXME: Those are not good variables names</span></div>
<div class="line"><a id="l13147" name="l13147"></a><span class="lineno">13147</span>    <a class="code hl_struct" href="structImRect.html">ImRect</a> cand = g.LastItemData.NavRect;   <span class="comment">// Current item nav rectangle</span></div>
<div class="line"><a id="l13148" name="l13148"></a><span class="lineno">13148</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a> curr = g.NavScoringRect;   <span class="comment">// Current modified source rect (NB: we&#39;ve applied Max.x = Min.x in NavUpdate() to inhibit the effect of having varied item width)</span></div>
<div class="line"><a id="l13149" name="l13149"></a><span class="lineno">13149</span>    g.NavScoringDebugCount++;</div>
<div class="line"><a id="l13150" name="l13150"></a><span class="lineno">13150</span> </div>
<div class="line"><a id="l13151" name="l13151"></a><span class="lineno">13151</span>    <span class="comment">// When entering through a NavFlattened border, we consider child window items as fully clipped for scoring</span></div>
<div class="line"><a id="l13152" name="l13152"></a><span class="lineno">13152</span>    <span class="keywordflow">if</span> (window-&gt;ParentWindow == g.NavWindow)</div>
<div class="line"><a id="l13153" name="l13153"></a><span class="lineno">13153</span>    {</div>
<div class="line"><a id="l13154" name="l13154"></a><span class="lineno">13154</span>        IM_ASSERT((window-&gt;ChildFlags | g.NavWindow-&gt;ChildFlags) &amp; ImGuiChildFlags_NavFlattened);</div>
<div class="line"><a id="l13155" name="l13155"></a><span class="lineno">13155</span>        <span class="keywordflow">if</span> (!window-&gt;ClipRect.Overlaps(cand))</div>
<div class="line"><a id="l13156" name="l13156"></a><span class="lineno">13156</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l13157" name="l13157"></a><span class="lineno">13157</span>        cand.ClipWithFull(window-&gt;ClipRect); <span class="comment">// This allows the scored item to not overlap other candidates in the parent window</span></div>
<div class="line"><a id="l13158" name="l13158"></a><span class="lineno">13158</span>    }</div>
<div class="line"><a id="l13159" name="l13159"></a><span class="lineno">13159</span> </div>
<div class="line"><a id="l13160" name="l13160"></a><span class="lineno">13160</span>    <span class="comment">// Compute distance between boxes</span></div>
<div class="line"><a id="l13161" name="l13161"></a><span class="lineno">13161</span>    <span class="comment">// FIXME-NAV: Introducing biases for vertical navigation, needs to be removed.</span></div>
<div class="line"><a id="l13162" name="l13162"></a><span class="lineno">13162</span>    <span class="keywordtype">float</span> dbx = NavScoreItemDistInterval(cand.Min.x, cand.Max.x, curr.Min.x, curr.Max.x);</div>
<div class="line"><a id="l13163" name="l13163"></a><span class="lineno">13163</span>    <span class="keywordtype">float</span> dby = NavScoreItemDistInterval(ImLerp(cand.Min.y, cand.Max.y, 0.2f), ImLerp(cand.Min.y, cand.Max.y, 0.8f), ImLerp(curr.Min.y, curr.Max.y, 0.2f), ImLerp(curr.Min.y, curr.Max.y, 0.8f)); <span class="comment">// Scale down on Y to keep using box-distance for vertically touching items</span></div>
<div class="line"><a id="l13164" name="l13164"></a><span class="lineno">13164</span>    <span class="keywordflow">if</span> (dby != 0.0f &amp;&amp; dbx != 0.0f)</div>
<div class="line"><a id="l13165" name="l13165"></a><span class="lineno">13165</span>        dbx = (dbx / 1000.0f) + ((dbx &gt; 0.0f) ? +1.0f : -1.0f);</div>
<div class="line"><a id="l13166" name="l13166"></a><span class="lineno">13166</span>    <span class="keywordtype">float</span> dist_box = ImFabs(dbx) + ImFabs(dby);</div>
<div class="line"><a id="l13167" name="l13167"></a><span class="lineno">13167</span> </div>
<div class="line"><a id="l13168" name="l13168"></a><span class="lineno">13168</span>    <span class="comment">// Compute distance between centers (this is off by a factor of 2, but we only compare center distances with each other so it doesn&#39;t matter)</span></div>
<div class="line"><a id="l13169" name="l13169"></a><span class="lineno">13169</span>    <span class="keywordtype">float</span> dcx = (cand.Min.x + cand.Max.x) - (curr.Min.x + curr.Max.x);</div>
<div class="line"><a id="l13170" name="l13170"></a><span class="lineno">13170</span>    <span class="keywordtype">float</span> dcy = (cand.Min.y + cand.Max.y) - (curr.Min.y + curr.Max.y);</div>
<div class="line"><a id="l13171" name="l13171"></a><span class="lineno">13171</span>    <span class="keywordtype">float</span> dist_center = ImFabs(dcx) + ImFabs(dcy); <span class="comment">// L1 metric (need this for our connectedness guarantee)</span></div>
<div class="line"><a id="l13172" name="l13172"></a><span class="lineno">13172</span> </div>
<div class="line"><a id="l13173" name="l13173"></a><span class="lineno">13173</span>    <span class="comment">// Determine which quadrant of &#39;curr&#39; our candidate item &#39;cand&#39; lies in based on distance</span></div>
<div class="line"><a id="l13174" name="l13174"></a><span class="lineno">13174</span>    ImGuiDir quadrant;</div>
<div class="line"><a id="l13175" name="l13175"></a><span class="lineno">13175</span>    <span class="keywordtype">float</span> dax = 0.0f, day = 0.0f, dist_axial = 0.0f;</div>
<div class="line"><a id="l13176" name="l13176"></a><span class="lineno">13176</span>    <span class="keywordflow">if</span> (dbx != 0.0f || dby != 0.0f)</div>
<div class="line"><a id="l13177" name="l13177"></a><span class="lineno">13177</span>    {</div>
<div class="line"><a id="l13178" name="l13178"></a><span class="lineno">13178</span>        <span class="comment">// For non-overlapping boxes, use distance between boxes</span></div>
<div class="line"><a id="l13179" name="l13179"></a><span class="lineno">13179</span>        <span class="comment">// FIXME-NAV: Quadrant may be incorrect because of (1) dbx bias and (2) curr.Max.y bias applied by NavBiasScoringRect() where typically curr.Max.y==curr.Min.y</span></div>
<div class="line"><a id="l13180" name="l13180"></a><span class="lineno">13180</span>        <span class="comment">// One typical case where this happens, with style.WindowMenuButtonPosition == ImGuiDir_Right, pressing Left to navigate from Close to Collapse tends to fail.</span></div>
<div class="line"><a id="l13181" name="l13181"></a><span class="lineno">13181</span>        <span class="comment">// Also see #6344. Calling ImGetDirQuadrantFromDelta() with unbiased values may be good but side-effects are plenty.</span></div>
<div class="line"><a id="l13182" name="l13182"></a><span class="lineno">13182</span>        dax = dbx;</div>
<div class="line"><a id="l13183" name="l13183"></a><span class="lineno">13183</span>        day = dby;</div>
<div class="line"><a id="l13184" name="l13184"></a><span class="lineno">13184</span>        dist_axial = dist_box;</div>
<div class="line"><a id="l13185" name="l13185"></a><span class="lineno">13185</span>        quadrant = ImGetDirQuadrantFromDelta(dbx, dby);</div>
<div class="line"><a id="l13186" name="l13186"></a><span class="lineno">13186</span>    }</div>
<div class="line"><a id="l13187" name="l13187"></a><span class="lineno">13187</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dcx != 0.0f || dcy != 0.0f)</div>
<div class="line"><a id="l13188" name="l13188"></a><span class="lineno">13188</span>    {</div>
<div class="line"><a id="l13189" name="l13189"></a><span class="lineno">13189</span>        <span class="comment">// For overlapping boxes with different centers, use distance between centers</span></div>
<div class="line"><a id="l13190" name="l13190"></a><span class="lineno">13190</span>        dax = dcx;</div>
<div class="line"><a id="l13191" name="l13191"></a><span class="lineno">13191</span>        day = dcy;</div>
<div class="line"><a id="l13192" name="l13192"></a><span class="lineno">13192</span>        dist_axial = dist_center;</div>
<div class="line"><a id="l13193" name="l13193"></a><span class="lineno">13193</span>        quadrant = ImGetDirQuadrantFromDelta(dcx, dcy);</div>
<div class="line"><a id="l13194" name="l13194"></a><span class="lineno">13194</span>    }</div>
<div class="line"><a id="l13195" name="l13195"></a><span class="lineno">13195</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l13196" name="l13196"></a><span class="lineno">13196</span>    {</div>
<div class="line"><a id="l13197" name="l13197"></a><span class="lineno">13197</span>        <span class="comment">// Degenerate case: two overlapping buttons with same center, break ties arbitrarily (note that LastItemId here is really the _previous_ item order, but it doesn&#39;t matter)</span></div>
<div class="line"><a id="l13198" name="l13198"></a><span class="lineno">13198</span>        quadrant = (g.LastItemData.ID &lt; g.NavId) ? ImGuiDir_Left : ImGuiDir_Right;</div>
<div class="line"><a id="l13199" name="l13199"></a><span class="lineno">13199</span>    }</div>
<div class="line"><a id="l13200" name="l13200"></a><span class="lineno">13200</span> </div>
<div class="line"><a id="l13201" name="l13201"></a><span class="lineno">13201</span>    <span class="keyword">const</span> ImGuiDir move_dir = g.NavMoveDir;</div>
<div class="line"><a id="l13202" name="l13202"></a><span class="lineno">13202</span><span class="preprocessor">#if IMGUI_DEBUG_NAV_SCORING</span></div>
<div class="line"><a id="l13203" name="l13203"></a><span class="lineno">13203</span>    <span class="keywordtype">char</span> buf[200];</div>
<div class="line"><a id="l13204" name="l13204"></a><span class="lineno">13204</span>    <span class="keywordflow">if</span> (g.IO.KeyCtrl) <span class="comment">// Hold CTRL to preview score in matching quadrant. CTRL+Arrow to rotate.</span></div>
<div class="line"><a id="l13205" name="l13205"></a><span class="lineno">13205</span>    {</div>
<div class="line"><a id="l13206" name="l13206"></a><span class="lineno">13206</span>        <span class="keywordflow">if</span> (quadrant == move_dir)</div>
<div class="line"><a id="l13207" name="l13207"></a><span class="lineno">13207</span>        {</div>
<div class="line"><a id="l13208" name="l13208"></a><span class="lineno">13208</span>            ImFormatString(buf, IM_ARRAYSIZE(buf), <span class="stringliteral">&quot;%.0f/%.0f&quot;</span>, dist_box, dist_center);</div>
<div class="line"><a id="l13209" name="l13209"></a><span class="lineno">13209</span>            <a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>* draw_list = GetForegroundDrawList(window);</div>
<div class="line"><a id="l13210" name="l13210"></a><span class="lineno">13210</span>            draw_list-&gt;AddRectFilled(cand.Min, cand.Max, IM_COL32(255, 0, 0, 80));</div>
<div class="line"><a id="l13211" name="l13211"></a><span class="lineno">13211</span>            draw_list-&gt;AddRectFilled(cand.Min, cand.Min + CalcTextSize(buf), IM_COL32(255, 0, 0, 200));</div>
<div class="line"><a id="l13212" name="l13212"></a><span class="lineno">13212</span>            draw_list-&gt;AddText(cand.Min, IM_COL32(255, 255, 255, 255), buf);</div>
<div class="line"><a id="l13213" name="l13213"></a><span class="lineno">13213</span>        }</div>
<div class="line"><a id="l13214" name="l13214"></a><span class="lineno">13214</span>    }</div>
<div class="line"><a id="l13215" name="l13215"></a><span class="lineno">13215</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> debug_hovering = IsMouseHoveringRect(cand.Min, cand.Max);</div>
<div class="line"><a id="l13216" name="l13216"></a><span class="lineno">13216</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> debug_tty = (g.IO.KeyCtrl &amp;&amp; IsKeyPressed(ImGuiKey_Space));</div>
<div class="line"><a id="l13217" name="l13217"></a><span class="lineno">13217</span>    <span class="keywordflow">if</span> (debug_hovering || debug_tty)</div>
<div class="line"><a id="l13218" name="l13218"></a><span class="lineno">13218</span>    {</div>
<div class="line"><a id="l13219" name="l13219"></a><span class="lineno">13219</span>        ImFormatString(buf, IM_ARRAYSIZE(buf),</div>
<div class="line"><a id="l13220" name="l13220"></a><span class="lineno">13220</span>            <span class="stringliteral">&quot;d-box    (%7.3f,%7.3f) -&gt; %7.3f\nd-center (%7.3f,%7.3f) -&gt; %7.3f\nd-axial  (%7.3f,%7.3f) -&gt; %7.3f\nnav %c, quadrant %c&quot;</span>,</div>
<div class="line"><a id="l13221" name="l13221"></a><span class="lineno">13221</span>            dbx, dby, dist_box, dcx, dcy, dist_center, dax, day, dist_axial, <span class="stringliteral">&quot;-WENS&quot;</span>[move_dir+1], <span class="stringliteral">&quot;-WENS&quot;</span>[quadrant+1]);</div>
<div class="line"><a id="l13222" name="l13222"></a><span class="lineno">13222</span>        <span class="keywordflow">if</span> (debug_hovering)</div>
<div class="line"><a id="l13223" name="l13223"></a><span class="lineno">13223</span>        {</div>
<div class="line"><a id="l13224" name="l13224"></a><span class="lineno">13224</span>            <a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>* draw_list = GetForegroundDrawList(window);</div>
<div class="line"><a id="l13225" name="l13225"></a><span class="lineno">13225</span>            draw_list-&gt;AddRect(curr.Min, curr.Max, IM_COL32(255, 200, 0, 100));</div>
<div class="line"><a id="l13226" name="l13226"></a><span class="lineno">13226</span>            draw_list-&gt;AddRect(cand.Min, cand.Max, IM_COL32(255, 255, 0, 200));</div>
<div class="line"><a id="l13227" name="l13227"></a><span class="lineno">13227</span>            draw_list-&gt;AddRectFilled(cand.Max - <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(4, 4), cand.Max + CalcTextSize(buf) + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(4, 4), IM_COL32(40, 0, 0, 200));</div>
<div class="line"><a id="l13228" name="l13228"></a><span class="lineno">13228</span>            draw_list-&gt;AddText(cand.Max, ~0U, buf);</div>
<div class="line"><a id="l13229" name="l13229"></a><span class="lineno">13229</span>        }</div>
<div class="line"><a id="l13230" name="l13230"></a><span class="lineno">13230</span>        <span class="keywordflow">if</span> (debug_tty) { IMGUI_DEBUG_LOG_NAV(<span class="stringliteral">&quot;id 0x%08X\n%s\n&quot;</span>, g.LastItemData.ID, buf); }</div>
<div class="line"><a id="l13231" name="l13231"></a><span class="lineno">13231</span>    }</div>
<div class="line"><a id="l13232" name="l13232"></a><span class="lineno">13232</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l13233" name="l13233"></a><span class="lineno">13233</span> </div>
<div class="line"><a id="l13234" name="l13234"></a><span class="lineno">13234</span>    <span class="comment">// Is it in the quadrant we&#39;re interested in moving to?</span></div>
<div class="line"><a id="l13235" name="l13235"></a><span class="lineno">13235</span>    <span class="keywordtype">bool</span> new_best = <span class="keyword">false</span>;</div>
<div class="line"><a id="l13236" name="l13236"></a><span class="lineno">13236</span>    <span class="keywordflow">if</span> (quadrant == move_dir)</div>
<div class="line"><a id="l13237" name="l13237"></a><span class="lineno">13237</span>    {</div>
<div class="line"><a id="l13238" name="l13238"></a><span class="lineno">13238</span>        <span class="comment">// Does it beat the current best candidate?</span></div>
<div class="line"><a id="l13239" name="l13239"></a><span class="lineno">13239</span>        <span class="keywordflow">if</span> (dist_box &lt; result-&gt;DistBox)</div>
<div class="line"><a id="l13240" name="l13240"></a><span class="lineno">13240</span>        {</div>
<div class="line"><a id="l13241" name="l13241"></a><span class="lineno">13241</span>            result-&gt;DistBox = dist_box;</div>
<div class="line"><a id="l13242" name="l13242"></a><span class="lineno">13242</span>            result-&gt;DistCenter = dist_center;</div>
<div class="line"><a id="l13243" name="l13243"></a><span class="lineno">13243</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l13244" name="l13244"></a><span class="lineno">13244</span>        }</div>
<div class="line"><a id="l13245" name="l13245"></a><span class="lineno">13245</span>        <span class="keywordflow">if</span> (dist_box == result-&gt;DistBox)</div>
<div class="line"><a id="l13246" name="l13246"></a><span class="lineno">13246</span>        {</div>
<div class="line"><a id="l13247" name="l13247"></a><span class="lineno">13247</span>            <span class="comment">// Try using distance between center points to break ties</span></div>
<div class="line"><a id="l13248" name="l13248"></a><span class="lineno">13248</span>            <span class="keywordflow">if</span> (dist_center &lt; result-&gt;DistCenter)</div>
<div class="line"><a id="l13249" name="l13249"></a><span class="lineno">13249</span>            {</div>
<div class="line"><a id="l13250" name="l13250"></a><span class="lineno">13250</span>                result-&gt;DistCenter = dist_center;</div>
<div class="line"><a id="l13251" name="l13251"></a><span class="lineno">13251</span>                new_best = <span class="keyword">true</span>;</div>
<div class="line"><a id="l13252" name="l13252"></a><span class="lineno">13252</span>            }</div>
<div class="line"><a id="l13253" name="l13253"></a><span class="lineno">13253</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dist_center == result-&gt;DistCenter)</div>
<div class="line"><a id="l13254" name="l13254"></a><span class="lineno">13254</span>            {</div>
<div class="line"><a id="l13255" name="l13255"></a><span class="lineno">13255</span>                <span class="comment">// Still tied! we need to be extra-careful to make sure everything gets linked properly. We consistently break ties by symbolically moving &quot;later&quot; items</span></div>
<div class="line"><a id="l13256" name="l13256"></a><span class="lineno">13256</span>                <span class="comment">// (with higher index) to the right/downwards by an infinitesimal amount since we the current &quot;best&quot; button already (so it must have a lower index),</span></div>
<div class="line"><a id="l13257" name="l13257"></a><span class="lineno">13257</span>                <span class="comment">// this is fairly easy. This rule ensures that all buttons with dx==dy==0 will end up being linked in order of appearance along the x axis.</span></div>
<div class="line"><a id="l13258" name="l13258"></a><span class="lineno">13258</span>                <span class="keywordflow">if</span> (((move_dir == ImGuiDir_Up || move_dir == ImGuiDir_Down) ? dby : dbx) &lt; 0.0f) <span class="comment">// moving bj to the right/down decreases distance</span></div>
<div class="line"><a id="l13259" name="l13259"></a><span class="lineno">13259</span>                    new_best = true;</div>
<div class="line"><a id="l13260" name="l13260"></a><span class="lineno">13260</span>            }</div>
<div class="line"><a id="l13261" name="l13261"></a><span class="lineno">13261</span>        }</div>
<div class="line"><a id="l13262" name="l13262"></a><span class="lineno">13262</span>    }</div>
<div class="line"><a id="l13263" name="l13263"></a><span class="lineno">13263</span> </div>
<div class="line"><a id="l13264" name="l13264"></a><span class="lineno">13264</span>    <span class="comment">// Axial check: if &#39;curr&#39; has no link at all in some direction and &#39;cand&#39; lies roughly in that direction, add a tentative link. This will only be kept if no &quot;real&quot; matches</span></div>
<div class="line"><a id="l13265" name="l13265"></a><span class="lineno">13265</span>    <span class="comment">// are found, so it only augments the graph produced by the above method using extra links. (important, since it doesn&#39;t guarantee strong connectedness)</span></div>
<div class="line"><a id="l13266" name="l13266"></a><span class="lineno">13266</span>    <span class="comment">// This is just to avoid buttons having no links in a particular direction when there&#39;s a suitable neighbor. you get good graphs without this too.</span></div>
<div class="line"><a id="l13267" name="l13267"></a><span class="lineno">13267</span>    <span class="comment">// 2017/09/29: FIXME: This now currently only enabled inside menu bars, ideally we&#39;d disable it everywhere. Menus in particular need to catch failure. For general navigation it feels awkward.</span></div>
<div class="line"><a id="l13268" name="l13268"></a><span class="lineno">13268</span>    <span class="comment">// Disabling it may lead to disconnected graphs when nodes are very spaced out on different axis. Perhaps consider offering this as an option?</span></div>
<div class="line"><a id="l13269" name="l13269"></a><span class="lineno">13269</span>    <span class="keywordflow">if</span> (result-&gt;DistBox == FLT_MAX &amp;&amp; dist_axial &lt; result-&gt;DistAxial)  <span class="comment">// Check axial match</span></div>
<div class="line"><a id="l13270" name="l13270"></a><span class="lineno">13270</span>        <span class="keywordflow">if</span> (g.NavLayer == ImGuiNavLayer_Menu &amp;&amp; !(g.NavWindow-&gt;Flags &amp; ImGuiWindowFlags_ChildMenu))</div>
<div class="line"><a id="l13271" name="l13271"></a><span class="lineno">13271</span>            <span class="keywordflow">if</span> ((move_dir == ImGuiDir_Left &amp;&amp; dax &lt; 0.0f) || (move_dir == ImGuiDir_Right &amp;&amp; dax &gt; 0.0f) || (move_dir == ImGuiDir_Up &amp;&amp; day &lt; 0.0f) || (move_dir == ImGuiDir_Down &amp;&amp; day &gt; 0.0f))</div>
<div class="line"><a id="l13272" name="l13272"></a><span class="lineno">13272</span>            {</div>
<div class="line"><a id="l13273" name="l13273"></a><span class="lineno">13273</span>                result-&gt;DistAxial = dist_axial;</div>
<div class="line"><a id="l13274" name="l13274"></a><span class="lineno">13274</span>                new_best = <span class="keyword">true</span>;</div>
<div class="line"><a id="l13275" name="l13275"></a><span class="lineno">13275</span>            }</div>
<div class="line"><a id="l13276" name="l13276"></a><span class="lineno">13276</span> </div>
<div class="line"><a id="l13277" name="l13277"></a><span class="lineno">13277</span>    <span class="keywordflow">return</span> new_best;</div>
<div class="line"><a id="l13278" name="l13278"></a><span class="lineno">13278</span>}</div>
<div class="line"><a id="l13279" name="l13279"></a><span class="lineno">13279</span> </div>
<div class="line"><a id="l13280" name="l13280"></a><span class="lineno">13280</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::NavApplyItemToResult(<a class="code hl_struct" href="structImGuiNavItemData.html">ImGuiNavItemData</a>* result)</div>
<div class="line"><a id="l13281" name="l13281"></a><span class="lineno">13281</span>{</div>
<div class="line"><a id="l13282" name="l13282"></a><span class="lineno">13282</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l13283" name="l13283"></a><span class="lineno">13283</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l13284" name="l13284"></a><span class="lineno">13284</span>    result-&gt;Window = window;</div>
<div class="line"><a id="l13285" name="l13285"></a><span class="lineno">13285</span>    result-&gt;ID = g.LastItemData.ID;</div>
<div class="line"><a id="l13286" name="l13286"></a><span class="lineno">13286</span>    result-&gt;FocusScopeId = g.CurrentFocusScopeId;</div>
<div class="line"><a id="l13287" name="l13287"></a><span class="lineno">13287</span>    result-&gt;ItemFlags = g.LastItemData.ItemFlags;</div>
<div class="line"><a id="l13288" name="l13288"></a><span class="lineno">13288</span>    result-&gt;RectRel = WindowRectAbsToRel(window, g.LastItemData.NavRect);</div>
<div class="line"><a id="l13289" name="l13289"></a><span class="lineno">13289</span>    <span class="keywordflow">if</span> (result-&gt;ItemFlags &amp; ImGuiItemFlags_HasSelectionUserData)</div>
<div class="line"><a id="l13290" name="l13290"></a><span class="lineno">13290</span>    {</div>
<div class="line"><a id="l13291" name="l13291"></a><span class="lineno">13291</span>        IM_ASSERT(g.NextItemData.SelectionUserData != ImGuiSelectionUserData_Invalid);</div>
<div class="line"><a id="l13292" name="l13292"></a><span class="lineno">13292</span>        result-&gt;SelectionUserData = g.NextItemData.SelectionUserData; <span class="comment">// INTENTIONAL: At this point this field is not cleared in NextItemData. Avoid unnecessary copy to LastItemData.</span></div>
<div class="line"><a id="l13293" name="l13293"></a><span class="lineno">13293</span>    }</div>
<div class="line"><a id="l13294" name="l13294"></a><span class="lineno">13294</span>}</div>
<div class="line"><a id="l13295" name="l13295"></a><span class="lineno">13295</span> </div>
<div class="line"><a id="l13296" name="l13296"></a><span class="lineno">13296</span><span class="comment">// True when current work location may be scrolled horizontally when moving left / right.</span></div>
<div class="line"><a id="l13297" name="l13297"></a><span class="lineno">13297</span><span class="comment">// This is generally always true UNLESS within a column. We don&#39;t have a vertical equivalent.</span></div>
<div class="line"><a id="l13298" name="l13298"></a><span class="lineno">13298</span><span class="keywordtype">void</span> ImGui::NavUpdateCurrentWindowIsScrollPushableX()</div>
<div class="line"><a id="l13299" name="l13299"></a><span class="lineno">13299</span>{</div>
<div class="line"><a id="l13300" name="l13300"></a><span class="lineno">13300</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l13301" name="l13301"></a><span class="lineno">13301</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l13302" name="l13302"></a><span class="lineno">13302</span>    window-&gt;DC.NavIsScrollPushableX = (g.CurrentTable == NULL &amp;&amp; window-&gt;DC.CurrentColumns == NULL);</div>
<div class="line"><a id="l13303" name="l13303"></a><span class="lineno">13303</span>}</div>
<div class="line"><a id="l13304" name="l13304"></a><span class="lineno">13304</span> </div>
<div class="line"><a id="l13305" name="l13305"></a><span class="lineno">13305</span><span class="comment">// We get there when either NavId == id, or when g.NavAnyRequest is set (which is updated by NavUpdateAnyRequestFlag above)</span></div>
<div class="line"><a id="l13306" name="l13306"></a><span class="lineno">13306</span><span class="comment">// This is called after LastItemData is set, but NextItemData is also still valid.</span></div>
<div class="line"><a id="l13307" name="l13307"></a><span class="lineno">13307</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::NavProcessItem()</div>
<div class="line"><a id="l13308" name="l13308"></a><span class="lineno">13308</span>{</div>
<div class="line"><a id="l13309" name="l13309"></a><span class="lineno">13309</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l13310" name="l13310"></a><span class="lineno">13310</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l13311" name="l13311"></a><span class="lineno">13311</span>    <span class="keyword">const</span> ImGuiID <span class="keywordtype">id</span> = g.LastItemData.ID;</div>
<div class="line"><a id="l13312" name="l13312"></a><span class="lineno">13312</span>    <span class="keyword">const</span> ImGuiItemFlags item_flags = g.LastItemData.ItemFlags;</div>
<div class="line"><a id="l13313" name="l13313"></a><span class="lineno">13313</span> </div>
<div class="line"><a id="l13314" name="l13314"></a><span class="lineno">13314</span>    <span class="comment">// When inside a container that isn&#39;t scrollable with Left&lt;&gt;Right, clip NavRect accordingly (#2221)</span></div>
<div class="line"><a id="l13315" name="l13315"></a><span class="lineno">13315</span>    <span class="keywordflow">if</span> (window-&gt;DC.NavIsScrollPushableX == <span class="keyword">false</span>)</div>
<div class="line"><a id="l13316" name="l13316"></a><span class="lineno">13316</span>    {</div>
<div class="line"><a id="l13317" name="l13317"></a><span class="lineno">13317</span>        g.LastItemData.NavRect.Min.x = ImClamp(g.LastItemData.NavRect.Min.x, window-&gt;ClipRect.Min.x, window-&gt;ClipRect.Max.x);</div>
<div class="line"><a id="l13318" name="l13318"></a><span class="lineno">13318</span>        g.LastItemData.NavRect.Max.x = ImClamp(g.LastItemData.NavRect.Max.x, window-&gt;ClipRect.Min.x, window-&gt;ClipRect.Max.x);</div>
<div class="line"><a id="l13319" name="l13319"></a><span class="lineno">13319</span>    }</div>
<div class="line"><a id="l13320" name="l13320"></a><span class="lineno">13320</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a> nav_bb = g.LastItemData.NavRect;</div>
<div class="line"><a id="l13321" name="l13321"></a><span class="lineno">13321</span> </div>
<div class="line"><a id="l13322" name="l13322"></a><span class="lineno">13322</span>    <span class="comment">// Process Init Request</span></div>
<div class="line"><a id="l13323" name="l13323"></a><span class="lineno">13323</span>    <span class="keywordflow">if</span> (g.NavInitRequest &amp;&amp; g.NavLayer == window-&gt;DC.NavLayerCurrent &amp;&amp; (item_flags &amp; ImGuiItemFlags_Disabled) == 0)</div>
<div class="line"><a id="l13324" name="l13324"></a><span class="lineno">13324</span>    {</div>
<div class="line"><a id="l13325" name="l13325"></a><span class="lineno">13325</span>        <span class="comment">// Even if &#39;ImGuiItemFlags_NoNavDefaultFocus&#39; is on (typically collapse/close button) we record the first ResultId so they can be used as a fallback</span></div>
<div class="line"><a id="l13326" name="l13326"></a><span class="lineno">13326</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> candidate_for_nav_default_focus = (item_flags &amp; ImGuiItemFlags_NoNavDefaultFocus) == 0;</div>
<div class="line"><a id="l13327" name="l13327"></a><span class="lineno">13327</span>        <span class="keywordflow">if</span> (candidate_for_nav_default_focus || g.NavInitResult.ID == 0)</div>
<div class="line"><a id="l13328" name="l13328"></a><span class="lineno">13328</span>        {</div>
<div class="line"><a id="l13329" name="l13329"></a><span class="lineno">13329</span>            NavApplyItemToResult(&amp;g.NavInitResult);</div>
<div class="line"><a id="l13330" name="l13330"></a><span class="lineno">13330</span>        }</div>
<div class="line"><a id="l13331" name="l13331"></a><span class="lineno">13331</span>        <span class="keywordflow">if</span> (candidate_for_nav_default_focus)</div>
<div class="line"><a id="l13332" name="l13332"></a><span class="lineno">13332</span>        {</div>
<div class="line"><a id="l13333" name="l13333"></a><span class="lineno">13333</span>            g.NavInitRequest = <span class="keyword">false</span>; <span class="comment">// Found a match, clear request</span></div>
<div class="line"><a id="l13334" name="l13334"></a><span class="lineno">13334</span>            NavUpdateAnyRequestFlag();</div>
<div class="line"><a id="l13335" name="l13335"></a><span class="lineno">13335</span>        }</div>
<div class="line"><a id="l13336" name="l13336"></a><span class="lineno">13336</span>    }</div>
<div class="line"><a id="l13337" name="l13337"></a><span class="lineno">13337</span> </div>
<div class="line"><a id="l13338" name="l13338"></a><span class="lineno">13338</span>    <span class="comment">// Process Move Request (scoring for navigation)</span></div>
<div class="line"><a id="l13339" name="l13339"></a><span class="lineno">13339</span>    <span class="comment">// FIXME-NAV: Consider policy for double scoring (scoring from NavScoringRect + scoring from a rect wrapped according to current wrapping policy)</span></div>
<div class="line"><a id="l13340" name="l13340"></a><span class="lineno">13340</span>    <span class="keywordflow">if</span> (g.NavMoveScoringItems &amp;&amp; (item_flags &amp; ImGuiItemFlags_Disabled) == 0)</div>
<div class="line"><a id="l13341" name="l13341"></a><span class="lineno">13341</span>    {</div>
<div class="line"><a id="l13342" name="l13342"></a><span class="lineno">13342</span>        <span class="keywordflow">if</span> ((g.NavMoveFlags &amp; ImGuiNavMoveFlags_FocusApi) || (window-&gt;Flags &amp; ImGuiWindowFlags_NoNavInputs) == 0)</div>
<div class="line"><a id="l13343" name="l13343"></a><span class="lineno">13343</span>        {</div>
<div class="line"><a id="l13344" name="l13344"></a><span class="lineno">13344</span>            <span class="keyword">const</span> <span class="keywordtype">bool</span> is_tabbing = (g.NavMoveFlags &amp; ImGuiNavMoveFlags_IsTabbing) != 0;</div>
<div class="line"><a id="l13345" name="l13345"></a><span class="lineno">13345</span>            <span class="keywordflow">if</span> (is_tabbing)</div>
<div class="line"><a id="l13346" name="l13346"></a><span class="lineno">13346</span>            {</div>
<div class="line"><a id="l13347" name="l13347"></a><span class="lineno">13347</span>                NavProcessItemForTabbingRequest(<span class="keywordtype">id</span>, item_flags, g.NavMoveFlags);</div>
<div class="line"><a id="l13348" name="l13348"></a><span class="lineno">13348</span>            }</div>
<div class="line"><a id="l13349" name="l13349"></a><span class="lineno">13349</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (g.NavId != <span class="keywordtype">id</span> || (g.NavMoveFlags &amp; ImGuiNavMoveFlags_AllowCurrentNavId))</div>
<div class="line"><a id="l13350" name="l13350"></a><span class="lineno">13350</span>            {</div>
<div class="line"><a id="l13351" name="l13351"></a><span class="lineno">13351</span>                <a class="code hl_struct" href="structImGuiNavItemData.html">ImGuiNavItemData</a>* result = (window == g.NavWindow) ? &amp;g.NavMoveResultLocal : &amp;g.NavMoveResultOther;</div>
<div class="line"><a id="l13352" name="l13352"></a><span class="lineno">13352</span>                <span class="keywordflow">if</span> (NavScoreItem(result))</div>
<div class="line"><a id="l13353" name="l13353"></a><span class="lineno">13353</span>                    NavApplyItemToResult(result);</div>
<div class="line"><a id="l13354" name="l13354"></a><span class="lineno">13354</span> </div>
<div class="line"><a id="l13355" name="l13355"></a><span class="lineno">13355</span>                <span class="comment">// Features like PageUp/PageDown need to maintain a separate score for the visible set of items.</span></div>
<div class="line"><a id="l13356" name="l13356"></a><span class="lineno">13356</span>                <span class="keyword">const</span> <span class="keywordtype">float</span> VISIBLE_RATIO = 0.70f;</div>
<div class="line"><a id="l13357" name="l13357"></a><span class="lineno">13357</span>                <span class="keywordflow">if</span> ((g.NavMoveFlags &amp; ImGuiNavMoveFlags_AlsoScoreVisibleSet) &amp;&amp; window-&gt;ClipRect.Overlaps(nav_bb))</div>
<div class="line"><a id="l13358" name="l13358"></a><span class="lineno">13358</span>                    <span class="keywordflow">if</span> (ImClamp(nav_bb.Max.y, window-&gt;ClipRect.Min.y, window-&gt;ClipRect.Max.y) - ImClamp(nav_bb.Min.y, window-&gt;ClipRect.Min.y, window-&gt;ClipRect.Max.y) &gt;= (nav_bb.Max.y - nav_bb.Min.y) * VISIBLE_RATIO)</div>
<div class="line"><a id="l13359" name="l13359"></a><span class="lineno">13359</span>                        <span class="keywordflow">if</span> (NavScoreItem(&amp;g.NavMoveResultLocalVisible))</div>
<div class="line"><a id="l13360" name="l13360"></a><span class="lineno">13360</span>                            NavApplyItemToResult(&amp;g.NavMoveResultLocalVisible);</div>
<div class="line"><a id="l13361" name="l13361"></a><span class="lineno">13361</span>            }</div>
<div class="line"><a id="l13362" name="l13362"></a><span class="lineno">13362</span>        }</div>
<div class="line"><a id="l13363" name="l13363"></a><span class="lineno">13363</span>    }</div>
<div class="line"><a id="l13364" name="l13364"></a><span class="lineno">13364</span> </div>
<div class="line"><a id="l13365" name="l13365"></a><span class="lineno">13365</span>    <span class="comment">// Update information for currently focused/navigated item</span></div>
<div class="line"><a id="l13366" name="l13366"></a><span class="lineno">13366</span>    <span class="keywordflow">if</span> (g.NavId == <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l13367" name="l13367"></a><span class="lineno">13367</span>    {</div>
<div class="line"><a id="l13368" name="l13368"></a><span class="lineno">13368</span>        <span class="keywordflow">if</span> (g.NavWindow != window)</div>
<div class="line"><a id="l13369" name="l13369"></a><span class="lineno">13369</span>            SetNavWindow(window); <span class="comment">// Always refresh g.NavWindow, because some operations such as FocusItem() may not have a window.</span></div>
<div class="line"><a id="l13370" name="l13370"></a><span class="lineno">13370</span>        g.NavLayer = window-&gt;DC.NavLayerCurrent;</div>
<div class="line"><a id="l13371" name="l13371"></a><span class="lineno">13371</span>        SetNavFocusScope(g.CurrentFocusScopeId); <span class="comment">// Will set g.NavFocusScopeId AND store g.NavFocusScopePath</span></div>
<div class="line"><a id="l13372" name="l13372"></a><span class="lineno">13372</span>        g.NavFocusScopeId = g.CurrentFocusScopeId;</div>
<div class="line"><a id="l13373" name="l13373"></a><span class="lineno">13373</span>        g.NavIdIsAlive = <span class="keyword">true</span>;</div>
<div class="line"><a id="l13374" name="l13374"></a><span class="lineno">13374</span>        <span class="keywordflow">if</span> (g.LastItemData.ItemFlags &amp; ImGuiItemFlags_HasSelectionUserData)</div>
<div class="line"><a id="l13375" name="l13375"></a><span class="lineno">13375</span>        {</div>
<div class="line"><a id="l13376" name="l13376"></a><span class="lineno">13376</span>            IM_ASSERT(g.NextItemData.SelectionUserData != ImGuiSelectionUserData_Invalid);</div>
<div class="line"><a id="l13377" name="l13377"></a><span class="lineno">13377</span>            g.NavLastValidSelectionUserData = g.NextItemData.SelectionUserData; <span class="comment">// INTENTIONAL: At this point this field is not cleared in NextItemData. Avoid unnecessary copy to LastItemData.</span></div>
<div class="line"><a id="l13378" name="l13378"></a><span class="lineno">13378</span>        }</div>
<div class="line"><a id="l13379" name="l13379"></a><span class="lineno">13379</span>        window-&gt;NavRectRel[window-&gt;DC.NavLayerCurrent] = WindowRectAbsToRel(window, nav_bb); <span class="comment">// Store item bounding box (relative to window position)</span></div>
<div class="line"><a id="l13380" name="l13380"></a><span class="lineno">13380</span>    }</div>
<div class="line"><a id="l13381" name="l13381"></a><span class="lineno">13381</span>}</div>
<div class="line"><a id="l13382" name="l13382"></a><span class="lineno">13382</span> </div>
<div class="line"><a id="l13383" name="l13383"></a><span class="lineno">13383</span><span class="comment">// Handle &quot;scoring&quot; of an item for a tabbing/focusing request initiated by NavUpdateCreateTabbingRequest().</span></div>
<div class="line"><a id="l13384" name="l13384"></a><span class="lineno">13384</span><span class="comment">// Note that SetKeyboardFocusHere() API calls are considered tabbing requests!</span></div>
<div class="line"><a id="l13385" name="l13385"></a><span class="lineno">13385</span><span class="comment">// - Case 1: no nav/active id:    set result to first eligible item, stop storing.</span></div>
<div class="line"><a id="l13386" name="l13386"></a><span class="lineno">13386</span><span class="comment">// - Case 2: tab forward:         on ref id set counter, on counter elapse store result</span></div>
<div class="line"><a id="l13387" name="l13387"></a><span class="lineno">13387</span><span class="comment">// - Case 3: tab forward wrap:    set result to first eligible item (preemptively), on ref id set counter, on next frame if counter hasn&#39;t elapsed store result. // FIXME-TABBING: Could be done as a next-frame forwarded request</span></div>
<div class="line"><a id="l13388" name="l13388"></a><span class="lineno">13388</span><span class="comment">// - Case 4: tab backward:        store all results, on ref id pick prev, stop storing</span></div>
<div class="line"><a id="l13389" name="l13389"></a><span class="lineno">13389</span><span class="comment">// - Case 5: tab backward wrap:   store all results, on ref id if no result keep storing until last // FIXME-TABBING: Could be done as next-frame forwarded requested</span></div>
<div class="line"><a id="l13390" name="l13390"></a><span class="lineno">13390</span><span class="keywordtype">void</span> ImGui::NavProcessItemForTabbingRequest(ImGuiID <span class="keywordtype">id</span>, ImGuiItemFlags item_flags, ImGuiNavMoveFlags move_flags)</div>
<div class="line"><a id="l13391" name="l13391"></a><span class="lineno">13391</span>{</div>
<div class="line"><a id="l13392" name="l13392"></a><span class="lineno">13392</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l13393" name="l13393"></a><span class="lineno">13393</span> </div>
<div class="line"><a id="l13394" name="l13394"></a><span class="lineno">13394</span>    <span class="keywordflow">if</span> ((move_flags &amp; ImGuiNavMoveFlags_FocusApi) == 0)</div>
<div class="line"><a id="l13395" name="l13395"></a><span class="lineno">13395</span>    {</div>
<div class="line"><a id="l13396" name="l13396"></a><span class="lineno">13396</span>        <span class="keywordflow">if</span> (g.NavLayer != g.CurrentWindow-&gt;DC.NavLayerCurrent)</div>
<div class="line"><a id="l13397" name="l13397"></a><span class="lineno">13397</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l13398" name="l13398"></a><span class="lineno">13398</span>        <span class="keywordflow">if</span> (g.NavFocusScopeId != g.CurrentFocusScopeId)</div>
<div class="line"><a id="l13399" name="l13399"></a><span class="lineno">13399</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l13400" name="l13400"></a><span class="lineno">13400</span>    }</div>
<div class="line"><a id="l13401" name="l13401"></a><span class="lineno">13401</span> </div>
<div class="line"><a id="l13402" name="l13402"></a><span class="lineno">13402</span>    <span class="comment">// - Can always land on an item when using API call.</span></div>
<div class="line"><a id="l13403" name="l13403"></a><span class="lineno">13403</span>    <span class="comment">// - Tabbing with _NavEnableKeyboard (space/enter/arrows): goes through every item.</span></div>
<div class="line"><a id="l13404" name="l13404"></a><span class="lineno">13404</span>    <span class="comment">// - Tabbing without _NavEnableKeyboard: goes through inputable items only.</span></div>
<div class="line"><a id="l13405" name="l13405"></a><span class="lineno">13405</span>    <span class="keywordtype">bool</span> can_stop;</div>
<div class="line"><a id="l13406" name="l13406"></a><span class="lineno">13406</span>    <span class="keywordflow">if</span> (move_flags &amp; ImGuiNavMoveFlags_FocusApi)</div>
<div class="line"><a id="l13407" name="l13407"></a><span class="lineno">13407</span>        can_stop = <span class="keyword">true</span>;</div>
<div class="line"><a id="l13408" name="l13408"></a><span class="lineno">13408</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l13409" name="l13409"></a><span class="lineno">13409</span>        can_stop = (item_flags &amp; ImGuiItemFlags_NoTabStop) == 0 &amp;&amp; ((g.IO.ConfigFlags &amp; ImGuiConfigFlags_NavEnableKeyboard) || (item_flags &amp; ImGuiItemFlags_Inputable));</div>
<div class="line"><a id="l13410" name="l13410"></a><span class="lineno">13410</span> </div>
<div class="line"><a id="l13411" name="l13411"></a><span class="lineno">13411</span>    <span class="comment">// Always store in NavMoveResultLocal (unlike directional request which uses NavMoveResultOther on sibling/flattened windows)</span></div>
<div class="line"><a id="l13412" name="l13412"></a><span class="lineno">13412</span>    <a class="code hl_struct" href="structImGuiNavItemData.html">ImGuiNavItemData</a>* result = &amp;g.NavMoveResultLocal;</div>
<div class="line"><a id="l13413" name="l13413"></a><span class="lineno">13413</span>    <span class="keywordflow">if</span> (g.NavTabbingDir == +1)</div>
<div class="line"><a id="l13414" name="l13414"></a><span class="lineno">13414</span>    {</div>
<div class="line"><a id="l13415" name="l13415"></a><span class="lineno">13415</span>        <span class="comment">// Tab Forward or SetKeyboardFocusHere() with &gt;= 0</span></div>
<div class="line"><a id="l13416" name="l13416"></a><span class="lineno">13416</span>        <span class="keywordflow">if</span> (can_stop &amp;&amp; g.NavTabbingResultFirst.ID == 0)</div>
<div class="line"><a id="l13417" name="l13417"></a><span class="lineno">13417</span>            NavApplyItemToResult(&amp;g.NavTabbingResultFirst);</div>
<div class="line"><a id="l13418" name="l13418"></a><span class="lineno">13418</span>        <span class="keywordflow">if</span> (can_stop &amp;&amp; g.NavTabbingCounter &gt; 0 &amp;&amp; --g.NavTabbingCounter == 0)</div>
<div class="line"><a id="l13419" name="l13419"></a><span class="lineno">13419</span>            NavMoveRequestResolveWithLastItem(result);</div>
<div class="line"><a id="l13420" name="l13420"></a><span class="lineno">13420</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (g.NavId == <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l13421" name="l13421"></a><span class="lineno">13421</span>            g.NavTabbingCounter = 1;</div>
<div class="line"><a id="l13422" name="l13422"></a><span class="lineno">13422</span>    }</div>
<div class="line"><a id="l13423" name="l13423"></a><span class="lineno">13423</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (g.NavTabbingDir == -1)</div>
<div class="line"><a id="l13424" name="l13424"></a><span class="lineno">13424</span>    {</div>
<div class="line"><a id="l13425" name="l13425"></a><span class="lineno">13425</span>        <span class="comment">// Tab Backward</span></div>
<div class="line"><a id="l13426" name="l13426"></a><span class="lineno">13426</span>        <span class="keywordflow">if</span> (g.NavId == <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l13427" name="l13427"></a><span class="lineno">13427</span>        {</div>
<div class="line"><a id="l13428" name="l13428"></a><span class="lineno">13428</span>            <span class="keywordflow">if</span> (result-&gt;ID)</div>
<div class="line"><a id="l13429" name="l13429"></a><span class="lineno">13429</span>            {</div>
<div class="line"><a id="l13430" name="l13430"></a><span class="lineno">13430</span>                g.NavMoveScoringItems = <span class="keyword">false</span>;</div>
<div class="line"><a id="l13431" name="l13431"></a><span class="lineno">13431</span>                NavUpdateAnyRequestFlag();</div>
<div class="line"><a id="l13432" name="l13432"></a><span class="lineno">13432</span>            }</div>
<div class="line"><a id="l13433" name="l13433"></a><span class="lineno">13433</span>        }</div>
<div class="line"><a id="l13434" name="l13434"></a><span class="lineno">13434</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (can_stop)</div>
<div class="line"><a id="l13435" name="l13435"></a><span class="lineno">13435</span>        {</div>
<div class="line"><a id="l13436" name="l13436"></a><span class="lineno">13436</span>            <span class="comment">// Keep applying until reaching NavId</span></div>
<div class="line"><a id="l13437" name="l13437"></a><span class="lineno">13437</span>            NavApplyItemToResult(result);</div>
<div class="line"><a id="l13438" name="l13438"></a><span class="lineno">13438</span>        }</div>
<div class="line"><a id="l13439" name="l13439"></a><span class="lineno">13439</span>    }</div>
<div class="line"><a id="l13440" name="l13440"></a><span class="lineno">13440</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (g.NavTabbingDir == 0)</div>
<div class="line"><a id="l13441" name="l13441"></a><span class="lineno">13441</span>    {</div>
<div class="line"><a id="l13442" name="l13442"></a><span class="lineno">13442</span>        <span class="keywordflow">if</span> (can_stop &amp;&amp; g.NavId == <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l13443" name="l13443"></a><span class="lineno">13443</span>            NavMoveRequestResolveWithLastItem(result);</div>
<div class="line"><a id="l13444" name="l13444"></a><span class="lineno">13444</span>        <span class="keywordflow">if</span> (can_stop &amp;&amp; g.NavTabbingResultFirst.ID == 0) <span class="comment">// Tab init</span></div>
<div class="line"><a id="l13445" name="l13445"></a><span class="lineno">13445</span>            NavApplyItemToResult(&amp;g.NavTabbingResultFirst);</div>
<div class="line"><a id="l13446" name="l13446"></a><span class="lineno">13446</span>    }</div>
<div class="line"><a id="l13447" name="l13447"></a><span class="lineno">13447</span>}</div>
<div class="line"><a id="l13448" name="l13448"></a><span class="lineno">13448</span> </div>
<div class="line"><a id="l13449" name="l13449"></a><span class="lineno">13449</span><span class="keywordtype">bool</span> ImGui::NavMoveRequestButNoResultYet()</div>
<div class="line"><a id="l13450" name="l13450"></a><span class="lineno">13450</span>{</div>
<div class="line"><a id="l13451" name="l13451"></a><span class="lineno">13451</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l13452" name="l13452"></a><span class="lineno">13452</span>    <span class="keywordflow">return</span> g.NavMoveScoringItems &amp;&amp; g.NavMoveResultLocal.ID == 0 &amp;&amp; g.NavMoveResultOther.ID == 0;</div>
<div class="line"><a id="l13453" name="l13453"></a><span class="lineno">13453</span>}</div>
<div class="line"><a id="l13454" name="l13454"></a><span class="lineno">13454</span> </div>
<div class="line"><a id="l13455" name="l13455"></a><span class="lineno">13455</span><span class="comment">// FIXME: ScoringRect is not set</span></div>
<div class="line"><a id="l13456" name="l13456"></a><span class="lineno">13456</span><span class="keywordtype">void</span> ImGui::NavMoveRequestSubmit(ImGuiDir move_dir, ImGuiDir clip_dir, ImGuiNavMoveFlags move_flags, ImGuiScrollFlags scroll_flags)</div>
<div class="line"><a id="l13457" name="l13457"></a><span class="lineno">13457</span>{</div>
<div class="line"><a id="l13458" name="l13458"></a><span class="lineno">13458</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l13459" name="l13459"></a><span class="lineno">13459</span>    IM_ASSERT(g.NavWindow != NULL);</div>
<div class="line"><a id="l13460" name="l13460"></a><span class="lineno">13460</span>    <span class="comment">//IMGUI_DEBUG_LOG_NAV(&quot;[nav] NavMoveRequestSubmit: dir %c, window \&quot;%s\&quot;\n&quot;, &quot;-WENS&quot;[move_dir + 1], g.NavWindow-&gt;Name);</span></div>
<div class="line"><a id="l13461" name="l13461"></a><span class="lineno">13461</span> </div>
<div class="line"><a id="l13462" name="l13462"></a><span class="lineno">13462</span>    <span class="keywordflow">if</span> (move_flags &amp; ImGuiNavMoveFlags_IsTabbing)</div>
<div class="line"><a id="l13463" name="l13463"></a><span class="lineno">13463</span>        move_flags |= ImGuiNavMoveFlags_AllowCurrentNavId;</div>
<div class="line"><a id="l13464" name="l13464"></a><span class="lineno">13464</span> </div>
<div class="line"><a id="l13465" name="l13465"></a><span class="lineno">13465</span>    g.NavMoveSubmitted = g.NavMoveScoringItems = <span class="keyword">true</span>;</div>
<div class="line"><a id="l13466" name="l13466"></a><span class="lineno">13466</span>    g.NavMoveDir = move_dir;</div>
<div class="line"><a id="l13467" name="l13467"></a><span class="lineno">13467</span>    g.NavMoveDirForDebug = move_dir;</div>
<div class="line"><a id="l13468" name="l13468"></a><span class="lineno">13468</span>    g.NavMoveClipDir = clip_dir;</div>
<div class="line"><a id="l13469" name="l13469"></a><span class="lineno">13469</span>    g.NavMoveFlags = move_flags;</div>
<div class="line"><a id="l13470" name="l13470"></a><span class="lineno">13470</span>    g.NavMoveScrollFlags = scroll_flags;</div>
<div class="line"><a id="l13471" name="l13471"></a><span class="lineno">13471</span>    g.NavMoveForwardToNextFrame = <span class="keyword">false</span>;</div>
<div class="line"><a id="l13472" name="l13472"></a><span class="lineno">13472</span>    g.NavMoveKeyMods = (move_flags &amp; ImGuiNavMoveFlags_FocusApi) ? 0 : g.IO.KeyMods;</div>
<div class="line"><a id="l13473" name="l13473"></a><span class="lineno">13473</span>    g.NavMoveResultLocal.Clear();</div>
<div class="line"><a id="l13474" name="l13474"></a><span class="lineno">13474</span>    g.NavMoveResultLocalVisible.Clear();</div>
<div class="line"><a id="l13475" name="l13475"></a><span class="lineno">13475</span>    g.NavMoveResultOther.Clear();</div>
<div class="line"><a id="l13476" name="l13476"></a><span class="lineno">13476</span>    g.NavTabbingCounter = 0;</div>
<div class="line"><a id="l13477" name="l13477"></a><span class="lineno">13477</span>    g.NavTabbingResultFirst.Clear();</div>
<div class="line"><a id="l13478" name="l13478"></a><span class="lineno">13478</span>    NavUpdateAnyRequestFlag();</div>
<div class="line"><a id="l13479" name="l13479"></a><span class="lineno">13479</span>}</div>
<div class="line"><a id="l13480" name="l13480"></a><span class="lineno">13480</span> </div>
<div class="line"><a id="l13481" name="l13481"></a><span class="lineno">13481</span><span class="keywordtype">void</span> ImGui::NavMoveRequestResolveWithLastItem(<a class="code hl_struct" href="structImGuiNavItemData.html">ImGuiNavItemData</a>* result)</div>
<div class="line"><a id="l13482" name="l13482"></a><span class="lineno">13482</span>{</div>
<div class="line"><a id="l13483" name="l13483"></a><span class="lineno">13483</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l13484" name="l13484"></a><span class="lineno">13484</span>    g.NavMoveScoringItems = <span class="keyword">false</span>; <span class="comment">// Ensure request doesn&#39;t need more processing</span></div>
<div class="line"><a id="l13485" name="l13485"></a><span class="lineno">13485</span>    NavApplyItemToResult(result);</div>
<div class="line"><a id="l13486" name="l13486"></a><span class="lineno">13486</span>    NavUpdateAnyRequestFlag();</div>
<div class="line"><a id="l13487" name="l13487"></a><span class="lineno">13487</span>}</div>
<div class="line"><a id="l13488" name="l13488"></a><span class="lineno">13488</span> </div>
<div class="line"><a id="l13489" name="l13489"></a><span class="lineno">13489</span><span class="comment">// Called by TreePop() to implement ImGuiTreeNodeFlags_NavLeftJumpsBackHere</span></div>
<div class="line"><a id="l13490" name="l13490"></a><span class="lineno">13490</span><span class="keywordtype">void</span> ImGui::NavMoveRequestResolveWithPastTreeNode(<a class="code hl_struct" href="structImGuiNavItemData.html">ImGuiNavItemData</a>* result, <a class="code hl_struct" href="structImGuiTreeNodeStackData.html">ImGuiTreeNodeStackData</a>* tree_node_data)</div>
<div class="line"><a id="l13491" name="l13491"></a><span class="lineno">13491</span>{</div>
<div class="line"><a id="l13492" name="l13492"></a><span class="lineno">13492</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l13493" name="l13493"></a><span class="lineno">13493</span>    g.NavMoveScoringItems = <span class="keyword">false</span>;</div>
<div class="line"><a id="l13494" name="l13494"></a><span class="lineno">13494</span>    g.LastItemData.ID = tree_node_data-&gt;ID;</div>
<div class="line"><a id="l13495" name="l13495"></a><span class="lineno">13495</span>    g.LastItemData.ItemFlags = tree_node_data-&gt;ItemFlags &amp; ~ImGuiItemFlags_HasSelectionUserData; <span class="comment">// Losing SelectionUserData, recovered next-frame (cheaper).</span></div>
<div class="line"><a id="l13496" name="l13496"></a><span class="lineno">13496</span>    g.LastItemData.NavRect = tree_node_data-&gt;NavRect;</div>
<div class="line"><a id="l13497" name="l13497"></a><span class="lineno">13497</span>    NavApplyItemToResult(result); <span class="comment">// Result this instead of implementing a NavApplyPastTreeNodeToResult()</span></div>
<div class="line"><a id="l13498" name="l13498"></a><span class="lineno">13498</span>    NavClearPreferredPosForAxis(ImGuiAxis_Y);</div>
<div class="line"><a id="l13499" name="l13499"></a><span class="lineno">13499</span>    NavUpdateAnyRequestFlag();</div>
<div class="line"><a id="l13500" name="l13500"></a><span class="lineno">13500</span>}</div>
<div class="line"><a id="l13501" name="l13501"></a><span class="lineno">13501</span> </div>
<div class="line"><a id="l13502" name="l13502"></a><span class="lineno">13502</span><span class="keywordtype">void</span> ImGui::NavMoveRequestCancel()</div>
<div class="line"><a id="l13503" name="l13503"></a><span class="lineno">13503</span>{</div>
<div class="line"><a id="l13504" name="l13504"></a><span class="lineno">13504</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l13505" name="l13505"></a><span class="lineno">13505</span>    g.NavMoveSubmitted = g.NavMoveScoringItems = <span class="keyword">false</span>;</div>
<div class="line"><a id="l13506" name="l13506"></a><span class="lineno">13506</span>    NavUpdateAnyRequestFlag();</div>
<div class="line"><a id="l13507" name="l13507"></a><span class="lineno">13507</span>}</div>
<div class="line"><a id="l13508" name="l13508"></a><span class="lineno">13508</span> </div>
<div class="line"><a id="l13509" name="l13509"></a><span class="lineno">13509</span><span class="comment">// Forward will reuse the move request again on the next frame (generally with modifications done to it)</span></div>
<div class="line"><a id="l13510" name="l13510"></a><span class="lineno">13510</span><span class="keywordtype">void</span> ImGui::NavMoveRequestForward(ImGuiDir move_dir, ImGuiDir clip_dir, ImGuiNavMoveFlags move_flags, ImGuiScrollFlags scroll_flags)</div>
<div class="line"><a id="l13511" name="l13511"></a><span class="lineno">13511</span>{</div>
<div class="line"><a id="l13512" name="l13512"></a><span class="lineno">13512</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l13513" name="l13513"></a><span class="lineno">13513</span>    IM_ASSERT(g.NavMoveForwardToNextFrame == <span class="keyword">false</span>);</div>
<div class="line"><a id="l13514" name="l13514"></a><span class="lineno">13514</span>    NavMoveRequestCancel();</div>
<div class="line"><a id="l13515" name="l13515"></a><span class="lineno">13515</span>    g.NavMoveForwardToNextFrame = <span class="keyword">true</span>;</div>
<div class="line"><a id="l13516" name="l13516"></a><span class="lineno">13516</span>    g.NavMoveDir = move_dir;</div>
<div class="line"><a id="l13517" name="l13517"></a><span class="lineno">13517</span>    g.NavMoveClipDir = clip_dir;</div>
<div class="line"><a id="l13518" name="l13518"></a><span class="lineno">13518</span>    g.NavMoveFlags = move_flags | ImGuiNavMoveFlags_Forwarded;</div>
<div class="line"><a id="l13519" name="l13519"></a><span class="lineno">13519</span>    g.NavMoveScrollFlags = scroll_flags;</div>
<div class="line"><a id="l13520" name="l13520"></a><span class="lineno">13520</span>}</div>
<div class="line"><a id="l13521" name="l13521"></a><span class="lineno">13521</span> </div>
<div class="line"><a id="l13522" name="l13522"></a><span class="lineno">13522</span><span class="comment">// Navigation wrap-around logic is delayed to the end of the frame because this operation is only valid after entire</span></div>
<div class="line"><a id="l13523" name="l13523"></a><span class="lineno">13523</span><span class="comment">// popup is assembled and in case of appended popups it is not clear which EndPopup() call is final.</span></div>
<div class="line"><a id="l13524" name="l13524"></a><span class="lineno">13524</span><span class="keywordtype">void</span> ImGui::NavMoveRequestTryWrapping(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, ImGuiNavMoveFlags wrap_flags)</div>
<div class="line"><a id="l13525" name="l13525"></a><span class="lineno">13525</span>{</div>
<div class="line"><a id="l13526" name="l13526"></a><span class="lineno">13526</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l13527" name="l13527"></a><span class="lineno">13527</span>    IM_ASSERT((wrap_flags &amp; ImGuiNavMoveFlags_WrapMask_ ) != 0 &amp;&amp; (wrap_flags &amp; ~ImGuiNavMoveFlags_WrapMask_) == 0); <span class="comment">// Call with _WrapX, _WrapY, _LoopX, _LoopY</span></div>
<div class="line"><a id="l13528" name="l13528"></a><span class="lineno">13528</span> </div>
<div class="line"><a id="l13529" name="l13529"></a><span class="lineno">13529</span>    <span class="comment">// In theory we should test for NavMoveRequestButNoResultYet() but there&#39;s no point doing it:</span></div>
<div class="line"><a id="l13530" name="l13530"></a><span class="lineno">13530</span>    <span class="comment">// as NavEndFrame() will do the same test. It will end up calling NavUpdateCreateWrappingRequest().</span></div>
<div class="line"><a id="l13531" name="l13531"></a><span class="lineno">13531</span>    <span class="keywordflow">if</span> (g.NavWindow == window &amp;&amp; g.NavMoveScoringItems &amp;&amp; g.NavLayer == ImGuiNavLayer_Main)</div>
<div class="line"><a id="l13532" name="l13532"></a><span class="lineno">13532</span>        g.NavMoveFlags = (g.NavMoveFlags &amp; ~ImGuiNavMoveFlags_WrapMask_) | wrap_flags;</div>
<div class="line"><a id="l13533" name="l13533"></a><span class="lineno">13533</span>}</div>
<div class="line"><a id="l13534" name="l13534"></a><span class="lineno">13534</span> </div>
<div class="line"><a id="l13535" name="l13535"></a><span class="lineno">13535</span><span class="comment">// FIXME: This could be replaced by updating a frame number in each window when (window == NavWindow) and (NavLayer == 0).</span></div>
<div class="line"><a id="l13536" name="l13536"></a><span class="lineno">13536</span><span class="comment">// This way we could find the last focused window among our children. It would be much less confusing this way?</span></div>
<div class="line"><a id="l13537" name="l13537"></a><span class="lineno">13537</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::NavSaveLastChildNavWindowIntoParent(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* nav_window)</div>
<div class="line"><a id="l13538" name="l13538"></a><span class="lineno">13538</span>{</div>
<div class="line"><a id="l13539" name="l13539"></a><span class="lineno">13539</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* parent = nav_window;</div>
<div class="line"><a id="l13540" name="l13540"></a><span class="lineno">13540</span>    <span class="keywordflow">while</span> (parent &amp;&amp; parent-&gt;RootWindow != parent &amp;&amp; (parent-&gt;Flags &amp; (ImGuiWindowFlags_Popup | ImGuiWindowFlags_ChildMenu)) == 0)</div>
<div class="line"><a id="l13541" name="l13541"></a><span class="lineno">13541</span>        parent = parent-&gt;ParentWindow;</div>
<div class="line"><a id="l13542" name="l13542"></a><span class="lineno">13542</span>    <span class="keywordflow">if</span> (parent &amp;&amp; parent != nav_window)</div>
<div class="line"><a id="l13543" name="l13543"></a><span class="lineno">13543</span>        parent-&gt;NavLastChildNavWindow = nav_window;</div>
<div class="line"><a id="l13544" name="l13544"></a><span class="lineno">13544</span>}</div>
<div class="line"><a id="l13545" name="l13545"></a><span class="lineno">13545</span> </div>
<div class="line"><a id="l13546" name="l13546"></a><span class="lineno">13546</span><span class="comment">// Restore the last focused child.</span></div>
<div class="line"><a id="l13547" name="l13547"></a><span class="lineno">13547</span><span class="comment">// Call when we are expected to land on the Main Layer (0) after FocusWindow()</span></div>
<div class="line"><a id="l13548" name="l13548"></a><span class="lineno">13548</span><span class="keyword">static</span> <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* ImGui::NavRestoreLastChildNavWindow(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l13549" name="l13549"></a><span class="lineno">13549</span>{</div>
<div class="line"><a id="l13550" name="l13550"></a><span class="lineno">13550</span>    <span class="keywordflow">if</span> (window-&gt;NavLastChildNavWindow &amp;&amp; window-&gt;NavLastChildNavWindow-&gt;WasActive)</div>
<div class="line"><a id="l13551" name="l13551"></a><span class="lineno">13551</span>        <span class="keywordflow">return</span> window-&gt;NavLastChildNavWindow;</div>
<div class="line"><a id="l13552" name="l13552"></a><span class="lineno">13552</span>    <span class="keywordflow">if</span> (window-&gt;DockNodeAsHost &amp;&amp; window-&gt;DockNodeAsHost-&gt;TabBar)</div>
<div class="line"><a id="l13553" name="l13553"></a><span class="lineno">13553</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiTabItem.html">ImGuiTabItem</a>* tab = TabBarFindMostRecentlySelectedTabForActiveWindow(window-&gt;DockNodeAsHost-&gt;TabBar))</div>
<div class="line"><a id="l13554" name="l13554"></a><span class="lineno">13554</span>            <span class="keywordflow">return</span> tab-&gt;Window;</div>
<div class="line"><a id="l13555" name="l13555"></a><span class="lineno">13555</span>    <span class="keywordflow">return</span> window;</div>
<div class="line"><a id="l13556" name="l13556"></a><span class="lineno">13556</span>}</div>
<div class="line"><a id="l13557" name="l13557"></a><span class="lineno">13557</span> </div>
<div class="line"><a id="l13558" name="l13558"></a><span class="lineno">13558</span><span class="keywordtype">void</span> ImGui::NavRestoreLayer(ImGuiNavLayer layer)</div>
<div class="line"><a id="l13559" name="l13559"></a><span class="lineno">13559</span>{</div>
<div class="line"><a id="l13560" name="l13560"></a><span class="lineno">13560</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l13561" name="l13561"></a><span class="lineno">13561</span>    <span class="keywordflow">if</span> (layer == ImGuiNavLayer_Main)</div>
<div class="line"><a id="l13562" name="l13562"></a><span class="lineno">13562</span>    {</div>
<div class="line"><a id="l13563" name="l13563"></a><span class="lineno">13563</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* prev_nav_window = g.NavWindow;</div>
<div class="line"><a id="l13564" name="l13564"></a><span class="lineno">13564</span>        g.NavWindow = NavRestoreLastChildNavWindow(g.NavWindow);    <span class="comment">// FIXME-NAV: Should clear ongoing nav requests?</span></div>
<div class="line"><a id="l13565" name="l13565"></a><span class="lineno">13565</span>        g.NavLastValidSelectionUserData = ImGuiSelectionUserData_Invalid;</div>
<div class="line"><a id="l13566" name="l13566"></a><span class="lineno">13566</span>        <span class="keywordflow">if</span> (prev_nav_window)</div>
<div class="line"><a id="l13567" name="l13567"></a><span class="lineno">13567</span>            IMGUI_DEBUG_LOG_FOCUS(<span class="stringliteral">&quot;[focus] NavRestoreLayer: from \&quot;%s\&quot; to SetNavWindow(\&quot;%s\&quot;)\n&quot;</span>, prev_nav_window-&gt;Name, g.NavWindow-&gt;Name);</div>
<div class="line"><a id="l13568" name="l13568"></a><span class="lineno">13568</span>    }</div>
<div class="line"><a id="l13569" name="l13569"></a><span class="lineno">13569</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.NavWindow;</div>
<div class="line"><a id="l13570" name="l13570"></a><span class="lineno">13570</span>    <span class="keywordflow">if</span> (window-&gt;NavLastIds[layer] != 0)</div>
<div class="line"><a id="l13571" name="l13571"></a><span class="lineno">13571</span>    {</div>
<div class="line"><a id="l13572" name="l13572"></a><span class="lineno">13572</span>        SetNavID(window-&gt;NavLastIds[layer], layer, 0, window-&gt;NavRectRel[layer]);</div>
<div class="line"><a id="l13573" name="l13573"></a><span class="lineno">13573</span>    }</div>
<div class="line"><a id="l13574" name="l13574"></a><span class="lineno">13574</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l13575" name="l13575"></a><span class="lineno">13575</span>    {</div>
<div class="line"><a id="l13576" name="l13576"></a><span class="lineno">13576</span>        g.NavLayer = layer;</div>
<div class="line"><a id="l13577" name="l13577"></a><span class="lineno">13577</span>        NavInitWindow(window, <span class="keyword">true</span>);</div>
<div class="line"><a id="l13578" name="l13578"></a><span class="lineno">13578</span>    }</div>
<div class="line"><a id="l13579" name="l13579"></a><span class="lineno">13579</span>}</div>
<div class="line"><a id="l13580" name="l13580"></a><span class="lineno">13580</span> </div>
<div class="line"><a id="l13581" name="l13581"></a><span class="lineno">13581</span><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> ImGui::NavUpdateAnyRequestFlag()</div>
<div class="line"><a id="l13582" name="l13582"></a><span class="lineno">13582</span>{</div>
<div class="line"><a id="l13583" name="l13583"></a><span class="lineno">13583</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l13584" name="l13584"></a><span class="lineno">13584</span>    g.NavAnyRequest = g.NavMoveScoringItems || g.NavInitRequest || (IMGUI_DEBUG_NAV_SCORING &amp;&amp; g.NavWindow != NULL);</div>
<div class="line"><a id="l13585" name="l13585"></a><span class="lineno">13585</span>    <span class="keywordflow">if</span> (g.NavAnyRequest)</div>
<div class="line"><a id="l13586" name="l13586"></a><span class="lineno">13586</span>        IM_ASSERT(g.NavWindow != NULL);</div>
<div class="line"><a id="l13587" name="l13587"></a><span class="lineno">13587</span>}</div>
<div class="line"><a id="l13588" name="l13588"></a><span class="lineno">13588</span> </div>
<div class="line"><a id="l13589" name="l13589"></a><span class="lineno">13589</span><span class="comment">// This needs to be called before we submit any widget (aka in or before Begin)</span></div>
<div class="line"><a id="l13590" name="l13590"></a><span class="lineno">13590</span><span class="keywordtype">void</span> ImGui::NavInitWindow(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keywordtype">bool</span> force_reinit)</div>
<div class="line"><a id="l13591" name="l13591"></a><span class="lineno">13591</span>{</div>
<div class="line"><a id="l13592" name="l13592"></a><span class="lineno">13592</span>    <span class="comment">// FIXME: ChildWindow test here is wrong for docking</span></div>
<div class="line"><a id="l13593" name="l13593"></a><span class="lineno">13593</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l13594" name="l13594"></a><span class="lineno">13594</span>    IM_ASSERT(window == g.NavWindow);</div>
<div class="line"><a id="l13595" name="l13595"></a><span class="lineno">13595</span> </div>
<div class="line"><a id="l13596" name="l13596"></a><span class="lineno">13596</span>    <span class="keywordflow">if</span> (window-&gt;Flags &amp; ImGuiWindowFlags_NoNavInputs)</div>
<div class="line"><a id="l13597" name="l13597"></a><span class="lineno">13597</span>    {</div>
<div class="line"><a id="l13598" name="l13598"></a><span class="lineno">13598</span>        g.NavId = 0;</div>
<div class="line"><a id="l13599" name="l13599"></a><span class="lineno">13599</span>        SetNavFocusScope(window-&gt;NavRootFocusScopeId);</div>
<div class="line"><a id="l13600" name="l13600"></a><span class="lineno">13600</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l13601" name="l13601"></a><span class="lineno">13601</span>    }</div>
<div class="line"><a id="l13602" name="l13602"></a><span class="lineno">13602</span> </div>
<div class="line"><a id="l13603" name="l13603"></a><span class="lineno">13603</span>    <span class="keywordtype">bool</span> init_for_nav = <span class="keyword">false</span>;</div>
<div class="line"><a id="l13604" name="l13604"></a><span class="lineno">13604</span>    <span class="keywordflow">if</span> (window == window-&gt;RootWindow || (window-&gt;Flags &amp; ImGuiWindowFlags_Popup) || (window-&gt;NavLastIds[0] == 0) || force_reinit)</div>
<div class="line"><a id="l13605" name="l13605"></a><span class="lineno">13605</span>        init_for_nav = <span class="keyword">true</span>;</div>
<div class="line"><a id="l13606" name="l13606"></a><span class="lineno">13606</span>    IMGUI_DEBUG_LOG_NAV(<span class="stringliteral">&quot;[nav] NavInitRequest: from NavInitWindow(), init_for_nav=%d, window=\&quot;%s\&quot;, layer=%d\n&quot;</span>, init_for_nav, window-&gt;Name, g.NavLayer);</div>
<div class="line"><a id="l13607" name="l13607"></a><span class="lineno">13607</span>    <span class="keywordflow">if</span> (init_for_nav)</div>
<div class="line"><a id="l13608" name="l13608"></a><span class="lineno">13608</span>    {</div>
<div class="line"><a id="l13609" name="l13609"></a><span class="lineno">13609</span>        SetNavID(0, g.NavLayer, window-&gt;NavRootFocusScopeId, <a class="code hl_struct" href="structImRect.html">ImRect</a>());</div>
<div class="line"><a id="l13610" name="l13610"></a><span class="lineno">13610</span>        g.NavInitRequest = <span class="keyword">true</span>;</div>
<div class="line"><a id="l13611" name="l13611"></a><span class="lineno">13611</span>        g.NavInitRequestFromMove = <span class="keyword">false</span>;</div>
<div class="line"><a id="l13612" name="l13612"></a><span class="lineno">13612</span>        g.NavInitResult.ID = 0;</div>
<div class="line"><a id="l13613" name="l13613"></a><span class="lineno">13613</span>        NavUpdateAnyRequestFlag();</div>
<div class="line"><a id="l13614" name="l13614"></a><span class="lineno">13614</span>    }</div>
<div class="line"><a id="l13615" name="l13615"></a><span class="lineno">13615</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l13616" name="l13616"></a><span class="lineno">13616</span>    {</div>
<div class="line"><a id="l13617" name="l13617"></a><span class="lineno">13617</span>        g.NavId = window-&gt;NavLastIds[0];</div>
<div class="line"><a id="l13618" name="l13618"></a><span class="lineno">13618</span>        SetNavFocusScope(window-&gt;NavRootFocusScopeId);</div>
<div class="line"><a id="l13619" name="l13619"></a><span class="lineno">13619</span>    }</div>
<div class="line"><a id="l13620" name="l13620"></a><span class="lineno">13620</span>}</div>
<div class="line"><a id="l13621" name="l13621"></a><span class="lineno">13621</span> </div>
<div class="line"><a id="l13622" name="l13622"></a><span class="lineno">13622</span><span class="keyword">static</span> ImGuiInputSource ImGui::NavCalcPreferredRefPosSource()</div>
<div class="line"><a id="l13623" name="l13623"></a><span class="lineno">13623</span>{</div>
<div class="line"><a id="l13624" name="l13624"></a><span class="lineno">13624</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l13625" name="l13625"></a><span class="lineno">13625</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.NavWindow;</div>
<div class="line"><a id="l13626" name="l13626"></a><span class="lineno">13626</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> activated_shortcut = g.ActiveId != 0 &amp;&amp; g.ActiveIdFromShortcut &amp;&amp; g.ActiveId == g.LastItemData.ID;</div>
<div class="line"><a id="l13627" name="l13627"></a><span class="lineno">13627</span> </div>
<div class="line"><a id="l13628" name="l13628"></a><span class="lineno">13628</span>    <span class="comment">// Testing for !activated_shortcut here could in theory be removed if we decided that activating a remote shortcut altered one of the g.NavDisableXXX flag.</span></div>
<div class="line"><a id="l13629" name="l13629"></a><span class="lineno">13629</span>    <span class="keywordflow">if</span> ((!g.NavCursorVisible || !g.NavHighlightItemUnderNav || !window) &amp;&amp; !activated_shortcut)</div>
<div class="line"><a id="l13630" name="l13630"></a><span class="lineno">13630</span>        <span class="keywordflow">return</span> ImGuiInputSource_Mouse;</div>
<div class="line"><a id="l13631" name="l13631"></a><span class="lineno">13631</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l13632" name="l13632"></a><span class="lineno">13632</span>        <span class="keywordflow">return</span> ImGuiInputSource_Keyboard; <span class="comment">// or Nav in general</span></div>
<div class="line"><a id="l13633" name="l13633"></a><span class="lineno">13633</span>}</div>
<div class="line"><a id="l13634" name="l13634"></a><span class="lineno">13634</span> </div>
<div class="line"><a id="l13635" name="l13635"></a><span class="lineno">13635</span><span class="keyword">static</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> ImGui::NavCalcPreferredRefPos()</div>
<div class="line"><a id="l13636" name="l13636"></a><span class="lineno">13636</span>{</div>
<div class="line"><a id="l13637" name="l13637"></a><span class="lineno">13637</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l13638" name="l13638"></a><span class="lineno">13638</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.NavWindow;</div>
<div class="line"><a id="l13639" name="l13639"></a><span class="lineno">13639</span>    ImGuiInputSource source = NavCalcPreferredRefPosSource();</div>
<div class="line"><a id="l13640" name="l13640"></a><span class="lineno">13640</span> </div>
<div class="line"><a id="l13641" name="l13641"></a><span class="lineno">13641</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> activated_shortcut = g.ActiveId != 0 &amp;&amp; g.ActiveIdFromShortcut &amp;&amp; g.ActiveId == g.LastItemData.ID;</div>
<div class="line"><a id="l13642" name="l13642"></a><span class="lineno">13642</span> </div>
<div class="line"><a id="l13643" name="l13643"></a><span class="lineno">13643</span>    <span class="comment">// Testing for !activated_shortcut here could in theory be removed if we decided that activating a remote shortcut altered one of the g.NavDisableXXX flag.</span></div>
<div class="line"><a id="l13644" name="l13644"></a><span class="lineno">13644</span>    <span class="keywordflow">if</span> (source == ImGuiInputSource_Mouse)</div>
<div class="line"><a id="l13645" name="l13645"></a><span class="lineno">13645</span>    {</div>
<div class="line"><a id="l13646" name="l13646"></a><span class="lineno">13646</span>        <span class="comment">// Mouse (we need a fallback in case the mouse becomes invalid after being used)</span></div>
<div class="line"><a id="l13647" name="l13647"></a><span class="lineno">13647</span>        <span class="comment">// The +1.0f offset when stored by OpenPopupEx() allows reopening this or another popup (same or another mouse button) while not moving the mouse, it is pretty standard.</span></div>
<div class="line"><a id="l13648" name="l13648"></a><span class="lineno">13648</span>        <span class="comment">// In theory we could move that +1.0f offset in OpenPopupEx()</span></div>
<div class="line"><a id="l13649" name="l13649"></a><span class="lineno">13649</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> p = IsMousePosValid(&amp;g.IO.MousePos) ? g.IO.MousePos : g.MouseLastValidPos;</div>
<div class="line"><a id="l13650" name="l13650"></a><span class="lineno">13650</span>        <span class="keywordflow">return</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(p.x + 1.0f, p.y);</div>
<div class="line"><a id="l13651" name="l13651"></a><span class="lineno">13651</span>    }</div>
<div class="line"><a id="l13652" name="l13652"></a><span class="lineno">13652</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l13653" name="l13653"></a><span class="lineno">13653</span>    {</div>
<div class="line"><a id="l13654" name="l13654"></a><span class="lineno">13654</span>        <span class="comment">// When navigation is active and mouse is disabled, pick a position around the bottom left of the currently navigated item</span></div>
<div class="line"><a id="l13655" name="l13655"></a><span class="lineno">13655</span>        <a class="code hl_struct" href="structImRect.html">ImRect</a> ref_rect;</div>
<div class="line"><a id="l13656" name="l13656"></a><span class="lineno">13656</span>        <span class="keywordflow">if</span> (activated_shortcut)</div>
<div class="line"><a id="l13657" name="l13657"></a><span class="lineno">13657</span>            ref_rect = g.LastItemData.NavRect;</div>
<div class="line"><a id="l13658" name="l13658"></a><span class="lineno">13658</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l13659" name="l13659"></a><span class="lineno">13659</span>            ref_rect = WindowRectRelToAbs(window, window-&gt;NavRectRel[g.NavLayer]);</div>
<div class="line"><a id="l13660" name="l13660"></a><span class="lineno">13660</span> </div>
<div class="line"><a id="l13661" name="l13661"></a><span class="lineno">13661</span>        <span class="comment">// Take account of upcoming scrolling (maybe set mouse pos should be done in EndFrame?)</span></div>
<div class="line"><a id="l13662" name="l13662"></a><span class="lineno">13662</span>        <span class="keywordflow">if</span> (window-&gt;LastFrameActive != g.FrameCount &amp;&amp; (window-&gt;ScrollTarget.x != FLT_MAX || window-&gt;ScrollTarget.y != FLT_MAX))</div>
<div class="line"><a id="l13663" name="l13663"></a><span class="lineno">13663</span>        {</div>
<div class="line"><a id="l13664" name="l13664"></a><span class="lineno">13664</span>            <a class="code hl_struct" href="structImVec2.html">ImVec2</a> next_scroll = CalcNextScrollFromScrollTargetAndClamp(window);</div>
<div class="line"><a id="l13665" name="l13665"></a><span class="lineno">13665</span>            ref_rect.Translate(window-&gt;Scroll - next_scroll);</div>
<div class="line"><a id="l13666" name="l13666"></a><span class="lineno">13666</span>        }</div>
<div class="line"><a id="l13667" name="l13667"></a><span class="lineno">13667</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> pos = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(ref_rect.Min.x + ImMin(g.Style.FramePadding.x * 4, ref_rect.GetWidth()), ref_rect.Max.y - ImMin(g.Style.FramePadding.y, ref_rect.GetHeight()));</div>
<div class="line"><a id="l13668" name="l13668"></a><span class="lineno">13668</span>        <a class="code hl_struct" href="structImGuiViewport.html">ImGuiViewport</a>* viewport = window-&gt;Viewport;</div>
<div class="line"><a id="l13669" name="l13669"></a><span class="lineno">13669</span>        <span class="keywordflow">return</span> ImTrunc(ImClamp(pos, viewport-&gt;Pos, viewport-&gt;Pos + viewport-&gt;Size)); <span class="comment">// ImTrunc() is important because non-integer mouse position application in backend might be lossy and result in undesirable non-zero delta.</span></div>
<div class="line"><a id="l13670" name="l13670"></a><span class="lineno">13670</span>    }</div>
<div class="line"><a id="l13671" name="l13671"></a><span class="lineno">13671</span>}</div>
<div class="line"><a id="l13672" name="l13672"></a><span class="lineno">13672</span> </div>
<div class="line"><a id="l13673" name="l13673"></a><span class="lineno">13673</span><span class="keywordtype">float</span> ImGui::GetNavTweakPressedAmount(ImGuiAxis axis)</div>
<div class="line"><a id="l13674" name="l13674"></a><span class="lineno">13674</span>{</div>
<div class="line"><a id="l13675" name="l13675"></a><span class="lineno">13675</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l13676" name="l13676"></a><span class="lineno">13676</span>    <span class="keywordtype">float</span> repeat_delay, repeat_rate;</div>
<div class="line"><a id="l13677" name="l13677"></a><span class="lineno">13677</span>    GetTypematicRepeatRate(ImGuiInputFlags_RepeatRateNavTweak, &amp;repeat_delay, &amp;repeat_rate);</div>
<div class="line"><a id="l13678" name="l13678"></a><span class="lineno">13678</span> </div>
<div class="line"><a id="l13679" name="l13679"></a><span class="lineno">13679</span>    ImGuiKey key_less, key_more;</div>
<div class="line"><a id="l13680" name="l13680"></a><span class="lineno">13680</span>    <span class="keywordflow">if</span> (g.NavInputSource == ImGuiInputSource_Gamepad)</div>
<div class="line"><a id="l13681" name="l13681"></a><span class="lineno">13681</span>    {</div>
<div class="line"><a id="l13682" name="l13682"></a><span class="lineno">13682</span>        key_less = (axis == ImGuiAxis_X) ? ImGuiKey_GamepadDpadLeft : ImGuiKey_GamepadDpadUp;</div>
<div class="line"><a id="l13683" name="l13683"></a><span class="lineno">13683</span>        key_more = (axis == ImGuiAxis_X) ? ImGuiKey_GamepadDpadRight : ImGuiKey_GamepadDpadDown;</div>
<div class="line"><a id="l13684" name="l13684"></a><span class="lineno">13684</span>    }</div>
<div class="line"><a id="l13685" name="l13685"></a><span class="lineno">13685</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l13686" name="l13686"></a><span class="lineno">13686</span>    {</div>
<div class="line"><a id="l13687" name="l13687"></a><span class="lineno">13687</span>        key_less = (axis == ImGuiAxis_X) ? ImGuiKey_LeftArrow : ImGuiKey_UpArrow;</div>
<div class="line"><a id="l13688" name="l13688"></a><span class="lineno">13688</span>        key_more = (axis == ImGuiAxis_X) ? ImGuiKey_RightArrow : ImGuiKey_DownArrow;</div>
<div class="line"><a id="l13689" name="l13689"></a><span class="lineno">13689</span>    }</div>
<div class="line"><a id="l13690" name="l13690"></a><span class="lineno">13690</span>    <span class="keywordtype">float</span> amount = (float)GetKeyPressedAmount(key_more, repeat_delay, repeat_rate) - (float)GetKeyPressedAmount(key_less, repeat_delay, repeat_rate);</div>
<div class="line"><a id="l13691" name="l13691"></a><span class="lineno">13691</span>    <span class="keywordflow">if</span> (amount != 0.0f &amp;&amp; IsKeyDown(key_less) &amp;&amp; IsKeyDown(key_more)) <span class="comment">// Cancel when opposite directions are held, regardless of repeat phase</span></div>
<div class="line"><a id="l13692" name="l13692"></a><span class="lineno">13692</span>        amount = 0.0f;</div>
<div class="line"><a id="l13693" name="l13693"></a><span class="lineno">13693</span>    <span class="keywordflow">return</span> amount;</div>
<div class="line"><a id="l13694" name="l13694"></a><span class="lineno">13694</span>}</div>
<div class="line"><a id="l13695" name="l13695"></a><span class="lineno">13695</span> </div>
<div class="line"><a id="l13696" name="l13696"></a><span class="lineno">13696</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::NavUpdate()</div>
<div class="line"><a id="l13697" name="l13697"></a><span class="lineno">13697</span>{</div>
<div class="line"><a id="l13698" name="l13698"></a><span class="lineno">13698</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l13699" name="l13699"></a><span class="lineno">13699</span>    <a class="code hl_struct" href="structImGuiIO.html">ImGuiIO</a>&amp; io = g.IO;</div>
<div class="line"><a id="l13700" name="l13700"></a><span class="lineno">13700</span> </div>
<div class="line"><a id="l13701" name="l13701"></a><span class="lineno">13701</span>    io.WantSetMousePos = <span class="keyword">false</span>;</div>
<div class="line"><a id="l13702" name="l13702"></a><span class="lineno">13702</span>    <span class="comment">//if (g.NavScoringDebugCount &gt; 0) IMGUI_DEBUG_LOG_NAV(&quot;[nav] NavScoringDebugCount %d for &#39;%s&#39; layer %d (Init:%d, Move:%d)\n&quot;, g.NavScoringDebugCount, g.NavWindow ? g.NavWindow-&gt;Name : &quot;NULL&quot;, g.NavLayer, g.NavInitRequest || g.NavInitResultId != 0, g.NavMoveRequest);</span></div>
<div class="line"><a id="l13703" name="l13703"></a><span class="lineno">13703</span> </div>
<div class="line"><a id="l13704" name="l13704"></a><span class="lineno">13704</span>    <span class="comment">// Set input source based on which keys are last pressed (as some features differs when used with Gamepad vs Keyboard)</span></div>
<div class="line"><a id="l13705" name="l13705"></a><span class="lineno">13705</span>    <span class="comment">// FIXME-NAV: Now that keys are separated maybe we can get rid of NavInputSource?</span></div>
<div class="line"><a id="l13706" name="l13706"></a><span class="lineno">13706</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> nav_gamepad_active = (io.ConfigFlags &amp; ImGuiConfigFlags_NavEnableGamepad) != 0 &amp;&amp; (io.BackendFlags &amp; ImGuiBackendFlags_HasGamepad) != 0;</div>
<div class="line"><a id="l13707" name="l13707"></a><span class="lineno">13707</span>    <span class="keyword">const</span> ImGuiKey nav_gamepad_keys_to_change_source[] = { ImGuiKey_GamepadFaceRight, ImGuiKey_GamepadFaceLeft, ImGuiKey_GamepadFaceUp, ImGuiKey_GamepadFaceDown, ImGuiKey_GamepadDpadRight, ImGuiKey_GamepadDpadLeft, ImGuiKey_GamepadDpadUp, ImGuiKey_GamepadDpadDown };</div>
<div class="line"><a id="l13708" name="l13708"></a><span class="lineno">13708</span>    <span class="keywordflow">if</span> (nav_gamepad_active)</div>
<div class="line"><a id="l13709" name="l13709"></a><span class="lineno">13709</span>        <span class="keywordflow">for</span> (ImGuiKey key : nav_gamepad_keys_to_change_source)</div>
<div class="line"><a id="l13710" name="l13710"></a><span class="lineno">13710</span>            if (IsKeyDown(key))</div>
<div class="line"><a id="l13711" name="l13711"></a><span class="lineno">13711</span>                g.NavInputSource = ImGuiInputSource_Gamepad;</div>
<div class="line"><a id="l13712" name="l13712"></a><span class="lineno">13712</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> nav_keyboard_active = (io.ConfigFlags &amp; ImGuiConfigFlags_NavEnableKeyboard) != 0;</div>
<div class="line"><a id="l13713" name="l13713"></a><span class="lineno">13713</span>    <span class="keyword">const</span> ImGuiKey nav_keyboard_keys_to_change_source[] = { ImGuiKey_Space, ImGuiKey_Enter, ImGuiKey_Escape, ImGuiKey_RightArrow, ImGuiKey_LeftArrow, ImGuiKey_UpArrow, ImGuiKey_DownArrow };</div>
<div class="line"><a id="l13714" name="l13714"></a><span class="lineno">13714</span>    <span class="keywordflow">if</span> (nav_keyboard_active)</div>
<div class="line"><a id="l13715" name="l13715"></a><span class="lineno">13715</span>        <span class="keywordflow">for</span> (ImGuiKey key : nav_keyboard_keys_to_change_source)</div>
<div class="line"><a id="l13716" name="l13716"></a><span class="lineno">13716</span>            if (IsKeyDown(key))</div>
<div class="line"><a id="l13717" name="l13717"></a><span class="lineno">13717</span>                g.NavInputSource = ImGuiInputSource_Keyboard;</div>
<div class="line"><a id="l13718" name="l13718"></a><span class="lineno">13718</span> </div>
<div class="line"><a id="l13719" name="l13719"></a><span class="lineno">13719</span>    <span class="comment">// Process navigation init request (select first/default focus)</span></div>
<div class="line"><a id="l13720" name="l13720"></a><span class="lineno">13720</span>    g.NavJustMovedToId = 0;</div>
<div class="line"><a id="l13721" name="l13721"></a><span class="lineno">13721</span>    g.NavJustMovedToFocusScopeId = g.NavJustMovedFromFocusScopeId = 0;</div>
<div class="line"><a id="l13722" name="l13722"></a><span class="lineno">13722</span>    <span class="keywordflow">if</span> (g.NavInitResult.ID != 0)</div>
<div class="line"><a id="l13723" name="l13723"></a><span class="lineno">13723</span>        NavInitRequestApplyResult();</div>
<div class="line"><a id="l13724" name="l13724"></a><span class="lineno">13724</span>    g.NavInitRequest = <span class="keyword">false</span>;</div>
<div class="line"><a id="l13725" name="l13725"></a><span class="lineno">13725</span>    g.NavInitRequestFromMove = <span class="keyword">false</span>;</div>
<div class="line"><a id="l13726" name="l13726"></a><span class="lineno">13726</span>    g.NavInitResult.ID = 0;</div>
<div class="line"><a id="l13727" name="l13727"></a><span class="lineno">13727</span> </div>
<div class="line"><a id="l13728" name="l13728"></a><span class="lineno">13728</span>    <span class="comment">// Process navigation move request</span></div>
<div class="line"><a id="l13729" name="l13729"></a><span class="lineno">13729</span>    <span class="keywordflow">if</span> (g.NavMoveSubmitted)</div>
<div class="line"><a id="l13730" name="l13730"></a><span class="lineno">13730</span>        NavMoveRequestApplyResult();</div>
<div class="line"><a id="l13731" name="l13731"></a><span class="lineno">13731</span>    g.NavTabbingCounter = 0;</div>
<div class="line"><a id="l13732" name="l13732"></a><span class="lineno">13732</span>    g.NavMoveSubmitted = g.NavMoveScoringItems = <span class="keyword">false</span>;</div>
<div class="line"><a id="l13733" name="l13733"></a><span class="lineno">13733</span>    <span class="keywordflow">if</span> (g.NavCursorHideFrames &gt; 0)</div>
<div class="line"><a id="l13734" name="l13734"></a><span class="lineno">13734</span>        <span class="keywordflow">if</span> (--g.NavCursorHideFrames == 0)</div>
<div class="line"><a id="l13735" name="l13735"></a><span class="lineno">13735</span>            g.NavCursorVisible = <span class="keyword">true</span>;</div>
<div class="line"><a id="l13736" name="l13736"></a><span class="lineno">13736</span> </div>
<div class="line"><a id="l13737" name="l13737"></a><span class="lineno">13737</span>    <span class="comment">// Schedule mouse position update (will be done at the bottom of this function, after 1) processing all move requests and 2) updating scrolling)</span></div>
<div class="line"><a id="l13738" name="l13738"></a><span class="lineno">13738</span>    <span class="keywordtype">bool</span> set_mouse_pos = <span class="keyword">false</span>;</div>
<div class="line"><a id="l13739" name="l13739"></a><span class="lineno">13739</span>    <span class="keywordflow">if</span> (g.NavMousePosDirty &amp;&amp; g.NavIdIsAlive)</div>
<div class="line"><a id="l13740" name="l13740"></a><span class="lineno">13740</span>        <span class="keywordflow">if</span> (g.NavCursorVisible &amp;&amp; g.NavHighlightItemUnderNav &amp;&amp; g.NavWindow)</div>
<div class="line"><a id="l13741" name="l13741"></a><span class="lineno">13741</span>            set_mouse_pos = <span class="keyword">true</span>;</div>
<div class="line"><a id="l13742" name="l13742"></a><span class="lineno">13742</span>    g.NavMousePosDirty = <span class="keyword">false</span>;</div>
<div class="line"><a id="l13743" name="l13743"></a><span class="lineno">13743</span>    IM_ASSERT(g.NavLayer == ImGuiNavLayer_Main || g.NavLayer == ImGuiNavLayer_Menu);</div>
<div class="line"><a id="l13744" name="l13744"></a><span class="lineno">13744</span> </div>
<div class="line"><a id="l13745" name="l13745"></a><span class="lineno">13745</span>    <span class="comment">// Store our return window (for returning from Menu Layer to Main Layer) and clear it as soon as we step back in our own Layer 0</span></div>
<div class="line"><a id="l13746" name="l13746"></a><span class="lineno">13746</span>    <span class="keywordflow">if</span> (g.NavWindow)</div>
<div class="line"><a id="l13747" name="l13747"></a><span class="lineno">13747</span>        NavSaveLastChildNavWindowIntoParent(g.NavWindow);</div>
<div class="line"><a id="l13748" name="l13748"></a><span class="lineno">13748</span>    <span class="keywordflow">if</span> (g.NavWindow &amp;&amp; g.NavWindow-&gt;NavLastChildNavWindow != NULL &amp;&amp; g.NavLayer == ImGuiNavLayer_Main)</div>
<div class="line"><a id="l13749" name="l13749"></a><span class="lineno">13749</span>        g.NavWindow-&gt;NavLastChildNavWindow = NULL;</div>
<div class="line"><a id="l13750" name="l13750"></a><span class="lineno">13750</span> </div>
<div class="line"><a id="l13751" name="l13751"></a><span class="lineno">13751</span>    <span class="comment">// Update CTRL+TAB and Windowing features (hold Square to move/resize/etc.)</span></div>
<div class="line"><a id="l13752" name="l13752"></a><span class="lineno">13752</span>    NavUpdateWindowing();</div>
<div class="line"><a id="l13753" name="l13753"></a><span class="lineno">13753</span> </div>
<div class="line"><a id="l13754" name="l13754"></a><span class="lineno">13754</span>    <span class="comment">// Set output flags for user application</span></div>
<div class="line"><a id="l13755" name="l13755"></a><span class="lineno">13755</span>    io.NavActive = (nav_keyboard_active || nav_gamepad_active) &amp;&amp; g.NavWindow &amp;&amp; !(g.NavWindow-&gt;Flags &amp; ImGuiWindowFlags_NoNavInputs);</div>
<div class="line"><a id="l13756" name="l13756"></a><span class="lineno">13756</span>    io.NavVisible = (io.NavActive &amp;&amp; g.NavId != 0 &amp;&amp; g.NavCursorVisible) || (g.NavWindowingTarget != NULL);</div>
<div class="line"><a id="l13757" name="l13757"></a><span class="lineno">13757</span> </div>
<div class="line"><a id="l13758" name="l13758"></a><span class="lineno">13758</span>    <span class="comment">// Process NavCancel input (to close a popup, get back to parent, clear focus)</span></div>
<div class="line"><a id="l13759" name="l13759"></a><span class="lineno">13759</span>    NavUpdateCancelRequest();</div>
<div class="line"><a id="l13760" name="l13760"></a><span class="lineno">13760</span> </div>
<div class="line"><a id="l13761" name="l13761"></a><span class="lineno">13761</span>    <span class="comment">// Process manual activation request</span></div>
<div class="line"><a id="l13762" name="l13762"></a><span class="lineno">13762</span>    g.NavActivateId = g.NavActivateDownId = g.NavActivatePressedId = 0;</div>
<div class="line"><a id="l13763" name="l13763"></a><span class="lineno">13763</span>    g.NavActivateFlags = ImGuiActivateFlags_None;</div>
<div class="line"><a id="l13764" name="l13764"></a><span class="lineno">13764</span>    <span class="keywordflow">if</span> (g.NavId != 0 &amp;&amp; g.NavCursorVisible &amp;&amp; !g.NavWindowingTarget &amp;&amp; g.NavWindow &amp;&amp; !(g.NavWindow-&gt;Flags &amp; ImGuiWindowFlags_NoNavInputs))</div>
<div class="line"><a id="l13765" name="l13765"></a><span class="lineno">13765</span>    {</div>
<div class="line"><a id="l13766" name="l13766"></a><span class="lineno">13766</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> activate_down = (nav_keyboard_active &amp;&amp; IsKeyDown(ImGuiKey_Space, ImGuiKeyOwner_NoOwner)) || (nav_gamepad_active &amp;&amp; IsKeyDown(ImGuiKey_NavGamepadActivate, ImGuiKeyOwner_NoOwner));</div>
<div class="line"><a id="l13767" name="l13767"></a><span class="lineno">13767</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> activate_pressed = activate_down &amp;&amp; ((nav_keyboard_active &amp;&amp; IsKeyPressed(ImGuiKey_Space, 0, ImGuiKeyOwner_NoOwner)) || (nav_gamepad_active &amp;&amp; IsKeyPressed(ImGuiKey_NavGamepadActivate, 0, ImGuiKeyOwner_NoOwner)));</div>
<div class="line"><a id="l13768" name="l13768"></a><span class="lineno">13768</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> input_down = (nav_keyboard_active &amp;&amp; (IsKeyDown(ImGuiKey_Enter, ImGuiKeyOwner_NoOwner) || IsKeyDown(ImGuiKey_KeypadEnter, ImGuiKeyOwner_NoOwner))) || (nav_gamepad_active &amp;&amp; IsKeyDown(ImGuiKey_NavGamepadInput, ImGuiKeyOwner_NoOwner));</div>
<div class="line"><a id="l13769" name="l13769"></a><span class="lineno">13769</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> input_pressed = input_down &amp;&amp; ((nav_keyboard_active &amp;&amp; (IsKeyPressed(ImGuiKey_Enter, 0, ImGuiKeyOwner_NoOwner) || IsKeyPressed(ImGuiKey_KeypadEnter, 0, ImGuiKeyOwner_NoOwner))) || (nav_gamepad_active &amp;&amp; IsKeyPressed(ImGuiKey_NavGamepadInput, 0, ImGuiKeyOwner_NoOwner)));</div>
<div class="line"><a id="l13770" name="l13770"></a><span class="lineno">13770</span>        <span class="keywordflow">if</span> (g.ActiveId == 0 &amp;&amp; activate_pressed)</div>
<div class="line"><a id="l13771" name="l13771"></a><span class="lineno">13771</span>        {</div>
<div class="line"><a id="l13772" name="l13772"></a><span class="lineno">13772</span>            g.NavActivateId = g.NavId;</div>
<div class="line"><a id="l13773" name="l13773"></a><span class="lineno">13773</span>            g.NavActivateFlags = ImGuiActivateFlags_PreferTweak;</div>
<div class="line"><a id="l13774" name="l13774"></a><span class="lineno">13774</span>        }</div>
<div class="line"><a id="l13775" name="l13775"></a><span class="lineno">13775</span>        <span class="keywordflow">if</span> ((g.ActiveId == 0 || g.ActiveId == g.NavId) &amp;&amp; input_pressed)</div>
<div class="line"><a id="l13776" name="l13776"></a><span class="lineno">13776</span>        {</div>
<div class="line"><a id="l13777" name="l13777"></a><span class="lineno">13777</span>            g.NavActivateId = g.NavId;</div>
<div class="line"><a id="l13778" name="l13778"></a><span class="lineno">13778</span>            g.NavActivateFlags = ImGuiActivateFlags_PreferInput;</div>
<div class="line"><a id="l13779" name="l13779"></a><span class="lineno">13779</span>        }</div>
<div class="line"><a id="l13780" name="l13780"></a><span class="lineno">13780</span>        <span class="keywordflow">if</span> ((g.ActiveId == 0 || g.ActiveId == g.NavId) &amp;&amp; (activate_down || input_down))</div>
<div class="line"><a id="l13781" name="l13781"></a><span class="lineno">13781</span>            g.NavActivateDownId = g.NavId;</div>
<div class="line"><a id="l13782" name="l13782"></a><span class="lineno">13782</span>        <span class="keywordflow">if</span> ((g.ActiveId == 0 || g.ActiveId == g.NavId) &amp;&amp; (activate_pressed || input_pressed))</div>
<div class="line"><a id="l13783" name="l13783"></a><span class="lineno">13783</span>        {</div>
<div class="line"><a id="l13784" name="l13784"></a><span class="lineno">13784</span>            g.NavActivatePressedId = g.NavId;</div>
<div class="line"><a id="l13785" name="l13785"></a><span class="lineno">13785</span>            NavHighlightActivated(g.NavId);</div>
<div class="line"><a id="l13786" name="l13786"></a><span class="lineno">13786</span>        }</div>
<div class="line"><a id="l13787" name="l13787"></a><span class="lineno">13787</span>    }</div>
<div class="line"><a id="l13788" name="l13788"></a><span class="lineno">13788</span>    <span class="keywordflow">if</span> (g.NavWindow &amp;&amp; (g.NavWindow-&gt;Flags &amp; ImGuiWindowFlags_NoNavInputs))</div>
<div class="line"><a id="l13789" name="l13789"></a><span class="lineno">13789</span>        g.NavCursorVisible = <span class="keyword">false</span>;</div>
<div class="line"><a id="l13790" name="l13790"></a><span class="lineno">13790</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (g.IO.ConfigNavCursorVisibleAlways &amp;&amp; g.NavCursorHideFrames == 0)</div>
<div class="line"><a id="l13791" name="l13791"></a><span class="lineno">13791</span>        g.NavCursorVisible = <span class="keyword">true</span>;</div>
<div class="line"><a id="l13792" name="l13792"></a><span class="lineno">13792</span>    <span class="keywordflow">if</span> (g.NavActivateId != 0)</div>
<div class="line"><a id="l13793" name="l13793"></a><span class="lineno">13793</span>        IM_ASSERT(g.NavActivateDownId == g.NavActivateId);</div>
<div class="line"><a id="l13794" name="l13794"></a><span class="lineno">13794</span> </div>
<div class="line"><a id="l13795" name="l13795"></a><span class="lineno">13795</span>    <span class="comment">// Highlight</span></div>
<div class="line"><a id="l13796" name="l13796"></a><span class="lineno">13796</span>    <span class="keywordflow">if</span> (g.NavHighlightActivatedTimer &gt; 0.0f)</div>
<div class="line"><a id="l13797" name="l13797"></a><span class="lineno">13797</span>        g.NavHighlightActivatedTimer = ImMax(0.0f, g.NavHighlightActivatedTimer - io.DeltaTime);</div>
<div class="line"><a id="l13798" name="l13798"></a><span class="lineno">13798</span>    <span class="keywordflow">if</span> (g.NavHighlightActivatedTimer == 0.0f)</div>
<div class="line"><a id="l13799" name="l13799"></a><span class="lineno">13799</span>        g.NavHighlightActivatedId = 0;</div>
<div class="line"><a id="l13800" name="l13800"></a><span class="lineno">13800</span> </div>
<div class="line"><a id="l13801" name="l13801"></a><span class="lineno">13801</span>    <span class="comment">// Process programmatic activation request</span></div>
<div class="line"><a id="l13802" name="l13802"></a><span class="lineno">13802</span>    <span class="comment">// FIXME-NAV: Those should eventually be queued (unlike focus they don&#39;t cancel each others)</span></div>
<div class="line"><a id="l13803" name="l13803"></a><span class="lineno">13803</span>    <span class="keywordflow">if</span> (g.NavNextActivateId != 0)</div>
<div class="line"><a id="l13804" name="l13804"></a><span class="lineno">13804</span>    {</div>
<div class="line"><a id="l13805" name="l13805"></a><span class="lineno">13805</span>        g.NavActivateId = g.NavActivateDownId = g.NavActivatePressedId = g.NavNextActivateId;</div>
<div class="line"><a id="l13806" name="l13806"></a><span class="lineno">13806</span>        g.NavActivateFlags = g.NavNextActivateFlags;</div>
<div class="line"><a id="l13807" name="l13807"></a><span class="lineno">13807</span>    }</div>
<div class="line"><a id="l13808" name="l13808"></a><span class="lineno">13808</span>    g.NavNextActivateId = 0;</div>
<div class="line"><a id="l13809" name="l13809"></a><span class="lineno">13809</span> </div>
<div class="line"><a id="l13810" name="l13810"></a><span class="lineno">13810</span>    <span class="comment">// Process move requests</span></div>
<div class="line"><a id="l13811" name="l13811"></a><span class="lineno">13811</span>    NavUpdateCreateMoveRequest();</div>
<div class="line"><a id="l13812" name="l13812"></a><span class="lineno">13812</span>    <span class="keywordflow">if</span> (g.NavMoveDir == ImGuiDir_None)</div>
<div class="line"><a id="l13813" name="l13813"></a><span class="lineno">13813</span>        NavUpdateCreateTabbingRequest();</div>
<div class="line"><a id="l13814" name="l13814"></a><span class="lineno">13814</span>    NavUpdateAnyRequestFlag();</div>
<div class="line"><a id="l13815" name="l13815"></a><span class="lineno">13815</span>    g.NavIdIsAlive = <span class="keyword">false</span>;</div>
<div class="line"><a id="l13816" name="l13816"></a><span class="lineno">13816</span> </div>
<div class="line"><a id="l13817" name="l13817"></a><span class="lineno">13817</span>    <span class="comment">// Scrolling</span></div>
<div class="line"><a id="l13818" name="l13818"></a><span class="lineno">13818</span>    <span class="keywordflow">if</span> (g.NavWindow &amp;&amp; !(g.NavWindow-&gt;Flags &amp; ImGuiWindowFlags_NoNavInputs) &amp;&amp; !g.NavWindowingTarget)</div>
<div class="line"><a id="l13819" name="l13819"></a><span class="lineno">13819</span>    {</div>
<div class="line"><a id="l13820" name="l13820"></a><span class="lineno">13820</span>        <span class="comment">// *Fallback* manual-scroll with Nav directional keys when window has no navigable item</span></div>
<div class="line"><a id="l13821" name="l13821"></a><span class="lineno">13821</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.NavWindow;</div>
<div class="line"><a id="l13822" name="l13822"></a><span class="lineno">13822</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> scroll_speed = IM_ROUND(window-&gt;FontRefSize * 100 * io.DeltaTime); <span class="comment">// We need round the scrolling speed because sub-pixel scroll isn&#39;t reliably supported.</span></div>
<div class="line"><a id="l13823" name="l13823"></a><span class="lineno">13823</span>        <span class="keyword">const</span> ImGuiDir move_dir = g.NavMoveDir;</div>
<div class="line"><a id="l13824" name="l13824"></a><span class="lineno">13824</span>        <span class="keywordflow">if</span> (window-&gt;DC.NavLayersActiveMask == 0x00 &amp;&amp; window-&gt;DC.NavWindowHasScrollY &amp;&amp; move_dir != ImGuiDir_None)</div>
<div class="line"><a id="l13825" name="l13825"></a><span class="lineno">13825</span>        {</div>
<div class="line"><a id="l13826" name="l13826"></a><span class="lineno">13826</span>            <span class="keywordflow">if</span> (move_dir == ImGuiDir_Left || move_dir == ImGuiDir_Right)</div>
<div class="line"><a id="l13827" name="l13827"></a><span class="lineno">13827</span>                SetScrollX(window, ImTrunc(window-&gt;Scroll.x + ((move_dir == ImGuiDir_Left) ? -1.0f : +1.0f) * scroll_speed));</div>
<div class="line"><a id="l13828" name="l13828"></a><span class="lineno">13828</span>            <span class="keywordflow">if</span> (move_dir == ImGuiDir_Up || move_dir == ImGuiDir_Down)</div>
<div class="line"><a id="l13829" name="l13829"></a><span class="lineno">13829</span>                SetScrollY(window, ImTrunc(window-&gt;Scroll.y + ((move_dir == ImGuiDir_Up) ? -1.0f : +1.0f) * scroll_speed));</div>
<div class="line"><a id="l13830" name="l13830"></a><span class="lineno">13830</span>        }</div>
<div class="line"><a id="l13831" name="l13831"></a><span class="lineno">13831</span> </div>
<div class="line"><a id="l13832" name="l13832"></a><span class="lineno">13832</span>        <span class="comment">// *Normal* Manual scroll with LStick</span></div>
<div class="line"><a id="l13833" name="l13833"></a><span class="lineno">13833</span>        <span class="comment">// Next movement request will clamp the NavId reference rectangle to the visible area, so navigation will resume within those bounds.</span></div>
<div class="line"><a id="l13834" name="l13834"></a><span class="lineno">13834</span>        <span class="keywordflow">if</span> (nav_gamepad_active)</div>
<div class="line"><a id="l13835" name="l13835"></a><span class="lineno">13835</span>        {</div>
<div class="line"><a id="l13836" name="l13836"></a><span class="lineno">13836</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> scroll_dir = GetKeyMagnitude2d(ImGuiKey_GamepadLStickLeft, ImGuiKey_GamepadLStickRight, ImGuiKey_GamepadLStickUp, ImGuiKey_GamepadLStickDown);</div>
<div class="line"><a id="l13837" name="l13837"></a><span class="lineno">13837</span>            <span class="keyword">const</span> <span class="keywordtype">float</span> tweak_factor = IsKeyDown(ImGuiKey_NavGamepadTweakSlow) ? 1.0f / 10.0f : IsKeyDown(ImGuiKey_NavGamepadTweakFast) ? 10.0f : 1.0f;</div>
<div class="line"><a id="l13838" name="l13838"></a><span class="lineno">13838</span>            <span class="keywordflow">if</span> (scroll_dir.x != 0.0f &amp;&amp; window-&gt;ScrollbarX)</div>
<div class="line"><a id="l13839" name="l13839"></a><span class="lineno">13839</span>                SetScrollX(window, ImTrunc(window-&gt;Scroll.x + scroll_dir.x * scroll_speed * tweak_factor));</div>
<div class="line"><a id="l13840" name="l13840"></a><span class="lineno">13840</span>            <span class="keywordflow">if</span> (scroll_dir.y != 0.0f)</div>
<div class="line"><a id="l13841" name="l13841"></a><span class="lineno">13841</span>                SetScrollY(window, ImTrunc(window-&gt;Scroll.y + scroll_dir.y * scroll_speed * tweak_factor));</div>
<div class="line"><a id="l13842" name="l13842"></a><span class="lineno">13842</span>        }</div>
<div class="line"><a id="l13843" name="l13843"></a><span class="lineno">13843</span>    }</div>
<div class="line"><a id="l13844" name="l13844"></a><span class="lineno">13844</span> </div>
<div class="line"><a id="l13845" name="l13845"></a><span class="lineno">13845</span>    <span class="comment">// Always prioritize mouse highlight if navigation is disabled</span></div>
<div class="line"><a id="l13846" name="l13846"></a><span class="lineno">13846</span>    <span class="keywordflow">if</span> (!nav_keyboard_active &amp;&amp; !nav_gamepad_active)</div>
<div class="line"><a id="l13847" name="l13847"></a><span class="lineno">13847</span>    {</div>
<div class="line"><a id="l13848" name="l13848"></a><span class="lineno">13848</span>        g.NavCursorVisible = <span class="keyword">false</span>;</div>
<div class="line"><a id="l13849" name="l13849"></a><span class="lineno">13849</span>        g.NavHighlightItemUnderNav = set_mouse_pos = <span class="keyword">false</span>;</div>
<div class="line"><a id="l13850" name="l13850"></a><span class="lineno">13850</span>    }</div>
<div class="line"><a id="l13851" name="l13851"></a><span class="lineno">13851</span> </div>
<div class="line"><a id="l13852" name="l13852"></a><span class="lineno">13852</span>    <span class="comment">// Update mouse position if requested</span></div>
<div class="line"><a id="l13853" name="l13853"></a><span class="lineno">13853</span>    <span class="comment">// (This will take into account the possibility that a Scroll was queued in the window to offset our absolute mouse position before scroll has been applied)</span></div>
<div class="line"><a id="l13854" name="l13854"></a><span class="lineno">13854</span>    <span class="keywordflow">if</span> (set_mouse_pos &amp;&amp; io.ConfigNavMoveSetMousePos &amp;&amp; (io.BackendFlags &amp; ImGuiBackendFlags_HasSetMousePos))</div>
<div class="line"><a id="l13855" name="l13855"></a><span class="lineno">13855</span>        TeleportMousePos(NavCalcPreferredRefPos());</div>
<div class="line"><a id="l13856" name="l13856"></a><span class="lineno">13856</span> </div>
<div class="line"><a id="l13857" name="l13857"></a><span class="lineno">13857</span>    <span class="comment">// [DEBUG]</span></div>
<div class="line"><a id="l13858" name="l13858"></a><span class="lineno">13858</span>    g.NavScoringDebugCount = 0;</div>
<div class="line"><a id="l13859" name="l13859"></a><span class="lineno">13859</span><span class="preprocessor">#if IMGUI_DEBUG_NAV_RECTS</span></div>
<div class="line"><a id="l13860" name="l13860"></a><span class="lineno">13860</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* debug_window = g.NavWindow)</div>
<div class="line"><a id="l13861" name="l13861"></a><span class="lineno">13861</span>    {</div>
<div class="line"><a id="l13862" name="l13862"></a><span class="lineno">13862</span>        <a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>* draw_list = GetForegroundDrawList(debug_window);</div>
<div class="line"><a id="l13863" name="l13863"></a><span class="lineno">13863</span>        <span class="keywordtype">int</span> layer = g.NavLayer; <span class="comment">/* for (int layer = 0; layer &lt; 2; layer++)*/</span> { <a class="code hl_struct" href="structImRect.html">ImRect</a> r = WindowRectRelToAbs(debug_window, debug_window-&gt;NavRectRel[layer]); draw_list-&gt;AddRect(r.Min, r.Max, IM_COL32(255, 200, 0, 255)); }</div>
<div class="line"><a id="l13864" name="l13864"></a><span class="lineno">13864</span>        <span class="comment">//if (1) { ImU32 col = (!debug_window-&gt;Hidden) ? IM_COL32(255,0,255,255) : IM_COL32(255,0,0,255); ImVec2 p = NavCalcPreferredRefPos(); char buf[32]; ImFormatString(buf, 32, &quot;%d&quot;, g.NavLayer); draw_list-&gt;AddCircleFilled(p, 3.0f, col); draw_list-&gt;AddText(NULL, 13.0f, p + ImVec2(8,-4), col, buf); }</span></div>
<div class="line"><a id="l13865" name="l13865"></a><span class="lineno">13865</span>    }</div>
<div class="line"><a id="l13866" name="l13866"></a><span class="lineno">13866</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l13867" name="l13867"></a><span class="lineno">13867</span>}</div>
<div class="line"><a id="l13868" name="l13868"></a><span class="lineno">13868</span> </div>
<div class="line"><a id="l13869" name="l13869"></a><span class="lineno">13869</span><span class="keywordtype">void</span> ImGui::NavInitRequestApplyResult()</div>
<div class="line"><a id="l13870" name="l13870"></a><span class="lineno">13870</span>{</div>
<div class="line"><a id="l13871" name="l13871"></a><span class="lineno">13871</span>    <span class="comment">// In very rare cases g.NavWindow may be null (e.g. clearing focus after requesting an init request, which does happen when releasing Alt while clicking on void)</span></div>
<div class="line"><a id="l13872" name="l13872"></a><span class="lineno">13872</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l13873" name="l13873"></a><span class="lineno">13873</span>    <span class="keywordflow">if</span> (!g.NavWindow)</div>
<div class="line"><a id="l13874" name="l13874"></a><span class="lineno">13874</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l13875" name="l13875"></a><span class="lineno">13875</span> </div>
<div class="line"><a id="l13876" name="l13876"></a><span class="lineno">13876</span>    <a class="code hl_struct" href="structImGuiNavItemData.html">ImGuiNavItemData</a>* result = &amp;g.NavInitResult;</div>
<div class="line"><a id="l13877" name="l13877"></a><span class="lineno">13877</span>    <span class="keywordflow">if</span> (g.NavId != result-&gt;ID)</div>
<div class="line"><a id="l13878" name="l13878"></a><span class="lineno">13878</span>    {</div>
<div class="line"><a id="l13879" name="l13879"></a><span class="lineno">13879</span>        g.NavJustMovedFromFocusScopeId = g.NavFocusScopeId;</div>
<div class="line"><a id="l13880" name="l13880"></a><span class="lineno">13880</span>        g.NavJustMovedToId = result-&gt;ID;</div>
<div class="line"><a id="l13881" name="l13881"></a><span class="lineno">13881</span>        g.NavJustMovedToFocusScopeId = result-&gt;FocusScopeId;</div>
<div class="line"><a id="l13882" name="l13882"></a><span class="lineno">13882</span>        g.NavJustMovedToKeyMods = 0;</div>
<div class="line"><a id="l13883" name="l13883"></a><span class="lineno">13883</span>        g.NavJustMovedToIsTabbing = <span class="keyword">false</span>;</div>
<div class="line"><a id="l13884" name="l13884"></a><span class="lineno">13884</span>        g.NavJustMovedToHasSelectionData = (result-&gt;ItemFlags &amp; ImGuiItemFlags_HasSelectionUserData) != 0;</div>
<div class="line"><a id="l13885" name="l13885"></a><span class="lineno">13885</span>    }</div>
<div class="line"><a id="l13886" name="l13886"></a><span class="lineno">13886</span> </div>
<div class="line"><a id="l13887" name="l13887"></a><span class="lineno">13887</span>    <span class="comment">// Apply result from previous navigation init request (will typically select the first item, unless SetItemDefaultFocus() has been called)</span></div>
<div class="line"><a id="l13888" name="l13888"></a><span class="lineno">13888</span>    <span class="comment">// FIXME-NAV: On _NavFlattened windows, g.NavWindow will only be updated during subsequent frame. Not a problem currently.</span></div>
<div class="line"><a id="l13889" name="l13889"></a><span class="lineno">13889</span>    IMGUI_DEBUG_LOG_NAV(<span class="stringliteral">&quot;[nav] NavInitRequest: ApplyResult: NavID 0x%08X in Layer %d Window \&quot;%s\&quot;\n&quot;</span>, result-&gt;ID, g.NavLayer, g.NavWindow-&gt;Name);</div>
<div class="line"><a id="l13890" name="l13890"></a><span class="lineno">13890</span>    SetNavID(result-&gt;ID, g.NavLayer, result-&gt;FocusScopeId, result-&gt;RectRel);</div>
<div class="line"><a id="l13891" name="l13891"></a><span class="lineno">13891</span>    g.NavIdIsAlive = <span class="keyword">true</span>; <span class="comment">// Mark as alive from previous frame as we got a result</span></div>
<div class="line"><a id="l13892" name="l13892"></a><span class="lineno">13892</span>    <span class="keywordflow">if</span> (result-&gt;SelectionUserData != ImGuiSelectionUserData_Invalid)</div>
<div class="line"><a id="l13893" name="l13893"></a><span class="lineno">13893</span>        g.NavLastValidSelectionUserData = result-&gt;SelectionUserData;</div>
<div class="line"><a id="l13894" name="l13894"></a><span class="lineno">13894</span>    <span class="keywordflow">if</span> (g.NavInitRequestFromMove)</div>
<div class="line"><a id="l13895" name="l13895"></a><span class="lineno">13895</span>        SetNavCursorVisibleAfterMove();</div>
<div class="line"><a id="l13896" name="l13896"></a><span class="lineno">13896</span>}</div>
<div class="line"><a id="l13897" name="l13897"></a><span class="lineno">13897</span> </div>
<div class="line"><a id="l13898" name="l13898"></a><span class="lineno">13898</span><span class="comment">// Bias scoring rect ahead of scoring + update preferred pos (if missing) using source position</span></div>
<div class="line"><a id="l13899" name="l13899"></a><span class="lineno">13899</span><span class="keyword">static</span> <span class="keywordtype">void</span> NavBiasScoringRect(<a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; r, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; preferred_pos_rel, ImGuiDir move_dir, ImGuiNavMoveFlags move_flags)</div>
<div class="line"><a id="l13900" name="l13900"></a><span class="lineno">13900</span>{</div>
<div class="line"><a id="l13901" name="l13901"></a><span class="lineno">13901</span>    <span class="comment">// Bias initial rect</span></div>
<div class="line"><a id="l13902" name="l13902"></a><span class="lineno">13902</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l13903" name="l13903"></a><span class="lineno">13903</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> rel_to_abs_offset = g.NavWindow-&gt;DC.CursorStartPos;</div>
<div class="line"><a id="l13904" name="l13904"></a><span class="lineno">13904</span> </div>
<div class="line"><a id="l13905" name="l13905"></a><span class="lineno">13905</span>    <span class="comment">// Initialize bias on departure if we don&#39;t have any. So mouse-click + arrow will record bias.</span></div>
<div class="line"><a id="l13906" name="l13906"></a><span class="lineno">13906</span>    <span class="comment">// - We default to L/U bias, so moving down from a large source item into several columns will land on left-most column.</span></div>
<div class="line"><a id="l13907" name="l13907"></a><span class="lineno">13907</span>    <span class="comment">// - But each successful move sets new bias on one axis, only cleared when using mouse.</span></div>
<div class="line"><a id="l13908" name="l13908"></a><span class="lineno">13908</span>    <span class="keywordflow">if</span> ((move_flags &amp; ImGuiNavMoveFlags_Forwarded) == 0)</div>
<div class="line"><a id="l13909" name="l13909"></a><span class="lineno">13909</span>    {</div>
<div class="line"><a id="l13910" name="l13910"></a><span class="lineno">13910</span>        <span class="keywordflow">if</span> (preferred_pos_rel.x == FLT_MAX)</div>
<div class="line"><a id="l13911" name="l13911"></a><span class="lineno">13911</span>            preferred_pos_rel.x = ImMin(r.Min.x + 1.0f, r.Max.x) - rel_to_abs_offset.x;</div>
<div class="line"><a id="l13912" name="l13912"></a><span class="lineno">13912</span>        <span class="keywordflow">if</span> (preferred_pos_rel.y == FLT_MAX)</div>
<div class="line"><a id="l13913" name="l13913"></a><span class="lineno">13913</span>            preferred_pos_rel.y = r.GetCenter().y - rel_to_abs_offset.y;</div>
<div class="line"><a id="l13914" name="l13914"></a><span class="lineno">13914</span>    }</div>
<div class="line"><a id="l13915" name="l13915"></a><span class="lineno">13915</span> </div>
<div class="line"><a id="l13916" name="l13916"></a><span class="lineno">13916</span>    <span class="comment">// Apply general bias on the other axis</span></div>
<div class="line"><a id="l13917" name="l13917"></a><span class="lineno">13917</span>    <span class="keywordflow">if</span> ((move_dir == ImGuiDir_Up || move_dir == ImGuiDir_Down) &amp;&amp; preferred_pos_rel.x != FLT_MAX)</div>
<div class="line"><a id="l13918" name="l13918"></a><span class="lineno">13918</span>        r.Min.x = r.Max.x = preferred_pos_rel.x + rel_to_abs_offset.x;</div>
<div class="line"><a id="l13919" name="l13919"></a><span class="lineno">13919</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((move_dir == ImGuiDir_Left || move_dir == ImGuiDir_Right) &amp;&amp; preferred_pos_rel.y != FLT_MAX)</div>
<div class="line"><a id="l13920" name="l13920"></a><span class="lineno">13920</span>        r.Min.y = r.Max.y = preferred_pos_rel.y + rel_to_abs_offset.y;</div>
<div class="line"><a id="l13921" name="l13921"></a><span class="lineno">13921</span>}</div>
<div class="line"><a id="l13922" name="l13922"></a><span class="lineno">13922</span> </div>
<div class="line"><a id="l13923" name="l13923"></a><span class="lineno">13923</span><span class="keywordtype">void</span> ImGui::NavUpdateCreateMoveRequest()</div>
<div class="line"><a id="l13924" name="l13924"></a><span class="lineno">13924</span>{</div>
<div class="line"><a id="l13925" name="l13925"></a><span class="lineno">13925</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l13926" name="l13926"></a><span class="lineno">13926</span>    <a class="code hl_struct" href="structImGuiIO.html">ImGuiIO</a>&amp; io = g.IO;</div>
<div class="line"><a id="l13927" name="l13927"></a><span class="lineno">13927</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.NavWindow;</div>
<div class="line"><a id="l13928" name="l13928"></a><span class="lineno">13928</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> nav_gamepad_active = (io.ConfigFlags &amp; ImGuiConfigFlags_NavEnableGamepad) != 0 &amp;&amp; (io.BackendFlags &amp; ImGuiBackendFlags_HasGamepad) != 0;</div>
<div class="line"><a id="l13929" name="l13929"></a><span class="lineno">13929</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> nav_keyboard_active = (io.ConfigFlags &amp; ImGuiConfigFlags_NavEnableKeyboard) != 0;</div>
<div class="line"><a id="l13930" name="l13930"></a><span class="lineno">13930</span> </div>
<div class="line"><a id="l13931" name="l13931"></a><span class="lineno">13931</span>    <span class="keywordflow">if</span> (g.NavMoveForwardToNextFrame &amp;&amp; window != NULL)</div>
<div class="line"><a id="l13932" name="l13932"></a><span class="lineno">13932</span>    {</div>
<div class="line"><a id="l13933" name="l13933"></a><span class="lineno">13933</span>        <span class="comment">// Forwarding previous request (which has been modified, e.g. wrap around menus rewrite the requests with a starting rectangle at the other side of the window)</span></div>
<div class="line"><a id="l13934" name="l13934"></a><span class="lineno">13934</span>        <span class="comment">// (preserve most state, which were already set by the NavMoveRequestForward() function)</span></div>
<div class="line"><a id="l13935" name="l13935"></a><span class="lineno">13935</span>        IM_ASSERT(g.NavMoveDir != ImGuiDir_None &amp;&amp; g.NavMoveClipDir != ImGuiDir_None);</div>
<div class="line"><a id="l13936" name="l13936"></a><span class="lineno">13936</span>        IM_ASSERT(g.NavMoveFlags &amp; ImGuiNavMoveFlags_Forwarded);</div>
<div class="line"><a id="l13937" name="l13937"></a><span class="lineno">13937</span>        IMGUI_DEBUG_LOG_NAV(<span class="stringliteral">&quot;[nav] NavMoveRequestForward %d\n&quot;</span>, g.NavMoveDir);</div>
<div class="line"><a id="l13938" name="l13938"></a><span class="lineno">13938</span>    }</div>
<div class="line"><a id="l13939" name="l13939"></a><span class="lineno">13939</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l13940" name="l13940"></a><span class="lineno">13940</span>    {</div>
<div class="line"><a id="l13941" name="l13941"></a><span class="lineno">13941</span>        <span class="comment">// Initiate directional inputs request</span></div>
<div class="line"><a id="l13942" name="l13942"></a><span class="lineno">13942</span>        g.NavMoveDir = ImGuiDir_None;</div>
<div class="line"><a id="l13943" name="l13943"></a><span class="lineno">13943</span>        g.NavMoveFlags = ImGuiNavMoveFlags_None;</div>
<div class="line"><a id="l13944" name="l13944"></a><span class="lineno">13944</span>        g.NavMoveScrollFlags = ImGuiScrollFlags_None;</div>
<div class="line"><a id="l13945" name="l13945"></a><span class="lineno">13945</span>        <span class="keywordflow">if</span> (window &amp;&amp; !g.NavWindowingTarget &amp;&amp; !(window-&gt;Flags &amp; ImGuiWindowFlags_NoNavInputs))</div>
<div class="line"><a id="l13946" name="l13946"></a><span class="lineno">13946</span>        {</div>
<div class="line"><a id="l13947" name="l13947"></a><span class="lineno">13947</span>            <span class="keyword">const</span> ImGuiInputFlags repeat_mode = ImGuiInputFlags_Repeat | (ImGuiInputFlags)ImGuiInputFlags_RepeatRateNavMove;</div>
<div class="line"><a id="l13948" name="l13948"></a><span class="lineno">13948</span>            <span class="keywordflow">if</span> (!IsActiveIdUsingNavDir(ImGuiDir_Left)  &amp;&amp; ((nav_gamepad_active &amp;&amp; IsKeyPressed(ImGuiKey_GamepadDpadLeft,  repeat_mode, ImGuiKeyOwner_NoOwner)) || (nav_keyboard_active &amp;&amp; IsKeyPressed(ImGuiKey_LeftArrow,  repeat_mode, ImGuiKeyOwner_NoOwner)))) { g.NavMoveDir = ImGuiDir_Left; }</div>
<div class="line"><a id="l13949" name="l13949"></a><span class="lineno">13949</span>            <span class="keywordflow">if</span> (!IsActiveIdUsingNavDir(ImGuiDir_Right) &amp;&amp; ((nav_gamepad_active &amp;&amp; IsKeyPressed(ImGuiKey_GamepadDpadRight, repeat_mode, ImGuiKeyOwner_NoOwner)) || (nav_keyboard_active &amp;&amp; IsKeyPressed(ImGuiKey_RightArrow, repeat_mode, ImGuiKeyOwner_NoOwner)))) { g.NavMoveDir = ImGuiDir_Right; }</div>
<div class="line"><a id="l13950" name="l13950"></a><span class="lineno">13950</span>            <span class="keywordflow">if</span> (!IsActiveIdUsingNavDir(ImGuiDir_Up)    &amp;&amp; ((nav_gamepad_active &amp;&amp; IsKeyPressed(ImGuiKey_GamepadDpadUp,    repeat_mode, ImGuiKeyOwner_NoOwner)) || (nav_keyboard_active &amp;&amp; IsKeyPressed(ImGuiKey_UpArrow,    repeat_mode, ImGuiKeyOwner_NoOwner)))) { g.NavMoveDir = ImGuiDir_Up; }</div>
<div class="line"><a id="l13951" name="l13951"></a><span class="lineno">13951</span>            <span class="keywordflow">if</span> (!IsActiveIdUsingNavDir(ImGuiDir_Down)  &amp;&amp; ((nav_gamepad_active &amp;&amp; IsKeyPressed(ImGuiKey_GamepadDpadDown,  repeat_mode, ImGuiKeyOwner_NoOwner)) || (nav_keyboard_active &amp;&amp; IsKeyPressed(ImGuiKey_DownArrow,  repeat_mode, ImGuiKeyOwner_NoOwner)))) { g.NavMoveDir = ImGuiDir_Down; }</div>
<div class="line"><a id="l13952" name="l13952"></a><span class="lineno">13952</span>        }</div>
<div class="line"><a id="l13953" name="l13953"></a><span class="lineno">13953</span>        g.NavMoveClipDir = g.NavMoveDir;</div>
<div class="line"><a id="l13954" name="l13954"></a><span class="lineno">13954</span>        g.NavScoringNoClipRect = <a class="code hl_struct" href="structImRect.html">ImRect</a>(+FLT_MAX, +FLT_MAX, -FLT_MAX, -FLT_MAX);</div>
<div class="line"><a id="l13955" name="l13955"></a><span class="lineno">13955</span>    }</div>
<div class="line"><a id="l13956" name="l13956"></a><span class="lineno">13956</span> </div>
<div class="line"><a id="l13957" name="l13957"></a><span class="lineno">13957</span>    <span class="comment">// Update PageUp/PageDown/Home/End scroll</span></div>
<div class="line"><a id="l13958" name="l13958"></a><span class="lineno">13958</span>    <span class="comment">// FIXME-NAV: Consider enabling those keys even without the master ImGuiConfigFlags_NavEnableKeyboard flag?</span></div>
<div class="line"><a id="l13959" name="l13959"></a><span class="lineno">13959</span>    <span class="keywordtype">float</span> scoring_rect_offset_y = 0.0f;</div>
<div class="line"><a id="l13960" name="l13960"></a><span class="lineno">13960</span>    <span class="keywordflow">if</span> (window &amp;&amp; g.NavMoveDir == ImGuiDir_None &amp;&amp; nav_keyboard_active)</div>
<div class="line"><a id="l13961" name="l13961"></a><span class="lineno">13961</span>        scoring_rect_offset_y = NavUpdatePageUpPageDown();</div>
<div class="line"><a id="l13962" name="l13962"></a><span class="lineno">13962</span>    <span class="keywordflow">if</span> (scoring_rect_offset_y != 0.0f)</div>
<div class="line"><a id="l13963" name="l13963"></a><span class="lineno">13963</span>    {</div>
<div class="line"><a id="l13964" name="l13964"></a><span class="lineno">13964</span>        g.NavScoringNoClipRect = window-&gt;InnerRect;</div>
<div class="line"><a id="l13965" name="l13965"></a><span class="lineno">13965</span>        g.NavScoringNoClipRect.TranslateY(scoring_rect_offset_y);</div>
<div class="line"><a id="l13966" name="l13966"></a><span class="lineno">13966</span>    }</div>
<div class="line"><a id="l13967" name="l13967"></a><span class="lineno">13967</span> </div>
<div class="line"><a id="l13968" name="l13968"></a><span class="lineno">13968</span>    <span class="comment">// [DEBUG] Always send a request when holding CTRL. Hold CTRL + Arrow change the direction.</span></div>
<div class="line"><a id="l13969" name="l13969"></a><span class="lineno">13969</span><span class="preprocessor">#if IMGUI_DEBUG_NAV_SCORING</span></div>
<div class="line"><a id="l13970" name="l13970"></a><span class="lineno">13970</span>    <span class="comment">//if (io.KeyCtrl &amp;&amp; IsKeyPressed(ImGuiKey_C))</span></div>
<div class="line"><a id="l13971" name="l13971"></a><span class="lineno">13971</span>    <span class="comment">//    g.NavMoveDirForDebug = (ImGuiDir)((g.NavMoveDirForDebug + 1) &amp; 3);</span></div>
<div class="line"><a id="l13972" name="l13972"></a><span class="lineno">13972</span>    <span class="keywordflow">if</span> (io.KeyCtrl)</div>
<div class="line"><a id="l13973" name="l13973"></a><span class="lineno">13973</span>    {</div>
<div class="line"><a id="l13974" name="l13974"></a><span class="lineno">13974</span>        <span class="keywordflow">if</span> (g.NavMoveDir == ImGuiDir_None)</div>
<div class="line"><a id="l13975" name="l13975"></a><span class="lineno">13975</span>            g.NavMoveDir = g.NavMoveDirForDebug;</div>
<div class="line"><a id="l13976" name="l13976"></a><span class="lineno">13976</span>        g.NavMoveClipDir = g.NavMoveDir;</div>
<div class="line"><a id="l13977" name="l13977"></a><span class="lineno">13977</span>        g.NavMoveFlags |= ImGuiNavMoveFlags_DebugNoResult;</div>
<div class="line"><a id="l13978" name="l13978"></a><span class="lineno">13978</span>    }</div>
<div class="line"><a id="l13979" name="l13979"></a><span class="lineno">13979</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l13980" name="l13980"></a><span class="lineno">13980</span> </div>
<div class="line"><a id="l13981" name="l13981"></a><span class="lineno">13981</span>    <span class="comment">// Submit</span></div>
<div class="line"><a id="l13982" name="l13982"></a><span class="lineno">13982</span>    g.NavMoveForwardToNextFrame = <span class="keyword">false</span>;</div>
<div class="line"><a id="l13983" name="l13983"></a><span class="lineno">13983</span>    <span class="keywordflow">if</span> (g.NavMoveDir != ImGuiDir_None)</div>
<div class="line"><a id="l13984" name="l13984"></a><span class="lineno">13984</span>        NavMoveRequestSubmit(g.NavMoveDir, g.NavMoveClipDir, g.NavMoveFlags, g.NavMoveScrollFlags);</div>
<div class="line"><a id="l13985" name="l13985"></a><span class="lineno">13985</span> </div>
<div class="line"><a id="l13986" name="l13986"></a><span class="lineno">13986</span>    <span class="comment">// Moving with no reference triggers an init request (will be used as a fallback if the direction fails to find a match)</span></div>
<div class="line"><a id="l13987" name="l13987"></a><span class="lineno">13987</span>    <span class="keywordflow">if</span> (g.NavMoveSubmitted &amp;&amp; g.NavId == 0)</div>
<div class="line"><a id="l13988" name="l13988"></a><span class="lineno">13988</span>    {</div>
<div class="line"><a id="l13989" name="l13989"></a><span class="lineno">13989</span>        IMGUI_DEBUG_LOG_NAV(<span class="stringliteral">&quot;[nav] NavInitRequest: from move, window \&quot;%s\&quot;, layer=%d\n&quot;</span>, window ? window-&gt;Name : <span class="stringliteral">&quot;&lt;NULL&gt;&quot;</span>, g.NavLayer);</div>
<div class="line"><a id="l13990" name="l13990"></a><span class="lineno">13990</span>        g.NavInitRequest = g.NavInitRequestFromMove = <span class="keyword">true</span>;</div>
<div class="line"><a id="l13991" name="l13991"></a><span class="lineno">13991</span>        g.NavInitResult.ID = 0;</div>
<div class="line"><a id="l13992" name="l13992"></a><span class="lineno">13992</span>        <span class="keywordflow">if</span> (g.IO.ConfigNavCursorVisibleAuto)</div>
<div class="line"><a id="l13993" name="l13993"></a><span class="lineno">13993</span>            g.NavCursorVisible = <span class="keyword">true</span>;</div>
<div class="line"><a id="l13994" name="l13994"></a><span class="lineno">13994</span>    }</div>
<div class="line"><a id="l13995" name="l13995"></a><span class="lineno">13995</span> </div>
<div class="line"><a id="l13996" name="l13996"></a><span class="lineno">13996</span>    <span class="comment">// When using gamepad, we project the reference nav bounding box into window visible area.</span></div>
<div class="line"><a id="l13997" name="l13997"></a><span class="lineno">13997</span>    <span class="comment">// This is to allow resuming navigation inside the visible area after doing a large amount of scrolling,</span></div>
<div class="line"><a id="l13998" name="l13998"></a><span class="lineno">13998</span>    <span class="comment">// since with gamepad all movements are relative (can&#39;t focus a visible object like we can with the mouse).</span></div>
<div class="line"><a id="l13999" name="l13999"></a><span class="lineno">13999</span>    <span class="keywordflow">if</span> (g.NavMoveSubmitted &amp;&amp; g.NavInputSource == ImGuiInputSource_Gamepad &amp;&amp; g.NavLayer == ImGuiNavLayer_Main &amp;&amp; window != NULL)<span class="comment">// &amp;&amp; (g.NavMoveFlags &amp; ImGuiNavMoveFlags_Forwarded))</span></div>
<div class="line"><a id="l14000" name="l14000"></a><span class="lineno">14000</span>    {</div>
<div class="line"><a id="l14001" name="l14001"></a><span class="lineno">14001</span>        <span class="keywordtype">bool</span> clamp_x = (g.NavMoveFlags &amp; (ImGuiNavMoveFlags_LoopX | ImGuiNavMoveFlags_WrapX)) == 0;</div>
<div class="line"><a id="l14002" name="l14002"></a><span class="lineno">14002</span>        <span class="keywordtype">bool</span> clamp_y = (g.NavMoveFlags &amp; (ImGuiNavMoveFlags_LoopY | ImGuiNavMoveFlags_WrapY)) == 0;</div>
<div class="line"><a id="l14003" name="l14003"></a><span class="lineno">14003</span>        <a class="code hl_struct" href="structImRect.html">ImRect</a> inner_rect_rel = WindowRectAbsToRel(window, <a class="code hl_struct" href="structImRect.html">ImRect</a>(window-&gt;InnerRect.Min - <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(1, 1), window-&gt;InnerRect.Max + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(1, 1)));</div>
<div class="line"><a id="l14004" name="l14004"></a><span class="lineno">14004</span> </div>
<div class="line"><a id="l14005" name="l14005"></a><span class="lineno">14005</span>        <span class="comment">// Take account of changing scroll to handle triggering a new move request on a scrolling frame. (#6171)</span></div>
<div class="line"><a id="l14006" name="l14006"></a><span class="lineno">14006</span>        <span class="comment">// Otherwise &#39;inner_rect_rel&#39; would be off on the move result frame.</span></div>
<div class="line"><a id="l14007" name="l14007"></a><span class="lineno">14007</span>        inner_rect_rel.Translate(CalcNextScrollFromScrollTargetAndClamp(window) - window-&gt;Scroll);</div>
<div class="line"><a id="l14008" name="l14008"></a><span class="lineno">14008</span> </div>
<div class="line"><a id="l14009" name="l14009"></a><span class="lineno">14009</span>        <span class="keywordflow">if</span> ((clamp_x || clamp_y) &amp;&amp; !inner_rect_rel.Contains(window-&gt;NavRectRel[g.NavLayer]))</div>
<div class="line"><a id="l14010" name="l14010"></a><span class="lineno">14010</span>        {</div>
<div class="line"><a id="l14011" name="l14011"></a><span class="lineno">14011</span>            IMGUI_DEBUG_LOG_NAV(<span class="stringliteral">&quot;[nav] NavMoveRequest: clamp NavRectRel for gamepad move\n&quot;</span>);</div>
<div class="line"><a id="l14012" name="l14012"></a><span class="lineno">14012</span>            <span class="keywordtype">float</span> pad_x = ImMin(inner_rect_rel.GetWidth(), window-&gt;FontRefSize * 0.5f);</div>
<div class="line"><a id="l14013" name="l14013"></a><span class="lineno">14013</span>            <span class="keywordtype">float</span> pad_y = ImMin(inner_rect_rel.GetHeight(), window-&gt;FontRefSize * 0.5f); <span class="comment">// Terrible approximation for the intent of starting navigation from first fully visible item</span></div>
<div class="line"><a id="l14014" name="l14014"></a><span class="lineno">14014</span>            inner_rect_rel.Min.x = clamp_x ? (inner_rect_rel.Min.x + pad_x) : -FLT_MAX;</div>
<div class="line"><a id="l14015" name="l14015"></a><span class="lineno">14015</span>            inner_rect_rel.Max.x = clamp_x ? (inner_rect_rel.Max.x - pad_x) : +FLT_MAX;</div>
<div class="line"><a id="l14016" name="l14016"></a><span class="lineno">14016</span>            inner_rect_rel.Min.y = clamp_y ? (inner_rect_rel.Min.y + pad_y) : -FLT_MAX;</div>
<div class="line"><a id="l14017" name="l14017"></a><span class="lineno">14017</span>            inner_rect_rel.Max.y = clamp_y ? (inner_rect_rel.Max.y - pad_y) : +FLT_MAX;</div>
<div class="line"><a id="l14018" name="l14018"></a><span class="lineno">14018</span>            window-&gt;NavRectRel[g.NavLayer].ClipWithFull(inner_rect_rel);</div>
<div class="line"><a id="l14019" name="l14019"></a><span class="lineno">14019</span>            g.NavId = 0;</div>
<div class="line"><a id="l14020" name="l14020"></a><span class="lineno">14020</span>        }</div>
<div class="line"><a id="l14021" name="l14021"></a><span class="lineno">14021</span>    }</div>
<div class="line"><a id="l14022" name="l14022"></a><span class="lineno">14022</span> </div>
<div class="line"><a id="l14023" name="l14023"></a><span class="lineno">14023</span>    <span class="comment">// For scoring we use a single segment on the left side our current item bounding box (not touching the edge to avoid box overlap with zero-spaced items)</span></div>
<div class="line"><a id="l14024" name="l14024"></a><span class="lineno">14024</span>    <a class="code hl_struct" href="structImRect.html">ImRect</a> scoring_rect;</div>
<div class="line"><a id="l14025" name="l14025"></a><span class="lineno">14025</span>    <span class="keywordflow">if</span> (window != NULL)</div>
<div class="line"><a id="l14026" name="l14026"></a><span class="lineno">14026</span>    {</div>
<div class="line"><a id="l14027" name="l14027"></a><span class="lineno">14027</span>        <a class="code hl_struct" href="structImRect.html">ImRect</a> nav_rect_rel = !window-&gt;NavRectRel[g.NavLayer].IsInverted() ? window-&gt;NavRectRel[g.NavLayer] : <a class="code hl_struct" href="structImRect.html">ImRect</a>(0, 0, 0, 0);</div>
<div class="line"><a id="l14028" name="l14028"></a><span class="lineno">14028</span>        scoring_rect = WindowRectRelToAbs(window, nav_rect_rel);</div>
<div class="line"><a id="l14029" name="l14029"></a><span class="lineno">14029</span>        scoring_rect.TranslateY(scoring_rect_offset_y);</div>
<div class="line"><a id="l14030" name="l14030"></a><span class="lineno">14030</span>        <span class="keywordflow">if</span> (g.NavMoveSubmitted)</div>
<div class="line"><a id="l14031" name="l14031"></a><span class="lineno">14031</span>            NavBiasScoringRect(scoring_rect, window-&gt;RootWindowForNav-&gt;NavPreferredScoringPosRel[g.NavLayer], g.NavMoveDir, g.NavMoveFlags);</div>
<div class="line"><a id="l14032" name="l14032"></a><span class="lineno">14032</span>        IM_ASSERT(!scoring_rect.IsInverted()); <span class="comment">// Ensure we have a non-inverted bounding box here will allow us to remove extraneous ImFabs() calls in NavScoreItem().</span></div>
<div class="line"><a id="l14033" name="l14033"></a><span class="lineno">14033</span>        <span class="comment">//GetForegroundDrawList()-&gt;AddRect(scoring_rect.Min, scoring_rect.Max, IM_COL32(255,200,0,255)); // [DEBUG]</span></div>
<div class="line"><a id="l14034" name="l14034"></a><span class="lineno">14034</span>        <span class="comment">//if (!g.NavScoringNoClipRect.IsInverted()) { GetForegroundDrawList()-&gt;AddRect(g.NavScoringNoClipRect.Min, g.NavScoringNoClipRect.Max, IM_COL32(255, 200, 0, 255)); } // [DEBUG]</span></div>
<div class="line"><a id="l14035" name="l14035"></a><span class="lineno">14035</span>    }</div>
<div class="line"><a id="l14036" name="l14036"></a><span class="lineno">14036</span>    g.NavScoringRect = scoring_rect;</div>
<div class="line"><a id="l14037" name="l14037"></a><span class="lineno">14037</span>    g.NavScoringNoClipRect.Add(scoring_rect);</div>
<div class="line"><a id="l14038" name="l14038"></a><span class="lineno">14038</span>}</div>
<div class="line"><a id="l14039" name="l14039"></a><span class="lineno">14039</span> </div>
<div class="line"><a id="l14040" name="l14040"></a><span class="lineno">14040</span><span class="keywordtype">void</span> ImGui::NavUpdateCreateTabbingRequest()</div>
<div class="line"><a id="l14041" name="l14041"></a><span class="lineno">14041</span>{</div>
<div class="line"><a id="l14042" name="l14042"></a><span class="lineno">14042</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l14043" name="l14043"></a><span class="lineno">14043</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.NavWindow;</div>
<div class="line"><a id="l14044" name="l14044"></a><span class="lineno">14044</span>    IM_ASSERT(g.NavMoveDir == ImGuiDir_None);</div>
<div class="line"><a id="l14045" name="l14045"></a><span class="lineno">14045</span>    <span class="keywordflow">if</span> (window == NULL || g.NavWindowingTarget != NULL || (window-&gt;Flags &amp; ImGuiWindowFlags_NoNavInputs))</div>
<div class="line"><a id="l14046" name="l14046"></a><span class="lineno">14046</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l14047" name="l14047"></a><span class="lineno">14047</span> </div>
<div class="line"><a id="l14048" name="l14048"></a><span class="lineno">14048</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> tab_pressed = IsKeyPressed(ImGuiKey_Tab, ImGuiInputFlags_Repeat, ImGuiKeyOwner_NoOwner) &amp;&amp; !g.IO.KeyCtrl &amp;&amp; !g.IO.KeyAlt;</div>
<div class="line"><a id="l14049" name="l14049"></a><span class="lineno">14049</span>    <span class="keywordflow">if</span> (!tab_pressed)</div>
<div class="line"><a id="l14050" name="l14050"></a><span class="lineno">14050</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l14051" name="l14051"></a><span class="lineno">14051</span> </div>
<div class="line"><a id="l14052" name="l14052"></a><span class="lineno">14052</span>    <span class="comment">// Initiate tabbing request</span></div>
<div class="line"><a id="l14053" name="l14053"></a><span class="lineno">14053</span>    <span class="comment">// (this is ALWAYS ENABLED, regardless of ImGuiConfigFlags_NavEnableKeyboard flag!)</span></div>
<div class="line"><a id="l14054" name="l14054"></a><span class="lineno">14054</span>    <span class="comment">// See NavProcessItemForTabbingRequest() for a description of the various forward/backward tabbing cases with and without wrapping.</span></div>
<div class="line"><a id="l14055" name="l14055"></a><span class="lineno">14055</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> nav_keyboard_active = (g.IO.ConfigFlags &amp; ImGuiConfigFlags_NavEnableKeyboard) != 0;</div>
<div class="line"><a id="l14056" name="l14056"></a><span class="lineno">14056</span>    <span class="keywordflow">if</span> (nav_keyboard_active)</div>
<div class="line"><a id="l14057" name="l14057"></a><span class="lineno">14057</span>        g.NavTabbingDir = g.IO.KeyShift ? -1 : (g.NavCursorVisible == <span class="keyword">false</span> &amp;&amp; g.ActiveId == 0) ? 0 : +1;</div>
<div class="line"><a id="l14058" name="l14058"></a><span class="lineno">14058</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l14059" name="l14059"></a><span class="lineno">14059</span>        g.NavTabbingDir = g.IO.KeyShift ? -1 : (g.ActiveId == 0) ? 0 : +1;</div>
<div class="line"><a id="l14060" name="l14060"></a><span class="lineno">14060</span>    ImGuiNavMoveFlags move_flags = ImGuiNavMoveFlags_IsTabbing | ImGuiNavMoveFlags_Activate;</div>
<div class="line"><a id="l14061" name="l14061"></a><span class="lineno">14061</span>    ImGuiScrollFlags scroll_flags = window-&gt;Appearing ? ImGuiScrollFlags_KeepVisibleEdgeX | ImGuiScrollFlags_AlwaysCenterY : ImGuiScrollFlags_KeepVisibleEdgeX | ImGuiScrollFlags_KeepVisibleEdgeY;</div>
<div class="line"><a id="l14062" name="l14062"></a><span class="lineno">14062</span>    ImGuiDir clip_dir = (g.NavTabbingDir &lt; 0) ? ImGuiDir_Up : ImGuiDir_Down;</div>
<div class="line"><a id="l14063" name="l14063"></a><span class="lineno">14063</span>    NavMoveRequestSubmit(ImGuiDir_None, clip_dir, move_flags, scroll_flags); <span class="comment">// FIXME-NAV: Once we refactor tabbing, add LegacyApi flag to not activate non-inputable.</span></div>
<div class="line"><a id="l14064" name="l14064"></a><span class="lineno">14064</span>    g.NavTabbingCounter = -1;</div>
<div class="line"><a id="l14065" name="l14065"></a><span class="lineno">14065</span>}</div>
<div class="line"><a id="l14066" name="l14066"></a><span class="lineno">14066</span> </div>
<div class="line"><a id="l14067" name="l14067"></a><span class="lineno">14067</span><span class="comment">// Apply result from previous frame navigation directional move request. Always called from NavUpdate()</span></div>
<div class="line"><a id="l14068" name="l14068"></a><span class="lineno">14068</span><span class="keywordtype">void</span> ImGui::NavMoveRequestApplyResult()</div>
<div class="line"><a id="l14069" name="l14069"></a><span class="lineno">14069</span>{</div>
<div class="line"><a id="l14070" name="l14070"></a><span class="lineno">14070</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l14071" name="l14071"></a><span class="lineno">14071</span><span class="preprocessor">#if IMGUI_DEBUG_NAV_SCORING</span></div>
<div class="line"><a id="l14072" name="l14072"></a><span class="lineno">14072</span>    <span class="keywordflow">if</span> (g.NavMoveFlags &amp; ImGuiNavMoveFlags_DebugNoResult) <span class="comment">// [DEBUG] Scoring all items in NavWindow at all times</span></div>
<div class="line"><a id="l14073" name="l14073"></a><span class="lineno">14073</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l14074" name="l14074"></a><span class="lineno">14074</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l14075" name="l14075"></a><span class="lineno">14075</span> </div>
<div class="line"><a id="l14076" name="l14076"></a><span class="lineno">14076</span>    <span class="comment">// Select which result to use</span></div>
<div class="line"><a id="l14077" name="l14077"></a><span class="lineno">14077</span>    <a class="code hl_struct" href="structImGuiNavItemData.html">ImGuiNavItemData</a>* result = (g.NavMoveResultLocal.ID != 0) ? &amp;g.NavMoveResultLocal : (g.NavMoveResultOther.ID != 0) ? &amp;g.NavMoveResultOther : NULL;</div>
<div class="line"><a id="l14078" name="l14078"></a><span class="lineno">14078</span> </div>
<div class="line"><a id="l14079" name="l14079"></a><span class="lineno">14079</span>    <span class="comment">// Tabbing forward wrap</span></div>
<div class="line"><a id="l14080" name="l14080"></a><span class="lineno">14080</span>    <span class="keywordflow">if</span> ((g.NavMoveFlags &amp; ImGuiNavMoveFlags_IsTabbing) &amp;&amp; result == NULL)</div>
<div class="line"><a id="l14081" name="l14081"></a><span class="lineno">14081</span>        <span class="keywordflow">if</span> ((g.NavTabbingCounter == 1 || g.NavTabbingDir == 0) &amp;&amp; g.NavTabbingResultFirst.ID)</div>
<div class="line"><a id="l14082" name="l14082"></a><span class="lineno">14082</span>            result = &amp;g.NavTabbingResultFirst;</div>
<div class="line"><a id="l14083" name="l14083"></a><span class="lineno">14083</span> </div>
<div class="line"><a id="l14084" name="l14084"></a><span class="lineno">14084</span>    <span class="comment">// In a situation when there are no results but NavId != 0, re-enable the Navigation highlight (because g.NavId is not considered as a possible result)</span></div>
<div class="line"><a id="l14085" name="l14085"></a><span class="lineno">14085</span>    <span class="keyword">const</span> ImGuiAxis axis = (g.NavMoveDir == ImGuiDir_Up || g.NavMoveDir == ImGuiDir_Down) ? ImGuiAxis_Y : ImGuiAxis_X;</div>
<div class="line"><a id="l14086" name="l14086"></a><span class="lineno">14086</span>    <span class="keywordflow">if</span> (result == NULL)</div>
<div class="line"><a id="l14087" name="l14087"></a><span class="lineno">14087</span>    {</div>
<div class="line"><a id="l14088" name="l14088"></a><span class="lineno">14088</span>        <span class="keywordflow">if</span> (g.NavMoveFlags &amp; ImGuiNavMoveFlags_IsTabbing)</div>
<div class="line"><a id="l14089" name="l14089"></a><span class="lineno">14089</span>            g.NavMoveFlags |= ImGuiNavMoveFlags_NoSetNavCursorVisible;</div>
<div class="line"><a id="l14090" name="l14090"></a><span class="lineno">14090</span>        <span class="keywordflow">if</span> (g.NavId != 0 &amp;&amp; (g.NavMoveFlags &amp; ImGuiNavMoveFlags_NoSetNavCursorVisible) == 0)</div>
<div class="line"><a id="l14091" name="l14091"></a><span class="lineno">14091</span>            SetNavCursorVisibleAfterMove();</div>
<div class="line"><a id="l14092" name="l14092"></a><span class="lineno">14092</span>        NavClearPreferredPosForAxis(axis); <span class="comment">// On a failed move, clear preferred pos for this axis.</span></div>
<div class="line"><a id="l14093" name="l14093"></a><span class="lineno">14093</span>        IMGUI_DEBUG_LOG_NAV(<span class="stringliteral">&quot;[nav] NavMoveSubmitted but not led to a result!\n&quot;</span>);</div>
<div class="line"><a id="l14094" name="l14094"></a><span class="lineno">14094</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l14095" name="l14095"></a><span class="lineno">14095</span>    }</div>
<div class="line"><a id="l14096" name="l14096"></a><span class="lineno">14096</span> </div>
<div class="line"><a id="l14097" name="l14097"></a><span class="lineno">14097</span>    <span class="comment">// PageUp/PageDown behavior first jumps to the bottom/top mostly visible item, _otherwise_ use the result from the previous/next page.</span></div>
<div class="line"><a id="l14098" name="l14098"></a><span class="lineno">14098</span>    <span class="keywordflow">if</span> (g.NavMoveFlags &amp; ImGuiNavMoveFlags_AlsoScoreVisibleSet)</div>
<div class="line"><a id="l14099" name="l14099"></a><span class="lineno">14099</span>        <span class="keywordflow">if</span> (g.NavMoveResultLocalVisible.ID != 0 &amp;&amp; g.NavMoveResultLocalVisible.ID != g.NavId)</div>
<div class="line"><a id="l14100" name="l14100"></a><span class="lineno">14100</span>            result = &amp;g.NavMoveResultLocalVisible;</div>
<div class="line"><a id="l14101" name="l14101"></a><span class="lineno">14101</span> </div>
<div class="line"><a id="l14102" name="l14102"></a><span class="lineno">14102</span>    <span class="comment">// Maybe entering a flattened child from the outside? In this case solve the tie using the regular scoring rules.</span></div>
<div class="line"><a id="l14103" name="l14103"></a><span class="lineno">14103</span>    <span class="keywordflow">if</span> (result != &amp;g.NavMoveResultOther &amp;&amp; g.NavMoveResultOther.ID != 0 &amp;&amp; g.NavMoveResultOther.Window-&gt;ParentWindow == g.NavWindow)</div>
<div class="line"><a id="l14104" name="l14104"></a><span class="lineno">14104</span>        <span class="keywordflow">if</span> ((g.NavMoveResultOther.DistBox &lt; result-&gt;DistBox) || (g.NavMoveResultOther.DistBox == result-&gt;DistBox &amp;&amp; g.NavMoveResultOther.DistCenter &lt; result-&gt;DistCenter))</div>
<div class="line"><a id="l14105" name="l14105"></a><span class="lineno">14105</span>            result = &amp;g.NavMoveResultOther;</div>
<div class="line"><a id="l14106" name="l14106"></a><span class="lineno">14106</span>    IM_ASSERT(g.NavWindow &amp;&amp; result-&gt;Window);</div>
<div class="line"><a id="l14107" name="l14107"></a><span class="lineno">14107</span> </div>
<div class="line"><a id="l14108" name="l14108"></a><span class="lineno">14108</span>    <span class="comment">// Scroll to keep newly navigated item fully into view.</span></div>
<div class="line"><a id="l14109" name="l14109"></a><span class="lineno">14109</span>    <span class="keywordflow">if</span> (g.NavLayer == ImGuiNavLayer_Main)</div>
<div class="line"><a id="l14110" name="l14110"></a><span class="lineno">14110</span>    {</div>
<div class="line"><a id="l14111" name="l14111"></a><span class="lineno">14111</span>        <a class="code hl_struct" href="structImRect.html">ImRect</a> rect_abs = WindowRectRelToAbs(result-&gt;Window, result-&gt;RectRel);</div>
<div class="line"><a id="l14112" name="l14112"></a><span class="lineno">14112</span>        ScrollToRectEx(result-&gt;Window, rect_abs, g.NavMoveScrollFlags);</div>
<div class="line"><a id="l14113" name="l14113"></a><span class="lineno">14113</span> </div>
<div class="line"><a id="l14114" name="l14114"></a><span class="lineno">14114</span>        <span class="keywordflow">if</span> (g.NavMoveFlags &amp; ImGuiNavMoveFlags_ScrollToEdgeY)</div>
<div class="line"><a id="l14115" name="l14115"></a><span class="lineno">14115</span>        {</div>
<div class="line"><a id="l14116" name="l14116"></a><span class="lineno">14116</span>            <span class="comment">// FIXME: Should remove this? Or make more precise: use ScrollToRectEx() with edge?</span></div>
<div class="line"><a id="l14117" name="l14117"></a><span class="lineno">14117</span>            <span class="keywordtype">float</span> scroll_target = (g.NavMoveDir == ImGuiDir_Up) ? result-&gt;Window-&gt;ScrollMax.y : 0.0f;</div>
<div class="line"><a id="l14118" name="l14118"></a><span class="lineno">14118</span>            SetScrollY(result-&gt;Window, scroll_target);</div>
<div class="line"><a id="l14119" name="l14119"></a><span class="lineno">14119</span>        }</div>
<div class="line"><a id="l14120" name="l14120"></a><span class="lineno">14120</span>    }</div>
<div class="line"><a id="l14121" name="l14121"></a><span class="lineno">14121</span> </div>
<div class="line"><a id="l14122" name="l14122"></a><span class="lineno">14122</span>    <span class="keywordflow">if</span> (g.NavWindow != result-&gt;Window)</div>
<div class="line"><a id="l14123" name="l14123"></a><span class="lineno">14123</span>    {</div>
<div class="line"><a id="l14124" name="l14124"></a><span class="lineno">14124</span>        IMGUI_DEBUG_LOG_FOCUS(<span class="stringliteral">&quot;[focus] NavMoveRequest: SetNavWindow(\&quot;%s\&quot;)\n&quot;</span>, result-&gt;Window-&gt;Name);</div>
<div class="line"><a id="l14125" name="l14125"></a><span class="lineno">14125</span>        g.NavWindow = result-&gt;Window;</div>
<div class="line"><a id="l14126" name="l14126"></a><span class="lineno">14126</span>        g.NavLastValidSelectionUserData = ImGuiSelectionUserData_Invalid;</div>
<div class="line"><a id="l14127" name="l14127"></a><span class="lineno">14127</span>    }</div>
<div class="line"><a id="l14128" name="l14128"></a><span class="lineno">14128</span> </div>
<div class="line"><a id="l14129" name="l14129"></a><span class="lineno">14129</span>    <span class="comment">// Clear active id unless requested not to</span></div>
<div class="line"><a id="l14130" name="l14130"></a><span class="lineno">14130</span>    <span class="comment">// FIXME: ImGuiNavMoveFlags_NoClearActiveId is currently unused as we don&#39;t have a clear strategy to preserve active id after interaction,</span></div>
<div class="line"><a id="l14131" name="l14131"></a><span class="lineno">14131</span>    <span class="comment">// so this is mostly provided as a gateway for further experiments (see #1418, #2890)</span></div>
<div class="line"><a id="l14132" name="l14132"></a><span class="lineno">14132</span>    <span class="keywordflow">if</span> (g.ActiveId != result-&gt;ID &amp;&amp; (g.NavMoveFlags &amp; ImGuiNavMoveFlags_NoClearActiveId) == 0)</div>
<div class="line"><a id="l14133" name="l14133"></a><span class="lineno">14133</span>        ClearActiveID();</div>
<div class="line"><a id="l14134" name="l14134"></a><span class="lineno">14134</span> </div>
<div class="line"><a id="l14135" name="l14135"></a><span class="lineno">14135</span>    <span class="comment">// Don&#39;t set NavJustMovedToId if just landed on the same spot (which may happen with ImGuiNavMoveFlags_AllowCurrentNavId)</span></div>
<div class="line"><a id="l14136" name="l14136"></a><span class="lineno">14136</span>    <span class="comment">// PageUp/PageDown however sets always set NavJustMovedTo (vs Home/End which doesn&#39;t) mimicking Windows behavior.</span></div>
<div class="line"><a id="l14137" name="l14137"></a><span class="lineno">14137</span>    <span class="keywordflow">if</span> ((g.NavId != result-&gt;ID || (g.NavMoveFlags &amp; ImGuiNavMoveFlags_IsPageMove)) &amp;&amp; (g.NavMoveFlags &amp; ImGuiNavMoveFlags_NoSelect) == 0)</div>
<div class="line"><a id="l14138" name="l14138"></a><span class="lineno">14138</span>    {</div>
<div class="line"><a id="l14139" name="l14139"></a><span class="lineno">14139</span>        g.NavJustMovedFromFocusScopeId = g.NavFocusScopeId;</div>
<div class="line"><a id="l14140" name="l14140"></a><span class="lineno">14140</span>        g.NavJustMovedToId = result-&gt;ID;</div>
<div class="line"><a id="l14141" name="l14141"></a><span class="lineno">14141</span>        g.NavJustMovedToFocusScopeId = result-&gt;FocusScopeId;</div>
<div class="line"><a id="l14142" name="l14142"></a><span class="lineno">14142</span>        g.NavJustMovedToKeyMods = g.NavMoveKeyMods;</div>
<div class="line"><a id="l14143" name="l14143"></a><span class="lineno">14143</span>        g.NavJustMovedToIsTabbing = (g.NavMoveFlags &amp; ImGuiNavMoveFlags_IsTabbing) != 0;</div>
<div class="line"><a id="l14144" name="l14144"></a><span class="lineno">14144</span>        g.NavJustMovedToHasSelectionData = (result-&gt;ItemFlags &amp; ImGuiItemFlags_HasSelectionUserData) != 0;</div>
<div class="line"><a id="l14145" name="l14145"></a><span class="lineno">14145</span>        <span class="comment">//IMGUI_DEBUG_LOG_NAV(&quot;[nav] NavJustMovedFromFocusScopeId = 0x%08X, NavJustMovedToFocusScopeId = 0x%08X\n&quot;, g.NavJustMovedFromFocusScopeId, g.NavJustMovedToFocusScopeId);</span></div>
<div class="line"><a id="l14146" name="l14146"></a><span class="lineno">14146</span>    }</div>
<div class="line"><a id="l14147" name="l14147"></a><span class="lineno">14147</span> </div>
<div class="line"><a id="l14148" name="l14148"></a><span class="lineno">14148</span>    <span class="comment">// Apply new NavID/Focus</span></div>
<div class="line"><a id="l14149" name="l14149"></a><span class="lineno">14149</span>    IMGUI_DEBUG_LOG_NAV(<span class="stringliteral">&quot;[nav] NavMoveRequest: result NavID 0x%08X in Layer %d Window \&quot;%s\&quot;\n&quot;</span>, result-&gt;ID, g.NavLayer, g.NavWindow-&gt;Name);</div>
<div class="line"><a id="l14150" name="l14150"></a><span class="lineno">14150</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> preferred_scoring_pos_rel = g.NavWindow-&gt;RootWindowForNav-&gt;NavPreferredScoringPosRel[g.NavLayer];</div>
<div class="line"><a id="l14151" name="l14151"></a><span class="lineno">14151</span>    SetNavID(result-&gt;ID, g.NavLayer, result-&gt;FocusScopeId, result-&gt;RectRel);</div>
<div class="line"><a id="l14152" name="l14152"></a><span class="lineno">14152</span>    <span class="keywordflow">if</span> (result-&gt;SelectionUserData != ImGuiSelectionUserData_Invalid)</div>
<div class="line"><a id="l14153" name="l14153"></a><span class="lineno">14153</span>        g.NavLastValidSelectionUserData = result-&gt;SelectionUserData;</div>
<div class="line"><a id="l14154" name="l14154"></a><span class="lineno">14154</span> </div>
<div class="line"><a id="l14155" name="l14155"></a><span class="lineno">14155</span>    <span class="comment">// Restore last preferred position for current axis</span></div>
<div class="line"><a id="l14156" name="l14156"></a><span class="lineno">14156</span>    <span class="comment">// (storing in RootWindowForNav-&gt; as the info is desirable at the beginning of a Move Request. In theory all storage should use RootWindowForNav..)</span></div>
<div class="line"><a id="l14157" name="l14157"></a><span class="lineno">14157</span>    <span class="keywordflow">if</span> ((g.NavMoveFlags &amp; ImGuiNavMoveFlags_IsTabbing) == 0)</div>
<div class="line"><a id="l14158" name="l14158"></a><span class="lineno">14158</span>    {</div>
<div class="line"><a id="l14159" name="l14159"></a><span class="lineno">14159</span>        preferred_scoring_pos_rel[axis] = result-&gt;RectRel.GetCenter()[axis];</div>
<div class="line"><a id="l14160" name="l14160"></a><span class="lineno">14160</span>        g.NavWindow-&gt;RootWindowForNav-&gt;NavPreferredScoringPosRel[g.NavLayer] = preferred_scoring_pos_rel;</div>
<div class="line"><a id="l14161" name="l14161"></a><span class="lineno">14161</span>    }</div>
<div class="line"><a id="l14162" name="l14162"></a><span class="lineno">14162</span> </div>
<div class="line"><a id="l14163" name="l14163"></a><span class="lineno">14163</span>    <span class="comment">// Tabbing: Activates Inputable, otherwise only Focus</span></div>
<div class="line"><a id="l14164" name="l14164"></a><span class="lineno">14164</span>    <span class="keywordflow">if</span> ((g.NavMoveFlags &amp; ImGuiNavMoveFlags_IsTabbing) &amp;&amp; (result-&gt;ItemFlags &amp; ImGuiItemFlags_Inputable) == 0)</div>
<div class="line"><a id="l14165" name="l14165"></a><span class="lineno">14165</span>        g.NavMoveFlags &amp;= ~ImGuiNavMoveFlags_Activate;</div>
<div class="line"><a id="l14166" name="l14166"></a><span class="lineno">14166</span> </div>
<div class="line"><a id="l14167" name="l14167"></a><span class="lineno">14167</span>    <span class="comment">// Activate</span></div>
<div class="line"><a id="l14168" name="l14168"></a><span class="lineno">14168</span>    <span class="keywordflow">if</span> (g.NavMoveFlags &amp; ImGuiNavMoveFlags_Activate)</div>
<div class="line"><a id="l14169" name="l14169"></a><span class="lineno">14169</span>    {</div>
<div class="line"><a id="l14170" name="l14170"></a><span class="lineno">14170</span>        g.NavNextActivateId = result-&gt;ID;</div>
<div class="line"><a id="l14171" name="l14171"></a><span class="lineno">14171</span>        g.NavNextActivateFlags = ImGuiActivateFlags_None;</div>
<div class="line"><a id="l14172" name="l14172"></a><span class="lineno">14172</span>        <span class="keywordflow">if</span> (g.NavMoveFlags &amp; ImGuiNavMoveFlags_IsTabbing)</div>
<div class="line"><a id="l14173" name="l14173"></a><span class="lineno">14173</span>            g.NavNextActivateFlags |= ImGuiActivateFlags_PreferInput | ImGuiActivateFlags_TryToPreserveState | ImGuiActivateFlags_FromTabbing;</div>
<div class="line"><a id="l14174" name="l14174"></a><span class="lineno">14174</span>    }</div>
<div class="line"><a id="l14175" name="l14175"></a><span class="lineno">14175</span> </div>
<div class="line"><a id="l14176" name="l14176"></a><span class="lineno">14176</span>    <span class="comment">// Make nav cursor visible</span></div>
<div class="line"><a id="l14177" name="l14177"></a><span class="lineno">14177</span>    <span class="keywordflow">if</span> ((g.NavMoveFlags &amp; ImGuiNavMoveFlags_NoSetNavCursorVisible) == 0)</div>
<div class="line"><a id="l14178" name="l14178"></a><span class="lineno">14178</span>        SetNavCursorVisibleAfterMove();</div>
<div class="line"><a id="l14179" name="l14179"></a><span class="lineno">14179</span>}</div>
<div class="line"><a id="l14180" name="l14180"></a><span class="lineno">14180</span> </div>
<div class="line"><a id="l14181" name="l14181"></a><span class="lineno">14181</span><span class="comment">// Process Escape/NavCancel input (to close a popup, get back to parent, clear focus)</span></div>
<div class="line"><a id="l14182" name="l14182"></a><span class="lineno">14182</span><span class="comment">// FIXME: In order to support e.g. Escape to clear a selection we&#39;ll need:</span></div>
<div class="line"><a id="l14183" name="l14183"></a><span class="lineno">14183</span><span class="comment">// - either to store the equivalent of ActiveIdUsingKeyInputMask for a FocusScope and test for it.</span></div>
<div class="line"><a id="l14184" name="l14184"></a><span class="lineno">14184</span><span class="comment">// - either to move most/all of those tests to the epilogue/end functions of the scope they are dealing with (e.g. exit child window in EndChild()) or in EndFrame(), to allow an earlier intercept</span></div>
<div class="line"><a id="l14185" name="l14185"></a><span class="lineno">14185</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::NavUpdateCancelRequest()</div>
<div class="line"><a id="l14186" name="l14186"></a><span class="lineno">14186</span>{</div>
<div class="line"><a id="l14187" name="l14187"></a><span class="lineno">14187</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l14188" name="l14188"></a><span class="lineno">14188</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> nav_gamepad_active = (g.IO.ConfigFlags &amp; ImGuiConfigFlags_NavEnableGamepad) != 0 &amp;&amp; (g.IO.BackendFlags &amp; ImGuiBackendFlags_HasGamepad) != 0;</div>
<div class="line"><a id="l14189" name="l14189"></a><span class="lineno">14189</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> nav_keyboard_active = (g.IO.ConfigFlags &amp; ImGuiConfigFlags_NavEnableKeyboard) != 0;</div>
<div class="line"><a id="l14190" name="l14190"></a><span class="lineno">14190</span>    <span class="keywordflow">if</span> (!(nav_keyboard_active &amp;&amp; IsKeyPressed(ImGuiKey_Escape, 0, ImGuiKeyOwner_NoOwner)) &amp;&amp; !(nav_gamepad_active &amp;&amp; IsKeyPressed(ImGuiKey_NavGamepadCancel, 0, ImGuiKeyOwner_NoOwner)))</div>
<div class="line"><a id="l14191" name="l14191"></a><span class="lineno">14191</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l14192" name="l14192"></a><span class="lineno">14192</span> </div>
<div class="line"><a id="l14193" name="l14193"></a><span class="lineno">14193</span>    IMGUI_DEBUG_LOG_NAV(<span class="stringliteral">&quot;[nav] NavUpdateCancelRequest()\n&quot;</span>);</div>
<div class="line"><a id="l14194" name="l14194"></a><span class="lineno">14194</span>    <span class="keywordflow">if</span> (g.ActiveId != 0)</div>
<div class="line"><a id="l14195" name="l14195"></a><span class="lineno">14195</span>    {</div>
<div class="line"><a id="l14196" name="l14196"></a><span class="lineno">14196</span>        ClearActiveID();</div>
<div class="line"><a id="l14197" name="l14197"></a><span class="lineno">14197</span>    }</div>
<div class="line"><a id="l14198" name="l14198"></a><span class="lineno">14198</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (g.NavLayer != ImGuiNavLayer_Main)</div>
<div class="line"><a id="l14199" name="l14199"></a><span class="lineno">14199</span>    {</div>
<div class="line"><a id="l14200" name="l14200"></a><span class="lineno">14200</span>        <span class="comment">// Leave the &quot;menu&quot; layer</span></div>
<div class="line"><a id="l14201" name="l14201"></a><span class="lineno">14201</span>        NavRestoreLayer(ImGuiNavLayer_Main);</div>
<div class="line"><a id="l14202" name="l14202"></a><span class="lineno">14202</span>        SetNavCursorVisibleAfterMove();</div>
<div class="line"><a id="l14203" name="l14203"></a><span class="lineno">14203</span>    }</div>
<div class="line"><a id="l14204" name="l14204"></a><span class="lineno">14204</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (g.NavWindow &amp;&amp; g.NavWindow != g.NavWindow-&gt;RootWindow &amp;&amp; !(g.NavWindow-&gt;RootWindowForNav-&gt;Flags &amp; ImGuiWindowFlags_Popup) &amp;&amp; g.NavWindow-&gt;RootWindowForNav-&gt;ParentWindow)</div>
<div class="line"><a id="l14205" name="l14205"></a><span class="lineno">14205</span>    {</div>
<div class="line"><a id="l14206" name="l14206"></a><span class="lineno">14206</span>        <span class="comment">// Exit child window</span></div>
<div class="line"><a id="l14207" name="l14207"></a><span class="lineno">14207</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* child_window = g.NavWindow-&gt;RootWindowForNav;</div>
<div class="line"><a id="l14208" name="l14208"></a><span class="lineno">14208</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* parent_window = child_window-&gt;ParentWindow;</div>
<div class="line"><a id="l14209" name="l14209"></a><span class="lineno">14209</span>        IM_ASSERT(child_window-&gt;ChildId != 0);</div>
<div class="line"><a id="l14210" name="l14210"></a><span class="lineno">14210</span>        FocusWindow(parent_window);</div>
<div class="line"><a id="l14211" name="l14211"></a><span class="lineno">14211</span>        SetNavID(child_window-&gt;ChildId, ImGuiNavLayer_Main, 0, WindowRectAbsToRel(parent_window, child_window-&gt;Rect()));</div>
<div class="line"><a id="l14212" name="l14212"></a><span class="lineno">14212</span>        SetNavCursorVisibleAfterMove();</div>
<div class="line"><a id="l14213" name="l14213"></a><span class="lineno">14213</span>    }</div>
<div class="line"><a id="l14214" name="l14214"></a><span class="lineno">14214</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (g.OpenPopupStack.Size &gt; 0 &amp;&amp; g.OpenPopupStack.back().Window != NULL &amp;&amp; !(g.OpenPopupStack.back().Window-&gt;Flags &amp; ImGuiWindowFlags_Modal))</div>
<div class="line"><a id="l14215" name="l14215"></a><span class="lineno">14215</span>    {</div>
<div class="line"><a id="l14216" name="l14216"></a><span class="lineno">14216</span>        <span class="comment">// Close open popup/menu</span></div>
<div class="line"><a id="l14217" name="l14217"></a><span class="lineno">14217</span>        ClosePopupToLevel(g.OpenPopupStack.Size - 1, <span class="keyword">true</span>);</div>
<div class="line"><a id="l14218" name="l14218"></a><span class="lineno">14218</span>    }</div>
<div class="line"><a id="l14219" name="l14219"></a><span class="lineno">14219</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l14220" name="l14220"></a><span class="lineno">14220</span>    {</div>
<div class="line"><a id="l14221" name="l14221"></a><span class="lineno">14221</span>        <span class="comment">// Clear NavLastId for popups but keep it for regular child window so we can leave one and come back where we were</span></div>
<div class="line"><a id="l14222" name="l14222"></a><span class="lineno">14222</span>        <span class="comment">// FIXME-NAV: This should happen on window appearing.</span></div>
<div class="line"><a id="l14223" name="l14223"></a><span class="lineno">14223</span>        <span class="keywordflow">if</span> (g.IO.ConfigNavEscapeClearFocusItem || g.IO.ConfigNavEscapeClearFocusWindow)</div>
<div class="line"><a id="l14224" name="l14224"></a><span class="lineno">14224</span>            <span class="keywordflow">if</span> (g.NavWindow &amp;&amp; ((g.NavWindow-&gt;Flags &amp; ImGuiWindowFlags_Popup)))<span class="comment">// || !(g.NavWindow-&gt;Flags &amp; ImGuiWindowFlags_ChildWindow)))</span></div>
<div class="line"><a id="l14225" name="l14225"></a><span class="lineno">14225</span>                g.NavWindow-&gt;NavLastIds[0] = 0;</div>
<div class="line"><a id="l14226" name="l14226"></a><span class="lineno">14226</span> </div>
<div class="line"><a id="l14227" name="l14227"></a><span class="lineno">14227</span>        <span class="comment">// Clear nav focus</span></div>
<div class="line"><a id="l14228" name="l14228"></a><span class="lineno">14228</span>        <span class="keywordflow">if</span> (g.IO.ConfigNavEscapeClearFocusItem || g.IO.ConfigNavEscapeClearFocusWindow)</div>
<div class="line"><a id="l14229" name="l14229"></a><span class="lineno">14229</span>            g.NavId = 0;</div>
<div class="line"><a id="l14230" name="l14230"></a><span class="lineno">14230</span>        <span class="keywordflow">if</span> (g.IO.ConfigNavEscapeClearFocusWindow)</div>
<div class="line"><a id="l14231" name="l14231"></a><span class="lineno">14231</span>            FocusWindow(NULL);</div>
<div class="line"><a id="l14232" name="l14232"></a><span class="lineno">14232</span>    }</div>
<div class="line"><a id="l14233" name="l14233"></a><span class="lineno">14233</span>}</div>
<div class="line"><a id="l14234" name="l14234"></a><span class="lineno">14234</span> </div>
<div class="line"><a id="l14235" name="l14235"></a><span class="lineno">14235</span><span class="comment">// Handle PageUp/PageDown/Home/End keys</span></div>
<div class="line"><a id="l14236" name="l14236"></a><span class="lineno">14236</span><span class="comment">// Called from NavUpdateCreateMoveRequest() which will use our output to create a move request</span></div>
<div class="line"><a id="l14237" name="l14237"></a><span class="lineno">14237</span><span class="comment">// FIXME-NAV: This doesn&#39;t work properly with NavFlattened siblings as we use NavWindow rectangle for reference</span></div>
<div class="line"><a id="l14238" name="l14238"></a><span class="lineno">14238</span><span class="comment">// FIXME-NAV: how to get Home/End to aim at the beginning/end of a 2D grid?</span></div>
<div class="line"><a id="l14239" name="l14239"></a><span class="lineno">14239</span><span class="keyword">static</span> <span class="keywordtype">float</span> ImGui::NavUpdatePageUpPageDown()</div>
<div class="line"><a id="l14240" name="l14240"></a><span class="lineno">14240</span>{</div>
<div class="line"><a id="l14241" name="l14241"></a><span class="lineno">14241</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l14242" name="l14242"></a><span class="lineno">14242</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.NavWindow;</div>
<div class="line"><a id="l14243" name="l14243"></a><span class="lineno">14243</span>    <span class="keywordflow">if</span> ((window-&gt;Flags &amp; ImGuiWindowFlags_NoNavInputs) || g.NavWindowingTarget != NULL)</div>
<div class="line"><a id="l14244" name="l14244"></a><span class="lineno">14244</span>        <span class="keywordflow">return</span> 0.0f;</div>
<div class="line"><a id="l14245" name="l14245"></a><span class="lineno">14245</span> </div>
<div class="line"><a id="l14246" name="l14246"></a><span class="lineno">14246</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> page_up_held = IsKeyDown(ImGuiKey_PageUp, ImGuiKeyOwner_NoOwner);</div>
<div class="line"><a id="l14247" name="l14247"></a><span class="lineno">14247</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> page_down_held = IsKeyDown(ImGuiKey_PageDown, ImGuiKeyOwner_NoOwner);</div>
<div class="line"><a id="l14248" name="l14248"></a><span class="lineno">14248</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> home_pressed = IsKeyPressed(ImGuiKey_Home, ImGuiInputFlags_Repeat, ImGuiKeyOwner_NoOwner);</div>
<div class="line"><a id="l14249" name="l14249"></a><span class="lineno">14249</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> end_pressed = IsKeyPressed(ImGuiKey_End, ImGuiInputFlags_Repeat, ImGuiKeyOwner_NoOwner);</div>
<div class="line"><a id="l14250" name="l14250"></a><span class="lineno">14250</span>    <span class="keywordflow">if</span> (page_up_held == page_down_held &amp;&amp; home_pressed == end_pressed) <span class="comment">// Proceed if either (not both) are pressed, otherwise early out</span></div>
<div class="line"><a id="l14251" name="l14251"></a><span class="lineno">14251</span>        <span class="keywordflow">return</span> 0.0f;</div>
<div class="line"><a id="l14252" name="l14252"></a><span class="lineno">14252</span> </div>
<div class="line"><a id="l14253" name="l14253"></a><span class="lineno">14253</span>    <span class="keywordflow">if</span> (g.NavLayer != ImGuiNavLayer_Main)</div>
<div class="line"><a id="l14254" name="l14254"></a><span class="lineno">14254</span>        NavRestoreLayer(ImGuiNavLayer_Main);</div>
<div class="line"><a id="l14255" name="l14255"></a><span class="lineno">14255</span> </div>
<div class="line"><a id="l14256" name="l14256"></a><span class="lineno">14256</span>    <span class="keywordflow">if</span> (window-&gt;DC.NavLayersActiveMask == 0x00 &amp;&amp; window-&gt;DC.NavWindowHasScrollY)</div>
<div class="line"><a id="l14257" name="l14257"></a><span class="lineno">14257</span>    {</div>
<div class="line"><a id="l14258" name="l14258"></a><span class="lineno">14258</span>        <span class="comment">// Fallback manual-scroll when window has no navigable item</span></div>
<div class="line"><a id="l14259" name="l14259"></a><span class="lineno">14259</span>        <span class="keywordflow">if</span> (IsKeyPressed(ImGuiKey_PageUp, ImGuiInputFlags_Repeat, ImGuiKeyOwner_NoOwner))</div>
<div class="line"><a id="l14260" name="l14260"></a><span class="lineno">14260</span>            SetScrollY(window, window-&gt;Scroll.y - window-&gt;InnerRect.GetHeight());</div>
<div class="line"><a id="l14261" name="l14261"></a><span class="lineno">14261</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsKeyPressed(ImGuiKey_PageDown, ImGuiInputFlags_Repeat, ImGuiKeyOwner_NoOwner))</div>
<div class="line"><a id="l14262" name="l14262"></a><span class="lineno">14262</span>            SetScrollY(window, window-&gt;Scroll.y + window-&gt;InnerRect.GetHeight());</div>
<div class="line"><a id="l14263" name="l14263"></a><span class="lineno">14263</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (home_pressed)</div>
<div class="line"><a id="l14264" name="l14264"></a><span class="lineno">14264</span>            SetScrollY(window, 0.0f);</div>
<div class="line"><a id="l14265" name="l14265"></a><span class="lineno">14265</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (end_pressed)</div>
<div class="line"><a id="l14266" name="l14266"></a><span class="lineno">14266</span>            SetScrollY(window, window-&gt;ScrollMax.y);</div>
<div class="line"><a id="l14267" name="l14267"></a><span class="lineno">14267</span>    }</div>
<div class="line"><a id="l14268" name="l14268"></a><span class="lineno">14268</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l14269" name="l14269"></a><span class="lineno">14269</span>    {</div>
<div class="line"><a id="l14270" name="l14270"></a><span class="lineno">14270</span>        <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; nav_rect_rel = window-&gt;NavRectRel[g.NavLayer];</div>
<div class="line"><a id="l14271" name="l14271"></a><span class="lineno">14271</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> page_offset_y = ImMax(0.0f, window-&gt;InnerRect.GetHeight() - window-&gt;FontRefSize * 1.0f + nav_rect_rel.GetHeight());</div>
<div class="line"><a id="l14272" name="l14272"></a><span class="lineno">14272</span>        <span class="keywordtype">float</span> nav_scoring_rect_offset_y = 0.0f;</div>
<div class="line"><a id="l14273" name="l14273"></a><span class="lineno">14273</span>        <span class="keywordflow">if</span> (IsKeyPressed(ImGuiKey_PageUp, <span class="keyword">true</span>))</div>
<div class="line"><a id="l14274" name="l14274"></a><span class="lineno">14274</span>        {</div>
<div class="line"><a id="l14275" name="l14275"></a><span class="lineno">14275</span>            nav_scoring_rect_offset_y = -page_offset_y;</div>
<div class="line"><a id="l14276" name="l14276"></a><span class="lineno">14276</span>            g.NavMoveDir = ImGuiDir_Down; <span class="comment">// Because our scoring rect is offset up, we request the down direction (so we can always land on the last item)</span></div>
<div class="line"><a id="l14277" name="l14277"></a><span class="lineno">14277</span>            g.NavMoveClipDir = ImGuiDir_Up;</div>
<div class="line"><a id="l14278" name="l14278"></a><span class="lineno">14278</span>            g.NavMoveFlags = ImGuiNavMoveFlags_AllowCurrentNavId | ImGuiNavMoveFlags_AlsoScoreVisibleSet | ImGuiNavMoveFlags_IsPageMove;</div>
<div class="line"><a id="l14279" name="l14279"></a><span class="lineno">14279</span>        }</div>
<div class="line"><a id="l14280" name="l14280"></a><span class="lineno">14280</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsKeyPressed(ImGuiKey_PageDown, <span class="keyword">true</span>))</div>
<div class="line"><a id="l14281" name="l14281"></a><span class="lineno">14281</span>        {</div>
<div class="line"><a id="l14282" name="l14282"></a><span class="lineno">14282</span>            nav_scoring_rect_offset_y = +page_offset_y;</div>
<div class="line"><a id="l14283" name="l14283"></a><span class="lineno">14283</span>            g.NavMoveDir = ImGuiDir_Up; <span class="comment">// Because our scoring rect is offset down, we request the up direction (so we can always land on the last item)</span></div>
<div class="line"><a id="l14284" name="l14284"></a><span class="lineno">14284</span>            g.NavMoveClipDir = ImGuiDir_Down;</div>
<div class="line"><a id="l14285" name="l14285"></a><span class="lineno">14285</span>            g.NavMoveFlags = ImGuiNavMoveFlags_AllowCurrentNavId | ImGuiNavMoveFlags_AlsoScoreVisibleSet | ImGuiNavMoveFlags_IsPageMove;</div>
<div class="line"><a id="l14286" name="l14286"></a><span class="lineno">14286</span>        }</div>
<div class="line"><a id="l14287" name="l14287"></a><span class="lineno">14287</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (home_pressed)</div>
<div class="line"><a id="l14288" name="l14288"></a><span class="lineno">14288</span>        {</div>
<div class="line"><a id="l14289" name="l14289"></a><span class="lineno">14289</span>            <span class="comment">// FIXME-NAV: handling of Home/End is assuming that the top/bottom most item will be visible with Scroll.y == 0/ScrollMax.y</span></div>
<div class="line"><a id="l14290" name="l14290"></a><span class="lineno">14290</span>            <span class="comment">// Scrolling will be handled via the ImGuiNavMoveFlags_ScrollToEdgeY flag, we don&#39;t scroll immediately to avoid scrolling happening before nav result.</span></div>
<div class="line"><a id="l14291" name="l14291"></a><span class="lineno">14291</span>            <span class="comment">// Preserve current horizontal position if we have any.</span></div>
<div class="line"><a id="l14292" name="l14292"></a><span class="lineno">14292</span>            nav_rect_rel.Min.y = nav_rect_rel.Max.y = 0.0f;</div>
<div class="line"><a id="l14293" name="l14293"></a><span class="lineno">14293</span>            <span class="keywordflow">if</span> (nav_rect_rel.IsInverted())</div>
<div class="line"><a id="l14294" name="l14294"></a><span class="lineno">14294</span>                nav_rect_rel.Min.x = nav_rect_rel.Max.x = 0.0f;</div>
<div class="line"><a id="l14295" name="l14295"></a><span class="lineno">14295</span>            g.NavMoveDir = ImGuiDir_Down;</div>
<div class="line"><a id="l14296" name="l14296"></a><span class="lineno">14296</span>            g.NavMoveFlags = ImGuiNavMoveFlags_AllowCurrentNavId | ImGuiNavMoveFlags_ScrollToEdgeY;</div>
<div class="line"><a id="l14297" name="l14297"></a><span class="lineno">14297</span>            <span class="comment">// FIXME-NAV: MoveClipDir left to _None, intentional?</span></div>
<div class="line"><a id="l14298" name="l14298"></a><span class="lineno">14298</span>        }</div>
<div class="line"><a id="l14299" name="l14299"></a><span class="lineno">14299</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (end_pressed)</div>
<div class="line"><a id="l14300" name="l14300"></a><span class="lineno">14300</span>        {</div>
<div class="line"><a id="l14301" name="l14301"></a><span class="lineno">14301</span>            nav_rect_rel.Min.y = nav_rect_rel.Max.y = window-&gt;ContentSize.y;</div>
<div class="line"><a id="l14302" name="l14302"></a><span class="lineno">14302</span>            <span class="keywordflow">if</span> (nav_rect_rel.IsInverted())</div>
<div class="line"><a id="l14303" name="l14303"></a><span class="lineno">14303</span>                nav_rect_rel.Min.x = nav_rect_rel.Max.x = 0.0f;</div>
<div class="line"><a id="l14304" name="l14304"></a><span class="lineno">14304</span>            g.NavMoveDir = ImGuiDir_Up;</div>
<div class="line"><a id="l14305" name="l14305"></a><span class="lineno">14305</span>            g.NavMoveFlags = ImGuiNavMoveFlags_AllowCurrentNavId | ImGuiNavMoveFlags_ScrollToEdgeY;</div>
<div class="line"><a id="l14306" name="l14306"></a><span class="lineno">14306</span>            <span class="comment">// FIXME-NAV: MoveClipDir left to _None, intentional?</span></div>
<div class="line"><a id="l14307" name="l14307"></a><span class="lineno">14307</span>        }</div>
<div class="line"><a id="l14308" name="l14308"></a><span class="lineno">14308</span>        <span class="keywordflow">return</span> nav_scoring_rect_offset_y;</div>
<div class="line"><a id="l14309" name="l14309"></a><span class="lineno">14309</span>    }</div>
<div class="line"><a id="l14310" name="l14310"></a><span class="lineno">14310</span>    <span class="keywordflow">return</span> 0.0f;</div>
<div class="line"><a id="l14311" name="l14311"></a><span class="lineno">14311</span>}</div>
<div class="line"><a id="l14312" name="l14312"></a><span class="lineno">14312</span> </div>
<div class="line"><a id="l14313" name="l14313"></a><span class="lineno">14313</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::NavEndFrame()</div>
<div class="line"><a id="l14314" name="l14314"></a><span class="lineno">14314</span>{</div>
<div class="line"><a id="l14315" name="l14315"></a><span class="lineno">14315</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l14316" name="l14316"></a><span class="lineno">14316</span> </div>
<div class="line"><a id="l14317" name="l14317"></a><span class="lineno">14317</span>    <span class="comment">// Show CTRL+TAB list window</span></div>
<div class="line"><a id="l14318" name="l14318"></a><span class="lineno">14318</span>    <span class="keywordflow">if</span> (g.NavWindowingTarget != NULL)</div>
<div class="line"><a id="l14319" name="l14319"></a><span class="lineno">14319</span>        NavUpdateWindowingOverlay();</div>
<div class="line"><a id="l14320" name="l14320"></a><span class="lineno">14320</span> </div>
<div class="line"><a id="l14321" name="l14321"></a><span class="lineno">14321</span>    <span class="comment">// Perform wrap-around in menus</span></div>
<div class="line"><a id="l14322" name="l14322"></a><span class="lineno">14322</span>    <span class="comment">// FIXME-NAV: Wrap may need to apply a weight bias on the other axis. e.g. 4x4 grid with 2 last items missing on last item won&#39;t handle LoopY/WrapY correctly.</span></div>
<div class="line"><a id="l14323" name="l14323"></a><span class="lineno">14323</span>    <span class="comment">// FIXME-NAV: Wrap (not Loop) support could be handled by the scoring function and then WrapX would function without an extra frame.</span></div>
<div class="line"><a id="l14324" name="l14324"></a><span class="lineno">14324</span>    <span class="keywordflow">if</span> (g.NavWindow &amp;&amp; NavMoveRequestButNoResultYet() &amp;&amp; (g.NavMoveFlags &amp; ImGuiNavMoveFlags_WrapMask_) &amp;&amp; (g.NavMoveFlags &amp; ImGuiNavMoveFlags_Forwarded) == 0)</div>
<div class="line"><a id="l14325" name="l14325"></a><span class="lineno">14325</span>        NavUpdateCreateWrappingRequest();</div>
<div class="line"><a id="l14326" name="l14326"></a><span class="lineno">14326</span>}</div>
<div class="line"><a id="l14327" name="l14327"></a><span class="lineno">14327</span> </div>
<div class="line"><a id="l14328" name="l14328"></a><span class="lineno">14328</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::NavUpdateCreateWrappingRequest()</div>
<div class="line"><a id="l14329" name="l14329"></a><span class="lineno">14329</span>{</div>
<div class="line"><a id="l14330" name="l14330"></a><span class="lineno">14330</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l14331" name="l14331"></a><span class="lineno">14331</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.NavWindow;</div>
<div class="line"><a id="l14332" name="l14332"></a><span class="lineno">14332</span> </div>
<div class="line"><a id="l14333" name="l14333"></a><span class="lineno">14333</span>    <span class="keywordtype">bool</span> do_forward = <span class="keyword">false</span>;</div>
<div class="line"><a id="l14334" name="l14334"></a><span class="lineno">14334</span>    <a class="code hl_struct" href="structImRect.html">ImRect</a> bb_rel = window-&gt;NavRectRel[g.NavLayer];</div>
<div class="line"><a id="l14335" name="l14335"></a><span class="lineno">14335</span>    ImGuiDir clip_dir = g.NavMoveDir;</div>
<div class="line"><a id="l14336" name="l14336"></a><span class="lineno">14336</span> </div>
<div class="line"><a id="l14337" name="l14337"></a><span class="lineno">14337</span>    <span class="keyword">const</span> ImGuiNavMoveFlags move_flags = g.NavMoveFlags;</div>
<div class="line"><a id="l14338" name="l14338"></a><span class="lineno">14338</span>    <span class="comment">//const ImGuiAxis move_axis = (g.NavMoveDir == ImGuiDir_Up || g.NavMoveDir == ImGuiDir_Down) ? ImGuiAxis_Y : ImGuiAxis_X;</span></div>
<div class="line"><a id="l14339" name="l14339"></a><span class="lineno">14339</span>    <span class="keywordflow">if</span> (g.NavMoveDir == ImGuiDir_Left &amp;&amp; (move_flags &amp; (ImGuiNavMoveFlags_WrapX | ImGuiNavMoveFlags_LoopX)))</div>
<div class="line"><a id="l14340" name="l14340"></a><span class="lineno">14340</span>    {</div>
<div class="line"><a id="l14341" name="l14341"></a><span class="lineno">14341</span>        bb_rel.Min.x = bb_rel.Max.x = window-&gt;ContentSize.x + window-&gt;WindowPadding.x;</div>
<div class="line"><a id="l14342" name="l14342"></a><span class="lineno">14342</span>        <span class="keywordflow">if</span> (move_flags &amp; ImGuiNavMoveFlags_WrapX)</div>
<div class="line"><a id="l14343" name="l14343"></a><span class="lineno">14343</span>        {</div>
<div class="line"><a id="l14344" name="l14344"></a><span class="lineno">14344</span>            bb_rel.TranslateY(-bb_rel.GetHeight()); <span class="comment">// Previous row</span></div>
<div class="line"><a id="l14345" name="l14345"></a><span class="lineno">14345</span>            clip_dir = ImGuiDir_Up;</div>
<div class="line"><a id="l14346" name="l14346"></a><span class="lineno">14346</span>        }</div>
<div class="line"><a id="l14347" name="l14347"></a><span class="lineno">14347</span>        do_forward = <span class="keyword">true</span>;</div>
<div class="line"><a id="l14348" name="l14348"></a><span class="lineno">14348</span>    }</div>
<div class="line"><a id="l14349" name="l14349"></a><span class="lineno">14349</span>    <span class="keywordflow">if</span> (g.NavMoveDir == ImGuiDir_Right &amp;&amp; (move_flags &amp; (ImGuiNavMoveFlags_WrapX | ImGuiNavMoveFlags_LoopX)))</div>
<div class="line"><a id="l14350" name="l14350"></a><span class="lineno">14350</span>    {</div>
<div class="line"><a id="l14351" name="l14351"></a><span class="lineno">14351</span>        bb_rel.Min.x = bb_rel.Max.x = -window-&gt;WindowPadding.x;</div>
<div class="line"><a id="l14352" name="l14352"></a><span class="lineno">14352</span>        <span class="keywordflow">if</span> (move_flags &amp; ImGuiNavMoveFlags_WrapX)</div>
<div class="line"><a id="l14353" name="l14353"></a><span class="lineno">14353</span>        {</div>
<div class="line"><a id="l14354" name="l14354"></a><span class="lineno">14354</span>            bb_rel.TranslateY(+bb_rel.GetHeight()); <span class="comment">// Next row</span></div>
<div class="line"><a id="l14355" name="l14355"></a><span class="lineno">14355</span>            clip_dir = ImGuiDir_Down;</div>
<div class="line"><a id="l14356" name="l14356"></a><span class="lineno">14356</span>        }</div>
<div class="line"><a id="l14357" name="l14357"></a><span class="lineno">14357</span>        do_forward = <span class="keyword">true</span>;</div>
<div class="line"><a id="l14358" name="l14358"></a><span class="lineno">14358</span>    }</div>
<div class="line"><a id="l14359" name="l14359"></a><span class="lineno">14359</span>    <span class="keywordflow">if</span> (g.NavMoveDir == ImGuiDir_Up &amp;&amp; (move_flags &amp; (ImGuiNavMoveFlags_WrapY | ImGuiNavMoveFlags_LoopY)))</div>
<div class="line"><a id="l14360" name="l14360"></a><span class="lineno">14360</span>    {</div>
<div class="line"><a id="l14361" name="l14361"></a><span class="lineno">14361</span>        bb_rel.Min.y = bb_rel.Max.y = window-&gt;ContentSize.y + window-&gt;WindowPadding.y;</div>
<div class="line"><a id="l14362" name="l14362"></a><span class="lineno">14362</span>        <span class="keywordflow">if</span> (move_flags &amp; ImGuiNavMoveFlags_WrapY)</div>
<div class="line"><a id="l14363" name="l14363"></a><span class="lineno">14363</span>        {</div>
<div class="line"><a id="l14364" name="l14364"></a><span class="lineno">14364</span>            bb_rel.TranslateX(-bb_rel.GetWidth()); <span class="comment">// Previous column</span></div>
<div class="line"><a id="l14365" name="l14365"></a><span class="lineno">14365</span>            clip_dir = ImGuiDir_Left;</div>
<div class="line"><a id="l14366" name="l14366"></a><span class="lineno">14366</span>        }</div>
<div class="line"><a id="l14367" name="l14367"></a><span class="lineno">14367</span>        do_forward = <span class="keyword">true</span>;</div>
<div class="line"><a id="l14368" name="l14368"></a><span class="lineno">14368</span>    }</div>
<div class="line"><a id="l14369" name="l14369"></a><span class="lineno">14369</span>    <span class="keywordflow">if</span> (g.NavMoveDir == ImGuiDir_Down &amp;&amp; (move_flags &amp; (ImGuiNavMoveFlags_WrapY | ImGuiNavMoveFlags_LoopY)))</div>
<div class="line"><a id="l14370" name="l14370"></a><span class="lineno">14370</span>    {</div>
<div class="line"><a id="l14371" name="l14371"></a><span class="lineno">14371</span>        bb_rel.Min.y = bb_rel.Max.y = -window-&gt;WindowPadding.y;</div>
<div class="line"><a id="l14372" name="l14372"></a><span class="lineno">14372</span>        <span class="keywordflow">if</span> (move_flags &amp; ImGuiNavMoveFlags_WrapY)</div>
<div class="line"><a id="l14373" name="l14373"></a><span class="lineno">14373</span>        {</div>
<div class="line"><a id="l14374" name="l14374"></a><span class="lineno">14374</span>            bb_rel.TranslateX(+bb_rel.GetWidth()); <span class="comment">// Next column</span></div>
<div class="line"><a id="l14375" name="l14375"></a><span class="lineno">14375</span>            clip_dir = ImGuiDir_Right;</div>
<div class="line"><a id="l14376" name="l14376"></a><span class="lineno">14376</span>        }</div>
<div class="line"><a id="l14377" name="l14377"></a><span class="lineno">14377</span>        do_forward = <span class="keyword">true</span>;</div>
<div class="line"><a id="l14378" name="l14378"></a><span class="lineno">14378</span>    }</div>
<div class="line"><a id="l14379" name="l14379"></a><span class="lineno">14379</span>    <span class="keywordflow">if</span> (!do_forward)</div>
<div class="line"><a id="l14380" name="l14380"></a><span class="lineno">14380</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l14381" name="l14381"></a><span class="lineno">14381</span>    window-&gt;NavRectRel[g.NavLayer] = bb_rel;</div>
<div class="line"><a id="l14382" name="l14382"></a><span class="lineno">14382</span>    NavClearPreferredPosForAxis(ImGuiAxis_X);</div>
<div class="line"><a id="l14383" name="l14383"></a><span class="lineno">14383</span>    NavClearPreferredPosForAxis(ImGuiAxis_Y);</div>
<div class="line"><a id="l14384" name="l14384"></a><span class="lineno">14384</span>    NavMoveRequestForward(g.NavMoveDir, clip_dir, move_flags, g.NavMoveScrollFlags);</div>
<div class="line"><a id="l14385" name="l14385"></a><span class="lineno">14385</span>}</div>
<div class="line"><a id="l14386" name="l14386"></a><span class="lineno">14386</span> </div>
<div class="line"><a id="l14387" name="l14387"></a><span class="lineno">14387</span><span class="comment">// Can we focus this window with CTRL+TAB (or PadMenu + PadFocusPrev/PadFocusNext)</span></div>
<div class="line"><a id="l14388" name="l14388"></a><span class="lineno">14388</span><span class="comment">// Note that NoNavFocus makes the window not reachable with CTRL+TAB but it can still be focused with mouse or programmatically.</span></div>
<div class="line"><a id="l14389" name="l14389"></a><span class="lineno">14389</span><span class="comment">// If you want a window to never be focused, you may use the e.g. NoInputs flag.</span></div>
<div class="line"><a id="l14390" name="l14390"></a><span class="lineno">14390</span><span class="keywordtype">bool</span> ImGui::IsWindowNavFocusable(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l14391" name="l14391"></a><span class="lineno">14391</span>{</div>
<div class="line"><a id="l14392" name="l14392"></a><span class="lineno">14392</span>    <span class="keywordflow">return</span> window-&gt;WasActive &amp;&amp; window == window-&gt;RootWindow &amp;&amp; !(window-&gt;Flags &amp; ImGuiWindowFlags_NoNavFocus);</div>
<div class="line"><a id="l14393" name="l14393"></a><span class="lineno">14393</span>}</div>
<div class="line"><a id="l14394" name="l14394"></a><span class="lineno">14394</span> </div>
<div class="line"><a id="l14395" name="l14395"></a><span class="lineno">14395</span><span class="keyword">static</span> <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* FindWindowNavFocusable(<span class="keywordtype">int</span> i_start, <span class="keywordtype">int</span> i_stop, <span class="keywordtype">int</span> dir) <span class="comment">// FIXME-OPT O(N)</span></div>
<div class="line"><a id="l14396" name="l14396"></a><span class="lineno">14396</span>{</div>
<div class="line"><a id="l14397" name="l14397"></a><span class="lineno">14397</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l14398" name="l14398"></a><span class="lineno">14398</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = i_start; i &gt;= 0 &amp;&amp; i &lt; g.WindowsFocusOrder.Size &amp;&amp; i != i_stop; i += dir)</div>
<div class="line"><a id="l14399" name="l14399"></a><span class="lineno">14399</span>        <span class="keywordflow">if</span> (ImGui::IsWindowNavFocusable(g.WindowsFocusOrder[i]))</div>
<div class="line"><a id="l14400" name="l14400"></a><span class="lineno">14400</span>            <span class="keywordflow">return</span> g.WindowsFocusOrder[i];</div>
<div class="line"><a id="l14401" name="l14401"></a><span class="lineno">14401</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l14402" name="l14402"></a><span class="lineno">14402</span>}</div>
<div class="line"><a id="l14403" name="l14403"></a><span class="lineno">14403</span> </div>
<div class="line"><a id="l14404" name="l14404"></a><span class="lineno">14404</span><span class="keyword">static</span> <span class="keywordtype">void</span> NavUpdateWindowingTarget(<span class="keywordtype">int</span> focus_change_dir)</div>
<div class="line"><a id="l14405" name="l14405"></a><span class="lineno">14405</span>{</div>
<div class="line"><a id="l14406" name="l14406"></a><span class="lineno">14406</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l14407" name="l14407"></a><span class="lineno">14407</span>    IM_ASSERT(g.NavWindowingTarget);</div>
<div class="line"><a id="l14408" name="l14408"></a><span class="lineno">14408</span>    <span class="keywordflow">if</span> (g.NavWindowingTarget-&gt;Flags &amp; ImGuiWindowFlags_Modal)</div>
<div class="line"><a id="l14409" name="l14409"></a><span class="lineno">14409</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l14410" name="l14410"></a><span class="lineno">14410</span> </div>
<div class="line"><a id="l14411" name="l14411"></a><span class="lineno">14411</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> i_current = ImGui::FindWindowFocusIndex(g.NavWindowingTarget);</div>
<div class="line"><a id="l14412" name="l14412"></a><span class="lineno">14412</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window_target = FindWindowNavFocusable(i_current + focus_change_dir, -INT_MAX, focus_change_dir);</div>
<div class="line"><a id="l14413" name="l14413"></a><span class="lineno">14413</span>    <span class="keywordflow">if</span> (!window_target)</div>
<div class="line"><a id="l14414" name="l14414"></a><span class="lineno">14414</span>        window_target = FindWindowNavFocusable((focus_change_dir &lt; 0) ? (g.WindowsFocusOrder.Size - 1) : 0, i_current, focus_change_dir);</div>
<div class="line"><a id="l14415" name="l14415"></a><span class="lineno">14415</span>    <span class="keywordflow">if</span> (window_target) <span class="comment">// Don&#39;t reset windowing target if there&#39;s a single window in the list</span></div>
<div class="line"><a id="l14416" name="l14416"></a><span class="lineno">14416</span>    {</div>
<div class="line"><a id="l14417" name="l14417"></a><span class="lineno">14417</span>        g.NavWindowingTarget = g.NavWindowingTargetAnim = window_target;</div>
<div class="line"><a id="l14418" name="l14418"></a><span class="lineno">14418</span>        g.NavWindowingAccumDeltaPos = g.NavWindowingAccumDeltaSize = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, 0.0f);</div>
<div class="line"><a id="l14419" name="l14419"></a><span class="lineno">14419</span>    }</div>
<div class="line"><a id="l14420" name="l14420"></a><span class="lineno">14420</span>    g.NavWindowingToggleLayer = <span class="keyword">false</span>;</div>
<div class="line"><a id="l14421" name="l14421"></a><span class="lineno">14421</span>}</div>
<div class="line"><a id="l14422" name="l14422"></a><span class="lineno">14422</span> </div>
<div class="line"><a id="l14423" name="l14423"></a><span class="lineno">14423</span><span class="comment">// Apply focus and close overlay</span></div>
<div class="line"><a id="l14424" name="l14424"></a><span class="lineno">14424</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::NavUpdateWindowingApplyFocus(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* apply_focus_window)</div>
<div class="line"><a id="l14425" name="l14425"></a><span class="lineno">14425</span>{</div>
<div class="line"><a id="l14426" name="l14426"></a><span class="lineno">14426</span>    <span class="comment">// FIXME: Many actions here could be part of a higher-level/reused function. Why aren&#39;t they in FocusWindow() ?</span></div>
<div class="line"><a id="l14427" name="l14427"></a><span class="lineno">14427</span>    <span class="comment">// Investigate for each of them: ClearActiveID(), NavRestoreHighlightAfterMove(), NavRestoreLastChildNavWindow(), ClosePopupsOverWindow(), NavInitWindow()</span></div>
<div class="line"><a id="l14428" name="l14428"></a><span class="lineno">14428</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l14429" name="l14429"></a><span class="lineno">14429</span>    <span class="keywordflow">if</span> (g.NavWindow == NULL || apply_focus_window != g.NavWindow-&gt;RootWindow)</div>
<div class="line"><a id="l14430" name="l14430"></a><span class="lineno">14430</span>    {</div>
<div class="line"><a id="l14431" name="l14431"></a><span class="lineno">14431</span>        <a class="code hl_struct" href="structImGuiViewport.html">ImGuiViewport</a>* previous_viewport = g.NavWindow ? g.NavWindow-&gt;Viewport : NULL;</div>
<div class="line"><a id="l14432" name="l14432"></a><span class="lineno">14432</span>        ClearActiveID();</div>
<div class="line"><a id="l14433" name="l14433"></a><span class="lineno">14433</span>        SetNavCursorVisibleAfterMove();</div>
<div class="line"><a id="l14434" name="l14434"></a><span class="lineno">14434</span>        ClosePopupsOverWindow(apply_focus_window, <span class="keyword">false</span>);</div>
<div class="line"><a id="l14435" name="l14435"></a><span class="lineno">14435</span>        FocusWindow(apply_focus_window, ImGuiFocusRequestFlags_RestoreFocusedChild);</div>
<div class="line"><a id="l14436" name="l14436"></a><span class="lineno">14436</span>        apply_focus_window = g.NavWindow;</div>
<div class="line"><a id="l14437" name="l14437"></a><span class="lineno">14437</span>        <span class="keywordflow">if</span> (apply_focus_window-&gt;NavLastIds[0] == 0)</div>
<div class="line"><a id="l14438" name="l14438"></a><span class="lineno">14438</span>            NavInitWindow(apply_focus_window, <span class="keyword">false</span>);</div>
<div class="line"><a id="l14439" name="l14439"></a><span class="lineno">14439</span> </div>
<div class="line"><a id="l14440" name="l14440"></a><span class="lineno">14440</span>        <span class="comment">// If the window has ONLY a menu layer (no main layer), select it directly</span></div>
<div class="line"><a id="l14441" name="l14441"></a><span class="lineno">14441</span>        <span class="comment">// Use NavLayersActiveMaskNext since windows didn&#39;t have a chance to be Begin()-ed on this frame,</span></div>
<div class="line"><a id="l14442" name="l14442"></a><span class="lineno">14442</span>        <span class="comment">// so CTRL+Tab where the keys are only held for 1 frame will be able to use correct layers mask since</span></div>
<div class="line"><a id="l14443" name="l14443"></a><span class="lineno">14443</span>        <span class="comment">// the target window as already been previewed once.</span></div>
<div class="line"><a id="l14444" name="l14444"></a><span class="lineno">14444</span>        <span class="comment">// FIXME-NAV: This should be done in NavInit.. or in FocusWindow... However in both of those cases,</span></div>
<div class="line"><a id="l14445" name="l14445"></a><span class="lineno">14445</span>        <span class="comment">// we won&#39;t have a guarantee that windows has been visible before and therefore NavLayersActiveMask*</span></div>
<div class="line"><a id="l14446" name="l14446"></a><span class="lineno">14446</span>        <span class="comment">// won&#39;t be valid.</span></div>
<div class="line"><a id="l14447" name="l14447"></a><span class="lineno">14447</span>        <span class="keywordflow">if</span> (apply_focus_window-&gt;DC.NavLayersActiveMaskNext == (1 &lt;&lt; ImGuiNavLayer_Menu))</div>
<div class="line"><a id="l14448" name="l14448"></a><span class="lineno">14448</span>            g.NavLayer = ImGuiNavLayer_Menu;</div>
<div class="line"><a id="l14449" name="l14449"></a><span class="lineno">14449</span> </div>
<div class="line"><a id="l14450" name="l14450"></a><span class="lineno">14450</span>        <span class="comment">// Request OS level focus</span></div>
<div class="line"><a id="l14451" name="l14451"></a><span class="lineno">14451</span>        <span class="keywordflow">if</span> (apply_focus_window-&gt;Viewport != previous_viewport &amp;&amp; g.PlatformIO.Platform_SetWindowFocus)</div>
<div class="line"><a id="l14452" name="l14452"></a><span class="lineno">14452</span>            g.PlatformIO.Platform_SetWindowFocus(apply_focus_window-&gt;Viewport);</div>
<div class="line"><a id="l14453" name="l14453"></a><span class="lineno">14453</span>    }</div>
<div class="line"><a id="l14454" name="l14454"></a><span class="lineno">14454</span>    g.NavWindowingTarget = NULL;</div>
<div class="line"><a id="l14455" name="l14455"></a><span class="lineno">14455</span>}</div>
<div class="line"><a id="l14456" name="l14456"></a><span class="lineno">14456</span> </div>
<div class="line"><a id="l14457" name="l14457"></a><span class="lineno">14457</span><span class="comment">// Windowing management mode</span></div>
<div class="line"><a id="l14458" name="l14458"></a><span class="lineno">14458</span><span class="comment">// Keyboard: CTRL+Tab (change focus/move/resize), Alt (toggle menu layer)</span></div>
<div class="line"><a id="l14459" name="l14459"></a><span class="lineno">14459</span><span class="comment">// Gamepad:  Hold Menu/Square (change focus/move/resize), Tap Menu/Square (toggle menu layer)</span></div>
<div class="line"><a id="l14460" name="l14460"></a><span class="lineno">14460</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::NavUpdateWindowing()</div>
<div class="line"><a id="l14461" name="l14461"></a><span class="lineno">14461</span>{</div>
<div class="line"><a id="l14462" name="l14462"></a><span class="lineno">14462</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l14463" name="l14463"></a><span class="lineno">14463</span>    <a class="code hl_struct" href="structImGuiIO.html">ImGuiIO</a>&amp; io = g.IO;</div>
<div class="line"><a id="l14464" name="l14464"></a><span class="lineno">14464</span> </div>
<div class="line"><a id="l14465" name="l14465"></a><span class="lineno">14465</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* apply_focus_window = NULL;</div>
<div class="line"><a id="l14466" name="l14466"></a><span class="lineno">14466</span>    <span class="keywordtype">bool</span> apply_toggle_layer = <span class="keyword">false</span>;</div>
<div class="line"><a id="l14467" name="l14467"></a><span class="lineno">14467</span> </div>
<div class="line"><a id="l14468" name="l14468"></a><span class="lineno">14468</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* modal_window = GetTopMostPopupModal();</div>
<div class="line"><a id="l14469" name="l14469"></a><span class="lineno">14469</span>    <span class="keywordtype">bool</span> allow_windowing = (modal_window == NULL); <span class="comment">// FIXME: This prevent CTRL+TAB from being usable with windows that are inside the Begin-stack of that modal.</span></div>
<div class="line"><a id="l14470" name="l14470"></a><span class="lineno">14470</span>    <span class="keywordflow">if</span> (!allow_windowing)</div>
<div class="line"><a id="l14471" name="l14471"></a><span class="lineno">14471</span>        g.NavWindowingTarget = NULL;</div>
<div class="line"><a id="l14472" name="l14472"></a><span class="lineno">14472</span> </div>
<div class="line"><a id="l14473" name="l14473"></a><span class="lineno">14473</span>    <span class="comment">// Fade out</span></div>
<div class="line"><a id="l14474" name="l14474"></a><span class="lineno">14474</span>    <span class="keywordflow">if</span> (g.NavWindowingTargetAnim &amp;&amp; g.NavWindowingTarget == NULL)</div>
<div class="line"><a id="l14475" name="l14475"></a><span class="lineno">14475</span>    {</div>
<div class="line"><a id="l14476" name="l14476"></a><span class="lineno">14476</span>        g.NavWindowingHighlightAlpha = ImMax(g.NavWindowingHighlightAlpha - io.DeltaTime * 10.0f, 0.0f);</div>
<div class="line"><a id="l14477" name="l14477"></a><span class="lineno">14477</span>        <span class="keywordflow">if</span> (g.DimBgRatio &lt;= 0.0f &amp;&amp; g.NavWindowingHighlightAlpha &lt;= 0.0f)</div>
<div class="line"><a id="l14478" name="l14478"></a><span class="lineno">14478</span>            g.NavWindowingTargetAnim = NULL;</div>
<div class="line"><a id="l14479" name="l14479"></a><span class="lineno">14479</span>    }</div>
<div class="line"><a id="l14480" name="l14480"></a><span class="lineno">14480</span> </div>
<div class="line"><a id="l14481" name="l14481"></a><span class="lineno">14481</span>    <span class="comment">// Start CTRL+Tab or Square+L/R window selection</span></div>
<div class="line"><a id="l14482" name="l14482"></a><span class="lineno">14482</span>    <span class="comment">// (g.ConfigNavWindowingKeyNext/g.ConfigNavWindowingKeyPrev defaults are ImGuiMod_Ctrl|ImGuiKey_Tab and ImGuiMod_Ctrl|ImGuiMod_Shift|ImGuiKey_Tab)</span></div>
<div class="line"><a id="l14483" name="l14483"></a><span class="lineno">14483</span>    <span class="keyword">const</span> ImGuiID owner_id = ImHashStr(<span class="stringliteral">&quot;##NavUpdateWindowing&quot;</span>);</div>
<div class="line"><a id="l14484" name="l14484"></a><span class="lineno">14484</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> nav_gamepad_active = (io.ConfigFlags &amp; ImGuiConfigFlags_NavEnableGamepad) != 0 &amp;&amp; (io.BackendFlags &amp; ImGuiBackendFlags_HasGamepad) != 0;</div>
<div class="line"><a id="l14485" name="l14485"></a><span class="lineno">14485</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> nav_keyboard_active = (io.ConfigFlags &amp; ImGuiConfigFlags_NavEnableKeyboard) != 0;</div>
<div class="line"><a id="l14486" name="l14486"></a><span class="lineno">14486</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> keyboard_next_window = allow_windowing &amp;&amp; g.ConfigNavWindowingKeyNext &amp;&amp; Shortcut(g.ConfigNavWindowingKeyNext, ImGuiInputFlags_Repeat | ImGuiInputFlags_RouteAlways, owner_id);</div>
<div class="line"><a id="l14487" name="l14487"></a><span class="lineno">14487</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> keyboard_prev_window = allow_windowing &amp;&amp; g.ConfigNavWindowingKeyPrev &amp;&amp; Shortcut(g.ConfigNavWindowingKeyPrev, ImGuiInputFlags_Repeat | ImGuiInputFlags_RouteAlways, owner_id);</div>
<div class="line"><a id="l14488" name="l14488"></a><span class="lineno">14488</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> start_windowing_with_gamepad = allow_windowing &amp;&amp; nav_gamepad_active &amp;&amp; !g.NavWindowingTarget &amp;&amp; Shortcut(ImGuiKey_NavGamepadMenu, ImGuiInputFlags_RouteAlways, owner_id);</div>
<div class="line"><a id="l14489" name="l14489"></a><span class="lineno">14489</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> start_windowing_with_keyboard = allow_windowing &amp;&amp; !g.NavWindowingTarget &amp;&amp; (keyboard_next_window || keyboard_prev_window); <span class="comment">// Note: enabled even without NavEnableKeyboard!</span></div>
<div class="line"><a id="l14490" name="l14490"></a><span class="lineno">14490</span>    <span class="keywordtype">bool</span> just_started_windowing_from_null_focus = <span class="keyword">false</span>;</div>
<div class="line"><a id="l14491" name="l14491"></a><span class="lineno">14491</span>    <span class="keywordflow">if</span> (start_windowing_with_gamepad || start_windowing_with_keyboard)</div>
<div class="line"><a id="l14492" name="l14492"></a><span class="lineno">14492</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.NavWindow ? g.NavWindow : FindWindowNavFocusable(g.WindowsFocusOrder.Size - 1, -INT_MAX, -1))</div>
<div class="line"><a id="l14493" name="l14493"></a><span class="lineno">14493</span>        {</div>
<div class="line"><a id="l14494" name="l14494"></a><span class="lineno">14494</span>            <span class="keywordflow">if</span> (start_windowing_with_keyboard || g.ConfigNavWindowingWithGamepad)</div>
<div class="line"><a id="l14495" name="l14495"></a><span class="lineno">14495</span>                g.NavWindowingTarget = g.NavWindowingTargetAnim = window-&gt;RootWindow; <span class="comment">// Current location</span></div>
<div class="line"><a id="l14496" name="l14496"></a><span class="lineno">14496</span>            g.NavWindowingTimer = g.NavWindowingHighlightAlpha = 0.0f;</div>
<div class="line"><a id="l14497" name="l14497"></a><span class="lineno">14497</span>            g.NavWindowingAccumDeltaPos = g.NavWindowingAccumDeltaSize = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, 0.0f);</div>
<div class="line"><a id="l14498" name="l14498"></a><span class="lineno">14498</span>            g.NavWindowingToggleLayer = start_windowing_with_gamepad ? true : <span class="keyword">false</span>; <span class="comment">// Gamepad starts toggling layer</span></div>
<div class="line"><a id="l14499" name="l14499"></a><span class="lineno">14499</span>            g.NavWindowingInputSource = g.NavInputSource = start_windowing_with_keyboard ? ImGuiInputSource_Keyboard : ImGuiInputSource_Gamepad;</div>
<div class="line"><a id="l14500" name="l14500"></a><span class="lineno">14500</span>            <span class="keywordflow">if</span> (g.NavWindow == NULL)</div>
<div class="line"><a id="l14501" name="l14501"></a><span class="lineno">14501</span>                just_started_windowing_from_null_focus = <span class="keyword">true</span>;</div>
<div class="line"><a id="l14502" name="l14502"></a><span class="lineno">14502</span> </div>
<div class="line"><a id="l14503" name="l14503"></a><span class="lineno">14503</span>            <span class="comment">// Manually register ownership of our mods. Using a global route in the Shortcut() calls instead would probably be correct but may have more side-effects.</span></div>
<div class="line"><a id="l14504" name="l14504"></a><span class="lineno">14504</span>            <span class="keywordflow">if</span> (keyboard_next_window || keyboard_prev_window)</div>
<div class="line"><a id="l14505" name="l14505"></a><span class="lineno">14505</span>                SetKeyOwnersForKeyChord((g.ConfigNavWindowingKeyNext | g.ConfigNavWindowingKeyPrev) &amp; ImGuiMod_Mask_, owner_id);</div>
<div class="line"><a id="l14506" name="l14506"></a><span class="lineno">14506</span>        }</div>
<div class="line"><a id="l14507" name="l14507"></a><span class="lineno">14507</span> </div>
<div class="line"><a id="l14508" name="l14508"></a><span class="lineno">14508</span>    <span class="comment">// Gamepad update</span></div>
<div class="line"><a id="l14509" name="l14509"></a><span class="lineno">14509</span>    <span class="keywordflow">if</span> ((g.NavWindowingTarget || g.NavWindowingToggleLayer) &amp;&amp; g.NavWindowingInputSource == ImGuiInputSource_Gamepad)</div>
<div class="line"><a id="l14510" name="l14510"></a><span class="lineno">14510</span>    {</div>
<div class="line"><a id="l14511" name="l14511"></a><span class="lineno">14511</span>        <span class="keywordflow">if</span> (g.NavWindowingTarget != NULL)</div>
<div class="line"><a id="l14512" name="l14512"></a><span class="lineno">14512</span>        {</div>
<div class="line"><a id="l14513" name="l14513"></a><span class="lineno">14513</span>            <span class="comment">// Highlight only appears after a brief time holding the button, so that a fast tap on ImGuiKey_NavGamepadMenu (to toggle NavLayer) doesn&#39;t add visual noise</span></div>
<div class="line"><a id="l14514" name="l14514"></a><span class="lineno">14514</span>            <span class="comment">// However inputs are accepted immediately, so you press ImGuiKey_NavGamepadMenu + L1/R1 fast.</span></div>
<div class="line"><a id="l14515" name="l14515"></a><span class="lineno">14515</span>            g.NavWindowingTimer += io.DeltaTime;</div>
<div class="line"><a id="l14516" name="l14516"></a><span class="lineno">14516</span>            g.NavWindowingHighlightAlpha = ImMax(g.NavWindowingHighlightAlpha, ImSaturate((g.NavWindowingTimer - NAV_WINDOWING_HIGHLIGHT_DELAY) / 0.05f));</div>
<div class="line"><a id="l14517" name="l14517"></a><span class="lineno">14517</span> </div>
<div class="line"><a id="l14518" name="l14518"></a><span class="lineno">14518</span>            <span class="comment">// Select window to focus</span></div>
<div class="line"><a id="l14519" name="l14519"></a><span class="lineno">14519</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> focus_change_dir = (int)IsKeyPressed(ImGuiKey_GamepadL1) - (int)IsKeyPressed(ImGuiKey_GamepadR1);</div>
<div class="line"><a id="l14520" name="l14520"></a><span class="lineno">14520</span>            <span class="keywordflow">if</span> (focus_change_dir != 0 &amp;&amp; !just_started_windowing_from_null_focus)</div>
<div class="line"><a id="l14521" name="l14521"></a><span class="lineno">14521</span>            {</div>
<div class="line"><a id="l14522" name="l14522"></a><span class="lineno">14522</span>                NavUpdateWindowingTarget(focus_change_dir);</div>
<div class="line"><a id="l14523" name="l14523"></a><span class="lineno">14523</span>                g.NavWindowingHighlightAlpha = 1.0f;</div>
<div class="line"><a id="l14524" name="l14524"></a><span class="lineno">14524</span>            }</div>
<div class="line"><a id="l14525" name="l14525"></a><span class="lineno">14525</span>        }</div>
<div class="line"><a id="l14526" name="l14526"></a><span class="lineno">14526</span> </div>
<div class="line"><a id="l14527" name="l14527"></a><span class="lineno">14527</span>        <span class="comment">// Single press toggles NavLayer, long press with L/R apply actual focus on release (until then the window was merely rendered top-most)</span></div>
<div class="line"><a id="l14528" name="l14528"></a><span class="lineno">14528</span>        <span class="keywordflow">if</span> (!IsKeyDown(ImGuiKey_NavGamepadMenu))</div>
<div class="line"><a id="l14529" name="l14529"></a><span class="lineno">14529</span>        {</div>
<div class="line"><a id="l14530" name="l14530"></a><span class="lineno">14530</span>            g.NavWindowingToggleLayer &amp;= (g.NavWindowingHighlightAlpha &lt; 1.0f); <span class="comment">// Once button was held long enough we don&#39;t consider it a tap-to-toggle-layer press anymore.</span></div>
<div class="line"><a id="l14531" name="l14531"></a><span class="lineno">14531</span>            <span class="keywordflow">if</span> (g.NavWindowingToggleLayer &amp;&amp; g.NavWindow)</div>
<div class="line"><a id="l14532" name="l14532"></a><span class="lineno">14532</span>                apply_toggle_layer = <span class="keyword">true</span>;</div>
<div class="line"><a id="l14533" name="l14533"></a><span class="lineno">14533</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!g.NavWindowingToggleLayer)</div>
<div class="line"><a id="l14534" name="l14534"></a><span class="lineno">14534</span>                apply_focus_window = g.NavWindowingTarget;</div>
<div class="line"><a id="l14535" name="l14535"></a><span class="lineno">14535</span>            g.NavWindowingTarget = NULL;</div>
<div class="line"><a id="l14536" name="l14536"></a><span class="lineno">14536</span>            g.NavWindowingToggleLayer = <span class="keyword">false</span>;</div>
<div class="line"><a id="l14537" name="l14537"></a><span class="lineno">14537</span>        }</div>
<div class="line"><a id="l14538" name="l14538"></a><span class="lineno">14538</span>    }</div>
<div class="line"><a id="l14539" name="l14539"></a><span class="lineno">14539</span> </div>
<div class="line"><a id="l14540" name="l14540"></a><span class="lineno">14540</span>    <span class="comment">// Keyboard: Focus</span></div>
<div class="line"><a id="l14541" name="l14541"></a><span class="lineno">14541</span>    <span class="keywordflow">if</span> (g.NavWindowingTarget &amp;&amp; g.NavWindowingInputSource == ImGuiInputSource_Keyboard)</div>
<div class="line"><a id="l14542" name="l14542"></a><span class="lineno">14542</span>    {</div>
<div class="line"><a id="l14543" name="l14543"></a><span class="lineno">14543</span>        <span class="comment">// Visuals only appears after a brief time after pressing TAB the first time, so that a fast CTRL+TAB doesn&#39;t add visual noise</span></div>
<div class="line"><a id="l14544" name="l14544"></a><span class="lineno">14544</span>        ImGuiKeyChord shared_mods = ((g.ConfigNavWindowingKeyNext ? g.ConfigNavWindowingKeyNext : ImGuiMod_Mask_) &amp; (g.ConfigNavWindowingKeyPrev ? g.ConfigNavWindowingKeyPrev : ImGuiMod_Mask_)) &amp; ImGuiMod_Mask_;</div>
<div class="line"><a id="l14545" name="l14545"></a><span class="lineno">14545</span>        IM_ASSERT(shared_mods != 0); <span class="comment">// Next/Prev shortcut currently needs a shared modifier to &quot;hold&quot;, otherwise Prev actions would keep cycling between two windows.</span></div>
<div class="line"><a id="l14546" name="l14546"></a><span class="lineno">14546</span>        g.NavWindowingTimer += io.DeltaTime;</div>
<div class="line"><a id="l14547" name="l14547"></a><span class="lineno">14547</span>        g.NavWindowingHighlightAlpha = ImMax(g.NavWindowingHighlightAlpha, ImSaturate((g.NavWindowingTimer - NAV_WINDOWING_HIGHLIGHT_DELAY) / 0.05f)); <span class="comment">// 1.0f</span></div>
<div class="line"><a id="l14548" name="l14548"></a><span class="lineno">14548</span>        <span class="keywordflow">if</span> ((keyboard_next_window || keyboard_prev_window) &amp;&amp; !just_started_windowing_from_null_focus)</div>
<div class="line"><a id="l14549" name="l14549"></a><span class="lineno">14549</span>            NavUpdateWindowingTarget(keyboard_next_window ? -1 : +1);</div>
<div class="line"><a id="l14550" name="l14550"></a><span class="lineno">14550</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((io.KeyMods &amp; shared_mods) != shared_mods)</div>
<div class="line"><a id="l14551" name="l14551"></a><span class="lineno">14551</span>            apply_focus_window = g.NavWindowingTarget;</div>
<div class="line"><a id="l14552" name="l14552"></a><span class="lineno">14552</span>    }</div>
<div class="line"><a id="l14553" name="l14553"></a><span class="lineno">14553</span> </div>
<div class="line"><a id="l14554" name="l14554"></a><span class="lineno">14554</span>    <span class="comment">// Keyboard: Press and Release ALT to toggle menu layer</span></div>
<div class="line"><a id="l14555" name="l14555"></a><span class="lineno">14555</span>    <span class="keyword">const</span> ImGuiKey windowing_toggle_keys[] = { ImGuiKey_LeftAlt, ImGuiKey_RightAlt };</div>
<div class="line"><a id="l14556" name="l14556"></a><span class="lineno">14556</span>    <span class="keywordtype">bool</span> windowing_toggle_layer_start = <span class="keyword">false</span>;</div>
<div class="line"><a id="l14557" name="l14557"></a><span class="lineno">14557</span>    <span class="keywordflow">if</span> (g.NavWindow != NULL &amp;&amp; !(g.NavWindow-&gt;Flags &amp; ImGuiWindowFlags_NoNavInputs))</div>
<div class="line"><a id="l14558" name="l14558"></a><span class="lineno">14558</span>        <span class="keywordflow">for</span> (ImGuiKey windowing_toggle_key : windowing_toggle_keys)</div>
<div class="line"><a id="l14559" name="l14559"></a><span class="lineno">14559</span>            if (nav_keyboard_active &amp;&amp; IsKeyPressed(windowing_toggle_key, 0, ImGuiKeyOwner_NoOwner))</div>
<div class="line"><a id="l14560" name="l14560"></a><span class="lineno">14560</span>            {</div>
<div class="line"><a id="l14561" name="l14561"></a><span class="lineno">14561</span>                windowing_toggle_layer_start = <span class="keyword">true</span>;</div>
<div class="line"><a id="l14562" name="l14562"></a><span class="lineno">14562</span>                g.NavWindowingToggleLayer = <span class="keyword">true</span>;</div>
<div class="line"><a id="l14563" name="l14563"></a><span class="lineno">14563</span>                g.NavWindowingToggleKey = windowing_toggle_key;</div>
<div class="line"><a id="l14564" name="l14564"></a><span class="lineno">14564</span>                g.NavWindowingInputSource = g.NavInputSource = ImGuiInputSource_Keyboard;</div>
<div class="line"><a id="l14565" name="l14565"></a><span class="lineno">14565</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l14566" name="l14566"></a><span class="lineno">14566</span>            }</div>
<div class="line"><a id="l14567" name="l14567"></a><span class="lineno">14567</span>    <span class="keywordflow">if</span> (g.NavWindowingToggleLayer &amp;&amp; g.NavWindowingInputSource == ImGuiInputSource_Keyboard)</div>
<div class="line"><a id="l14568" name="l14568"></a><span class="lineno">14568</span>    {</div>
<div class="line"><a id="l14569" name="l14569"></a><span class="lineno">14569</span>        <span class="comment">// We cancel toggling nav layer when any text has been typed (generally while holding Alt). (See #370)</span></div>
<div class="line"><a id="l14570" name="l14570"></a><span class="lineno">14570</span>        <span class="comment">// We cancel toggling nav layer when other modifiers are pressed. (See #4439)</span></div>
<div class="line"><a id="l14571" name="l14571"></a><span class="lineno">14571</span>        <span class="comment">// - AltGR is Alt+Ctrl on some layout but we can&#39;t reliably detect it (not all backends/systems/layout emit it as Alt+Ctrl).</span></div>
<div class="line"><a id="l14572" name="l14572"></a><span class="lineno">14572</span>        <span class="comment">// We cancel toggling nav layer if an owner has claimed the key.</span></div>
<div class="line"><a id="l14573" name="l14573"></a><span class="lineno">14573</span>        <span class="keywordflow">if</span> (io.InputQueueCharacters.Size &gt; 0 || io.KeyCtrl || io.KeyShift || io.KeySuper)</div>
<div class="line"><a id="l14574" name="l14574"></a><span class="lineno">14574</span>            g.NavWindowingToggleLayer = <span class="keyword">false</span>;</div>
<div class="line"><a id="l14575" name="l14575"></a><span class="lineno">14575</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (windowing_toggle_layer_start == <span class="keyword">false</span> &amp;&amp; g.LastKeyboardKeyPressTime == g.Time)</div>
<div class="line"><a id="l14576" name="l14576"></a><span class="lineno">14576</span>            g.NavWindowingToggleLayer = <span class="keyword">false</span>;</div>
<div class="line"><a id="l14577" name="l14577"></a><span class="lineno">14577</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (TestKeyOwner(g.NavWindowingToggleKey, ImGuiKeyOwner_NoOwner) == <span class="keyword">false</span> || TestKeyOwner(ImGuiMod_Alt, ImGuiKeyOwner_NoOwner) == <span class="keyword">false</span>)</div>
<div class="line"><a id="l14578" name="l14578"></a><span class="lineno">14578</span>            g.NavWindowingToggleLayer = <span class="keyword">false</span>;</div>
<div class="line"><a id="l14579" name="l14579"></a><span class="lineno">14579</span> </div>
<div class="line"><a id="l14580" name="l14580"></a><span class="lineno">14580</span>        <span class="comment">// Apply layer toggle on Alt release</span></div>
<div class="line"><a id="l14581" name="l14581"></a><span class="lineno">14581</span>        <span class="comment">// Important: as before version &lt;18314 we lacked an explicit IO event for focus gain/loss, we also compare mouse validity to detect old backends clearing mouse pos on focus loss.</span></div>
<div class="line"><a id="l14582" name="l14582"></a><span class="lineno">14582</span>        <span class="keywordflow">if</span> (IsKeyReleased(g.NavWindowingToggleKey) &amp;&amp; g.NavWindowingToggleLayer)</div>
<div class="line"><a id="l14583" name="l14583"></a><span class="lineno">14583</span>            <span class="keywordflow">if</span> (g.ActiveId == 0 || g.ActiveIdAllowOverlap)</div>
<div class="line"><a id="l14584" name="l14584"></a><span class="lineno">14584</span>                <span class="keywordflow">if</span> (IsMousePosValid(&amp;io.MousePos) == IsMousePosValid(&amp;io.MousePosPrev))</div>
<div class="line"><a id="l14585" name="l14585"></a><span class="lineno">14585</span>                    apply_toggle_layer = <span class="keyword">true</span>;</div>
<div class="line"><a id="l14586" name="l14586"></a><span class="lineno">14586</span>        <span class="keywordflow">if</span> (!IsKeyDown(g.NavWindowingToggleKey))</div>
<div class="line"><a id="l14587" name="l14587"></a><span class="lineno">14587</span>            g.NavWindowingToggleLayer = <span class="keyword">false</span>;</div>
<div class="line"><a id="l14588" name="l14588"></a><span class="lineno">14588</span>    }</div>
<div class="line"><a id="l14589" name="l14589"></a><span class="lineno">14589</span> </div>
<div class="line"><a id="l14590" name="l14590"></a><span class="lineno">14590</span>    <span class="comment">// Move window</span></div>
<div class="line"><a id="l14591" name="l14591"></a><span class="lineno">14591</span>    <span class="keywordflow">if</span> (g.NavWindowingTarget &amp;&amp; !(g.NavWindowingTarget-&gt;Flags &amp; ImGuiWindowFlags_NoMove))</div>
<div class="line"><a id="l14592" name="l14592"></a><span class="lineno">14592</span>    {</div>
<div class="line"><a id="l14593" name="l14593"></a><span class="lineno">14593</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> nav_move_dir;</div>
<div class="line"><a id="l14594" name="l14594"></a><span class="lineno">14594</span>        <span class="keywordflow">if</span> (g.NavInputSource == ImGuiInputSource_Keyboard &amp;&amp; !io.KeyShift)</div>
<div class="line"><a id="l14595" name="l14595"></a><span class="lineno">14595</span>            nav_move_dir = GetKeyMagnitude2d(ImGuiKey_LeftArrow, ImGuiKey_RightArrow, ImGuiKey_UpArrow, ImGuiKey_DownArrow);</div>
<div class="line"><a id="l14596" name="l14596"></a><span class="lineno">14596</span>        <span class="keywordflow">if</span> (g.NavInputSource == ImGuiInputSource_Gamepad)</div>
<div class="line"><a id="l14597" name="l14597"></a><span class="lineno">14597</span>            nav_move_dir = GetKeyMagnitude2d(ImGuiKey_GamepadLStickLeft, ImGuiKey_GamepadLStickRight, ImGuiKey_GamepadLStickUp, ImGuiKey_GamepadLStickDown);</div>
<div class="line"><a id="l14598" name="l14598"></a><span class="lineno">14598</span>        <span class="keywordflow">if</span> (nav_move_dir.x != 0.0f || nav_move_dir.y != 0.0f)</div>
<div class="line"><a id="l14599" name="l14599"></a><span class="lineno">14599</span>        {</div>
<div class="line"><a id="l14600" name="l14600"></a><span class="lineno">14600</span>            <span class="keyword">const</span> <span class="keywordtype">float</span> NAV_MOVE_SPEED = 800.0f;</div>
<div class="line"><a id="l14601" name="l14601"></a><span class="lineno">14601</span>            <span class="keyword">const</span> <span class="keywordtype">float</span> move_step = NAV_MOVE_SPEED * io.DeltaTime * ImMin(io.DisplayFramebufferScale.x, io.DisplayFramebufferScale.y);</div>
<div class="line"><a id="l14602" name="l14602"></a><span class="lineno">14602</span>            g.NavWindowingAccumDeltaPos += nav_move_dir * move_step;</div>
<div class="line"><a id="l14603" name="l14603"></a><span class="lineno">14603</span>            g.NavHighlightItemUnderNav = <span class="keyword">true</span>;</div>
<div class="line"><a id="l14604" name="l14604"></a><span class="lineno">14604</span>            <a class="code hl_struct" href="structImVec2.html">ImVec2</a> accum_floored = ImTrunc(g.NavWindowingAccumDeltaPos);</div>
<div class="line"><a id="l14605" name="l14605"></a><span class="lineno">14605</span>            <span class="keywordflow">if</span> (accum_floored.x != 0.0f || accum_floored.y != 0.0f)</div>
<div class="line"><a id="l14606" name="l14606"></a><span class="lineno">14606</span>            {</div>
<div class="line"><a id="l14607" name="l14607"></a><span class="lineno">14607</span>                <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* moving_window = g.NavWindowingTarget-&gt;RootWindowDockTree;</div>
<div class="line"><a id="l14608" name="l14608"></a><span class="lineno">14608</span>                SetWindowPos(moving_window, moving_window-&gt;Pos + accum_floored, ImGuiCond_Always);</div>
<div class="line"><a id="l14609" name="l14609"></a><span class="lineno">14609</span>                g.NavWindowingAccumDeltaPos -= accum_floored;</div>
<div class="line"><a id="l14610" name="l14610"></a><span class="lineno">14610</span>            }</div>
<div class="line"><a id="l14611" name="l14611"></a><span class="lineno">14611</span>        }</div>
<div class="line"><a id="l14612" name="l14612"></a><span class="lineno">14612</span>    }</div>
<div class="line"><a id="l14613" name="l14613"></a><span class="lineno">14613</span> </div>
<div class="line"><a id="l14614" name="l14614"></a><span class="lineno">14614</span>    <span class="comment">// Apply final focus</span></div>
<div class="line"><a id="l14615" name="l14615"></a><span class="lineno">14615</span>    <span class="keywordflow">if</span> (apply_focus_window)</div>
<div class="line"><a id="l14616" name="l14616"></a><span class="lineno">14616</span>        NavUpdateWindowingApplyFocus(apply_focus_window);</div>
<div class="line"><a id="l14617" name="l14617"></a><span class="lineno">14617</span> </div>
<div class="line"><a id="l14618" name="l14618"></a><span class="lineno">14618</span>    <span class="comment">// Apply menu/layer toggle</span></div>
<div class="line"><a id="l14619" name="l14619"></a><span class="lineno">14619</span>    <span class="keywordflow">if</span> (apply_toggle_layer &amp;&amp; g.NavWindow)</div>
<div class="line"><a id="l14620" name="l14620"></a><span class="lineno">14620</span>    {</div>
<div class="line"><a id="l14621" name="l14621"></a><span class="lineno">14621</span>        ClearActiveID();</div>
<div class="line"><a id="l14622" name="l14622"></a><span class="lineno">14622</span> </div>
<div class="line"><a id="l14623" name="l14623"></a><span class="lineno">14623</span>        <span class="comment">// Move to parent menu if necessary</span></div>
<div class="line"><a id="l14624" name="l14624"></a><span class="lineno">14624</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* new_nav_window = g.NavWindow;</div>
<div class="line"><a id="l14625" name="l14625"></a><span class="lineno">14625</span>        <span class="keywordflow">while</span> (new_nav_window-&gt;ParentWindow</div>
<div class="line"><a id="l14626" name="l14626"></a><span class="lineno">14626</span>            &amp;&amp; (new_nav_window-&gt;DC.NavLayersActiveMask &amp; (1 &lt;&lt; ImGuiNavLayer_Menu)) == 0</div>
<div class="line"><a id="l14627" name="l14627"></a><span class="lineno">14627</span>            &amp;&amp; (new_nav_window-&gt;Flags &amp; ImGuiWindowFlags_ChildWindow) != 0</div>
<div class="line"><a id="l14628" name="l14628"></a><span class="lineno">14628</span>            &amp;&amp; (new_nav_window-&gt;Flags &amp; (ImGuiWindowFlags_Popup | ImGuiWindowFlags_ChildMenu)) == 0)</div>
<div class="line"><a id="l14629" name="l14629"></a><span class="lineno">14629</span>            new_nav_window = new_nav_window-&gt;ParentWindow;</div>
<div class="line"><a id="l14630" name="l14630"></a><span class="lineno">14630</span>        <span class="keywordflow">if</span> (new_nav_window != g.NavWindow)</div>
<div class="line"><a id="l14631" name="l14631"></a><span class="lineno">14631</span>        {</div>
<div class="line"><a id="l14632" name="l14632"></a><span class="lineno">14632</span>            <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* old_nav_window = g.NavWindow;</div>
<div class="line"><a id="l14633" name="l14633"></a><span class="lineno">14633</span>            FocusWindow(new_nav_window);</div>
<div class="line"><a id="l14634" name="l14634"></a><span class="lineno">14634</span>            new_nav_window-&gt;NavLastChildNavWindow = old_nav_window;</div>
<div class="line"><a id="l14635" name="l14635"></a><span class="lineno">14635</span>        }</div>
<div class="line"><a id="l14636" name="l14636"></a><span class="lineno">14636</span> </div>
<div class="line"><a id="l14637" name="l14637"></a><span class="lineno">14637</span>        <span class="comment">// Toggle layer</span></div>
<div class="line"><a id="l14638" name="l14638"></a><span class="lineno">14638</span>        <span class="keyword">const</span> ImGuiNavLayer new_nav_layer = (g.NavWindow-&gt;DC.NavLayersActiveMask &amp; (1 &lt;&lt; ImGuiNavLayer_Menu)) ? (ImGuiNavLayer)((<span class="keywordtype">int</span>)g.NavLayer ^ 1) : ImGuiNavLayer_Main;</div>
<div class="line"><a id="l14639" name="l14639"></a><span class="lineno">14639</span>        <span class="keywordflow">if</span> (new_nav_layer != g.NavLayer)</div>
<div class="line"><a id="l14640" name="l14640"></a><span class="lineno">14640</span>        {</div>
<div class="line"><a id="l14641" name="l14641"></a><span class="lineno">14641</span>            <span class="comment">// Reinitialize navigation when entering menu bar with the Alt key (FIXME: could be a properly of the layer?)</span></div>
<div class="line"><a id="l14642" name="l14642"></a><span class="lineno">14642</span>            <span class="keyword">const</span> <span class="keywordtype">bool</span> preserve_layer_1_nav_id = (new_nav_window-&gt;DockNodeAsHost != NULL);</div>
<div class="line"><a id="l14643" name="l14643"></a><span class="lineno">14643</span>            <span class="keywordflow">if</span> (new_nav_layer == ImGuiNavLayer_Menu &amp;&amp; !preserve_layer_1_nav_id)</div>
<div class="line"><a id="l14644" name="l14644"></a><span class="lineno">14644</span>                g.NavWindow-&gt;NavLastIds[new_nav_layer] = 0;</div>
<div class="line"><a id="l14645" name="l14645"></a><span class="lineno">14645</span>            NavRestoreLayer(new_nav_layer);</div>
<div class="line"><a id="l14646" name="l14646"></a><span class="lineno">14646</span>            SetNavCursorVisibleAfterMove();</div>
<div class="line"><a id="l14647" name="l14647"></a><span class="lineno">14647</span>        }</div>
<div class="line"><a id="l14648" name="l14648"></a><span class="lineno">14648</span>    }</div>
<div class="line"><a id="l14649" name="l14649"></a><span class="lineno">14649</span>}</div>
<div class="line"><a id="l14650" name="l14650"></a><span class="lineno">14650</span> </div>
<div class="line"><a id="l14651" name="l14651"></a><span class="lineno">14651</span><span class="comment">// Window has already passed the IsWindowNavFocusable()</span></div>
<div class="line"><a id="l14652" name="l14652"></a><span class="lineno">14652</span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* GetFallbackWindowNameForWindowingList(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l14653" name="l14653"></a><span class="lineno">14653</span>{</div>
<div class="line"><a id="l14654" name="l14654"></a><span class="lineno">14654</span>    <span class="keywordflow">if</span> (window-&gt;Flags &amp; ImGuiWindowFlags_Popup)</div>
<div class="line"><a id="l14655" name="l14655"></a><span class="lineno">14655</span>        <span class="keywordflow">return</span> ImGui::LocalizeGetMsg(ImGuiLocKey_WindowingPopup);</div>
<div class="line"><a id="l14656" name="l14656"></a><span class="lineno">14656</span>    <span class="keywordflow">if</span> ((window-&gt;Flags &amp; ImGuiWindowFlags_MenuBar) &amp;&amp; strcmp(window-&gt;Name, <span class="stringliteral">&quot;##MainMenuBar&quot;</span>) == 0)</div>
<div class="line"><a id="l14657" name="l14657"></a><span class="lineno">14657</span>        <span class="keywordflow">return</span> ImGui::LocalizeGetMsg(ImGuiLocKey_WindowingMainMenuBar);</div>
<div class="line"><a id="l14658" name="l14658"></a><span class="lineno">14658</span>    <span class="keywordflow">if</span> (window-&gt;DockNodeAsHost)</div>
<div class="line"><a id="l14659" name="l14659"></a><span class="lineno">14659</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;(Dock node)&quot;</span>; <span class="comment">// Not normally shown to user.</span></div>
<div class="line"><a id="l14660" name="l14660"></a><span class="lineno">14660</span>    <span class="keywordflow">return</span> ImGui::LocalizeGetMsg(ImGuiLocKey_WindowingUntitled);</div>
<div class="line"><a id="l14661" name="l14661"></a><span class="lineno">14661</span>}</div>
<div class="line"><a id="l14662" name="l14662"></a><span class="lineno">14662</span> </div>
<div class="line"><a id="l14663" name="l14663"></a><span class="lineno">14663</span><span class="comment">// Overlay displayed when using CTRL+TAB. Called by EndFrame().</span></div>
<div class="line"><a id="l14664" name="l14664"></a><span class="lineno">14664</span><span class="keywordtype">void</span> ImGui::NavUpdateWindowingOverlay()</div>
<div class="line"><a id="l14665" name="l14665"></a><span class="lineno">14665</span>{</div>
<div class="line"><a id="l14666" name="l14666"></a><span class="lineno">14666</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l14667" name="l14667"></a><span class="lineno">14667</span>    IM_ASSERT(g.NavWindowingTarget != NULL);</div>
<div class="line"><a id="l14668" name="l14668"></a><span class="lineno">14668</span> </div>
<div class="line"><a id="l14669" name="l14669"></a><span class="lineno">14669</span>    <span class="keywordflow">if</span> (g.NavWindowingTimer &lt; NAV_WINDOWING_LIST_APPEAR_DELAY)</div>
<div class="line"><a id="l14670" name="l14670"></a><span class="lineno">14670</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l14671" name="l14671"></a><span class="lineno">14671</span> </div>
<div class="line"><a id="l14672" name="l14672"></a><span class="lineno">14672</span>    <span class="keywordflow">if</span> (g.NavWindowingListWindow == NULL)</div>
<div class="line"><a id="l14673" name="l14673"></a><span class="lineno">14673</span>        g.NavWindowingListWindow = FindWindowByName(<span class="stringliteral">&quot;##NavWindowingOverlay&quot;</span>);</div>
<div class="line"><a id="l14674" name="l14674"></a><span class="lineno">14674</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiViewport.html">ImGuiViewport</a>* viewport = <span class="comment">/*g.NavWindow ? g.NavWindow-&gt;Viewport :*/</span> GetMainViewport();</div>
<div class="line"><a id="l14675" name="l14675"></a><span class="lineno">14675</span>    SetNextWindowSizeConstraints(<a class="code hl_struct" href="structImVec2.html">ImVec2</a>(viewport-&gt;Size.x * 0.20f, viewport-&gt;Size.y * 0.20f), <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(FLT_MAX, FLT_MAX));</div>
<div class="line"><a id="l14676" name="l14676"></a><span class="lineno">14676</span>    SetNextWindowPos(viewport-&gt;GetCenter(), ImGuiCond_Always, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.5f, 0.5f));</div>
<div class="line"><a id="l14677" name="l14677"></a><span class="lineno">14677</span>    PushStyleVar(ImGuiStyleVar_WindowPadding, g.Style.WindowPadding * 2.0f);</div>
<div class="line"><a id="l14678" name="l14678"></a><span class="lineno">14678</span>    Begin(<span class="stringliteral">&quot;##NavWindowingOverlay&quot;</span>, NULL, ImGuiWindowFlags_NoTitleBar | ImGuiWindowFlags_NoFocusOnAppearing | ImGuiWindowFlags_NoResize | ImGuiWindowFlags_NoMove | ImGuiWindowFlags_NoInputs | ImGuiWindowFlags_AlwaysAutoResize | ImGuiWindowFlags_NoSavedSettings);</div>
<div class="line"><a id="l14679" name="l14679"></a><span class="lineno">14679</span>    <span class="keywordflow">if</span> (g.ContextName[0] != 0)</div>
<div class="line"><a id="l14680" name="l14680"></a><span class="lineno">14680</span>        SeparatorText(g.ContextName);</div>
<div class="line"><a id="l14681" name="l14681"></a><span class="lineno">14681</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = g.WindowsFocusOrder.Size - 1; n &gt;= 0; n--)</div>
<div class="line"><a id="l14682" name="l14682"></a><span class="lineno">14682</span>    {</div>
<div class="line"><a id="l14683" name="l14683"></a><span class="lineno">14683</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.WindowsFocusOrder[n];</div>
<div class="line"><a id="l14684" name="l14684"></a><span class="lineno">14684</span>        IM_ASSERT(window != NULL); <span class="comment">// Fix static analyzers</span></div>
<div class="line"><a id="l14685" name="l14685"></a><span class="lineno">14685</span>        <span class="keywordflow">if</span> (!IsWindowNavFocusable(window))</div>
<div class="line"><a id="l14686" name="l14686"></a><span class="lineno">14686</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l14687" name="l14687"></a><span class="lineno">14687</span>        <span class="keyword">const</span> <span class="keywordtype">char</span>* label = window-&gt;Name;</div>
<div class="line"><a id="l14688" name="l14688"></a><span class="lineno">14688</span>        <span class="keywordflow">if</span> (label == FindRenderedTextEnd(label))</div>
<div class="line"><a id="l14689" name="l14689"></a><span class="lineno">14689</span>            label = GetFallbackWindowNameForWindowingList(window);</div>
<div class="line"><a id="l14690" name="l14690"></a><span class="lineno">14690</span>        Selectable(label, g.NavWindowingTarget == window);</div>
<div class="line"><a id="l14691" name="l14691"></a><span class="lineno">14691</span>    }</div>
<div class="line"><a id="l14692" name="l14692"></a><span class="lineno">14692</span>    End();</div>
<div class="line"><a id="l14693" name="l14693"></a><span class="lineno">14693</span>    PopStyleVar();</div>
<div class="line"><a id="l14694" name="l14694"></a><span class="lineno">14694</span>}</div>
<div class="line"><a id="l14695" name="l14695"></a><span class="lineno">14695</span> </div>
<div class="line"><a id="l14696" name="l14696"></a><span class="lineno">14696</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l14697" name="l14697"></a><span class="lineno">14697</span><span class="comment">// [SECTION] DRAG AND DROP</span></div>
<div class="line"><a id="l14698" name="l14698"></a><span class="lineno">14698</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l14699" name="l14699"></a><span class="lineno">14699</span> </div>
<div class="line"><a id="l14700" name="l14700"></a><span class="lineno">14700</span><span class="keywordtype">bool</span> ImGui::IsDragDropActive()</div>
<div class="line"><a id="l14701" name="l14701"></a><span class="lineno">14701</span>{</div>
<div class="line"><a id="l14702" name="l14702"></a><span class="lineno">14702</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l14703" name="l14703"></a><span class="lineno">14703</span>    <span class="keywordflow">return</span> g.DragDropActive;</div>
<div class="line"><a id="l14704" name="l14704"></a><span class="lineno">14704</span>}</div>
<div class="line"><a id="l14705" name="l14705"></a><span class="lineno">14705</span> </div>
<div class="line"><a id="l14706" name="l14706"></a><span class="lineno">14706</span><span class="keywordtype">void</span> ImGui::ClearDragDrop()</div>
<div class="line"><a id="l14707" name="l14707"></a><span class="lineno">14707</span>{</div>
<div class="line"><a id="l14708" name="l14708"></a><span class="lineno">14708</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l14709" name="l14709"></a><span class="lineno">14709</span>    <span class="keywordflow">if</span> (g.DragDropActive)</div>
<div class="line"><a id="l14710" name="l14710"></a><span class="lineno">14710</span>        IMGUI_DEBUG_LOG_ACTIVEID(<span class="stringliteral">&quot;[dragdrop] ClearDragDrop()\n&quot;</span>);</div>
<div class="line"><a id="l14711" name="l14711"></a><span class="lineno">14711</span>    g.DragDropActive = <span class="keyword">false</span>;</div>
<div class="line"><a id="l14712" name="l14712"></a><span class="lineno">14712</span>    g.DragDropPayload.Clear();</div>
<div class="line"><a id="l14713" name="l14713"></a><span class="lineno">14713</span>    g.DragDropAcceptFlags = ImGuiDragDropFlags_None;</div>
<div class="line"><a id="l14714" name="l14714"></a><span class="lineno">14714</span>    g.DragDropAcceptIdCurr = g.DragDropAcceptIdPrev = 0;</div>
<div class="line"><a id="l14715" name="l14715"></a><span class="lineno">14715</span>    g.DragDropAcceptIdCurrRectSurface = FLT_MAX;</div>
<div class="line"><a id="l14716" name="l14716"></a><span class="lineno">14716</span>    g.DragDropAcceptFrameCount = -1;</div>
<div class="line"><a id="l14717" name="l14717"></a><span class="lineno">14717</span> </div>
<div class="line"><a id="l14718" name="l14718"></a><span class="lineno">14718</span>    g.DragDropPayloadBufHeap.clear();</div>
<div class="line"><a id="l14719" name="l14719"></a><span class="lineno">14719</span>    memset(&amp;g.DragDropPayloadBufLocal, 0, <span class="keyword">sizeof</span>(g.DragDropPayloadBufLocal));</div>
<div class="line"><a id="l14720" name="l14720"></a><span class="lineno">14720</span>}</div>
<div class="line"><a id="l14721" name="l14721"></a><span class="lineno">14721</span> </div>
<div class="line"><a id="l14722" name="l14722"></a><span class="lineno">14722</span><span class="keywordtype">bool</span> ImGui::BeginTooltipHidden()</div>
<div class="line"><a id="l14723" name="l14723"></a><span class="lineno">14723</span>{</div>
<div class="line"><a id="l14724" name="l14724"></a><span class="lineno">14724</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l14725" name="l14725"></a><span class="lineno">14725</span>    <span class="keywordtype">bool</span> ret = Begin(<span class="stringliteral">&quot;##Tooltip_Hidden&quot;</span>, NULL, ImGuiWindowFlags_Tooltip | ImGuiWindowFlags_NoInputs | ImGuiWindowFlags_NoTitleBar | ImGuiWindowFlags_NoMove | ImGuiWindowFlags_NoResize | ImGuiWindowFlags_NoSavedSettings | ImGuiWindowFlags_AlwaysAutoResize);</div>
<div class="line"><a id="l14726" name="l14726"></a><span class="lineno">14726</span>    SetWindowHiddenAndSkipItemsForCurrentFrame(g.CurrentWindow);</div>
<div class="line"><a id="l14727" name="l14727"></a><span class="lineno">14727</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a id="l14728" name="l14728"></a><span class="lineno">14728</span>}</div>
<div class="line"><a id="l14729" name="l14729"></a><span class="lineno">14729</span> </div>
<div class="line"><a id="l14730" name="l14730"></a><span class="lineno">14730</span><span class="comment">// When this returns true you need to: a) call SetDragDropPayload() exactly once, b) you may render the payload visual/description, c) call EndDragDropSource()</span></div>
<div class="line"><a id="l14731" name="l14731"></a><span class="lineno">14731</span><span class="comment">// If the item has an identifier:</span></div>
<div class="line"><a id="l14732" name="l14732"></a><span class="lineno">14732</span><span class="comment">// - This assume/require the item to be activated (typically via ButtonBehavior).</span></div>
<div class="line"><a id="l14733" name="l14733"></a><span class="lineno">14733</span><span class="comment">// - Therefore if you want to use this with a mouse button other than left mouse button, it is up to the item itself to activate with another button.</span></div>
<div class="line"><a id="l14734" name="l14734"></a><span class="lineno">14734</span><span class="comment">// - We then pull and use the mouse button that was used to activate the item and use it to carry on the drag.</span></div>
<div class="line"><a id="l14735" name="l14735"></a><span class="lineno">14735</span><span class="comment">// If the item has no identifier:</span></div>
<div class="line"><a id="l14736" name="l14736"></a><span class="lineno">14736</span><span class="comment">// - Currently always assume left mouse button.</span></div>
<div class="line"><a id="l14737" name="l14737"></a><span class="lineno">14737</span><span class="keywordtype">bool</span> ImGui::BeginDragDropSource(ImGuiDragDropFlags flags)</div>
<div class="line"><a id="l14738" name="l14738"></a><span class="lineno">14738</span>{</div>
<div class="line"><a id="l14739" name="l14739"></a><span class="lineno">14739</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l14740" name="l14740"></a><span class="lineno">14740</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l14741" name="l14741"></a><span class="lineno">14741</span> </div>
<div class="line"><a id="l14742" name="l14742"></a><span class="lineno">14742</span>    <span class="comment">// FIXME-DRAGDROP: While in the common-most &quot;drag from non-zero active id&quot; case we can tell the mouse button,</span></div>
<div class="line"><a id="l14743" name="l14743"></a><span class="lineno">14743</span>    <span class="comment">// in both SourceExtern and id==0 cases we may requires something else (explicit flags or some heuristic).</span></div>
<div class="line"><a id="l14744" name="l14744"></a><span class="lineno">14744</span>    ImGuiMouseButton mouse_button = ImGuiMouseButton_Left;</div>
<div class="line"><a id="l14745" name="l14745"></a><span class="lineno">14745</span> </div>
<div class="line"><a id="l14746" name="l14746"></a><span class="lineno">14746</span>    <span class="keywordtype">bool</span> source_drag_active = <span class="keyword">false</span>;</div>
<div class="line"><a id="l14747" name="l14747"></a><span class="lineno">14747</span>    ImGuiID source_id = 0;</div>
<div class="line"><a id="l14748" name="l14748"></a><span class="lineno">14748</span>    ImGuiID source_parent_id = 0;</div>
<div class="line"><a id="l14749" name="l14749"></a><span class="lineno">14749</span>    <span class="keywordflow">if</span> ((flags &amp; ImGuiDragDropFlags_SourceExtern) == 0)</div>
<div class="line"><a id="l14750" name="l14750"></a><span class="lineno">14750</span>    {</div>
<div class="line"><a id="l14751" name="l14751"></a><span class="lineno">14751</span>        source_id = g.LastItemData.ID;</div>
<div class="line"><a id="l14752" name="l14752"></a><span class="lineno">14752</span>        <span class="keywordflow">if</span> (source_id != 0)</div>
<div class="line"><a id="l14753" name="l14753"></a><span class="lineno">14753</span>        {</div>
<div class="line"><a id="l14754" name="l14754"></a><span class="lineno">14754</span>            <span class="comment">// Common path: items with ID</span></div>
<div class="line"><a id="l14755" name="l14755"></a><span class="lineno">14755</span>            <span class="keywordflow">if</span> (g.ActiveId != source_id)</div>
<div class="line"><a id="l14756" name="l14756"></a><span class="lineno">14756</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l14757" name="l14757"></a><span class="lineno">14757</span>            <span class="keywordflow">if</span> (g.ActiveIdMouseButton != -1)</div>
<div class="line"><a id="l14758" name="l14758"></a><span class="lineno">14758</span>                mouse_button = g.ActiveIdMouseButton;</div>
<div class="line"><a id="l14759" name="l14759"></a><span class="lineno">14759</span>            <span class="keywordflow">if</span> (g.IO.MouseDown[mouse_button] == <span class="keyword">false</span> || window-&gt;SkipItems)</div>
<div class="line"><a id="l14760" name="l14760"></a><span class="lineno">14760</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l14761" name="l14761"></a><span class="lineno">14761</span>            g.ActiveIdAllowOverlap = <span class="keyword">false</span>;</div>
<div class="line"><a id="l14762" name="l14762"></a><span class="lineno">14762</span>        }</div>
<div class="line"><a id="l14763" name="l14763"></a><span class="lineno">14763</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l14764" name="l14764"></a><span class="lineno">14764</span>        {</div>
<div class="line"><a id="l14765" name="l14765"></a><span class="lineno">14765</span>            <span class="comment">// Uncommon path: items without ID</span></div>
<div class="line"><a id="l14766" name="l14766"></a><span class="lineno">14766</span>            <span class="keywordflow">if</span> (g.IO.MouseDown[mouse_button] == <span class="keyword">false</span> || window-&gt;SkipItems)</div>
<div class="line"><a id="l14767" name="l14767"></a><span class="lineno">14767</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l14768" name="l14768"></a><span class="lineno">14768</span>            <span class="keywordflow">if</span> ((g.LastItemData.StatusFlags &amp; ImGuiItemStatusFlags_HoveredRect) == 0 &amp;&amp; (g.ActiveId == 0 || g.ActiveIdWindow != window))</div>
<div class="line"><a id="l14769" name="l14769"></a><span class="lineno">14769</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l14770" name="l14770"></a><span class="lineno">14770</span> </div>
<div class="line"><a id="l14771" name="l14771"></a><span class="lineno">14771</span>            <span class="comment">// If you want to use BeginDragDropSource() on an item with no unique identifier for interaction, such as Text() or Image(), you need to:</span></div>
<div class="line"><a id="l14772" name="l14772"></a><span class="lineno">14772</span>            <span class="comment">// A) Read the explanation below, B) Use the ImGuiDragDropFlags_SourceAllowNullID flag.</span></div>
<div class="line"><a id="l14773" name="l14773"></a><span class="lineno">14773</span>            <span class="keywordflow">if</span> (!(flags &amp; ImGuiDragDropFlags_SourceAllowNullID))</div>
<div class="line"><a id="l14774" name="l14774"></a><span class="lineno">14774</span>            {</div>
<div class="line"><a id="l14775" name="l14775"></a><span class="lineno">14775</span>                IM_ASSERT(0);</div>
<div class="line"><a id="l14776" name="l14776"></a><span class="lineno">14776</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l14777" name="l14777"></a><span class="lineno">14777</span>            }</div>
<div class="line"><a id="l14778" name="l14778"></a><span class="lineno">14778</span> </div>
<div class="line"><a id="l14779" name="l14779"></a><span class="lineno">14779</span>            <span class="comment">// Magic fallback to handle items with no assigned ID, e.g. Text(), Image()</span></div>
<div class="line"><a id="l14780" name="l14780"></a><span class="lineno">14780</span>            <span class="comment">// We build a throwaway ID based on current ID stack + relative AABB of items in window.</span></div>
<div class="line"><a id="l14781" name="l14781"></a><span class="lineno">14781</span>            <span class="comment">// THE IDENTIFIER WON&#39;T SURVIVE ANY REPOSITIONING/RESIZINGG OF THE WIDGET, so if your widget moves your dragging operation will be canceled.</span></div>
<div class="line"><a id="l14782" name="l14782"></a><span class="lineno">14782</span>            <span class="comment">// We don&#39;t need to maintain/call ClearActiveID() as releasing the button will early out this function and trigger !ActiveIdIsAlive.</span></div>
<div class="line"><a id="l14783" name="l14783"></a><span class="lineno">14783</span>            <span class="comment">// Rely on keeping other window-&gt;LastItemXXX fields intact.</span></div>
<div class="line"><a id="l14784" name="l14784"></a><span class="lineno">14784</span>            source_id = g.LastItemData.ID = window-&gt;GetIDFromRectangle(g.LastItemData.Rect);</div>
<div class="line"><a id="l14785" name="l14785"></a><span class="lineno">14785</span>            KeepAliveID(source_id);</div>
<div class="line"><a id="l14786" name="l14786"></a><span class="lineno">14786</span>            <span class="keywordtype">bool</span> is_hovered = ItemHoverable(g.LastItemData.Rect, source_id, g.LastItemData.ItemFlags);</div>
<div class="line"><a id="l14787" name="l14787"></a><span class="lineno">14787</span>            <span class="keywordflow">if</span> (is_hovered &amp;&amp; g.IO.MouseClicked[mouse_button])</div>
<div class="line"><a id="l14788" name="l14788"></a><span class="lineno">14788</span>            {</div>
<div class="line"><a id="l14789" name="l14789"></a><span class="lineno">14789</span>                SetActiveID(source_id, window);</div>
<div class="line"><a id="l14790" name="l14790"></a><span class="lineno">14790</span>                FocusWindow(window);</div>
<div class="line"><a id="l14791" name="l14791"></a><span class="lineno">14791</span>            }</div>
<div class="line"><a id="l14792" name="l14792"></a><span class="lineno">14792</span>            <span class="keywordflow">if</span> (g.ActiveId == source_id) <span class="comment">// Allow the underlying widget to display/return hovered during the mouse release frame, else we would get a flicker.</span></div>
<div class="line"><a id="l14793" name="l14793"></a><span class="lineno">14793</span>                g.ActiveIdAllowOverlap = is_hovered;</div>
<div class="line"><a id="l14794" name="l14794"></a><span class="lineno">14794</span>        }</div>
<div class="line"><a id="l14795" name="l14795"></a><span class="lineno">14795</span>        <span class="keywordflow">if</span> (g.ActiveId != source_id)</div>
<div class="line"><a id="l14796" name="l14796"></a><span class="lineno">14796</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l14797" name="l14797"></a><span class="lineno">14797</span>        source_parent_id = window-&gt;IDStack.back();</div>
<div class="line"><a id="l14798" name="l14798"></a><span class="lineno">14798</span>        source_drag_active = IsMouseDragging(mouse_button);</div>
<div class="line"><a id="l14799" name="l14799"></a><span class="lineno">14799</span> </div>
<div class="line"><a id="l14800" name="l14800"></a><span class="lineno">14800</span>        <span class="comment">// Disable navigation and key inputs while dragging + cancel existing request if any</span></div>
<div class="line"><a id="l14801" name="l14801"></a><span class="lineno">14801</span>        SetActiveIdUsingAllKeyboardKeys();</div>
<div class="line"><a id="l14802" name="l14802"></a><span class="lineno">14802</span>    }</div>
<div class="line"><a id="l14803" name="l14803"></a><span class="lineno">14803</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l14804" name="l14804"></a><span class="lineno">14804</span>    {</div>
<div class="line"><a id="l14805" name="l14805"></a><span class="lineno">14805</span>        <span class="comment">// When ImGuiDragDropFlags_SourceExtern is set:</span></div>
<div class="line"><a id="l14806" name="l14806"></a><span class="lineno">14806</span>        window = NULL;</div>
<div class="line"><a id="l14807" name="l14807"></a><span class="lineno">14807</span>        source_id = ImHashStr(<span class="stringliteral">&quot;#SourceExtern&quot;</span>);</div>
<div class="line"><a id="l14808" name="l14808"></a><span class="lineno">14808</span>        source_drag_active = <span class="keyword">true</span>;</div>
<div class="line"><a id="l14809" name="l14809"></a><span class="lineno">14809</span>        mouse_button = g.IO.MouseDown[0] ? 0 : -1;</div>
<div class="line"><a id="l14810" name="l14810"></a><span class="lineno">14810</span>        KeepAliveID(source_id);</div>
<div class="line"><a id="l14811" name="l14811"></a><span class="lineno">14811</span>        SetActiveID(source_id, NULL);</div>
<div class="line"><a id="l14812" name="l14812"></a><span class="lineno">14812</span>    }</div>
<div class="line"><a id="l14813" name="l14813"></a><span class="lineno">14813</span> </div>
<div class="line"><a id="l14814" name="l14814"></a><span class="lineno">14814</span>    IM_ASSERT(g.DragDropWithinTarget == <span class="keyword">false</span>); <span class="comment">// Can&#39;t nest BeginDragDropSource() and BeginDragDropTarget()</span></div>
<div class="line"><a id="l14815" name="l14815"></a><span class="lineno">14815</span>    <span class="keywordflow">if</span> (!source_drag_active)</div>
<div class="line"><a id="l14816" name="l14816"></a><span class="lineno">14816</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l14817" name="l14817"></a><span class="lineno">14817</span> </div>
<div class="line"><a id="l14818" name="l14818"></a><span class="lineno">14818</span>    <span class="comment">// Activate drag and drop</span></div>
<div class="line"><a id="l14819" name="l14819"></a><span class="lineno">14819</span>    <span class="keywordflow">if</span> (!g.DragDropActive)</div>
<div class="line"><a id="l14820" name="l14820"></a><span class="lineno">14820</span>    {</div>
<div class="line"><a id="l14821" name="l14821"></a><span class="lineno">14821</span>        IM_ASSERT(source_id != 0);</div>
<div class="line"><a id="l14822" name="l14822"></a><span class="lineno">14822</span>        ClearDragDrop();</div>
<div class="line"><a id="l14823" name="l14823"></a><span class="lineno">14823</span>        IMGUI_DEBUG_LOG_ACTIVEID(<span class="stringliteral">&quot;[dragdrop] BeginDragDropSource() DragDropActive = true, source_id = 0x%08X%s\n&quot;</span>,</div>
<div class="line"><a id="l14824" name="l14824"></a><span class="lineno">14824</span>            source_id, (flags &amp; ImGuiDragDropFlags_SourceExtern) ? <span class="stringliteral">&quot; (EXTERN)&quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a id="l14825" name="l14825"></a><span class="lineno">14825</span>        <a class="code hl_struct" href="structImGuiPayload.html">ImGuiPayload</a>&amp; payload = g.DragDropPayload;</div>
<div class="line"><a id="l14826" name="l14826"></a><span class="lineno">14826</span>        payload.SourceId = source_id;</div>
<div class="line"><a id="l14827" name="l14827"></a><span class="lineno">14827</span>        payload.SourceParentId = source_parent_id;</div>
<div class="line"><a id="l14828" name="l14828"></a><span class="lineno">14828</span>        g.DragDropActive = <span class="keyword">true</span>;</div>
<div class="line"><a id="l14829" name="l14829"></a><span class="lineno">14829</span>        g.DragDropSourceFlags = flags;</div>
<div class="line"><a id="l14830" name="l14830"></a><span class="lineno">14830</span>        g.DragDropMouseButton = mouse_button;</div>
<div class="line"><a id="l14831" name="l14831"></a><span class="lineno">14831</span>        <span class="keywordflow">if</span> (payload.SourceId == g.ActiveId)</div>
<div class="line"><a id="l14832" name="l14832"></a><span class="lineno">14832</span>            g.ActiveIdNoClearOnFocusLoss = <span class="keyword">true</span>;</div>
<div class="line"><a id="l14833" name="l14833"></a><span class="lineno">14833</span>    }</div>
<div class="line"><a id="l14834" name="l14834"></a><span class="lineno">14834</span>    g.DragDropSourceFrameCount = g.FrameCount;</div>
<div class="line"><a id="l14835" name="l14835"></a><span class="lineno">14835</span>    g.DragDropWithinSource = <span class="keyword">true</span>;</div>
<div class="line"><a id="l14836" name="l14836"></a><span class="lineno">14836</span> </div>
<div class="line"><a id="l14837" name="l14837"></a><span class="lineno">14837</span>    <span class="keywordflow">if</span> (!(flags &amp; ImGuiDragDropFlags_SourceNoPreviewTooltip))</div>
<div class="line"><a id="l14838" name="l14838"></a><span class="lineno">14838</span>    {</div>
<div class="line"><a id="l14839" name="l14839"></a><span class="lineno">14839</span>        <span class="comment">// Target can request the Source to not display its tooltip (we use a dedicated flag to make this request explicit)</span></div>
<div class="line"><a id="l14840" name="l14840"></a><span class="lineno">14840</span>        <span class="comment">// We unfortunately can&#39;t just modify the source flags and skip the call to BeginTooltip, as caller may be emitting contents.</span></div>
<div class="line"><a id="l14841" name="l14841"></a><span class="lineno">14841</span>        <span class="keywordtype">bool</span> ret;</div>
<div class="line"><a id="l14842" name="l14842"></a><span class="lineno">14842</span>        <span class="keywordflow">if</span> (g.DragDropAcceptIdPrev &amp;&amp; (g.DragDropAcceptFlags &amp; ImGuiDragDropFlags_AcceptNoPreviewTooltip))</div>
<div class="line"><a id="l14843" name="l14843"></a><span class="lineno">14843</span>            ret = BeginTooltipHidden();</div>
<div class="line"><a id="l14844" name="l14844"></a><span class="lineno">14844</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l14845" name="l14845"></a><span class="lineno">14845</span>            ret = BeginTooltip();</div>
<div class="line"><a id="l14846" name="l14846"></a><span class="lineno">14846</span>        IM_ASSERT(ret); <span class="comment">// FIXME-NEWBEGIN: If this ever becomes false, we need to Begin(&quot;##Hidden&quot;, NULL, ImGuiWindowFlags_NoSavedSettings) + SetWindowHiddendAndSkipItemsForCurrentFrame().</span></div>
<div class="line"><a id="l14847" name="l14847"></a><span class="lineno">14847</span>        IM_UNUSED(ret);</div>
<div class="line"><a id="l14848" name="l14848"></a><span class="lineno">14848</span>    }</div>
<div class="line"><a id="l14849" name="l14849"></a><span class="lineno">14849</span> </div>
<div class="line"><a id="l14850" name="l14850"></a><span class="lineno">14850</span>    <span class="keywordflow">if</span> (!(flags &amp; ImGuiDragDropFlags_SourceNoDisableHover) &amp;&amp; !(flags &amp; ImGuiDragDropFlags_SourceExtern))</div>
<div class="line"><a id="l14851" name="l14851"></a><span class="lineno">14851</span>        g.LastItemData.StatusFlags &amp;= ~ImGuiItemStatusFlags_HoveredRect;</div>
<div class="line"><a id="l14852" name="l14852"></a><span class="lineno">14852</span> </div>
<div class="line"><a id="l14853" name="l14853"></a><span class="lineno">14853</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l14854" name="l14854"></a><span class="lineno">14854</span>}</div>
<div class="line"><a id="l14855" name="l14855"></a><span class="lineno">14855</span> </div>
<div class="line"><a id="l14856" name="l14856"></a><span class="lineno">14856</span><span class="keywordtype">void</span> ImGui::EndDragDropSource()</div>
<div class="line"><a id="l14857" name="l14857"></a><span class="lineno">14857</span>{</div>
<div class="line"><a id="l14858" name="l14858"></a><span class="lineno">14858</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l14859" name="l14859"></a><span class="lineno">14859</span>    IM_ASSERT(g.DragDropActive);</div>
<div class="line"><a id="l14860" name="l14860"></a><span class="lineno">14860</span>    IM_ASSERT(g.DragDropWithinSource &amp;&amp; <span class="stringliteral">&quot;Not after a BeginDragDropSource()?&quot;</span>);</div>
<div class="line"><a id="l14861" name="l14861"></a><span class="lineno">14861</span> </div>
<div class="line"><a id="l14862" name="l14862"></a><span class="lineno">14862</span>    <span class="keywordflow">if</span> (!(g.DragDropSourceFlags &amp; ImGuiDragDropFlags_SourceNoPreviewTooltip))</div>
<div class="line"><a id="l14863" name="l14863"></a><span class="lineno">14863</span>        EndTooltip();</div>
<div class="line"><a id="l14864" name="l14864"></a><span class="lineno">14864</span> </div>
<div class="line"><a id="l14865" name="l14865"></a><span class="lineno">14865</span>    <span class="comment">// Discard the drag if have not called SetDragDropPayload()</span></div>
<div class="line"><a id="l14866" name="l14866"></a><span class="lineno">14866</span>    <span class="keywordflow">if</span> (g.DragDropPayload.DataFrameCount == -1)</div>
<div class="line"><a id="l14867" name="l14867"></a><span class="lineno">14867</span>        ClearDragDrop();</div>
<div class="line"><a id="l14868" name="l14868"></a><span class="lineno">14868</span>    g.DragDropWithinSource = <span class="keyword">false</span>;</div>
<div class="line"><a id="l14869" name="l14869"></a><span class="lineno">14869</span>}</div>
<div class="line"><a id="l14870" name="l14870"></a><span class="lineno">14870</span> </div>
<div class="line"><a id="l14871" name="l14871"></a><span class="lineno">14871</span><span class="comment">// Use &#39;cond&#39; to choose to submit payload on drag start or every frame</span></div>
<div class="line"><a id="l14872" name="l14872"></a><span class="lineno">14872</span><span class="keywordtype">bool</span> ImGui::SetDragDropPayload(<span class="keyword">const</span> <span class="keywordtype">char</span>* type, <span class="keyword">const</span> <span class="keywordtype">void</span>* data, <span class="keywordtype">size_t</span> data_size, ImGuiCond cond)</div>
<div class="line"><a id="l14873" name="l14873"></a><span class="lineno">14873</span>{</div>
<div class="line"><a id="l14874" name="l14874"></a><span class="lineno">14874</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l14875" name="l14875"></a><span class="lineno">14875</span>    <a class="code hl_struct" href="structImGuiPayload.html">ImGuiPayload</a>&amp; payload = g.DragDropPayload;</div>
<div class="line"><a id="l14876" name="l14876"></a><span class="lineno">14876</span>    <span class="keywordflow">if</span> (cond == 0)</div>
<div class="line"><a id="l14877" name="l14877"></a><span class="lineno">14877</span>        cond = ImGuiCond_Always;</div>
<div class="line"><a id="l14878" name="l14878"></a><span class="lineno">14878</span> </div>
<div class="line"><a id="l14879" name="l14879"></a><span class="lineno">14879</span>    IM_ASSERT(type != NULL);</div>
<div class="line"><a id="l14880" name="l14880"></a><span class="lineno">14880</span>    IM_ASSERT(ImStrlen(type) &lt; IM_ARRAYSIZE(payload.DataType) &amp;&amp; <span class="stringliteral">&quot;Payload type can be at most 32 characters long&quot;</span>);</div>
<div class="line"><a id="l14881" name="l14881"></a><span class="lineno">14881</span>    IM_ASSERT((data != NULL &amp;&amp; data_size &gt; 0) || (data == NULL &amp;&amp; data_size == 0));</div>
<div class="line"><a id="l14882" name="l14882"></a><span class="lineno">14882</span>    IM_ASSERT(cond == ImGuiCond_Always || cond == ImGuiCond_Once);</div>
<div class="line"><a id="l14883" name="l14883"></a><span class="lineno">14883</span>    IM_ASSERT(payload.SourceId != 0); <span class="comment">// Not called between BeginDragDropSource() and EndDragDropSource()</span></div>
<div class="line"><a id="l14884" name="l14884"></a><span class="lineno">14884</span> </div>
<div class="line"><a id="l14885" name="l14885"></a><span class="lineno">14885</span>    <span class="keywordflow">if</span> (cond == ImGuiCond_Always || payload.DataFrameCount == -1)</div>
<div class="line"><a id="l14886" name="l14886"></a><span class="lineno">14886</span>    {</div>
<div class="line"><a id="l14887" name="l14887"></a><span class="lineno">14887</span>        <span class="comment">// Copy payload</span></div>
<div class="line"><a id="l14888" name="l14888"></a><span class="lineno">14888</span>        ImStrncpy(payload.DataType, type, IM_ARRAYSIZE(payload.DataType));</div>
<div class="line"><a id="l14889" name="l14889"></a><span class="lineno">14889</span>        g.DragDropPayloadBufHeap.resize(0);</div>
<div class="line"><a id="l14890" name="l14890"></a><span class="lineno">14890</span>        <span class="keywordflow">if</span> (data_size &gt; <span class="keyword">sizeof</span>(g.DragDropPayloadBufLocal))</div>
<div class="line"><a id="l14891" name="l14891"></a><span class="lineno">14891</span>        {</div>
<div class="line"><a id="l14892" name="l14892"></a><span class="lineno">14892</span>            <span class="comment">// Store in heap</span></div>
<div class="line"><a id="l14893" name="l14893"></a><span class="lineno">14893</span>            g.DragDropPayloadBufHeap.resize((<span class="keywordtype">int</span>)data_size);</div>
<div class="line"><a id="l14894" name="l14894"></a><span class="lineno">14894</span>            payload.Data = g.DragDropPayloadBufHeap.Data;</div>
<div class="line"><a id="l14895" name="l14895"></a><span class="lineno">14895</span>            memcpy(payload.Data, data, data_size);</div>
<div class="line"><a id="l14896" name="l14896"></a><span class="lineno">14896</span>        }</div>
<div class="line"><a id="l14897" name="l14897"></a><span class="lineno">14897</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (data_size &gt; 0)</div>
<div class="line"><a id="l14898" name="l14898"></a><span class="lineno">14898</span>        {</div>
<div class="line"><a id="l14899" name="l14899"></a><span class="lineno">14899</span>            <span class="comment">// Store locally</span></div>
<div class="line"><a id="l14900" name="l14900"></a><span class="lineno">14900</span>            memset(&amp;g.DragDropPayloadBufLocal, 0, <span class="keyword">sizeof</span>(g.DragDropPayloadBufLocal));</div>
<div class="line"><a id="l14901" name="l14901"></a><span class="lineno">14901</span>            payload.Data = g.DragDropPayloadBufLocal;</div>
<div class="line"><a id="l14902" name="l14902"></a><span class="lineno">14902</span>            memcpy(payload.Data, data, data_size);</div>
<div class="line"><a id="l14903" name="l14903"></a><span class="lineno">14903</span>        }</div>
<div class="line"><a id="l14904" name="l14904"></a><span class="lineno">14904</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l14905" name="l14905"></a><span class="lineno">14905</span>        {</div>
<div class="line"><a id="l14906" name="l14906"></a><span class="lineno">14906</span>            payload.Data = NULL;</div>
<div class="line"><a id="l14907" name="l14907"></a><span class="lineno">14907</span>        }</div>
<div class="line"><a id="l14908" name="l14908"></a><span class="lineno">14908</span>        payload.DataSize = (int)data_size;</div>
<div class="line"><a id="l14909" name="l14909"></a><span class="lineno">14909</span>    }</div>
<div class="line"><a id="l14910" name="l14910"></a><span class="lineno">14910</span>    payload.DataFrameCount = g.FrameCount;</div>
<div class="line"><a id="l14911" name="l14911"></a><span class="lineno">14911</span> </div>
<div class="line"><a id="l14912" name="l14912"></a><span class="lineno">14912</span>    <span class="comment">// Return whether the payload has been accepted</span></div>
<div class="line"><a id="l14913" name="l14913"></a><span class="lineno">14913</span>    <span class="keywordflow">return</span> (g.DragDropAcceptFrameCount == g.FrameCount) || (g.DragDropAcceptFrameCount == g.FrameCount - 1);</div>
<div class="line"><a id="l14914" name="l14914"></a><span class="lineno">14914</span>}</div>
<div class="line"><a id="l14915" name="l14915"></a><span class="lineno">14915</span> </div>
<div class="line"><a id="l14916" name="l14916"></a><span class="lineno">14916</span><span class="keywordtype">bool</span> ImGui::BeginDragDropTargetCustom(<span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; bb, ImGuiID <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l14917" name="l14917"></a><span class="lineno">14917</span>{</div>
<div class="line"><a id="l14918" name="l14918"></a><span class="lineno">14918</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l14919" name="l14919"></a><span class="lineno">14919</span>    <span class="keywordflow">if</span> (!g.DragDropActive)</div>
<div class="line"><a id="l14920" name="l14920"></a><span class="lineno">14920</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l14921" name="l14921"></a><span class="lineno">14921</span> </div>
<div class="line"><a id="l14922" name="l14922"></a><span class="lineno">14922</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l14923" name="l14923"></a><span class="lineno">14923</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* hovered_window = g.HoveredWindowUnderMovingWindow;</div>
<div class="line"><a id="l14924" name="l14924"></a><span class="lineno">14924</span>    <span class="keywordflow">if</span> (hovered_window == NULL || window-&gt;RootWindowDockTree != hovered_window-&gt;RootWindowDockTree)</div>
<div class="line"><a id="l14925" name="l14925"></a><span class="lineno">14925</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l14926" name="l14926"></a><span class="lineno">14926</span>    IM_ASSERT(<span class="keywordtype">id</span> != 0);</div>
<div class="line"><a id="l14927" name="l14927"></a><span class="lineno">14927</span>    <span class="keywordflow">if</span> (!IsMouseHoveringRect(bb.Min, bb.Max) || (<span class="keywordtype">id</span> == g.DragDropPayload.SourceId))</div>
<div class="line"><a id="l14928" name="l14928"></a><span class="lineno">14928</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l14929" name="l14929"></a><span class="lineno">14929</span>    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a id="l14930" name="l14930"></a><span class="lineno">14930</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l14931" name="l14931"></a><span class="lineno">14931</span> </div>
<div class="line"><a id="l14932" name="l14932"></a><span class="lineno">14932</span>    IM_ASSERT(g.DragDropWithinTarget == <span class="keyword">false</span> &amp;&amp; g.DragDropWithinSource == <span class="keyword">false</span>); <span class="comment">// Can&#39;t nest BeginDragDropSource() and BeginDragDropTarget()</span></div>
<div class="line"><a id="l14933" name="l14933"></a><span class="lineno">14933</span>    g.DragDropTargetRect = bb;</div>
<div class="line"><a id="l14934" name="l14934"></a><span class="lineno">14934</span>    g.DragDropTargetClipRect = window-&gt;ClipRect; <span class="comment">// May want to be overridden by user depending on use case?</span></div>
<div class="line"><a id="l14935" name="l14935"></a><span class="lineno">14935</span>    g.DragDropTargetId = id;</div>
<div class="line"><a id="l14936" name="l14936"></a><span class="lineno">14936</span>    g.DragDropWithinTarget = <span class="keyword">true</span>;</div>
<div class="line"><a id="l14937" name="l14937"></a><span class="lineno">14937</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l14938" name="l14938"></a><span class="lineno">14938</span>}</div>
<div class="line"><a id="l14939" name="l14939"></a><span class="lineno">14939</span> </div>
<div class="line"><a id="l14940" name="l14940"></a><span class="lineno">14940</span><span class="comment">// We don&#39;t use BeginDragDropTargetCustom() and duplicate its code because:</span></div>
<div class="line"><a id="l14941" name="l14941"></a><span class="lineno">14941</span><span class="comment">// 1) we use LastItemData&#39;s ImGuiItemStatusFlags_HoveredRect which handles items that push a temporarily clip rectangle in their code. Calling BeginDragDropTargetCustom(LastItemRect) would not handle them.</span></div>
<div class="line"><a id="l14942" name="l14942"></a><span class="lineno">14942</span><span class="comment">// 2) and it&#39;s faster. as this code may be very frequently called, we want to early out as fast as we can.</span></div>
<div class="line"><a id="l14943" name="l14943"></a><span class="lineno">14943</span><span class="comment">// Also note how the HoveredWindow test is positioned differently in both functions (in both functions we optimize for the cheapest early out case)</span></div>
<div class="line"><a id="l14944" name="l14944"></a><span class="lineno">14944</span><span class="keywordtype">bool</span> ImGui::BeginDragDropTarget()</div>
<div class="line"><a id="l14945" name="l14945"></a><span class="lineno">14945</span>{</div>
<div class="line"><a id="l14946" name="l14946"></a><span class="lineno">14946</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l14947" name="l14947"></a><span class="lineno">14947</span>    <span class="keywordflow">if</span> (!g.DragDropActive)</div>
<div class="line"><a id="l14948" name="l14948"></a><span class="lineno">14948</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l14949" name="l14949"></a><span class="lineno">14949</span> </div>
<div class="line"><a id="l14950" name="l14950"></a><span class="lineno">14950</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l14951" name="l14951"></a><span class="lineno">14951</span>    <span class="keywordflow">if</span> (!(g.LastItemData.StatusFlags &amp; ImGuiItemStatusFlags_HoveredRect))</div>
<div class="line"><a id="l14952" name="l14952"></a><span class="lineno">14952</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l14953" name="l14953"></a><span class="lineno">14953</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* hovered_window = g.HoveredWindowUnderMovingWindow;</div>
<div class="line"><a id="l14954" name="l14954"></a><span class="lineno">14954</span>    <span class="keywordflow">if</span> (hovered_window == NULL || window-&gt;RootWindowDockTree != hovered_window-&gt;RootWindowDockTree || window-&gt;SkipItems)</div>
<div class="line"><a id="l14955" name="l14955"></a><span class="lineno">14955</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l14956" name="l14956"></a><span class="lineno">14956</span> </div>
<div class="line"><a id="l14957" name="l14957"></a><span class="lineno">14957</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; display_rect = (g.LastItemData.StatusFlags &amp; ImGuiItemStatusFlags_HasDisplayRect) ? g.LastItemData.DisplayRect : g.LastItemData.Rect;</div>
<div class="line"><a id="l14958" name="l14958"></a><span class="lineno">14958</span>    ImGuiID <span class="keywordtype">id</span> = g.LastItemData.ID;</div>
<div class="line"><a id="l14959" name="l14959"></a><span class="lineno">14959</span>    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == 0)</div>
<div class="line"><a id="l14960" name="l14960"></a><span class="lineno">14960</span>    {</div>
<div class="line"><a id="l14961" name="l14961"></a><span class="lineno">14961</span>        <span class="keywordtype">id</span> = window-&gt;GetIDFromRectangle(display_rect);</div>
<div class="line"><a id="l14962" name="l14962"></a><span class="lineno">14962</span>        KeepAliveID(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l14963" name="l14963"></a><span class="lineno">14963</span>    }</div>
<div class="line"><a id="l14964" name="l14964"></a><span class="lineno">14964</span>    <span class="keywordflow">if</span> (g.DragDropPayload.SourceId == <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l14965" name="l14965"></a><span class="lineno">14965</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l14966" name="l14966"></a><span class="lineno">14966</span> </div>
<div class="line"><a id="l14967" name="l14967"></a><span class="lineno">14967</span>    IM_ASSERT(g.DragDropWithinTarget == <span class="keyword">false</span> &amp;&amp; g.DragDropWithinSource == <span class="keyword">false</span>); <span class="comment">// Can&#39;t nest BeginDragDropSource() and BeginDragDropTarget()</span></div>
<div class="line"><a id="l14968" name="l14968"></a><span class="lineno">14968</span>    g.DragDropTargetRect = display_rect;</div>
<div class="line"><a id="l14969" name="l14969"></a><span class="lineno">14969</span>    g.DragDropTargetClipRect = (g.LastItemData.StatusFlags &amp; ImGuiItemStatusFlags_HasClipRect) ? g.LastItemData.ClipRect : window-&gt;ClipRect;</div>
<div class="line"><a id="l14970" name="l14970"></a><span class="lineno">14970</span>    g.DragDropTargetId = id;</div>
<div class="line"><a id="l14971" name="l14971"></a><span class="lineno">14971</span>    g.DragDropWithinTarget = <span class="keyword">true</span>;</div>
<div class="line"><a id="l14972" name="l14972"></a><span class="lineno">14972</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l14973" name="l14973"></a><span class="lineno">14973</span>}</div>
<div class="line"><a id="l14974" name="l14974"></a><span class="lineno">14974</span> </div>
<div class="line"><a id="l14975" name="l14975"></a><span class="lineno">14975</span><span class="keywordtype">bool</span> ImGui::IsDragDropPayloadBeingAccepted()</div>
<div class="line"><a id="l14976" name="l14976"></a><span class="lineno">14976</span>{</div>
<div class="line"><a id="l14977" name="l14977"></a><span class="lineno">14977</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l14978" name="l14978"></a><span class="lineno">14978</span>    <span class="keywordflow">return</span> g.DragDropActive &amp;&amp; g.DragDropAcceptIdPrev != 0;</div>
<div class="line"><a id="l14979" name="l14979"></a><span class="lineno">14979</span>}</div>
<div class="line"><a id="l14980" name="l14980"></a><span class="lineno">14980</span> </div>
<div class="line"><a id="l14981" name="l14981"></a><span class="lineno">14981</span><span class="keyword">const</span> <a class="code hl_struct" href="structImGuiPayload.html">ImGuiPayload</a>* ImGui::AcceptDragDropPayload(<span class="keyword">const</span> <span class="keywordtype">char</span>* type, ImGuiDragDropFlags flags)</div>
<div class="line"><a id="l14982" name="l14982"></a><span class="lineno">14982</span>{</div>
<div class="line"><a id="l14983" name="l14983"></a><span class="lineno">14983</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l14984" name="l14984"></a><span class="lineno">14984</span>    <a class="code hl_struct" href="structImGuiPayload.html">ImGuiPayload</a>&amp; payload = g.DragDropPayload;</div>
<div class="line"><a id="l14985" name="l14985"></a><span class="lineno">14985</span>    IM_ASSERT(g.DragDropActive);                        <span class="comment">// Not called between BeginDragDropTarget() and EndDragDropTarget() ?</span></div>
<div class="line"><a id="l14986" name="l14986"></a><span class="lineno">14986</span>    IM_ASSERT(payload.DataFrameCount != -1);            <span class="comment">// Forgot to call EndDragDropTarget() ?</span></div>
<div class="line"><a id="l14987" name="l14987"></a><span class="lineno">14987</span>    <span class="keywordflow">if</span> (type != NULL &amp;&amp; !payload.IsDataType(type))</div>
<div class="line"><a id="l14988" name="l14988"></a><span class="lineno">14988</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l14989" name="l14989"></a><span class="lineno">14989</span> </div>
<div class="line"><a id="l14990" name="l14990"></a><span class="lineno">14990</span>    <span class="comment">// Accept smallest drag target bounding box, this allows us to nest drag targets conveniently without ordering constraints.</span></div>
<div class="line"><a id="l14991" name="l14991"></a><span class="lineno">14991</span>    <span class="comment">// NB: We currently accept NULL id as target. However, overlapping targets requires a unique ID to function!</span></div>
<div class="line"><a id="l14992" name="l14992"></a><span class="lineno">14992</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> was_accepted_previously = (g.DragDropAcceptIdPrev == g.DragDropTargetId);</div>
<div class="line"><a id="l14993" name="l14993"></a><span class="lineno">14993</span>    <a class="code hl_struct" href="structImRect.html">ImRect</a> r = g.DragDropTargetRect;</div>
<div class="line"><a id="l14994" name="l14994"></a><span class="lineno">14994</span>    <span class="keywordtype">float</span> r_surface = r.GetWidth() * r.GetHeight();</div>
<div class="line"><a id="l14995" name="l14995"></a><span class="lineno">14995</span>    <span class="keywordflow">if</span> (r_surface &gt; g.DragDropAcceptIdCurrRectSurface)</div>
<div class="line"><a id="l14996" name="l14996"></a><span class="lineno">14996</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l14997" name="l14997"></a><span class="lineno">14997</span> </div>
<div class="line"><a id="l14998" name="l14998"></a><span class="lineno">14998</span>    g.DragDropAcceptFlags = flags;</div>
<div class="line"><a id="l14999" name="l14999"></a><span class="lineno">14999</span>    g.DragDropAcceptIdCurr = g.DragDropTargetId;</div>
<div class="line"><a id="l15000" name="l15000"></a><span class="lineno">15000</span>    g.DragDropAcceptIdCurrRectSurface = r_surface;</div>
<div class="line"><a id="l15001" name="l15001"></a><span class="lineno">15001</span>    <span class="comment">//IMGUI_DEBUG_LOG(&quot;AcceptDragDropPayload(): %08X: accept\n&quot;, g.DragDropTargetId);</span></div>
<div class="line"><a id="l15002" name="l15002"></a><span class="lineno">15002</span> </div>
<div class="line"><a id="l15003" name="l15003"></a><span class="lineno">15003</span>    <span class="comment">// Render default drop visuals</span></div>
<div class="line"><a id="l15004" name="l15004"></a><span class="lineno">15004</span>    payload.Preview = was_accepted_previously;</div>
<div class="line"><a id="l15005" name="l15005"></a><span class="lineno">15005</span>    flags |= (g.DragDropSourceFlags &amp; ImGuiDragDropFlags_AcceptNoDrawDefaultRect); <span class="comment">// Source can also inhibit the preview (useful for external sources that live for 1 frame)</span></div>
<div class="line"><a id="l15006" name="l15006"></a><span class="lineno">15006</span>    <span class="keywordflow">if</span> (!(flags &amp; ImGuiDragDropFlags_AcceptNoDrawDefaultRect) &amp;&amp; payload.Preview)</div>
<div class="line"><a id="l15007" name="l15007"></a><span class="lineno">15007</span>        RenderDragDropTargetRect(r, g.DragDropTargetClipRect);</div>
<div class="line"><a id="l15008" name="l15008"></a><span class="lineno">15008</span> </div>
<div class="line"><a id="l15009" name="l15009"></a><span class="lineno">15009</span>    g.DragDropAcceptFrameCount = g.FrameCount;</div>
<div class="line"><a id="l15010" name="l15010"></a><span class="lineno">15010</span>    <span class="keywordflow">if</span> ((g.DragDropSourceFlags &amp; ImGuiDragDropFlags_SourceExtern) &amp;&amp; g.DragDropMouseButton == -1)</div>
<div class="line"><a id="l15011" name="l15011"></a><span class="lineno">15011</span>        payload.Delivery = was_accepted_previously &amp;&amp; (g.DragDropSourceFrameCount &lt; g.FrameCount);</div>
<div class="line"><a id="l15012" name="l15012"></a><span class="lineno">15012</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l15013" name="l15013"></a><span class="lineno">15013</span>        payload.Delivery = was_accepted_previously &amp;&amp; !IsMouseDown(g.DragDropMouseButton); <span class="comment">// For extern drag sources affecting OS window focus, it&#39;s easier to just test !IsMouseDown() instead of IsMouseReleased()</span></div>
<div class="line"><a id="l15014" name="l15014"></a><span class="lineno">15014</span>    <span class="keywordflow">if</span> (!payload.Delivery &amp;&amp; !(flags &amp; ImGuiDragDropFlags_AcceptBeforeDelivery))</div>
<div class="line"><a id="l15015" name="l15015"></a><span class="lineno">15015</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l15016" name="l15016"></a><span class="lineno">15016</span> </div>
<div class="line"><a id="l15017" name="l15017"></a><span class="lineno">15017</span>    <span class="keywordflow">if</span> (payload.Delivery)</div>
<div class="line"><a id="l15018" name="l15018"></a><span class="lineno">15018</span>        IMGUI_DEBUG_LOG_ACTIVEID(<span class="stringliteral">&quot;[dragdrop] AcceptDragDropPayload(): 0x%08X: payload delivery\n&quot;</span>, g.DragDropTargetId);</div>
<div class="line"><a id="l15019" name="l15019"></a><span class="lineno">15019</span>    <span class="keywordflow">return</span> &amp;payload;</div>
<div class="line"><a id="l15020" name="l15020"></a><span class="lineno">15020</span>}</div>
<div class="line"><a id="l15021" name="l15021"></a><span class="lineno">15021</span> </div>
<div class="line"><a id="l15022" name="l15022"></a><span class="lineno">15022</span><span class="comment">// FIXME-STYLE FIXME-DRAGDROP: Settle on a proper default visuals for drop target.</span></div>
<div class="line"><a id="l15023" name="l15023"></a><span class="lineno">15023</span><span class="keywordtype">void</span> ImGui::RenderDragDropTargetRect(<span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; bb, <span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; item_clip_rect)</div>
<div class="line"><a id="l15024" name="l15024"></a><span class="lineno">15024</span>{</div>
<div class="line"><a id="l15025" name="l15025"></a><span class="lineno">15025</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15026" name="l15026"></a><span class="lineno">15026</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l15027" name="l15027"></a><span class="lineno">15027</span>    <a class="code hl_struct" href="structImRect.html">ImRect</a> bb_display = bb;</div>
<div class="line"><a id="l15028" name="l15028"></a><span class="lineno">15028</span>    bb_display.ClipWith(item_clip_rect); <span class="comment">// Clip THEN expand so we have a way to visualize that target is not entirely visible.</span></div>
<div class="line"><a id="l15029" name="l15029"></a><span class="lineno">15029</span>    bb_display.Expand(3.5f);</div>
<div class="line"><a id="l15030" name="l15030"></a><span class="lineno">15030</span>    <span class="keywordtype">bool</span> push_clip_rect = !window-&gt;ClipRect.Contains(bb_display);</div>
<div class="line"><a id="l15031" name="l15031"></a><span class="lineno">15031</span>    <span class="keywordflow">if</span> (push_clip_rect)</div>
<div class="line"><a id="l15032" name="l15032"></a><span class="lineno">15032</span>        window-&gt;DrawList-&gt;PushClipRectFullScreen();</div>
<div class="line"><a id="l15033" name="l15033"></a><span class="lineno">15033</span>    window-&gt;DrawList-&gt;AddRect(bb_display.Min, bb_display.Max, GetColorU32(ImGuiCol_DragDropTarget), 0.0f, 0, 2.0f); <span class="comment">// FIXME-DPI</span></div>
<div class="line"><a id="l15034" name="l15034"></a><span class="lineno">15034</span>    <span class="keywordflow">if</span> (push_clip_rect)</div>
<div class="line"><a id="l15035" name="l15035"></a><span class="lineno">15035</span>        window-&gt;DrawList-&gt;PopClipRect();</div>
<div class="line"><a id="l15036" name="l15036"></a><span class="lineno">15036</span>}</div>
<div class="line"><a id="l15037" name="l15037"></a><span class="lineno">15037</span> </div>
<div class="line"><a id="l15038" name="l15038"></a><span class="lineno">15038</span><span class="keyword">const</span> <a class="code hl_struct" href="structImGuiPayload.html">ImGuiPayload</a>* ImGui::GetDragDropPayload()</div>
<div class="line"><a id="l15039" name="l15039"></a><span class="lineno">15039</span>{</div>
<div class="line"><a id="l15040" name="l15040"></a><span class="lineno">15040</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15041" name="l15041"></a><span class="lineno">15041</span>    <span class="keywordflow">return</span> (g.DragDropActive &amp;&amp; g.DragDropPayload.DataFrameCount != -1) ? &amp;g.DragDropPayload : NULL;</div>
<div class="line"><a id="l15042" name="l15042"></a><span class="lineno">15042</span>}</div>
<div class="line"><a id="l15043" name="l15043"></a><span class="lineno">15043</span> </div>
<div class="line"><a id="l15044" name="l15044"></a><span class="lineno">15044</span><span class="keywordtype">void</span> ImGui::EndDragDropTarget()</div>
<div class="line"><a id="l15045" name="l15045"></a><span class="lineno">15045</span>{</div>
<div class="line"><a id="l15046" name="l15046"></a><span class="lineno">15046</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15047" name="l15047"></a><span class="lineno">15047</span>    IM_ASSERT(g.DragDropActive);</div>
<div class="line"><a id="l15048" name="l15048"></a><span class="lineno">15048</span>    IM_ASSERT(g.DragDropWithinTarget);</div>
<div class="line"><a id="l15049" name="l15049"></a><span class="lineno">15049</span>    g.DragDropWithinTarget = <span class="keyword">false</span>;</div>
<div class="line"><a id="l15050" name="l15050"></a><span class="lineno">15050</span> </div>
<div class="line"><a id="l15051" name="l15051"></a><span class="lineno">15051</span>    <span class="comment">// Clear drag and drop state payload right after delivery</span></div>
<div class="line"><a id="l15052" name="l15052"></a><span class="lineno">15052</span>    <span class="keywordflow">if</span> (g.DragDropPayload.Delivery)</div>
<div class="line"><a id="l15053" name="l15053"></a><span class="lineno">15053</span>        ClearDragDrop();</div>
<div class="line"><a id="l15054" name="l15054"></a><span class="lineno">15054</span>}</div>
<div class="line"><a id="l15055" name="l15055"></a><span class="lineno">15055</span> </div>
<div class="line"><a id="l15056" name="l15056"></a><span class="lineno">15056</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l15057" name="l15057"></a><span class="lineno">15057</span><span class="comment">// [SECTION] LOGGING/CAPTURING</span></div>
<div class="line"><a id="l15058" name="l15058"></a><span class="lineno">15058</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l15059" name="l15059"></a><span class="lineno">15059</span><span class="comment">// All text output from the interface can be captured into tty/file/clipboard.</span></div>
<div class="line"><a id="l15060" name="l15060"></a><span class="lineno">15060</span><span class="comment">// By default, tree nodes are automatically opened during logging.</span></div>
<div class="line"><a id="l15061" name="l15061"></a><span class="lineno">15061</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l15062" name="l15062"></a><span class="lineno">15062</span> </div>
<div class="line"><a id="l15063" name="l15063"></a><span class="lineno">15063</span><span class="comment">// Pass text data straight to log (without being displayed)</span></div>
<div class="line"><a id="l15064" name="l15064"></a><span class="lineno">15064</span><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> LogTextV(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g, <span class="keyword">const</span> <span class="keywordtype">char</span>* fmt, va_list args)</div>
<div class="line"><a id="l15065" name="l15065"></a><span class="lineno">15065</span>{</div>
<div class="line"><a id="l15066" name="l15066"></a><span class="lineno">15066</span>    <span class="keywordflow">if</span> (g.LogFile)</div>
<div class="line"><a id="l15067" name="l15067"></a><span class="lineno">15067</span>    {</div>
<div class="line"><a id="l15068" name="l15068"></a><span class="lineno">15068</span>        g.LogBuffer.Buf.resize(0);</div>
<div class="line"><a id="l15069" name="l15069"></a><span class="lineno">15069</span>        g.LogBuffer.appendfv(fmt, args);</div>
<div class="line"><a id="l15070" name="l15070"></a><span class="lineno">15070</span>        ImFileWrite(g.LogBuffer.c_str(), <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>), (ImU64)g.LogBuffer.size(), g.LogFile);</div>
<div class="line"><a id="l15071" name="l15071"></a><span class="lineno">15071</span>    }</div>
<div class="line"><a id="l15072" name="l15072"></a><span class="lineno">15072</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l15073" name="l15073"></a><span class="lineno">15073</span>    {</div>
<div class="line"><a id="l15074" name="l15074"></a><span class="lineno">15074</span>        g.LogBuffer.appendfv(fmt, args);</div>
<div class="line"><a id="l15075" name="l15075"></a><span class="lineno">15075</span>    }</div>
<div class="line"><a id="l15076" name="l15076"></a><span class="lineno">15076</span>}</div>
<div class="line"><a id="l15077" name="l15077"></a><span class="lineno">15077</span> </div>
<div class="line"><a id="l15078" name="l15078"></a><span class="lineno">15078</span><span class="keywordtype">void</span> ImGui::LogText(<span class="keyword">const</span> <span class="keywordtype">char</span>* fmt, ...)</div>
<div class="line"><a id="l15079" name="l15079"></a><span class="lineno">15079</span>{</div>
<div class="line"><a id="l15080" name="l15080"></a><span class="lineno">15080</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15081" name="l15081"></a><span class="lineno">15081</span>    <span class="keywordflow">if</span> (!g.LogEnabled)</div>
<div class="line"><a id="l15082" name="l15082"></a><span class="lineno">15082</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l15083" name="l15083"></a><span class="lineno">15083</span> </div>
<div class="line"><a id="l15084" name="l15084"></a><span class="lineno">15084</span>    va_list args;</div>
<div class="line"><a id="l15085" name="l15085"></a><span class="lineno">15085</span>    va_start(args, fmt);</div>
<div class="line"><a id="l15086" name="l15086"></a><span class="lineno">15086</span>    LogTextV(g, fmt, args);</div>
<div class="line"><a id="l15087" name="l15087"></a><span class="lineno">15087</span>    va_end(args);</div>
<div class="line"><a id="l15088" name="l15088"></a><span class="lineno">15088</span>}</div>
<div class="line"><a id="l15089" name="l15089"></a><span class="lineno">15089</span> </div>
<div class="line"><a id="l15090" name="l15090"></a><span class="lineno">15090</span><span class="keywordtype">void</span> ImGui::LogTextV(<span class="keyword">const</span> <span class="keywordtype">char</span>* fmt, va_list args)</div>
<div class="line"><a id="l15091" name="l15091"></a><span class="lineno">15091</span>{</div>
<div class="line"><a id="l15092" name="l15092"></a><span class="lineno">15092</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15093" name="l15093"></a><span class="lineno">15093</span>    <span class="keywordflow">if</span> (!g.LogEnabled)</div>
<div class="line"><a id="l15094" name="l15094"></a><span class="lineno">15094</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l15095" name="l15095"></a><span class="lineno">15095</span> </div>
<div class="line"><a id="l15096" name="l15096"></a><span class="lineno">15096</span>    LogTextV(g, fmt, args);</div>
<div class="line"><a id="l15097" name="l15097"></a><span class="lineno">15097</span>}</div>
<div class="line"><a id="l15098" name="l15098"></a><span class="lineno">15098</span> </div>
<div class="line"><a id="l15099" name="l15099"></a><span class="lineno">15099</span><span class="comment">// Internal version that takes a position to decide on newline placement and pad items according to their depth.</span></div>
<div class="line"><a id="l15100" name="l15100"></a><span class="lineno">15100</span><span class="comment">// We split text into individual lines to add current tree level padding</span></div>
<div class="line"><a id="l15101" name="l15101"></a><span class="lineno">15101</span><span class="comment">// FIXME: This code is a little complicated perhaps, considering simplifying the whole system.</span></div>
<div class="line"><a id="l15102" name="l15102"></a><span class="lineno">15102</span><span class="keywordtype">void</span> ImGui::LogRenderedText(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>* ref_pos, <span class="keyword">const</span> <span class="keywordtype">char</span>* text, <span class="keyword">const</span> <span class="keywordtype">char</span>* text_end)</div>
<div class="line"><a id="l15103" name="l15103"></a><span class="lineno">15103</span>{</div>
<div class="line"><a id="l15104" name="l15104"></a><span class="lineno">15104</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15105" name="l15105"></a><span class="lineno">15105</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l15106" name="l15106"></a><span class="lineno">15106</span> </div>
<div class="line"><a id="l15107" name="l15107"></a><span class="lineno">15107</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* prefix = g.LogNextPrefix;</div>
<div class="line"><a id="l15108" name="l15108"></a><span class="lineno">15108</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* suffix = g.LogNextSuffix;</div>
<div class="line"><a id="l15109" name="l15109"></a><span class="lineno">15109</span>    g.LogNextPrefix = g.LogNextSuffix = NULL;</div>
<div class="line"><a id="l15110" name="l15110"></a><span class="lineno">15110</span> </div>
<div class="line"><a id="l15111" name="l15111"></a><span class="lineno">15111</span>    <span class="keywordflow">if</span> (!text_end)</div>
<div class="line"><a id="l15112" name="l15112"></a><span class="lineno">15112</span>        text_end = FindRenderedTextEnd(text, text_end);</div>
<div class="line"><a id="l15113" name="l15113"></a><span class="lineno">15113</span> </div>
<div class="line"><a id="l15114" name="l15114"></a><span class="lineno">15114</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> log_new_line = ref_pos &amp;&amp; (ref_pos-&gt;y &gt; g.LogLinePosY + g.Style.FramePadding.y + 1);</div>
<div class="line"><a id="l15115" name="l15115"></a><span class="lineno">15115</span>    <span class="keywordflow">if</span> (ref_pos)</div>
<div class="line"><a id="l15116" name="l15116"></a><span class="lineno">15116</span>        g.LogLinePosY = ref_pos-&gt;y;</div>
<div class="line"><a id="l15117" name="l15117"></a><span class="lineno">15117</span>    <span class="keywordflow">if</span> (log_new_line)</div>
<div class="line"><a id="l15118" name="l15118"></a><span class="lineno">15118</span>    {</div>
<div class="line"><a id="l15119" name="l15119"></a><span class="lineno">15119</span>        LogText(IM_NEWLINE);</div>
<div class="line"><a id="l15120" name="l15120"></a><span class="lineno">15120</span>        g.LogLineFirstItem = <span class="keyword">true</span>;</div>
<div class="line"><a id="l15121" name="l15121"></a><span class="lineno">15121</span>    }</div>
<div class="line"><a id="l15122" name="l15122"></a><span class="lineno">15122</span> </div>
<div class="line"><a id="l15123" name="l15123"></a><span class="lineno">15123</span>    <span class="keywordflow">if</span> (prefix)</div>
<div class="line"><a id="l15124" name="l15124"></a><span class="lineno">15124</span>        LogRenderedText(ref_pos, prefix, prefix + ImStrlen(prefix)); <span class="comment">// Calculate end ourself to ensure &quot;##&quot; are included here.</span></div>
<div class="line"><a id="l15125" name="l15125"></a><span class="lineno">15125</span> </div>
<div class="line"><a id="l15126" name="l15126"></a><span class="lineno">15126</span>    <span class="comment">// Re-adjust padding if we have popped out of our starting depth</span></div>
<div class="line"><a id="l15127" name="l15127"></a><span class="lineno">15127</span>    <span class="keywordflow">if</span> (g.LogDepthRef &gt; window-&gt;DC.TreeDepth)</div>
<div class="line"><a id="l15128" name="l15128"></a><span class="lineno">15128</span>        g.LogDepthRef = window-&gt;DC.TreeDepth;</div>
<div class="line"><a id="l15129" name="l15129"></a><span class="lineno">15129</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> tree_depth = (window-&gt;DC.TreeDepth - g.LogDepthRef);</div>
<div class="line"><a id="l15130" name="l15130"></a><span class="lineno">15130</span> </div>
<div class="line"><a id="l15131" name="l15131"></a><span class="lineno">15131</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* text_remaining = text;</div>
<div class="line"><a id="l15132" name="l15132"></a><span class="lineno">15132</span>    <span class="keywordflow">for</span> (;;)</div>
<div class="line"><a id="l15133" name="l15133"></a><span class="lineno">15133</span>    {</div>
<div class="line"><a id="l15134" name="l15134"></a><span class="lineno">15134</span>        <span class="comment">// Split the string. Each new line (after a &#39;\n&#39;) is followed by indentation corresponding to the current depth of our log entry.</span></div>
<div class="line"><a id="l15135" name="l15135"></a><span class="lineno">15135</span>        <span class="comment">// We don&#39;t add a trailing \n yet to allow a subsequent item on the same line to be captured.</span></div>
<div class="line"><a id="l15136" name="l15136"></a><span class="lineno">15136</span>        <span class="keyword">const</span> <span class="keywordtype">char</span>* line_start = text_remaining;</div>
<div class="line"><a id="l15137" name="l15137"></a><span class="lineno">15137</span>        <span class="keyword">const</span> <span class="keywordtype">char</span>* line_end = ImStreolRange(line_start, text_end);</div>
<div class="line"><a id="l15138" name="l15138"></a><span class="lineno">15138</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_last_line = (line_end == text_end);</div>
<div class="line"><a id="l15139" name="l15139"></a><span class="lineno">15139</span>        <span class="keywordflow">if</span> (line_start != line_end || !is_last_line)</div>
<div class="line"><a id="l15140" name="l15140"></a><span class="lineno">15140</span>        {</div>
<div class="line"><a id="l15141" name="l15141"></a><span class="lineno">15141</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> line_length = (int)(line_end - line_start);</div>
<div class="line"><a id="l15142" name="l15142"></a><span class="lineno">15142</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> indentation = g.LogLineFirstItem ? tree_depth * 4 : 1;</div>
<div class="line"><a id="l15143" name="l15143"></a><span class="lineno">15143</span>            LogText(<span class="stringliteral">&quot;%*s%.*s&quot;</span>, indentation, <span class="stringliteral">&quot;&quot;</span>, line_length, line_start);</div>
<div class="line"><a id="l15144" name="l15144"></a><span class="lineno">15144</span>            g.LogLineFirstItem = <span class="keyword">false</span>;</div>
<div class="line"><a id="l15145" name="l15145"></a><span class="lineno">15145</span>            <span class="keywordflow">if</span> (*line_end == <span class="charliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a id="l15146" name="l15146"></a><span class="lineno">15146</span>            {</div>
<div class="line"><a id="l15147" name="l15147"></a><span class="lineno">15147</span>                LogText(IM_NEWLINE);</div>
<div class="line"><a id="l15148" name="l15148"></a><span class="lineno">15148</span>                g.LogLineFirstItem = <span class="keyword">true</span>;</div>
<div class="line"><a id="l15149" name="l15149"></a><span class="lineno">15149</span>            }</div>
<div class="line"><a id="l15150" name="l15150"></a><span class="lineno">15150</span>        }</div>
<div class="line"><a id="l15151" name="l15151"></a><span class="lineno">15151</span>        <span class="keywordflow">if</span> (is_last_line)</div>
<div class="line"><a id="l15152" name="l15152"></a><span class="lineno">15152</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l15153" name="l15153"></a><span class="lineno">15153</span>        text_remaining = line_end + 1;</div>
<div class="line"><a id="l15154" name="l15154"></a><span class="lineno">15154</span>    }</div>
<div class="line"><a id="l15155" name="l15155"></a><span class="lineno">15155</span> </div>
<div class="line"><a id="l15156" name="l15156"></a><span class="lineno">15156</span>    <span class="keywordflow">if</span> (suffix)</div>
<div class="line"><a id="l15157" name="l15157"></a><span class="lineno">15157</span>        LogRenderedText(ref_pos, suffix, suffix + ImStrlen(suffix));</div>
<div class="line"><a id="l15158" name="l15158"></a><span class="lineno">15158</span>}</div>
<div class="line"><a id="l15159" name="l15159"></a><span class="lineno">15159</span> </div>
<div class="line"><a id="l15160" name="l15160"></a><span class="lineno">15160</span><span class="comment">// Start logging/capturing text output</span></div>
<div class="line"><a id="l15161" name="l15161"></a><span class="lineno">15161</span><span class="keywordtype">void</span> ImGui::LogBegin(ImGuiLogFlags flags, <span class="keywordtype">int</span> auto_open_depth)</div>
<div class="line"><a id="l15162" name="l15162"></a><span class="lineno">15162</span>{</div>
<div class="line"><a id="l15163" name="l15163"></a><span class="lineno">15163</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15164" name="l15164"></a><span class="lineno">15164</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l15165" name="l15165"></a><span class="lineno">15165</span>    IM_ASSERT(g.LogEnabled == <span class="keyword">false</span>);</div>
<div class="line"><a id="l15166" name="l15166"></a><span class="lineno">15166</span>    IM_ASSERT(g.LogFile == NULL &amp;&amp; g.LogBuffer.empty());</div>
<div class="line"><a id="l15167" name="l15167"></a><span class="lineno">15167</span>    IM_ASSERT(ImIsPowerOfTwo(flags &amp; ImGuiLogFlags_OutputMask_)); <span class="comment">// Check that only 1 type flag is used</span></div>
<div class="line"><a id="l15168" name="l15168"></a><span class="lineno">15168</span> </div>
<div class="line"><a id="l15169" name="l15169"></a><span class="lineno">15169</span>    g.LogEnabled = g.ItemUnclipByLog = <span class="keyword">true</span>;</div>
<div class="line"><a id="l15170" name="l15170"></a><span class="lineno">15170</span>    g.LogFlags = flags;</div>
<div class="line"><a id="l15171" name="l15171"></a><span class="lineno">15171</span>    g.LogWindow = window;</div>
<div class="line"><a id="l15172" name="l15172"></a><span class="lineno">15172</span>    g.LogNextPrefix = g.LogNextSuffix = NULL;</div>
<div class="line"><a id="l15173" name="l15173"></a><span class="lineno">15173</span>    g.LogDepthRef = window-&gt;DC.TreeDepth;</div>
<div class="line"><a id="l15174" name="l15174"></a><span class="lineno">15174</span>    g.LogDepthToExpand = ((auto_open_depth &gt;= 0) ? auto_open_depth : g.LogDepthToExpandDefault);</div>
<div class="line"><a id="l15175" name="l15175"></a><span class="lineno">15175</span>    g.LogLinePosY = FLT_MAX;</div>
<div class="line"><a id="l15176" name="l15176"></a><span class="lineno">15176</span>    g.LogLineFirstItem = <span class="keyword">true</span>;</div>
<div class="line"><a id="l15177" name="l15177"></a><span class="lineno">15177</span>}</div>
<div class="line"><a id="l15178" name="l15178"></a><span class="lineno">15178</span> </div>
<div class="line"><a id="l15179" name="l15179"></a><span class="lineno">15179</span><span class="comment">// Important: doesn&#39;t copy underlying data, use carefully (prefix/suffix must be in scope at the time of the next LogRenderedText)</span></div>
<div class="line"><a id="l15180" name="l15180"></a><span class="lineno">15180</span><span class="keywordtype">void</span> ImGui::LogSetNextTextDecoration(<span class="keyword">const</span> <span class="keywordtype">char</span>* prefix, <span class="keyword">const</span> <span class="keywordtype">char</span>* suffix)</div>
<div class="line"><a id="l15181" name="l15181"></a><span class="lineno">15181</span>{</div>
<div class="line"><a id="l15182" name="l15182"></a><span class="lineno">15182</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15183" name="l15183"></a><span class="lineno">15183</span>    g.LogNextPrefix = prefix;</div>
<div class="line"><a id="l15184" name="l15184"></a><span class="lineno">15184</span>    g.LogNextSuffix = suffix;</div>
<div class="line"><a id="l15185" name="l15185"></a><span class="lineno">15185</span>}</div>
<div class="line"><a id="l15186" name="l15186"></a><span class="lineno">15186</span> </div>
<div class="line"><a id="l15187" name="l15187"></a><span class="lineno">15187</span><span class="keywordtype">void</span> ImGui::LogToTTY(<span class="keywordtype">int</span> auto_open_depth)</div>
<div class="line"><a id="l15188" name="l15188"></a><span class="lineno">15188</span>{</div>
<div class="line"><a id="l15189" name="l15189"></a><span class="lineno">15189</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15190" name="l15190"></a><span class="lineno">15190</span>    <span class="keywordflow">if</span> (g.LogEnabled)</div>
<div class="line"><a id="l15191" name="l15191"></a><span class="lineno">15191</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l15192" name="l15192"></a><span class="lineno">15192</span>    IM_UNUSED(auto_open_depth);</div>
<div class="line"><a id="l15193" name="l15193"></a><span class="lineno">15193</span><span class="preprocessor">#ifndef IMGUI_DISABLE_TTY_FUNCTIONS</span></div>
<div class="line"><a id="l15194" name="l15194"></a><span class="lineno">15194</span>    LogBegin(ImGuiLogFlags_OutputTTY, auto_open_depth);</div>
<div class="line"><a id="l15195" name="l15195"></a><span class="lineno">15195</span>    g.LogFile = stdout;</div>
<div class="line"><a id="l15196" name="l15196"></a><span class="lineno">15196</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l15197" name="l15197"></a><span class="lineno">15197</span>}</div>
<div class="line"><a id="l15198" name="l15198"></a><span class="lineno">15198</span> </div>
<div class="line"><a id="l15199" name="l15199"></a><span class="lineno">15199</span><span class="comment">// Start logging/capturing text output to given file</span></div>
<div class="line"><a id="l15200" name="l15200"></a><span class="lineno">15200</span><span class="keywordtype">void</span> ImGui::LogToFile(<span class="keywordtype">int</span> auto_open_depth, <span class="keyword">const</span> <span class="keywordtype">char</span>* filename)</div>
<div class="line"><a id="l15201" name="l15201"></a><span class="lineno">15201</span>{</div>
<div class="line"><a id="l15202" name="l15202"></a><span class="lineno">15202</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15203" name="l15203"></a><span class="lineno">15203</span>    <span class="keywordflow">if</span> (g.LogEnabled)</div>
<div class="line"><a id="l15204" name="l15204"></a><span class="lineno">15204</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l15205" name="l15205"></a><span class="lineno">15205</span> </div>
<div class="line"><a id="l15206" name="l15206"></a><span class="lineno">15206</span>    <span class="comment">// FIXME: We could probably open the file in text mode &quot;at&quot;, however note that clipboard/buffer logging will still</span></div>
<div class="line"><a id="l15207" name="l15207"></a><span class="lineno">15207</span>    <span class="comment">// be subject to outputting OS-incompatible carriage return if within strings the user doesn&#39;t use IM_NEWLINE.</span></div>
<div class="line"><a id="l15208" name="l15208"></a><span class="lineno">15208</span>    <span class="comment">// By opening the file in binary mode &quot;ab&quot; we have consistent output everywhere.</span></div>
<div class="line"><a id="l15209" name="l15209"></a><span class="lineno">15209</span>    <span class="keywordflow">if</span> (!filename)</div>
<div class="line"><a id="l15210" name="l15210"></a><span class="lineno">15210</span>        filename = g.IO.LogFilename;</div>
<div class="line"><a id="l15211" name="l15211"></a><span class="lineno">15211</span>    <span class="keywordflow">if</span> (!filename || !filename[0])</div>
<div class="line"><a id="l15212" name="l15212"></a><span class="lineno">15212</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l15213" name="l15213"></a><span class="lineno">15213</span>    ImFileHandle f = ImFileOpen(filename, <span class="stringliteral">&quot;ab&quot;</span>);</div>
<div class="line"><a id="l15214" name="l15214"></a><span class="lineno">15214</span>    <span class="keywordflow">if</span> (!f)</div>
<div class="line"><a id="l15215" name="l15215"></a><span class="lineno">15215</span>    {</div>
<div class="line"><a id="l15216" name="l15216"></a><span class="lineno">15216</span>        IM_ASSERT(0);</div>
<div class="line"><a id="l15217" name="l15217"></a><span class="lineno">15217</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l15218" name="l15218"></a><span class="lineno">15218</span>    }</div>
<div class="line"><a id="l15219" name="l15219"></a><span class="lineno">15219</span> </div>
<div class="line"><a id="l15220" name="l15220"></a><span class="lineno">15220</span>    LogBegin(ImGuiLogFlags_OutputFile, auto_open_depth);</div>
<div class="line"><a id="l15221" name="l15221"></a><span class="lineno">15221</span>    g.LogFile = f;</div>
<div class="line"><a id="l15222" name="l15222"></a><span class="lineno">15222</span>}</div>
<div class="line"><a id="l15223" name="l15223"></a><span class="lineno">15223</span> </div>
<div class="line"><a id="l15224" name="l15224"></a><span class="lineno">15224</span><span class="comment">// Start logging/capturing text output to clipboard</span></div>
<div class="line"><a id="l15225" name="l15225"></a><span class="lineno">15225</span><span class="keywordtype">void</span> ImGui::LogToClipboard(<span class="keywordtype">int</span> auto_open_depth)</div>
<div class="line"><a id="l15226" name="l15226"></a><span class="lineno">15226</span>{</div>
<div class="line"><a id="l15227" name="l15227"></a><span class="lineno">15227</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15228" name="l15228"></a><span class="lineno">15228</span>    <span class="keywordflow">if</span> (g.LogEnabled)</div>
<div class="line"><a id="l15229" name="l15229"></a><span class="lineno">15229</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l15230" name="l15230"></a><span class="lineno">15230</span>    LogBegin(ImGuiLogFlags_OutputClipboard, auto_open_depth);</div>
<div class="line"><a id="l15231" name="l15231"></a><span class="lineno">15231</span>}</div>
<div class="line"><a id="l15232" name="l15232"></a><span class="lineno">15232</span> </div>
<div class="line"><a id="l15233" name="l15233"></a><span class="lineno">15233</span><span class="keywordtype">void</span> ImGui::LogToBuffer(<span class="keywordtype">int</span> auto_open_depth)</div>
<div class="line"><a id="l15234" name="l15234"></a><span class="lineno">15234</span>{</div>
<div class="line"><a id="l15235" name="l15235"></a><span class="lineno">15235</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15236" name="l15236"></a><span class="lineno">15236</span>    <span class="keywordflow">if</span> (g.LogEnabled)</div>
<div class="line"><a id="l15237" name="l15237"></a><span class="lineno">15237</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l15238" name="l15238"></a><span class="lineno">15238</span>    LogBegin(ImGuiLogFlags_OutputBuffer, auto_open_depth);</div>
<div class="line"><a id="l15239" name="l15239"></a><span class="lineno">15239</span>}</div>
<div class="line"><a id="l15240" name="l15240"></a><span class="lineno">15240</span> </div>
<div class="line"><a id="l15241" name="l15241"></a><span class="lineno">15241</span><span class="keywordtype">void</span> ImGui::LogFinish()</div>
<div class="line"><a id="l15242" name="l15242"></a><span class="lineno">15242</span>{</div>
<div class="line"><a id="l15243" name="l15243"></a><span class="lineno">15243</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15244" name="l15244"></a><span class="lineno">15244</span>    <span class="keywordflow">if</span> (!g.LogEnabled)</div>
<div class="line"><a id="l15245" name="l15245"></a><span class="lineno">15245</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l15246" name="l15246"></a><span class="lineno">15246</span> </div>
<div class="line"><a id="l15247" name="l15247"></a><span class="lineno">15247</span>    LogText(IM_NEWLINE);</div>
<div class="line"><a id="l15248" name="l15248"></a><span class="lineno">15248</span>    <span class="keywordflow">switch</span> (g.LogFlags &amp; ImGuiLogFlags_OutputMask_)</div>
<div class="line"><a id="l15249" name="l15249"></a><span class="lineno">15249</span>    {</div>
<div class="line"><a id="l15250" name="l15250"></a><span class="lineno">15250</span>    <span class="keywordflow">case</span> ImGuiLogFlags_OutputTTY:</div>
<div class="line"><a id="l15251" name="l15251"></a><span class="lineno">15251</span><span class="preprocessor">#ifndef IMGUI_DISABLE_TTY_FUNCTIONS</span></div>
<div class="line"><a id="l15252" name="l15252"></a><span class="lineno">15252</span>        fflush(g.LogFile);</div>
<div class="line"><a id="l15253" name="l15253"></a><span class="lineno">15253</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l15254" name="l15254"></a><span class="lineno">15254</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l15255" name="l15255"></a><span class="lineno">15255</span>    <span class="keywordflow">case</span> ImGuiLogFlags_OutputFile:</div>
<div class="line"><a id="l15256" name="l15256"></a><span class="lineno">15256</span>        ImFileClose(g.LogFile);</div>
<div class="line"><a id="l15257" name="l15257"></a><span class="lineno">15257</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l15258" name="l15258"></a><span class="lineno">15258</span>    <span class="keywordflow">case</span> ImGuiLogFlags_OutputBuffer:</div>
<div class="line"><a id="l15259" name="l15259"></a><span class="lineno">15259</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l15260" name="l15260"></a><span class="lineno">15260</span>    <span class="keywordflow">case</span> ImGuiLogFlags_OutputClipboard:</div>
<div class="line"><a id="l15261" name="l15261"></a><span class="lineno">15261</span>        <span class="keywordflow">if</span> (!g.LogBuffer.empty())</div>
<div class="line"><a id="l15262" name="l15262"></a><span class="lineno">15262</span>            SetClipboardText(g.LogBuffer.begin());</div>
<div class="line"><a id="l15263" name="l15263"></a><span class="lineno">15263</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l15264" name="l15264"></a><span class="lineno">15264</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l15265" name="l15265"></a><span class="lineno">15265</span>        IM_ASSERT(0);</div>
<div class="line"><a id="l15266" name="l15266"></a><span class="lineno">15266</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l15267" name="l15267"></a><span class="lineno">15267</span>    }</div>
<div class="line"><a id="l15268" name="l15268"></a><span class="lineno">15268</span> </div>
<div class="line"><a id="l15269" name="l15269"></a><span class="lineno">15269</span>    g.LogEnabled = g.ItemUnclipByLog = <span class="keyword">false</span>;</div>
<div class="line"><a id="l15270" name="l15270"></a><span class="lineno">15270</span>    g.LogFlags = ImGuiLogFlags_None;</div>
<div class="line"><a id="l15271" name="l15271"></a><span class="lineno">15271</span>    g.LogFile = NULL;</div>
<div class="line"><a id="l15272" name="l15272"></a><span class="lineno">15272</span>    g.LogBuffer.clear();</div>
<div class="line"><a id="l15273" name="l15273"></a><span class="lineno">15273</span>}</div>
<div class="line"><a id="l15274" name="l15274"></a><span class="lineno">15274</span> </div>
<div class="line"><a id="l15275" name="l15275"></a><span class="lineno">15275</span><span class="comment">// Helper to display logging buttons</span></div>
<div class="line"><a id="l15276" name="l15276"></a><span class="lineno">15276</span><span class="comment">// FIXME-OBSOLETE: We should probably obsolete this and let the user have their own helper (this is one of the oldest function alive!)</span></div>
<div class="line"><a id="l15277" name="l15277"></a><span class="lineno">15277</span><span class="keywordtype">void</span> ImGui::LogButtons()</div>
<div class="line"><a id="l15278" name="l15278"></a><span class="lineno">15278</span>{</div>
<div class="line"><a id="l15279" name="l15279"></a><span class="lineno">15279</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15280" name="l15280"></a><span class="lineno">15280</span> </div>
<div class="line"><a id="l15281" name="l15281"></a><span class="lineno">15281</span>    PushID(<span class="stringliteral">&quot;LogButtons&quot;</span>);</div>
<div class="line"><a id="l15282" name="l15282"></a><span class="lineno">15282</span><span class="preprocessor">#ifndef IMGUI_DISABLE_TTY_FUNCTIONS</span></div>
<div class="line"><a id="l15283" name="l15283"></a><span class="lineno">15283</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> log_to_tty = Button(<span class="stringliteral">&quot;Log To TTY&quot;</span>); SameLine();</div>
<div class="line"><a id="l15284" name="l15284"></a><span class="lineno">15284</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l15285" name="l15285"></a><span class="lineno">15285</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> log_to_tty = <span class="keyword">false</span>;</div>
<div class="line"><a id="l15286" name="l15286"></a><span class="lineno">15286</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l15287" name="l15287"></a><span class="lineno">15287</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> log_to_file = Button(<span class="stringliteral">&quot;Log To File&quot;</span>); SameLine();</div>
<div class="line"><a id="l15288" name="l15288"></a><span class="lineno">15288</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> log_to_clipboard = Button(<span class="stringliteral">&quot;Log To Clipboard&quot;</span>); SameLine();</div>
<div class="line"><a id="l15289" name="l15289"></a><span class="lineno">15289</span>    PushItemFlag(ImGuiItemFlags_NoTabStop, <span class="keyword">true</span>);</div>
<div class="line"><a id="l15290" name="l15290"></a><span class="lineno">15290</span>    SetNextItemWidth(80.0f);</div>
<div class="line"><a id="l15291" name="l15291"></a><span class="lineno">15291</span>    SliderInt(<span class="stringliteral">&quot;Default Depth&quot;</span>, &amp;g.LogDepthToExpandDefault, 0, 9, NULL);</div>
<div class="line"><a id="l15292" name="l15292"></a><span class="lineno">15292</span>    PopItemFlag();</div>
<div class="line"><a id="l15293" name="l15293"></a><span class="lineno">15293</span>    PopID();</div>
<div class="line"><a id="l15294" name="l15294"></a><span class="lineno">15294</span> </div>
<div class="line"><a id="l15295" name="l15295"></a><span class="lineno">15295</span>    <span class="comment">// Start logging at the end of the function so that the buttons don&#39;t appear in the log</span></div>
<div class="line"><a id="l15296" name="l15296"></a><span class="lineno">15296</span>    <span class="keywordflow">if</span> (log_to_tty)</div>
<div class="line"><a id="l15297" name="l15297"></a><span class="lineno">15297</span>        LogToTTY();</div>
<div class="line"><a id="l15298" name="l15298"></a><span class="lineno">15298</span>    <span class="keywordflow">if</span> (log_to_file)</div>
<div class="line"><a id="l15299" name="l15299"></a><span class="lineno">15299</span>        LogToFile();</div>
<div class="line"><a id="l15300" name="l15300"></a><span class="lineno">15300</span>    <span class="keywordflow">if</span> (log_to_clipboard)</div>
<div class="line"><a id="l15301" name="l15301"></a><span class="lineno">15301</span>        LogToClipboard();</div>
<div class="line"><a id="l15302" name="l15302"></a><span class="lineno">15302</span>}</div>
<div class="line"><a id="l15303" name="l15303"></a><span class="lineno">15303</span> </div>
<div class="line"><a id="l15304" name="l15304"></a><span class="lineno">15304</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l15305" name="l15305"></a><span class="lineno">15305</span><span class="comment">// [SECTION] SETTINGS</span></div>
<div class="line"><a id="l15306" name="l15306"></a><span class="lineno">15306</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l15307" name="l15307"></a><span class="lineno">15307</span><span class="comment">// - UpdateSettings() [Internal]</span></div>
<div class="line"><a id="l15308" name="l15308"></a><span class="lineno">15308</span><span class="comment">// - MarkIniSettingsDirty() [Internal]</span></div>
<div class="line"><a id="l15309" name="l15309"></a><span class="lineno">15309</span><span class="comment">// - FindSettingsHandler() [Internal]</span></div>
<div class="line"><a id="l15310" name="l15310"></a><span class="lineno">15310</span><span class="comment">// - ClearIniSettings() [Internal]</span></div>
<div class="line"><a id="l15311" name="l15311"></a><span class="lineno">15311</span><span class="comment">// - LoadIniSettingsFromDisk()</span></div>
<div class="line"><a id="l15312" name="l15312"></a><span class="lineno">15312</span><span class="comment">// - LoadIniSettingsFromMemory()</span></div>
<div class="line"><a id="l15313" name="l15313"></a><span class="lineno">15313</span><span class="comment">// - SaveIniSettingsToDisk()</span></div>
<div class="line"><a id="l15314" name="l15314"></a><span class="lineno">15314</span><span class="comment">// - SaveIniSettingsToMemory()</span></div>
<div class="line"><a id="l15315" name="l15315"></a><span class="lineno">15315</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l15316" name="l15316"></a><span class="lineno">15316</span><span class="comment">// - CreateNewWindowSettings() [Internal]</span></div>
<div class="line"><a id="l15317" name="l15317"></a><span class="lineno">15317</span><span class="comment">// - FindWindowSettingsByID() [Internal]</span></div>
<div class="line"><a id="l15318" name="l15318"></a><span class="lineno">15318</span><span class="comment">// - FindWindowSettingsByWindow() [Internal]</span></div>
<div class="line"><a id="l15319" name="l15319"></a><span class="lineno">15319</span><span class="comment">// - ClearWindowSettings() [Internal]</span></div>
<div class="line"><a id="l15320" name="l15320"></a><span class="lineno">15320</span><span class="comment">// - WindowSettingsHandler_***() [Internal]</span></div>
<div class="line"><a id="l15321" name="l15321"></a><span class="lineno">15321</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l15322" name="l15322"></a><span class="lineno">15322</span> </div>
<div class="line"><a id="l15323" name="l15323"></a><span class="lineno">15323</span><span class="comment">// Called by NewFrame()</span></div>
<div class="line"><a id="l15324" name="l15324"></a><span class="lineno">15324</span><span class="keywordtype">void</span> ImGui::UpdateSettings()</div>
<div class="line"><a id="l15325" name="l15325"></a><span class="lineno">15325</span>{</div>
<div class="line"><a id="l15326" name="l15326"></a><span class="lineno">15326</span>    <span class="comment">// Load settings on first frame (if not explicitly loaded manually before)</span></div>
<div class="line"><a id="l15327" name="l15327"></a><span class="lineno">15327</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15328" name="l15328"></a><span class="lineno">15328</span>    <span class="keywordflow">if</span> (!g.SettingsLoaded)</div>
<div class="line"><a id="l15329" name="l15329"></a><span class="lineno">15329</span>    {</div>
<div class="line"><a id="l15330" name="l15330"></a><span class="lineno">15330</span>        IM_ASSERT(g.SettingsWindows.empty());</div>
<div class="line"><a id="l15331" name="l15331"></a><span class="lineno">15331</span>        <span class="keywordflow">if</span> (g.IO.IniFilename)</div>
<div class="line"><a id="l15332" name="l15332"></a><span class="lineno">15332</span>            LoadIniSettingsFromDisk(g.IO.IniFilename);</div>
<div class="line"><a id="l15333" name="l15333"></a><span class="lineno">15333</span>        g.SettingsLoaded = <span class="keyword">true</span>;</div>
<div class="line"><a id="l15334" name="l15334"></a><span class="lineno">15334</span>    }</div>
<div class="line"><a id="l15335" name="l15335"></a><span class="lineno">15335</span> </div>
<div class="line"><a id="l15336" name="l15336"></a><span class="lineno">15336</span>    <span class="comment">// Save settings (with a delay after the last modification, so we don&#39;t spam disk too much)</span></div>
<div class="line"><a id="l15337" name="l15337"></a><span class="lineno">15337</span>    <span class="keywordflow">if</span> (g.SettingsDirtyTimer &gt; 0.0f)</div>
<div class="line"><a id="l15338" name="l15338"></a><span class="lineno">15338</span>    {</div>
<div class="line"><a id="l15339" name="l15339"></a><span class="lineno">15339</span>        g.SettingsDirtyTimer -= g.IO.DeltaTime;</div>
<div class="line"><a id="l15340" name="l15340"></a><span class="lineno">15340</span>        <span class="keywordflow">if</span> (g.SettingsDirtyTimer &lt;= 0.0f)</div>
<div class="line"><a id="l15341" name="l15341"></a><span class="lineno">15341</span>        {</div>
<div class="line"><a id="l15342" name="l15342"></a><span class="lineno">15342</span>            <span class="keywordflow">if</span> (g.IO.IniFilename != NULL)</div>
<div class="line"><a id="l15343" name="l15343"></a><span class="lineno">15343</span>                SaveIniSettingsToDisk(g.IO.IniFilename);</div>
<div class="line"><a id="l15344" name="l15344"></a><span class="lineno">15344</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l15345" name="l15345"></a><span class="lineno">15345</span>                g.IO.WantSaveIniSettings = <span class="keyword">true</span>;  <span class="comment">// Let user know they can call SaveIniSettingsToMemory(). user will need to clear io.WantSaveIniSettings themselves.</span></div>
<div class="line"><a id="l15346" name="l15346"></a><span class="lineno">15346</span>            g.SettingsDirtyTimer = 0.0f;</div>
<div class="line"><a id="l15347" name="l15347"></a><span class="lineno">15347</span>        }</div>
<div class="line"><a id="l15348" name="l15348"></a><span class="lineno">15348</span>    }</div>
<div class="line"><a id="l15349" name="l15349"></a><span class="lineno">15349</span>}</div>
<div class="line"><a id="l15350" name="l15350"></a><span class="lineno">15350</span> </div>
<div class="line"><a id="l15351" name="l15351"></a><span class="lineno">15351</span><span class="keywordtype">void</span> ImGui::MarkIniSettingsDirty()</div>
<div class="line"><a id="l15352" name="l15352"></a><span class="lineno">15352</span>{</div>
<div class="line"><a id="l15353" name="l15353"></a><span class="lineno">15353</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15354" name="l15354"></a><span class="lineno">15354</span>    <span class="keywordflow">if</span> (g.SettingsDirtyTimer &lt;= 0.0f)</div>
<div class="line"><a id="l15355" name="l15355"></a><span class="lineno">15355</span>        g.SettingsDirtyTimer = g.IO.IniSavingRate;</div>
<div class="line"><a id="l15356" name="l15356"></a><span class="lineno">15356</span>}</div>
<div class="line"><a id="l15357" name="l15357"></a><span class="lineno">15357</span> </div>
<div class="line"><a id="l15358" name="l15358"></a><span class="lineno">15358</span><span class="keywordtype">void</span> ImGui::MarkIniSettingsDirty(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l15359" name="l15359"></a><span class="lineno">15359</span>{</div>
<div class="line"><a id="l15360" name="l15360"></a><span class="lineno">15360</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15361" name="l15361"></a><span class="lineno">15361</span>    <span class="keywordflow">if</span> (!(window-&gt;Flags &amp; ImGuiWindowFlags_NoSavedSettings))</div>
<div class="line"><a id="l15362" name="l15362"></a><span class="lineno">15362</span>        <span class="keywordflow">if</span> (g.SettingsDirtyTimer &lt;= 0.0f)</div>
<div class="line"><a id="l15363" name="l15363"></a><span class="lineno">15363</span>            g.SettingsDirtyTimer = g.IO.IniSavingRate;</div>
<div class="line"><a id="l15364" name="l15364"></a><span class="lineno">15364</span>}</div>
<div class="line"><a id="l15365" name="l15365"></a><span class="lineno">15365</span> </div>
<div class="line"><a id="l15366" name="l15366"></a><span class="lineno">15366</span><span class="keywordtype">void</span> ImGui::AddSettingsHandler(<span class="keyword">const</span> <a class="code hl_struct" href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a>* handler)</div>
<div class="line"><a id="l15367" name="l15367"></a><span class="lineno">15367</span>{</div>
<div class="line"><a id="l15368" name="l15368"></a><span class="lineno">15368</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15369" name="l15369"></a><span class="lineno">15369</span>    IM_ASSERT(FindSettingsHandler(handler-&gt;TypeName) == NULL);</div>
<div class="line"><a id="l15370" name="l15370"></a><span class="lineno">15370</span>    g.SettingsHandlers.push_back(*handler);</div>
<div class="line"><a id="l15371" name="l15371"></a><span class="lineno">15371</span>}</div>
<div class="line"><a id="l15372" name="l15372"></a><span class="lineno">15372</span> </div>
<div class="line"><a id="l15373" name="l15373"></a><span class="lineno">15373</span><span class="keywordtype">void</span> ImGui::RemoveSettingsHandler(<span class="keyword">const</span> <span class="keywordtype">char</span>* type_name)</div>
<div class="line"><a id="l15374" name="l15374"></a><span class="lineno">15374</span>{</div>
<div class="line"><a id="l15375" name="l15375"></a><span class="lineno">15375</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15376" name="l15376"></a><span class="lineno">15376</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a>* handler = FindSettingsHandler(type_name))</div>
<div class="line"><a id="l15377" name="l15377"></a><span class="lineno">15377</span>        g.SettingsHandlers.erase(handler);</div>
<div class="line"><a id="l15378" name="l15378"></a><span class="lineno">15378</span>}</div>
<div class="line"><a id="l15379" name="l15379"></a><span class="lineno">15379</span> </div>
<div class="line"><a id="l15380" name="l15380"></a><span class="lineno">15380</span><a class="code hl_struct" href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a>* ImGui::FindSettingsHandler(<span class="keyword">const</span> <span class="keywordtype">char</span>* type_name)</div>
<div class="line"><a id="l15381" name="l15381"></a><span class="lineno">15381</span>{</div>
<div class="line"><a id="l15382" name="l15382"></a><span class="lineno">15382</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15383" name="l15383"></a><span class="lineno">15383</span>    <span class="keyword">const</span> ImGuiID type_hash = ImHashStr(type_name);</div>
<div class="line"><a id="l15384" name="l15384"></a><span class="lineno">15384</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a>&amp; handler : g.SettingsHandlers)</div>
<div class="line"><a id="l15385" name="l15385"></a><span class="lineno">15385</span>        if (handler.TypeHash == type_hash)</div>
<div class="line"><a id="l15386" name="l15386"></a><span class="lineno">15386</span>            return &amp;handler;</div>
<div class="line"><a id="l15387" name="l15387"></a><span class="lineno">15387</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l15388" name="l15388"></a><span class="lineno">15388</span>}</div>
<div class="line"><a id="l15389" name="l15389"></a><span class="lineno">15389</span> </div>
<div class="line"><a id="l15390" name="l15390"></a><span class="lineno">15390</span><span class="comment">// Clear all settings (windows, tables, docking etc.)</span></div>
<div class="line"><a id="l15391" name="l15391"></a><span class="lineno">15391</span><span class="keywordtype">void</span> ImGui::ClearIniSettings()</div>
<div class="line"><a id="l15392" name="l15392"></a><span class="lineno">15392</span>{</div>
<div class="line"><a id="l15393" name="l15393"></a><span class="lineno">15393</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15394" name="l15394"></a><span class="lineno">15394</span>    g.SettingsIniData.clear();</div>
<div class="line"><a id="l15395" name="l15395"></a><span class="lineno">15395</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a>&amp; handler : g.SettingsHandlers)</div>
<div class="line"><a id="l15396" name="l15396"></a><span class="lineno">15396</span>        if (handler.ClearAllFn != NULL)</div>
<div class="line"><a id="l15397" name="l15397"></a><span class="lineno">15397</span>            handler.ClearAllFn(&amp;g, &amp;handler);</div>
<div class="line"><a id="l15398" name="l15398"></a><span class="lineno">15398</span>}</div>
<div class="line"><a id="l15399" name="l15399"></a><span class="lineno">15399</span> </div>
<div class="line"><a id="l15400" name="l15400"></a><span class="lineno">15400</span><span class="keywordtype">void</span> ImGui::LoadIniSettingsFromDisk(<span class="keyword">const</span> <span class="keywordtype">char</span>* ini_filename)</div>
<div class="line"><a id="l15401" name="l15401"></a><span class="lineno">15401</span>{</div>
<div class="line"><a id="l15402" name="l15402"></a><span class="lineno">15402</span>    <span class="keywordtype">size_t</span> file_data_size = 0;</div>
<div class="line"><a id="l15403" name="l15403"></a><span class="lineno">15403</span>    <span class="keywordtype">char</span>* file_data = (<span class="keywordtype">char</span>*)ImFileLoadToMemory(ini_filename, <span class="stringliteral">&quot;rb&quot;</span>, &amp;file_data_size);</div>
<div class="line"><a id="l15404" name="l15404"></a><span class="lineno">15404</span>    <span class="keywordflow">if</span> (!file_data)</div>
<div class="line"><a id="l15405" name="l15405"></a><span class="lineno">15405</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l15406" name="l15406"></a><span class="lineno">15406</span>    <span class="keywordflow">if</span> (file_data_size &gt; 0)</div>
<div class="line"><a id="l15407" name="l15407"></a><span class="lineno">15407</span>        LoadIniSettingsFromMemory(file_data, (<span class="keywordtype">size_t</span>)file_data_size);</div>
<div class="line"><a id="l15408" name="l15408"></a><span class="lineno">15408</span>    IM_FREE(file_data);</div>
<div class="line"><a id="l15409" name="l15409"></a><span class="lineno">15409</span>}</div>
<div class="line"><a id="l15410" name="l15410"></a><span class="lineno">15410</span> </div>
<div class="line"><a id="l15411" name="l15411"></a><span class="lineno">15411</span><span class="comment">// Zero-tolerance, no error reporting, cheap .ini parsing</span></div>
<div class="line"><a id="l15412" name="l15412"></a><span class="lineno">15412</span><span class="comment">// Set ini_size==0 to let us use strlen(ini_data). Do not call this function with a 0 if your buffer is actually empty!</span></div>
<div class="line"><a id="l15413" name="l15413"></a><span class="lineno">15413</span><span class="keywordtype">void</span> ImGui::LoadIniSettingsFromMemory(<span class="keyword">const</span> <span class="keywordtype">char</span>* ini_data, <span class="keywordtype">size_t</span> ini_size)</div>
<div class="line"><a id="l15414" name="l15414"></a><span class="lineno">15414</span>{</div>
<div class="line"><a id="l15415" name="l15415"></a><span class="lineno">15415</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15416" name="l15416"></a><span class="lineno">15416</span>    IM_ASSERT(g.Initialized);</div>
<div class="line"><a id="l15417" name="l15417"></a><span class="lineno">15417</span>    <span class="comment">//IM_ASSERT(!g.WithinFrameScope &amp;&amp; &quot;Cannot be called between NewFrame() and EndFrame()&quot;);</span></div>
<div class="line"><a id="l15418" name="l15418"></a><span class="lineno">15418</span>    <span class="comment">//IM_ASSERT(g.SettingsLoaded == false &amp;&amp; g.FrameCount == 0);</span></div>
<div class="line"><a id="l15419" name="l15419"></a><span class="lineno">15419</span> </div>
<div class="line"><a id="l15420" name="l15420"></a><span class="lineno">15420</span>    <span class="comment">// For user convenience, we allow passing a non zero-terminated string (hence the ini_size parameter).</span></div>
<div class="line"><a id="l15421" name="l15421"></a><span class="lineno">15421</span>    <span class="comment">// For our convenience and to make the code simpler, we&#39;ll also write zero-terminators within the buffer. So let&#39;s create a writable copy..</span></div>
<div class="line"><a id="l15422" name="l15422"></a><span class="lineno">15422</span>    <span class="keywordflow">if</span> (ini_size == 0)</div>
<div class="line"><a id="l15423" name="l15423"></a><span class="lineno">15423</span>        ini_size = ImStrlen(ini_data);</div>
<div class="line"><a id="l15424" name="l15424"></a><span class="lineno">15424</span>    g.SettingsIniData.Buf.resize((<span class="keywordtype">int</span>)ini_size + 1);</div>
<div class="line"><a id="l15425" name="l15425"></a><span class="lineno">15425</span>    <span class="keywordtype">char</span>* <span class="keyword">const</span> buf = g.SettingsIniData.Buf.Data;</div>
<div class="line"><a id="l15426" name="l15426"></a><span class="lineno">15426</span>    <span class="keywordtype">char</span>* <span class="keyword">const</span> buf_end = buf + ini_size;</div>
<div class="line"><a id="l15427" name="l15427"></a><span class="lineno">15427</span>    memcpy(buf, ini_data, ini_size);</div>
<div class="line"><a id="l15428" name="l15428"></a><span class="lineno">15428</span>    buf_end[0] = 0;</div>
<div class="line"><a id="l15429" name="l15429"></a><span class="lineno">15429</span> </div>
<div class="line"><a id="l15430" name="l15430"></a><span class="lineno">15430</span>    <span class="comment">// Call pre-read handlers</span></div>
<div class="line"><a id="l15431" name="l15431"></a><span class="lineno">15431</span>    <span class="comment">// Some types will clear their data (e.g. dock information) some types will allow merge/override (window)</span></div>
<div class="line"><a id="l15432" name="l15432"></a><span class="lineno">15432</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a>&amp; handler : g.SettingsHandlers)</div>
<div class="line"><a id="l15433" name="l15433"></a><span class="lineno">15433</span>        if (handler.ReadInitFn != NULL)</div>
<div class="line"><a id="l15434" name="l15434"></a><span class="lineno">15434</span>            handler.ReadInitFn(&amp;g, &amp;handler);</div>
<div class="line"><a id="l15435" name="l15435"></a><span class="lineno">15435</span> </div>
<div class="line"><a id="l15436" name="l15436"></a><span class="lineno">15436</span>    <span class="keywordtype">void</span>* entry_data = NULL;</div>
<div class="line"><a id="l15437" name="l15437"></a><span class="lineno">15437</span>    <a class="code hl_struct" href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a>* entry_handler = NULL;</div>
<div class="line"><a id="l15438" name="l15438"></a><span class="lineno">15438</span> </div>
<div class="line"><a id="l15439" name="l15439"></a><span class="lineno">15439</span>    <span class="keywordtype">char</span>* line_end = NULL;</div>
<div class="line"><a id="l15440" name="l15440"></a><span class="lineno">15440</span>    <span class="keywordflow">for</span> (<span class="keywordtype">char</span>* line = buf; line &lt; buf_end; line = line_end + 1)</div>
<div class="line"><a id="l15441" name="l15441"></a><span class="lineno">15441</span>    {</div>
<div class="line"><a id="l15442" name="l15442"></a><span class="lineno">15442</span>        <span class="comment">// Skip new lines markers, then find end of the line</span></div>
<div class="line"><a id="l15443" name="l15443"></a><span class="lineno">15443</span>        <span class="keywordflow">while</span> (*line == <span class="charliteral">&#39;\n&#39;</span> || *line == <span class="charliteral">&#39;\r&#39;</span>)</div>
<div class="line"><a id="l15444" name="l15444"></a><span class="lineno">15444</span>            line++;</div>
<div class="line"><a id="l15445" name="l15445"></a><span class="lineno">15445</span>        line_end = line;</div>
<div class="line"><a id="l15446" name="l15446"></a><span class="lineno">15446</span>        <span class="keywordflow">while</span> (line_end &lt; buf_end &amp;&amp; *line_end != <span class="charliteral">&#39;\n&#39;</span> &amp;&amp; *line_end != <span class="charliteral">&#39;\r&#39;</span>)</div>
<div class="line"><a id="l15447" name="l15447"></a><span class="lineno">15447</span>            line_end++;</div>
<div class="line"><a id="l15448" name="l15448"></a><span class="lineno">15448</span>        line_end[0] = 0;</div>
<div class="line"><a id="l15449" name="l15449"></a><span class="lineno">15449</span>        <span class="keywordflow">if</span> (line[0] == <span class="charliteral">&#39;;&#39;</span>)</div>
<div class="line"><a id="l15450" name="l15450"></a><span class="lineno">15450</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l15451" name="l15451"></a><span class="lineno">15451</span>        <span class="keywordflow">if</span> (line[0] == <span class="charliteral">&#39;[&#39;</span> &amp;&amp; line_end &gt; line &amp;&amp; line_end[-1] == <span class="charliteral">&#39;]&#39;</span>)</div>
<div class="line"><a id="l15452" name="l15452"></a><span class="lineno">15452</span>        {</div>
<div class="line"><a id="l15453" name="l15453"></a><span class="lineno">15453</span>            <span class="comment">// Parse &quot;[Type][Name]&quot;. Note that &#39;Name&#39; can itself contains [] characters, which is acceptable with the current format and parsing code.</span></div>
<div class="line"><a id="l15454" name="l15454"></a><span class="lineno">15454</span>            line_end[-1] = 0;</div>
<div class="line"><a id="l15455" name="l15455"></a><span class="lineno">15455</span>            <span class="keyword">const</span> <span class="keywordtype">char</span>* name_end = line_end - 1;</div>
<div class="line"><a id="l15456" name="l15456"></a><span class="lineno">15456</span>            <span class="keyword">const</span> <span class="keywordtype">char</span>* type_start = line + 1;</div>
<div class="line"><a id="l15457" name="l15457"></a><span class="lineno">15457</span>            <span class="keywordtype">char</span>* type_end = (<span class="keywordtype">char</span>*)(<span class="keywordtype">void</span>*)ImStrchrRange(type_start, name_end, <span class="charliteral">&#39;]&#39;</span>);</div>
<div class="line"><a id="l15458" name="l15458"></a><span class="lineno">15458</span>            <span class="keyword">const</span> <span class="keywordtype">char</span>* name_start = type_end ? ImStrchrRange(type_end + 1, name_end, <span class="charliteral">&#39;[&#39;</span>) : NULL;</div>
<div class="line"><a id="l15459" name="l15459"></a><span class="lineno">15459</span>            <span class="keywordflow">if</span> (!type_end || !name_start)</div>
<div class="line"><a id="l15460" name="l15460"></a><span class="lineno">15460</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l15461" name="l15461"></a><span class="lineno">15461</span>            *type_end = 0; <span class="comment">// Overwrite first &#39;]&#39;</span></div>
<div class="line"><a id="l15462" name="l15462"></a><span class="lineno">15462</span>            name_start++;  <span class="comment">// Skip second &#39;[&#39;</span></div>
<div class="line"><a id="l15463" name="l15463"></a><span class="lineno">15463</span>            entry_handler = FindSettingsHandler(type_start);</div>
<div class="line"><a id="l15464" name="l15464"></a><span class="lineno">15464</span>            entry_data = entry_handler ? entry_handler-&gt;ReadOpenFn(&amp;g, entry_handler, name_start) : NULL;</div>
<div class="line"><a id="l15465" name="l15465"></a><span class="lineno">15465</span>        }</div>
<div class="line"><a id="l15466" name="l15466"></a><span class="lineno">15466</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (entry_handler != NULL &amp;&amp; entry_data != NULL)</div>
<div class="line"><a id="l15467" name="l15467"></a><span class="lineno">15467</span>        {</div>
<div class="line"><a id="l15468" name="l15468"></a><span class="lineno">15468</span>            <span class="comment">// Let type handler parse the line</span></div>
<div class="line"><a id="l15469" name="l15469"></a><span class="lineno">15469</span>            entry_handler-&gt;ReadLineFn(&amp;g, entry_handler, entry_data, line);</div>
<div class="line"><a id="l15470" name="l15470"></a><span class="lineno">15470</span>        }</div>
<div class="line"><a id="l15471" name="l15471"></a><span class="lineno">15471</span>    }</div>
<div class="line"><a id="l15472" name="l15472"></a><span class="lineno">15472</span>    g.SettingsLoaded = <span class="keyword">true</span>;</div>
<div class="line"><a id="l15473" name="l15473"></a><span class="lineno">15473</span> </div>
<div class="line"><a id="l15474" name="l15474"></a><span class="lineno">15474</span>    <span class="comment">// [DEBUG] Restore untouched copy so it can be browsed in Metrics (not strictly necessary)</span></div>
<div class="line"><a id="l15475" name="l15475"></a><span class="lineno">15475</span>    memcpy(buf, ini_data, ini_size);</div>
<div class="line"><a id="l15476" name="l15476"></a><span class="lineno">15476</span> </div>
<div class="line"><a id="l15477" name="l15477"></a><span class="lineno">15477</span>    <span class="comment">// Call post-read handlers</span></div>
<div class="line"><a id="l15478" name="l15478"></a><span class="lineno">15478</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a>&amp; handler : g.SettingsHandlers)</div>
<div class="line"><a id="l15479" name="l15479"></a><span class="lineno">15479</span>        if (handler.ApplyAllFn != NULL)</div>
<div class="line"><a id="l15480" name="l15480"></a><span class="lineno">15480</span>            handler.ApplyAllFn(&amp;g, &amp;handler);</div>
<div class="line"><a id="l15481" name="l15481"></a><span class="lineno">15481</span>}</div>
<div class="line"><a id="l15482" name="l15482"></a><span class="lineno">15482</span> </div>
<div class="line"><a id="l15483" name="l15483"></a><span class="lineno">15483</span><span class="keywordtype">void</span> ImGui::SaveIniSettingsToDisk(<span class="keyword">const</span> <span class="keywordtype">char</span>* ini_filename)</div>
<div class="line"><a id="l15484" name="l15484"></a><span class="lineno">15484</span>{</div>
<div class="line"><a id="l15485" name="l15485"></a><span class="lineno">15485</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15486" name="l15486"></a><span class="lineno">15486</span>    g.SettingsDirtyTimer = 0.0f;</div>
<div class="line"><a id="l15487" name="l15487"></a><span class="lineno">15487</span>    <span class="keywordflow">if</span> (!ini_filename)</div>
<div class="line"><a id="l15488" name="l15488"></a><span class="lineno">15488</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l15489" name="l15489"></a><span class="lineno">15489</span> </div>
<div class="line"><a id="l15490" name="l15490"></a><span class="lineno">15490</span>    <span class="keywordtype">size_t</span> ini_data_size = 0;</div>
<div class="line"><a id="l15491" name="l15491"></a><span class="lineno">15491</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* ini_data = SaveIniSettingsToMemory(&amp;ini_data_size);</div>
<div class="line"><a id="l15492" name="l15492"></a><span class="lineno">15492</span>    ImFileHandle f = ImFileOpen(ini_filename, <span class="stringliteral">&quot;wt&quot;</span>);</div>
<div class="line"><a id="l15493" name="l15493"></a><span class="lineno">15493</span>    <span class="keywordflow">if</span> (!f)</div>
<div class="line"><a id="l15494" name="l15494"></a><span class="lineno">15494</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l15495" name="l15495"></a><span class="lineno">15495</span>    ImFileWrite(ini_data, <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>), ini_data_size, f);</div>
<div class="line"><a id="l15496" name="l15496"></a><span class="lineno">15496</span>    ImFileClose(f);</div>
<div class="line"><a id="l15497" name="l15497"></a><span class="lineno">15497</span>}</div>
<div class="line"><a id="l15498" name="l15498"></a><span class="lineno">15498</span> </div>
<div class="line"><a id="l15499" name="l15499"></a><span class="lineno">15499</span><span class="comment">// Call registered handlers (e.g. SettingsHandlerWindow_WriteAll() + custom handlers) to write their stuff into a text buffer</span></div>
<div class="line"><a id="l15500" name="l15500"></a><span class="lineno">15500</span><span class="keyword">const</span> <span class="keywordtype">char</span>* ImGui::SaveIniSettingsToMemory(<span class="keywordtype">size_t</span>* out_size)</div>
<div class="line"><a id="l15501" name="l15501"></a><span class="lineno">15501</span>{</div>
<div class="line"><a id="l15502" name="l15502"></a><span class="lineno">15502</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15503" name="l15503"></a><span class="lineno">15503</span>    g.SettingsDirtyTimer = 0.0f;</div>
<div class="line"><a id="l15504" name="l15504"></a><span class="lineno">15504</span>    g.SettingsIniData.Buf.resize(0);</div>
<div class="line"><a id="l15505" name="l15505"></a><span class="lineno">15505</span>    g.SettingsIniData.Buf.push_back(0);</div>
<div class="line"><a id="l15506" name="l15506"></a><span class="lineno">15506</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a>&amp; handler : g.SettingsHandlers)</div>
<div class="line"><a id="l15507" name="l15507"></a><span class="lineno">15507</span>        handler.WriteAllFn(&amp;g, &amp;handler, &amp;g.SettingsIniData);</div>
<div class="line"><a id="l15508" name="l15508"></a><span class="lineno">15508</span>    <span class="keywordflow">if</span> (out_size)</div>
<div class="line"><a id="l15509" name="l15509"></a><span class="lineno">15509</span>        *out_size = (size_t)g.SettingsIniData.size();</div>
<div class="line"><a id="l15510" name="l15510"></a><span class="lineno">15510</span>    <span class="keywordflow">return</span> g.SettingsIniData.c_str();</div>
<div class="line"><a id="l15511" name="l15511"></a><span class="lineno">15511</span>}</div>
<div class="line"><a id="l15512" name="l15512"></a><span class="lineno">15512</span> </div>
<div class="line"><a id="l15513" name="l15513"></a><span class="lineno">15513</span><a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>* ImGui::CreateNewWindowSettings(<span class="keyword">const</span> <span class="keywordtype">char</span>* name)</div>
<div class="line"><a id="l15514" name="l15514"></a><span class="lineno">15514</span>{</div>
<div class="line"><a id="l15515" name="l15515"></a><span class="lineno">15515</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15516" name="l15516"></a><span class="lineno">15516</span> </div>
<div class="line"><a id="l15517" name="l15517"></a><span class="lineno">15517</span>    <span class="keywordflow">if</span> (g.IO.ConfigDebugIniSettings == <span class="keyword">false</span>)</div>
<div class="line"><a id="l15518" name="l15518"></a><span class="lineno">15518</span>    {</div>
<div class="line"><a id="l15519" name="l15519"></a><span class="lineno">15519</span>        <span class="comment">// Skip to the &quot;###&quot; marker if any. We don&#39;t skip past to match the behavior of GetID()</span></div>
<div class="line"><a id="l15520" name="l15520"></a><span class="lineno">15520</span>        <span class="comment">// Preserve the full string when ConfigDebugVerboseIniSettings is set to make .ini inspection easier.</span></div>
<div class="line"><a id="l15521" name="l15521"></a><span class="lineno">15521</span>        <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keywordtype">char</span>* p = strstr(name, <span class="stringliteral">&quot;###&quot;</span>))</div>
<div class="line"><a id="l15522" name="l15522"></a><span class="lineno">15522</span>            name = p;</div>
<div class="line"><a id="l15523" name="l15523"></a><span class="lineno">15523</span>    }</div>
<div class="line"><a id="l15524" name="l15524"></a><span class="lineno">15524</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> name_len = ImStrlen(name);</div>
<div class="line"><a id="l15525" name="l15525"></a><span class="lineno">15525</span> </div>
<div class="line"><a id="l15526" name="l15526"></a><span class="lineno">15526</span>    <span class="comment">// Allocate chunk</span></div>
<div class="line"><a id="l15527" name="l15527"></a><span class="lineno">15527</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> chunk_size = <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>) + name_len + 1;</div>
<div class="line"><a id="l15528" name="l15528"></a><span class="lineno">15528</span>    <a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>* settings = g.SettingsWindows.alloc_chunk(chunk_size);</div>
<div class="line"><a id="l15529" name="l15529"></a><span class="lineno">15529</span>    IM_PLACEMENT_NEW(settings) <a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>();</div>
<div class="line"><a id="l15530" name="l15530"></a><span class="lineno">15530</span>    settings-&gt;ID = ImHashStr(name, name_len);</div>
<div class="line"><a id="l15531" name="l15531"></a><span class="lineno">15531</span>    memcpy(settings-&gt;GetName(), name, name_len + 1);   <span class="comment">// Store with zero terminator</span></div>
<div class="line"><a id="l15532" name="l15532"></a><span class="lineno">15532</span> </div>
<div class="line"><a id="l15533" name="l15533"></a><span class="lineno">15533</span>    <span class="keywordflow">return</span> settings;</div>
<div class="line"><a id="l15534" name="l15534"></a><span class="lineno">15534</span>}</div>
<div class="line"><a id="l15535" name="l15535"></a><span class="lineno">15535</span> </div>
<div class="line"><a id="l15536" name="l15536"></a><span class="lineno">15536</span><span class="comment">// We don&#39;t provide a FindWindowSettingsByName() because Docking system doesn&#39;t always hold on names.</span></div>
<div class="line"><a id="l15537" name="l15537"></a><span class="lineno">15537</span><span class="comment">// This is called once per window .ini entry + once per newly instantiated window.</span></div>
<div class="line"><a id="l15538" name="l15538"></a><span class="lineno">15538</span><a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>* ImGui::FindWindowSettingsByID(ImGuiID <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l15539" name="l15539"></a><span class="lineno">15539</span>{</div>
<div class="line"><a id="l15540" name="l15540"></a><span class="lineno">15540</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15541" name="l15541"></a><span class="lineno">15541</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>* settings = g.SettingsWindows.begin(); settings != NULL; settings = g.SettingsWindows.next_chunk(settings))</div>
<div class="line"><a id="l15542" name="l15542"></a><span class="lineno">15542</span>        <span class="keywordflow">if</span> (settings-&gt;ID == <span class="keywordtype">id</span> &amp;&amp; !settings-&gt;WantDelete)</div>
<div class="line"><a id="l15543" name="l15543"></a><span class="lineno">15543</span>            <span class="keywordflow">return</span> settings;</div>
<div class="line"><a id="l15544" name="l15544"></a><span class="lineno">15544</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l15545" name="l15545"></a><span class="lineno">15545</span>}</div>
<div class="line"><a id="l15546" name="l15546"></a><span class="lineno">15546</span> </div>
<div class="line"><a id="l15547" name="l15547"></a><span class="lineno">15547</span><span class="comment">// This is faster if you are holding on a Window already as we don&#39;t need to perform a search.</span></div>
<div class="line"><a id="l15548" name="l15548"></a><span class="lineno">15548</span><a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>* ImGui::FindWindowSettingsByWindow(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l15549" name="l15549"></a><span class="lineno">15549</span>{</div>
<div class="line"><a id="l15550" name="l15550"></a><span class="lineno">15550</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15551" name="l15551"></a><span class="lineno">15551</span>    <span class="keywordflow">if</span> (window-&gt;SettingsOffset != -1)</div>
<div class="line"><a id="l15552" name="l15552"></a><span class="lineno">15552</span>        <span class="keywordflow">return</span> g.SettingsWindows.ptr_from_offset(window-&gt;SettingsOffset);</div>
<div class="line"><a id="l15553" name="l15553"></a><span class="lineno">15553</span>    <span class="keywordflow">return</span> FindWindowSettingsByID(window-&gt;ID);</div>
<div class="line"><a id="l15554" name="l15554"></a><span class="lineno">15554</span>}</div>
<div class="line"><a id="l15555" name="l15555"></a><span class="lineno">15555</span> </div>
<div class="line"><a id="l15556" name="l15556"></a><span class="lineno">15556</span><span class="comment">// This will revert window to its initial state, including enabling the ImGuiCond_FirstUseEver/ImGuiCond_Once conditions once more.</span></div>
<div class="line"><a id="l15557" name="l15557"></a><span class="lineno">15557</span><span class="keywordtype">void</span> ImGui::ClearWindowSettings(<span class="keyword">const</span> <span class="keywordtype">char</span>* name)</div>
<div class="line"><a id="l15558" name="l15558"></a><span class="lineno">15558</span>{</div>
<div class="line"><a id="l15559" name="l15559"></a><span class="lineno">15559</span>    <span class="comment">//IMGUI_DEBUG_LOG(&quot;ClearWindowSettings(&#39;%s&#39;)\n&quot;, name);</span></div>
<div class="line"><a id="l15560" name="l15560"></a><span class="lineno">15560</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15561" name="l15561"></a><span class="lineno">15561</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = FindWindowByName(name);</div>
<div class="line"><a id="l15562" name="l15562"></a><span class="lineno">15562</span>    <span class="keywordflow">if</span> (window != NULL)</div>
<div class="line"><a id="l15563" name="l15563"></a><span class="lineno">15563</span>    {</div>
<div class="line"><a id="l15564" name="l15564"></a><span class="lineno">15564</span>        window-&gt;Flags |= ImGuiWindowFlags_NoSavedSettings;</div>
<div class="line"><a id="l15565" name="l15565"></a><span class="lineno">15565</span>        InitOrLoadWindowSettings(window, NULL);</div>
<div class="line"><a id="l15566" name="l15566"></a><span class="lineno">15566</span>        <span class="keywordflow">if</span> (window-&gt;DockId != 0)</div>
<div class="line"><a id="l15567" name="l15567"></a><span class="lineno">15567</span>            DockContextProcessUndockWindow(&amp;g, window, <span class="keyword">true</span>);</div>
<div class="line"><a id="l15568" name="l15568"></a><span class="lineno">15568</span>    }</div>
<div class="line"><a id="l15569" name="l15569"></a><span class="lineno">15569</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>* settings = window ? FindWindowSettingsByWindow(window) : FindWindowSettingsByID(ImHashStr(name)))</div>
<div class="line"><a id="l15570" name="l15570"></a><span class="lineno">15570</span>        settings-&gt;WantDelete = true;</div>
<div class="line"><a id="l15571" name="l15571"></a><span class="lineno">15571</span>}</div>
<div class="line"><a id="l15572" name="l15572"></a><span class="lineno">15572</span> </div>
<div class="line"><a id="l15573" name="l15573"></a><span class="lineno">15573</span><span class="keyword">static</span> <span class="keywordtype">void</span> WindowSettingsHandler_ClearAll(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <a class="code hl_struct" href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a>*)</div>
<div class="line"><a id="l15574" name="l15574"></a><span class="lineno">15574</span>{</div>
<div class="line"><a id="l15575" name="l15575"></a><span class="lineno">15575</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *ctx;</div>
<div class="line"><a id="l15576" name="l15576"></a><span class="lineno">15576</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window : g.Windows)</div>
<div class="line"><a id="l15577" name="l15577"></a><span class="lineno">15577</span>        window-&gt;SettingsOffset = -1;</div>
<div class="line"><a id="l15578" name="l15578"></a><span class="lineno">15578</span>    g.SettingsWindows.clear();</div>
<div class="line"><a id="l15579" name="l15579"></a><span class="lineno">15579</span>}</div>
<div class="line"><a id="l15580" name="l15580"></a><span class="lineno">15580</span> </div>
<div class="line"><a id="l15581" name="l15581"></a><span class="lineno">15581</span><span class="keyword">static</span> <span class="keywordtype">void</span>* WindowSettingsHandler_ReadOpen(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>*, <a class="code hl_struct" href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a>*, <span class="keyword">const</span> <span class="keywordtype">char</span>* name)</div>
<div class="line"><a id="l15582" name="l15582"></a><span class="lineno">15582</span>{</div>
<div class="line"><a id="l15583" name="l15583"></a><span class="lineno">15583</span>    ImGuiID <span class="keywordtype">id</span> = ImHashStr(name);</div>
<div class="line"><a id="l15584" name="l15584"></a><span class="lineno">15584</span>    <a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>* settings = ImGui::FindWindowSettingsByID(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l15585" name="l15585"></a><span class="lineno">15585</span>    <span class="keywordflow">if</span> (settings)</div>
<div class="line"><a id="l15586" name="l15586"></a><span class="lineno">15586</span>        *settings = <a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>(); <span class="comment">// Clear existing if recycling previous entry</span></div>
<div class="line"><a id="l15587" name="l15587"></a><span class="lineno">15587</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l15588" name="l15588"></a><span class="lineno">15588</span>        settings = ImGui::CreateNewWindowSettings(name);</div>
<div class="line"><a id="l15589" name="l15589"></a><span class="lineno">15589</span>    settings-&gt;ID = id;</div>
<div class="line"><a id="l15590" name="l15590"></a><span class="lineno">15590</span>    settings-&gt;WantApply = <span class="keyword">true</span>;</div>
<div class="line"><a id="l15591" name="l15591"></a><span class="lineno">15591</span>    <span class="keywordflow">return</span> (<span class="keywordtype">void</span>*)settings;</div>
<div class="line"><a id="l15592" name="l15592"></a><span class="lineno">15592</span>}</div>
<div class="line"><a id="l15593" name="l15593"></a><span class="lineno">15593</span> </div>
<div class="line"><a id="l15594" name="l15594"></a><span class="lineno">15594</span><span class="keyword">static</span> <span class="keywordtype">void</span> WindowSettingsHandler_ReadLine(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>*, <a class="code hl_struct" href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a>*, <span class="keywordtype">void</span>* entry, <span class="keyword">const</span> <span class="keywordtype">char</span>* line)</div>
<div class="line"><a id="l15595" name="l15595"></a><span class="lineno">15595</span>{</div>
<div class="line"><a id="l15596" name="l15596"></a><span class="lineno">15596</span>    <a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>* settings = (<a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>*)entry;</div>
<div class="line"><a id="l15597" name="l15597"></a><span class="lineno">15597</span>    <span class="keywordtype">int</span> x, y;</div>
<div class="line"><a id="l15598" name="l15598"></a><span class="lineno">15598</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><a id="l15599" name="l15599"></a><span class="lineno">15599</span>    ImU32 u1;</div>
<div class="line"><a id="l15600" name="l15600"></a><span class="lineno">15600</span>    <span class="keywordflow">if</span> (sscanf(line, <span class="stringliteral">&quot;Pos=%i,%i&quot;</span>, &amp;x, &amp;y) == 2)             { settings-&gt;Pos = <a class="code hl_struct" href="structImVec2ih.html">ImVec2ih</a>((<span class="keywordtype">short</span>)x, (<span class="keywordtype">short</span>)y); }</div>
<div class="line"><a id="l15601" name="l15601"></a><span class="lineno">15601</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sscanf(line, <span class="stringliteral">&quot;Size=%i,%i&quot;</span>, &amp;x, &amp;y) == 2)       { settings-&gt;Size = <a class="code hl_struct" href="structImVec2ih.html">ImVec2ih</a>((<span class="keywordtype">short</span>)x, (<span class="keywordtype">short</span>)y); }</div>
<div class="line"><a id="l15602" name="l15602"></a><span class="lineno">15602</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sscanf(line, <span class="stringliteral">&quot;ViewportId=0x%08X&quot;</span>, &amp;u1) == 1)   { settings-&gt;ViewportId = u1; }</div>
<div class="line"><a id="l15603" name="l15603"></a><span class="lineno">15603</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sscanf(line, <span class="stringliteral">&quot;ViewportPos=%i,%i&quot;</span>, &amp;x, &amp;y) == 2){ settings-&gt;ViewportPos = <a class="code hl_struct" href="structImVec2ih.html">ImVec2ih</a>((<span class="keywordtype">short</span>)x, (<span class="keywordtype">short</span>)y); }</div>
<div class="line"><a id="l15604" name="l15604"></a><span class="lineno">15604</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sscanf(line, <span class="stringliteral">&quot;Collapsed=%d&quot;</span>, &amp;i) == 1)         { settings-&gt;Collapsed = (i != 0); }</div>
<div class="line"><a id="l15605" name="l15605"></a><span class="lineno">15605</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sscanf(line, <span class="stringliteral">&quot;IsChild=%d&quot;</span>, &amp;i) == 1)           { settings-&gt;IsChild = (i != 0); }</div>
<div class="line"><a id="l15606" name="l15606"></a><span class="lineno">15606</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sscanf(line, <span class="stringliteral">&quot;DockId=0x%X,%d&quot;</span>, &amp;u1, &amp;i) == 2)  { settings-&gt;DockId = u1; settings-&gt;DockOrder = (short)i; }</div>
<div class="line"><a id="l15607" name="l15607"></a><span class="lineno">15607</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sscanf(line, <span class="stringliteral">&quot;DockId=0x%X&quot;</span>, &amp;u1) == 1)         { settings-&gt;DockId = u1; settings-&gt;DockOrder = -1; }</div>
<div class="line"><a id="l15608" name="l15608"></a><span class="lineno">15608</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sscanf(line, <span class="stringliteral">&quot;ClassId=0x%X&quot;</span>, &amp;u1) == 1)        { settings-&gt;ClassId = u1; }</div>
<div class="line"><a id="l15609" name="l15609"></a><span class="lineno">15609</span>}</div>
<div class="line"><a id="l15610" name="l15610"></a><span class="lineno">15610</span> </div>
<div class="line"><a id="l15611" name="l15611"></a><span class="lineno">15611</span><span class="comment">// Apply to existing windows (if any)</span></div>
<div class="line"><a id="l15612" name="l15612"></a><span class="lineno">15612</span><span class="keyword">static</span> <span class="keywordtype">void</span> WindowSettingsHandler_ApplyAll(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <a class="code hl_struct" href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a>*)</div>
<div class="line"><a id="l15613" name="l15613"></a><span class="lineno">15613</span>{</div>
<div class="line"><a id="l15614" name="l15614"></a><span class="lineno">15614</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *ctx;</div>
<div class="line"><a id="l15615" name="l15615"></a><span class="lineno">15615</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>* settings = g.SettingsWindows.begin(); settings != NULL; settings = g.SettingsWindows.next_chunk(settings))</div>
<div class="line"><a id="l15616" name="l15616"></a><span class="lineno">15616</span>        <span class="keywordflow">if</span> (settings-&gt;WantApply)</div>
<div class="line"><a id="l15617" name="l15617"></a><span class="lineno">15617</span>        {</div>
<div class="line"><a id="l15618" name="l15618"></a><span class="lineno">15618</span>            <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = ImGui::FindWindowByID(settings-&gt;ID))</div>
<div class="line"><a id="l15619" name="l15619"></a><span class="lineno">15619</span>                ApplyWindowSettings(window, settings);</div>
<div class="line"><a id="l15620" name="l15620"></a><span class="lineno">15620</span>            settings-&gt;WantApply = <span class="keyword">false</span>;</div>
<div class="line"><a id="l15621" name="l15621"></a><span class="lineno">15621</span>        }</div>
<div class="line"><a id="l15622" name="l15622"></a><span class="lineno">15622</span>}</div>
<div class="line"><a id="l15623" name="l15623"></a><span class="lineno">15623</span> </div>
<div class="line"><a id="l15624" name="l15624"></a><span class="lineno">15624</span><span class="keyword">static</span> <span class="keywordtype">void</span> WindowSettingsHandler_WriteAll(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <a class="code hl_struct" href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a>* handler, <a class="code hl_struct" href="structImGuiTextBuffer.html">ImGuiTextBuffer</a>* buf)</div>
<div class="line"><a id="l15625" name="l15625"></a><span class="lineno">15625</span>{</div>
<div class="line"><a id="l15626" name="l15626"></a><span class="lineno">15626</span>    <span class="comment">// Gather data from windows that were active during this session</span></div>
<div class="line"><a id="l15627" name="l15627"></a><span class="lineno">15627</span>    <span class="comment">// (if a window wasn&#39;t opened in this session we preserve its settings)</span></div>
<div class="line"><a id="l15628" name="l15628"></a><span class="lineno">15628</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *ctx;</div>
<div class="line"><a id="l15629" name="l15629"></a><span class="lineno">15629</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window : g.Windows)</div>
<div class="line"><a id="l15630" name="l15630"></a><span class="lineno">15630</span>    {</div>
<div class="line"><a id="l15631" name="l15631"></a><span class="lineno">15631</span>        <span class="keywordflow">if</span> (window-&gt;Flags &amp; ImGuiWindowFlags_NoSavedSettings)</div>
<div class="line"><a id="l15632" name="l15632"></a><span class="lineno">15632</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l15633" name="l15633"></a><span class="lineno">15633</span> </div>
<div class="line"><a id="l15634" name="l15634"></a><span class="lineno">15634</span>        <a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>* settings = ImGui::FindWindowSettingsByWindow(window);</div>
<div class="line"><a id="l15635" name="l15635"></a><span class="lineno">15635</span>        <span class="keywordflow">if</span> (!settings)</div>
<div class="line"><a id="l15636" name="l15636"></a><span class="lineno">15636</span>        {</div>
<div class="line"><a id="l15637" name="l15637"></a><span class="lineno">15637</span>            settings = ImGui::CreateNewWindowSettings(window-&gt;Name);</div>
<div class="line"><a id="l15638" name="l15638"></a><span class="lineno">15638</span>            window-&gt;SettingsOffset = g.SettingsWindows.offset_from_ptr(settings);</div>
<div class="line"><a id="l15639" name="l15639"></a><span class="lineno">15639</span>        }</div>
<div class="line"><a id="l15640" name="l15640"></a><span class="lineno">15640</span>        IM_ASSERT(settings-&gt;ID == window-&gt;ID);</div>
<div class="line"><a id="l15641" name="l15641"></a><span class="lineno">15641</span>        settings-&gt;Pos = <a class="code hl_struct" href="structImVec2ih.html">ImVec2ih</a>(window-&gt;Pos - window-&gt;ViewportPos);</div>
<div class="line"><a id="l15642" name="l15642"></a><span class="lineno">15642</span>        settings-&gt;Size = <a class="code hl_struct" href="structImVec2ih.html">ImVec2ih</a>(window-&gt;SizeFull);</div>
<div class="line"><a id="l15643" name="l15643"></a><span class="lineno">15643</span>        settings-&gt;ViewportId = window-&gt;ViewportId;</div>
<div class="line"><a id="l15644" name="l15644"></a><span class="lineno">15644</span>        settings-&gt;ViewportPos = <a class="code hl_struct" href="structImVec2ih.html">ImVec2ih</a>(window-&gt;ViewportPos);</div>
<div class="line"><a id="l15645" name="l15645"></a><span class="lineno">15645</span>        IM_ASSERT(window-&gt;DockNode == NULL || window-&gt;DockNode-&gt;ID == window-&gt;DockId);</div>
<div class="line"><a id="l15646" name="l15646"></a><span class="lineno">15646</span>        settings-&gt;DockId = window-&gt;DockId;</div>
<div class="line"><a id="l15647" name="l15647"></a><span class="lineno">15647</span>        settings-&gt;ClassId = window-&gt;WindowClass.ClassId;</div>
<div class="line"><a id="l15648" name="l15648"></a><span class="lineno">15648</span>        settings-&gt;DockOrder = window-&gt;DockOrder;</div>
<div class="line"><a id="l15649" name="l15649"></a><span class="lineno">15649</span>        settings-&gt;Collapsed = window-&gt;Collapsed;</div>
<div class="line"><a id="l15650" name="l15650"></a><span class="lineno">15650</span>        settings-&gt;IsChild = (window-&gt;RootWindow != window); <span class="comment">// Cannot rely on ImGuiWindowFlags_ChildWindow here as docked windows have this set.</span></div>
<div class="line"><a id="l15651" name="l15651"></a><span class="lineno">15651</span>        settings-&gt;WantDelete = <span class="keyword">false</span>;</div>
<div class="line"><a id="l15652" name="l15652"></a><span class="lineno">15652</span>    }</div>
<div class="line"><a id="l15653" name="l15653"></a><span class="lineno">15653</span> </div>
<div class="line"><a id="l15654" name="l15654"></a><span class="lineno">15654</span>    <span class="comment">// Write to text buffer</span></div>
<div class="line"><a id="l15655" name="l15655"></a><span class="lineno">15655</span>    buf-&gt;reserve(buf-&gt;size() + g.SettingsWindows.size() * 6); <span class="comment">// ballpark reserve</span></div>
<div class="line"><a id="l15656" name="l15656"></a><span class="lineno">15656</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>* settings = g.SettingsWindows.begin(); settings != NULL; settings = g.SettingsWindows.next_chunk(settings))</div>
<div class="line"><a id="l15657" name="l15657"></a><span class="lineno">15657</span>    {</div>
<div class="line"><a id="l15658" name="l15658"></a><span class="lineno">15658</span>        <span class="keywordflow">if</span> (settings-&gt;WantDelete)</div>
<div class="line"><a id="l15659" name="l15659"></a><span class="lineno">15659</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l15660" name="l15660"></a><span class="lineno">15660</span>        <span class="keyword">const</span> <span class="keywordtype">char</span>* settings_name = settings-&gt;GetName();</div>
<div class="line"><a id="l15661" name="l15661"></a><span class="lineno">15661</span>        buf-&gt;appendf(<span class="stringliteral">&quot;[%s][%s]\n&quot;</span>, handler-&gt;TypeName, settings_name);</div>
<div class="line"><a id="l15662" name="l15662"></a><span class="lineno">15662</span>        <span class="keywordflow">if</span> (settings-&gt;IsChild)</div>
<div class="line"><a id="l15663" name="l15663"></a><span class="lineno">15663</span>        {</div>
<div class="line"><a id="l15664" name="l15664"></a><span class="lineno">15664</span>            buf-&gt;appendf(<span class="stringliteral">&quot;IsChild=1\n&quot;</span>);</div>
<div class="line"><a id="l15665" name="l15665"></a><span class="lineno">15665</span>            buf-&gt;appendf(<span class="stringliteral">&quot;Size=%d,%d\n&quot;</span>, settings-&gt;Size.x, settings-&gt;Size.y);</div>
<div class="line"><a id="l15666" name="l15666"></a><span class="lineno">15666</span>        }</div>
<div class="line"><a id="l15667" name="l15667"></a><span class="lineno">15667</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l15668" name="l15668"></a><span class="lineno">15668</span>        {</div>
<div class="line"><a id="l15669" name="l15669"></a><span class="lineno">15669</span>            <span class="keywordflow">if</span> (settings-&gt;ViewportId != 0 &amp;&amp; settings-&gt;ViewportId != ImGui::IMGUI_VIEWPORT_DEFAULT_ID)</div>
<div class="line"><a id="l15670" name="l15670"></a><span class="lineno">15670</span>            {</div>
<div class="line"><a id="l15671" name="l15671"></a><span class="lineno">15671</span>                buf-&gt;appendf(<span class="stringliteral">&quot;ViewportPos=%d,%d\n&quot;</span>, settings-&gt;ViewportPos.x, settings-&gt;ViewportPos.y);</div>
<div class="line"><a id="l15672" name="l15672"></a><span class="lineno">15672</span>                buf-&gt;appendf(<span class="stringliteral">&quot;ViewportId=0x%08X\n&quot;</span>, settings-&gt;ViewportId);</div>
<div class="line"><a id="l15673" name="l15673"></a><span class="lineno">15673</span>            }</div>
<div class="line"><a id="l15674" name="l15674"></a><span class="lineno">15674</span>            <span class="keywordflow">if</span> (settings-&gt;Pos.x != 0 || settings-&gt;Pos.y != 0 || settings-&gt;ViewportId == ImGui::IMGUI_VIEWPORT_DEFAULT_ID)</div>
<div class="line"><a id="l15675" name="l15675"></a><span class="lineno">15675</span>                buf-&gt;appendf(<span class="stringliteral">&quot;Pos=%d,%d\n&quot;</span>, settings-&gt;Pos.x, settings-&gt;Pos.y);</div>
<div class="line"><a id="l15676" name="l15676"></a><span class="lineno">15676</span>            <span class="keywordflow">if</span> (settings-&gt;Size.x != 0 || settings-&gt;Size.y != 0)</div>
<div class="line"><a id="l15677" name="l15677"></a><span class="lineno">15677</span>                buf-&gt;appendf(<span class="stringliteral">&quot;Size=%d,%d\n&quot;</span>, settings-&gt;Size.x, settings-&gt;Size.y);</div>
<div class="line"><a id="l15678" name="l15678"></a><span class="lineno">15678</span>            buf-&gt;appendf(<span class="stringliteral">&quot;Collapsed=%d\n&quot;</span>, settings-&gt;Collapsed);</div>
<div class="line"><a id="l15679" name="l15679"></a><span class="lineno">15679</span>            <span class="keywordflow">if</span> (settings-&gt;DockId != 0)</div>
<div class="line"><a id="l15680" name="l15680"></a><span class="lineno">15680</span>            {</div>
<div class="line"><a id="l15681" name="l15681"></a><span class="lineno">15681</span>                <span class="comment">//buf-&gt;appendf(&quot;TabId=0x%08X\n&quot;, ImHashStr(&quot;#TAB&quot;, 4, settings-&gt;ID)); // window-&gt;TabId: this is not read back but writing it makes &quot;debugging&quot; the .ini data easier.</span></div>
<div class="line"><a id="l15682" name="l15682"></a><span class="lineno">15682</span>                <span class="keywordflow">if</span> (settings-&gt;DockOrder == -1)</div>
<div class="line"><a id="l15683" name="l15683"></a><span class="lineno">15683</span>                    buf-&gt;appendf(<span class="stringliteral">&quot;DockId=0x%08X\n&quot;</span>, settings-&gt;DockId);</div>
<div class="line"><a id="l15684" name="l15684"></a><span class="lineno">15684</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l15685" name="l15685"></a><span class="lineno">15685</span>                    buf-&gt;appendf(<span class="stringliteral">&quot;DockId=0x%08X,%d\n&quot;</span>, settings-&gt;DockId, settings-&gt;DockOrder);</div>
<div class="line"><a id="l15686" name="l15686"></a><span class="lineno">15686</span>                <span class="keywordflow">if</span> (settings-&gt;ClassId != 0)</div>
<div class="line"><a id="l15687" name="l15687"></a><span class="lineno">15687</span>                    buf-&gt;appendf(<span class="stringliteral">&quot;ClassId=0x%08X\n&quot;</span>, settings-&gt;ClassId);</div>
<div class="line"><a id="l15688" name="l15688"></a><span class="lineno">15688</span>            }</div>
<div class="line"><a id="l15689" name="l15689"></a><span class="lineno">15689</span>        }</div>
<div class="line"><a id="l15690" name="l15690"></a><span class="lineno">15690</span>        buf-&gt;append(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l15691" name="l15691"></a><span class="lineno">15691</span>    }</div>
<div class="line"><a id="l15692" name="l15692"></a><span class="lineno">15692</span>}</div>
<div class="line"><a id="l15693" name="l15693"></a><span class="lineno">15693</span> </div>
<div class="line"><a id="l15694" name="l15694"></a><span class="lineno">15694</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l15695" name="l15695"></a><span class="lineno">15695</span><span class="comment">// [SECTION] LOCALIZATION</span></div>
<div class="line"><a id="l15696" name="l15696"></a><span class="lineno">15696</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l15697" name="l15697"></a><span class="lineno">15697</span> </div>
<div class="line"><a id="l15698" name="l15698"></a><span class="lineno">15698</span><span class="keywordtype">void</span> ImGui::LocalizeRegisterEntries(<span class="keyword">const</span> <a class="code hl_struct" href="structImGuiLocEntry.html">ImGuiLocEntry</a>* entries, <span class="keywordtype">int</span> count)</div>
<div class="line"><a id="l15699" name="l15699"></a><span class="lineno">15699</span>{</div>
<div class="line"><a id="l15700" name="l15700"></a><span class="lineno">15700</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15701" name="l15701"></a><span class="lineno">15701</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; count; n++)</div>
<div class="line"><a id="l15702" name="l15702"></a><span class="lineno">15702</span>        g.LocalizationTable[entries[n].Key] = entries[n].Text;</div>
<div class="line"><a id="l15703" name="l15703"></a><span class="lineno">15703</span>}</div>
<div class="line"><a id="l15704" name="l15704"></a><span class="lineno">15704</span> </div>
<div class="line"><a id="l15705" name="l15705"></a><span class="lineno">15705</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l15706" name="l15706"></a><span class="lineno">15706</span><span class="comment">// [SECTION] VIEWPORTS, PLATFORM WINDOWS</span></div>
<div class="line"><a id="l15707" name="l15707"></a><span class="lineno">15707</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l15708" name="l15708"></a><span class="lineno">15708</span><span class="comment">// - GetMainViewport()</span></div>
<div class="line"><a id="l15709" name="l15709"></a><span class="lineno">15709</span><span class="comment">// - FindViewportByID()</span></div>
<div class="line"><a id="l15710" name="l15710"></a><span class="lineno">15710</span><span class="comment">// - FindViewportByPlatformHandle()</span></div>
<div class="line"><a id="l15711" name="l15711"></a><span class="lineno">15711</span><span class="comment">// - SetCurrentViewport() [Internal]</span></div>
<div class="line"><a id="l15712" name="l15712"></a><span class="lineno">15712</span><span class="comment">// - SetWindowViewport() [Internal]</span></div>
<div class="line"><a id="l15713" name="l15713"></a><span class="lineno">15713</span><span class="comment">// - GetWindowAlwaysWantOwnViewport() [Internal]</span></div>
<div class="line"><a id="l15714" name="l15714"></a><span class="lineno">15714</span><span class="comment">// - UpdateTryMergeWindowIntoHostViewport() [Internal]</span></div>
<div class="line"><a id="l15715" name="l15715"></a><span class="lineno">15715</span><span class="comment">// - UpdateTryMergeWindowIntoHostViewports() [Internal]</span></div>
<div class="line"><a id="l15716" name="l15716"></a><span class="lineno">15716</span><span class="comment">// - TranslateWindowsInViewport() [Internal]</span></div>
<div class="line"><a id="l15717" name="l15717"></a><span class="lineno">15717</span><span class="comment">// - ScaleWindowsInViewport() [Internal]</span></div>
<div class="line"><a id="l15718" name="l15718"></a><span class="lineno">15718</span><span class="comment">// - FindHoveredViewportFromPlatformWindowStack() [Internal]</span></div>
<div class="line"><a id="l15719" name="l15719"></a><span class="lineno">15719</span><span class="comment">// - UpdateViewportsNewFrame() [Internal]</span></div>
<div class="line"><a id="l15720" name="l15720"></a><span class="lineno">15720</span><span class="comment">// - UpdateViewportsEndFrame() [Internal]</span></div>
<div class="line"><a id="l15721" name="l15721"></a><span class="lineno">15721</span><span class="comment">// - AddUpdateViewport() [Internal]</span></div>
<div class="line"><a id="l15722" name="l15722"></a><span class="lineno">15722</span><span class="comment">// - WindowSelectViewport() [Internal]</span></div>
<div class="line"><a id="l15723" name="l15723"></a><span class="lineno">15723</span><span class="comment">// - WindowSyncOwnedViewport() [Internal]</span></div>
<div class="line"><a id="l15724" name="l15724"></a><span class="lineno">15724</span><span class="comment">// - UpdatePlatformWindows()</span></div>
<div class="line"><a id="l15725" name="l15725"></a><span class="lineno">15725</span><span class="comment">// - RenderPlatformWindowsDefault()</span></div>
<div class="line"><a id="l15726" name="l15726"></a><span class="lineno">15726</span><span class="comment">// - FindPlatformMonitorForPos() [Internal]</span></div>
<div class="line"><a id="l15727" name="l15727"></a><span class="lineno">15727</span><span class="comment">// - FindPlatformMonitorForRect() [Internal]</span></div>
<div class="line"><a id="l15728" name="l15728"></a><span class="lineno">15728</span><span class="comment">// - UpdateViewportPlatformMonitor() [Internal]</span></div>
<div class="line"><a id="l15729" name="l15729"></a><span class="lineno">15729</span><span class="comment">// - DestroyPlatformWindow() [Internal]</span></div>
<div class="line"><a id="l15730" name="l15730"></a><span class="lineno">15730</span><span class="comment">// - DestroyPlatformWindows()</span></div>
<div class="line"><a id="l15731" name="l15731"></a><span class="lineno">15731</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l15732" name="l15732"></a><span class="lineno">15732</span> </div>
<div class="line"><a id="l15733" name="l15733"></a><span class="lineno">15733</span><a class="code hl_struct" href="structImGuiViewport.html">ImGuiViewport</a>* ImGui::GetMainViewport()</div>
<div class="line"><a id="l15734" name="l15734"></a><span class="lineno">15734</span>{</div>
<div class="line"><a id="l15735" name="l15735"></a><span class="lineno">15735</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15736" name="l15736"></a><span class="lineno">15736</span>    <span class="keywordflow">return</span> g.Viewports[0];</div>
<div class="line"><a id="l15737" name="l15737"></a><span class="lineno">15737</span>}</div>
<div class="line"><a id="l15738" name="l15738"></a><span class="lineno">15738</span> </div>
<div class="line"><a id="l15739" name="l15739"></a><span class="lineno">15739</span><span class="comment">// FIXME: This leaks access to viewports not listed in PlatformIO.Viewports[]. Problematic? (#4236)</span></div>
<div class="line"><a id="l15740" name="l15740"></a><span class="lineno">15740</span><a class="code hl_struct" href="structImGuiViewport.html">ImGuiViewport</a>* ImGui::FindViewportByID(ImGuiID <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l15741" name="l15741"></a><span class="lineno">15741</span>{</div>
<div class="line"><a id="l15742" name="l15742"></a><span class="lineno">15742</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15743" name="l15743"></a><span class="lineno">15743</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport : g.Viewports)</div>
<div class="line"><a id="l15744" name="l15744"></a><span class="lineno">15744</span>        if (viewport-&gt;ID == id)</div>
<div class="line"><a id="l15745" name="l15745"></a><span class="lineno">15745</span>            return viewport;</div>
<div class="line"><a id="l15746" name="l15746"></a><span class="lineno">15746</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l15747" name="l15747"></a><span class="lineno">15747</span>}</div>
<div class="line"><a id="l15748" name="l15748"></a><span class="lineno">15748</span> </div>
<div class="line"><a id="l15749" name="l15749"></a><span class="lineno">15749</span><a class="code hl_struct" href="structImGuiViewport.html">ImGuiViewport</a>* ImGui::FindViewportByPlatformHandle(<span class="keywordtype">void</span>* platform_handle)</div>
<div class="line"><a id="l15750" name="l15750"></a><span class="lineno">15750</span>{</div>
<div class="line"><a id="l15751" name="l15751"></a><span class="lineno">15751</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15752" name="l15752"></a><span class="lineno">15752</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport : g.Viewports)</div>
<div class="line"><a id="l15753" name="l15753"></a><span class="lineno">15753</span>        if (viewport-&gt;PlatformHandle == platform_handle)</div>
<div class="line"><a id="l15754" name="l15754"></a><span class="lineno">15754</span>            return viewport;</div>
<div class="line"><a id="l15755" name="l15755"></a><span class="lineno">15755</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l15756" name="l15756"></a><span class="lineno">15756</span>}</div>
<div class="line"><a id="l15757" name="l15757"></a><span class="lineno">15757</span> </div>
<div class="line"><a id="l15758" name="l15758"></a><span class="lineno">15758</span><span class="keywordtype">void</span> ImGui::SetCurrentViewport(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* current_window, <a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport)</div>
<div class="line"><a id="l15759" name="l15759"></a><span class="lineno">15759</span>{</div>
<div class="line"><a id="l15760" name="l15760"></a><span class="lineno">15760</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15761" name="l15761"></a><span class="lineno">15761</span>    (void)current_window;</div>
<div class="line"><a id="l15762" name="l15762"></a><span class="lineno">15762</span> </div>
<div class="line"><a id="l15763" name="l15763"></a><span class="lineno">15763</span>    <span class="keywordflow">if</span> (viewport)</div>
<div class="line"><a id="l15764" name="l15764"></a><span class="lineno">15764</span>        viewport-&gt;LastFrameActive = g.FrameCount;</div>
<div class="line"><a id="l15765" name="l15765"></a><span class="lineno">15765</span>    <span class="keywordflow">if</span> (g.CurrentViewport == viewport)</div>
<div class="line"><a id="l15766" name="l15766"></a><span class="lineno">15766</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l15767" name="l15767"></a><span class="lineno">15767</span>    g.CurrentDpiScale = viewport ? viewport-&gt;DpiScale : 1.0f;</div>
<div class="line"><a id="l15768" name="l15768"></a><span class="lineno">15768</span>    g.CurrentViewport = viewport;</div>
<div class="line"><a id="l15769" name="l15769"></a><span class="lineno">15769</span>    IM_ASSERT(g.CurrentDpiScale &gt; 0.0f &amp;&amp; g.CurrentDpiScale &lt; 99.0f); <span class="comment">// Typical correct values would be between 1.0f and 4.0f</span></div>
<div class="line"><a id="l15770" name="l15770"></a><span class="lineno">15770</span>    <span class="comment">//IMGUI_DEBUG_LOG_VIEWPORT(&quot;[viewport] SetCurrentViewport changed &#39;%s&#39; 0x%08X\n&quot;, current_window ? current_window-&gt;Name : NULL, viewport ? viewport-&gt;ID : 0);</span></div>
<div class="line"><a id="l15771" name="l15771"></a><span class="lineno">15771</span> </div>
<div class="line"><a id="l15772" name="l15772"></a><span class="lineno">15772</span>    <span class="comment">// Notify platform layer of viewport changes</span></div>
<div class="line"><a id="l15773" name="l15773"></a><span class="lineno">15773</span>    <span class="comment">// FIXME-DPI: This is only currently used for experimenting with handling of multiple DPI</span></div>
<div class="line"><a id="l15774" name="l15774"></a><span class="lineno">15774</span>    <span class="keywordflow">if</span> (g.CurrentViewport &amp;&amp; g.PlatformIO.Platform_OnChangedViewport)</div>
<div class="line"><a id="l15775" name="l15775"></a><span class="lineno">15775</span>        g.PlatformIO.Platform_OnChangedViewport(g.CurrentViewport);</div>
<div class="line"><a id="l15776" name="l15776"></a><span class="lineno">15776</span>}</div>
<div class="line"><a id="l15777" name="l15777"></a><span class="lineno">15777</span> </div>
<div class="line"><a id="l15778" name="l15778"></a><span class="lineno">15778</span><span class="keywordtype">void</span> ImGui::SetWindowViewport(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport)</div>
<div class="line"><a id="l15779" name="l15779"></a><span class="lineno">15779</span>{</div>
<div class="line"><a id="l15780" name="l15780"></a><span class="lineno">15780</span>    <span class="comment">// Abandon viewport</span></div>
<div class="line"><a id="l15781" name="l15781"></a><span class="lineno">15781</span>    <span class="keywordflow">if</span> (window-&gt;ViewportOwned &amp;&amp; window-&gt;Viewport-&gt;Window == window)</div>
<div class="line"><a id="l15782" name="l15782"></a><span class="lineno">15782</span>        window-&gt;Viewport-&gt;Size = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, 0.0f);</div>
<div class="line"><a id="l15783" name="l15783"></a><span class="lineno">15783</span> </div>
<div class="line"><a id="l15784" name="l15784"></a><span class="lineno">15784</span>    window-&gt;Viewport = viewport;</div>
<div class="line"><a id="l15785" name="l15785"></a><span class="lineno">15785</span>    window-&gt;ViewportId = viewport-&gt;ID;</div>
<div class="line"><a id="l15786" name="l15786"></a><span class="lineno">15786</span>    window-&gt;ViewportOwned = (viewport-&gt;Window == window);</div>
<div class="line"><a id="l15787" name="l15787"></a><span class="lineno">15787</span>}</div>
<div class="line"><a id="l15788" name="l15788"></a><span class="lineno">15788</span> </div>
<div class="line"><a id="l15789" name="l15789"></a><span class="lineno">15789</span><span class="keyword">static</span> <span class="keywordtype">bool</span> ImGui::GetWindowAlwaysWantOwnViewport(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l15790" name="l15790"></a><span class="lineno">15790</span>{</div>
<div class="line"><a id="l15791" name="l15791"></a><span class="lineno">15791</span>    <span class="comment">// Tooltips and menus are not automatically forced into their own viewport when the NoMerge flag is set, however the multiplication of viewports makes them more likely to protrude and create their own.</span></div>
<div class="line"><a id="l15792" name="l15792"></a><span class="lineno">15792</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15793" name="l15793"></a><span class="lineno">15793</span>    <span class="keywordflow">if</span> (g.IO.ConfigViewportsNoAutoMerge || (window-&gt;WindowClass.ViewportFlagsOverrideSet &amp; ImGuiViewportFlags_NoAutoMerge))</div>
<div class="line"><a id="l15794" name="l15794"></a><span class="lineno">15794</span>        <span class="keywordflow">if</span> (g.ConfigFlagsCurrFrame &amp; ImGuiConfigFlags_ViewportsEnable)</div>
<div class="line"><a id="l15795" name="l15795"></a><span class="lineno">15795</span>            <span class="keywordflow">if</span> (!window-&gt;DockIsActive)</div>
<div class="line"><a id="l15796" name="l15796"></a><span class="lineno">15796</span>                <span class="keywordflow">if</span> ((window-&gt;Flags &amp; (ImGuiWindowFlags_ChildWindow | ImGuiWindowFlags_ChildMenu | ImGuiWindowFlags_Tooltip)) == 0)</div>
<div class="line"><a id="l15797" name="l15797"></a><span class="lineno">15797</span>                    <span class="keywordflow">if</span> ((window-&gt;Flags &amp; ImGuiWindowFlags_Popup) == 0 || (window-&gt;Flags &amp; ImGuiWindowFlags_Modal) != 0)</div>
<div class="line"><a id="l15798" name="l15798"></a><span class="lineno">15798</span>                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l15799" name="l15799"></a><span class="lineno">15799</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l15800" name="l15800"></a><span class="lineno">15800</span>}</div>
<div class="line"><a id="l15801" name="l15801"></a><span class="lineno">15801</span> </div>
<div class="line"><a id="l15802" name="l15802"></a><span class="lineno">15802</span><span class="keyword">static</span> <span class="keywordtype">bool</span> ImGui::UpdateTryMergeWindowIntoHostViewport(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport)</div>
<div class="line"><a id="l15803" name="l15803"></a><span class="lineno">15803</span>{</div>
<div class="line"><a id="l15804" name="l15804"></a><span class="lineno">15804</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15805" name="l15805"></a><span class="lineno">15805</span>    <span class="keywordflow">if</span> (window-&gt;Viewport == viewport)</div>
<div class="line"><a id="l15806" name="l15806"></a><span class="lineno">15806</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l15807" name="l15807"></a><span class="lineno">15807</span>    <span class="keywordflow">if</span> ((viewport-&gt;Flags &amp; ImGuiViewportFlags_CanHostOtherWindows) == 0)</div>
<div class="line"><a id="l15808" name="l15808"></a><span class="lineno">15808</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l15809" name="l15809"></a><span class="lineno">15809</span>    <span class="keywordflow">if</span> ((viewport-&gt;Flags &amp; ImGuiViewportFlags_IsMinimized) != 0)</div>
<div class="line"><a id="l15810" name="l15810"></a><span class="lineno">15810</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l15811" name="l15811"></a><span class="lineno">15811</span>    <span class="keywordflow">if</span> (!viewport-&gt;GetMainRect().Contains(window-&gt;Rect()))</div>
<div class="line"><a id="l15812" name="l15812"></a><span class="lineno">15812</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l15813" name="l15813"></a><span class="lineno">15813</span>    <span class="keywordflow">if</span> (GetWindowAlwaysWantOwnViewport(window))</div>
<div class="line"><a id="l15814" name="l15814"></a><span class="lineno">15814</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l15815" name="l15815"></a><span class="lineno">15815</span> </div>
<div class="line"><a id="l15816" name="l15816"></a><span class="lineno">15816</span>    <span class="comment">// FIXME: Can&#39;t use g.WindowsFocusOrder[] for root windows only as we care about Z order. If we maintained a DisplayOrder along with FocusOrder we could..</span></div>
<div class="line"><a id="l15817" name="l15817"></a><span class="lineno">15817</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window_behind : g.Windows)</div>
<div class="line"><a id="l15818" name="l15818"></a><span class="lineno">15818</span>    {</div>
<div class="line"><a id="l15819" name="l15819"></a><span class="lineno">15819</span>        <span class="keywordflow">if</span> (window_behind == window)</div>
<div class="line"><a id="l15820" name="l15820"></a><span class="lineno">15820</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l15821" name="l15821"></a><span class="lineno">15821</span>        <span class="keywordflow">if</span> (window_behind-&gt;WasActive &amp;&amp; window_behind-&gt;ViewportOwned &amp;&amp; !(window_behind-&gt;Flags &amp; ImGuiWindowFlags_ChildWindow))</div>
<div class="line"><a id="l15822" name="l15822"></a><span class="lineno">15822</span>            <span class="keywordflow">if</span> (window_behind-&gt;Viewport-&gt;GetMainRect().Overlaps(window-&gt;Rect()))</div>
<div class="line"><a id="l15823" name="l15823"></a><span class="lineno">15823</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l15824" name="l15824"></a><span class="lineno">15824</span>    }</div>
<div class="line"><a id="l15825" name="l15825"></a><span class="lineno">15825</span> </div>
<div class="line"><a id="l15826" name="l15826"></a><span class="lineno">15826</span>    <span class="comment">// Move to the existing viewport, Move child/hosted windows as well (FIXME-OPT: iterate child)</span></div>
<div class="line"><a id="l15827" name="l15827"></a><span class="lineno">15827</span>    <a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* old_viewport = window-&gt;Viewport;</div>
<div class="line"><a id="l15828" name="l15828"></a><span class="lineno">15828</span>    <span class="keywordflow">if</span> (window-&gt;ViewportOwned)</div>
<div class="line"><a id="l15829" name="l15829"></a><span class="lineno">15829</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; g.Windows.Size; n++)</div>
<div class="line"><a id="l15830" name="l15830"></a><span class="lineno">15830</span>            <span class="keywordflow">if</span> (g.Windows[n]-&gt;Viewport == old_viewport)</div>
<div class="line"><a id="l15831" name="l15831"></a><span class="lineno">15831</span>                SetWindowViewport(g.Windows[n], viewport);</div>
<div class="line"><a id="l15832" name="l15832"></a><span class="lineno">15832</span>    SetWindowViewport(window, viewport);</div>
<div class="line"><a id="l15833" name="l15833"></a><span class="lineno">15833</span>    BringWindowToDisplayFront(window);</div>
<div class="line"><a id="l15834" name="l15834"></a><span class="lineno">15834</span> </div>
<div class="line"><a id="l15835" name="l15835"></a><span class="lineno">15835</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l15836" name="l15836"></a><span class="lineno">15836</span>}</div>
<div class="line"><a id="l15837" name="l15837"></a><span class="lineno">15837</span> </div>
<div class="line"><a id="l15838" name="l15838"></a><span class="lineno">15838</span><span class="comment">// FIXME: handle 0 to N host viewports</span></div>
<div class="line"><a id="l15839" name="l15839"></a><span class="lineno">15839</span><span class="keyword">static</span> <span class="keywordtype">bool</span> ImGui::UpdateTryMergeWindowIntoHostViewports(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l15840" name="l15840"></a><span class="lineno">15840</span>{</div>
<div class="line"><a id="l15841" name="l15841"></a><span class="lineno">15841</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15842" name="l15842"></a><span class="lineno">15842</span>    <span class="keywordflow">return</span> UpdateTryMergeWindowIntoHostViewport(window, g.Viewports[0]);</div>
<div class="line"><a id="l15843" name="l15843"></a><span class="lineno">15843</span>}</div>
<div class="line"><a id="l15844" name="l15844"></a><span class="lineno">15844</span> </div>
<div class="line"><a id="l15845" name="l15845"></a><span class="lineno">15845</span><span class="comment">// Translate Dear ImGui windows when a Host Viewport has been moved</span></div>
<div class="line"><a id="l15846" name="l15846"></a><span class="lineno">15846</span><span class="comment">// (This additionally keeps windows at the same place when ImGuiConfigFlags_ViewportsEnable is toggled!)</span></div>
<div class="line"><a id="l15847" name="l15847"></a><span class="lineno">15847</span><span class="keywordtype">void</span> ImGui::TranslateWindowsInViewport(<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; old_pos, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; new_pos, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; old_size, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; new_size)</div>
<div class="line"><a id="l15848" name="l15848"></a><span class="lineno">15848</span>{</div>
<div class="line"><a id="l15849" name="l15849"></a><span class="lineno">15849</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15850" name="l15850"></a><span class="lineno">15850</span>    IM_ASSERT(viewport-&gt;Window == NULL &amp;&amp; (viewport-&gt;Flags &amp; ImGuiViewportFlags_CanHostOtherWindows));</div>
<div class="line"><a id="l15851" name="l15851"></a><span class="lineno">15851</span> </div>
<div class="line"><a id="l15852" name="l15852"></a><span class="lineno">15852</span>    <span class="comment">// 1) We test if ImGuiConfigFlags_ViewportsEnable was just toggled, which allows us to conveniently</span></div>
<div class="line"><a id="l15853" name="l15853"></a><span class="lineno">15853</span>    <span class="comment">// translate imgui windows from OS-window-local to absolute coordinates or vice-versa.</span></div>
<div class="line"><a id="l15854" name="l15854"></a><span class="lineno">15854</span>    <span class="comment">// 2) If it&#39;s not going to fit into the new size, keep it at same absolute position.</span></div>
<div class="line"><a id="l15855" name="l15855"></a><span class="lineno">15855</span>    <span class="comment">// One problem with this is that most Win32 applications doesn&#39;t update their render while dragging,</span></div>
<div class="line"><a id="l15856" name="l15856"></a><span class="lineno">15856</span>    <span class="comment">// and so the window will appear to teleport when releasing the mouse.</span></div>
<div class="line"><a id="l15857" name="l15857"></a><span class="lineno">15857</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> translate_all_windows = (g.ConfigFlagsCurrFrame &amp; ImGuiConfigFlags_ViewportsEnable) != (g.ConfigFlagsLastFrame &amp; ImGuiConfigFlags_ViewportsEnable);</div>
<div class="line"><a id="l15858" name="l15858"></a><span class="lineno">15858</span>    <a class="code hl_struct" href="structImRect.html">ImRect</a> test_still_fit_rect(old_pos, old_pos + viewport-&gt;Size);</div>
<div class="line"><a id="l15859" name="l15859"></a><span class="lineno">15859</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> delta_pos = new_pos - old_pos;</div>
<div class="line"><a id="l15860" name="l15860"></a><span class="lineno">15860</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window : g.Windows) <span class="comment">// FIXME-OPT</span></div>
<div class="line"><a id="l15861" name="l15861"></a><span class="lineno">15861</span>        if (translate_all_windows || (window-&gt;Viewport == viewport &amp;&amp; (old_size == new_size || test_still_fit_rect.Contains(window-&gt;Rect()))))</div>
<div class="line"><a id="l15862" name="l15862"></a><span class="lineno">15862</span>            TranslateWindow(window, delta_pos);</div>
<div class="line"><a id="l15863" name="l15863"></a><span class="lineno">15863</span>}</div>
<div class="line"><a id="l15864" name="l15864"></a><span class="lineno">15864</span> </div>
<div class="line"><a id="l15865" name="l15865"></a><span class="lineno">15865</span><span class="comment">// Scale all windows (position, size). Use when e.g. changing DPI. (This is a lossy operation!)</span></div>
<div class="line"><a id="l15866" name="l15866"></a><span class="lineno">15866</span><span class="keywordtype">void</span> ImGui::ScaleWindowsInViewport(<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport, <span class="keywordtype">float</span> scale)</div>
<div class="line"><a id="l15867" name="l15867"></a><span class="lineno">15867</span>{</div>
<div class="line"><a id="l15868" name="l15868"></a><span class="lineno">15868</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15869" name="l15869"></a><span class="lineno">15869</span>    <span class="keywordflow">if</span> (viewport-&gt;Window)</div>
<div class="line"><a id="l15870" name="l15870"></a><span class="lineno">15870</span>    {</div>
<div class="line"><a id="l15871" name="l15871"></a><span class="lineno">15871</span>        ScaleWindow(viewport-&gt;Window, scale);</div>
<div class="line"><a id="l15872" name="l15872"></a><span class="lineno">15872</span>    }</div>
<div class="line"><a id="l15873" name="l15873"></a><span class="lineno">15873</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l15874" name="l15874"></a><span class="lineno">15874</span>    {</div>
<div class="line"><a id="l15875" name="l15875"></a><span class="lineno">15875</span>        <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window : g.Windows)</div>
<div class="line"><a id="l15876" name="l15876"></a><span class="lineno">15876</span>            if (window-&gt;Viewport == viewport)</div>
<div class="line"><a id="l15877" name="l15877"></a><span class="lineno">15877</span>                ScaleWindow(window, scale);</div>
<div class="line"><a id="l15878" name="l15878"></a><span class="lineno">15878</span>    }</div>
<div class="line"><a id="l15879" name="l15879"></a><span class="lineno">15879</span>}</div>
<div class="line"><a id="l15880" name="l15880"></a><span class="lineno">15880</span> </div>
<div class="line"><a id="l15881" name="l15881"></a><span class="lineno">15881</span><span class="comment">// If the backend doesn&#39;t set MouseLastHoveredViewport or doesn&#39;t honor ImGuiViewportFlags_NoInputs, we do a search ourselves.</span></div>
<div class="line"><a id="l15882" name="l15882"></a><span class="lineno">15882</span><span class="comment">// A) It won&#39;t take account of the possibility that non-imgui windows may be in-between our dragged window and our target window.</span></div>
<div class="line"><a id="l15883" name="l15883"></a><span class="lineno">15883</span><span class="comment">// B) It requires Platform_GetWindowFocus to be implemented by backend.</span></div>
<div class="line"><a id="l15884" name="l15884"></a><span class="lineno">15884</span><a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* ImGui::FindHoveredViewportFromPlatformWindowStack(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; mouse_platform_pos)</div>
<div class="line"><a id="l15885" name="l15885"></a><span class="lineno">15885</span>{</div>
<div class="line"><a id="l15886" name="l15886"></a><span class="lineno">15886</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15887" name="l15887"></a><span class="lineno">15887</span>    <a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* best_candidate = NULL;</div>
<div class="line"><a id="l15888" name="l15888"></a><span class="lineno">15888</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport : g.Viewports)</div>
<div class="line"><a id="l15889" name="l15889"></a><span class="lineno">15889</span>        if (!(viewport-&gt;Flags &amp; (ImGuiViewportFlags_NoInputs | ImGuiViewportFlags_IsMinimized)) &amp;&amp; viewport-&gt;GetMainRect().Contains(mouse_platform_pos))</div>
<div class="line"><a id="l15890" name="l15890"></a><span class="lineno">15890</span>            if (best_candidate == NULL || best_candidate-&gt;LastFocusedStampCount &lt; viewport-&gt;LastFocusedStampCount)</div>
<div class="line"><a id="l15891" name="l15891"></a><span class="lineno">15891</span>                best_candidate = viewport;</div>
<div class="line"><a id="l15892" name="l15892"></a><span class="lineno">15892</span>    <span class="keywordflow">return</span> best_candidate;</div>
<div class="line"><a id="l15893" name="l15893"></a><span class="lineno">15893</span>}</div>
<div class="line"><a id="l15894" name="l15894"></a><span class="lineno">15894</span> </div>
<div class="line"><a id="l15895" name="l15895"></a><span class="lineno">15895</span><span class="comment">// Update viewports and monitor infos</span></div>
<div class="line"><a id="l15896" name="l15896"></a><span class="lineno">15896</span><span class="comment">// Note that this is running even if &#39;ImGuiConfigFlags_ViewportsEnable&#39; is not set, in order to clear unused viewports (if any) and update monitor info.</span></div>
<div class="line"><a id="l15897" name="l15897"></a><span class="lineno">15897</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::UpdateViewportsNewFrame()</div>
<div class="line"><a id="l15898" name="l15898"></a><span class="lineno">15898</span>{</div>
<div class="line"><a id="l15899" name="l15899"></a><span class="lineno">15899</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l15900" name="l15900"></a><span class="lineno">15900</span>    IM_ASSERT(g.PlatformIO.Viewports.Size &lt;= g.Viewports.Size);</div>
<div class="line"><a id="l15901" name="l15901"></a><span class="lineno">15901</span> </div>
<div class="line"><a id="l15902" name="l15902"></a><span class="lineno">15902</span>    <span class="comment">// Update Minimized status (we need it first in order to decide if we&#39;ll apply Pos/Size of the main viewport)</span></div>
<div class="line"><a id="l15903" name="l15903"></a><span class="lineno">15903</span>    <span class="comment">// Update Focused status</span></div>
<div class="line"><a id="l15904" name="l15904"></a><span class="lineno">15904</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> viewports_enabled = (g.ConfigFlagsCurrFrame &amp; ImGuiConfigFlags_ViewportsEnable) != 0;</div>
<div class="line"><a id="l15905" name="l15905"></a><span class="lineno">15905</span>    <span class="keywordflow">if</span> (viewports_enabled)</div>
<div class="line"><a id="l15906" name="l15906"></a><span class="lineno">15906</span>    {</div>
<div class="line"><a id="l15907" name="l15907"></a><span class="lineno">15907</span>        <a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* focused_viewport = NULL;</div>
<div class="line"><a id="l15908" name="l15908"></a><span class="lineno">15908</span>        <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport : g.Viewports)</div>
<div class="line"><a id="l15909" name="l15909"></a><span class="lineno">15909</span>        {</div>
<div class="line"><a id="l15910" name="l15910"></a><span class="lineno">15910</span>            <span class="keyword">const</span> <span class="keywordtype">bool</span> platform_funcs_available = viewport-&gt;PlatformWindowCreated;</div>
<div class="line"><a id="l15911" name="l15911"></a><span class="lineno">15911</span>            <span class="keywordflow">if</span> (g.PlatformIO.Platform_GetWindowMinimized &amp;&amp; platform_funcs_available)</div>
<div class="line"><a id="l15912" name="l15912"></a><span class="lineno">15912</span>            {</div>
<div class="line"><a id="l15913" name="l15913"></a><span class="lineno">15913</span>                <span class="keywordtype">bool</span> is_minimized = g.PlatformIO.Platform_GetWindowMinimized(viewport);</div>
<div class="line"><a id="l15914" name="l15914"></a><span class="lineno">15914</span>                <span class="keywordflow">if</span> (is_minimized)</div>
<div class="line"><a id="l15915" name="l15915"></a><span class="lineno">15915</span>                    viewport-&gt;Flags |= ImGuiViewportFlags_IsMinimized;</div>
<div class="line"><a id="l15916" name="l15916"></a><span class="lineno">15916</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l15917" name="l15917"></a><span class="lineno">15917</span>                    viewport-&gt;Flags &amp;= ~ImGuiViewportFlags_IsMinimized;</div>
<div class="line"><a id="l15918" name="l15918"></a><span class="lineno">15918</span>            }</div>
<div class="line"><a id="l15919" name="l15919"></a><span class="lineno">15919</span> </div>
<div class="line"><a id="l15920" name="l15920"></a><span class="lineno">15920</span>            <span class="comment">// Update our implicit z-order knowledge of platform windows, which is used when the backend cannot provide io.MouseHoveredViewport.</span></div>
<div class="line"><a id="l15921" name="l15921"></a><span class="lineno">15921</span>            <span class="comment">// When setting Platform_GetWindowFocus, it is expected that the platform backend can handle calls without crashing if it doesn&#39;t have data stored.</span></div>
<div class="line"><a id="l15922" name="l15922"></a><span class="lineno">15922</span>            <span class="keywordflow">if</span> (g.PlatformIO.Platform_GetWindowFocus &amp;&amp; platform_funcs_available)</div>
<div class="line"><a id="l15923" name="l15923"></a><span class="lineno">15923</span>            {</div>
<div class="line"><a id="l15924" name="l15924"></a><span class="lineno">15924</span>                <span class="keywordtype">bool</span> is_focused = g.PlatformIO.Platform_GetWindowFocus(viewport);</div>
<div class="line"><a id="l15925" name="l15925"></a><span class="lineno">15925</span>                <span class="keywordflow">if</span> (is_focused)</div>
<div class="line"><a id="l15926" name="l15926"></a><span class="lineno">15926</span>                    viewport-&gt;Flags |= ImGuiViewportFlags_IsFocused;</div>
<div class="line"><a id="l15927" name="l15927"></a><span class="lineno">15927</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l15928" name="l15928"></a><span class="lineno">15928</span>                    viewport-&gt;Flags &amp;= ~ImGuiViewportFlags_IsFocused;</div>
<div class="line"><a id="l15929" name="l15929"></a><span class="lineno">15929</span>                <span class="keywordflow">if</span> (is_focused)</div>
<div class="line"><a id="l15930" name="l15930"></a><span class="lineno">15930</span>                    focused_viewport = viewport;</div>
<div class="line"><a id="l15931" name="l15931"></a><span class="lineno">15931</span>            }</div>
<div class="line"><a id="l15932" name="l15932"></a><span class="lineno">15932</span>        }</div>
<div class="line"><a id="l15933" name="l15933"></a><span class="lineno">15933</span> </div>
<div class="line"><a id="l15934" name="l15934"></a><span class="lineno">15934</span>        <span class="comment">// Focused viewport has changed?</span></div>
<div class="line"><a id="l15935" name="l15935"></a><span class="lineno">15935</span>        <span class="keywordflow">if</span> (focused_viewport &amp;&amp; g.PlatformLastFocusedViewportId != focused_viewport-&gt;ID)</div>
<div class="line"><a id="l15936" name="l15936"></a><span class="lineno">15936</span>        {</div>
<div class="line"><a id="l15937" name="l15937"></a><span class="lineno">15937</span>            IMGUI_DEBUG_LOG_VIEWPORT(<span class="stringliteral">&quot;[viewport] Focused viewport changed %08X -&gt; %08X, attempting to apply our focus.\n&quot;</span>, g.PlatformLastFocusedViewportId, focused_viewport-&gt;ID);</div>
<div class="line"><a id="l15938" name="l15938"></a><span class="lineno">15938</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiViewport.html">ImGuiViewport</a>* prev_focused_viewport = FindViewportByID(g.PlatformLastFocusedViewportId);</div>
<div class="line"><a id="l15939" name="l15939"></a><span class="lineno">15939</span>            <span class="keyword">const</span> <span class="keywordtype">bool</span> prev_focused_has_been_destroyed = (prev_focused_viewport == NULL) || (prev_focused_viewport-&gt;PlatformWindowCreated == <span class="keyword">false</span>);</div>
<div class="line"><a id="l15940" name="l15940"></a><span class="lineno">15940</span> </div>
<div class="line"><a id="l15941" name="l15941"></a><span class="lineno">15941</span>            <span class="comment">// Store a tag so we can infer z-order easily from all our windows</span></div>
<div class="line"><a id="l15942" name="l15942"></a><span class="lineno">15942</span>            <span class="comment">// We compare PlatformLastFocusedViewportId so newly created viewports with _NoFocusOnAppearing flag</span></div>
<div class="line"><a id="l15943" name="l15943"></a><span class="lineno">15943</span>            <span class="comment">// will keep the front most stamp instead of losing it back to their parent viewport.</span></div>
<div class="line"><a id="l15944" name="l15944"></a><span class="lineno">15944</span>            <span class="keywordflow">if</span> (focused_viewport-&gt;LastFocusedStampCount != g.ViewportFocusedStampCount)</div>
<div class="line"><a id="l15945" name="l15945"></a><span class="lineno">15945</span>                focused_viewport-&gt;LastFocusedStampCount = ++g.ViewportFocusedStampCount;</div>
<div class="line"><a id="l15946" name="l15946"></a><span class="lineno">15946</span>            g.PlatformLastFocusedViewportId = focused_viewport-&gt;ID;</div>
<div class="line"><a id="l15947" name="l15947"></a><span class="lineno">15947</span> </div>
<div class="line"><a id="l15948" name="l15948"></a><span class="lineno">15948</span>            <span class="comment">// Focus associated dear imgui window</span></div>
<div class="line"><a id="l15949" name="l15949"></a><span class="lineno">15949</span>            <span class="comment">// - if focus didn&#39;t happen with a click within imgui boundaries, e.g. Clicking platform title bar. (#6299)</span></div>
<div class="line"><a id="l15950" name="l15950"></a><span class="lineno">15950</span>            <span class="comment">// - if focus didn&#39;t happen because we destroyed another window (#6462)</span></div>
<div class="line"><a id="l15951" name="l15951"></a><span class="lineno">15951</span>            <span class="comment">// FIXME: perhaps &#39;FocusTopMostWindowUnderOne()&#39; can handle the &#39;focused_window-&gt;Window != NULL&#39; case as well.</span></div>
<div class="line"><a id="l15952" name="l15952"></a><span class="lineno">15952</span>            <span class="keyword">const</span> <span class="keywordtype">bool</span> apply_imgui_focus_on_focused_viewport = !IsAnyMouseDown() &amp;&amp; !prev_focused_has_been_destroyed;</div>
<div class="line"><a id="l15953" name="l15953"></a><span class="lineno">15953</span>            <span class="keywordflow">if</span> (apply_imgui_focus_on_focused_viewport)</div>
<div class="line"><a id="l15954" name="l15954"></a><span class="lineno">15954</span>            {</div>
<div class="line"><a id="l15955" name="l15955"></a><span class="lineno">15955</span>                focused_viewport-&gt;LastFocusedHadNavWindow |= (g.NavWindow != NULL) &amp;&amp; (g.NavWindow-&gt;Viewport == focused_viewport); <span class="comment">// Update so a window changing viewport won&#39;t lose focus.</span></div>
<div class="line"><a id="l15956" name="l15956"></a><span class="lineno">15956</span>                ImGuiFocusRequestFlags focus_request_flags = ImGuiFocusRequestFlags_UnlessBelowModal | ImGuiFocusRequestFlags_RestoreFocusedChild;</div>
<div class="line"><a id="l15957" name="l15957"></a><span class="lineno">15957</span>                <span class="keywordflow">if</span> (focused_viewport-&gt;Window != NULL)</div>
<div class="line"><a id="l15958" name="l15958"></a><span class="lineno">15958</span>                    FocusWindow(focused_viewport-&gt;Window, focus_request_flags);</div>
<div class="line"><a id="l15959" name="l15959"></a><span class="lineno">15959</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (focused_viewport-&gt;LastFocusedHadNavWindow)</div>
<div class="line"><a id="l15960" name="l15960"></a><span class="lineno">15960</span>                    FocusTopMostWindowUnderOne(NULL, NULL, focused_viewport, focus_request_flags); <span class="comment">// Focus top most in viewport</span></div>
<div class="line"><a id="l15961" name="l15961"></a><span class="lineno">15961</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l15962" name="l15962"></a><span class="lineno">15962</span>                    FocusWindow(NULL, focus_request_flags); <span class="comment">// No window had focus last time viewport was focused</span></div>
<div class="line"><a id="l15963" name="l15963"></a><span class="lineno">15963</span>            }</div>
<div class="line"><a id="l15964" name="l15964"></a><span class="lineno">15964</span>        }</div>
<div class="line"><a id="l15965" name="l15965"></a><span class="lineno">15965</span>        <span class="keywordflow">if</span> (focused_viewport)</div>
<div class="line"><a id="l15966" name="l15966"></a><span class="lineno">15966</span>            focused_viewport-&gt;LastFocusedHadNavWindow = (g.NavWindow != NULL) &amp;&amp; (g.NavWindow-&gt;Viewport == focused_viewport);</div>
<div class="line"><a id="l15967" name="l15967"></a><span class="lineno">15967</span>    }</div>
<div class="line"><a id="l15968" name="l15968"></a><span class="lineno">15968</span> </div>
<div class="line"><a id="l15969" name="l15969"></a><span class="lineno">15969</span>    <span class="comment">// Create/update main viewport with current platform position.</span></div>
<div class="line"><a id="l15970" name="l15970"></a><span class="lineno">15970</span>    <span class="comment">// FIXME-VIEWPORT: Size is driven by backend/user code for backward-compatibility but we should aim to make this more consistent.</span></div>
<div class="line"><a id="l15971" name="l15971"></a><span class="lineno">15971</span>    <a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* main_viewport = g.Viewports[0];</div>
<div class="line"><a id="l15972" name="l15972"></a><span class="lineno">15972</span>    IM_ASSERT(main_viewport-&gt;ID == IMGUI_VIEWPORT_DEFAULT_ID);</div>
<div class="line"><a id="l15973" name="l15973"></a><span class="lineno">15973</span>    IM_ASSERT(main_viewport-&gt;Window == NULL);</div>
<div class="line"><a id="l15974" name="l15974"></a><span class="lineno">15974</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> main_viewport_pos = viewports_enabled ? g.PlatformIO.Platform_GetWindowPos(main_viewport) : <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, 0.0f);</div>
<div class="line"><a id="l15975" name="l15975"></a><span class="lineno">15975</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> main_viewport_size = g.IO.DisplaySize;</div>
<div class="line"><a id="l15976" name="l15976"></a><span class="lineno">15976</span>    <span class="keywordflow">if</span> (viewports_enabled &amp;&amp; (main_viewport-&gt;Flags &amp; ImGuiViewportFlags_IsMinimized))</div>
<div class="line"><a id="l15977" name="l15977"></a><span class="lineno">15977</span>    {</div>
<div class="line"><a id="l15978" name="l15978"></a><span class="lineno">15978</span>        main_viewport_pos = main_viewport-&gt;Pos;    <span class="comment">// Preserve last pos/size when minimized (FIXME: We don&#39;t do the same for Size outside of the viewport path)</span></div>
<div class="line"><a id="l15979" name="l15979"></a><span class="lineno">15979</span>        main_viewport_size = main_viewport-&gt;Size;</div>
<div class="line"><a id="l15980" name="l15980"></a><span class="lineno">15980</span>    }</div>
<div class="line"><a id="l15981" name="l15981"></a><span class="lineno">15981</span>    AddUpdateViewport(NULL, IMGUI_VIEWPORT_DEFAULT_ID, main_viewport_pos, main_viewport_size, ImGuiViewportFlags_OwnedByApp | ImGuiViewportFlags_CanHostOtherWindows);</div>
<div class="line"><a id="l15982" name="l15982"></a><span class="lineno">15982</span> </div>
<div class="line"><a id="l15983" name="l15983"></a><span class="lineno">15983</span>    g.CurrentDpiScale = 0.0f;</div>
<div class="line"><a id="l15984" name="l15984"></a><span class="lineno">15984</span>    g.CurrentViewport = NULL;</div>
<div class="line"><a id="l15985" name="l15985"></a><span class="lineno">15985</span>    g.MouseViewport = NULL;</div>
<div class="line"><a id="l15986" name="l15986"></a><span class="lineno">15986</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; g.Viewports.Size; n++)</div>
<div class="line"><a id="l15987" name="l15987"></a><span class="lineno">15987</span>    {</div>
<div class="line"><a id="l15988" name="l15988"></a><span class="lineno">15988</span>        <a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport = g.Viewports[n];</div>
<div class="line"><a id="l15989" name="l15989"></a><span class="lineno">15989</span>        viewport-&gt;Idx = n;</div>
<div class="line"><a id="l15990" name="l15990"></a><span class="lineno">15990</span> </div>
<div class="line"><a id="l15991" name="l15991"></a><span class="lineno">15991</span>        <span class="comment">// Erase unused viewports</span></div>
<div class="line"><a id="l15992" name="l15992"></a><span class="lineno">15992</span>        <span class="keywordflow">if</span> (n &gt; 0 &amp;&amp; viewport-&gt;LastFrameActive &lt; g.FrameCount - 2)</div>
<div class="line"><a id="l15993" name="l15993"></a><span class="lineno">15993</span>        {</div>
<div class="line"><a id="l15994" name="l15994"></a><span class="lineno">15994</span>            DestroyViewport(viewport);</div>
<div class="line"><a id="l15995" name="l15995"></a><span class="lineno">15995</span>            n--;</div>
<div class="line"><a id="l15996" name="l15996"></a><span class="lineno">15996</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l15997" name="l15997"></a><span class="lineno">15997</span>        }</div>
<div class="line"><a id="l15998" name="l15998"></a><span class="lineno">15998</span> </div>
<div class="line"><a id="l15999" name="l15999"></a><span class="lineno">15999</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> platform_funcs_available = viewport-&gt;PlatformWindowCreated;</div>
<div class="line"><a id="l16000" name="l16000"></a><span class="lineno">16000</span>        <span class="keywordflow">if</span> (viewports_enabled)</div>
<div class="line"><a id="l16001" name="l16001"></a><span class="lineno">16001</span>        {</div>
<div class="line"><a id="l16002" name="l16002"></a><span class="lineno">16002</span>            <span class="comment">// Update Position and Size (from Platform Window to ImGui) if requested.</span></div>
<div class="line"><a id="l16003" name="l16003"></a><span class="lineno">16003</span>            <span class="comment">// We do it early in the frame instead of waiting for UpdatePlatformWindows() to avoid a frame of lag when moving/resizing using OS facilities.</span></div>
<div class="line"><a id="l16004" name="l16004"></a><span class="lineno">16004</span>            <span class="keywordflow">if</span> (!(viewport-&gt;Flags &amp; ImGuiViewportFlags_IsMinimized) &amp;&amp; platform_funcs_available)</div>
<div class="line"><a id="l16005" name="l16005"></a><span class="lineno">16005</span>            {</div>
<div class="line"><a id="l16006" name="l16006"></a><span class="lineno">16006</span>                <span class="comment">// Viewport-&gt;WorkPos and WorkSize will be updated below</span></div>
<div class="line"><a id="l16007" name="l16007"></a><span class="lineno">16007</span>                <span class="keywordflow">if</span> (viewport-&gt;PlatformRequestMove)</div>
<div class="line"><a id="l16008" name="l16008"></a><span class="lineno">16008</span>                    viewport-&gt;Pos = viewport-&gt;LastPlatformPos = g.PlatformIO.Platform_GetWindowPos(viewport);</div>
<div class="line"><a id="l16009" name="l16009"></a><span class="lineno">16009</span>                <span class="keywordflow">if</span> (viewport-&gt;PlatformRequestResize)</div>
<div class="line"><a id="l16010" name="l16010"></a><span class="lineno">16010</span>                    viewport-&gt;Size = viewport-&gt;LastPlatformSize = g.PlatformIO.Platform_GetWindowSize(viewport);</div>
<div class="line"><a id="l16011" name="l16011"></a><span class="lineno">16011</span>            }</div>
<div class="line"><a id="l16012" name="l16012"></a><span class="lineno">16012</span>        }</div>
<div class="line"><a id="l16013" name="l16013"></a><span class="lineno">16013</span> </div>
<div class="line"><a id="l16014" name="l16014"></a><span class="lineno">16014</span>        <span class="comment">// Update/copy monitor info</span></div>
<div class="line"><a id="l16015" name="l16015"></a><span class="lineno">16015</span>        UpdateViewportPlatformMonitor(viewport);</div>
<div class="line"><a id="l16016" name="l16016"></a><span class="lineno">16016</span> </div>
<div class="line"><a id="l16017" name="l16017"></a><span class="lineno">16017</span>        <span class="comment">// Lock down space taken by menu bars and status bars + query initial insets from backend</span></div>
<div class="line"><a id="l16018" name="l16018"></a><span class="lineno">16018</span>        <span class="comment">// Setup initial value for functions like BeginMainMenuBar(), DockSpaceOverViewport() etc.</span></div>
<div class="line"><a id="l16019" name="l16019"></a><span class="lineno">16019</span>        viewport-&gt;WorkInsetMin = viewport-&gt;BuildWorkInsetMin;</div>
<div class="line"><a id="l16020" name="l16020"></a><span class="lineno">16020</span>        viewport-&gt;WorkInsetMax = viewport-&gt;BuildWorkInsetMax;</div>
<div class="line"><a id="l16021" name="l16021"></a><span class="lineno">16021</span>        viewport-&gt;BuildWorkInsetMin = viewport-&gt;BuildWorkInsetMax = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, 0.0f);</div>
<div class="line"><a id="l16022" name="l16022"></a><span class="lineno">16022</span>        <span class="keywordflow">if</span> (g.PlatformIO.Platform_GetWindowWorkAreaInsets != NULL &amp;&amp; platform_funcs_available)</div>
<div class="line"><a id="l16023" name="l16023"></a><span class="lineno">16023</span>        {</div>
<div class="line"><a id="l16024" name="l16024"></a><span class="lineno">16024</span>            <a class="code hl_struct" href="structImVec4.html">ImVec4</a> insets = g.PlatformIO.Platform_GetWindowWorkAreaInsets(viewport);</div>
<div class="line"><a id="l16025" name="l16025"></a><span class="lineno">16025</span>            IM_ASSERT(insets.x &gt;= 0.0f &amp;&amp; insets.y &gt;= 0.0f &amp;&amp; insets.z &gt;= 0.0f &amp;&amp; insets.w &gt;= 0.0f);</div>
<div class="line"><a id="l16026" name="l16026"></a><span class="lineno">16026</span>            viewport-&gt;BuildWorkInsetMin = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(insets.x, insets.y);</div>
<div class="line"><a id="l16027" name="l16027"></a><span class="lineno">16027</span>            viewport-&gt;BuildWorkInsetMax = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(insets.z, insets.w);</div>
<div class="line"><a id="l16028" name="l16028"></a><span class="lineno">16028</span>        }</div>
<div class="line"><a id="l16029" name="l16029"></a><span class="lineno">16029</span>        viewport-&gt;UpdateWorkRect();</div>
<div class="line"><a id="l16030" name="l16030"></a><span class="lineno">16030</span> </div>
<div class="line"><a id="l16031" name="l16031"></a><span class="lineno">16031</span>        <span class="comment">// Reset alpha every frame. Users of transparency (docking) needs to request a lower alpha back.</span></div>
<div class="line"><a id="l16032" name="l16032"></a><span class="lineno">16032</span>        viewport-&gt;Alpha = 1.0f;</div>
<div class="line"><a id="l16033" name="l16033"></a><span class="lineno">16033</span> </div>
<div class="line"><a id="l16034" name="l16034"></a><span class="lineno">16034</span>        <span class="comment">// Translate Dear ImGui windows when a Host Viewport has been moved</span></div>
<div class="line"><a id="l16035" name="l16035"></a><span class="lineno">16035</span>        <span class="comment">// (This additionally keeps windows at the same place when ImGuiConfigFlags_ViewportsEnable is toggled!)</span></div>
<div class="line"><a id="l16036" name="l16036"></a><span class="lineno">16036</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> viewport_delta_pos = viewport-&gt;Pos - viewport-&gt;LastPos;</div>
<div class="line"><a id="l16037" name="l16037"></a><span class="lineno">16037</span>        <span class="keywordflow">if</span> ((viewport-&gt;Flags &amp; ImGuiViewportFlags_CanHostOtherWindows) &amp;&amp; (viewport_delta_pos.x != 0.0f || viewport_delta_pos.y != 0.0f))</div>
<div class="line"><a id="l16038" name="l16038"></a><span class="lineno">16038</span>            TranslateWindowsInViewport(viewport, viewport-&gt;LastPos, viewport-&gt;Pos, viewport-&gt;LastSize, viewport-&gt;Size);</div>
<div class="line"><a id="l16039" name="l16039"></a><span class="lineno">16039</span> </div>
<div class="line"><a id="l16040" name="l16040"></a><span class="lineno">16040</span>        <span class="comment">// Update DPI scale</span></div>
<div class="line"><a id="l16041" name="l16041"></a><span class="lineno">16041</span>        <span class="keywordtype">float</span> new_dpi_scale;</div>
<div class="line"><a id="l16042" name="l16042"></a><span class="lineno">16042</span>        <span class="keywordflow">if</span> (g.PlatformIO.Platform_GetWindowDpiScale &amp;&amp; platform_funcs_available)</div>
<div class="line"><a id="l16043" name="l16043"></a><span class="lineno">16043</span>            new_dpi_scale = g.PlatformIO.Platform_GetWindowDpiScale(viewport);</div>
<div class="line"><a id="l16044" name="l16044"></a><span class="lineno">16044</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (viewport-&gt;PlatformMonitor != -1)</div>
<div class="line"><a id="l16045" name="l16045"></a><span class="lineno">16045</span>            new_dpi_scale = g.PlatformIO.Monitors[viewport-&gt;PlatformMonitor].DpiScale;</div>
<div class="line"><a id="l16046" name="l16046"></a><span class="lineno">16046</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l16047" name="l16047"></a><span class="lineno">16047</span>            new_dpi_scale = (viewport-&gt;DpiScale != 0.0f) ? viewport-&gt;DpiScale : 1.0f;</div>
<div class="line"><a id="l16048" name="l16048"></a><span class="lineno">16048</span>        IM_ASSERT(new_dpi_scale &gt; 0.0f &amp;&amp; new_dpi_scale &lt; 99.0f); <span class="comment">// Typical correct values would be between 1.0f and 4.0f</span></div>
<div class="line"><a id="l16049" name="l16049"></a><span class="lineno">16049</span>        <span class="keywordflow">if</span> (viewport-&gt;DpiScale != 0.0f &amp;&amp; new_dpi_scale != viewport-&gt;DpiScale)</div>
<div class="line"><a id="l16050" name="l16050"></a><span class="lineno">16050</span>        {</div>
<div class="line"><a id="l16051" name="l16051"></a><span class="lineno">16051</span>            <span class="keywordtype">float</span> scale_factor = new_dpi_scale / viewport-&gt;DpiScale;</div>
<div class="line"><a id="l16052" name="l16052"></a><span class="lineno">16052</span>            <span class="keywordflow">if</span> (g.IO.ConfigFlags &amp; ImGuiConfigFlags_DpiEnableScaleViewports)</div>
<div class="line"><a id="l16053" name="l16053"></a><span class="lineno">16053</span>                ScaleWindowsInViewport(viewport, scale_factor);</div>
<div class="line"><a id="l16054" name="l16054"></a><span class="lineno">16054</span>            <span class="comment">//if (viewport == GetMainViewport())</span></div>
<div class="line"><a id="l16055" name="l16055"></a><span class="lineno">16055</span>            <span class="comment">//    g.PlatformInterface.SetWindowSize(viewport, viewport-&gt;Size * scale_factor);</span></div>
<div class="line"><a id="l16056" name="l16056"></a><span class="lineno">16056</span> </div>
<div class="line"><a id="l16057" name="l16057"></a><span class="lineno">16057</span>            <span class="comment">// Scale our window moving pivot so that the window will rescale roughly around the mouse position.</span></div>
<div class="line"><a id="l16058" name="l16058"></a><span class="lineno">16058</span>            <span class="comment">// FIXME-VIEWPORT: This currently creates a resizing feedback loop when a window is straddling a DPI transition border.</span></div>
<div class="line"><a id="l16059" name="l16059"></a><span class="lineno">16059</span>            <span class="comment">// (Minor: since our sizes do not perfectly linearly scale, deferring the click offset scale until we know the actual window scale ratio may get us slightly more precise mouse positioning.)</span></div>
<div class="line"><a id="l16060" name="l16060"></a><span class="lineno">16060</span>            <span class="comment">//if (g.MovingWindow != NULL &amp;&amp; g.MovingWindow-&gt;Viewport == viewport)</span></div>
<div class="line"><a id="l16061" name="l16061"></a><span class="lineno">16061</span>            <span class="comment">//    g.ActiveIdClickOffset = ImTrunc(g.ActiveIdClickOffset * scale_factor);</span></div>
<div class="line"><a id="l16062" name="l16062"></a><span class="lineno">16062</span>        }</div>
<div class="line"><a id="l16063" name="l16063"></a><span class="lineno">16063</span>        viewport-&gt;DpiScale = new_dpi_scale;</div>
<div class="line"><a id="l16064" name="l16064"></a><span class="lineno">16064</span>    }</div>
<div class="line"><a id="l16065" name="l16065"></a><span class="lineno">16065</span> </div>
<div class="line"><a id="l16066" name="l16066"></a><span class="lineno">16066</span>    <span class="comment">// Update fallback monitor</span></div>
<div class="line"><a id="l16067" name="l16067"></a><span class="lineno">16067</span>    g.PlatformMonitorsFullWorkRect = <a class="code hl_struct" href="structImRect.html">ImRect</a>(+FLT_MAX, +FLT_MAX, -FLT_MAX, -FLT_MAX);</div>
<div class="line"><a id="l16068" name="l16068"></a><span class="lineno">16068</span>    <span class="keywordflow">if</span> (g.PlatformIO.Monitors.Size == 0)</div>
<div class="line"><a id="l16069" name="l16069"></a><span class="lineno">16069</span>    {</div>
<div class="line"><a id="l16070" name="l16070"></a><span class="lineno">16070</span>        <a class="code hl_struct" href="structImGuiPlatformMonitor.html">ImGuiPlatformMonitor</a>* monitor = &amp;g.FallbackMonitor;</div>
<div class="line"><a id="l16071" name="l16071"></a><span class="lineno">16071</span>        monitor-&gt;MainPos = main_viewport-&gt;Pos;</div>
<div class="line"><a id="l16072" name="l16072"></a><span class="lineno">16072</span>        monitor-&gt;MainSize = main_viewport-&gt;Size;</div>
<div class="line"><a id="l16073" name="l16073"></a><span class="lineno">16073</span>        monitor-&gt;WorkPos = main_viewport-&gt;WorkPos;</div>
<div class="line"><a id="l16074" name="l16074"></a><span class="lineno">16074</span>        monitor-&gt;WorkSize = main_viewport-&gt;WorkSize;</div>
<div class="line"><a id="l16075" name="l16075"></a><span class="lineno">16075</span>        monitor-&gt;DpiScale = main_viewport-&gt;DpiScale;</div>
<div class="line"><a id="l16076" name="l16076"></a><span class="lineno">16076</span>        g.PlatformMonitorsFullWorkRect.Add(monitor-&gt;WorkPos);</div>
<div class="line"><a id="l16077" name="l16077"></a><span class="lineno">16077</span>        g.PlatformMonitorsFullWorkRect.Add(monitor-&gt;WorkPos + monitor-&gt;WorkSize);</div>
<div class="line"><a id="l16078" name="l16078"></a><span class="lineno">16078</span>    }</div>
<div class="line"><a id="l16079" name="l16079"></a><span class="lineno">16079</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l16080" name="l16080"></a><span class="lineno">16080</span>    {</div>
<div class="line"><a id="l16081" name="l16081"></a><span class="lineno">16081</span>        g.FallbackMonitor = g.PlatformIO.Monitors[0];</div>
<div class="line"><a id="l16082" name="l16082"></a><span class="lineno">16082</span>    }</div>
<div class="line"><a id="l16083" name="l16083"></a><span class="lineno">16083</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiPlatformMonitor.html">ImGuiPlatformMonitor</a>&amp; monitor : g.PlatformIO.Monitors)</div>
<div class="line"><a id="l16084" name="l16084"></a><span class="lineno">16084</span>    {</div>
<div class="line"><a id="l16085" name="l16085"></a><span class="lineno">16085</span>        g.PlatformMonitorsFullWorkRect.Add(monitor.WorkPos);</div>
<div class="line"><a id="l16086" name="l16086"></a><span class="lineno">16086</span>        g.PlatformMonitorsFullWorkRect.Add(monitor.WorkPos + monitor.WorkSize);</div>
<div class="line"><a id="l16087" name="l16087"></a><span class="lineno">16087</span>    }</div>
<div class="line"><a id="l16088" name="l16088"></a><span class="lineno">16088</span> </div>
<div class="line"><a id="l16089" name="l16089"></a><span class="lineno">16089</span>    <span class="keywordflow">if</span> (!viewports_enabled)</div>
<div class="line"><a id="l16090" name="l16090"></a><span class="lineno">16090</span>    {</div>
<div class="line"><a id="l16091" name="l16091"></a><span class="lineno">16091</span>        g.MouseViewport = main_viewport;</div>
<div class="line"><a id="l16092" name="l16092"></a><span class="lineno">16092</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l16093" name="l16093"></a><span class="lineno">16093</span>    }</div>
<div class="line"><a id="l16094" name="l16094"></a><span class="lineno">16094</span> </div>
<div class="line"><a id="l16095" name="l16095"></a><span class="lineno">16095</span>    <span class="comment">// Mouse handling: decide on the actual mouse viewport for this frame between the active/focused viewport and the hovered viewport.</span></div>
<div class="line"><a id="l16096" name="l16096"></a><span class="lineno">16096</span>    <span class="comment">// Note that &#39;viewport_hovered&#39; should skip over any viewport that has the ImGuiViewportFlags_NoInputs flags set.</span></div>
<div class="line"><a id="l16097" name="l16097"></a><span class="lineno">16097</span>    <a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport_hovered = NULL;</div>
<div class="line"><a id="l16098" name="l16098"></a><span class="lineno">16098</span>    <span class="keywordflow">if</span> (g.IO.BackendFlags &amp; ImGuiBackendFlags_HasMouseHoveredViewport)</div>
<div class="line"><a id="l16099" name="l16099"></a><span class="lineno">16099</span>    {</div>
<div class="line"><a id="l16100" name="l16100"></a><span class="lineno">16100</span>        viewport_hovered = g.IO.MouseHoveredViewport ? (<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>*)FindViewportByID(g.IO.MouseHoveredViewport) : NULL;</div>
<div class="line"><a id="l16101" name="l16101"></a><span class="lineno">16101</span>        <span class="keywordflow">if</span> (viewport_hovered &amp;&amp; (viewport_hovered-&gt;Flags &amp; ImGuiViewportFlags_NoInputs))</div>
<div class="line"><a id="l16102" name="l16102"></a><span class="lineno">16102</span>            viewport_hovered = FindHoveredViewportFromPlatformWindowStack(g.IO.MousePos); <span class="comment">// Backend failed to handle _NoInputs viewport: revert to our fallback.</span></div>
<div class="line"><a id="l16103" name="l16103"></a><span class="lineno">16103</span>    }</div>
<div class="line"><a id="l16104" name="l16104"></a><span class="lineno">16104</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l16105" name="l16105"></a><span class="lineno">16105</span>    {</div>
<div class="line"><a id="l16106" name="l16106"></a><span class="lineno">16106</span>        <span class="comment">// If the backend doesn&#39;t know how to honor ImGuiViewportFlags_NoInputs, we do a search ourselves. Note that this search:</span></div>
<div class="line"><a id="l16107" name="l16107"></a><span class="lineno">16107</span>        <span class="comment">// A) won&#39;t take account of the possibility that non-imgui windows may be in-between our dragged window and our target window.</span></div>
<div class="line"><a id="l16108" name="l16108"></a><span class="lineno">16108</span>        <span class="comment">// B) won&#39;t take account of how the backend apply parent&lt;&gt;child relationship to secondary viewports, which affects their Z order.</span></div>
<div class="line"><a id="l16109" name="l16109"></a><span class="lineno">16109</span>        <span class="comment">// C) uses LastFrameAsRefViewport as a flawed replacement for the last time a window was focused (we could/should fix that by introducing Focus functions in PlatformIO)</span></div>
<div class="line"><a id="l16110" name="l16110"></a><span class="lineno">16110</span>        viewport_hovered = FindHoveredViewportFromPlatformWindowStack(g.IO.MousePos);</div>
<div class="line"><a id="l16111" name="l16111"></a><span class="lineno">16111</span>    }</div>
<div class="line"><a id="l16112" name="l16112"></a><span class="lineno">16112</span>    <span class="keywordflow">if</span> (viewport_hovered != NULL)</div>
<div class="line"><a id="l16113" name="l16113"></a><span class="lineno">16113</span>        g.MouseLastHoveredViewport = viewport_hovered;</div>
<div class="line"><a id="l16114" name="l16114"></a><span class="lineno">16114</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (g.MouseLastHoveredViewport == NULL)</div>
<div class="line"><a id="l16115" name="l16115"></a><span class="lineno">16115</span>        g.MouseLastHoveredViewport = g.Viewports[0];</div>
<div class="line"><a id="l16116" name="l16116"></a><span class="lineno">16116</span> </div>
<div class="line"><a id="l16117" name="l16117"></a><span class="lineno">16117</span>    <span class="comment">// Update mouse reference viewport</span></div>
<div class="line"><a id="l16118" name="l16118"></a><span class="lineno">16118</span>    <span class="comment">// (when moving a window we aim at its viewport, but this will be overwritten below if we go in drag and drop mode)</span></div>
<div class="line"><a id="l16119" name="l16119"></a><span class="lineno">16119</span>    <span class="comment">// (MovingViewport-&gt;Viewport will be NULL in the rare situation where the window disappared while moving, set UpdateMouseMovingWindowNewFrame() for details)</span></div>
<div class="line"><a id="l16120" name="l16120"></a><span class="lineno">16120</span>    <span class="keywordflow">if</span> (g.MovingWindow &amp;&amp; g.MovingWindow-&gt;Viewport)</div>
<div class="line"><a id="l16121" name="l16121"></a><span class="lineno">16121</span>        g.MouseViewport = g.MovingWindow-&gt;Viewport;</div>
<div class="line"><a id="l16122" name="l16122"></a><span class="lineno">16122</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l16123" name="l16123"></a><span class="lineno">16123</span>        g.MouseViewport = g.MouseLastHoveredViewport;</div>
<div class="line"><a id="l16124" name="l16124"></a><span class="lineno">16124</span> </div>
<div class="line"><a id="l16125" name="l16125"></a><span class="lineno">16125</span>    <span class="comment">// When dragging something, always refer to the last hovered viewport.</span></div>
<div class="line"><a id="l16126" name="l16126"></a><span class="lineno">16126</span>    <span class="comment">// - when releasing a moving window we will revert to aiming behind (at viewport_hovered)</span></div>
<div class="line"><a id="l16127" name="l16127"></a><span class="lineno">16127</span>    <span class="comment">// - when we are between viewports, our dragged preview will tend to show in the last viewport _even_ if we don&#39;t have tooltips in their viewports (when lacking monitor info)</span></div>
<div class="line"><a id="l16128" name="l16128"></a><span class="lineno">16128</span>    <span class="comment">// - consider the case of holding on a menu item to browse child menus: even thou a mouse button is held, there&#39;s no active id because menu items only react on mouse release.</span></div>
<div class="line"><a id="l16129" name="l16129"></a><span class="lineno">16129</span>    <span class="comment">// FIXME-VIEWPORT: This is essentially broken, when ImGuiBackendFlags_HasMouseHoveredViewport is set we want to trust when viewport_hovered==NULL and use that.</span></div>
<div class="line"><a id="l16130" name="l16130"></a><span class="lineno">16130</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_mouse_dragging_with_an_expected_destination = g.DragDropActive;</div>
<div class="line"><a id="l16131" name="l16131"></a><span class="lineno">16131</span>    <span class="keywordflow">if</span> (is_mouse_dragging_with_an_expected_destination &amp;&amp; viewport_hovered == NULL)</div>
<div class="line"><a id="l16132" name="l16132"></a><span class="lineno">16132</span>        viewport_hovered = g.MouseLastHoveredViewport;</div>
<div class="line"><a id="l16133" name="l16133"></a><span class="lineno">16133</span>    <span class="keywordflow">if</span> (is_mouse_dragging_with_an_expected_destination || g.ActiveId == 0 || !IsAnyMouseDown())</div>
<div class="line"><a id="l16134" name="l16134"></a><span class="lineno">16134</span>        <span class="keywordflow">if</span> (viewport_hovered != NULL &amp;&amp; viewport_hovered != g.MouseViewport &amp;&amp; !(viewport_hovered-&gt;Flags &amp; ImGuiViewportFlags_NoInputs))</div>
<div class="line"><a id="l16135" name="l16135"></a><span class="lineno">16135</span>            g.MouseViewport = viewport_hovered;</div>
<div class="line"><a id="l16136" name="l16136"></a><span class="lineno">16136</span> </div>
<div class="line"><a id="l16137" name="l16137"></a><span class="lineno">16137</span>    IM_ASSERT(g.MouseViewport != NULL);</div>
<div class="line"><a id="l16138" name="l16138"></a><span class="lineno">16138</span>}</div>
<div class="line"><a id="l16139" name="l16139"></a><span class="lineno">16139</span> </div>
<div class="line"><a id="l16140" name="l16140"></a><span class="lineno">16140</span><span class="comment">// Update user-facing viewport list (g.Viewports -&gt; g.PlatformIO.Viewports after filtering out some)</span></div>
<div class="line"><a id="l16141" name="l16141"></a><span class="lineno">16141</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::UpdateViewportsEndFrame()</div>
<div class="line"><a id="l16142" name="l16142"></a><span class="lineno">16142</span>{</div>
<div class="line"><a id="l16143" name="l16143"></a><span class="lineno">16143</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l16144" name="l16144"></a><span class="lineno">16144</span>    g.PlatformIO.Viewports.resize(0);</div>
<div class="line"><a id="l16145" name="l16145"></a><span class="lineno">16145</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; g.Viewports.Size; i++)</div>
<div class="line"><a id="l16146" name="l16146"></a><span class="lineno">16146</span>    {</div>
<div class="line"><a id="l16147" name="l16147"></a><span class="lineno">16147</span>        <a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport = g.Viewports[i];</div>
<div class="line"><a id="l16148" name="l16148"></a><span class="lineno">16148</span>        viewport-&gt;LastPos = viewport-&gt;Pos;</div>
<div class="line"><a id="l16149" name="l16149"></a><span class="lineno">16149</span>        viewport-&gt;LastSize = viewport-&gt;Size;</div>
<div class="line"><a id="l16150" name="l16150"></a><span class="lineno">16150</span>        <span class="keywordflow">if</span> (viewport-&gt;LastFrameActive &lt; g.FrameCount || viewport-&gt;Size.x &lt;= 0.0f || viewport-&gt;Size.y &lt;= 0.0f)</div>
<div class="line"><a id="l16151" name="l16151"></a><span class="lineno">16151</span>            <span class="keywordflow">if</span> (i &gt; 0) <span class="comment">// Always include main viewport in the list</span></div>
<div class="line"><a id="l16152" name="l16152"></a><span class="lineno">16152</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l16153" name="l16153"></a><span class="lineno">16153</span>        <span class="keywordflow">if</span> (viewport-&gt;Window &amp;&amp; !IsWindowActiveAndVisible(viewport-&gt;Window))</div>
<div class="line"><a id="l16154" name="l16154"></a><span class="lineno">16154</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l16155" name="l16155"></a><span class="lineno">16155</span>        <span class="keywordflow">if</span> (i &gt; 0)</div>
<div class="line"><a id="l16156" name="l16156"></a><span class="lineno">16156</span>            IM_ASSERT(viewport-&gt;Window != NULL);</div>
<div class="line"><a id="l16157" name="l16157"></a><span class="lineno">16157</span>        g.PlatformIO.Viewports.push_back(viewport);</div>
<div class="line"><a id="l16158" name="l16158"></a><span class="lineno">16158</span>    }</div>
<div class="line"><a id="l16159" name="l16159"></a><span class="lineno">16159</span>    g.Viewports[0]-&gt;ClearRequestFlags(); <span class="comment">// Clear main viewport flags because UpdatePlatformWindows() won&#39;t do it and may not even be called</span></div>
<div class="line"><a id="l16160" name="l16160"></a><span class="lineno">16160</span>}</div>
<div class="line"><a id="l16161" name="l16161"></a><span class="lineno">16161</span> </div>
<div class="line"><a id="l16162" name="l16162"></a><span class="lineno">16162</span><span class="comment">// FIXME: We should ideally refactor the system to call this every frame (we currently don&#39;t)</span></div>
<div class="line"><a id="l16163" name="l16163"></a><span class="lineno">16163</span><a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* ImGui::AddUpdateViewport(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, ImGuiID <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; pos, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; size, ImGuiViewportFlags flags)</div>
<div class="line"><a id="l16164" name="l16164"></a><span class="lineno">16164</span>{</div>
<div class="line"><a id="l16165" name="l16165"></a><span class="lineno">16165</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l16166" name="l16166"></a><span class="lineno">16166</span>    IM_ASSERT(<span class="keywordtype">id</span> != 0);</div>
<div class="line"><a id="l16167" name="l16167"></a><span class="lineno">16167</span> </div>
<div class="line"><a id="l16168" name="l16168"></a><span class="lineno">16168</span>    flags |= ImGuiViewportFlags_IsPlatformWindow;</div>
<div class="line"><a id="l16169" name="l16169"></a><span class="lineno">16169</span>    <span class="keywordflow">if</span> (window != NULL)</div>
<div class="line"><a id="l16170" name="l16170"></a><span class="lineno">16170</span>    {</div>
<div class="line"><a id="l16171" name="l16171"></a><span class="lineno">16171</span>        <span class="keywordflow">if</span> (g.MovingWindow &amp;&amp; g.MovingWindow-&gt;RootWindowDockTree == window)</div>
<div class="line"><a id="l16172" name="l16172"></a><span class="lineno">16172</span>            flags |= ImGuiViewportFlags_NoInputs | ImGuiViewportFlags_NoFocusOnAppearing;</div>
<div class="line"><a id="l16173" name="l16173"></a><span class="lineno">16173</span>        <span class="keywordflow">if</span> ((window-&gt;Flags &amp; ImGuiWindowFlags_NoMouseInputs) &amp;&amp; (window-&gt;Flags &amp; ImGuiWindowFlags_NoNavInputs))</div>
<div class="line"><a id="l16174" name="l16174"></a><span class="lineno">16174</span>            flags |= ImGuiViewportFlags_NoInputs;</div>
<div class="line"><a id="l16175" name="l16175"></a><span class="lineno">16175</span>        <span class="keywordflow">if</span> (window-&gt;Flags &amp; ImGuiWindowFlags_NoFocusOnAppearing)</div>
<div class="line"><a id="l16176" name="l16176"></a><span class="lineno">16176</span>            flags |= ImGuiViewportFlags_NoFocusOnAppearing;</div>
<div class="line"><a id="l16177" name="l16177"></a><span class="lineno">16177</span>    }</div>
<div class="line"><a id="l16178" name="l16178"></a><span class="lineno">16178</span> </div>
<div class="line"><a id="l16179" name="l16179"></a><span class="lineno">16179</span>    <a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport = (<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>*)FindViewportByID(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l16180" name="l16180"></a><span class="lineno">16180</span>    <span class="keywordflow">if</span> (viewport)</div>
<div class="line"><a id="l16181" name="l16181"></a><span class="lineno">16181</span>    {</div>
<div class="line"><a id="l16182" name="l16182"></a><span class="lineno">16182</span>        <span class="comment">// Always update for main viewport as we are already pulling correct platform pos/size (see #4900)</span></div>
<div class="line"><a id="l16183" name="l16183"></a><span class="lineno">16183</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> prev_pos = viewport-&gt;Pos;</div>
<div class="line"><a id="l16184" name="l16184"></a><span class="lineno">16184</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> prev_size = viewport-&gt;Size;</div>
<div class="line"><a id="l16185" name="l16185"></a><span class="lineno">16185</span>        <span class="keywordflow">if</span> (!viewport-&gt;PlatformRequestMove || viewport-&gt;ID == IMGUI_VIEWPORT_DEFAULT_ID)</div>
<div class="line"><a id="l16186" name="l16186"></a><span class="lineno">16186</span>            viewport-&gt;Pos = pos;</div>
<div class="line"><a id="l16187" name="l16187"></a><span class="lineno">16187</span>        <span class="keywordflow">if</span> (!viewport-&gt;PlatformRequestResize || viewport-&gt;ID == IMGUI_VIEWPORT_DEFAULT_ID)</div>
<div class="line"><a id="l16188" name="l16188"></a><span class="lineno">16188</span>            viewport-&gt;Size = size;</div>
<div class="line"><a id="l16189" name="l16189"></a><span class="lineno">16189</span>        viewport-&gt;Flags = flags | (viewport-&gt;Flags &amp; (ImGuiViewportFlags_IsMinimized | ImGuiViewportFlags_IsFocused)); <span class="comment">// Preserve existing flags</span></div>
<div class="line"><a id="l16190" name="l16190"></a><span class="lineno">16190</span>        <span class="keywordflow">if</span> (prev_pos != viewport-&gt;Pos || prev_size != viewport-&gt;Size)</div>
<div class="line"><a id="l16191" name="l16191"></a><span class="lineno">16191</span>            UpdateViewportPlatformMonitor(viewport);</div>
<div class="line"><a id="l16192" name="l16192"></a><span class="lineno">16192</span>    }</div>
<div class="line"><a id="l16193" name="l16193"></a><span class="lineno">16193</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l16194" name="l16194"></a><span class="lineno">16194</span>    {</div>
<div class="line"><a id="l16195" name="l16195"></a><span class="lineno">16195</span>        <span class="comment">// New viewport</span></div>
<div class="line"><a id="l16196" name="l16196"></a><span class="lineno">16196</span>        viewport = IM_NEW(<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>)();</div>
<div class="line"><a id="l16197" name="l16197"></a><span class="lineno">16197</span>        viewport-&gt;ID = id;</div>
<div class="line"><a id="l16198" name="l16198"></a><span class="lineno">16198</span>        viewport-&gt;Idx = g.Viewports.Size;</div>
<div class="line"><a id="l16199" name="l16199"></a><span class="lineno">16199</span>        viewport-&gt;Pos = viewport-&gt;LastPos = pos;</div>
<div class="line"><a id="l16200" name="l16200"></a><span class="lineno">16200</span>        viewport-&gt;Size = viewport-&gt;LastSize = size;</div>
<div class="line"><a id="l16201" name="l16201"></a><span class="lineno">16201</span>        viewport-&gt;Flags = flags;</div>
<div class="line"><a id="l16202" name="l16202"></a><span class="lineno">16202</span>        UpdateViewportPlatformMonitor(viewport);</div>
<div class="line"><a id="l16203" name="l16203"></a><span class="lineno">16203</span>        g.Viewports.push_back(viewport);</div>
<div class="line"><a id="l16204" name="l16204"></a><span class="lineno">16204</span>        g.ViewportCreatedCount++;</div>
<div class="line"><a id="l16205" name="l16205"></a><span class="lineno">16205</span>        IMGUI_DEBUG_LOG_VIEWPORT(<span class="stringliteral">&quot;[viewport] Add Viewport %08X &#39;%s&#39;\n&quot;</span>, <span class="keywordtype">id</span>, window ? window-&gt;Name : <span class="stringliteral">&quot;&lt;NULL&gt;&quot;</span>);</div>
<div class="line"><a id="l16206" name="l16206"></a><span class="lineno">16206</span> </div>
<div class="line"><a id="l16207" name="l16207"></a><span class="lineno">16207</span>        <span class="comment">// We normally setup for all viewports in NewFrame() but here need to handle the mid-frame creation of a new viewport.</span></div>
<div class="line"><a id="l16208" name="l16208"></a><span class="lineno">16208</span>        <span class="comment">// We need to extend the fullscreen clip rect so the OverlayDrawList clip is correct for that the first frame</span></div>
<div class="line"><a id="l16209" name="l16209"></a><span class="lineno">16209</span>        g.DrawListSharedData.ClipRectFullscreen.x = ImMin(g.DrawListSharedData.ClipRectFullscreen.x, viewport-&gt;Pos.x);</div>
<div class="line"><a id="l16210" name="l16210"></a><span class="lineno">16210</span>        g.DrawListSharedData.ClipRectFullscreen.y = ImMin(g.DrawListSharedData.ClipRectFullscreen.y, viewport-&gt;Pos.y);</div>
<div class="line"><a id="l16211" name="l16211"></a><span class="lineno">16211</span>        g.DrawListSharedData.ClipRectFullscreen.z = ImMax(g.DrawListSharedData.ClipRectFullscreen.z, viewport-&gt;Pos.x + viewport-&gt;Size.x);</div>
<div class="line"><a id="l16212" name="l16212"></a><span class="lineno">16212</span>        g.DrawListSharedData.ClipRectFullscreen.w = ImMax(g.DrawListSharedData.ClipRectFullscreen.w, viewport-&gt;Pos.y + viewport-&gt;Size.y);</div>
<div class="line"><a id="l16213" name="l16213"></a><span class="lineno">16213</span> </div>
<div class="line"><a id="l16214" name="l16214"></a><span class="lineno">16214</span>        <span class="comment">// Store initial DpiScale before the OS platform window creation, based on expected monitor data.</span></div>
<div class="line"><a id="l16215" name="l16215"></a><span class="lineno">16215</span>        <span class="comment">// This is so we can select an appropriate font size on the first frame of our window lifetime</span></div>
<div class="line"><a id="l16216" name="l16216"></a><span class="lineno">16216</span>        <span class="keywordflow">if</span> (viewport-&gt;PlatformMonitor != -1)</div>
<div class="line"><a id="l16217" name="l16217"></a><span class="lineno">16217</span>            viewport-&gt;DpiScale = g.PlatformIO.Monitors[viewport-&gt;PlatformMonitor].DpiScale;</div>
<div class="line"><a id="l16218" name="l16218"></a><span class="lineno">16218</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l16219" name="l16219"></a><span class="lineno">16219</span>            viewport-&gt;DpiScale = 1.0f;</div>
<div class="line"><a id="l16220" name="l16220"></a><span class="lineno">16220</span>    }</div>
<div class="line"><a id="l16221" name="l16221"></a><span class="lineno">16221</span> </div>
<div class="line"><a id="l16222" name="l16222"></a><span class="lineno">16222</span>    viewport-&gt;Window = window;</div>
<div class="line"><a id="l16223" name="l16223"></a><span class="lineno">16223</span>    viewport-&gt;LastFrameActive = g.FrameCount;</div>
<div class="line"><a id="l16224" name="l16224"></a><span class="lineno">16224</span>    viewport-&gt;UpdateWorkRect();</div>
<div class="line"><a id="l16225" name="l16225"></a><span class="lineno">16225</span>    IM_ASSERT(window == NULL || viewport-&gt;ID == window-&gt;ID);</div>
<div class="line"><a id="l16226" name="l16226"></a><span class="lineno">16226</span> </div>
<div class="line"><a id="l16227" name="l16227"></a><span class="lineno">16227</span>    <span class="keywordflow">if</span> (window != NULL)</div>
<div class="line"><a id="l16228" name="l16228"></a><span class="lineno">16228</span>        window-&gt;ViewportOwned = <span class="keyword">true</span>;</div>
<div class="line"><a id="l16229" name="l16229"></a><span class="lineno">16229</span> </div>
<div class="line"><a id="l16230" name="l16230"></a><span class="lineno">16230</span>    <span class="keywordflow">return</span> viewport;</div>
<div class="line"><a id="l16231" name="l16231"></a><span class="lineno">16231</span>}</div>
<div class="line"><a id="l16232" name="l16232"></a><span class="lineno">16232</span> </div>
<div class="line"><a id="l16233" name="l16233"></a><span class="lineno">16233</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::DestroyViewport(<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport)</div>
<div class="line"><a id="l16234" name="l16234"></a><span class="lineno">16234</span>{</div>
<div class="line"><a id="l16235" name="l16235"></a><span class="lineno">16235</span>    <span class="comment">// Clear references to this viewport in windows (window-&gt;ViewportId becomes the master data)</span></div>
<div class="line"><a id="l16236" name="l16236"></a><span class="lineno">16236</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l16237" name="l16237"></a><span class="lineno">16237</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window : g.Windows)</div>
<div class="line"><a id="l16238" name="l16238"></a><span class="lineno">16238</span>    {</div>
<div class="line"><a id="l16239" name="l16239"></a><span class="lineno">16239</span>        <span class="keywordflow">if</span> (window-&gt;Viewport != viewport)</div>
<div class="line"><a id="l16240" name="l16240"></a><span class="lineno">16240</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l16241" name="l16241"></a><span class="lineno">16241</span>        window-&gt;Viewport = NULL;</div>
<div class="line"><a id="l16242" name="l16242"></a><span class="lineno">16242</span>        window-&gt;ViewportOwned = <span class="keyword">false</span>;</div>
<div class="line"><a id="l16243" name="l16243"></a><span class="lineno">16243</span>    }</div>
<div class="line"><a id="l16244" name="l16244"></a><span class="lineno">16244</span>    <span class="keywordflow">if</span> (viewport == g.MouseLastHoveredViewport)</div>
<div class="line"><a id="l16245" name="l16245"></a><span class="lineno">16245</span>        g.MouseLastHoveredViewport = NULL;</div>
<div class="line"><a id="l16246" name="l16246"></a><span class="lineno">16246</span> </div>
<div class="line"><a id="l16247" name="l16247"></a><span class="lineno">16247</span>    <span class="comment">// Destroy</span></div>
<div class="line"><a id="l16248" name="l16248"></a><span class="lineno">16248</span>    IMGUI_DEBUG_LOG_VIEWPORT(<span class="stringliteral">&quot;[viewport] Delete Viewport %08X &#39;%s&#39;\n&quot;</span>, viewport-&gt;ID, viewport-&gt;Window ? viewport-&gt;Window-&gt;Name : <span class="stringliteral">&quot;n/a&quot;</span>);</div>
<div class="line"><a id="l16249" name="l16249"></a><span class="lineno">16249</span>    DestroyPlatformWindow(viewport); <span class="comment">// In most circumstances the platform window will already be destroyed here.</span></div>
<div class="line"><a id="l16250" name="l16250"></a><span class="lineno">16250</span>    IM_ASSERT(g.PlatformIO.Viewports.contains(viewport) == <span class="keyword">false</span>);</div>
<div class="line"><a id="l16251" name="l16251"></a><span class="lineno">16251</span>    IM_ASSERT(g.Viewports[viewport-&gt;Idx] == viewport);</div>
<div class="line"><a id="l16252" name="l16252"></a><span class="lineno">16252</span>    g.Viewports.erase(g.Viewports.Data + viewport-&gt;Idx);</div>
<div class="line"><a id="l16253" name="l16253"></a><span class="lineno">16253</span>    IM_DELETE(viewport);</div>
<div class="line"><a id="l16254" name="l16254"></a><span class="lineno">16254</span>}</div>
<div class="line"><a id="l16255" name="l16255"></a><span class="lineno">16255</span> </div>
<div class="line"><a id="l16256" name="l16256"></a><span class="lineno">16256</span><span class="comment">// FIXME-VIEWPORT: This is all super messy and ought to be clarified or rewritten.</span></div>
<div class="line"><a id="l16257" name="l16257"></a><span class="lineno">16257</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::WindowSelectViewport(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l16258" name="l16258"></a><span class="lineno">16258</span>{</div>
<div class="line"><a id="l16259" name="l16259"></a><span class="lineno">16259</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l16260" name="l16260"></a><span class="lineno">16260</span>    ImGuiWindowFlags flags = window-&gt;Flags;</div>
<div class="line"><a id="l16261" name="l16261"></a><span class="lineno">16261</span>    window-&gt;ViewportAllowPlatformMonitorExtend = -1;</div>
<div class="line"><a id="l16262" name="l16262"></a><span class="lineno">16262</span> </div>
<div class="line"><a id="l16263" name="l16263"></a><span class="lineno">16263</span>    <span class="comment">// Restore main viewport if multi-viewport is not supported by the backend</span></div>
<div class="line"><a id="l16264" name="l16264"></a><span class="lineno">16264</span>    <a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* main_viewport = (<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>*)(<span class="keywordtype">void</span>*)GetMainViewport();</div>
<div class="line"><a id="l16265" name="l16265"></a><span class="lineno">16265</span>    <span class="keywordflow">if</span> (!(g.ConfigFlagsCurrFrame &amp; ImGuiConfigFlags_ViewportsEnable))</div>
<div class="line"><a id="l16266" name="l16266"></a><span class="lineno">16266</span>    {</div>
<div class="line"><a id="l16267" name="l16267"></a><span class="lineno">16267</span>        SetWindowViewport(window, main_viewport);</div>
<div class="line"><a id="l16268" name="l16268"></a><span class="lineno">16268</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l16269" name="l16269"></a><span class="lineno">16269</span>    }</div>
<div class="line"><a id="l16270" name="l16270"></a><span class="lineno">16270</span>    window-&gt;ViewportOwned = <span class="keyword">false</span>;</div>
<div class="line"><a id="l16271" name="l16271"></a><span class="lineno">16271</span> </div>
<div class="line"><a id="l16272" name="l16272"></a><span class="lineno">16272</span>    <span class="comment">// Appearing popups reset their viewport so they can inherit again</span></div>
<div class="line"><a id="l16273" name="l16273"></a><span class="lineno">16273</span>    <span class="keywordflow">if</span> ((flags &amp; (ImGuiWindowFlags_Popup | ImGuiWindowFlags_Tooltip)) &amp;&amp; window-&gt;Appearing)</div>
<div class="line"><a id="l16274" name="l16274"></a><span class="lineno">16274</span>    {</div>
<div class="line"><a id="l16275" name="l16275"></a><span class="lineno">16275</span>        window-&gt;Viewport = NULL;</div>
<div class="line"><a id="l16276" name="l16276"></a><span class="lineno">16276</span>        window-&gt;ViewportId = 0;</div>
<div class="line"><a id="l16277" name="l16277"></a><span class="lineno">16277</span>    }</div>
<div class="line"><a id="l16278" name="l16278"></a><span class="lineno">16278</span> </div>
<div class="line"><a id="l16279" name="l16279"></a><span class="lineno">16279</span>    <span class="keywordflow">if</span> ((g.NextWindowData.HasFlags &amp; ImGuiNextWindowDataFlags_HasViewport) == 0)</div>
<div class="line"><a id="l16280" name="l16280"></a><span class="lineno">16280</span>    {</div>
<div class="line"><a id="l16281" name="l16281"></a><span class="lineno">16281</span>        <span class="comment">// By default inherit from parent window</span></div>
<div class="line"><a id="l16282" name="l16282"></a><span class="lineno">16282</span>        <span class="keywordflow">if</span> (window-&gt;Viewport == NULL &amp;&amp; window-&gt;ParentWindow &amp;&amp; (!window-&gt;ParentWindow-&gt;IsFallbackWindow || window-&gt;ParentWindow-&gt;WasActive))</div>
<div class="line"><a id="l16283" name="l16283"></a><span class="lineno">16283</span>            window-&gt;Viewport = window-&gt;ParentWindow-&gt;Viewport;</div>
<div class="line"><a id="l16284" name="l16284"></a><span class="lineno">16284</span> </div>
<div class="line"><a id="l16285" name="l16285"></a><span class="lineno">16285</span>        <span class="comment">// Attempt to restore saved viewport id (= window that hasn&#39;t been activated yet), try to restore the viewport based on saved &#39;window-&gt;ViewportPos&#39; restored from .ini file</span></div>
<div class="line"><a id="l16286" name="l16286"></a><span class="lineno">16286</span>        <span class="keywordflow">if</span> (window-&gt;Viewport == NULL &amp;&amp; window-&gt;ViewportId != 0)</div>
<div class="line"><a id="l16287" name="l16287"></a><span class="lineno">16287</span>        {</div>
<div class="line"><a id="l16288" name="l16288"></a><span class="lineno">16288</span>            window-&gt;Viewport = (<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>*)FindViewportByID(window-&gt;ViewportId);</div>
<div class="line"><a id="l16289" name="l16289"></a><span class="lineno">16289</span>            <span class="keywordflow">if</span> (window-&gt;Viewport == NULL &amp;&amp; window-&gt;ViewportPos.x != FLT_MAX &amp;&amp; window-&gt;ViewportPos.y != FLT_MAX)</div>
<div class="line"><a id="l16290" name="l16290"></a><span class="lineno">16290</span>                window-&gt;Viewport = AddUpdateViewport(window, window-&gt;ID, window-&gt;ViewportPos, window-&gt;Size, ImGuiViewportFlags_None);</div>
<div class="line"><a id="l16291" name="l16291"></a><span class="lineno">16291</span>        }</div>
<div class="line"><a id="l16292" name="l16292"></a><span class="lineno">16292</span>    }</div>
<div class="line"><a id="l16293" name="l16293"></a><span class="lineno">16293</span> </div>
<div class="line"><a id="l16294" name="l16294"></a><span class="lineno">16294</span>    <span class="keywordtype">bool</span> lock_viewport = <span class="keyword">false</span>;</div>
<div class="line"><a id="l16295" name="l16295"></a><span class="lineno">16295</span>    <span class="keywordflow">if</span> (g.NextWindowData.HasFlags &amp; ImGuiNextWindowDataFlags_HasViewport)</div>
<div class="line"><a id="l16296" name="l16296"></a><span class="lineno">16296</span>    {</div>
<div class="line"><a id="l16297" name="l16297"></a><span class="lineno">16297</span>        <span class="comment">// Code explicitly request a viewport</span></div>
<div class="line"><a id="l16298" name="l16298"></a><span class="lineno">16298</span>        window-&gt;Viewport = (<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>*)FindViewportByID(g.NextWindowData.ViewportId);</div>
<div class="line"><a id="l16299" name="l16299"></a><span class="lineno">16299</span>        window-&gt;ViewportId = g.NextWindowData.ViewportId; <span class="comment">// Store ID even if Viewport isn&#39;t resolved yet.</span></div>
<div class="line"><a id="l16300" name="l16300"></a><span class="lineno">16300</span>        <span class="keywordflow">if</span> (window-&gt;Viewport &amp;&amp; (window-&gt;Flags &amp; ImGuiWindowFlags_DockNodeHost) != 0 &amp;&amp; window-&gt;Viewport-&gt;Window != NULL)</div>
<div class="line"><a id="l16301" name="l16301"></a><span class="lineno">16301</span>        {</div>
<div class="line"><a id="l16302" name="l16302"></a><span class="lineno">16302</span>            window-&gt;Viewport-&gt;Window = window;</div>
<div class="line"><a id="l16303" name="l16303"></a><span class="lineno">16303</span>            window-&gt;Viewport-&gt;ID = window-&gt;ViewportId = window-&gt;ID; <span class="comment">// Overwrite ID (always owned by node)</span></div>
<div class="line"><a id="l16304" name="l16304"></a><span class="lineno">16304</span>        }</div>
<div class="line"><a id="l16305" name="l16305"></a><span class="lineno">16305</span>        lock_viewport = <span class="keyword">true</span>;</div>
<div class="line"><a id="l16306" name="l16306"></a><span class="lineno">16306</span>    }</div>
<div class="line"><a id="l16307" name="l16307"></a><span class="lineno">16307</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((flags &amp; ImGuiWindowFlags_ChildWindow) || (flags &amp; ImGuiWindowFlags_ChildMenu))</div>
<div class="line"><a id="l16308" name="l16308"></a><span class="lineno">16308</span>    {</div>
<div class="line"><a id="l16309" name="l16309"></a><span class="lineno">16309</span>        <span class="comment">// Always inherit viewport from parent window</span></div>
<div class="line"><a id="l16310" name="l16310"></a><span class="lineno">16310</span>        <span class="keywordflow">if</span> (window-&gt;DockNode &amp;&amp; window-&gt;DockNode-&gt;HostWindow)</div>
<div class="line"><a id="l16311" name="l16311"></a><span class="lineno">16311</span>            IM_ASSERT(window-&gt;DockNode-&gt;HostWindow-&gt;Viewport == window-&gt;ParentWindow-&gt;Viewport);</div>
<div class="line"><a id="l16312" name="l16312"></a><span class="lineno">16312</span>        window-&gt;Viewport = window-&gt;ParentWindow-&gt;Viewport;</div>
<div class="line"><a id="l16313" name="l16313"></a><span class="lineno">16313</span>    }</div>
<div class="line"><a id="l16314" name="l16314"></a><span class="lineno">16314</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (window-&gt;DockNode &amp;&amp; window-&gt;DockNode-&gt;HostWindow)</div>
<div class="line"><a id="l16315" name="l16315"></a><span class="lineno">16315</span>    {</div>
<div class="line"><a id="l16316" name="l16316"></a><span class="lineno">16316</span>        <span class="comment">// This covers the &quot;always inherit viewport from parent window&quot; case for when a window reattach to a node that was just created mid-frame</span></div>
<div class="line"><a id="l16317" name="l16317"></a><span class="lineno">16317</span>        window-&gt;Viewport = window-&gt;DockNode-&gt;HostWindow-&gt;Viewport;</div>
<div class="line"><a id="l16318" name="l16318"></a><span class="lineno">16318</span>    }</div>
<div class="line"><a id="l16319" name="l16319"></a><span class="lineno">16319</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags &amp; ImGuiWindowFlags_Tooltip)</div>
<div class="line"><a id="l16320" name="l16320"></a><span class="lineno">16320</span>    {</div>
<div class="line"><a id="l16321" name="l16321"></a><span class="lineno">16321</span>        window-&gt;Viewport = g.MouseViewport;</div>
<div class="line"><a id="l16322" name="l16322"></a><span class="lineno">16322</span>    }</div>
<div class="line"><a id="l16323" name="l16323"></a><span class="lineno">16323</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (GetWindowAlwaysWantOwnViewport(window))</div>
<div class="line"><a id="l16324" name="l16324"></a><span class="lineno">16324</span>    {</div>
<div class="line"><a id="l16325" name="l16325"></a><span class="lineno">16325</span>        window-&gt;Viewport = AddUpdateViewport(window, window-&gt;ID, window-&gt;Pos, window-&gt;Size, ImGuiViewportFlags_None);</div>
<div class="line"><a id="l16326" name="l16326"></a><span class="lineno">16326</span>    }</div>
<div class="line"><a id="l16327" name="l16327"></a><span class="lineno">16327</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (g.MovingWindow &amp;&amp; g.MovingWindow-&gt;RootWindowDockTree == window &amp;&amp; IsMousePosValid())</div>
<div class="line"><a id="l16328" name="l16328"></a><span class="lineno">16328</span>    {</div>
<div class="line"><a id="l16329" name="l16329"></a><span class="lineno">16329</span>        <span class="keywordflow">if</span> (window-&gt;Viewport != NULL &amp;&amp; window-&gt;Viewport-&gt;Window == window)</div>
<div class="line"><a id="l16330" name="l16330"></a><span class="lineno">16330</span>            window-&gt;Viewport = AddUpdateViewport(window, window-&gt;ID, window-&gt;Pos, window-&gt;Size, ImGuiViewportFlags_None);</div>
<div class="line"><a id="l16331" name="l16331"></a><span class="lineno">16331</span>    }</div>
<div class="line"><a id="l16332" name="l16332"></a><span class="lineno">16332</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l16333" name="l16333"></a><span class="lineno">16333</span>    {</div>
<div class="line"><a id="l16334" name="l16334"></a><span class="lineno">16334</span>        <span class="comment">// Merge into host viewport?</span></div>
<div class="line"><a id="l16335" name="l16335"></a><span class="lineno">16335</span>        <span class="comment">// We cannot test window-&gt;ViewportOwned as it set lower in the function.</span></div>
<div class="line"><a id="l16336" name="l16336"></a><span class="lineno">16336</span>        <span class="comment">// Testing (g.ActiveId == 0 || g.ActiveIdAllowOverlap) to avoid merging during a short-term widget interaction. Main intent was to avoid during resize (see #4212)</span></div>
<div class="line"><a id="l16337" name="l16337"></a><span class="lineno">16337</span>        <span class="keywordtype">bool</span> try_to_merge_into_host_viewport = (window-&gt;Viewport &amp;&amp; window == window-&gt;Viewport-&gt;Window &amp;&amp; (g.ActiveId == 0 || g.ActiveIdAllowOverlap));</div>
<div class="line"><a id="l16338" name="l16338"></a><span class="lineno">16338</span>        <span class="keywordflow">if</span> (try_to_merge_into_host_viewport)</div>
<div class="line"><a id="l16339" name="l16339"></a><span class="lineno">16339</span>            UpdateTryMergeWindowIntoHostViewports(window);</div>
<div class="line"><a id="l16340" name="l16340"></a><span class="lineno">16340</span>    }</div>
<div class="line"><a id="l16341" name="l16341"></a><span class="lineno">16341</span> </div>
<div class="line"><a id="l16342" name="l16342"></a><span class="lineno">16342</span>    <span class="comment">// Fallback: merge in default viewport if z-order matches, otherwise create a new viewport</span></div>
<div class="line"><a id="l16343" name="l16343"></a><span class="lineno">16343</span>    <span class="keywordflow">if</span> (window-&gt;Viewport == NULL)</div>
<div class="line"><a id="l16344" name="l16344"></a><span class="lineno">16344</span>        <span class="keywordflow">if</span> (!UpdateTryMergeWindowIntoHostViewport(window, main_viewport))</div>
<div class="line"><a id="l16345" name="l16345"></a><span class="lineno">16345</span>            window-&gt;Viewport = AddUpdateViewport(window, window-&gt;ID, window-&gt;Pos, window-&gt;Size, ImGuiViewportFlags_None);</div>
<div class="line"><a id="l16346" name="l16346"></a><span class="lineno">16346</span> </div>
<div class="line"><a id="l16347" name="l16347"></a><span class="lineno">16347</span>    <span class="comment">// Mark window as allowed to protrude outside of its viewport and into the current monitor</span></div>
<div class="line"><a id="l16348" name="l16348"></a><span class="lineno">16348</span>    <span class="keywordflow">if</span> (!lock_viewport)</div>
<div class="line"><a id="l16349" name="l16349"></a><span class="lineno">16349</span>    {</div>
<div class="line"><a id="l16350" name="l16350"></a><span class="lineno">16350</span>        <span class="keywordflow">if</span> (flags &amp; (ImGuiWindowFlags_Tooltip | ImGuiWindowFlags_Popup))</div>
<div class="line"><a id="l16351" name="l16351"></a><span class="lineno">16351</span>        {</div>
<div class="line"><a id="l16352" name="l16352"></a><span class="lineno">16352</span>            <span class="comment">// We need to take account of the possibility that mouse may become invalid.</span></div>
<div class="line"><a id="l16353" name="l16353"></a><span class="lineno">16353</span>            <span class="comment">// Popups/Tooltip always set ViewportAllowPlatformMonitorExtend so GetWindowAllowedExtentRect() will return full monitor bounds.</span></div>
<div class="line"><a id="l16354" name="l16354"></a><span class="lineno">16354</span>            <a class="code hl_struct" href="structImVec2.html">ImVec2</a> mouse_ref = (flags &amp; ImGuiWindowFlags_Tooltip) ? g.IO.MousePos : g.BeginPopupStack.back().OpenMousePos;</div>
<div class="line"><a id="l16355" name="l16355"></a><span class="lineno">16355</span>            <span class="keywordtype">bool</span> use_mouse_ref = (!g.NavCursorVisible || !g.NavHighlightItemUnderNav || !g.NavWindow);</div>
<div class="line"><a id="l16356" name="l16356"></a><span class="lineno">16356</span>            <span class="keywordtype">bool</span> mouse_valid = IsMousePosValid(&amp;mouse_ref);</div>
<div class="line"><a id="l16357" name="l16357"></a><span class="lineno">16357</span>            <span class="keywordflow">if</span> ((window-&gt;Appearing || (flags &amp; (ImGuiWindowFlags_Tooltip | ImGuiWindowFlags_ChildMenu))) &amp;&amp; (!use_mouse_ref || mouse_valid))</div>
<div class="line"><a id="l16358" name="l16358"></a><span class="lineno">16358</span>                window-&gt;ViewportAllowPlatformMonitorExtend = FindPlatformMonitorForPos((use_mouse_ref &amp;&amp; mouse_valid) ? mouse_ref : NavCalcPreferredRefPos());</div>
<div class="line"><a id="l16359" name="l16359"></a><span class="lineno">16359</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l16360" name="l16360"></a><span class="lineno">16360</span>                window-&gt;ViewportAllowPlatformMonitorExtend = window-&gt;Viewport-&gt;PlatformMonitor;</div>
<div class="line"><a id="l16361" name="l16361"></a><span class="lineno">16361</span>        }</div>
<div class="line"><a id="l16362" name="l16362"></a><span class="lineno">16362</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (window-&gt;Viewport &amp;&amp; window != window-&gt;Viewport-&gt;Window &amp;&amp; window-&gt;Viewport-&gt;Window &amp;&amp; !(flags &amp; ImGuiWindowFlags_ChildWindow) &amp;&amp; window-&gt;DockNode == NULL)</div>
<div class="line"><a id="l16363" name="l16363"></a><span class="lineno">16363</span>        {</div>
<div class="line"><a id="l16364" name="l16364"></a><span class="lineno">16364</span>            <span class="comment">// When called from Begin() we don&#39;t have access to a proper version of the Hidden flag yet, so we replicate this code.</span></div>
<div class="line"><a id="l16365" name="l16365"></a><span class="lineno">16365</span>            <span class="keyword">const</span> <span class="keywordtype">bool</span> will_be_visible = (window-&gt;DockIsActive &amp;&amp; !window-&gt;DockTabIsVisible) ? <span class="keyword">false</span> : true;</div>
<div class="line"><a id="l16366" name="l16366"></a><span class="lineno">16366</span>            <span class="keywordflow">if</span> ((window-&gt;Flags &amp; ImGuiWindowFlags_DockNodeHost) &amp;&amp; window-&gt;Viewport-&gt;LastFrameActive &lt; g.FrameCount &amp;&amp; will_be_visible)</div>
<div class="line"><a id="l16367" name="l16367"></a><span class="lineno">16367</span>            {</div>
<div class="line"><a id="l16368" name="l16368"></a><span class="lineno">16368</span>                <span class="comment">// Steal/transfer ownership</span></div>
<div class="line"><a id="l16369" name="l16369"></a><span class="lineno">16369</span>                IMGUI_DEBUG_LOG_VIEWPORT(<span class="stringliteral">&quot;[viewport] Window &#39;%s&#39; steal Viewport %08X from Window &#39;%s&#39;\n&quot;</span>, window-&gt;Name, window-&gt;Viewport-&gt;ID, window-&gt;Viewport-&gt;Window-&gt;Name);</div>
<div class="line"><a id="l16370" name="l16370"></a><span class="lineno">16370</span>                window-&gt;Viewport-&gt;Window = window;</div>
<div class="line"><a id="l16371" name="l16371"></a><span class="lineno">16371</span>                window-&gt;Viewport-&gt;ID = window-&gt;ID;</div>
<div class="line"><a id="l16372" name="l16372"></a><span class="lineno">16372</span>                window-&gt;Viewport-&gt;LastNameHash = 0;</div>
<div class="line"><a id="l16373" name="l16373"></a><span class="lineno">16373</span>            }</div>
<div class="line"><a id="l16374" name="l16374"></a><span class="lineno">16374</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!UpdateTryMergeWindowIntoHostViewports(window)) <span class="comment">// Merge?</span></div>
<div class="line"><a id="l16375" name="l16375"></a><span class="lineno">16375</span>            {</div>
<div class="line"><a id="l16376" name="l16376"></a><span class="lineno">16376</span>                <span class="comment">// New viewport</span></div>
<div class="line"><a id="l16377" name="l16377"></a><span class="lineno">16377</span>                window-&gt;Viewport = AddUpdateViewport(window, window-&gt;ID, window-&gt;Pos, window-&gt;Size, ImGuiViewportFlags_NoFocusOnAppearing);</div>
<div class="line"><a id="l16378" name="l16378"></a><span class="lineno">16378</span>            }</div>
<div class="line"><a id="l16379" name="l16379"></a><span class="lineno">16379</span>        }</div>
<div class="line"><a id="l16380" name="l16380"></a><span class="lineno">16380</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (window-&gt;ViewportAllowPlatformMonitorExtend &lt; 0 &amp;&amp; (flags &amp; ImGuiWindowFlags_ChildWindow) == 0)</div>
<div class="line"><a id="l16381" name="l16381"></a><span class="lineno">16381</span>        {</div>
<div class="line"><a id="l16382" name="l16382"></a><span class="lineno">16382</span>            <span class="comment">// Regular (non-child, non-popup) windows by default are also allowed to protrude</span></div>
<div class="line"><a id="l16383" name="l16383"></a><span class="lineno">16383</span>            <span class="comment">// Child windows are kept contained within their parent.</span></div>
<div class="line"><a id="l16384" name="l16384"></a><span class="lineno">16384</span>            window-&gt;ViewportAllowPlatformMonitorExtend = window-&gt;Viewport-&gt;PlatformMonitor;</div>
<div class="line"><a id="l16385" name="l16385"></a><span class="lineno">16385</span>        }</div>
<div class="line"><a id="l16386" name="l16386"></a><span class="lineno">16386</span>    }</div>
<div class="line"><a id="l16387" name="l16387"></a><span class="lineno">16387</span> </div>
<div class="line"><a id="l16388" name="l16388"></a><span class="lineno">16388</span>    <span class="comment">// Update flags</span></div>
<div class="line"><a id="l16389" name="l16389"></a><span class="lineno">16389</span>    window-&gt;ViewportOwned = (window == window-&gt;Viewport-&gt;Window);</div>
<div class="line"><a id="l16390" name="l16390"></a><span class="lineno">16390</span>    window-&gt;ViewportId = window-&gt;Viewport-&gt;ID;</div>
<div class="line"><a id="l16391" name="l16391"></a><span class="lineno">16391</span> </div>
<div class="line"><a id="l16392" name="l16392"></a><span class="lineno">16392</span>    <span class="comment">// If the OS window has a title bar, hide our imgui title bar</span></div>
<div class="line"><a id="l16393" name="l16393"></a><span class="lineno">16393</span>    <span class="comment">//if (window-&gt;ViewportOwned &amp;&amp; !(window-&gt;Viewport-&gt;Flags &amp; ImGuiViewportFlags_NoDecoration))</span></div>
<div class="line"><a id="l16394" name="l16394"></a><span class="lineno">16394</span>    <span class="comment">//    window-&gt;Flags |= ImGuiWindowFlags_NoTitleBar;</span></div>
<div class="line"><a id="l16395" name="l16395"></a><span class="lineno">16395</span>}</div>
<div class="line"><a id="l16396" name="l16396"></a><span class="lineno">16396</span> </div>
<div class="line"><a id="l16397" name="l16397"></a><span class="lineno">16397</span><span class="keywordtype">void</span> ImGui::WindowSyncOwnedViewport(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* parent_window_in_stack)</div>
<div class="line"><a id="l16398" name="l16398"></a><span class="lineno">16398</span>{</div>
<div class="line"><a id="l16399" name="l16399"></a><span class="lineno">16399</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l16400" name="l16400"></a><span class="lineno">16400</span> </div>
<div class="line"><a id="l16401" name="l16401"></a><span class="lineno">16401</span>    <span class="keywordtype">bool</span> viewport_rect_changed = <span class="keyword">false</span>;</div>
<div class="line"><a id="l16402" name="l16402"></a><span class="lineno">16402</span> </div>
<div class="line"><a id="l16403" name="l16403"></a><span class="lineno">16403</span>    <span class="comment">// Synchronize window --&gt; viewport in most situations</span></div>
<div class="line"><a id="l16404" name="l16404"></a><span class="lineno">16404</span>    <span class="comment">// Synchronize viewport -&gt; window in case the platform window has been moved or resized from the OS/WM</span></div>
<div class="line"><a id="l16405" name="l16405"></a><span class="lineno">16405</span>    <span class="keywordflow">if</span> (window-&gt;Viewport-&gt;PlatformRequestMove)</div>
<div class="line"><a id="l16406" name="l16406"></a><span class="lineno">16406</span>    {</div>
<div class="line"><a id="l16407" name="l16407"></a><span class="lineno">16407</span>        window-&gt;Pos = window-&gt;Viewport-&gt;Pos;</div>
<div class="line"><a id="l16408" name="l16408"></a><span class="lineno">16408</span>        MarkIniSettingsDirty(window);</div>
<div class="line"><a id="l16409" name="l16409"></a><span class="lineno">16409</span>    }</div>
<div class="line"><a id="l16410" name="l16410"></a><span class="lineno">16410</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (memcmp(&amp;window-&gt;Viewport-&gt;Pos, &amp;window-&gt;Pos, <span class="keyword">sizeof</span>(window-&gt;Pos)) != 0)</div>
<div class="line"><a id="l16411" name="l16411"></a><span class="lineno">16411</span>    {</div>
<div class="line"><a id="l16412" name="l16412"></a><span class="lineno">16412</span>        viewport_rect_changed = <span class="keyword">true</span>;</div>
<div class="line"><a id="l16413" name="l16413"></a><span class="lineno">16413</span>        window-&gt;Viewport-&gt;Pos = window-&gt;Pos;</div>
<div class="line"><a id="l16414" name="l16414"></a><span class="lineno">16414</span>    }</div>
<div class="line"><a id="l16415" name="l16415"></a><span class="lineno">16415</span> </div>
<div class="line"><a id="l16416" name="l16416"></a><span class="lineno">16416</span>    <span class="keywordflow">if</span> (window-&gt;Viewport-&gt;PlatformRequestResize)</div>
<div class="line"><a id="l16417" name="l16417"></a><span class="lineno">16417</span>    {</div>
<div class="line"><a id="l16418" name="l16418"></a><span class="lineno">16418</span>        window-&gt;Size = window-&gt;SizeFull = window-&gt;Viewport-&gt;Size;</div>
<div class="line"><a id="l16419" name="l16419"></a><span class="lineno">16419</span>        MarkIniSettingsDirty(window);</div>
<div class="line"><a id="l16420" name="l16420"></a><span class="lineno">16420</span>    }</div>
<div class="line"><a id="l16421" name="l16421"></a><span class="lineno">16421</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (memcmp(&amp;window-&gt;Viewport-&gt;Size, &amp;window-&gt;Size, <span class="keyword">sizeof</span>(window-&gt;Size)) != 0)</div>
<div class="line"><a id="l16422" name="l16422"></a><span class="lineno">16422</span>    {</div>
<div class="line"><a id="l16423" name="l16423"></a><span class="lineno">16423</span>        viewport_rect_changed = <span class="keyword">true</span>;</div>
<div class="line"><a id="l16424" name="l16424"></a><span class="lineno">16424</span>        window-&gt;Viewport-&gt;Size = window-&gt;Size;</div>
<div class="line"><a id="l16425" name="l16425"></a><span class="lineno">16425</span>    }</div>
<div class="line"><a id="l16426" name="l16426"></a><span class="lineno">16426</span>    window-&gt;Viewport-&gt;UpdateWorkRect();</div>
<div class="line"><a id="l16427" name="l16427"></a><span class="lineno">16427</span> </div>
<div class="line"><a id="l16428" name="l16428"></a><span class="lineno">16428</span>    <span class="comment">// The viewport may have changed monitor since the global update in UpdateViewportsNewFrame()</span></div>
<div class="line"><a id="l16429" name="l16429"></a><span class="lineno">16429</span>    <span class="comment">// Either a SetNextWindowPos() call in the current frame or a SetWindowPos() call in the previous frame may have this effect.</span></div>
<div class="line"><a id="l16430" name="l16430"></a><span class="lineno">16430</span>    <span class="keywordflow">if</span> (viewport_rect_changed)</div>
<div class="line"><a id="l16431" name="l16431"></a><span class="lineno">16431</span>        UpdateViewportPlatformMonitor(window-&gt;Viewport);</div>
<div class="line"><a id="l16432" name="l16432"></a><span class="lineno">16432</span> </div>
<div class="line"><a id="l16433" name="l16433"></a><span class="lineno">16433</span>    <span class="comment">// Update common viewport flags</span></div>
<div class="line"><a id="l16434" name="l16434"></a><span class="lineno">16434</span>    <span class="keyword">const</span> ImGuiViewportFlags viewport_flags_to_clear = ImGuiViewportFlags_TopMost | ImGuiViewportFlags_NoTaskBarIcon | ImGuiViewportFlags_NoDecoration | ImGuiViewportFlags_NoRendererClear;</div>
<div class="line"><a id="l16435" name="l16435"></a><span class="lineno">16435</span>    ImGuiViewportFlags viewport_flags = window-&gt;Viewport-&gt;Flags &amp; ~viewport_flags_to_clear;</div>
<div class="line"><a id="l16436" name="l16436"></a><span class="lineno">16436</span>    ImGuiWindowFlags window_flags = window-&gt;Flags;</div>
<div class="line"><a id="l16437" name="l16437"></a><span class="lineno">16437</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_modal = (window_flags &amp; ImGuiWindowFlags_Modal) != 0;</div>
<div class="line"><a id="l16438" name="l16438"></a><span class="lineno">16438</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_short_lived_floating_window = (window_flags &amp; (ImGuiWindowFlags_ChildMenu | ImGuiWindowFlags_Tooltip | ImGuiWindowFlags_Popup)) != 0;</div>
<div class="line"><a id="l16439" name="l16439"></a><span class="lineno">16439</span>    <span class="keywordflow">if</span> (window_flags &amp; ImGuiWindowFlags_Tooltip)</div>
<div class="line"><a id="l16440" name="l16440"></a><span class="lineno">16440</span>        viewport_flags |= ImGuiViewportFlags_TopMost;</div>
<div class="line"><a id="l16441" name="l16441"></a><span class="lineno">16441</span>    <span class="keywordflow">if</span> ((g.IO.ConfigViewportsNoTaskBarIcon || is_short_lived_floating_window) &amp;&amp; !is_modal)</div>
<div class="line"><a id="l16442" name="l16442"></a><span class="lineno">16442</span>        viewport_flags |= ImGuiViewportFlags_NoTaskBarIcon;</div>
<div class="line"><a id="l16443" name="l16443"></a><span class="lineno">16443</span>    <span class="keywordflow">if</span> (g.IO.ConfigViewportsNoDecoration || is_short_lived_floating_window)</div>
<div class="line"><a id="l16444" name="l16444"></a><span class="lineno">16444</span>        viewport_flags |= ImGuiViewportFlags_NoDecoration;</div>
<div class="line"><a id="l16445" name="l16445"></a><span class="lineno">16445</span> </div>
<div class="line"><a id="l16446" name="l16446"></a><span class="lineno">16446</span>    <span class="comment">// Not correct to set modal as topmost because:</span></div>
<div class="line"><a id="l16447" name="l16447"></a><span class="lineno">16447</span>    <span class="comment">// - Because other popups can be stacked above a modal (e.g. combo box in a modal)</span></div>
<div class="line"><a id="l16448" name="l16448"></a><span class="lineno">16448</span>    <span class="comment">// - ImGuiViewportFlags_TopMost is currently handled different in backends: in Win32 it is &quot;appear top most&quot; whereas in GLFW and SDL it is &quot;stay topmost&quot;</span></div>
<div class="line"><a id="l16449" name="l16449"></a><span class="lineno">16449</span>    <span class="comment">//if (flags &amp; ImGuiWindowFlags_Modal)</span></div>
<div class="line"><a id="l16450" name="l16450"></a><span class="lineno">16450</span>    <span class="comment">//    viewport_flags |= ImGuiViewportFlags_TopMost;</span></div>
<div class="line"><a id="l16451" name="l16451"></a><span class="lineno">16451</span> </div>
<div class="line"><a id="l16452" name="l16452"></a><span class="lineno">16452</span>    <span class="comment">// For popups and menus that may be protruding out of their parent viewport, we enable _NoFocusOnClick so that clicking on them</span></div>
<div class="line"><a id="l16453" name="l16453"></a><span class="lineno">16453</span>    <span class="comment">// won&#39;t steal the OS focus away from their parent window (which may be reflected in OS the title bar decoration).</span></div>
<div class="line"><a id="l16454" name="l16454"></a><span class="lineno">16454</span>    <span class="comment">// Setting _NoFocusOnClick would technically prevent us from bringing back to front in case they are being covered by an OS window from a different app,</span></div>
<div class="line"><a id="l16455" name="l16455"></a><span class="lineno">16455</span>    <span class="comment">// but it shouldn&#39;t be much of a problem considering those are already popups that are closed when clicking elsewhere.</span></div>
<div class="line"><a id="l16456" name="l16456"></a><span class="lineno">16456</span>    <span class="keywordflow">if</span> (is_short_lived_floating_window &amp;&amp; !is_modal)</div>
<div class="line"><a id="l16457" name="l16457"></a><span class="lineno">16457</span>        viewport_flags |= ImGuiViewportFlags_NoFocusOnAppearing | ImGuiViewportFlags_NoFocusOnClick;</div>
<div class="line"><a id="l16458" name="l16458"></a><span class="lineno">16458</span> </div>
<div class="line"><a id="l16459" name="l16459"></a><span class="lineno">16459</span>    <span class="comment">// We can overwrite viewport flags using ImGuiWindowClass (advanced users)</span></div>
<div class="line"><a id="l16460" name="l16460"></a><span class="lineno">16460</span>    <span class="keywordflow">if</span> (window-&gt;WindowClass.ViewportFlagsOverrideSet)</div>
<div class="line"><a id="l16461" name="l16461"></a><span class="lineno">16461</span>        viewport_flags |= window-&gt;WindowClass.ViewportFlagsOverrideSet;</div>
<div class="line"><a id="l16462" name="l16462"></a><span class="lineno">16462</span>    <span class="keywordflow">if</span> (window-&gt;WindowClass.ViewportFlagsOverrideClear)</div>
<div class="line"><a id="l16463" name="l16463"></a><span class="lineno">16463</span>        viewport_flags &amp;= ~window-&gt;WindowClass.ViewportFlagsOverrideClear;</div>
<div class="line"><a id="l16464" name="l16464"></a><span class="lineno">16464</span> </div>
<div class="line"><a id="l16465" name="l16465"></a><span class="lineno">16465</span>    <span class="comment">// We can also tell the backend that clearing the platform window won&#39;t be necessary,</span></div>
<div class="line"><a id="l16466" name="l16466"></a><span class="lineno">16466</span>    <span class="comment">// as our window background is filling the viewport and we have disabled BgAlpha.</span></div>
<div class="line"><a id="l16467" name="l16467"></a><span class="lineno">16467</span>    <span class="comment">// FIXME: Work on support for per-viewport transparency (#2766)</span></div>
<div class="line"><a id="l16468" name="l16468"></a><span class="lineno">16468</span>    <span class="keywordflow">if</span> (!(window_flags &amp; ImGuiWindowFlags_NoBackground))</div>
<div class="line"><a id="l16469" name="l16469"></a><span class="lineno">16469</span>        viewport_flags |= ImGuiViewportFlags_NoRendererClear;</div>
<div class="line"><a id="l16470" name="l16470"></a><span class="lineno">16470</span> </div>
<div class="line"><a id="l16471" name="l16471"></a><span class="lineno">16471</span>    window-&gt;Viewport-&gt;Flags = viewport_flags;</div>
<div class="line"><a id="l16472" name="l16472"></a><span class="lineno">16472</span> </div>
<div class="line"><a id="l16473" name="l16473"></a><span class="lineno">16473</span>    <span class="comment">// Update parent viewport ID</span></div>
<div class="line"><a id="l16474" name="l16474"></a><span class="lineno">16474</span>    <span class="comment">// (the !IsFallbackWindow test mimic the one done in WindowSelectViewport())</span></div>
<div class="line"><a id="l16475" name="l16475"></a><span class="lineno">16475</span>    <span class="keywordflow">if</span> (window-&gt;WindowClass.ParentViewportId != (ImGuiID)-1)</div>
<div class="line"><a id="l16476" name="l16476"></a><span class="lineno">16476</span>        window-&gt;Viewport-&gt;ParentViewportId = window-&gt;WindowClass.ParentViewportId;</div>
<div class="line"><a id="l16477" name="l16477"></a><span class="lineno">16477</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((window_flags &amp; (ImGuiWindowFlags_Popup | ImGuiWindowFlags_Tooltip)) &amp;&amp; parent_window_in_stack &amp;&amp; (!parent_window_in_stack-&gt;IsFallbackWindow || parent_window_in_stack-&gt;WasActive))</div>
<div class="line"><a id="l16478" name="l16478"></a><span class="lineno">16478</span>        window-&gt;Viewport-&gt;ParentViewportId = parent_window_in_stack-&gt;Viewport-&gt;ID;</div>
<div class="line"><a id="l16479" name="l16479"></a><span class="lineno">16479</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l16480" name="l16480"></a><span class="lineno">16480</span>        window-&gt;Viewport-&gt;ParentViewportId = g.IO.ConfigViewportsNoDefaultParent ? 0 : IMGUI_VIEWPORT_DEFAULT_ID;</div>
<div class="line"><a id="l16481" name="l16481"></a><span class="lineno">16481</span>}</div>
<div class="line"><a id="l16482" name="l16482"></a><span class="lineno">16482</span> </div>
<div class="line"><a id="l16483" name="l16483"></a><span class="lineno">16483</span><span class="comment">// Called by user at the end of the main loop, after EndFrame()</span></div>
<div class="line"><a id="l16484" name="l16484"></a><span class="lineno">16484</span><span class="comment">// This will handle the creation/update of all OS windows via function defined in the ImGuiPlatformIO api.</span></div>
<div class="line"><a id="l16485" name="l16485"></a><span class="lineno">16485</span><span class="keywordtype">void</span> ImGui::UpdatePlatformWindows()</div>
<div class="line"><a id="l16486" name="l16486"></a><span class="lineno">16486</span>{</div>
<div class="line"><a id="l16487" name="l16487"></a><span class="lineno">16487</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l16488" name="l16488"></a><span class="lineno">16488</span>    IM_ASSERT(g.FrameCountEnded == g.FrameCount &amp;&amp; <span class="stringliteral">&quot;Forgot to call Render() or EndFrame() before UpdatePlatformWindows()?&quot;</span>);</div>
<div class="line"><a id="l16489" name="l16489"></a><span class="lineno">16489</span>    IM_ASSERT(g.FrameCountPlatformEnded &lt; g.FrameCount);</div>
<div class="line"><a id="l16490" name="l16490"></a><span class="lineno">16490</span>    g.FrameCountPlatformEnded = g.FrameCount;</div>
<div class="line"><a id="l16491" name="l16491"></a><span class="lineno">16491</span>    <span class="keywordflow">if</span> (!(g.ConfigFlagsCurrFrame &amp; ImGuiConfigFlags_ViewportsEnable))</div>
<div class="line"><a id="l16492" name="l16492"></a><span class="lineno">16492</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l16493" name="l16493"></a><span class="lineno">16493</span> </div>
<div class="line"><a id="l16494" name="l16494"></a><span class="lineno">16494</span>    <span class="comment">// Create/resize/destroy platform windows to match each active viewport.</span></div>
<div class="line"><a id="l16495" name="l16495"></a><span class="lineno">16495</span>    <span class="comment">// Skip the main viewport (index 0), which is always fully handled by the application!</span></div>
<div class="line"><a id="l16496" name="l16496"></a><span class="lineno">16496</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; g.Viewports.Size; i++)</div>
<div class="line"><a id="l16497" name="l16497"></a><span class="lineno">16497</span>    {</div>
<div class="line"><a id="l16498" name="l16498"></a><span class="lineno">16498</span>        <a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport = g.Viewports[i];</div>
<div class="line"><a id="l16499" name="l16499"></a><span class="lineno">16499</span> </div>
<div class="line"><a id="l16500" name="l16500"></a><span class="lineno">16500</span>        <span class="comment">// Destroy platform window if the viewport hasn&#39;t been submitted or if it is hosting a hidden window</span></div>
<div class="line"><a id="l16501" name="l16501"></a><span class="lineno">16501</span>        <span class="comment">// (the implicit/fallback Debug##Default window will be registering its viewport then be disabled, causing a dummy DestroyPlatformWindow to be made each frame)</span></div>
<div class="line"><a id="l16502" name="l16502"></a><span class="lineno">16502</span>        <span class="keywordtype">bool</span> destroy_platform_window = <span class="keyword">false</span>;</div>
<div class="line"><a id="l16503" name="l16503"></a><span class="lineno">16503</span>        destroy_platform_window |= (viewport-&gt;LastFrameActive &lt; g.FrameCount - 1);</div>
<div class="line"><a id="l16504" name="l16504"></a><span class="lineno">16504</span>        destroy_platform_window |= (viewport-&gt;Window &amp;&amp; !IsWindowActiveAndVisible(viewport-&gt;Window));</div>
<div class="line"><a id="l16505" name="l16505"></a><span class="lineno">16505</span>        <span class="keywordflow">if</span> (destroy_platform_window)</div>
<div class="line"><a id="l16506" name="l16506"></a><span class="lineno">16506</span>        {</div>
<div class="line"><a id="l16507" name="l16507"></a><span class="lineno">16507</span>            DestroyPlatformWindow(viewport);</div>
<div class="line"><a id="l16508" name="l16508"></a><span class="lineno">16508</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l16509" name="l16509"></a><span class="lineno">16509</span>        }</div>
<div class="line"><a id="l16510" name="l16510"></a><span class="lineno">16510</span> </div>
<div class="line"><a id="l16511" name="l16511"></a><span class="lineno">16511</span>        <span class="comment">// New windows that appears directly in a new viewport won&#39;t always have a size on their first frame</span></div>
<div class="line"><a id="l16512" name="l16512"></a><span class="lineno">16512</span>        <span class="keywordflow">if</span> (viewport-&gt;LastFrameActive &lt; g.FrameCount || viewport-&gt;Size.x &lt;= 0 || viewport-&gt;Size.y &lt;= 0)</div>
<div class="line"><a id="l16513" name="l16513"></a><span class="lineno">16513</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l16514" name="l16514"></a><span class="lineno">16514</span> </div>
<div class="line"><a id="l16515" name="l16515"></a><span class="lineno">16515</span>        <span class="comment">// Create window</span></div>
<div class="line"><a id="l16516" name="l16516"></a><span class="lineno">16516</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_new_platform_window = (viewport-&gt;PlatformWindowCreated == <span class="keyword">false</span>);</div>
<div class="line"><a id="l16517" name="l16517"></a><span class="lineno">16517</span>        <span class="keywordflow">if</span> (is_new_platform_window)</div>
<div class="line"><a id="l16518" name="l16518"></a><span class="lineno">16518</span>        {</div>
<div class="line"><a id="l16519" name="l16519"></a><span class="lineno">16519</span>            IMGUI_DEBUG_LOG_VIEWPORT(<span class="stringliteral">&quot;[viewport] Create Platform Window %08X &#39;%s&#39;\n&quot;</span>, viewport-&gt;ID, viewport-&gt;Window ? viewport-&gt;Window-&gt;Name : <span class="stringliteral">&quot;n/a&quot;</span>);</div>
<div class="line"><a id="l16520" name="l16520"></a><span class="lineno">16520</span>            g.PlatformIO.Platform_CreateWindow(viewport);</div>
<div class="line"><a id="l16521" name="l16521"></a><span class="lineno">16521</span>            <span class="keywordflow">if</span> (g.PlatformIO.Renderer_CreateWindow != NULL)</div>
<div class="line"><a id="l16522" name="l16522"></a><span class="lineno">16522</span>                g.PlatformIO.Renderer_CreateWindow(viewport);</div>
<div class="line"><a id="l16523" name="l16523"></a><span class="lineno">16523</span>            g.PlatformWindowsCreatedCount++;</div>
<div class="line"><a id="l16524" name="l16524"></a><span class="lineno">16524</span>            viewport-&gt;LastNameHash = 0;</div>
<div class="line"><a id="l16525" name="l16525"></a><span class="lineno">16525</span>            viewport-&gt;LastPlatformPos = viewport-&gt;LastPlatformSize = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(FLT_MAX, FLT_MAX); <span class="comment">// By clearing those we&#39;ll enforce a call to Platform_SetWindowPos/Size below, before Platform_ShowWindow (FIXME: Is that necessary?)</span></div>
<div class="line"><a id="l16526" name="l16526"></a><span class="lineno">16526</span>            viewport-&gt;LastRendererSize = viewport-&gt;Size;                                       <span class="comment">// We don&#39;t need to call Renderer_SetWindowSize() as it is expected Renderer_CreateWindow() already did it.</span></div>
<div class="line"><a id="l16527" name="l16527"></a><span class="lineno">16527</span>            viewport-&gt;PlatformWindowCreated = <span class="keyword">true</span>;</div>
<div class="line"><a id="l16528" name="l16528"></a><span class="lineno">16528</span>        }</div>
<div class="line"><a id="l16529" name="l16529"></a><span class="lineno">16529</span> </div>
<div class="line"><a id="l16530" name="l16530"></a><span class="lineno">16530</span>        <span class="comment">// Apply Position and Size (from ImGui to Platform/Renderer backends)</span></div>
<div class="line"><a id="l16531" name="l16531"></a><span class="lineno">16531</span>        <span class="keywordflow">if</span> ((viewport-&gt;LastPlatformPos.x != viewport-&gt;Pos.x || viewport-&gt;LastPlatformPos.y != viewport-&gt;Pos.y) &amp;&amp; !viewport-&gt;PlatformRequestMove)</div>
<div class="line"><a id="l16532" name="l16532"></a><span class="lineno">16532</span>            g.PlatformIO.Platform_SetWindowPos(viewport, viewport-&gt;Pos);</div>
<div class="line"><a id="l16533" name="l16533"></a><span class="lineno">16533</span>        <span class="keywordflow">if</span> ((viewport-&gt;LastPlatformSize.x != viewport-&gt;Size.x || viewport-&gt;LastPlatformSize.y != viewport-&gt;Size.y) &amp;&amp; !viewport-&gt;PlatformRequestResize)</div>
<div class="line"><a id="l16534" name="l16534"></a><span class="lineno">16534</span>            g.PlatformIO.Platform_SetWindowSize(viewport, viewport-&gt;Size);</div>
<div class="line"><a id="l16535" name="l16535"></a><span class="lineno">16535</span>        <span class="keywordflow">if</span> ((viewport-&gt;LastRendererSize.x != viewport-&gt;Size.x || viewport-&gt;LastRendererSize.y != viewport-&gt;Size.y) &amp;&amp; g.PlatformIO.Renderer_SetWindowSize)</div>
<div class="line"><a id="l16536" name="l16536"></a><span class="lineno">16536</span>            g.PlatformIO.Renderer_SetWindowSize(viewport, viewport-&gt;Size);</div>
<div class="line"><a id="l16537" name="l16537"></a><span class="lineno">16537</span>        viewport-&gt;LastPlatformPos = viewport-&gt;Pos;</div>
<div class="line"><a id="l16538" name="l16538"></a><span class="lineno">16538</span>        viewport-&gt;LastPlatformSize = viewport-&gt;LastRendererSize = viewport-&gt;Size;</div>
<div class="line"><a id="l16539" name="l16539"></a><span class="lineno">16539</span> </div>
<div class="line"><a id="l16540" name="l16540"></a><span class="lineno">16540</span>        <span class="comment">// Update title bar (if it changed)</span></div>
<div class="line"><a id="l16541" name="l16541"></a><span class="lineno">16541</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window_for_title = GetWindowForTitleDisplay(viewport-&gt;Window))</div>
<div class="line"><a id="l16542" name="l16542"></a><span class="lineno">16542</span>        {</div>
<div class="line"><a id="l16543" name="l16543"></a><span class="lineno">16543</span>            <span class="keyword">const</span> <span class="keywordtype">char</span>* title_begin = window_for_title-&gt;Name;</div>
<div class="line"><a id="l16544" name="l16544"></a><span class="lineno">16544</span>            <span class="keywordtype">char</span>* title_end = (<span class="keywordtype">char</span>*)(intptr_t)FindRenderedTextEnd(title_begin);</div>
<div class="line"><a id="l16545" name="l16545"></a><span class="lineno">16545</span>            <span class="keyword">const</span> ImGuiID title_hash = ImHashStr(title_begin, title_end - title_begin);</div>
<div class="line"><a id="l16546" name="l16546"></a><span class="lineno">16546</span>            <span class="keywordflow">if</span> (viewport-&gt;LastNameHash != title_hash)</div>
<div class="line"><a id="l16547" name="l16547"></a><span class="lineno">16547</span>            {</div>
<div class="line"><a id="l16548" name="l16548"></a><span class="lineno">16548</span>                <span class="keywordtype">char</span> title_end_backup_c = *title_end;</div>
<div class="line"><a id="l16549" name="l16549"></a><span class="lineno">16549</span>                *title_end = 0; <span class="comment">// Cut existing buffer short instead of doing an alloc/free, no small gain.</span></div>
<div class="line"><a id="l16550" name="l16550"></a><span class="lineno">16550</span>                g.PlatformIO.Platform_SetWindowTitle(viewport, title_begin);</div>
<div class="line"><a id="l16551" name="l16551"></a><span class="lineno">16551</span>                *title_end = title_end_backup_c;</div>
<div class="line"><a id="l16552" name="l16552"></a><span class="lineno">16552</span>                viewport-&gt;LastNameHash = title_hash;</div>
<div class="line"><a id="l16553" name="l16553"></a><span class="lineno">16553</span>            }</div>
<div class="line"><a id="l16554" name="l16554"></a><span class="lineno">16554</span>        }</div>
<div class="line"><a id="l16555" name="l16555"></a><span class="lineno">16555</span> </div>
<div class="line"><a id="l16556" name="l16556"></a><span class="lineno">16556</span>        <span class="comment">// Update alpha (if it changed)</span></div>
<div class="line"><a id="l16557" name="l16557"></a><span class="lineno">16557</span>        <span class="keywordflow">if</span> (viewport-&gt;LastAlpha != viewport-&gt;Alpha &amp;&amp; g.PlatformIO.Platform_SetWindowAlpha)</div>
<div class="line"><a id="l16558" name="l16558"></a><span class="lineno">16558</span>            g.PlatformIO.Platform_SetWindowAlpha(viewport, viewport-&gt;Alpha);</div>
<div class="line"><a id="l16559" name="l16559"></a><span class="lineno">16559</span>        viewport-&gt;LastAlpha = viewport-&gt;Alpha;</div>
<div class="line"><a id="l16560" name="l16560"></a><span class="lineno">16560</span> </div>
<div class="line"><a id="l16561" name="l16561"></a><span class="lineno">16561</span>        <span class="comment">// Optional, general purpose call to allow the backend to perform general book-keeping even if things haven&#39;t changed.</span></div>
<div class="line"><a id="l16562" name="l16562"></a><span class="lineno">16562</span>        <span class="keywordflow">if</span> (g.PlatformIO.Platform_UpdateWindow)</div>
<div class="line"><a id="l16563" name="l16563"></a><span class="lineno">16563</span>            g.PlatformIO.Platform_UpdateWindow(viewport);</div>
<div class="line"><a id="l16564" name="l16564"></a><span class="lineno">16564</span> </div>
<div class="line"><a id="l16565" name="l16565"></a><span class="lineno">16565</span>        <span class="keywordflow">if</span> (is_new_platform_window)</div>
<div class="line"><a id="l16566" name="l16566"></a><span class="lineno">16566</span>        {</div>
<div class="line"><a id="l16567" name="l16567"></a><span class="lineno">16567</span>            <span class="comment">// On startup ensure new platform window don&#39;t steal focus (give it a few frames, as nested contents may lead to viewport being created a few frames late)</span></div>
<div class="line"><a id="l16568" name="l16568"></a><span class="lineno">16568</span>            <span class="keywordflow">if</span> (g.FrameCount &lt; 3)</div>
<div class="line"><a id="l16569" name="l16569"></a><span class="lineno">16569</span>                viewport-&gt;Flags |= ImGuiViewportFlags_NoFocusOnAppearing;</div>
<div class="line"><a id="l16570" name="l16570"></a><span class="lineno">16570</span> </div>
<div class="line"><a id="l16571" name="l16571"></a><span class="lineno">16571</span>            <span class="comment">// Show window</span></div>
<div class="line"><a id="l16572" name="l16572"></a><span class="lineno">16572</span>            g.PlatformIO.Platform_ShowWindow(viewport);</div>
<div class="line"><a id="l16573" name="l16573"></a><span class="lineno">16573</span> </div>
<div class="line"><a id="l16574" name="l16574"></a><span class="lineno">16574</span>            <span class="comment">// Even without focus, we assume the window becomes front-most.</span></div>
<div class="line"><a id="l16575" name="l16575"></a><span class="lineno">16575</span>            <span class="comment">// This is useful for our platform z-order heuristic when io.MouseHoveredViewport is not available.</span></div>
<div class="line"><a id="l16576" name="l16576"></a><span class="lineno">16576</span>            <span class="keywordflow">if</span> (viewport-&gt;LastFocusedStampCount != g.ViewportFocusedStampCount)</div>
<div class="line"><a id="l16577" name="l16577"></a><span class="lineno">16577</span>                viewport-&gt;LastFocusedStampCount = ++g.ViewportFocusedStampCount;</div>
<div class="line"><a id="l16578" name="l16578"></a><span class="lineno">16578</span>        }</div>
<div class="line"><a id="l16579" name="l16579"></a><span class="lineno">16579</span> </div>
<div class="line"><a id="l16580" name="l16580"></a><span class="lineno">16580</span>        <span class="comment">// Clear request flags</span></div>
<div class="line"><a id="l16581" name="l16581"></a><span class="lineno">16581</span>        viewport-&gt;ClearRequestFlags();</div>
<div class="line"><a id="l16582" name="l16582"></a><span class="lineno">16582</span>    }</div>
<div class="line"><a id="l16583" name="l16583"></a><span class="lineno">16583</span>}</div>
<div class="line"><a id="l16584" name="l16584"></a><span class="lineno">16584</span> </div>
<div class="line"><a id="l16585" name="l16585"></a><span class="lineno">16585</span><span class="comment">// This is a default/basic function for performing the rendering/swap of multiple Platform Windows.</span></div>
<div class="line"><a id="l16586" name="l16586"></a><span class="lineno">16586</span><span class="comment">// Custom renderers may prefer to not call this function at all, and instead iterate the publicly exposed platform data and handle rendering/sync themselves.</span></div>
<div class="line"><a id="l16587" name="l16587"></a><span class="lineno">16587</span><span class="comment">// The Render/Swap functions stored in ImGuiPlatformIO are merely here to allow for this helper to exist, but you can do it yourself:</span></div>
<div class="line"><a id="l16588" name="l16588"></a><span class="lineno">16588</span><span class="comment">//</span></div>
<div class="line"><a id="l16589" name="l16589"></a><span class="lineno">16589</span><span class="comment">//    ImGuiPlatformIO&amp; platform_io = ImGui::GetPlatformIO();</span></div>
<div class="line"><a id="l16590" name="l16590"></a><span class="lineno">16590</span><span class="comment">//    for (int i = 1; i &lt; platform_io.Viewports.Size; i++)</span></div>
<div class="line"><a id="l16591" name="l16591"></a><span class="lineno">16591</span><span class="comment">//        if ((platform_io.Viewports[i]-&gt;Flags &amp; ImGuiViewportFlags_Minimized) == 0)</span></div>
<div class="line"><a id="l16592" name="l16592"></a><span class="lineno">16592</span><span class="comment">//            MyRenderFunction(platform_io.Viewports[i], my_args);</span></div>
<div class="line"><a id="l16593" name="l16593"></a><span class="lineno">16593</span><span class="comment">//    for (int i = 1; i &lt; platform_io.Viewports.Size; i++)</span></div>
<div class="line"><a id="l16594" name="l16594"></a><span class="lineno">16594</span><span class="comment">//        if ((platform_io.Viewports[i]-&gt;Flags &amp; ImGuiViewportFlags_Minimized) == 0)</span></div>
<div class="line"><a id="l16595" name="l16595"></a><span class="lineno">16595</span><span class="comment">//            MySwapBufferFunction(platform_io.Viewports[i], my_args);</span></div>
<div class="line"><a id="l16596" name="l16596"></a><span class="lineno">16596</span><span class="comment">//</span></div>
<div class="line"><a id="l16597" name="l16597"></a><span class="lineno">16597</span><span class="keywordtype">void</span> ImGui::RenderPlatformWindowsDefault(<span class="keywordtype">void</span>* platform_render_arg, <span class="keywordtype">void</span>* renderer_render_arg)</div>
<div class="line"><a id="l16598" name="l16598"></a><span class="lineno">16598</span>{</div>
<div class="line"><a id="l16599" name="l16599"></a><span class="lineno">16599</span>    <span class="comment">// Skip the main viewport (index 0), which is always fully handled by the application!</span></div>
<div class="line"><a id="l16600" name="l16600"></a><span class="lineno">16600</span>    <a class="code hl_struct" href="structImGuiPlatformIO.html">ImGuiPlatformIO</a>&amp; platform_io = ImGui::GetPlatformIO();</div>
<div class="line"><a id="l16601" name="l16601"></a><span class="lineno">16601</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; platform_io.Viewports.Size; i++)</div>
<div class="line"><a id="l16602" name="l16602"></a><span class="lineno">16602</span>    {</div>
<div class="line"><a id="l16603" name="l16603"></a><span class="lineno">16603</span>        <a class="code hl_struct" href="structImGuiViewport.html">ImGuiViewport</a>* viewport = platform_io.Viewports[i];</div>
<div class="line"><a id="l16604" name="l16604"></a><span class="lineno">16604</span>        <span class="keywordflow">if</span> (viewport-&gt;Flags &amp; ImGuiViewportFlags_IsMinimized)</div>
<div class="line"><a id="l16605" name="l16605"></a><span class="lineno">16605</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l16606" name="l16606"></a><span class="lineno">16606</span>        <span class="keywordflow">if</span> (platform_io.Platform_RenderWindow) platform_io.Platform_RenderWindow(viewport, platform_render_arg);</div>
<div class="line"><a id="l16607" name="l16607"></a><span class="lineno">16607</span>        <span class="keywordflow">if</span> (platform_io.Renderer_RenderWindow) platform_io.Renderer_RenderWindow(viewport, renderer_render_arg);</div>
<div class="line"><a id="l16608" name="l16608"></a><span class="lineno">16608</span>    }</div>
<div class="line"><a id="l16609" name="l16609"></a><span class="lineno">16609</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; platform_io.Viewports.Size; i++)</div>
<div class="line"><a id="l16610" name="l16610"></a><span class="lineno">16610</span>    {</div>
<div class="line"><a id="l16611" name="l16611"></a><span class="lineno">16611</span>        <a class="code hl_struct" href="structImGuiViewport.html">ImGuiViewport</a>* viewport = platform_io.Viewports[i];</div>
<div class="line"><a id="l16612" name="l16612"></a><span class="lineno">16612</span>        <span class="keywordflow">if</span> (viewport-&gt;Flags &amp; ImGuiViewportFlags_IsMinimized)</div>
<div class="line"><a id="l16613" name="l16613"></a><span class="lineno">16613</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l16614" name="l16614"></a><span class="lineno">16614</span>        <span class="keywordflow">if</span> (platform_io.Platform_SwapBuffers) platform_io.Platform_SwapBuffers(viewport, platform_render_arg);</div>
<div class="line"><a id="l16615" name="l16615"></a><span class="lineno">16615</span>        <span class="keywordflow">if</span> (platform_io.Renderer_SwapBuffers) platform_io.Renderer_SwapBuffers(viewport, renderer_render_arg);</div>
<div class="line"><a id="l16616" name="l16616"></a><span class="lineno">16616</span>    }</div>
<div class="line"><a id="l16617" name="l16617"></a><span class="lineno">16617</span>}</div>
<div class="line"><a id="l16618" name="l16618"></a><span class="lineno">16618</span> </div>
<div class="line"><a id="l16619" name="l16619"></a><span class="lineno">16619</span><span class="keyword">static</span> <span class="keywordtype">int</span> ImGui::FindPlatformMonitorForPos(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; pos)</div>
<div class="line"><a id="l16620" name="l16620"></a><span class="lineno">16620</span>{</div>
<div class="line"><a id="l16621" name="l16621"></a><span class="lineno">16621</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l16622" name="l16622"></a><span class="lineno">16622</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> monitor_n = 0; monitor_n &lt; g.PlatformIO.Monitors.Size; monitor_n++)</div>
<div class="line"><a id="l16623" name="l16623"></a><span class="lineno">16623</span>    {</div>
<div class="line"><a id="l16624" name="l16624"></a><span class="lineno">16624</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiPlatformMonitor.html">ImGuiPlatformMonitor</a>&amp; monitor = g.PlatformIO.Monitors[monitor_n];</div>
<div class="line"><a id="l16625" name="l16625"></a><span class="lineno">16625</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImRect.html">ImRect</a>(monitor.MainPos, monitor.MainPos + monitor.MainSize).Contains(pos))</div>
<div class="line"><a id="l16626" name="l16626"></a><span class="lineno">16626</span>            <span class="keywordflow">return</span> monitor_n;</div>
<div class="line"><a id="l16627" name="l16627"></a><span class="lineno">16627</span>    }</div>
<div class="line"><a id="l16628" name="l16628"></a><span class="lineno">16628</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a id="l16629" name="l16629"></a><span class="lineno">16629</span>}</div>
<div class="line"><a id="l16630" name="l16630"></a><span class="lineno">16630</span> </div>
<div class="line"><a id="l16631" name="l16631"></a><span class="lineno">16631</span><span class="comment">// Search for the monitor with the largest intersection area with the given rectangle</span></div>
<div class="line"><a id="l16632" name="l16632"></a><span class="lineno">16632</span><span class="comment">// We generally try to avoid searching loops but the monitor count should be very small here</span></div>
<div class="line"><a id="l16633" name="l16633"></a><span class="lineno">16633</span><span class="comment">// FIXME-OPT: We could test the last monitor used for that viewport first, and early</span></div>
<div class="line"><a id="l16634" name="l16634"></a><span class="lineno">16634</span><span class="keyword">static</span> <span class="keywordtype">int</span> ImGui::FindPlatformMonitorForRect(<span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; rect)</div>
<div class="line"><a id="l16635" name="l16635"></a><span class="lineno">16635</span>{</div>
<div class="line"><a id="l16636" name="l16636"></a><span class="lineno">16636</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l16637" name="l16637"></a><span class="lineno">16637</span> </div>
<div class="line"><a id="l16638" name="l16638"></a><span class="lineno">16638</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> monitor_count = g.PlatformIO.Monitors.Size;</div>
<div class="line"><a id="l16639" name="l16639"></a><span class="lineno">16639</span>    <span class="keywordflow">if</span> (monitor_count &lt;= 1)</div>
<div class="line"><a id="l16640" name="l16640"></a><span class="lineno">16640</span>        <span class="keywordflow">return</span> monitor_count - 1;</div>
<div class="line"><a id="l16641" name="l16641"></a><span class="lineno">16641</span> </div>
<div class="line"><a id="l16642" name="l16642"></a><span class="lineno">16642</span>    <span class="comment">// Use a minimum threshold of 1.0f so a zero-sized rect won&#39;t false positive, and will still find the correct monitor given its position.</span></div>
<div class="line"><a id="l16643" name="l16643"></a><span class="lineno">16643</span>    <span class="comment">// This is necessary for tooltips which always resize down to zero at first.</span></div>
<div class="line"><a id="l16644" name="l16644"></a><span class="lineno">16644</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> surface_threshold = ImMax(rect.GetWidth() * rect.GetHeight() * 0.5f, 1.0f);</div>
<div class="line"><a id="l16645" name="l16645"></a><span class="lineno">16645</span>    <span class="keywordtype">int</span> best_monitor_n = 0; <span class="comment">// Default to the first monitor as fallback</span></div>
<div class="line"><a id="l16646" name="l16646"></a><span class="lineno">16646</span>    <span class="keywordtype">float</span> best_monitor_surface = 0.001f;</div>
<div class="line"><a id="l16647" name="l16647"></a><span class="lineno">16647</span> </div>
<div class="line"><a id="l16648" name="l16648"></a><span class="lineno">16648</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> monitor_n = 0; monitor_n &lt; g.PlatformIO.Monitors.Size &amp;&amp; best_monitor_surface &lt; surface_threshold; monitor_n++)</div>
<div class="line"><a id="l16649" name="l16649"></a><span class="lineno">16649</span>    {</div>
<div class="line"><a id="l16650" name="l16650"></a><span class="lineno">16650</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiPlatformMonitor.html">ImGuiPlatformMonitor</a>&amp; monitor = g.PlatformIO.Monitors[monitor_n];</div>
<div class="line"><a id="l16651" name="l16651"></a><span class="lineno">16651</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a> monitor_rect = <a class="code hl_struct" href="structImRect.html">ImRect</a>(monitor.MainPos, monitor.MainPos + monitor.MainSize);</div>
<div class="line"><a id="l16652" name="l16652"></a><span class="lineno">16652</span>        <span class="keywordflow">if</span> (monitor_rect.Contains(rect))</div>
<div class="line"><a id="l16653" name="l16653"></a><span class="lineno">16653</span>            <span class="keywordflow">return</span> monitor_n;</div>
<div class="line"><a id="l16654" name="l16654"></a><span class="lineno">16654</span>        <a class="code hl_struct" href="structImRect.html">ImRect</a> overlapping_rect = rect;</div>
<div class="line"><a id="l16655" name="l16655"></a><span class="lineno">16655</span>        overlapping_rect.ClipWithFull(monitor_rect);</div>
<div class="line"><a id="l16656" name="l16656"></a><span class="lineno">16656</span>        <span class="keywordtype">float</span> overlapping_surface = overlapping_rect.GetWidth() * overlapping_rect.GetHeight();</div>
<div class="line"><a id="l16657" name="l16657"></a><span class="lineno">16657</span>        <span class="keywordflow">if</span> (overlapping_surface &lt; best_monitor_surface)</div>
<div class="line"><a id="l16658" name="l16658"></a><span class="lineno">16658</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l16659" name="l16659"></a><span class="lineno">16659</span>        best_monitor_surface = overlapping_surface;</div>
<div class="line"><a id="l16660" name="l16660"></a><span class="lineno">16660</span>        best_monitor_n = monitor_n;</div>
<div class="line"><a id="l16661" name="l16661"></a><span class="lineno">16661</span>    }</div>
<div class="line"><a id="l16662" name="l16662"></a><span class="lineno">16662</span>    <span class="keywordflow">return</span> best_monitor_n;</div>
<div class="line"><a id="l16663" name="l16663"></a><span class="lineno">16663</span>}</div>
<div class="line"><a id="l16664" name="l16664"></a><span class="lineno">16664</span> </div>
<div class="line"><a id="l16665" name="l16665"></a><span class="lineno">16665</span><span class="comment">// Update monitor from viewport rectangle (we&#39;ll use this info to clamp windows and save windows lost in a removed monitor)</span></div>
<div class="line"><a id="l16666" name="l16666"></a><span class="lineno">16666</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::UpdateViewportPlatformMonitor(<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport)</div>
<div class="line"><a id="l16667" name="l16667"></a><span class="lineno">16667</span>{</div>
<div class="line"><a id="l16668" name="l16668"></a><span class="lineno">16668</span>    viewport-&gt;PlatformMonitor = (short)FindPlatformMonitorForRect(viewport-&gt;GetMainRect());</div>
<div class="line"><a id="l16669" name="l16669"></a><span class="lineno">16669</span>}</div>
<div class="line"><a id="l16670" name="l16670"></a><span class="lineno">16670</span> </div>
<div class="line"><a id="l16671" name="l16671"></a><span class="lineno">16671</span><span class="comment">// Return value is always != NULL, but don&#39;t hold on it across frames.</span></div>
<div class="line"><a id="l16672" name="l16672"></a><span class="lineno">16672</span><span class="keyword">const</span> <a class="code hl_struct" href="structImGuiPlatformMonitor.html">ImGuiPlatformMonitor</a>* ImGui::GetViewportPlatformMonitor(<a class="code hl_struct" href="structImGuiViewport.html">ImGuiViewport</a>* viewport_p)</div>
<div class="line"><a id="l16673" name="l16673"></a><span class="lineno">16673</span>{</div>
<div class="line"><a id="l16674" name="l16674"></a><span class="lineno">16674</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l16675" name="l16675"></a><span class="lineno">16675</span>    <a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport = (<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>*)(<span class="keywordtype">void</span>*)viewport_p;</div>
<div class="line"><a id="l16676" name="l16676"></a><span class="lineno">16676</span>    <span class="keywordtype">int</span> monitor_idx = viewport-&gt;PlatformMonitor;</div>
<div class="line"><a id="l16677" name="l16677"></a><span class="lineno">16677</span>    <span class="keywordflow">if</span> (monitor_idx &gt;= 0 &amp;&amp; monitor_idx &lt; g.PlatformIO.Monitors.Size)</div>
<div class="line"><a id="l16678" name="l16678"></a><span class="lineno">16678</span>        <span class="keywordflow">return</span> &amp;g.PlatformIO.Monitors[monitor_idx];</div>
<div class="line"><a id="l16679" name="l16679"></a><span class="lineno">16679</span>    <span class="keywordflow">return</span> &amp;g.FallbackMonitor;</div>
<div class="line"><a id="l16680" name="l16680"></a><span class="lineno">16680</span>}</div>
<div class="line"><a id="l16681" name="l16681"></a><span class="lineno">16681</span> </div>
<div class="line"><a id="l16682" name="l16682"></a><span class="lineno">16682</span><span class="keywordtype">void</span> ImGui::DestroyPlatformWindow(<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport)</div>
<div class="line"><a id="l16683" name="l16683"></a><span class="lineno">16683</span>{</div>
<div class="line"><a id="l16684" name="l16684"></a><span class="lineno">16684</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l16685" name="l16685"></a><span class="lineno">16685</span>    <span class="keywordflow">if</span> (viewport-&gt;PlatformWindowCreated)</div>
<div class="line"><a id="l16686" name="l16686"></a><span class="lineno">16686</span>    {</div>
<div class="line"><a id="l16687" name="l16687"></a><span class="lineno">16687</span>        IMGUI_DEBUG_LOG_VIEWPORT(<span class="stringliteral">&quot;[viewport] Destroy Platform Window %08X &#39;%s&#39;\n&quot;</span>, viewport-&gt;ID, viewport-&gt;Window ? viewport-&gt;Window-&gt;Name : <span class="stringliteral">&quot;n/a&quot;</span>);</div>
<div class="line"><a id="l16688" name="l16688"></a><span class="lineno">16688</span>        <span class="keywordflow">if</span> (g.PlatformIO.Renderer_DestroyWindow)</div>
<div class="line"><a id="l16689" name="l16689"></a><span class="lineno">16689</span>            g.PlatformIO.Renderer_DestroyWindow(viewport);</div>
<div class="line"><a id="l16690" name="l16690"></a><span class="lineno">16690</span>        <span class="keywordflow">if</span> (g.PlatformIO.Platform_DestroyWindow)</div>
<div class="line"><a id="l16691" name="l16691"></a><span class="lineno">16691</span>            g.PlatformIO.Platform_DestroyWindow(viewport);</div>
<div class="line"><a id="l16692" name="l16692"></a><span class="lineno">16692</span>        IM_ASSERT(viewport-&gt;RendererUserData == NULL &amp;&amp; viewport-&gt;PlatformUserData == NULL);</div>
<div class="line"><a id="l16693" name="l16693"></a><span class="lineno">16693</span> </div>
<div class="line"><a id="l16694" name="l16694"></a><span class="lineno">16694</span>        <span class="comment">// Don&#39;t clear PlatformWindowCreated for the main viewport, as we initially set that up to true in Initialize()</span></div>
<div class="line"><a id="l16695" name="l16695"></a><span class="lineno">16695</span>        <span class="comment">// The righter way may be to leave it to the backend to set this flag all-together, and made the flag public.</span></div>
<div class="line"><a id="l16696" name="l16696"></a><span class="lineno">16696</span>        <span class="keywordflow">if</span> (viewport-&gt;ID != IMGUI_VIEWPORT_DEFAULT_ID)</div>
<div class="line"><a id="l16697" name="l16697"></a><span class="lineno">16697</span>            viewport-&gt;PlatformWindowCreated = <span class="keyword">false</span>;</div>
<div class="line"><a id="l16698" name="l16698"></a><span class="lineno">16698</span>    }</div>
<div class="line"><a id="l16699" name="l16699"></a><span class="lineno">16699</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l16700" name="l16700"></a><span class="lineno">16700</span>    {</div>
<div class="line"><a id="l16701" name="l16701"></a><span class="lineno">16701</span>        IM_ASSERT(viewport-&gt;RendererUserData == NULL &amp;&amp; viewport-&gt;PlatformUserData == NULL &amp;&amp; viewport-&gt;PlatformHandle == NULL);</div>
<div class="line"><a id="l16702" name="l16702"></a><span class="lineno">16702</span>    }</div>
<div class="line"><a id="l16703" name="l16703"></a><span class="lineno">16703</span>    viewport-&gt;RendererUserData = viewport-&gt;PlatformUserData = viewport-&gt;PlatformHandle = NULL;</div>
<div class="line"><a id="l16704" name="l16704"></a><span class="lineno">16704</span>    viewport-&gt;ClearRequestFlags();</div>
<div class="line"><a id="l16705" name="l16705"></a><span class="lineno">16705</span>}</div>
<div class="line"><a id="l16706" name="l16706"></a><span class="lineno">16706</span> </div>
<div class="line"><a id="l16707" name="l16707"></a><span class="lineno">16707</span><span class="keywordtype">void</span> ImGui::DestroyPlatformWindows()</div>
<div class="line"><a id="l16708" name="l16708"></a><span class="lineno">16708</span>{</div>
<div class="line"><a id="l16709" name="l16709"></a><span class="lineno">16709</span>    <span class="comment">// We call the destroy window on every viewport (including the main viewport, index 0) to give a chance to the backend</span></div>
<div class="line"><a id="l16710" name="l16710"></a><span class="lineno">16710</span>    <span class="comment">// to clear any data they may have stored in e.g. PlatformUserData, RendererUserData.</span></div>
<div class="line"><a id="l16711" name="l16711"></a><span class="lineno">16711</span>    <span class="comment">// It is convenient for the platform backend code to store something in the main viewport, in order for e.g. the mouse handling</span></div>
<div class="line"><a id="l16712" name="l16712"></a><span class="lineno">16712</span>    <span class="comment">// code to operator a consistent manner.</span></div>
<div class="line"><a id="l16713" name="l16713"></a><span class="lineno">16713</span>    <span class="comment">// It is expected that the backend can handle calls to Renderer_DestroyWindow/Platform_DestroyWindow without</span></div>
<div class="line"><a id="l16714" name="l16714"></a><span class="lineno">16714</span>    <span class="comment">// crashing if it doesn&#39;t have data stored.</span></div>
<div class="line"><a id="l16715" name="l16715"></a><span class="lineno">16715</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l16716" name="l16716"></a><span class="lineno">16716</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport : g.Viewports)</div>
<div class="line"><a id="l16717" name="l16717"></a><span class="lineno">16717</span>        DestroyPlatformWindow(viewport);</div>
<div class="line"><a id="l16718" name="l16718"></a><span class="lineno">16718</span>}</div>
<div class="line"><a id="l16719" name="l16719"></a><span class="lineno">16719</span> </div>
<div class="line"><a id="l16720" name="l16720"></a><span class="lineno">16720</span> </div>
<div class="line"><a id="l16721" name="l16721"></a><span class="lineno">16721</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l16722" name="l16722"></a><span class="lineno">16722</span><span class="comment">// [SECTION] DOCKING</span></div>
<div class="line"><a id="l16723" name="l16723"></a><span class="lineno">16723</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l16724" name="l16724"></a><span class="lineno">16724</span><span class="comment">// Docking: Internal Types</span></div>
<div class="line"><a id="l16725" name="l16725"></a><span class="lineno">16725</span><span class="comment">// Docking: Forward Declarations</span></div>
<div class="line"><a id="l16726" name="l16726"></a><span class="lineno">16726</span><span class="comment">// Docking: ImGuiDockContext</span></div>
<div class="line"><a id="l16727" name="l16727"></a><span class="lineno">16727</span><span class="comment">// Docking: ImGuiDockContext Docking/Undocking functions</span></div>
<div class="line"><a id="l16728" name="l16728"></a><span class="lineno">16728</span><span class="comment">// Docking: ImGuiDockNode</span></div>
<div class="line"><a id="l16729" name="l16729"></a><span class="lineno">16729</span><span class="comment">// Docking: ImGuiDockNode Tree manipulation functions</span></div>
<div class="line"><a id="l16730" name="l16730"></a><span class="lineno">16730</span><span class="comment">// Docking: Public Functions (SetWindowDock, DockSpace, DockSpaceOverViewport)</span></div>
<div class="line"><a id="l16731" name="l16731"></a><span class="lineno">16731</span><span class="comment">// Docking: Builder Functions</span></div>
<div class="line"><a id="l16732" name="l16732"></a><span class="lineno">16732</span><span class="comment">// Docking: Begin/End Support Functions (called from Begin/End)</span></div>
<div class="line"><a id="l16733" name="l16733"></a><span class="lineno">16733</span><span class="comment">// Docking: Settings</span></div>
<div class="line"><a id="l16734" name="l16734"></a><span class="lineno">16734</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l16735" name="l16735"></a><span class="lineno">16735</span> </div>
<div class="line"><a id="l16736" name="l16736"></a><span class="lineno">16736</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l16737" name="l16737"></a><span class="lineno">16737</span><span class="comment">// Typical Docking call flow: (root level is generally public API):</span></div>
<div class="line"><a id="l16738" name="l16738"></a><span class="lineno">16738</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l16739" name="l16739"></a><span class="lineno">16739</span><span class="comment">// - NewFrame()                               new dear imgui frame</span></div>
<div class="line"><a id="l16740" name="l16740"></a><span class="lineno">16740</span><span class="comment">//    | DockContextNewFrameUpdateUndocking()  - process queued undocking requests</span></div>
<div class="line"><a id="l16741" name="l16741"></a><span class="lineno">16741</span><span class="comment">//    | - DockContextProcessUndockWindow()    - process one window undocking request</span></div>
<div class="line"><a id="l16742" name="l16742"></a><span class="lineno">16742</span><span class="comment">//    | - DockContextProcessUndockNode()      - process one whole node undocking request</span></div>
<div class="line"><a id="l16743" name="l16743"></a><span class="lineno">16743</span><span class="comment">//    | DockContextNewFrameUpdateUndocking()  - process queue docking requests, create floating dock nodes</span></div>
<div class="line"><a id="l16744" name="l16744"></a><span class="lineno">16744</span><span class="comment">//    | - update g.HoveredDockNode            - [debug] update node hovered by mouse</span></div>
<div class="line"><a id="l16745" name="l16745"></a><span class="lineno">16745</span><span class="comment">//    | - DockContextProcessDock()            - process one docking request</span></div>
<div class="line"><a id="l16746" name="l16746"></a><span class="lineno">16746</span><span class="comment">//    | - DockNodeUpdate()</span></div>
<div class="line"><a id="l16747" name="l16747"></a><span class="lineno">16747</span><span class="comment">//    |   - DockNodeUpdateForRootNode()</span></div>
<div class="line"><a id="l16748" name="l16748"></a><span class="lineno">16748</span><span class="comment">//    |     - DockNodeUpdateFlagsAndCollapse()</span></div>
<div class="line"><a id="l16749" name="l16749"></a><span class="lineno">16749</span><span class="comment">//    |     - DockNodeFindInfo()</span></div>
<div class="line"><a id="l16750" name="l16750"></a><span class="lineno">16750</span><span class="comment">//    |   - destroy unused node or tab bar</span></div>
<div class="line"><a id="l16751" name="l16751"></a><span class="lineno">16751</span><span class="comment">//    |   - create dock node host window</span></div>
<div class="line"><a id="l16752" name="l16752"></a><span class="lineno">16752</span><span class="comment">//    |      - Begin() etc.</span></div>
<div class="line"><a id="l16753" name="l16753"></a><span class="lineno">16753</span><span class="comment">//    |   - DockNodeStartMouseMovingWindow()</span></div>
<div class="line"><a id="l16754" name="l16754"></a><span class="lineno">16754</span><span class="comment">//    |   - DockNodeTreeUpdatePosSize()</span></div>
<div class="line"><a id="l16755" name="l16755"></a><span class="lineno">16755</span><span class="comment">//    |   - DockNodeTreeUpdateSplitter()</span></div>
<div class="line"><a id="l16756" name="l16756"></a><span class="lineno">16756</span><span class="comment">//    |   - draw node background</span></div>
<div class="line"><a id="l16757" name="l16757"></a><span class="lineno">16757</span><span class="comment">//    |   - DockNodeUpdateTabBar()            - create/update tab bar for a docking node</span></div>
<div class="line"><a id="l16758" name="l16758"></a><span class="lineno">16758</span><span class="comment">//    |     - DockNodeAddTabBar()</span></div>
<div class="line"><a id="l16759" name="l16759"></a><span class="lineno">16759</span><span class="comment">//    |     - DockNodeWindowMenuUpdate()</span></div>
<div class="line"><a id="l16760" name="l16760"></a><span class="lineno">16760</span><span class="comment">//    |     - DockNodeCalcTabBarLayout()</span></div>
<div class="line"><a id="l16761" name="l16761"></a><span class="lineno">16761</span><span class="comment">//    |     - BeginTabBarEx()</span></div>
<div class="line"><a id="l16762" name="l16762"></a><span class="lineno">16762</span><span class="comment">//    |     - TabItemEx() calls</span></div>
<div class="line"><a id="l16763" name="l16763"></a><span class="lineno">16763</span><span class="comment">//    |     - EndTabBar()</span></div>
<div class="line"><a id="l16764" name="l16764"></a><span class="lineno">16764</span><span class="comment">//    |   - BeginDockableDragDropTarget()</span></div>
<div class="line"><a id="l16765" name="l16765"></a><span class="lineno">16765</span><span class="comment">//    |      - DockNodeUpdate()               - recurse into child nodes...</span></div>
<div class="line"><a id="l16766" name="l16766"></a><span class="lineno">16766</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l16767" name="l16767"></a><span class="lineno">16767</span><span class="comment">// - DockSpace()                              user submit a dockspace into a window</span></div>
<div class="line"><a id="l16768" name="l16768"></a><span class="lineno">16768</span><span class="comment">//    | Begin(Child)                          - create a child window</span></div>
<div class="line"><a id="l16769" name="l16769"></a><span class="lineno">16769</span><span class="comment">//    | DockNodeUpdate()                      - call main dock node update function</span></div>
<div class="line"><a id="l16770" name="l16770"></a><span class="lineno">16770</span><span class="comment">//    | End(Child)</span></div>
<div class="line"><a id="l16771" name="l16771"></a><span class="lineno">16771</span><span class="comment">//    | ItemSize()</span></div>
<div class="line"><a id="l16772" name="l16772"></a><span class="lineno">16772</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l16773" name="l16773"></a><span class="lineno">16773</span><span class="comment">// - Begin()</span></div>
<div class="line"><a id="l16774" name="l16774"></a><span class="lineno">16774</span><span class="comment">//    | BeginDocked()</span></div>
<div class="line"><a id="l16775" name="l16775"></a><span class="lineno">16775</span><span class="comment">//    | BeginDockableDragDropSource()</span></div>
<div class="line"><a id="l16776" name="l16776"></a><span class="lineno">16776</span><span class="comment">//    | BeginDockableDragDropTarget()</span></div>
<div class="line"><a id="l16777" name="l16777"></a><span class="lineno">16777</span><span class="comment">//    | - DockNodePreviewDockRender()</span></div>
<div class="line"><a id="l16778" name="l16778"></a><span class="lineno">16778</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l16779" name="l16779"></a><span class="lineno">16779</span><span class="comment">// - EndFrame()</span></div>
<div class="line"><a id="l16780" name="l16780"></a><span class="lineno">16780</span><span class="comment">//    | DockContextEndFrame()</span></div>
<div class="line"><a id="l16781" name="l16781"></a><span class="lineno">16781</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l16782" name="l16782"></a><span class="lineno">16782</span> </div>
<div class="line"><a id="l16783" name="l16783"></a><span class="lineno">16783</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l16784" name="l16784"></a><span class="lineno">16784</span><span class="comment">// Docking: Internal Types</span></div>
<div class="line"><a id="l16785" name="l16785"></a><span class="lineno">16785</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l16786" name="l16786"></a><span class="lineno">16786</span><span class="comment">// - ImGuiDockRequestType</span></div>
<div class="line"><a id="l16787" name="l16787"></a><span class="lineno">16787</span><span class="comment">// - ImGuiDockRequest</span></div>
<div class="line"><a id="l16788" name="l16788"></a><span class="lineno">16788</span><span class="comment">// - ImGuiDockPreviewData</span></div>
<div class="line"><a id="l16789" name="l16789"></a><span class="lineno">16789</span><span class="comment">// - ImGuiDockNodeSettings</span></div>
<div class="line"><a id="l16790" name="l16790"></a><span class="lineno">16790</span><span class="comment">// - ImGuiDockContext</span></div>
<div class="line"><a id="l16791" name="l16791"></a><span class="lineno">16791</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l16792" name="l16792"></a><span class="lineno">16792</span> </div>
<div class="line"><a id="l16793" name="l16793"></a><span class="lineno">16793</span><span class="keyword">enum</span> ImGuiDockRequestType</div>
<div class="line"><a id="l16794" name="l16794"></a><span class="lineno">16794</span>{</div>
<div class="line"><a id="l16795" name="l16795"></a><span class="lineno">16795</span>    ImGuiDockRequestType_None = 0,</div>
<div class="line"><a id="l16796" name="l16796"></a><span class="lineno">16796</span>    ImGuiDockRequestType_Dock,</div>
<div class="line"><a id="l16797" name="l16797"></a><span class="lineno">16797</span>    ImGuiDockRequestType_Undock,</div>
<div class="line"><a id="l16798" name="l16798"></a><span class="lineno">16798</span>    ImGuiDockRequestType_Split                  <span class="comment">// Split is the same as Dock but without a DockPayload</span></div>
<div class="line"><a id="l16799" name="l16799"></a><span class="lineno">16799</span>};</div>
<div class="line"><a id="l16800" name="l16800"></a><span class="lineno">16800</span> </div>
<div class="foldopen" id="foldopen16801" data-start="{" data-end="};">
<div class="line"><a id="l16801" name="l16801"></a><span class="lineno"><a class="line" href="structImGuiDockRequest.html">16801</a></span><span class="keyword">struct </span><a class="code hl_struct" href="structImGuiDockRequest.html">ImGuiDockRequest</a></div>
<div class="line"><a id="l16802" name="l16802"></a><span class="lineno">16802</span>{</div>
<div class="line"><a id="l16803" name="l16803"></a><span class="lineno">16803</span>    ImGuiDockRequestType    Type;</div>
<div class="line"><a id="l16804" name="l16804"></a><span class="lineno">16804</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>*            DockTargetWindow;   <span class="comment">// Destination/Target Window to dock into (may be a loose window or a DockNode, might be NULL in which case DockTargetNode cannot be NULL)</span></div>
<div class="line"><a id="l16805" name="l16805"></a><span class="lineno">16805</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>*          DockTargetNode;     <span class="comment">// Destination/Target Node to dock into</span></div>
<div class="line"><a id="l16806" name="l16806"></a><span class="lineno">16806</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>*            DockPayload;        <span class="comment">// Source/Payload window to dock (may be a loose window or a DockNode), [Optional]</span></div>
<div class="line"><a id="l16807" name="l16807"></a><span class="lineno">16807</span>    ImGuiDir                DockSplitDir;</div>
<div class="line"><a id="l16808" name="l16808"></a><span class="lineno">16808</span>    <span class="keywordtype">float</span>                   DockSplitRatio;</div>
<div class="line"><a id="l16809" name="l16809"></a><span class="lineno">16809</span>    <span class="keywordtype">bool</span>                    DockSplitOuter;</div>
<div class="line"><a id="l16810" name="l16810"></a><span class="lineno">16810</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>*            UndockTargetWindow;</div>
<div class="line"><a id="l16811" name="l16811"></a><span class="lineno">16811</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>*          UndockTargetNode;</div>
<div class="line"><a id="l16812" name="l16812"></a><span class="lineno">16812</span> </div>
<div class="line"><a id="l16813" name="l16813"></a><span class="lineno">16813</span>    <a class="code hl_struct" href="structImGuiDockRequest.html">ImGuiDockRequest</a>()</div>
<div class="line"><a id="l16814" name="l16814"></a><span class="lineno">16814</span>    {</div>
<div class="line"><a id="l16815" name="l16815"></a><span class="lineno">16815</span>        Type = ImGuiDockRequestType_None;</div>
<div class="line"><a id="l16816" name="l16816"></a><span class="lineno">16816</span>        DockTargetWindow = DockPayload = UndockTargetWindow = NULL;</div>
<div class="line"><a id="l16817" name="l16817"></a><span class="lineno">16817</span>        DockTargetNode = UndockTargetNode = NULL;</div>
<div class="line"><a id="l16818" name="l16818"></a><span class="lineno">16818</span>        DockSplitDir = ImGuiDir_None;</div>
<div class="line"><a id="l16819" name="l16819"></a><span class="lineno">16819</span>        DockSplitRatio = 0.5f;</div>
<div class="line"><a id="l16820" name="l16820"></a><span class="lineno">16820</span>        DockSplitOuter = <span class="keyword">false</span>;</div>
<div class="line"><a id="l16821" name="l16821"></a><span class="lineno">16821</span>    }</div>
<div class="line"><a id="l16822" name="l16822"></a><span class="lineno">16822</span>};</div>
</div>
<div class="line"><a id="l16823" name="l16823"></a><span class="lineno">16823</span> </div>
<div class="foldopen" id="foldopen16824" data-start="{" data-end="};">
<div class="line"><a id="l16824" name="l16824"></a><span class="lineno"><a class="line" href="structImGuiDockPreviewData.html">16824</a></span><span class="keyword">struct </span><a class="code hl_struct" href="structImGuiDockPreviewData.html">ImGuiDockPreviewData</a></div>
<div class="line"><a id="l16825" name="l16825"></a><span class="lineno">16825</span>{</div>
<div class="line"><a id="l16826" name="l16826"></a><span class="lineno">16826</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>   FutureNode;</div>
<div class="line"><a id="l16827" name="l16827"></a><span class="lineno">16827</span>    <span class="keywordtype">bool</span>            IsDropAllowed;</div>
<div class="line"><a id="l16828" name="l16828"></a><span class="lineno">16828</span>    <span class="keywordtype">bool</span>            IsCenterAvailable;</div>
<div class="line"><a id="l16829" name="l16829"></a><span class="lineno">16829</span>    <span class="keywordtype">bool</span>            IsSidesAvailable;           <span class="comment">// Hold your breath, grammar freaks..</span></div>
<div class="line"><a id="l16830" name="l16830"></a><span class="lineno">16830</span>    <span class="keywordtype">bool</span>            IsSplitDirExplicit;         <span class="comment">// Set when hovered the drop rect (vs. implicit SplitDir==None when hovered the window)</span></div>
<div class="line"><a id="l16831" name="l16831"></a><span class="lineno">16831</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>*  SplitNode;</div>
<div class="line"><a id="l16832" name="l16832"></a><span class="lineno">16832</span>    ImGuiDir        SplitDir;</div>
<div class="line"><a id="l16833" name="l16833"></a><span class="lineno">16833</span>    <span class="keywordtype">float</span>           SplitRatio;</div>
<div class="line"><a id="l16834" name="l16834"></a><span class="lineno">16834</span>    <a class="code hl_struct" href="structImRect.html">ImRect</a>          DropRectsDraw[ImGuiDir_COUNT + 1];  <span class="comment">// May be slightly different from hit-testing drop rects used in DockNodeCalcDropRects()</span></div>
<div class="line"><a id="l16835" name="l16835"></a><span class="lineno">16835</span> </div>
<div class="line"><a id="l16836" name="l16836"></a><span class="lineno">16836</span>    <a class="code hl_struct" href="structImGuiDockPreviewData.html">ImGuiDockPreviewData</a>() : FutureNode(0) { IsDropAllowed = IsCenterAvailable = IsSidesAvailable = IsSplitDirExplicit = <span class="keyword">false</span>; SplitNode = NULL; SplitDir = ImGuiDir_None; SplitRatio = 0.f; <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; IM_ARRAYSIZE(DropRectsDraw); n++) DropRectsDraw[n] = <a class="code hl_struct" href="structImRect.html">ImRect</a>(+FLT_MAX, +FLT_MAX, -FLT_MAX, -FLT_MAX); }</div>
<div class="line"><a id="l16837" name="l16837"></a><span class="lineno">16837</span>};</div>
</div>
<div class="line"><a id="l16838" name="l16838"></a><span class="lineno">16838</span> </div>
<div class="line"><a id="l16839" name="l16839"></a><span class="lineno">16839</span><span class="comment">// Persistent Settings data, stored contiguously in SettingsNodes (sizeof() ~32 bytes)</span></div>
<div class="foldopen" id="foldopen16840" data-start="{" data-end="};">
<div class="line"><a id="l16840" name="l16840"></a><span class="lineno"><a class="line" href="structImGuiDockNodeSettings.html">16840</a></span><span class="keyword">struct </span><a class="code hl_struct" href="structImGuiDockNodeSettings.html">ImGuiDockNodeSettings</a></div>
<div class="line"><a id="l16841" name="l16841"></a><span class="lineno">16841</span>{</div>
<div class="line"><a id="l16842" name="l16842"></a><span class="lineno">16842</span>    ImGuiID             ID;</div>
<div class="line"><a id="l16843" name="l16843"></a><span class="lineno">16843</span>    ImGuiID             ParentNodeId;</div>
<div class="line"><a id="l16844" name="l16844"></a><span class="lineno">16844</span>    ImGuiID             ParentWindowId;</div>
<div class="line"><a id="l16845" name="l16845"></a><span class="lineno">16845</span>    ImGuiID             SelectedTabId;</div>
<div class="line"><a id="l16846" name="l16846"></a><span class="lineno">16846</span>    <span class="keywordtype">signed</span> <span class="keywordtype">char</span>         SplitAxis;</div>
<div class="line"><a id="l16847" name="l16847"></a><span class="lineno">16847</span>    <span class="keywordtype">char</span>                Depth;</div>
<div class="line"><a id="l16848" name="l16848"></a><span class="lineno">16848</span>    ImGuiDockNodeFlags  Flags;                  <span class="comment">// NB: We save individual flags one by one in ascii format (ImGuiDockNodeFlags_SavedFlagsMask_)</span></div>
<div class="line"><a id="l16849" name="l16849"></a><span class="lineno">16849</span>    <a class="code hl_struct" href="structImVec2ih.html">ImVec2ih</a>            Pos;</div>
<div class="line"><a id="l16850" name="l16850"></a><span class="lineno">16850</span>    <a class="code hl_struct" href="structImVec2ih.html">ImVec2ih</a>            Size;</div>
<div class="line"><a id="l16851" name="l16851"></a><span class="lineno">16851</span>    <a class="code hl_struct" href="structImVec2ih.html">ImVec2ih</a>            SizeRef;</div>
<div class="line"><a id="l16852" name="l16852"></a><span class="lineno">16852</span>    <a class="code hl_struct" href="structImGuiDockNodeSettings.html">ImGuiDockNodeSettings</a>() { memset(<span class="keyword">this</span>, 0, <span class="keyword">sizeof</span>(*<span class="keyword">this</span>)); SplitAxis = ImGuiAxis_None; }</div>
<div class="line"><a id="l16853" name="l16853"></a><span class="lineno">16853</span>};</div>
</div>
<div class="line"><a id="l16854" name="l16854"></a><span class="lineno">16854</span> </div>
<div class="line"><a id="l16855" name="l16855"></a><span class="lineno">16855</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l16856" name="l16856"></a><span class="lineno">16856</span><span class="comment">// Docking: Forward Declarations</span></div>
<div class="line"><a id="l16857" name="l16857"></a><span class="lineno">16857</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l16858" name="l16858"></a><span class="lineno">16858</span> </div>
<div class="line"><a id="l16859" name="l16859"></a><span class="lineno">16859</span><span class="keyword">namespace </span>ImGui</div>
<div class="line"><a id="l16860" name="l16860"></a><span class="lineno">16860</span>{</div>
<div class="line"><a id="l16861" name="l16861"></a><span class="lineno">16861</span>    <span class="comment">// ImGuiDockContext</span></div>
<div class="line"><a id="l16862" name="l16862"></a><span class="lineno">16862</span>    <span class="keyword">static</span> <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>*   DockContextAddNode(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, ImGuiID <span class="keywordtype">id</span>);</div>
<div class="line"><a id="l16863" name="l16863"></a><span class="lineno">16863</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockContextRemoveNode(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node, <span class="keywordtype">bool</span> merge_sibling_into_parent_node);</div>
<div class="line"><a id="l16864" name="l16864"></a><span class="lineno">16864</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockContextQueueNotifyRemovedNode(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node);</div>
<div class="line"><a id="l16865" name="l16865"></a><span class="lineno">16865</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockContextProcessDock(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <a class="code hl_struct" href="structImGuiDockRequest.html">ImGuiDockRequest</a>* req);</div>
<div class="line"><a id="l16866" name="l16866"></a><span class="lineno">16866</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockContextPruneUnusedSettingsNodes(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx);</div>
<div class="line"><a id="l16867" name="l16867"></a><span class="lineno">16867</span>    <span class="keyword">static</span> <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>*   DockContextBindNodeToWindow(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window);</div>
<div class="line"><a id="l16868" name="l16868"></a><span class="lineno">16868</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockContextBuildNodesFromSettings(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <a class="code hl_struct" href="structImGuiDockNodeSettings.html">ImGuiDockNodeSettings</a>* node_settings_array, <span class="keywordtype">int</span> node_settings_count);</div>
<div class="line"><a id="l16869" name="l16869"></a><span class="lineno">16869</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockContextBuildAddWindowsToNodes(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, ImGuiID root_id);                            <span class="comment">// Use root_id==0 to add all</span></div>
<div class="line"><a id="l16870" name="l16870"></a><span class="lineno">16870</span> </div>
<div class="line"><a id="l16871" name="l16871"></a><span class="lineno">16871</span>    <span class="comment">// ImGuiDockNode</span></div>
<div class="line"><a id="l16872" name="l16872"></a><span class="lineno">16872</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockNodeAddWindow(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keywordtype">bool</span> add_to_tab_bar);</div>
<div class="line"><a id="l16873" name="l16873"></a><span class="lineno">16873</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockNodeMoveWindows(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* dst_node, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* src_node);</div>
<div class="line"><a id="l16874" name="l16874"></a><span class="lineno">16874</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockNodeMoveChildNodes(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* dst_node, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* src_node);</div>
<div class="line"><a id="l16875" name="l16875"></a><span class="lineno">16875</span>    <span class="keyword">static</span> <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>*     DockNodeFindWindowByID(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node, ImGuiID <span class="keywordtype">id</span>);</div>
<div class="line"><a id="l16876" name="l16876"></a><span class="lineno">16876</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockNodeApplyPosSizeToWindows(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node);</div>
<div class="line"><a id="l16877" name="l16877"></a><span class="lineno">16877</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockNodeRemoveWindow(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, ImGuiID save_dock_id);</div>
<div class="line"><a id="l16878" name="l16878"></a><span class="lineno">16878</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockNodeHideHostWindow(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node);</div>
<div class="line"><a id="l16879" name="l16879"></a><span class="lineno">16879</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockNodeUpdate(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node);</div>
<div class="line"><a id="l16880" name="l16880"></a><span class="lineno">16880</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockNodeUpdateForRootNode(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node);</div>
<div class="line"><a id="l16881" name="l16881"></a><span class="lineno">16881</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockNodeUpdateFlagsAndCollapse(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node);</div>
<div class="line"><a id="l16882" name="l16882"></a><span class="lineno">16882</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockNodeUpdateHasCentralNodeChild(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node);</div>
<div class="line"><a id="l16883" name="l16883"></a><span class="lineno">16883</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockNodeUpdateTabBar(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* host_window);</div>
<div class="line"><a id="l16884" name="l16884"></a><span class="lineno">16884</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockNodeAddTabBar(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node);</div>
<div class="line"><a id="l16885" name="l16885"></a><span class="lineno">16885</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockNodeRemoveTabBar(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node);</div>
<div class="line"><a id="l16886" name="l16886"></a><span class="lineno">16886</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockNodeWindowMenuUpdate(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node, <a class="code hl_struct" href="structImGuiTabBar.html">ImGuiTabBar</a>* tab_bar);</div>
<div class="line"><a id="l16887" name="l16887"></a><span class="lineno">16887</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockNodeUpdateVisibleFlag(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node);</div>
<div class="line"><a id="l16888" name="l16888"></a><span class="lineno">16888</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockNodeStartMouseMovingWindow(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window);</div>
<div class="line"><a id="l16889" name="l16889"></a><span class="lineno">16889</span>    <span class="keyword">static</span> <span class="keywordtype">bool</span>             DockNodeIsDropAllowed(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* host_window, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* payload_window);</div>
<div class="line"><a id="l16890" name="l16890"></a><span class="lineno">16890</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockNodePreviewDockSetup(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* host_window, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* host_node, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* payload_window, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* payload_node, <a class="code hl_struct" href="structImGuiDockPreviewData.html">ImGuiDockPreviewData</a>* preview_data, <span class="keywordtype">bool</span> is_explicit_target, <span class="keywordtype">bool</span> is_outer_docking);</div>
<div class="line"><a id="l16891" name="l16891"></a><span class="lineno">16891</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockNodePreviewDockRender(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* host_window, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* host_node, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* payload_window, <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiDockPreviewData.html">ImGuiDockPreviewData</a>* preview_data);</div>
<div class="line"><a id="l16892" name="l16892"></a><span class="lineno">16892</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockNodeCalcTabBarLayout(<span class="keyword">const</span> <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node, <a class="code hl_struct" href="structImRect.html">ImRect</a>* out_title_rect, <a class="code hl_struct" href="structImRect.html">ImRect</a>* out_tab_bar_rect, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>* out_window_menu_button_pos, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>* out_close_button_pos);</div>
<div class="line"><a id="l16893" name="l16893"></a><span class="lineno">16893</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockNodeCalcSplitRects(<a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; pos_old, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; size_old, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; pos_new, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; size_new, ImGuiDir dir, <a class="code hl_struct" href="structImVec2.html">ImVec2</a> size_new_desired);</div>
<div class="line"><a id="l16894" name="l16894"></a><span class="lineno">16894</span>    <span class="keyword">static</span> <span class="keywordtype">bool</span>             DockNodeCalcDropRectsAndTestMousePos(<span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; parent, ImGuiDir dir, <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; out_draw, <span class="keywordtype">bool</span> outer_docking, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>* test_mouse_pos);</div>
<div class="line"><a id="l16895" name="l16895"></a><span class="lineno">16895</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>*      DockNodeGetHostWindowTitle(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node, <span class="keywordtype">char</span>* buf, <span class="keywordtype">int</span> buf_size) { ImFormatString(buf, buf_size, <span class="stringliteral">&quot;##DockNode_%02X&quot;</span>, node-&gt;ID); <span class="keywordflow">return</span> buf; }</div>
<div class="line"><a id="l16896" name="l16896"></a><span class="lineno">16896</span>    <span class="keyword">static</span> <span class="keywordtype">int</span>              DockNodeGetTabOrder(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window);</div>
<div class="line"><a id="l16897" name="l16897"></a><span class="lineno">16897</span> </div>
<div class="line"><a id="l16898" name="l16898"></a><span class="lineno">16898</span>    <span class="comment">// ImGuiDockNode tree manipulations</span></div>
<div class="line"><a id="l16899" name="l16899"></a><span class="lineno">16899</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockNodeTreeSplit(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* parent_node, ImGuiAxis split_axis, <span class="keywordtype">int</span> split_first_child, <span class="keywordtype">float</span> split_ratio, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* new_node);</div>
<div class="line"><a id="l16900" name="l16900"></a><span class="lineno">16900</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockNodeTreeMerge(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* parent_node, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* merge_lead_child);</div>
<div class="line"><a id="l16901" name="l16901"></a><span class="lineno">16901</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockNodeTreeUpdatePosSize(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node, <a class="code hl_struct" href="structImVec2.html">ImVec2</a> pos, <a class="code hl_struct" href="structImVec2.html">ImVec2</a> size, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* only_write_to_single_node = NULL);</div>
<div class="line"><a id="l16902" name="l16902"></a><span class="lineno">16902</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockNodeTreeUpdateSplitter(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node);</div>
<div class="line"><a id="l16903" name="l16903"></a><span class="lineno">16903</span>    <span class="keyword">static</span> <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>*   DockNodeTreeFindVisibleNodeByPos(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node, <a class="code hl_struct" href="structImVec2.html">ImVec2</a> pos);</div>
<div class="line"><a id="l16904" name="l16904"></a><span class="lineno">16904</span>    <span class="keyword">static</span> <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>*   DockNodeTreeFindFallbackLeafNode(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node);</div>
<div class="line"><a id="l16905" name="l16905"></a><span class="lineno">16905</span> </div>
<div class="line"><a id="l16906" name="l16906"></a><span class="lineno">16906</span>    <span class="comment">// Settings</span></div>
<div class="line"><a id="l16907" name="l16907"></a><span class="lineno">16907</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockSettingsRenameNodeReferences(ImGuiID old_node_id, ImGuiID new_node_id);</div>
<div class="line"><a id="l16908" name="l16908"></a><span class="lineno">16908</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockSettingsRemoveNodeReferences(ImGuiID* node_ids, <span class="keywordtype">int</span> node_ids_count);</div>
<div class="line"><a id="l16909" name="l16909"></a><span class="lineno">16909</span>    <span class="keyword">static</span> <a class="code hl_struct" href="structImGuiDockNodeSettings.html">ImGuiDockNodeSettings</a>*   DockSettingsFindNodeSettings(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, ImGuiID node_id);</div>
<div class="line"><a id="l16910" name="l16910"></a><span class="lineno">16910</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockSettingsHandler_ClearAll(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>*, <a class="code hl_struct" href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a>*);</div>
<div class="line"><a id="l16911" name="l16911"></a><span class="lineno">16911</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockSettingsHandler_ApplyAll(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>*, <a class="code hl_struct" href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a>*);</div>
<div class="line"><a id="l16912" name="l16912"></a><span class="lineno">16912</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>*            DockSettingsHandler_ReadOpen(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>*, <a class="code hl_struct" href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a>*, <span class="keyword">const</span> <span class="keywordtype">char</span>* name);</div>
<div class="line"><a id="l16913" name="l16913"></a><span class="lineno">16913</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockSettingsHandler_ReadLine(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>*, <a class="code hl_struct" href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a>*, <span class="keywordtype">void</span>* entry, <span class="keyword">const</span> <span class="keywordtype">char</span>* line);</div>
<div class="line"><a id="l16914" name="l16914"></a><span class="lineno">16914</span>    <span class="keyword">static</span> <span class="keywordtype">void</span>             DockSettingsHandler_WriteAll(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* imgui_ctx, <a class="code hl_struct" href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a>* handler, <a class="code hl_struct" href="structImGuiTextBuffer.html">ImGuiTextBuffer</a>* buf);</div>
<div class="line"><a id="l16915" name="l16915"></a><span class="lineno">16915</span>}</div>
<div class="line"><a id="l16916" name="l16916"></a><span class="lineno">16916</span> </div>
<div class="line"><a id="l16917" name="l16917"></a><span class="lineno">16917</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l16918" name="l16918"></a><span class="lineno">16918</span><span class="comment">// Docking: ImGuiDockContext</span></div>
<div class="line"><a id="l16919" name="l16919"></a><span class="lineno">16919</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l16920" name="l16920"></a><span class="lineno">16920</span><span class="comment">// The lifetime model is different from the one of regular windows: we always create a ImGuiDockNode for each ImGuiDockNodeSettings,</span></div>
<div class="line"><a id="l16921" name="l16921"></a><span class="lineno">16921</span><span class="comment">// or we always hold the entire docking node tree. Nodes are frequently hidden, e.g. if the window(s) or child nodes they host are not active.</span></div>
<div class="line"><a id="l16922" name="l16922"></a><span class="lineno">16922</span><span class="comment">// At boot time only, we run a simple GC to remove nodes that have no references.</span></div>
<div class="line"><a id="l16923" name="l16923"></a><span class="lineno">16923</span><span class="comment">// Because dock node settings (which are small, contiguous structures) are always mirrored by their corresponding dock nodes (more complete structures),</span></div>
<div class="line"><a id="l16924" name="l16924"></a><span class="lineno">16924</span><span class="comment">// we can also very easily recreate the nodes from scratch given the settings data (this is what DockContextRebuild() does).</span></div>
<div class="line"><a id="l16925" name="l16925"></a><span class="lineno">16925</span><span class="comment">// This is convenient as docking reconfiguration can be implemented by mostly poking at the simpler settings data.</span></div>
<div class="line"><a id="l16926" name="l16926"></a><span class="lineno">16926</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l16927" name="l16927"></a><span class="lineno">16927</span><span class="comment">// - DockContextInitialize()</span></div>
<div class="line"><a id="l16928" name="l16928"></a><span class="lineno">16928</span><span class="comment">// - DockContextShutdown()</span></div>
<div class="line"><a id="l16929" name="l16929"></a><span class="lineno">16929</span><span class="comment">// - DockContextClearNodes()</span></div>
<div class="line"><a id="l16930" name="l16930"></a><span class="lineno">16930</span><span class="comment">// - DockContextRebuildNodes()</span></div>
<div class="line"><a id="l16931" name="l16931"></a><span class="lineno">16931</span><span class="comment">// - DockContextNewFrameUpdateUndocking()</span></div>
<div class="line"><a id="l16932" name="l16932"></a><span class="lineno">16932</span><span class="comment">// - DockContextNewFrameUpdateDocking()</span></div>
<div class="line"><a id="l16933" name="l16933"></a><span class="lineno">16933</span><span class="comment">// - DockContextEndFrame()</span></div>
<div class="line"><a id="l16934" name="l16934"></a><span class="lineno">16934</span><span class="comment">// - DockContextFindNodeByID()</span></div>
<div class="line"><a id="l16935" name="l16935"></a><span class="lineno">16935</span><span class="comment">// - DockContextBindNodeToWindow()</span></div>
<div class="line"><a id="l16936" name="l16936"></a><span class="lineno">16936</span><span class="comment">// - DockContextGenNodeID()</span></div>
<div class="line"><a id="l16937" name="l16937"></a><span class="lineno">16937</span><span class="comment">// - DockContextAddNode()</span></div>
<div class="line"><a id="l16938" name="l16938"></a><span class="lineno">16938</span><span class="comment">// - DockContextRemoveNode()</span></div>
<div class="line"><a id="l16939" name="l16939"></a><span class="lineno">16939</span><span class="comment">// - ImGuiDockContextPruneNodeData</span></div>
<div class="line"><a id="l16940" name="l16940"></a><span class="lineno">16940</span><span class="comment">// - DockContextPruneUnusedSettingsNodes()</span></div>
<div class="line"><a id="l16941" name="l16941"></a><span class="lineno">16941</span><span class="comment">// - DockContextBuildNodesFromSettings()</span></div>
<div class="line"><a id="l16942" name="l16942"></a><span class="lineno">16942</span><span class="comment">// - DockContextBuildAddWindowsToNodes()</span></div>
<div class="line"><a id="l16943" name="l16943"></a><span class="lineno">16943</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l16944" name="l16944"></a><span class="lineno">16944</span> </div>
<div class="line"><a id="l16945" name="l16945"></a><span class="lineno">16945</span><span class="keywordtype">void</span> ImGui::DockContextInitialize(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx)</div>
<div class="line"><a id="l16946" name="l16946"></a><span class="lineno">16946</span>{</div>
<div class="line"><a id="l16947" name="l16947"></a><span class="lineno">16947</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *ctx;</div>
<div class="line"><a id="l16948" name="l16948"></a><span class="lineno">16948</span> </div>
<div class="line"><a id="l16949" name="l16949"></a><span class="lineno">16949</span>    <span class="comment">// Add .ini handle for persistent docking data</span></div>
<div class="line"><a id="l16950" name="l16950"></a><span class="lineno">16950</span>    <a class="code hl_struct" href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a> ini_handler;</div>
<div class="line"><a id="l16951" name="l16951"></a><span class="lineno">16951</span>    ini_handler.TypeName = <span class="stringliteral">&quot;Docking&quot;</span>;</div>
<div class="line"><a id="l16952" name="l16952"></a><span class="lineno">16952</span>    ini_handler.TypeHash = ImHashStr(<span class="stringliteral">&quot;Docking&quot;</span>);</div>
<div class="line"><a id="l16953" name="l16953"></a><span class="lineno">16953</span>    ini_handler.ClearAllFn = DockSettingsHandler_ClearAll;</div>
<div class="line"><a id="l16954" name="l16954"></a><span class="lineno">16954</span>    ini_handler.ReadInitFn = DockSettingsHandler_ClearAll; <span class="comment">// Also clear on read</span></div>
<div class="line"><a id="l16955" name="l16955"></a><span class="lineno">16955</span>    ini_handler.ReadOpenFn = DockSettingsHandler_ReadOpen;</div>
<div class="line"><a id="l16956" name="l16956"></a><span class="lineno">16956</span>    ini_handler.ReadLineFn = DockSettingsHandler_ReadLine;</div>
<div class="line"><a id="l16957" name="l16957"></a><span class="lineno">16957</span>    ini_handler.ApplyAllFn = DockSettingsHandler_ApplyAll;</div>
<div class="line"><a id="l16958" name="l16958"></a><span class="lineno">16958</span>    ini_handler.WriteAllFn = DockSettingsHandler_WriteAll;</div>
<div class="line"><a id="l16959" name="l16959"></a><span class="lineno">16959</span>    g.SettingsHandlers.push_back(ini_handler);</div>
<div class="line"><a id="l16960" name="l16960"></a><span class="lineno">16960</span> </div>
<div class="line"><a id="l16961" name="l16961"></a><span class="lineno">16961</span>    g.DockNodeWindowMenuHandler = &amp;DockNodeWindowMenuHandler_Default;</div>
<div class="line"><a id="l16962" name="l16962"></a><span class="lineno">16962</span>}</div>
<div class="line"><a id="l16963" name="l16963"></a><span class="lineno">16963</span> </div>
<div class="line"><a id="l16964" name="l16964"></a><span class="lineno">16964</span><span class="keywordtype">void</span> ImGui::DockContextShutdown(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx)</div>
<div class="line"><a id="l16965" name="l16965"></a><span class="lineno">16965</span>{</div>
<div class="line"><a id="l16966" name="l16966"></a><span class="lineno">16966</span>    <a class="code hl_struct" href="structImGuiDockContext.html">ImGuiDockContext</a>* dc = &amp;ctx-&gt;DockContext;</div>
<div class="line"><a id="l16967" name="l16967"></a><span class="lineno">16967</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; dc-&gt;Nodes.Data.Size; n++)</div>
<div class="line"><a id="l16968" name="l16968"></a><span class="lineno">16968</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node = (<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>*)dc-&gt;Nodes.Data[n].val_p)</div>
<div class="line"><a id="l16969" name="l16969"></a><span class="lineno">16969</span>            IM_DELETE(node);</div>
<div class="line"><a id="l16970" name="l16970"></a><span class="lineno">16970</span>}</div>
<div class="line"><a id="l16971" name="l16971"></a><span class="lineno">16971</span> </div>
<div class="line"><a id="l16972" name="l16972"></a><span class="lineno">16972</span><span class="keywordtype">void</span> ImGui::DockContextClearNodes(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, ImGuiID root_id, <span class="keywordtype">bool</span> clear_settings_refs)</div>
<div class="line"><a id="l16973" name="l16973"></a><span class="lineno">16973</span>{</div>
<div class="line"><a id="l16974" name="l16974"></a><span class="lineno">16974</span>    IM_UNUSED(ctx);</div>
<div class="line"><a id="l16975" name="l16975"></a><span class="lineno">16975</span>    IM_ASSERT(ctx == GImGui);</div>
<div class="line"><a id="l16976" name="l16976"></a><span class="lineno">16976</span>    DockBuilderRemoveNodeDockedWindows(root_id, clear_settings_refs);</div>
<div class="line"><a id="l16977" name="l16977"></a><span class="lineno">16977</span>    DockBuilderRemoveNodeChildNodes(root_id);</div>
<div class="line"><a id="l16978" name="l16978"></a><span class="lineno">16978</span>}</div>
<div class="line"><a id="l16979" name="l16979"></a><span class="lineno">16979</span> </div>
<div class="line"><a id="l16980" name="l16980"></a><span class="lineno">16980</span><span class="comment">// [DEBUG] This function also acts as a defacto test to make sure we can rebuild from scratch without a glitch</span></div>
<div class="line"><a id="l16981" name="l16981"></a><span class="lineno">16981</span><span class="comment">// (Different from DockSettingsHandler_ClearAll() + DockSettingsHandler_ApplyAll() because this reuses current settings!)</span></div>
<div class="line"><a id="l16982" name="l16982"></a><span class="lineno">16982</span><span class="keywordtype">void</span> ImGui::DockContextRebuildNodes(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx)</div>
<div class="line"><a id="l16983" name="l16983"></a><span class="lineno">16983</span>{</div>
<div class="line"><a id="l16984" name="l16984"></a><span class="lineno">16984</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *ctx;</div>
<div class="line"><a id="l16985" name="l16985"></a><span class="lineno">16985</span>    <a class="code hl_struct" href="structImGuiDockContext.html">ImGuiDockContext</a>* dc = &amp;ctx-&gt;DockContext;</div>
<div class="line"><a id="l16986" name="l16986"></a><span class="lineno">16986</span>    IMGUI_DEBUG_LOG_DOCKING(<span class="stringliteral">&quot;[docking] DockContextRebuildNodes\n&quot;</span>);</div>
<div class="line"><a id="l16987" name="l16987"></a><span class="lineno">16987</span>    SaveIniSettingsToMemory();</div>
<div class="line"><a id="l16988" name="l16988"></a><span class="lineno">16988</span>    ImGuiID root_id = 0; <span class="comment">// Rebuild all</span></div>
<div class="line"><a id="l16989" name="l16989"></a><span class="lineno">16989</span>    DockContextClearNodes(ctx, root_id, <span class="keyword">false</span>);</div>
<div class="line"><a id="l16990" name="l16990"></a><span class="lineno">16990</span>    DockContextBuildNodesFromSettings(ctx, dc-&gt;NodesSettings.Data, dc-&gt;NodesSettings.Size);</div>
<div class="line"><a id="l16991" name="l16991"></a><span class="lineno">16991</span>    DockContextBuildAddWindowsToNodes(ctx, root_id);</div>
<div class="line"><a id="l16992" name="l16992"></a><span class="lineno">16992</span>}</div>
<div class="line"><a id="l16993" name="l16993"></a><span class="lineno">16993</span> </div>
<div class="line"><a id="l16994" name="l16994"></a><span class="lineno">16994</span><span class="comment">// Docking context update function, called by NewFrame()</span></div>
<div class="line"><a id="l16995" name="l16995"></a><span class="lineno">16995</span><span class="keywordtype">void</span> ImGui::DockContextNewFrameUpdateUndocking(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx)</div>
<div class="line"><a id="l16996" name="l16996"></a><span class="lineno">16996</span>{</div>
<div class="line"><a id="l16997" name="l16997"></a><span class="lineno">16997</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *ctx;</div>
<div class="line"><a id="l16998" name="l16998"></a><span class="lineno">16998</span>    <a class="code hl_struct" href="structImGuiDockContext.html">ImGuiDockContext</a>* dc = &amp;ctx-&gt;DockContext;</div>
<div class="line"><a id="l16999" name="l16999"></a><span class="lineno">16999</span>    <span class="keywordflow">if</span> (!(g.IO.ConfigFlags &amp; ImGuiConfigFlags_DockingEnable))</div>
<div class="line"><a id="l17000" name="l17000"></a><span class="lineno">17000</span>    {</div>
<div class="line"><a id="l17001" name="l17001"></a><span class="lineno">17001</span>        <span class="keywordflow">if</span> (dc-&gt;Nodes.Data.Size &gt; 0 || dc-&gt;Requests.Size &gt; 0)</div>
<div class="line"><a id="l17002" name="l17002"></a><span class="lineno">17002</span>            DockContextClearNodes(ctx, 0, <span class="keyword">true</span>);</div>
<div class="line"><a id="l17003" name="l17003"></a><span class="lineno">17003</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l17004" name="l17004"></a><span class="lineno">17004</span>    }</div>
<div class="line"><a id="l17005" name="l17005"></a><span class="lineno">17005</span> </div>
<div class="line"><a id="l17006" name="l17006"></a><span class="lineno">17006</span>    <span class="comment">// Setting NoSplit at runtime merges all nodes</span></div>
<div class="line"><a id="l17007" name="l17007"></a><span class="lineno">17007</span>    <span class="keywordflow">if</span> (g.IO.ConfigDockingNoSplit)</div>
<div class="line"><a id="l17008" name="l17008"></a><span class="lineno">17008</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; dc-&gt;Nodes.Data.Size; n++)</div>
<div class="line"><a id="l17009" name="l17009"></a><span class="lineno">17009</span>            <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node = (<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>*)dc-&gt;Nodes.Data[n].val_p)</div>
<div class="line"><a id="l17010" name="l17010"></a><span class="lineno">17010</span>                <span class="keywordflow">if</span> (node-&gt;IsRootNode() &amp;&amp; node-&gt;IsSplitNode())</div>
<div class="line"><a id="l17011" name="l17011"></a><span class="lineno">17011</span>                {</div>
<div class="line"><a id="l17012" name="l17012"></a><span class="lineno">17012</span>                    DockBuilderRemoveNodeChildNodes(node-&gt;ID);</div>
<div class="line"><a id="l17013" name="l17013"></a><span class="lineno">17013</span>                    <span class="comment">//dc-&gt;WantFullRebuild = true;</span></div>
<div class="line"><a id="l17014" name="l17014"></a><span class="lineno">17014</span>                }</div>
<div class="line"><a id="l17015" name="l17015"></a><span class="lineno">17015</span> </div>
<div class="line"><a id="l17016" name="l17016"></a><span class="lineno">17016</span>    <span class="comment">// Process full rebuild</span></div>
<div class="line"><a id="l17017" name="l17017"></a><span class="lineno">17017</span><span class="preprocessor">#if 0</span></div>
<div class="line"><a id="l17018" name="l17018"></a><span class="lineno">17018</span>    <span class="keywordflow">if</span> (ImGui::IsKeyPressed(ImGui::GetKeyIndex(ImGuiKey_C)))</div>
<div class="line"><a id="l17019" name="l17019"></a><span class="lineno">17019</span>        dc-&gt;WantFullRebuild = <span class="keyword">true</span>;</div>
<div class="line"><a id="l17020" name="l17020"></a><span class="lineno">17020</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l17021" name="l17021"></a><span class="lineno">17021</span>    <span class="keywordflow">if</span> (dc-&gt;WantFullRebuild)</div>
<div class="line"><a id="l17022" name="l17022"></a><span class="lineno">17022</span>    {</div>
<div class="line"><a id="l17023" name="l17023"></a><span class="lineno">17023</span>        DockContextRebuildNodes(ctx);</div>
<div class="line"><a id="l17024" name="l17024"></a><span class="lineno">17024</span>        dc-&gt;WantFullRebuild = <span class="keyword">false</span>;</div>
<div class="line"><a id="l17025" name="l17025"></a><span class="lineno">17025</span>    }</div>
<div class="line"><a id="l17026" name="l17026"></a><span class="lineno">17026</span> </div>
<div class="line"><a id="l17027" name="l17027"></a><span class="lineno">17027</span>    <span class="comment">// Process Undocking requests (we need to process them _before_ the UpdateMouseMovingWindowNewFrame call in NewFrame)</span></div>
<div class="line"><a id="l17028" name="l17028"></a><span class="lineno">17028</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiDockRequest.html">ImGuiDockRequest</a>&amp; req : dc-&gt;Requests)</div>
<div class="line"><a id="l17029" name="l17029"></a><span class="lineno">17029</span>    {</div>
<div class="line"><a id="l17030" name="l17030"></a><span class="lineno">17030</span>        <span class="keywordflow">if</span> (req.Type == ImGuiDockRequestType_Undock &amp;&amp; req.UndockTargetWindow)</div>
<div class="line"><a id="l17031" name="l17031"></a><span class="lineno">17031</span>            DockContextProcessUndockWindow(ctx, req.UndockTargetWindow);</div>
<div class="line"><a id="l17032" name="l17032"></a><span class="lineno">17032</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (req.Type == ImGuiDockRequestType_Undock &amp;&amp; req.UndockTargetNode)</div>
<div class="line"><a id="l17033" name="l17033"></a><span class="lineno">17033</span>            DockContextProcessUndockNode(ctx, req.UndockTargetNode);</div>
<div class="line"><a id="l17034" name="l17034"></a><span class="lineno">17034</span>    }</div>
<div class="line"><a id="l17035" name="l17035"></a><span class="lineno">17035</span>}</div>
<div class="line"><a id="l17036" name="l17036"></a><span class="lineno">17036</span> </div>
<div class="line"><a id="l17037" name="l17037"></a><span class="lineno">17037</span><span class="comment">// Docking context update function, called by NewFrame()</span></div>
<div class="line"><a id="l17038" name="l17038"></a><span class="lineno">17038</span><span class="keywordtype">void</span> ImGui::DockContextNewFrameUpdateDocking(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx)</div>
<div class="line"><a id="l17039" name="l17039"></a><span class="lineno">17039</span>{</div>
<div class="line"><a id="l17040" name="l17040"></a><span class="lineno">17040</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *ctx;</div>
<div class="line"><a id="l17041" name="l17041"></a><span class="lineno">17041</span>    <a class="code hl_struct" href="structImGuiDockContext.html">ImGuiDockContext</a>* dc = &amp;ctx-&gt;DockContext;</div>
<div class="line"><a id="l17042" name="l17042"></a><span class="lineno">17042</span>    <span class="keywordflow">if</span> (!(g.IO.ConfigFlags &amp; ImGuiConfigFlags_DockingEnable))</div>
<div class="line"><a id="l17043" name="l17043"></a><span class="lineno">17043</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l17044" name="l17044"></a><span class="lineno">17044</span> </div>
<div class="line"><a id="l17045" name="l17045"></a><span class="lineno">17045</span>    <span class="comment">// [DEBUG] Store hovered dock node.</span></div>
<div class="line"><a id="l17046" name="l17046"></a><span class="lineno">17046</span>    <span class="comment">// We could in theory use DockNodeTreeFindVisibleNodeByPos() on the root host dock node, but using -&gt;DockNode is a good shortcut.</span></div>
<div class="line"><a id="l17047" name="l17047"></a><span class="lineno">17047</span>    <span class="comment">// Note this is mostly a debug thing and isn&#39;t actually used for docking target, because docking involve more detailed filtering.</span></div>
<div class="line"><a id="l17048" name="l17048"></a><span class="lineno">17048</span>    g.DebugHoveredDockNode = NULL;</div>
<div class="line"><a id="l17049" name="l17049"></a><span class="lineno">17049</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* hovered_window = g.HoveredWindowUnderMovingWindow)</div>
<div class="line"><a id="l17050" name="l17050"></a><span class="lineno">17050</span>    {</div>
<div class="line"><a id="l17051" name="l17051"></a><span class="lineno">17051</span>        <span class="keywordflow">if</span> (hovered_window-&gt;DockNodeAsHost)</div>
<div class="line"><a id="l17052" name="l17052"></a><span class="lineno">17052</span>            g.DebugHoveredDockNode = DockNodeTreeFindVisibleNodeByPos(hovered_window-&gt;DockNodeAsHost, g.IO.MousePos);</div>
<div class="line"><a id="l17053" name="l17053"></a><span class="lineno">17053</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hovered_window-&gt;RootWindow-&gt;DockNode)</div>
<div class="line"><a id="l17054" name="l17054"></a><span class="lineno">17054</span>            g.DebugHoveredDockNode = hovered_window-&gt;RootWindow-&gt;DockNode;</div>
<div class="line"><a id="l17055" name="l17055"></a><span class="lineno">17055</span>    }</div>
<div class="line"><a id="l17056" name="l17056"></a><span class="lineno">17056</span> </div>
<div class="line"><a id="l17057" name="l17057"></a><span class="lineno">17057</span>    <span class="comment">// Process Docking requests</span></div>
<div class="line"><a id="l17058" name="l17058"></a><span class="lineno">17058</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiDockRequest.html">ImGuiDockRequest</a>&amp; req : dc-&gt;Requests)</div>
<div class="line"><a id="l17059" name="l17059"></a><span class="lineno">17059</span>        if (req.Type == ImGuiDockRequestType_Dock)</div>
<div class="line"><a id="l17060" name="l17060"></a><span class="lineno">17060</span>            DockContextProcessDock(ctx, &amp;req);</div>
<div class="line"><a id="l17061" name="l17061"></a><span class="lineno">17061</span>    dc-&gt;Requests.resize(0);</div>
<div class="line"><a id="l17062" name="l17062"></a><span class="lineno">17062</span> </div>
<div class="line"><a id="l17063" name="l17063"></a><span class="lineno">17063</span>    <span class="comment">// Create windows for each automatic docking nodes</span></div>
<div class="line"><a id="l17064" name="l17064"></a><span class="lineno">17064</span>    <span class="comment">// We can have NULL pointers when we delete nodes, but because ID are recycled this should amortize nicely (and our node count will never be very high)</span></div>
<div class="line"><a id="l17065" name="l17065"></a><span class="lineno">17065</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; dc-&gt;Nodes.Data.Size; n++)</div>
<div class="line"><a id="l17066" name="l17066"></a><span class="lineno">17066</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node = (<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>*)dc-&gt;Nodes.Data[n].val_p)</div>
<div class="line"><a id="l17067" name="l17067"></a><span class="lineno">17067</span>            <span class="keywordflow">if</span> (node-&gt;IsFloatingNode())</div>
<div class="line"><a id="l17068" name="l17068"></a><span class="lineno">17068</span>                DockNodeUpdate(node);</div>
<div class="line"><a id="l17069" name="l17069"></a><span class="lineno">17069</span>}</div>
<div class="line"><a id="l17070" name="l17070"></a><span class="lineno">17070</span> </div>
<div class="line"><a id="l17071" name="l17071"></a><span class="lineno">17071</span><span class="keywordtype">void</span> ImGui::DockContextEndFrame(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx)</div>
<div class="line"><a id="l17072" name="l17072"></a><span class="lineno">17072</span>{</div>
<div class="line"><a id="l17073" name="l17073"></a><span class="lineno">17073</span>    <span class="comment">// Draw backgrounds of node missing their window</span></div>
<div class="line"><a id="l17074" name="l17074"></a><span class="lineno">17074</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *ctx;</div>
<div class="line"><a id="l17075" name="l17075"></a><span class="lineno">17075</span>    <a class="code hl_struct" href="structImGuiDockContext.html">ImGuiDockContext</a>* dc = &amp;g.DockContext;</div>
<div class="line"><a id="l17076" name="l17076"></a><span class="lineno">17076</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; dc-&gt;Nodes.Data.Size; n++)</div>
<div class="line"><a id="l17077" name="l17077"></a><span class="lineno">17077</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node = (<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>*)dc-&gt;Nodes.Data[n].val_p)</div>
<div class="line"><a id="l17078" name="l17078"></a><span class="lineno">17078</span>            <span class="keywordflow">if</span> (node-&gt;LastFrameActive == g.FrameCount &amp;&amp; node-&gt;IsVisible &amp;&amp; node-&gt;HostWindow &amp;&amp; node-&gt;IsLeafNode() &amp;&amp; !node-&gt;IsBgDrawnThisFrame)</div>
<div class="line"><a id="l17079" name="l17079"></a><span class="lineno">17079</span>            {</div>
<div class="line"><a id="l17080" name="l17080"></a><span class="lineno">17080</span>                <a class="code hl_struct" href="structImRect.html">ImRect</a> bg_rect(node-&gt;Pos + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, GetFrameHeight()), node-&gt;Pos + node-&gt;Size);</div>
<div class="line"><a id="l17081" name="l17081"></a><span class="lineno">17081</span>                ImDrawFlags bg_rounding_flags = CalcRoundingFlagsForRectInRect(bg_rect, node-&gt;HostWindow-&gt;Rect(), g.Style.DockingSeparatorSize);</div>
<div class="line"><a id="l17082" name="l17082"></a><span class="lineno">17082</span>                node-&gt;HostWindow-&gt;DrawList-&gt;ChannelsSetCurrent(DOCKING_HOST_DRAW_CHANNEL_BG);</div>
<div class="line"><a id="l17083" name="l17083"></a><span class="lineno">17083</span>                node-&gt;HostWindow-&gt;DrawList-&gt;AddRectFilled(bg_rect.Min, bg_rect.Max, node-&gt;LastBgColor, node-&gt;HostWindow-&gt;WindowRounding, bg_rounding_flags);</div>
<div class="line"><a id="l17084" name="l17084"></a><span class="lineno">17084</span>            }</div>
<div class="line"><a id="l17085" name="l17085"></a><span class="lineno">17085</span>}</div>
<div class="line"><a id="l17086" name="l17086"></a><span class="lineno">17086</span> </div>
<div class="line"><a id="l17087" name="l17087"></a><span class="lineno">17087</span><a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* ImGui::DockContextFindNodeByID(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, ImGuiID <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l17088" name="l17088"></a><span class="lineno">17088</span>{</div>
<div class="line"><a id="l17089" name="l17089"></a><span class="lineno">17089</span>    <span class="keywordflow">return</span> (<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>*)ctx-&gt;DockContext.Nodes.GetVoidPtr(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l17090" name="l17090"></a><span class="lineno">17090</span>}</div>
<div class="line"><a id="l17091" name="l17091"></a><span class="lineno">17091</span> </div>
<div class="line"><a id="l17092" name="l17092"></a><span class="lineno">17092</span>ImGuiID ImGui::DockContextGenNodeID(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx)</div>
<div class="line"><a id="l17093" name="l17093"></a><span class="lineno">17093</span>{</div>
<div class="line"><a id="l17094" name="l17094"></a><span class="lineno">17094</span>    <span class="comment">// Generate an ID for new node (the exact ID value doesn&#39;t matter as long as it is not already used)</span></div>
<div class="line"><a id="l17095" name="l17095"></a><span class="lineno">17095</span>    <span class="comment">// FIXME-OPT FIXME-DOCK: This is suboptimal, even if the node count is small enough not to be a worry.0</span></div>
<div class="line"><a id="l17096" name="l17096"></a><span class="lineno">17096</span>    <span class="comment">// We should poke in ctx-&gt;Nodes to find a suitable ID faster. Even more so trivial that ctx-&gt;Nodes lookup is already sorted.</span></div>
<div class="line"><a id="l17097" name="l17097"></a><span class="lineno">17097</span>    ImGuiID <span class="keywordtype">id</span> = 0x0001;</div>
<div class="line"><a id="l17098" name="l17098"></a><span class="lineno">17098</span>    <span class="keywordflow">while</span> (DockContextFindNodeByID(ctx, <span class="keywordtype">id</span>) != NULL)</div>
<div class="line"><a id="l17099" name="l17099"></a><span class="lineno">17099</span>        <span class="keywordtype">id</span>++;</div>
<div class="line"><a id="l17100" name="l17100"></a><span class="lineno">17100</span>    <span class="keywordflow">return</span> id;</div>
<div class="line"><a id="l17101" name="l17101"></a><span class="lineno">17101</span>}</div>
<div class="line"><a id="l17102" name="l17102"></a><span class="lineno">17102</span> </div>
<div class="line"><a id="l17103" name="l17103"></a><span class="lineno">17103</span><span class="keyword">static</span> <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* ImGui::DockContextAddNode(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, ImGuiID <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l17104" name="l17104"></a><span class="lineno">17104</span>{</div>
<div class="line"><a id="l17105" name="l17105"></a><span class="lineno">17105</span>    <span class="comment">// Generate an ID for the new node (the exact ID value doesn&#39;t matter as long as it is not already used) and add the first window.</span></div>
<div class="line"><a id="l17106" name="l17106"></a><span class="lineno">17106</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *ctx;</div>
<div class="line"><a id="l17107" name="l17107"></a><span class="lineno">17107</span>    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == 0)</div>
<div class="line"><a id="l17108" name="l17108"></a><span class="lineno">17108</span>        <span class="keywordtype">id</span> = DockContextGenNodeID(ctx);</div>
<div class="line"><a id="l17109" name="l17109"></a><span class="lineno">17109</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l17110" name="l17110"></a><span class="lineno">17110</span>        IM_ASSERT(DockContextFindNodeByID(ctx, <span class="keywordtype">id</span>) == NULL);</div>
<div class="line"><a id="l17111" name="l17111"></a><span class="lineno">17111</span> </div>
<div class="line"><a id="l17112" name="l17112"></a><span class="lineno">17112</span>    <span class="comment">// We don&#39;t set node-&gt;LastFrameAlive on construction. Nodes are always created at all time to reflect .ini settings!</span></div>
<div class="line"><a id="l17113" name="l17113"></a><span class="lineno">17113</span>    IMGUI_DEBUG_LOG_DOCKING(<span class="stringliteral">&quot;[docking] DockContextAddNode 0x%08X\n&quot;</span>, <span class="keywordtype">id</span>);</div>
<div class="line"><a id="l17114" name="l17114"></a><span class="lineno">17114</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node = IM_NEW(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>)(id);</div>
<div class="line"><a id="l17115" name="l17115"></a><span class="lineno">17115</span>    ctx-&gt;DockContext.Nodes.SetVoidPtr(node-&gt;ID, node);</div>
<div class="line"><a id="l17116" name="l17116"></a><span class="lineno">17116</span>    <span class="keywordflow">return</span> node;</div>
<div class="line"><a id="l17117" name="l17117"></a><span class="lineno">17117</span>}</div>
<div class="line"><a id="l17118" name="l17118"></a><span class="lineno">17118</span> </div>
<div class="line"><a id="l17119" name="l17119"></a><span class="lineno">17119</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::DockContextRemoveNode(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node, <span class="keywordtype">bool</span> merge_sibling_into_parent_node)</div>
<div class="line"><a id="l17120" name="l17120"></a><span class="lineno">17120</span>{</div>
<div class="line"><a id="l17121" name="l17121"></a><span class="lineno">17121</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *ctx;</div>
<div class="line"><a id="l17122" name="l17122"></a><span class="lineno">17122</span>    <a class="code hl_struct" href="structImGuiDockContext.html">ImGuiDockContext</a>* dc = &amp;ctx-&gt;DockContext;</div>
<div class="line"><a id="l17123" name="l17123"></a><span class="lineno">17123</span> </div>
<div class="line"><a id="l17124" name="l17124"></a><span class="lineno">17124</span>    IMGUI_DEBUG_LOG_DOCKING(<span class="stringliteral">&quot;[docking] DockContextRemoveNode 0x%08X\n&quot;</span>, node-&gt;ID);</div>
<div class="line"><a id="l17125" name="l17125"></a><span class="lineno">17125</span>    IM_ASSERT(DockContextFindNodeByID(ctx, node-&gt;ID) == node);</div>
<div class="line"><a id="l17126" name="l17126"></a><span class="lineno">17126</span>    IM_ASSERT(node-&gt;ChildNodes[0] == NULL &amp;&amp; node-&gt;ChildNodes[1] == NULL);</div>
<div class="line"><a id="l17127" name="l17127"></a><span class="lineno">17127</span>    IM_ASSERT(node-&gt;Windows.Size == 0);</div>
<div class="line"><a id="l17128" name="l17128"></a><span class="lineno">17128</span> </div>
<div class="line"><a id="l17129" name="l17129"></a><span class="lineno">17129</span>    <span class="keywordflow">if</span> (node-&gt;HostWindow)</div>
<div class="line"><a id="l17130" name="l17130"></a><span class="lineno">17130</span>        node-&gt;HostWindow-&gt;DockNodeAsHost = NULL;</div>
<div class="line"><a id="l17131" name="l17131"></a><span class="lineno">17131</span> </div>
<div class="line"><a id="l17132" name="l17132"></a><span class="lineno">17132</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* parent_node = node-&gt;ParentNode;</div>
<div class="line"><a id="l17133" name="l17133"></a><span class="lineno">17133</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> merge = (merge_sibling_into_parent_node &amp;&amp; parent_node != NULL);</div>
<div class="line"><a id="l17134" name="l17134"></a><span class="lineno">17134</span>    <span class="keywordflow">if</span> (merge)</div>
<div class="line"><a id="l17135" name="l17135"></a><span class="lineno">17135</span>    {</div>
<div class="line"><a id="l17136" name="l17136"></a><span class="lineno">17136</span>        IM_ASSERT(parent_node-&gt;ChildNodes[0] == node || parent_node-&gt;ChildNodes[1] == node);</div>
<div class="line"><a id="l17137" name="l17137"></a><span class="lineno">17137</span>        <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* sibling_node = (parent_node-&gt;ChildNodes[0] == node ? parent_node-&gt;ChildNodes[1] : parent_node-&gt;ChildNodes[0]);</div>
<div class="line"><a id="l17138" name="l17138"></a><span class="lineno">17138</span>        DockNodeTreeMerge(&amp;g, parent_node, sibling_node);</div>
<div class="line"><a id="l17139" name="l17139"></a><span class="lineno">17139</span>    }</div>
<div class="line"><a id="l17140" name="l17140"></a><span class="lineno">17140</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l17141" name="l17141"></a><span class="lineno">17141</span>    {</div>
<div class="line"><a id="l17142" name="l17142"></a><span class="lineno">17142</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; parent_node &amp;&amp; n &lt; IM_ARRAYSIZE(parent_node-&gt;ChildNodes); n++)</div>
<div class="line"><a id="l17143" name="l17143"></a><span class="lineno">17143</span>            <span class="keywordflow">if</span> (parent_node-&gt;ChildNodes[n] == node)</div>
<div class="line"><a id="l17144" name="l17144"></a><span class="lineno">17144</span>                node-&gt;ParentNode-&gt;ChildNodes[n] = NULL;</div>
<div class="line"><a id="l17145" name="l17145"></a><span class="lineno">17145</span>        dc-&gt;Nodes.SetVoidPtr(node-&gt;ID, NULL);</div>
<div class="line"><a id="l17146" name="l17146"></a><span class="lineno">17146</span>        IM_DELETE(node);</div>
<div class="line"><a id="l17147" name="l17147"></a><span class="lineno">17147</span>    }</div>
<div class="line"><a id="l17148" name="l17148"></a><span class="lineno">17148</span>}</div>
<div class="line"><a id="l17149" name="l17149"></a><span class="lineno">17149</span> </div>
<div class="line"><a id="l17150" name="l17150"></a><span class="lineno">17150</span><span class="keyword">static</span> <span class="keywordtype">int</span> IMGUI_CDECL DockNodeComparerDepthMostFirst(<span class="keyword">const</span> <span class="keywordtype">void</span>* lhs, <span class="keyword">const</span> <span class="keywordtype">void</span>* rhs)</div>
<div class="line"><a id="l17151" name="l17151"></a><span class="lineno">17151</span>{</div>
<div class="line"><a id="l17152" name="l17152"></a><span class="lineno">17152</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* a = *(<span class="keyword">const</span> <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* <span class="keyword">const</span>*)lhs;</div>
<div class="line"><a id="l17153" name="l17153"></a><span class="lineno">17153</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* b = *(<span class="keyword">const</span> <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* <span class="keyword">const</span>*)rhs;</div>
<div class="line"><a id="l17154" name="l17154"></a><span class="lineno">17154</span>    <span class="keywordflow">return</span> ImGui::DockNodeGetDepth(b) - ImGui::DockNodeGetDepth(a);</div>
<div class="line"><a id="l17155" name="l17155"></a><span class="lineno">17155</span>}</div>
<div class="line"><a id="l17156" name="l17156"></a><span class="lineno">17156</span> </div>
<div class="line"><a id="l17157" name="l17157"></a><span class="lineno">17157</span><span class="comment">// Pre C++0x doesn&#39;t allow us to use a function-local type (without linkage) as template parameter, so we moved this here.</span></div>
<div class="foldopen" id="foldopen17158" data-start="{" data-end="};">
<div class="line"><a id="l17158" name="l17158"></a><span class="lineno"><a class="line" href="structImGuiDockContextPruneNodeData.html">17158</a></span><span class="keyword">struct </span><a class="code hl_struct" href="structImGuiDockContextPruneNodeData.html">ImGuiDockContextPruneNodeData</a></div>
<div class="line"><a id="l17159" name="l17159"></a><span class="lineno">17159</span>{</div>
<div class="line"><a id="l17160" name="l17160"></a><span class="lineno">17160</span>    <span class="keywordtype">int</span>         CountWindows, CountChildWindows, CountChildNodes;</div>
<div class="line"><a id="l17161" name="l17161"></a><span class="lineno">17161</span>    ImGuiID     RootId;</div>
<div class="line"><a id="l17162" name="l17162"></a><span class="lineno">17162</span>    <a class="code hl_struct" href="structImGuiDockContextPruneNodeData.html">ImGuiDockContextPruneNodeData</a>() { CountWindows = CountChildWindows = CountChildNodes = 0; RootId = 0; }</div>
<div class="line"><a id="l17163" name="l17163"></a><span class="lineno">17163</span>};</div>
</div>
<div class="line"><a id="l17164" name="l17164"></a><span class="lineno">17164</span> </div>
<div class="line"><a id="l17165" name="l17165"></a><span class="lineno">17165</span><span class="comment">// Garbage collect unused nodes (run once at init time)</span></div>
<div class="line"><a id="l17166" name="l17166"></a><span class="lineno">17166</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::DockContextPruneUnusedSettingsNodes(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx)</div>
<div class="line"><a id="l17167" name="l17167"></a><span class="lineno">17167</span>{</div>
<div class="line"><a id="l17168" name="l17168"></a><span class="lineno">17168</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *ctx;</div>
<div class="line"><a id="l17169" name="l17169"></a><span class="lineno">17169</span>    <a class="code hl_struct" href="structImGuiDockContext.html">ImGuiDockContext</a>* dc = &amp;ctx-&gt;DockContext;</div>
<div class="line"><a id="l17170" name="l17170"></a><span class="lineno">17170</span>    IM_ASSERT(g.Windows.Size == 0);</div>
<div class="line"><a id="l17171" name="l17171"></a><span class="lineno">17171</span> </div>
<div class="line"><a id="l17172" name="l17172"></a><span class="lineno">17172</span>    <a class="code hl_struct" href="structImPool.html">ImPool&lt;ImGuiDockContextPruneNodeData&gt;</a> pool;</div>
<div class="line"><a id="l17173" name="l17173"></a><span class="lineno">17173</span>    pool.Reserve(dc-&gt;NodesSettings.Size);</div>
<div class="line"><a id="l17174" name="l17174"></a><span class="lineno">17174</span> </div>
<div class="line"><a id="l17175" name="l17175"></a><span class="lineno">17175</span>    <span class="comment">// Count child nodes and compute RootID</span></div>
<div class="line"><a id="l17176" name="l17176"></a><span class="lineno">17176</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> settings_n = 0; settings_n &lt; dc-&gt;NodesSettings.Size; settings_n++)</div>
<div class="line"><a id="l17177" name="l17177"></a><span class="lineno">17177</span>    {</div>
<div class="line"><a id="l17178" name="l17178"></a><span class="lineno">17178</span>        <a class="code hl_struct" href="structImGuiDockNodeSettings.html">ImGuiDockNodeSettings</a>* settings = &amp;dc-&gt;NodesSettings[settings_n];</div>
<div class="line"><a id="l17179" name="l17179"></a><span class="lineno">17179</span>        <a class="code hl_struct" href="structImGuiDockContextPruneNodeData.html">ImGuiDockContextPruneNodeData</a>* parent_data = settings-&gt;ParentNodeId ? pool.GetByKey(settings-&gt;ParentNodeId) : 0;</div>
<div class="line"><a id="l17180" name="l17180"></a><span class="lineno">17180</span>        pool.GetOrAddByKey(settings-&gt;ID)-&gt;RootId = parent_data ? parent_data-&gt;RootId : settings-&gt;ID;</div>
<div class="line"><a id="l17181" name="l17181"></a><span class="lineno">17181</span>        <span class="keywordflow">if</span> (settings-&gt;ParentNodeId)</div>
<div class="line"><a id="l17182" name="l17182"></a><span class="lineno">17182</span>            pool.GetOrAddByKey(settings-&gt;ParentNodeId)-&gt;CountChildNodes++;</div>
<div class="line"><a id="l17183" name="l17183"></a><span class="lineno">17183</span>    }</div>
<div class="line"><a id="l17184" name="l17184"></a><span class="lineno">17184</span> </div>
<div class="line"><a id="l17185" name="l17185"></a><span class="lineno">17185</span>    <span class="comment">// Count reference to dock ids from dockspaces</span></div>
<div class="line"><a id="l17186" name="l17186"></a><span class="lineno">17186</span>    <span class="comment">// We track the &#39;auto-DockNode &lt;- manual-Window &lt;- manual-DockSpace&#39; in order to avoid &#39;auto-DockNode&#39; being ditched by DockContextPruneUnusedSettingsNodes()</span></div>
<div class="line"><a id="l17187" name="l17187"></a><span class="lineno">17187</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> settings_n = 0; settings_n &lt; dc-&gt;NodesSettings.Size; settings_n++)</div>
<div class="line"><a id="l17188" name="l17188"></a><span class="lineno">17188</span>    {</div>
<div class="line"><a id="l17189" name="l17189"></a><span class="lineno">17189</span>        <a class="code hl_struct" href="structImGuiDockNodeSettings.html">ImGuiDockNodeSettings</a>* settings = &amp;dc-&gt;NodesSettings[settings_n];</div>
<div class="line"><a id="l17190" name="l17190"></a><span class="lineno">17190</span>        <span class="keywordflow">if</span> (settings-&gt;ParentWindowId != 0)</div>
<div class="line"><a id="l17191" name="l17191"></a><span class="lineno">17191</span>            <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>* window_settings = FindWindowSettingsByID(settings-&gt;ParentWindowId))</div>
<div class="line"><a id="l17192" name="l17192"></a><span class="lineno">17192</span>                <span class="keywordflow">if</span> (window_settings-&gt;DockId)</div>
<div class="line"><a id="l17193" name="l17193"></a><span class="lineno">17193</span>                    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiDockContextPruneNodeData.html">ImGuiDockContextPruneNodeData</a>* data = pool.GetByKey(window_settings-&gt;DockId))</div>
<div class="line"><a id="l17194" name="l17194"></a><span class="lineno">17194</span>                        data-&gt;CountChildNodes++;</div>
<div class="line"><a id="l17195" name="l17195"></a><span class="lineno">17195</span>    }</div>
<div class="line"><a id="l17196" name="l17196"></a><span class="lineno">17196</span> </div>
<div class="line"><a id="l17197" name="l17197"></a><span class="lineno">17197</span>    <span class="comment">// Count reference to dock ids from window settings</span></div>
<div class="line"><a id="l17198" name="l17198"></a><span class="lineno">17198</span>    <span class="comment">// We guard against the possibility of an invalid .ini file (RootID may point to a missing node)</span></div>
<div class="line"><a id="l17199" name="l17199"></a><span class="lineno">17199</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>* settings = g.SettingsWindows.begin(); settings != NULL; settings = g.SettingsWindows.next_chunk(settings))</div>
<div class="line"><a id="l17200" name="l17200"></a><span class="lineno">17200</span>        <span class="keywordflow">if</span> (ImGuiID dock_id = settings-&gt;DockId)</div>
<div class="line"><a id="l17201" name="l17201"></a><span class="lineno">17201</span>            <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiDockContextPruneNodeData.html">ImGuiDockContextPruneNodeData</a>* data = pool.GetByKey(dock_id))</div>
<div class="line"><a id="l17202" name="l17202"></a><span class="lineno">17202</span>            {</div>
<div class="line"><a id="l17203" name="l17203"></a><span class="lineno">17203</span>                data-&gt;CountWindows++;</div>
<div class="line"><a id="l17204" name="l17204"></a><span class="lineno">17204</span>                <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiDockContextPruneNodeData.html">ImGuiDockContextPruneNodeData</a>* data_root = (data-&gt;RootId == dock_id) ? data : pool.GetByKey(data-&gt;RootId))</div>
<div class="line"><a id="l17205" name="l17205"></a><span class="lineno">17205</span>                    data_root-&gt;CountChildWindows++;</div>
<div class="line"><a id="l17206" name="l17206"></a><span class="lineno">17206</span>            }</div>
<div class="line"><a id="l17207" name="l17207"></a><span class="lineno">17207</span> </div>
<div class="line"><a id="l17208" name="l17208"></a><span class="lineno">17208</span>    <span class="comment">// Prune</span></div>
<div class="line"><a id="l17209" name="l17209"></a><span class="lineno">17209</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> settings_n = 0; settings_n &lt; dc-&gt;NodesSettings.Size; settings_n++)</div>
<div class="line"><a id="l17210" name="l17210"></a><span class="lineno">17210</span>    {</div>
<div class="line"><a id="l17211" name="l17211"></a><span class="lineno">17211</span>        <a class="code hl_struct" href="structImGuiDockNodeSettings.html">ImGuiDockNodeSettings</a>* settings = &amp;dc-&gt;NodesSettings[settings_n];</div>
<div class="line"><a id="l17212" name="l17212"></a><span class="lineno">17212</span>        <a class="code hl_struct" href="structImGuiDockContextPruneNodeData.html">ImGuiDockContextPruneNodeData</a>* data = pool.GetByKey(settings-&gt;ID);</div>
<div class="line"><a id="l17213" name="l17213"></a><span class="lineno">17213</span>        <span class="keywordflow">if</span> (data-&gt;CountWindows &gt; 1)</div>
<div class="line"><a id="l17214" name="l17214"></a><span class="lineno">17214</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l17215" name="l17215"></a><span class="lineno">17215</span>        <a class="code hl_struct" href="structImGuiDockContextPruneNodeData.html">ImGuiDockContextPruneNodeData</a>* data_root = (data-&gt;RootId == settings-&gt;ID) ? data : pool.GetByKey(data-&gt;RootId);</div>
<div class="line"><a id="l17216" name="l17216"></a><span class="lineno">17216</span> </div>
<div class="line"><a id="l17217" name="l17217"></a><span class="lineno">17217</span>        <span class="keywordtype">bool</span> remove = <span class="keyword">false</span>;</div>
<div class="line"><a id="l17218" name="l17218"></a><span class="lineno">17218</span>        remove |= (data-&gt;CountWindows == 1 &amp;&amp; settings-&gt;ParentNodeId == 0 &amp;&amp; data-&gt;CountChildNodes == 0 &amp;&amp; !(settings-&gt;Flags &amp; ImGuiDockNodeFlags_CentralNode));  <span class="comment">// Floating root node with only 1 window</span></div>
<div class="line"><a id="l17219" name="l17219"></a><span class="lineno">17219</span>        remove |= (data-&gt;CountWindows == 0 &amp;&amp; settings-&gt;ParentNodeId == 0 &amp;&amp; data-&gt;CountChildNodes == 0); <span class="comment">// Leaf nodes with 0 window</span></div>
<div class="line"><a id="l17220" name="l17220"></a><span class="lineno">17220</span>        remove |= (data_root-&gt;CountChildWindows == 0);</div>
<div class="line"><a id="l17221" name="l17221"></a><span class="lineno">17221</span>        <span class="keywordflow">if</span> (remove)</div>
<div class="line"><a id="l17222" name="l17222"></a><span class="lineno">17222</span>        {</div>
<div class="line"><a id="l17223" name="l17223"></a><span class="lineno">17223</span>            IMGUI_DEBUG_LOG_DOCKING(<span class="stringliteral">&quot;[docking] DockContextPruneUnusedSettingsNodes: Prune 0x%08X\n&quot;</span>, settings-&gt;ID);</div>
<div class="line"><a id="l17224" name="l17224"></a><span class="lineno">17224</span>            DockSettingsRemoveNodeReferences(&amp;settings-&gt;ID, 1);</div>
<div class="line"><a id="l17225" name="l17225"></a><span class="lineno">17225</span>            settings-&gt;ID = 0;</div>
<div class="line"><a id="l17226" name="l17226"></a><span class="lineno">17226</span>        }</div>
<div class="line"><a id="l17227" name="l17227"></a><span class="lineno">17227</span>    }</div>
<div class="line"><a id="l17228" name="l17228"></a><span class="lineno">17228</span>}</div>
<div class="line"><a id="l17229" name="l17229"></a><span class="lineno">17229</span> </div>
<div class="line"><a id="l17230" name="l17230"></a><span class="lineno">17230</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::DockContextBuildNodesFromSettings(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <a class="code hl_struct" href="structImGuiDockNodeSettings.html">ImGuiDockNodeSettings</a>* node_settings_array, <span class="keywordtype">int</span> node_settings_count)</div>
<div class="line"><a id="l17231" name="l17231"></a><span class="lineno">17231</span>{</div>
<div class="line"><a id="l17232" name="l17232"></a><span class="lineno">17232</span>    <span class="comment">// Build nodes</span></div>
<div class="line"><a id="l17233" name="l17233"></a><span class="lineno">17233</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> node_n = 0; node_n &lt; node_settings_count; node_n++)</div>
<div class="line"><a id="l17234" name="l17234"></a><span class="lineno">17234</span>    {</div>
<div class="line"><a id="l17235" name="l17235"></a><span class="lineno">17235</span>        <a class="code hl_struct" href="structImGuiDockNodeSettings.html">ImGuiDockNodeSettings</a>* settings = &amp;node_settings_array[node_n];</div>
<div class="line"><a id="l17236" name="l17236"></a><span class="lineno">17236</span>        <span class="keywordflow">if</span> (settings-&gt;ID == 0)</div>
<div class="line"><a id="l17237" name="l17237"></a><span class="lineno">17237</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l17238" name="l17238"></a><span class="lineno">17238</span>        <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node = DockContextAddNode(ctx, settings-&gt;ID);</div>
<div class="line"><a id="l17239" name="l17239"></a><span class="lineno">17239</span>        node-&gt;ParentNode = settings-&gt;ParentNodeId ? DockContextFindNodeByID(ctx, settings-&gt;ParentNodeId) : NULL;</div>
<div class="line"><a id="l17240" name="l17240"></a><span class="lineno">17240</span>        node-&gt;Pos = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(settings-&gt;Pos.x, settings-&gt;Pos.y);</div>
<div class="line"><a id="l17241" name="l17241"></a><span class="lineno">17241</span>        node-&gt;Size = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(settings-&gt;Size.x, settings-&gt;Size.y);</div>
<div class="line"><a id="l17242" name="l17242"></a><span class="lineno">17242</span>        node-&gt;SizeRef = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(settings-&gt;SizeRef.x, settings-&gt;SizeRef.y);</div>
<div class="line"><a id="l17243" name="l17243"></a><span class="lineno">17243</span>        node-&gt;AuthorityForPos = node-&gt;AuthorityForSize = node-&gt;AuthorityForViewport = ImGuiDataAuthority_DockNode;</div>
<div class="line"><a id="l17244" name="l17244"></a><span class="lineno">17244</span>        <span class="keywordflow">if</span> (node-&gt;ParentNode &amp;&amp; node-&gt;ParentNode-&gt;ChildNodes[0] == NULL)</div>
<div class="line"><a id="l17245" name="l17245"></a><span class="lineno">17245</span>            node-&gt;ParentNode-&gt;ChildNodes[0] = node;</div>
<div class="line"><a id="l17246" name="l17246"></a><span class="lineno">17246</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (node-&gt;ParentNode &amp;&amp; node-&gt;ParentNode-&gt;ChildNodes[1] == NULL)</div>
<div class="line"><a id="l17247" name="l17247"></a><span class="lineno">17247</span>            node-&gt;ParentNode-&gt;ChildNodes[1] = node;</div>
<div class="line"><a id="l17248" name="l17248"></a><span class="lineno">17248</span>        node-&gt;SelectedTabId = settings-&gt;SelectedTabId;</div>
<div class="line"><a id="l17249" name="l17249"></a><span class="lineno">17249</span>        node-&gt;SplitAxis = (ImGuiAxis)settings-&gt;SplitAxis;</div>
<div class="line"><a id="l17250" name="l17250"></a><span class="lineno">17250</span>        node-&gt;SetLocalFlags(settings-&gt;Flags &amp; ImGuiDockNodeFlags_SavedFlagsMask_);</div>
<div class="line"><a id="l17251" name="l17251"></a><span class="lineno">17251</span> </div>
<div class="line"><a id="l17252" name="l17252"></a><span class="lineno">17252</span>        <span class="comment">// Bind host window immediately if it already exist (in case of a rebuild)</span></div>
<div class="line"><a id="l17253" name="l17253"></a><span class="lineno">17253</span>        <span class="comment">// This is useful as the RootWindowForTitleBarHighlight links necessary to highlight the currently focused node requires node-&gt;HostWindow to be set.</span></div>
<div class="line"><a id="l17254" name="l17254"></a><span class="lineno">17254</span>        <span class="keywordtype">char</span> host_window_title[20];</div>
<div class="line"><a id="l17255" name="l17255"></a><span class="lineno">17255</span>        <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* root_node = DockNodeGetRootNode(node);</div>
<div class="line"><a id="l17256" name="l17256"></a><span class="lineno">17256</span>        node-&gt;HostWindow = FindWindowByName(DockNodeGetHostWindowTitle(root_node, host_window_title, IM_ARRAYSIZE(host_window_title)));</div>
<div class="line"><a id="l17257" name="l17257"></a><span class="lineno">17257</span>    }</div>
<div class="line"><a id="l17258" name="l17258"></a><span class="lineno">17258</span>}</div>
<div class="line"><a id="l17259" name="l17259"></a><span class="lineno">17259</span> </div>
<div class="line"><a id="l17260" name="l17260"></a><span class="lineno">17260</span><span class="keywordtype">void</span> ImGui::DockContextBuildAddWindowsToNodes(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, ImGuiID root_id)</div>
<div class="line"><a id="l17261" name="l17261"></a><span class="lineno">17261</span>{</div>
<div class="line"><a id="l17262" name="l17262"></a><span class="lineno">17262</span>    <span class="comment">// Rebind all windows to nodes (they can also lazily rebind but we&#39;ll have a visible glitch during the first frame)</span></div>
<div class="line"><a id="l17263" name="l17263"></a><span class="lineno">17263</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *ctx;</div>
<div class="line"><a id="l17264" name="l17264"></a><span class="lineno">17264</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window : g.Windows)</div>
<div class="line"><a id="l17265" name="l17265"></a><span class="lineno">17265</span>    {</div>
<div class="line"><a id="l17266" name="l17266"></a><span class="lineno">17266</span>        <span class="keywordflow">if</span> (window-&gt;DockId == 0 || window-&gt;LastFrameActive &lt; g.FrameCount - 1)</div>
<div class="line"><a id="l17267" name="l17267"></a><span class="lineno">17267</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l17268" name="l17268"></a><span class="lineno">17268</span>        <span class="keywordflow">if</span> (window-&gt;DockNode != NULL)</div>
<div class="line"><a id="l17269" name="l17269"></a><span class="lineno">17269</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l17270" name="l17270"></a><span class="lineno">17270</span> </div>
<div class="line"><a id="l17271" name="l17271"></a><span class="lineno">17271</span>        <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node = DockContextFindNodeByID(ctx, window-&gt;DockId);</div>
<div class="line"><a id="l17272" name="l17272"></a><span class="lineno">17272</span>        IM_ASSERT(node != NULL);   <span class="comment">// This should have been called after DockContextBuildNodesFromSettings()</span></div>
<div class="line"><a id="l17273" name="l17273"></a><span class="lineno">17273</span>        <span class="keywordflow">if</span> (root_id == 0 || DockNodeGetRootNode(node)-&gt;ID == root_id)</div>
<div class="line"><a id="l17274" name="l17274"></a><span class="lineno">17274</span>            DockNodeAddWindow(node, window, <span class="keyword">true</span>);</div>
<div class="line"><a id="l17275" name="l17275"></a><span class="lineno">17275</span>    }</div>
<div class="line"><a id="l17276" name="l17276"></a><span class="lineno">17276</span>}</div>
<div class="line"><a id="l17277" name="l17277"></a><span class="lineno">17277</span> </div>
<div class="line"><a id="l17278" name="l17278"></a><span class="lineno">17278</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l17279" name="l17279"></a><span class="lineno">17279</span><span class="comment">// Docking: ImGuiDockContext Docking/Undocking functions</span></div>
<div class="line"><a id="l17280" name="l17280"></a><span class="lineno">17280</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l17281" name="l17281"></a><span class="lineno">17281</span><span class="comment">// - DockContextQueueDock()</span></div>
<div class="line"><a id="l17282" name="l17282"></a><span class="lineno">17282</span><span class="comment">// - DockContextQueueUndockWindow()</span></div>
<div class="line"><a id="l17283" name="l17283"></a><span class="lineno">17283</span><span class="comment">// - DockContextQueueUndockNode()</span></div>
<div class="line"><a id="l17284" name="l17284"></a><span class="lineno">17284</span><span class="comment">// - DockContextQueueNotifyRemovedNode()</span></div>
<div class="line"><a id="l17285" name="l17285"></a><span class="lineno">17285</span><span class="comment">// - DockContextProcessDock()</span></div>
<div class="line"><a id="l17286" name="l17286"></a><span class="lineno">17286</span><span class="comment">// - DockContextProcessUndockWindow()</span></div>
<div class="line"><a id="l17287" name="l17287"></a><span class="lineno">17287</span><span class="comment">// - DockContextProcessUndockNode()</span></div>
<div class="line"><a id="l17288" name="l17288"></a><span class="lineno">17288</span><span class="comment">// - DockContextCalcDropPosForDocking()</span></div>
<div class="line"><a id="l17289" name="l17289"></a><span class="lineno">17289</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l17290" name="l17290"></a><span class="lineno">17290</span> </div>
<div class="line"><a id="l17291" name="l17291"></a><span class="lineno">17291</span><span class="keywordtype">void</span> ImGui::DockContextQueueDock(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* target, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* target_node, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* payload, ImGuiDir split_dir, <span class="keywordtype">float</span> split_ratio, <span class="keywordtype">bool</span> split_outer)</div>
<div class="line"><a id="l17292" name="l17292"></a><span class="lineno">17292</span>{</div>
<div class="line"><a id="l17293" name="l17293"></a><span class="lineno">17293</span>    IM_ASSERT(target != payload);</div>
<div class="line"><a id="l17294" name="l17294"></a><span class="lineno">17294</span>    <a class="code hl_struct" href="structImGuiDockRequest.html">ImGuiDockRequest</a> req;</div>
<div class="line"><a id="l17295" name="l17295"></a><span class="lineno">17295</span>    req.Type = ImGuiDockRequestType_Dock;</div>
<div class="line"><a id="l17296" name="l17296"></a><span class="lineno">17296</span>    req.DockTargetWindow = target;</div>
<div class="line"><a id="l17297" name="l17297"></a><span class="lineno">17297</span>    req.DockTargetNode = target_node;</div>
<div class="line"><a id="l17298" name="l17298"></a><span class="lineno">17298</span>    req.DockPayload = payload;</div>
<div class="line"><a id="l17299" name="l17299"></a><span class="lineno">17299</span>    req.DockSplitDir = split_dir;</div>
<div class="line"><a id="l17300" name="l17300"></a><span class="lineno">17300</span>    req.DockSplitRatio = split_ratio;</div>
<div class="line"><a id="l17301" name="l17301"></a><span class="lineno">17301</span>    req.DockSplitOuter = split_outer;</div>
<div class="line"><a id="l17302" name="l17302"></a><span class="lineno">17302</span>    ctx-&gt;DockContext.Requests.push_back(req);</div>
<div class="line"><a id="l17303" name="l17303"></a><span class="lineno">17303</span>}</div>
<div class="line"><a id="l17304" name="l17304"></a><span class="lineno">17304</span> </div>
<div class="line"><a id="l17305" name="l17305"></a><span class="lineno">17305</span><span class="keywordtype">void</span> ImGui::DockContextQueueUndockWindow(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l17306" name="l17306"></a><span class="lineno">17306</span>{</div>
<div class="line"><a id="l17307" name="l17307"></a><span class="lineno">17307</span>    <a class="code hl_struct" href="structImGuiDockRequest.html">ImGuiDockRequest</a> req;</div>
<div class="line"><a id="l17308" name="l17308"></a><span class="lineno">17308</span>    req.Type = ImGuiDockRequestType_Undock;</div>
<div class="line"><a id="l17309" name="l17309"></a><span class="lineno">17309</span>    req.UndockTargetWindow = window;</div>
<div class="line"><a id="l17310" name="l17310"></a><span class="lineno">17310</span>    ctx-&gt;DockContext.Requests.push_back(req);</div>
<div class="line"><a id="l17311" name="l17311"></a><span class="lineno">17311</span>}</div>
<div class="line"><a id="l17312" name="l17312"></a><span class="lineno">17312</span> </div>
<div class="line"><a id="l17313" name="l17313"></a><span class="lineno">17313</span><span class="keywordtype">void</span> ImGui::DockContextQueueUndockNode(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node)</div>
<div class="line"><a id="l17314" name="l17314"></a><span class="lineno">17314</span>{</div>
<div class="line"><a id="l17315" name="l17315"></a><span class="lineno">17315</span>    <a class="code hl_struct" href="structImGuiDockRequest.html">ImGuiDockRequest</a> req;</div>
<div class="line"><a id="l17316" name="l17316"></a><span class="lineno">17316</span>    req.Type = ImGuiDockRequestType_Undock;</div>
<div class="line"><a id="l17317" name="l17317"></a><span class="lineno">17317</span>    req.UndockTargetNode = node;</div>
<div class="line"><a id="l17318" name="l17318"></a><span class="lineno">17318</span>    ctx-&gt;DockContext.Requests.push_back(req);</div>
<div class="line"><a id="l17319" name="l17319"></a><span class="lineno">17319</span>}</div>
<div class="line"><a id="l17320" name="l17320"></a><span class="lineno">17320</span> </div>
<div class="line"><a id="l17321" name="l17321"></a><span class="lineno">17321</span><span class="keywordtype">void</span> ImGui::DockContextQueueNotifyRemovedNode(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node)</div>
<div class="line"><a id="l17322" name="l17322"></a><span class="lineno">17322</span>{</div>
<div class="line"><a id="l17323" name="l17323"></a><span class="lineno">17323</span>    <a class="code hl_struct" href="structImGuiDockContext.html">ImGuiDockContext</a>* dc = &amp;ctx-&gt;DockContext;</div>
<div class="line"><a id="l17324" name="l17324"></a><span class="lineno">17324</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiDockRequest.html">ImGuiDockRequest</a>&amp; req : dc-&gt;Requests)</div>
<div class="line"><a id="l17325" name="l17325"></a><span class="lineno">17325</span>        if (req.DockTargetNode == node)</div>
<div class="line"><a id="l17326" name="l17326"></a><span class="lineno">17326</span>            req.Type = ImGuiDockRequestType_None;</div>
<div class="line"><a id="l17327" name="l17327"></a><span class="lineno">17327</span>}</div>
<div class="line"><a id="l17328" name="l17328"></a><span class="lineno">17328</span> </div>
<div class="line"><a id="l17329" name="l17329"></a><span class="lineno">17329</span><span class="keywordtype">void</span> ImGui::DockContextProcessDock(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <a class="code hl_struct" href="structImGuiDockRequest.html">ImGuiDockRequest</a>* req)</div>
<div class="line"><a id="l17330" name="l17330"></a><span class="lineno">17330</span>{</div>
<div class="line"><a id="l17331" name="l17331"></a><span class="lineno">17331</span>    IM_ASSERT((req-&gt;Type == ImGuiDockRequestType_Dock &amp;&amp; req-&gt;DockPayload != NULL) || (req-&gt;Type == ImGuiDockRequestType_Split &amp;&amp; req-&gt;DockPayload == NULL));</div>
<div class="line"><a id="l17332" name="l17332"></a><span class="lineno">17332</span>    IM_ASSERT(req-&gt;DockTargetWindow != NULL || req-&gt;DockTargetNode != NULL);</div>
<div class="line"><a id="l17333" name="l17333"></a><span class="lineno">17333</span> </div>
<div class="line"><a id="l17334" name="l17334"></a><span class="lineno">17334</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *ctx;</div>
<div class="line"><a id="l17335" name="l17335"></a><span class="lineno">17335</span>    IM_UNUSED(g);</div>
<div class="line"><a id="l17336" name="l17336"></a><span class="lineno">17336</span> </div>
<div class="line"><a id="l17337" name="l17337"></a><span class="lineno">17337</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* payload_window = req-&gt;DockPayload;     <span class="comment">// Optional</span></div>
<div class="line"><a id="l17338" name="l17338"></a><span class="lineno">17338</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* target_window = req-&gt;DockTargetWindow;</div>
<div class="line"><a id="l17339" name="l17339"></a><span class="lineno">17339</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node = req-&gt;DockTargetNode;</div>
<div class="line"><a id="l17340" name="l17340"></a><span class="lineno">17340</span>    <span class="keywordflow">if</span> (payload_window)</div>
<div class="line"><a id="l17341" name="l17341"></a><span class="lineno">17341</span>        IMGUI_DEBUG_LOG_DOCKING(<span class="stringliteral">&quot;[docking] DockContextProcessDock node 0x%08X target &#39;%s&#39; dock window &#39;%s&#39;, split_dir %d\n&quot;</span>, node ? node-&gt;ID : 0, target_window ? target_window-&gt;Name : <span class="stringliteral">&quot;NULL&quot;</span>, payload_window-&gt;Name, req-&gt;DockSplitDir);</div>
<div class="line"><a id="l17342" name="l17342"></a><span class="lineno">17342</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l17343" name="l17343"></a><span class="lineno">17343</span>        IMGUI_DEBUG_LOG_DOCKING(<span class="stringliteral">&quot;[docking] DockContextProcessDock node 0x%08X, split_dir %d\n&quot;</span>, node ? node-&gt;ID : 0, req-&gt;DockSplitDir);</div>
<div class="line"><a id="l17344" name="l17344"></a><span class="lineno">17344</span> </div>
<div class="line"><a id="l17345" name="l17345"></a><span class="lineno">17345</span>    <span class="comment">// Decide which Tab will be selected at the end of the operation</span></div>
<div class="line"><a id="l17346" name="l17346"></a><span class="lineno">17346</span>    ImGuiID next_selected_id = 0;</div>
<div class="line"><a id="l17347" name="l17347"></a><span class="lineno">17347</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* payload_node = NULL;</div>
<div class="line"><a id="l17348" name="l17348"></a><span class="lineno">17348</span>    <span class="keywordflow">if</span> (payload_window)</div>
<div class="line"><a id="l17349" name="l17349"></a><span class="lineno">17349</span>    {</div>
<div class="line"><a id="l17350" name="l17350"></a><span class="lineno">17350</span>        payload_node = payload_window-&gt;DockNodeAsHost;</div>
<div class="line"><a id="l17351" name="l17351"></a><span class="lineno">17351</span>        payload_window-&gt;DockNodeAsHost = NULL; <span class="comment">// Important to clear this as the node will have its life as a child which might be merged/deleted later.</span></div>
<div class="line"><a id="l17352" name="l17352"></a><span class="lineno">17352</span>        <span class="keywordflow">if</span> (payload_node &amp;&amp; payload_node-&gt;IsLeafNode())</div>
<div class="line"><a id="l17353" name="l17353"></a><span class="lineno">17353</span>            next_selected_id = payload_node-&gt;TabBar-&gt;NextSelectedTabId ? payload_node-&gt;TabBar-&gt;NextSelectedTabId : payload_node-&gt;TabBar-&gt;SelectedTabId;</div>
<div class="line"><a id="l17354" name="l17354"></a><span class="lineno">17354</span>        <span class="keywordflow">if</span> (payload_node == NULL)</div>
<div class="line"><a id="l17355" name="l17355"></a><span class="lineno">17355</span>            next_selected_id = payload_window-&gt;TabId;</div>
<div class="line"><a id="l17356" name="l17356"></a><span class="lineno">17356</span>    }</div>
<div class="line"><a id="l17357" name="l17357"></a><span class="lineno">17357</span> </div>
<div class="line"><a id="l17358" name="l17358"></a><span class="lineno">17358</span>    <span class="comment">// FIXME-DOCK: When we are trying to dock an existing single-window node into a loose window, transfer Node ID as well</span></div>
<div class="line"><a id="l17359" name="l17359"></a><span class="lineno">17359</span>    <span class="comment">// When processing an interactive split, usually LastFrameAlive will be &lt; g.FrameCount. But DockBuilder operations can make it ==.</span></div>
<div class="line"><a id="l17360" name="l17360"></a><span class="lineno">17360</span>    <span class="keywordflow">if</span> (node)</div>
<div class="line"><a id="l17361" name="l17361"></a><span class="lineno">17361</span>        IM_ASSERT(node-&gt;LastFrameAlive &lt;= g.FrameCount);</div>
<div class="line"><a id="l17362" name="l17362"></a><span class="lineno">17362</span>    <span class="keywordflow">if</span> (node &amp;&amp; target_window &amp;&amp; node == target_window-&gt;DockNodeAsHost)</div>
<div class="line"><a id="l17363" name="l17363"></a><span class="lineno">17363</span>        IM_ASSERT(node-&gt;Windows.Size &gt; 0 || node-&gt;IsSplitNode() || node-&gt;IsCentralNode());</div>
<div class="line"><a id="l17364" name="l17364"></a><span class="lineno">17364</span> </div>
<div class="line"><a id="l17365" name="l17365"></a><span class="lineno">17365</span>    <span class="comment">// Create new node and add existing window to it</span></div>
<div class="line"><a id="l17366" name="l17366"></a><span class="lineno">17366</span>    <span class="keywordflow">if</span> (node == NULL)</div>
<div class="line"><a id="l17367" name="l17367"></a><span class="lineno">17367</span>    {</div>
<div class="line"><a id="l17368" name="l17368"></a><span class="lineno">17368</span>        node = DockContextAddNode(ctx, 0);</div>
<div class="line"><a id="l17369" name="l17369"></a><span class="lineno">17369</span>        node-&gt;Pos = target_window-&gt;Pos;</div>
<div class="line"><a id="l17370" name="l17370"></a><span class="lineno">17370</span>        node-&gt;Size = target_window-&gt;Size;</div>
<div class="line"><a id="l17371" name="l17371"></a><span class="lineno">17371</span>        <span class="keywordflow">if</span> (target_window-&gt;DockNodeAsHost == NULL)</div>
<div class="line"><a id="l17372" name="l17372"></a><span class="lineno">17372</span>        {</div>
<div class="line"><a id="l17373" name="l17373"></a><span class="lineno">17373</span>            DockNodeAddWindow(node, target_window, <span class="keyword">true</span>);</div>
<div class="line"><a id="l17374" name="l17374"></a><span class="lineno">17374</span>            node-&gt;TabBar-&gt;Tabs[0].Flags &amp;= ~ImGuiTabItemFlags_Unsorted;</div>
<div class="line"><a id="l17375" name="l17375"></a><span class="lineno">17375</span>            target_window-&gt;DockIsActive = <span class="keyword">true</span>;</div>
<div class="line"><a id="l17376" name="l17376"></a><span class="lineno">17376</span>        }</div>
<div class="line"><a id="l17377" name="l17377"></a><span class="lineno">17377</span>    }</div>
<div class="line"><a id="l17378" name="l17378"></a><span class="lineno">17378</span> </div>
<div class="line"><a id="l17379" name="l17379"></a><span class="lineno">17379</span>    ImGuiDir split_dir = req-&gt;DockSplitDir;</div>
<div class="line"><a id="l17380" name="l17380"></a><span class="lineno">17380</span>    <span class="keywordflow">if</span> (split_dir != ImGuiDir_None)</div>
<div class="line"><a id="l17381" name="l17381"></a><span class="lineno">17381</span>    {</div>
<div class="line"><a id="l17382" name="l17382"></a><span class="lineno">17382</span>        <span class="comment">// Split into two, one side will be our payload node unless we are dropping a loose window</span></div>
<div class="line"><a id="l17383" name="l17383"></a><span class="lineno">17383</span>        <span class="keyword">const</span> ImGuiAxis split_axis = (split_dir == ImGuiDir_Left || split_dir == ImGuiDir_Right) ? ImGuiAxis_X : ImGuiAxis_Y;</div>
<div class="line"><a id="l17384" name="l17384"></a><span class="lineno">17384</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> split_inheritor_child_idx = (split_dir == ImGuiDir_Left || split_dir == ImGuiDir_Up) ? 1 : 0; <span class="comment">// Current contents will be moved to the opposite side</span></div>
<div class="line"><a id="l17385" name="l17385"></a><span class="lineno">17385</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> split_ratio = req-&gt;DockSplitRatio;</div>
<div class="line"><a id="l17386" name="l17386"></a><span class="lineno">17386</span>        DockNodeTreeSplit(ctx, node, split_axis, split_inheritor_child_idx, split_ratio, payload_node);  <span class="comment">// payload_node may be NULL here!</span></div>
<div class="line"><a id="l17387" name="l17387"></a><span class="lineno">17387</span>        <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* new_node = node-&gt;ChildNodes[split_inheritor_child_idx ^ 1];</div>
<div class="line"><a id="l17388" name="l17388"></a><span class="lineno">17388</span>        new_node-&gt;HostWindow = node-&gt;HostWindow;</div>
<div class="line"><a id="l17389" name="l17389"></a><span class="lineno">17389</span>        node = new_node;</div>
<div class="line"><a id="l17390" name="l17390"></a><span class="lineno">17390</span>    }</div>
<div class="line"><a id="l17391" name="l17391"></a><span class="lineno">17391</span>    node-&gt;SetLocalFlags(node-&gt;LocalFlags &amp; ~ImGuiDockNodeFlags_HiddenTabBar);</div>
<div class="line"><a id="l17392" name="l17392"></a><span class="lineno">17392</span> </div>
<div class="line"><a id="l17393" name="l17393"></a><span class="lineno">17393</span>    <span class="keywordflow">if</span> (node != payload_node)</div>
<div class="line"><a id="l17394" name="l17394"></a><span class="lineno">17394</span>    {</div>
<div class="line"><a id="l17395" name="l17395"></a><span class="lineno">17395</span>        <span class="comment">// Create tab bar before we call DockNodeMoveWindows (which would attempt to move the old tab-bar, which would lead us to payload tabs wrongly appearing before target tabs!)</span></div>
<div class="line"><a id="l17396" name="l17396"></a><span class="lineno">17396</span>        <span class="keywordflow">if</span> (node-&gt;Windows.Size &gt; 0 &amp;&amp; node-&gt;TabBar == NULL)</div>
<div class="line"><a id="l17397" name="l17397"></a><span class="lineno">17397</span>        {</div>
<div class="line"><a id="l17398" name="l17398"></a><span class="lineno">17398</span>            DockNodeAddTabBar(node);</div>
<div class="line"><a id="l17399" name="l17399"></a><span class="lineno">17399</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; node-&gt;Windows.Size; n++)</div>
<div class="line"><a id="l17400" name="l17400"></a><span class="lineno">17400</span>                TabBarAddTab(node-&gt;TabBar, ImGuiTabItemFlags_None, node-&gt;Windows[n]);</div>
<div class="line"><a id="l17401" name="l17401"></a><span class="lineno">17401</span>        }</div>
<div class="line"><a id="l17402" name="l17402"></a><span class="lineno">17402</span> </div>
<div class="line"><a id="l17403" name="l17403"></a><span class="lineno">17403</span>        <span class="keywordflow">if</span> (payload_node != NULL)</div>
<div class="line"><a id="l17404" name="l17404"></a><span class="lineno">17404</span>        {</div>
<div class="line"><a id="l17405" name="l17405"></a><span class="lineno">17405</span>            <span class="comment">// Transfer full payload node (with 1+ child windows or child nodes)</span></div>
<div class="line"><a id="l17406" name="l17406"></a><span class="lineno">17406</span>            <span class="keywordflow">if</span> (payload_node-&gt;IsSplitNode())</div>
<div class="line"><a id="l17407" name="l17407"></a><span class="lineno">17407</span>            {</div>
<div class="line"><a id="l17408" name="l17408"></a><span class="lineno">17408</span>                <span class="keywordflow">if</span> (node-&gt;Windows.Size &gt; 0)</div>
<div class="line"><a id="l17409" name="l17409"></a><span class="lineno">17409</span>                {</div>
<div class="line"><a id="l17410" name="l17410"></a><span class="lineno">17410</span>                    <span class="comment">// We can dock a split payload into a node that already has windows _only_ if our payload is a node tree with a single visible node.</span></div>
<div class="line"><a id="l17411" name="l17411"></a><span class="lineno">17411</span>                    <span class="comment">// In this situation, we move the windows of the target node into the currently visible node of the payload.</span></div>
<div class="line"><a id="l17412" name="l17412"></a><span class="lineno">17412</span>                    <span class="comment">// This allows us to preserve some of the underlying dock tree settings nicely.</span></div>
<div class="line"><a id="l17413" name="l17413"></a><span class="lineno">17413</span>                    IM_ASSERT(payload_node-&gt;OnlyNodeWithWindows != NULL); <span class="comment">// The docking should have been blocked by DockNodePreviewDockSetup() early on and never submitted.</span></div>
<div class="line"><a id="l17414" name="l17414"></a><span class="lineno">17414</span>                    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* visible_node = payload_node-&gt;OnlyNodeWithWindows;</div>
<div class="line"><a id="l17415" name="l17415"></a><span class="lineno">17415</span>                    <span class="keywordflow">if</span> (visible_node-&gt;TabBar)</div>
<div class="line"><a id="l17416" name="l17416"></a><span class="lineno">17416</span>                        IM_ASSERT(visible_node-&gt;TabBar-&gt;Tabs.Size &gt; 0);</div>
<div class="line"><a id="l17417" name="l17417"></a><span class="lineno">17417</span>                    DockNodeMoveWindows(node, visible_node);</div>
<div class="line"><a id="l17418" name="l17418"></a><span class="lineno">17418</span>                    DockNodeMoveWindows(visible_node, node);</div>
<div class="line"><a id="l17419" name="l17419"></a><span class="lineno">17419</span>                    DockSettingsRenameNodeReferences(node-&gt;ID, visible_node-&gt;ID);</div>
<div class="line"><a id="l17420" name="l17420"></a><span class="lineno">17420</span>                }</div>
<div class="line"><a id="l17421" name="l17421"></a><span class="lineno">17421</span>                <span class="keywordflow">if</span> (node-&gt;IsCentralNode())</div>
<div class="line"><a id="l17422" name="l17422"></a><span class="lineno">17422</span>                {</div>
<div class="line"><a id="l17423" name="l17423"></a><span class="lineno">17423</span>                    <span class="comment">// Central node property needs to be moved to a leaf node, pick the last focused one.</span></div>
<div class="line"><a id="l17424" name="l17424"></a><span class="lineno">17424</span>                    <span class="comment">// FIXME-DOCK: If we had to transfer other flags here, what would the policy be?</span></div>
<div class="line"><a id="l17425" name="l17425"></a><span class="lineno">17425</span>                    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* last_focused_node = DockContextFindNodeByID(ctx, payload_node-&gt;LastFocusedNodeId);</div>
<div class="line"><a id="l17426" name="l17426"></a><span class="lineno">17426</span>                    IM_ASSERT(last_focused_node != NULL);</div>
<div class="line"><a id="l17427" name="l17427"></a><span class="lineno">17427</span>                    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* last_focused_root_node = DockNodeGetRootNode(last_focused_node);</div>
<div class="line"><a id="l17428" name="l17428"></a><span class="lineno">17428</span>                    IM_ASSERT(last_focused_root_node == DockNodeGetRootNode(payload_node));</div>
<div class="line"><a id="l17429" name="l17429"></a><span class="lineno">17429</span>                    last_focused_node-&gt;SetLocalFlags(last_focused_node-&gt;LocalFlags | ImGuiDockNodeFlags_CentralNode);</div>
<div class="line"><a id="l17430" name="l17430"></a><span class="lineno">17430</span>                    node-&gt;SetLocalFlags(node-&gt;LocalFlags &amp; ~ImGuiDockNodeFlags_CentralNode);</div>
<div class="line"><a id="l17431" name="l17431"></a><span class="lineno">17431</span>                    last_focused_root_node-&gt;CentralNode = last_focused_node;</div>
<div class="line"><a id="l17432" name="l17432"></a><span class="lineno">17432</span>                }</div>
<div class="line"><a id="l17433" name="l17433"></a><span class="lineno">17433</span> </div>
<div class="line"><a id="l17434" name="l17434"></a><span class="lineno">17434</span>                IM_ASSERT(node-&gt;Windows.Size == 0);</div>
<div class="line"><a id="l17435" name="l17435"></a><span class="lineno">17435</span>                DockNodeMoveChildNodes(node, payload_node);</div>
<div class="line"><a id="l17436" name="l17436"></a><span class="lineno">17436</span>            }</div>
<div class="line"><a id="l17437" name="l17437"></a><span class="lineno">17437</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l17438" name="l17438"></a><span class="lineno">17438</span>            {</div>
<div class="line"><a id="l17439" name="l17439"></a><span class="lineno">17439</span>                <span class="keyword">const</span> ImGuiID payload_dock_id = payload_node-&gt;ID;</div>
<div class="line"><a id="l17440" name="l17440"></a><span class="lineno">17440</span>                DockNodeMoveWindows(node, payload_node);</div>
<div class="line"><a id="l17441" name="l17441"></a><span class="lineno">17441</span>                DockSettingsRenameNodeReferences(payload_dock_id, node-&gt;ID);</div>
<div class="line"><a id="l17442" name="l17442"></a><span class="lineno">17442</span>            }</div>
<div class="line"><a id="l17443" name="l17443"></a><span class="lineno">17443</span>            DockContextRemoveNode(ctx, payload_node, <span class="keyword">true</span>);</div>
<div class="line"><a id="l17444" name="l17444"></a><span class="lineno">17444</span>        }</div>
<div class="line"><a id="l17445" name="l17445"></a><span class="lineno">17445</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (payload_window)</div>
<div class="line"><a id="l17446" name="l17446"></a><span class="lineno">17446</span>        {</div>
<div class="line"><a id="l17447" name="l17447"></a><span class="lineno">17447</span>            <span class="comment">// Transfer single window</span></div>
<div class="line"><a id="l17448" name="l17448"></a><span class="lineno">17448</span>            <span class="keyword">const</span> ImGuiID payload_dock_id = payload_window-&gt;DockId;</div>
<div class="line"><a id="l17449" name="l17449"></a><span class="lineno">17449</span>            node-&gt;VisibleWindow = payload_window;</div>
<div class="line"><a id="l17450" name="l17450"></a><span class="lineno">17450</span>            DockNodeAddWindow(node, payload_window, <span class="keyword">true</span>);</div>
<div class="line"><a id="l17451" name="l17451"></a><span class="lineno">17451</span>            <span class="keywordflow">if</span> (payload_dock_id != 0)</div>
<div class="line"><a id="l17452" name="l17452"></a><span class="lineno">17452</span>                DockSettingsRenameNodeReferences(payload_dock_id, node-&gt;ID);</div>
<div class="line"><a id="l17453" name="l17453"></a><span class="lineno">17453</span>        }</div>
<div class="line"><a id="l17454" name="l17454"></a><span class="lineno">17454</span>    }</div>
<div class="line"><a id="l17455" name="l17455"></a><span class="lineno">17455</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l17456" name="l17456"></a><span class="lineno">17456</span>    {</div>
<div class="line"><a id="l17457" name="l17457"></a><span class="lineno">17457</span>        <span class="comment">// When docking a floating single window node we want to reevaluate auto-hiding of the tab bar</span></div>
<div class="line"><a id="l17458" name="l17458"></a><span class="lineno">17458</span>        node-&gt;WantHiddenTabBarUpdate = <span class="keyword">true</span>;</div>
<div class="line"><a id="l17459" name="l17459"></a><span class="lineno">17459</span>    }</div>
<div class="line"><a id="l17460" name="l17460"></a><span class="lineno">17460</span> </div>
<div class="line"><a id="l17461" name="l17461"></a><span class="lineno">17461</span>    <span class="comment">// Update selection immediately</span></div>
<div class="line"><a id="l17462" name="l17462"></a><span class="lineno">17462</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiTabBar.html">ImGuiTabBar</a>* tab_bar = node-&gt;TabBar)</div>
<div class="line"><a id="l17463" name="l17463"></a><span class="lineno">17463</span>        tab_bar-&gt;NextSelectedTabId = next_selected_id;</div>
<div class="line"><a id="l17464" name="l17464"></a><span class="lineno">17464</span>    MarkIniSettingsDirty();</div>
<div class="line"><a id="l17465" name="l17465"></a><span class="lineno">17465</span>}</div>
<div class="line"><a id="l17466" name="l17466"></a><span class="lineno">17466</span> </div>
<div class="line"><a id="l17467" name="l17467"></a><span class="lineno">17467</span><span class="comment">// Problem:</span></div>
<div class="line"><a id="l17468" name="l17468"></a><span class="lineno">17468</span><span class="comment">//   Undocking a large (~full screen) window would leave it so large that the bottom right sizing corner would more</span></div>
<div class="line"><a id="l17469" name="l17469"></a><span class="lineno">17469</span><span class="comment">//   than likely be off the screen and the window would be hard to resize to fit on screen. This can be particularly problematic</span></div>
<div class="line"><a id="l17470" name="l17470"></a><span class="lineno">17470</span><span class="comment">//   with &#39;ConfigWindowsMoveFromTitleBarOnly=true&#39; and/or with &#39;ConfigWindowsResizeFromEdges=false&#39; as well (the later can be</span></div>
<div class="line"><a id="l17471" name="l17471"></a><span class="lineno">17471</span><span class="comment">//   due to missing ImGuiBackendFlags_HasMouseCursors backend flag).</span></div>
<div class="line"><a id="l17472" name="l17472"></a><span class="lineno">17472</span><span class="comment">// Solution:</span></div>
<div class="line"><a id="l17473" name="l17473"></a><span class="lineno">17473</span><span class="comment">//   When undocking a window we currently force its maximum size to 90% of the host viewport or monitor.</span></div>
<div class="line"><a id="l17474" name="l17474"></a><span class="lineno">17474</span><span class="comment">// Reevaluate this when we implement preserving docked/undocked size (&quot;docking_wip/undocked_size&quot; branch).</span></div>
<div class="line"><a id="l17475" name="l17475"></a><span class="lineno">17475</span><span class="keyword">static</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> FixLargeWindowsWhenUndocking(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; size, <a class="code hl_struct" href="structImGuiViewport.html">ImGuiViewport</a>* ref_viewport)</div>
<div class="line"><a id="l17476" name="l17476"></a><span class="lineno">17476</span>{</div>
<div class="line"><a id="l17477" name="l17477"></a><span class="lineno">17477</span>    <span class="keywordflow">if</span> (ref_viewport == NULL)</div>
<div class="line"><a id="l17478" name="l17478"></a><span class="lineno">17478</span>        <span class="keywordflow">return</span> size;</div>
<div class="line"><a id="l17479" name="l17479"></a><span class="lineno">17479</span> </div>
<div class="line"><a id="l17480" name="l17480"></a><span class="lineno">17480</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l17481" name="l17481"></a><span class="lineno">17481</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> max_size = ImTrunc(ref_viewport-&gt;WorkSize * 0.90f);</div>
<div class="line"><a id="l17482" name="l17482"></a><span class="lineno">17482</span>    <span class="keywordflow">if</span> (g.ConfigFlagsCurrFrame &amp; ImGuiConfigFlags_ViewportsEnable)</div>
<div class="line"><a id="l17483" name="l17483"></a><span class="lineno">17483</span>    {</div>
<div class="line"><a id="l17484" name="l17484"></a><span class="lineno">17484</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiPlatformMonitor.html">ImGuiPlatformMonitor</a>* monitor = ImGui::GetViewportPlatformMonitor(ref_viewport);</div>
<div class="line"><a id="l17485" name="l17485"></a><span class="lineno">17485</span>        max_size = ImTrunc(monitor-&gt;WorkSize * 0.90f);</div>
<div class="line"><a id="l17486" name="l17486"></a><span class="lineno">17486</span>    }</div>
<div class="line"><a id="l17487" name="l17487"></a><span class="lineno">17487</span>    <span class="keywordflow">return</span> ImMin(size, max_size);</div>
<div class="line"><a id="l17488" name="l17488"></a><span class="lineno">17488</span>}</div>
<div class="line"><a id="l17489" name="l17489"></a><span class="lineno">17489</span> </div>
<div class="line"><a id="l17490" name="l17490"></a><span class="lineno">17490</span><span class="keywordtype">void</span> ImGui::DockContextProcessUndockWindow(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keywordtype">bool</span> clear_persistent_docking_ref)</div>
<div class="line"><a id="l17491" name="l17491"></a><span class="lineno">17491</span>{</div>
<div class="line"><a id="l17492" name="l17492"></a><span class="lineno">17492</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *ctx;</div>
<div class="line"><a id="l17493" name="l17493"></a><span class="lineno">17493</span>    IMGUI_DEBUG_LOG_DOCKING(<span class="stringliteral">&quot;[docking] DockContextProcessUndockWindow window &#39;%s&#39;, clear_persistent_docking_ref = %d\n&quot;</span>, window-&gt;Name, clear_persistent_docking_ref);</div>
<div class="line"><a id="l17494" name="l17494"></a><span class="lineno">17494</span>    <span class="keywordflow">if</span> (window-&gt;DockNode)</div>
<div class="line"><a id="l17495" name="l17495"></a><span class="lineno">17495</span>        DockNodeRemoveWindow(window-&gt;DockNode, window, clear_persistent_docking_ref ? 0 : window-&gt;DockId);</div>
<div class="line"><a id="l17496" name="l17496"></a><span class="lineno">17496</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l17497" name="l17497"></a><span class="lineno">17497</span>        window-&gt;DockId = 0;</div>
<div class="line"><a id="l17498" name="l17498"></a><span class="lineno">17498</span>    window-&gt;Collapsed = <span class="keyword">false</span>;</div>
<div class="line"><a id="l17499" name="l17499"></a><span class="lineno">17499</span>    window-&gt;DockIsActive = <span class="keyword">false</span>;</div>
<div class="line"><a id="l17500" name="l17500"></a><span class="lineno">17500</span>    window-&gt;DockNodeIsVisible = window-&gt;DockTabIsVisible = <span class="keyword">false</span>;</div>
<div class="line"><a id="l17501" name="l17501"></a><span class="lineno">17501</span>    window-&gt;Size = window-&gt;SizeFull = FixLargeWindowsWhenUndocking(window-&gt;SizeFull, window-&gt;Viewport);</div>
<div class="line"><a id="l17502" name="l17502"></a><span class="lineno">17502</span> </div>
<div class="line"><a id="l17503" name="l17503"></a><span class="lineno">17503</span>    MarkIniSettingsDirty();</div>
<div class="line"><a id="l17504" name="l17504"></a><span class="lineno">17504</span>}</div>
<div class="line"><a id="l17505" name="l17505"></a><span class="lineno">17505</span> </div>
<div class="line"><a id="l17506" name="l17506"></a><span class="lineno">17506</span><span class="keywordtype">void</span> ImGui::DockContextProcessUndockNode(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node)</div>
<div class="line"><a id="l17507" name="l17507"></a><span class="lineno">17507</span>{</div>
<div class="line"><a id="l17508" name="l17508"></a><span class="lineno">17508</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *ctx;</div>
<div class="line"><a id="l17509" name="l17509"></a><span class="lineno">17509</span>    IMGUI_DEBUG_LOG_DOCKING(<span class="stringliteral">&quot;[docking] DockContextProcessUndockNode node %08X\n&quot;</span>, node-&gt;ID);</div>
<div class="line"><a id="l17510" name="l17510"></a><span class="lineno">17510</span>    IM_ASSERT(node-&gt;IsLeafNode());</div>
<div class="line"><a id="l17511" name="l17511"></a><span class="lineno">17511</span>    IM_ASSERT(node-&gt;Windows.Size &gt;= 1);</div>
<div class="line"><a id="l17512" name="l17512"></a><span class="lineno">17512</span> </div>
<div class="line"><a id="l17513" name="l17513"></a><span class="lineno">17513</span>    <span class="keywordflow">if</span> (node-&gt;IsRootNode() || node-&gt;IsCentralNode())</div>
<div class="line"><a id="l17514" name="l17514"></a><span class="lineno">17514</span>    {</div>
<div class="line"><a id="l17515" name="l17515"></a><span class="lineno">17515</span>        <span class="comment">// In the case of a root node or central node, the node will have to stay in place. Create a new node to receive the payload.</span></div>
<div class="line"><a id="l17516" name="l17516"></a><span class="lineno">17516</span>        <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* new_node = DockContextAddNode(ctx, 0);</div>
<div class="line"><a id="l17517" name="l17517"></a><span class="lineno">17517</span>        new_node-&gt;Pos = node-&gt;Pos;</div>
<div class="line"><a id="l17518" name="l17518"></a><span class="lineno">17518</span>        new_node-&gt;Size = node-&gt;Size;</div>
<div class="line"><a id="l17519" name="l17519"></a><span class="lineno">17519</span>        new_node-&gt;SizeRef = node-&gt;SizeRef;</div>
<div class="line"><a id="l17520" name="l17520"></a><span class="lineno">17520</span>        DockNodeMoveWindows(new_node, node);</div>
<div class="line"><a id="l17521" name="l17521"></a><span class="lineno">17521</span>        DockSettingsRenameNodeReferences(node-&gt;ID, new_node-&gt;ID);</div>
<div class="line"><a id="l17522" name="l17522"></a><span class="lineno">17522</span>        node = new_node;</div>
<div class="line"><a id="l17523" name="l17523"></a><span class="lineno">17523</span>    }</div>
<div class="line"><a id="l17524" name="l17524"></a><span class="lineno">17524</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l17525" name="l17525"></a><span class="lineno">17525</span>    {</div>
<div class="line"><a id="l17526" name="l17526"></a><span class="lineno">17526</span>        <span class="comment">// Otherwise extract our node and merge our sibling back into the parent node.</span></div>
<div class="line"><a id="l17527" name="l17527"></a><span class="lineno">17527</span>        IM_ASSERT(node-&gt;ParentNode-&gt;ChildNodes[0] == node || node-&gt;ParentNode-&gt;ChildNodes[1] == node);</div>
<div class="line"><a id="l17528" name="l17528"></a><span class="lineno">17528</span>        <span class="keywordtype">int</span> index_in_parent = (node-&gt;ParentNode-&gt;ChildNodes[0] == node) ? 0 : 1;</div>
<div class="line"><a id="l17529" name="l17529"></a><span class="lineno">17529</span>        node-&gt;ParentNode-&gt;ChildNodes[index_in_parent] = NULL;</div>
<div class="line"><a id="l17530" name="l17530"></a><span class="lineno">17530</span>        DockNodeTreeMerge(ctx, node-&gt;ParentNode, node-&gt;ParentNode-&gt;ChildNodes[index_in_parent ^ 1]);</div>
<div class="line"><a id="l17531" name="l17531"></a><span class="lineno">17531</span>        node-&gt;ParentNode-&gt;AuthorityForViewport = ImGuiDataAuthority_Window; <span class="comment">// The node that stays in place keeps the viewport, so our newly dragged out node will create a new viewport</span></div>
<div class="line"><a id="l17532" name="l17532"></a><span class="lineno">17532</span>        node-&gt;ParentNode = NULL;</div>
<div class="line"><a id="l17533" name="l17533"></a><span class="lineno">17533</span>    }</div>
<div class="line"><a id="l17534" name="l17534"></a><span class="lineno">17534</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window : node-&gt;Windows)</div>
<div class="line"><a id="l17535" name="l17535"></a><span class="lineno">17535</span>    {</div>
<div class="line"><a id="l17536" name="l17536"></a><span class="lineno">17536</span>        window-&gt;Flags &amp;= ~ImGuiWindowFlags_ChildWindow;</div>
<div class="line"><a id="l17537" name="l17537"></a><span class="lineno">17537</span>        <span class="keywordflow">if</span> (window-&gt;ParentWindow)</div>
<div class="line"><a id="l17538" name="l17538"></a><span class="lineno">17538</span>            window-&gt;ParentWindow-&gt;DC.ChildWindows.find_erase(window);</div>
<div class="line"><a id="l17539" name="l17539"></a><span class="lineno">17539</span>        UpdateWindowParentAndRootLinks(window, window-&gt;Flags, NULL);</div>
<div class="line"><a id="l17540" name="l17540"></a><span class="lineno">17540</span>    }</div>
<div class="line"><a id="l17541" name="l17541"></a><span class="lineno">17541</span>    node-&gt;AuthorityForPos = node-&gt;AuthorityForSize = ImGuiDataAuthority_DockNode;</div>
<div class="line"><a id="l17542" name="l17542"></a><span class="lineno">17542</span>    node-&gt;Size = FixLargeWindowsWhenUndocking(node-&gt;Size, node-&gt;Windows[0]-&gt;Viewport);</div>
<div class="line"><a id="l17543" name="l17543"></a><span class="lineno">17543</span>    node-&gt;WantMouseMove = <span class="keyword">true</span>;</div>
<div class="line"><a id="l17544" name="l17544"></a><span class="lineno">17544</span>    MarkIniSettingsDirty();</div>
<div class="line"><a id="l17545" name="l17545"></a><span class="lineno">17545</span>}</div>
<div class="line"><a id="l17546" name="l17546"></a><span class="lineno">17546</span> </div>
<div class="line"><a id="l17547" name="l17547"></a><span class="lineno">17547</span><span class="comment">// This is mostly used for automation.</span></div>
<div class="line"><a id="l17548" name="l17548"></a><span class="lineno">17548</span><span class="keywordtype">bool</span> ImGui::DockContextCalcDropPosForDocking(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* target, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* target_node, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* payload_window, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* payload_node, ImGuiDir split_dir, <span class="keywordtype">bool</span> split_outer, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>* out_pos)</div>
<div class="line"><a id="l17549" name="l17549"></a><span class="lineno">17549</span>{</div>
<div class="line"><a id="l17550" name="l17550"></a><span class="lineno">17550</span>    <span class="keywordflow">if</span> (target != NULL &amp;&amp; target_node == NULL)</div>
<div class="line"><a id="l17551" name="l17551"></a><span class="lineno">17551</span>        target_node = target-&gt;DockNode;</div>
<div class="line"><a id="l17552" name="l17552"></a><span class="lineno">17552</span> </div>
<div class="line"><a id="l17553" name="l17553"></a><span class="lineno">17553</span>    <span class="comment">// In DockNodePreviewDockSetup() for a root central node instead of showing both &quot;inner&quot; and &quot;outer&quot; drop rects</span></div>
<div class="line"><a id="l17554" name="l17554"></a><span class="lineno">17554</span>    <span class="comment">// (which would be functionally identical) we only show the outer one. Reflect this here.</span></div>
<div class="line"><a id="l17555" name="l17555"></a><span class="lineno">17555</span>    <span class="keywordflow">if</span> (target_node &amp;&amp; target_node-&gt;ParentNode == NULL &amp;&amp; target_node-&gt;IsCentralNode() &amp;&amp; split_dir != ImGuiDir_None)</div>
<div class="line"><a id="l17556" name="l17556"></a><span class="lineno">17556</span>        split_outer = <span class="keyword">true</span>;</div>
<div class="line"><a id="l17557" name="l17557"></a><span class="lineno">17557</span>    <a class="code hl_struct" href="structImGuiDockPreviewData.html">ImGuiDockPreviewData</a> split_data;</div>
<div class="line"><a id="l17558" name="l17558"></a><span class="lineno">17558</span>    DockNodePreviewDockSetup(target, target_node, payload_window, payload_node, &amp;split_data, <span class="keyword">false</span>, split_outer);</div>
<div class="line"><a id="l17559" name="l17559"></a><span class="lineno">17559</span>    <span class="keywordflow">if</span> (split_data.DropRectsDraw[split_dir+1].IsInverted())</div>
<div class="line"><a id="l17560" name="l17560"></a><span class="lineno">17560</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l17561" name="l17561"></a><span class="lineno">17561</span>    *out_pos = split_data.DropRectsDraw[split_dir+1].GetCenter();</div>
<div class="line"><a id="l17562" name="l17562"></a><span class="lineno">17562</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l17563" name="l17563"></a><span class="lineno">17563</span>}</div>
<div class="line"><a id="l17564" name="l17564"></a><span class="lineno">17564</span> </div>
<div class="line"><a id="l17565" name="l17565"></a><span class="lineno">17565</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l17566" name="l17566"></a><span class="lineno">17566</span><span class="comment">// Docking: ImGuiDockNode</span></div>
<div class="line"><a id="l17567" name="l17567"></a><span class="lineno">17567</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l17568" name="l17568"></a><span class="lineno">17568</span><span class="comment">// - DockNodeGetTabOrder()</span></div>
<div class="line"><a id="l17569" name="l17569"></a><span class="lineno">17569</span><span class="comment">// - DockNodeAddWindow()</span></div>
<div class="line"><a id="l17570" name="l17570"></a><span class="lineno">17570</span><span class="comment">// - DockNodeRemoveWindow()</span></div>
<div class="line"><a id="l17571" name="l17571"></a><span class="lineno">17571</span><span class="comment">// - DockNodeMoveChildNodes()</span></div>
<div class="line"><a id="l17572" name="l17572"></a><span class="lineno">17572</span><span class="comment">// - DockNodeMoveWindows()</span></div>
<div class="line"><a id="l17573" name="l17573"></a><span class="lineno">17573</span><span class="comment">// - DockNodeApplyPosSizeToWindows()</span></div>
<div class="line"><a id="l17574" name="l17574"></a><span class="lineno">17574</span><span class="comment">// - DockNodeHideHostWindow()</span></div>
<div class="line"><a id="l17575" name="l17575"></a><span class="lineno">17575</span><span class="comment">// - ImGuiDockNodeFindInfoResults</span></div>
<div class="line"><a id="l17576" name="l17576"></a><span class="lineno">17576</span><span class="comment">// - DockNodeFindInfo()</span></div>
<div class="line"><a id="l17577" name="l17577"></a><span class="lineno">17577</span><span class="comment">// - DockNodeFindWindowByID()</span></div>
<div class="line"><a id="l17578" name="l17578"></a><span class="lineno">17578</span><span class="comment">// - DockNodeUpdateFlagsAndCollapse()</span></div>
<div class="line"><a id="l17579" name="l17579"></a><span class="lineno">17579</span><span class="comment">// - DockNodeUpdateHasCentralNodeFlag()</span></div>
<div class="line"><a id="l17580" name="l17580"></a><span class="lineno">17580</span><span class="comment">// - DockNodeUpdateVisibleFlag()</span></div>
<div class="line"><a id="l17581" name="l17581"></a><span class="lineno">17581</span><span class="comment">// - DockNodeStartMouseMovingWindow()</span></div>
<div class="line"><a id="l17582" name="l17582"></a><span class="lineno">17582</span><span class="comment">// - DockNodeUpdate()</span></div>
<div class="line"><a id="l17583" name="l17583"></a><span class="lineno">17583</span><span class="comment">// - DockNodeUpdateWindowMenu()</span></div>
<div class="line"><a id="l17584" name="l17584"></a><span class="lineno">17584</span><span class="comment">// - DockNodeBeginAmendTabBar()</span></div>
<div class="line"><a id="l17585" name="l17585"></a><span class="lineno">17585</span><span class="comment">// - DockNodeEndAmendTabBar()</span></div>
<div class="line"><a id="l17586" name="l17586"></a><span class="lineno">17586</span><span class="comment">// - DockNodeUpdateTabBar()</span></div>
<div class="line"><a id="l17587" name="l17587"></a><span class="lineno">17587</span><span class="comment">// - DockNodeAddTabBar()</span></div>
<div class="line"><a id="l17588" name="l17588"></a><span class="lineno">17588</span><span class="comment">// - DockNodeRemoveTabBar()</span></div>
<div class="line"><a id="l17589" name="l17589"></a><span class="lineno">17589</span><span class="comment">// - DockNodeIsDropAllowedOne()</span></div>
<div class="line"><a id="l17590" name="l17590"></a><span class="lineno">17590</span><span class="comment">// - DockNodeIsDropAllowed()</span></div>
<div class="line"><a id="l17591" name="l17591"></a><span class="lineno">17591</span><span class="comment">// - DockNodeCalcTabBarLayout()</span></div>
<div class="line"><a id="l17592" name="l17592"></a><span class="lineno">17592</span><span class="comment">// - DockNodeCalcSplitRects()</span></div>
<div class="line"><a id="l17593" name="l17593"></a><span class="lineno">17593</span><span class="comment">// - DockNodeCalcDropRectsAndTestMousePos()</span></div>
<div class="line"><a id="l17594" name="l17594"></a><span class="lineno">17594</span><span class="comment">// - DockNodePreviewDockSetup()</span></div>
<div class="line"><a id="l17595" name="l17595"></a><span class="lineno">17595</span><span class="comment">// - DockNodePreviewDockRender()</span></div>
<div class="line"><a id="l17596" name="l17596"></a><span class="lineno">17596</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l17597" name="l17597"></a><span class="lineno">17597</span> </div>
<div class="line"><a id="l17598" name="l17598"></a><span class="lineno">17598</span>ImGuiDockNode::ImGuiDockNode(ImGuiID <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l17599" name="l17599"></a><span class="lineno">17599</span>{</div>
<div class="line"><a id="l17600" name="l17600"></a><span class="lineno">17600</span>    ID = id;</div>
<div class="line"><a id="l17601" name="l17601"></a><span class="lineno">17601</span>    SharedFlags = LocalFlags = LocalFlagsInWindows = MergedFlags = ImGuiDockNodeFlags_None;</div>
<div class="line"><a id="l17602" name="l17602"></a><span class="lineno">17602</span>    ParentNode = ChildNodes[0] = ChildNodes[1] = NULL;</div>
<div class="line"><a id="l17603" name="l17603"></a><span class="lineno">17603</span>    TabBar = NULL;</div>
<div class="line"><a id="l17604" name="l17604"></a><span class="lineno">17604</span>    SplitAxis = ImGuiAxis_None;</div>
<div class="line"><a id="l17605" name="l17605"></a><span class="lineno">17605</span> </div>
<div class="line"><a id="l17606" name="l17606"></a><span class="lineno">17606</span>    State = ImGuiDockNodeState_Unknown;</div>
<div class="line"><a id="l17607" name="l17607"></a><span class="lineno">17607</span>    LastBgColor = IM_COL32_WHITE;</div>
<div class="line"><a id="l17608" name="l17608"></a><span class="lineno">17608</span>    HostWindow = VisibleWindow = NULL;</div>
<div class="line"><a id="l17609" name="l17609"></a><span class="lineno">17609</span>    CentralNode = OnlyNodeWithWindows = NULL;</div>
<div class="line"><a id="l17610" name="l17610"></a><span class="lineno">17610</span>    CountNodeWithWindows = 0;</div>
<div class="line"><a id="l17611" name="l17611"></a><span class="lineno">17611</span>    LastFrameAlive = LastFrameActive = LastFrameFocused = -1;</div>
<div class="line"><a id="l17612" name="l17612"></a><span class="lineno">17612</span>    LastFocusedNodeId = 0;</div>
<div class="line"><a id="l17613" name="l17613"></a><span class="lineno">17613</span>    SelectedTabId = 0;</div>
<div class="line"><a id="l17614" name="l17614"></a><span class="lineno">17614</span>    WantCloseTabId = 0;</div>
<div class="line"><a id="l17615" name="l17615"></a><span class="lineno">17615</span>    RefViewportId = 0;</div>
<div class="line"><a id="l17616" name="l17616"></a><span class="lineno">17616</span>    AuthorityForPos = AuthorityForSize = ImGuiDataAuthority_DockNode;</div>
<div class="line"><a id="l17617" name="l17617"></a><span class="lineno">17617</span>    AuthorityForViewport = ImGuiDataAuthority_Auto;</div>
<div class="line"><a id="l17618" name="l17618"></a><span class="lineno">17618</span>    IsVisible = <span class="keyword">true</span>;</div>
<div class="line"><a id="l17619" name="l17619"></a><span class="lineno">17619</span>    IsFocused = HasCloseButton = HasWindowMenuButton = HasCentralNodeChild = <span class="keyword">false</span>;</div>
<div class="line"><a id="l17620" name="l17620"></a><span class="lineno">17620</span>    IsBgDrawnThisFrame = <span class="keyword">false</span>;</div>
<div class="line"><a id="l17621" name="l17621"></a><span class="lineno">17621</span>    WantCloseAll = WantLockSizeOnce = WantMouseMove = WantHiddenTabBarUpdate = WantHiddenTabBarToggle = <span class="keyword">false</span>;</div>
<div class="line"><a id="l17622" name="l17622"></a><span class="lineno">17622</span>}</div>
<div class="line"><a id="l17623" name="l17623"></a><span class="lineno">17623</span> </div>
<div class="line"><a id="l17624" name="l17624"></a><span class="lineno">17624</span>ImGuiDockNode::~ImGuiDockNode()</div>
<div class="line"><a id="l17625" name="l17625"></a><span class="lineno">17625</span>{</div>
<div class="line"><a id="l17626" name="l17626"></a><span class="lineno">17626</span>    IM_DELETE(TabBar);</div>
<div class="line"><a id="l17627" name="l17627"></a><span class="lineno">17627</span>    TabBar = NULL;</div>
<div class="line"><a id="l17628" name="l17628"></a><span class="lineno">17628</span>    ChildNodes[0] = ChildNodes[1] = NULL;</div>
<div class="line"><a id="l17629" name="l17629"></a><span class="lineno">17629</span>}</div>
<div class="line"><a id="l17630" name="l17630"></a><span class="lineno">17630</span> </div>
<div class="line"><a id="l17631" name="l17631"></a><span class="lineno">17631</span><span class="keywordtype">int</span> ImGui::DockNodeGetTabOrder(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l17632" name="l17632"></a><span class="lineno">17632</span>{</div>
<div class="line"><a id="l17633" name="l17633"></a><span class="lineno">17633</span>    <a class="code hl_struct" href="structImGuiTabBar.html">ImGuiTabBar</a>* tab_bar = window-&gt;DockNode-&gt;TabBar;</div>
<div class="line"><a id="l17634" name="l17634"></a><span class="lineno">17634</span>    <span class="keywordflow">if</span> (tab_bar == NULL)</div>
<div class="line"><a id="l17635" name="l17635"></a><span class="lineno">17635</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a id="l17636" name="l17636"></a><span class="lineno">17636</span>    <a class="code hl_struct" href="structImGuiTabItem.html">ImGuiTabItem</a>* tab = TabBarFindTabByID(tab_bar, window-&gt;TabId);</div>
<div class="line"><a id="l17637" name="l17637"></a><span class="lineno">17637</span>    <span class="keywordflow">return</span> tab ? TabBarGetTabOrder(tab_bar, tab) : -1;</div>
<div class="line"><a id="l17638" name="l17638"></a><span class="lineno">17638</span>}</div>
<div class="line"><a id="l17639" name="l17639"></a><span class="lineno">17639</span> </div>
<div class="line"><a id="l17640" name="l17640"></a><span class="lineno">17640</span><span class="keyword">static</span> <span class="keywordtype">void</span> DockNodeHideWindowDuringHostWindowCreation(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l17641" name="l17641"></a><span class="lineno">17641</span>{</div>
<div class="line"><a id="l17642" name="l17642"></a><span class="lineno">17642</span>    window-&gt;Hidden = <span class="keyword">true</span>;</div>
<div class="line"><a id="l17643" name="l17643"></a><span class="lineno">17643</span>    window-&gt;HiddenFramesCanSkipItems = window-&gt;Active ? 1 : 2;</div>
<div class="line"><a id="l17644" name="l17644"></a><span class="lineno">17644</span>}</div>
<div class="line"><a id="l17645" name="l17645"></a><span class="lineno">17645</span> </div>
<div class="line"><a id="l17646" name="l17646"></a><span class="lineno">17646</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::DockNodeAddWindow(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keywordtype">bool</span> add_to_tab_bar)</div>
<div class="line"><a id="l17647" name="l17647"></a><span class="lineno">17647</span>{</div>
<div class="line"><a id="l17648" name="l17648"></a><span class="lineno">17648</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui; (void)g;</div>
<div class="line"><a id="l17649" name="l17649"></a><span class="lineno">17649</span>    <span class="keywordflow">if</span> (window-&gt;DockNode)</div>
<div class="line"><a id="l17650" name="l17650"></a><span class="lineno">17650</span>    {</div>
<div class="line"><a id="l17651" name="l17651"></a><span class="lineno">17651</span>        <span class="comment">// Can overwrite an existing window-&gt;DockNode (e.g. pointing to a disabled DockSpace node)</span></div>
<div class="line"><a id="l17652" name="l17652"></a><span class="lineno">17652</span>        IM_ASSERT(window-&gt;DockNode-&gt;ID != node-&gt;ID);</div>
<div class="line"><a id="l17653" name="l17653"></a><span class="lineno">17653</span>        DockNodeRemoveWindow(window-&gt;DockNode, window, 0);</div>
<div class="line"><a id="l17654" name="l17654"></a><span class="lineno">17654</span>    }</div>
<div class="line"><a id="l17655" name="l17655"></a><span class="lineno">17655</span>    IM_ASSERT(window-&gt;DockNode == NULL || window-&gt;DockNodeAsHost == NULL);</div>
<div class="line"><a id="l17656" name="l17656"></a><span class="lineno">17656</span>    IMGUI_DEBUG_LOG_DOCKING(<span class="stringliteral">&quot;[docking] DockNodeAddWindow node 0x%08X window &#39;%s&#39;\n&quot;</span>, node-&gt;ID, window-&gt;Name);</div>
<div class="line"><a id="l17657" name="l17657"></a><span class="lineno">17657</span> </div>
<div class="line"><a id="l17658" name="l17658"></a><span class="lineno">17658</span>    <span class="comment">// If more than 2 windows appeared on the same frame leading to the creation of a new hosting window,</span></div>
<div class="line"><a id="l17659" name="l17659"></a><span class="lineno">17659</span>    <span class="comment">// we&#39;ll hide windows until the host window is ready. Hide the 1st window after its been output (so it is not visible for one frame).</span></div>
<div class="line"><a id="l17660" name="l17660"></a><span class="lineno">17660</span>    <span class="comment">// We will call DockNodeHideWindowDuringHostWindowCreation() on ourselves in Begin()</span></div>
<div class="line"><a id="l17661" name="l17661"></a><span class="lineno">17661</span>    <span class="keywordflow">if</span> (node-&gt;HostWindow == NULL &amp;&amp; node-&gt;Windows.Size == 1 &amp;&amp; node-&gt;Windows[0]-&gt;WasActive == <span class="keyword">false</span>)</div>
<div class="line"><a id="l17662" name="l17662"></a><span class="lineno">17662</span>        DockNodeHideWindowDuringHostWindowCreation(node-&gt;Windows[0]);</div>
<div class="line"><a id="l17663" name="l17663"></a><span class="lineno">17663</span> </div>
<div class="line"><a id="l17664" name="l17664"></a><span class="lineno">17664</span>    node-&gt;Windows.push_back(window);</div>
<div class="line"><a id="l17665" name="l17665"></a><span class="lineno">17665</span>    node-&gt;WantHiddenTabBarUpdate = <span class="keyword">true</span>;</div>
<div class="line"><a id="l17666" name="l17666"></a><span class="lineno">17666</span>    window-&gt;DockNode = node;</div>
<div class="line"><a id="l17667" name="l17667"></a><span class="lineno">17667</span>    window-&gt;DockId = node-&gt;ID;</div>
<div class="line"><a id="l17668" name="l17668"></a><span class="lineno">17668</span>    window-&gt;DockIsActive = (node-&gt;Windows.Size &gt; 1);</div>
<div class="line"><a id="l17669" name="l17669"></a><span class="lineno">17669</span>    window-&gt;DockTabWantClose = <span class="keyword">false</span>;</div>
<div class="line"><a id="l17670" name="l17670"></a><span class="lineno">17670</span> </div>
<div class="line"><a id="l17671" name="l17671"></a><span class="lineno">17671</span>    <span class="comment">// When reactivating a node with one or two loose window, the window pos/size/viewport are authoritative over the node storage.</span></div>
<div class="line"><a id="l17672" name="l17672"></a><span class="lineno">17672</span>    <span class="comment">// In particular it is important we init the viewport from the first window so we don&#39;t create two viewports and drop one.</span></div>
<div class="line"><a id="l17673" name="l17673"></a><span class="lineno">17673</span>    <span class="keywordflow">if</span> (node-&gt;HostWindow == NULL &amp;&amp; node-&gt;IsFloatingNode())</div>
<div class="line"><a id="l17674" name="l17674"></a><span class="lineno">17674</span>    {</div>
<div class="line"><a id="l17675" name="l17675"></a><span class="lineno">17675</span>        <span class="keywordflow">if</span> (node-&gt;AuthorityForPos == ImGuiDataAuthority_Auto)</div>
<div class="line"><a id="l17676" name="l17676"></a><span class="lineno">17676</span>            node-&gt;AuthorityForPos = ImGuiDataAuthority_Window;</div>
<div class="line"><a id="l17677" name="l17677"></a><span class="lineno">17677</span>        <span class="keywordflow">if</span> (node-&gt;AuthorityForSize == ImGuiDataAuthority_Auto)</div>
<div class="line"><a id="l17678" name="l17678"></a><span class="lineno">17678</span>            node-&gt;AuthorityForSize = ImGuiDataAuthority_Window;</div>
<div class="line"><a id="l17679" name="l17679"></a><span class="lineno">17679</span>        <span class="keywordflow">if</span> (node-&gt;AuthorityForViewport == ImGuiDataAuthority_Auto)</div>
<div class="line"><a id="l17680" name="l17680"></a><span class="lineno">17680</span>            node-&gt;AuthorityForViewport = ImGuiDataAuthority_Window;</div>
<div class="line"><a id="l17681" name="l17681"></a><span class="lineno">17681</span>    }</div>
<div class="line"><a id="l17682" name="l17682"></a><span class="lineno">17682</span> </div>
<div class="line"><a id="l17683" name="l17683"></a><span class="lineno">17683</span>    <span class="comment">// Add to tab bar if requested</span></div>
<div class="line"><a id="l17684" name="l17684"></a><span class="lineno">17684</span>    <span class="keywordflow">if</span> (add_to_tab_bar)</div>
<div class="line"><a id="l17685" name="l17685"></a><span class="lineno">17685</span>    {</div>
<div class="line"><a id="l17686" name="l17686"></a><span class="lineno">17686</span>        <span class="keywordflow">if</span> (node-&gt;TabBar == NULL)</div>
<div class="line"><a id="l17687" name="l17687"></a><span class="lineno">17687</span>        {</div>
<div class="line"><a id="l17688" name="l17688"></a><span class="lineno">17688</span>            DockNodeAddTabBar(node);</div>
<div class="line"><a id="l17689" name="l17689"></a><span class="lineno">17689</span>            node-&gt;TabBar-&gt;SelectedTabId = node-&gt;TabBar-&gt;NextSelectedTabId = node-&gt;SelectedTabId;</div>
<div class="line"><a id="l17690" name="l17690"></a><span class="lineno">17690</span> </div>
<div class="line"><a id="l17691" name="l17691"></a><span class="lineno">17691</span>            <span class="comment">// Add existing windows</span></div>
<div class="line"><a id="l17692" name="l17692"></a><span class="lineno">17692</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; node-&gt;Windows.Size - 1; n++)</div>
<div class="line"><a id="l17693" name="l17693"></a><span class="lineno">17693</span>                TabBarAddTab(node-&gt;TabBar, ImGuiTabItemFlags_None, node-&gt;Windows[n]);</div>
<div class="line"><a id="l17694" name="l17694"></a><span class="lineno">17694</span>        }</div>
<div class="line"><a id="l17695" name="l17695"></a><span class="lineno">17695</span>        TabBarAddTab(node-&gt;TabBar, ImGuiTabItemFlags_Unsorted, window);</div>
<div class="line"><a id="l17696" name="l17696"></a><span class="lineno">17696</span>    }</div>
<div class="line"><a id="l17697" name="l17697"></a><span class="lineno">17697</span> </div>
<div class="line"><a id="l17698" name="l17698"></a><span class="lineno">17698</span>    DockNodeUpdateVisibleFlag(node);</div>
<div class="line"><a id="l17699" name="l17699"></a><span class="lineno">17699</span> </div>
<div class="line"><a id="l17700" name="l17700"></a><span class="lineno">17700</span>    <span class="comment">// Update this without waiting for the next time we Begin() in the window, so our host window will have the proper title bar color on its first frame.</span></div>
<div class="line"><a id="l17701" name="l17701"></a><span class="lineno">17701</span>    <span class="keywordflow">if</span> (node-&gt;HostWindow)</div>
<div class="line"><a id="l17702" name="l17702"></a><span class="lineno">17702</span>        UpdateWindowParentAndRootLinks(window, window-&gt;Flags | ImGuiWindowFlags_ChildWindow, node-&gt;HostWindow);</div>
<div class="line"><a id="l17703" name="l17703"></a><span class="lineno">17703</span>}</div>
<div class="line"><a id="l17704" name="l17704"></a><span class="lineno">17704</span> </div>
<div class="line"><a id="l17705" name="l17705"></a><span class="lineno">17705</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::DockNodeRemoveWindow(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, ImGuiID save_dock_id)</div>
<div class="line"><a id="l17706" name="l17706"></a><span class="lineno">17706</span>{</div>
<div class="line"><a id="l17707" name="l17707"></a><span class="lineno">17707</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l17708" name="l17708"></a><span class="lineno">17708</span>    IM_ASSERT(window-&gt;DockNode == node);</div>
<div class="line"><a id="l17709" name="l17709"></a><span class="lineno">17709</span>    <span class="comment">//IM_ASSERT(window-&gt;RootWindowDockTree == node-&gt;HostWindow);</span></div>
<div class="line"><a id="l17710" name="l17710"></a><span class="lineno">17710</span>    <span class="comment">//IM_ASSERT(window-&gt;LastFrameActive &lt; g.FrameCount);    // We may call this from Begin()</span></div>
<div class="line"><a id="l17711" name="l17711"></a><span class="lineno">17711</span>    IM_ASSERT(save_dock_id == 0 || save_dock_id == node-&gt;ID);</div>
<div class="line"><a id="l17712" name="l17712"></a><span class="lineno">17712</span>    IMGUI_DEBUG_LOG_DOCKING(<span class="stringliteral">&quot;[docking] DockNodeRemoveWindow node 0x%08X window &#39;%s&#39;\n&quot;</span>, node-&gt;ID, window-&gt;Name);</div>
<div class="line"><a id="l17713" name="l17713"></a><span class="lineno">17713</span> </div>
<div class="line"><a id="l17714" name="l17714"></a><span class="lineno">17714</span>    window-&gt;DockNode = NULL;</div>
<div class="line"><a id="l17715" name="l17715"></a><span class="lineno">17715</span>    window-&gt;DockIsActive = window-&gt;DockTabWantClose = <span class="keyword">false</span>;</div>
<div class="line"><a id="l17716" name="l17716"></a><span class="lineno">17716</span>    window-&gt;DockId = save_dock_id;</div>
<div class="line"><a id="l17717" name="l17717"></a><span class="lineno">17717</span>    window-&gt;Flags &amp;= ~ImGuiWindowFlags_ChildWindow;</div>
<div class="line"><a id="l17718" name="l17718"></a><span class="lineno">17718</span>    <span class="keywordflow">if</span> (window-&gt;ParentWindow)</div>
<div class="line"><a id="l17719" name="l17719"></a><span class="lineno">17719</span>        window-&gt;ParentWindow-&gt;DC.ChildWindows.find_erase(window);</div>
<div class="line"><a id="l17720" name="l17720"></a><span class="lineno">17720</span>    UpdateWindowParentAndRootLinks(window, window-&gt;Flags, NULL); <span class="comment">// Update immediately</span></div>
<div class="line"><a id="l17721" name="l17721"></a><span class="lineno">17721</span> </div>
<div class="line"><a id="l17722" name="l17722"></a><span class="lineno">17722</span>    <span class="keywordflow">if</span> (node-&gt;HostWindow &amp;&amp; node-&gt;HostWindow-&gt;ViewportOwned)</div>
<div class="line"><a id="l17723" name="l17723"></a><span class="lineno">17723</span>    {</div>
<div class="line"><a id="l17724" name="l17724"></a><span class="lineno">17724</span>        <span class="comment">// When undocking from a user interaction this will always run in NewFrame() and have not much effect.</span></div>
<div class="line"><a id="l17725" name="l17725"></a><span class="lineno">17725</span>        <span class="comment">// But mid-frame, if we clear viewport we need to mark window as hidden as well.</span></div>
<div class="line"><a id="l17726" name="l17726"></a><span class="lineno">17726</span>        window-&gt;Viewport = NULL;</div>
<div class="line"><a id="l17727" name="l17727"></a><span class="lineno">17727</span>        window-&gt;ViewportId = 0;</div>
<div class="line"><a id="l17728" name="l17728"></a><span class="lineno">17728</span>        window-&gt;ViewportOwned = <span class="keyword">false</span>;</div>
<div class="line"><a id="l17729" name="l17729"></a><span class="lineno">17729</span>        window-&gt;Hidden = <span class="keyword">true</span>;</div>
<div class="line"><a id="l17730" name="l17730"></a><span class="lineno">17730</span>    }</div>
<div class="line"><a id="l17731" name="l17731"></a><span class="lineno">17731</span> </div>
<div class="line"><a id="l17732" name="l17732"></a><span class="lineno">17732</span>    <span class="comment">// Remove window</span></div>
<div class="line"><a id="l17733" name="l17733"></a><span class="lineno">17733</span>    <span class="keywordtype">bool</span> erased = <span class="keyword">false</span>;</div>
<div class="line"><a id="l17734" name="l17734"></a><span class="lineno">17734</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; node-&gt;Windows.Size; n++)</div>
<div class="line"><a id="l17735" name="l17735"></a><span class="lineno">17735</span>        <span class="keywordflow">if</span> (node-&gt;Windows[n] == window)</div>
<div class="line"><a id="l17736" name="l17736"></a><span class="lineno">17736</span>        {</div>
<div class="line"><a id="l17737" name="l17737"></a><span class="lineno">17737</span>            node-&gt;Windows.erase(node-&gt;Windows.Data + n);</div>
<div class="line"><a id="l17738" name="l17738"></a><span class="lineno">17738</span>            erased = <span class="keyword">true</span>;</div>
<div class="line"><a id="l17739" name="l17739"></a><span class="lineno">17739</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l17740" name="l17740"></a><span class="lineno">17740</span>        }</div>
<div class="line"><a id="l17741" name="l17741"></a><span class="lineno">17741</span>    <span class="keywordflow">if</span> (!erased)</div>
<div class="line"><a id="l17742" name="l17742"></a><span class="lineno">17742</span>        IM_ASSERT(erased);</div>
<div class="line"><a id="l17743" name="l17743"></a><span class="lineno">17743</span>    <span class="keywordflow">if</span> (node-&gt;VisibleWindow == window)</div>
<div class="line"><a id="l17744" name="l17744"></a><span class="lineno">17744</span>        node-&gt;VisibleWindow = NULL;</div>
<div class="line"><a id="l17745" name="l17745"></a><span class="lineno">17745</span> </div>
<div class="line"><a id="l17746" name="l17746"></a><span class="lineno">17746</span>    <span class="comment">// Remove tab and possibly tab bar</span></div>
<div class="line"><a id="l17747" name="l17747"></a><span class="lineno">17747</span>    node-&gt;WantHiddenTabBarUpdate = <span class="keyword">true</span>;</div>
<div class="line"><a id="l17748" name="l17748"></a><span class="lineno">17748</span>    <span class="keywordflow">if</span> (node-&gt;TabBar)</div>
<div class="line"><a id="l17749" name="l17749"></a><span class="lineno">17749</span>    {</div>
<div class="line"><a id="l17750" name="l17750"></a><span class="lineno">17750</span>        TabBarRemoveTab(node-&gt;TabBar, window-&gt;TabId);</div>
<div class="line"><a id="l17751" name="l17751"></a><span class="lineno">17751</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> tab_count_threshold_for_tab_bar = node-&gt;IsCentralNode() ? 1 : 2;</div>
<div class="line"><a id="l17752" name="l17752"></a><span class="lineno">17752</span>        <span class="keywordflow">if</span> (node-&gt;Windows.Size &lt; tab_count_threshold_for_tab_bar)</div>
<div class="line"><a id="l17753" name="l17753"></a><span class="lineno">17753</span>            DockNodeRemoveTabBar(node);</div>
<div class="line"><a id="l17754" name="l17754"></a><span class="lineno">17754</span>    }</div>
<div class="line"><a id="l17755" name="l17755"></a><span class="lineno">17755</span> </div>
<div class="line"><a id="l17756" name="l17756"></a><span class="lineno">17756</span>    <span class="keywordflow">if</span> (node-&gt;Windows.Size == 0 &amp;&amp; !node-&gt;IsCentralNode() &amp;&amp; !node-&gt;IsDockSpace() &amp;&amp; window-&gt;DockId != node-&gt;ID)</div>
<div class="line"><a id="l17757" name="l17757"></a><span class="lineno">17757</span>    {</div>
<div class="line"><a id="l17758" name="l17758"></a><span class="lineno">17758</span>        <span class="comment">// Automatic dock node delete themselves if they are not holding at least one tab</span></div>
<div class="line"><a id="l17759" name="l17759"></a><span class="lineno">17759</span>        DockContextRemoveNode(&amp;g, node, <span class="keyword">true</span>);</div>
<div class="line"><a id="l17760" name="l17760"></a><span class="lineno">17760</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l17761" name="l17761"></a><span class="lineno">17761</span>    }</div>
<div class="line"><a id="l17762" name="l17762"></a><span class="lineno">17762</span> </div>
<div class="line"><a id="l17763" name="l17763"></a><span class="lineno">17763</span>    <span class="keywordflow">if</span> (node-&gt;Windows.Size == 1 &amp;&amp; !node-&gt;IsCentralNode() &amp;&amp; node-&gt;HostWindow)</div>
<div class="line"><a id="l17764" name="l17764"></a><span class="lineno">17764</span>    {</div>
<div class="line"><a id="l17765" name="l17765"></a><span class="lineno">17765</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* remaining_window = node-&gt;Windows[0];</div>
<div class="line"><a id="l17766" name="l17766"></a><span class="lineno">17766</span>        <span class="comment">// Note: we used to transport viewport ownership here.</span></div>
<div class="line"><a id="l17767" name="l17767"></a><span class="lineno">17767</span>        remaining_window-&gt;Collapsed = node-&gt;HostWindow-&gt;Collapsed;</div>
<div class="line"><a id="l17768" name="l17768"></a><span class="lineno">17768</span>    }</div>
<div class="line"><a id="l17769" name="l17769"></a><span class="lineno">17769</span> </div>
<div class="line"><a id="l17770" name="l17770"></a><span class="lineno">17770</span>    <span class="comment">// Update visibility immediately is required so the DockNodeUpdateRemoveInactiveChilds() processing can reflect changes up the tree</span></div>
<div class="line"><a id="l17771" name="l17771"></a><span class="lineno">17771</span>    DockNodeUpdateVisibleFlag(node);</div>
<div class="line"><a id="l17772" name="l17772"></a><span class="lineno">17772</span>}</div>
<div class="line"><a id="l17773" name="l17773"></a><span class="lineno">17773</span> </div>
<div class="line"><a id="l17774" name="l17774"></a><span class="lineno">17774</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::DockNodeMoveChildNodes(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* dst_node, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* src_node)</div>
<div class="line"><a id="l17775" name="l17775"></a><span class="lineno">17775</span>{</div>
<div class="line"><a id="l17776" name="l17776"></a><span class="lineno">17776</span>    IM_ASSERT(dst_node-&gt;Windows.Size == 0);</div>
<div class="line"><a id="l17777" name="l17777"></a><span class="lineno">17777</span>    dst_node-&gt;ChildNodes[0] = src_node-&gt;ChildNodes[0];</div>
<div class="line"><a id="l17778" name="l17778"></a><span class="lineno">17778</span>    dst_node-&gt;ChildNodes[1] = src_node-&gt;ChildNodes[1];</div>
<div class="line"><a id="l17779" name="l17779"></a><span class="lineno">17779</span>    <span class="keywordflow">if</span> (dst_node-&gt;ChildNodes[0])</div>
<div class="line"><a id="l17780" name="l17780"></a><span class="lineno">17780</span>        dst_node-&gt;ChildNodes[0]-&gt;ParentNode = dst_node;</div>
<div class="line"><a id="l17781" name="l17781"></a><span class="lineno">17781</span>    <span class="keywordflow">if</span> (dst_node-&gt;ChildNodes[1])</div>
<div class="line"><a id="l17782" name="l17782"></a><span class="lineno">17782</span>        dst_node-&gt;ChildNodes[1]-&gt;ParentNode = dst_node;</div>
<div class="line"><a id="l17783" name="l17783"></a><span class="lineno">17783</span>    dst_node-&gt;SplitAxis = src_node-&gt;SplitAxis;</div>
<div class="line"><a id="l17784" name="l17784"></a><span class="lineno">17784</span>    dst_node-&gt;SizeRef = src_node-&gt;SizeRef;</div>
<div class="line"><a id="l17785" name="l17785"></a><span class="lineno">17785</span>    src_node-&gt;ChildNodes[0] = src_node-&gt;ChildNodes[1] = NULL;</div>
<div class="line"><a id="l17786" name="l17786"></a><span class="lineno">17786</span>}</div>
<div class="line"><a id="l17787" name="l17787"></a><span class="lineno">17787</span> </div>
<div class="line"><a id="l17788" name="l17788"></a><span class="lineno">17788</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::DockNodeMoveWindows(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* dst_node, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* src_node)</div>
<div class="line"><a id="l17789" name="l17789"></a><span class="lineno">17789</span>{</div>
<div class="line"><a id="l17790" name="l17790"></a><span class="lineno">17790</span>    <span class="comment">// Insert tabs in the same orders as currently ordered (node-&gt;Windows isn&#39;t ordered)</span></div>
<div class="line"><a id="l17791" name="l17791"></a><span class="lineno">17791</span>    IM_ASSERT(src_node &amp;&amp; dst_node &amp;&amp; dst_node != src_node);</div>
<div class="line"><a id="l17792" name="l17792"></a><span class="lineno">17792</span>    <a class="code hl_struct" href="structImGuiTabBar.html">ImGuiTabBar</a>* src_tab_bar = src_node-&gt;TabBar;</div>
<div class="line"><a id="l17793" name="l17793"></a><span class="lineno">17793</span>    <span class="keywordflow">if</span> (src_tab_bar != NULL)</div>
<div class="line"><a id="l17794" name="l17794"></a><span class="lineno">17794</span>        IM_ASSERT(src_node-&gt;Windows.Size &lt;= src_node-&gt;TabBar-&gt;Tabs.Size);</div>
<div class="line"><a id="l17795" name="l17795"></a><span class="lineno">17795</span> </div>
<div class="line"><a id="l17796" name="l17796"></a><span class="lineno">17796</span>    <span class="comment">// If the dst_node is empty we can just move the entire tab bar (to preserve selection, scrolling, etc.)</span></div>
<div class="line"><a id="l17797" name="l17797"></a><span class="lineno">17797</span>    <span class="keywordtype">bool</span> move_tab_bar = (src_tab_bar != NULL) &amp;&amp; (dst_node-&gt;TabBar == NULL);</div>
<div class="line"><a id="l17798" name="l17798"></a><span class="lineno">17798</span>    <span class="keywordflow">if</span> (move_tab_bar)</div>
<div class="line"><a id="l17799" name="l17799"></a><span class="lineno">17799</span>    {</div>
<div class="line"><a id="l17800" name="l17800"></a><span class="lineno">17800</span>        dst_node-&gt;TabBar = src_node-&gt;TabBar;</div>
<div class="line"><a id="l17801" name="l17801"></a><span class="lineno">17801</span>        src_node-&gt;TabBar = NULL;</div>
<div class="line"><a id="l17802" name="l17802"></a><span class="lineno">17802</span>    }</div>
<div class="line"><a id="l17803" name="l17803"></a><span class="lineno">17803</span> </div>
<div class="line"><a id="l17804" name="l17804"></a><span class="lineno">17804</span>    <span class="comment">// Tab order is not important here, it is preserved by sorting in DockNodeUpdateTabBar().</span></div>
<div class="line"><a id="l17805" name="l17805"></a><span class="lineno">17805</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window : src_node-&gt;Windows)</div>
<div class="line"><a id="l17806" name="l17806"></a><span class="lineno">17806</span>    {</div>
<div class="line"><a id="l17807" name="l17807"></a><span class="lineno">17807</span>        window-&gt;DockNode = NULL;</div>
<div class="line"><a id="l17808" name="l17808"></a><span class="lineno">17808</span>        window-&gt;DockIsActive = <span class="keyword">false</span>;</div>
<div class="line"><a id="l17809" name="l17809"></a><span class="lineno">17809</span>        DockNodeAddWindow(dst_node, window, !move_tab_bar);</div>
<div class="line"><a id="l17810" name="l17810"></a><span class="lineno">17810</span>    }</div>
<div class="line"><a id="l17811" name="l17811"></a><span class="lineno">17811</span>    src_node-&gt;Windows.clear();</div>
<div class="line"><a id="l17812" name="l17812"></a><span class="lineno">17812</span> </div>
<div class="line"><a id="l17813" name="l17813"></a><span class="lineno">17813</span>    <span class="keywordflow">if</span> (!move_tab_bar &amp;&amp; src_node-&gt;TabBar)</div>
<div class="line"><a id="l17814" name="l17814"></a><span class="lineno">17814</span>    {</div>
<div class="line"><a id="l17815" name="l17815"></a><span class="lineno">17815</span>        <span class="keywordflow">if</span> (dst_node-&gt;TabBar)</div>
<div class="line"><a id="l17816" name="l17816"></a><span class="lineno">17816</span>            dst_node-&gt;TabBar-&gt;SelectedTabId = src_node-&gt;TabBar-&gt;SelectedTabId;</div>
<div class="line"><a id="l17817" name="l17817"></a><span class="lineno">17817</span>        DockNodeRemoveTabBar(src_node);</div>
<div class="line"><a id="l17818" name="l17818"></a><span class="lineno">17818</span>    }</div>
<div class="line"><a id="l17819" name="l17819"></a><span class="lineno">17819</span>}</div>
<div class="line"><a id="l17820" name="l17820"></a><span class="lineno">17820</span> </div>
<div class="line"><a id="l17821" name="l17821"></a><span class="lineno">17821</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::DockNodeApplyPosSizeToWindows(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node)</div>
<div class="line"><a id="l17822" name="l17822"></a><span class="lineno">17822</span>{</div>
<div class="line"><a id="l17823" name="l17823"></a><span class="lineno">17823</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window : node-&gt;Windows)</div>
<div class="line"><a id="l17824" name="l17824"></a><span class="lineno">17824</span>    {</div>
<div class="line"><a id="l17825" name="l17825"></a><span class="lineno">17825</span>        SetWindowPos(window, node-&gt;Pos, ImGuiCond_Always); <span class="comment">// We don&#39;t assign directly to Pos because it can break the calculation of SizeContents on next frame</span></div>
<div class="line"><a id="l17826" name="l17826"></a><span class="lineno">17826</span>        SetWindowSize(window, node-&gt;Size, ImGuiCond_Always);</div>
<div class="line"><a id="l17827" name="l17827"></a><span class="lineno">17827</span>    }</div>
<div class="line"><a id="l17828" name="l17828"></a><span class="lineno">17828</span>}</div>
<div class="line"><a id="l17829" name="l17829"></a><span class="lineno">17829</span> </div>
<div class="line"><a id="l17830" name="l17830"></a><span class="lineno">17830</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::DockNodeHideHostWindow(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node)</div>
<div class="line"><a id="l17831" name="l17831"></a><span class="lineno">17831</span>{</div>
<div class="line"><a id="l17832" name="l17832"></a><span class="lineno">17832</span>    <span class="keywordflow">if</span> (node-&gt;HostWindow)</div>
<div class="line"><a id="l17833" name="l17833"></a><span class="lineno">17833</span>    {</div>
<div class="line"><a id="l17834" name="l17834"></a><span class="lineno">17834</span>        <span class="keywordflow">if</span> (node-&gt;HostWindow-&gt;DockNodeAsHost == node)</div>
<div class="line"><a id="l17835" name="l17835"></a><span class="lineno">17835</span>            node-&gt;HostWindow-&gt;DockNodeAsHost = NULL;</div>
<div class="line"><a id="l17836" name="l17836"></a><span class="lineno">17836</span>        node-&gt;HostWindow = NULL;</div>
<div class="line"><a id="l17837" name="l17837"></a><span class="lineno">17837</span>    }</div>
<div class="line"><a id="l17838" name="l17838"></a><span class="lineno">17838</span> </div>
<div class="line"><a id="l17839" name="l17839"></a><span class="lineno">17839</span>    <span class="keywordflow">if</span> (node-&gt;Windows.Size == 1)</div>
<div class="line"><a id="l17840" name="l17840"></a><span class="lineno">17840</span>    {</div>
<div class="line"><a id="l17841" name="l17841"></a><span class="lineno">17841</span>        node-&gt;VisibleWindow = node-&gt;Windows[0];</div>
<div class="line"><a id="l17842" name="l17842"></a><span class="lineno">17842</span>        node-&gt;Windows[0]-&gt;DockIsActive = <span class="keyword">false</span>;</div>
<div class="line"><a id="l17843" name="l17843"></a><span class="lineno">17843</span>    }</div>
<div class="line"><a id="l17844" name="l17844"></a><span class="lineno">17844</span> </div>
<div class="line"><a id="l17845" name="l17845"></a><span class="lineno">17845</span>    <span class="keywordflow">if</span> (node-&gt;TabBar)</div>
<div class="line"><a id="l17846" name="l17846"></a><span class="lineno">17846</span>        DockNodeRemoveTabBar(node);</div>
<div class="line"><a id="l17847" name="l17847"></a><span class="lineno">17847</span>}</div>
<div class="line"><a id="l17848" name="l17848"></a><span class="lineno">17848</span> </div>
<div class="line"><a id="l17849" name="l17849"></a><span class="lineno">17849</span><span class="comment">// Search function called once by root node in DockNodeUpdate()</span></div>
<div class="foldopen" id="foldopen17850" data-start="{" data-end="};">
<div class="line"><a id="l17850" name="l17850"></a><span class="lineno"><a class="line" href="structImGuiDockNodeTreeInfo.html">17850</a></span><span class="keyword">struct </span><a class="code hl_struct" href="structImGuiDockNodeTreeInfo.html">ImGuiDockNodeTreeInfo</a></div>
<div class="line"><a id="l17851" name="l17851"></a><span class="lineno">17851</span>{</div>
<div class="line"><a id="l17852" name="l17852"></a><span class="lineno">17852</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>*      CentralNode;</div>
<div class="line"><a id="l17853" name="l17853"></a><span class="lineno">17853</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>*      FirstNodeWithWindows;</div>
<div class="line"><a id="l17854" name="l17854"></a><span class="lineno">17854</span>    <span class="keywordtype">int</span>                 CountNodesWithWindows;</div>
<div class="line"><a id="l17855" name="l17855"></a><span class="lineno">17855</span>    <span class="comment">//ImGuiWindowClass  WindowClassForMerges;</span></div>
<div class="line"><a id="l17856" name="l17856"></a><span class="lineno">17856</span> </div>
<div class="line"><a id="l17857" name="l17857"></a><span class="lineno">17857</span>    <a class="code hl_struct" href="structImGuiDockNodeTreeInfo.html">ImGuiDockNodeTreeInfo</a>() { memset(<span class="keyword">this</span>, 0, <span class="keyword">sizeof</span>(*<span class="keyword">this</span>)); }</div>
<div class="line"><a id="l17858" name="l17858"></a><span class="lineno">17858</span>};</div>
</div>
<div class="line"><a id="l17859" name="l17859"></a><span class="lineno">17859</span> </div>
<div class="line"><a id="l17860" name="l17860"></a><span class="lineno">17860</span><span class="keyword">static</span> <span class="keywordtype">void</span> DockNodeFindInfo(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node, <a class="code hl_struct" href="structImGuiDockNodeTreeInfo.html">ImGuiDockNodeTreeInfo</a>* info)</div>
<div class="line"><a id="l17861" name="l17861"></a><span class="lineno">17861</span>{</div>
<div class="line"><a id="l17862" name="l17862"></a><span class="lineno">17862</span>    <span class="keywordflow">if</span> (node-&gt;Windows.Size &gt; 0)</div>
<div class="line"><a id="l17863" name="l17863"></a><span class="lineno">17863</span>    {</div>
<div class="line"><a id="l17864" name="l17864"></a><span class="lineno">17864</span>        <span class="keywordflow">if</span> (info-&gt;FirstNodeWithWindows == NULL)</div>
<div class="line"><a id="l17865" name="l17865"></a><span class="lineno">17865</span>            info-&gt;FirstNodeWithWindows = node;</div>
<div class="line"><a id="l17866" name="l17866"></a><span class="lineno">17866</span>        info-&gt;CountNodesWithWindows++;</div>
<div class="line"><a id="l17867" name="l17867"></a><span class="lineno">17867</span>    }</div>
<div class="line"><a id="l17868" name="l17868"></a><span class="lineno">17868</span>    <span class="keywordflow">if</span> (node-&gt;IsCentralNode())</div>
<div class="line"><a id="l17869" name="l17869"></a><span class="lineno">17869</span>    {</div>
<div class="line"><a id="l17870" name="l17870"></a><span class="lineno">17870</span>        IM_ASSERT(info-&gt;CentralNode == NULL); <span class="comment">// Should be only one</span></div>
<div class="line"><a id="l17871" name="l17871"></a><span class="lineno">17871</span>        IM_ASSERT(node-&gt;IsLeafNode() &amp;&amp; <span class="stringliteral">&quot;If you get this assert: please submit .ini file + repro of actions leading to this.&quot;</span>);</div>
<div class="line"><a id="l17872" name="l17872"></a><span class="lineno">17872</span>        info-&gt;CentralNode = node;</div>
<div class="line"><a id="l17873" name="l17873"></a><span class="lineno">17873</span>    }</div>
<div class="line"><a id="l17874" name="l17874"></a><span class="lineno">17874</span>    <span class="keywordflow">if</span> (info-&gt;CountNodesWithWindows &gt; 1 &amp;&amp; info-&gt;CentralNode != NULL)</div>
<div class="line"><a id="l17875" name="l17875"></a><span class="lineno">17875</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l17876" name="l17876"></a><span class="lineno">17876</span>    <span class="keywordflow">if</span> (node-&gt;ChildNodes[0])</div>
<div class="line"><a id="l17877" name="l17877"></a><span class="lineno">17877</span>        DockNodeFindInfo(node-&gt;ChildNodes[0], info);</div>
<div class="line"><a id="l17878" name="l17878"></a><span class="lineno">17878</span>    <span class="keywordflow">if</span> (node-&gt;ChildNodes[1])</div>
<div class="line"><a id="l17879" name="l17879"></a><span class="lineno">17879</span>        DockNodeFindInfo(node-&gt;ChildNodes[1], info);</div>
<div class="line"><a id="l17880" name="l17880"></a><span class="lineno">17880</span>}</div>
<div class="line"><a id="l17881" name="l17881"></a><span class="lineno">17881</span> </div>
<div class="line"><a id="l17882" name="l17882"></a><span class="lineno">17882</span><span class="keyword">static</span> <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* ImGui::DockNodeFindWindowByID(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node, ImGuiID <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l17883" name="l17883"></a><span class="lineno">17883</span>{</div>
<div class="line"><a id="l17884" name="l17884"></a><span class="lineno">17884</span>    IM_ASSERT(<span class="keywordtype">id</span> != 0);</div>
<div class="line"><a id="l17885" name="l17885"></a><span class="lineno">17885</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window : node-&gt;Windows)</div>
<div class="line"><a id="l17886" name="l17886"></a><span class="lineno">17886</span>        if (window-&gt;ID == id)</div>
<div class="line"><a id="l17887" name="l17887"></a><span class="lineno">17887</span>            return window;</div>
<div class="line"><a id="l17888" name="l17888"></a><span class="lineno">17888</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l17889" name="l17889"></a><span class="lineno">17889</span>}</div>
<div class="line"><a id="l17890" name="l17890"></a><span class="lineno">17890</span> </div>
<div class="line"><a id="l17891" name="l17891"></a><span class="lineno">17891</span><span class="comment">// - Remove inactive windows/nodes.</span></div>
<div class="line"><a id="l17892" name="l17892"></a><span class="lineno">17892</span><span class="comment">// - Update visibility flag.</span></div>
<div class="line"><a id="l17893" name="l17893"></a><span class="lineno">17893</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::DockNodeUpdateFlagsAndCollapse(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node)</div>
<div class="line"><a id="l17894" name="l17894"></a><span class="lineno">17894</span>{</div>
<div class="line"><a id="l17895" name="l17895"></a><span class="lineno">17895</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l17896" name="l17896"></a><span class="lineno">17896</span>    IM_ASSERT(node-&gt;ParentNode == NULL || node-&gt;ParentNode-&gt;ChildNodes[0] == node || node-&gt;ParentNode-&gt;ChildNodes[1] == node);</div>
<div class="line"><a id="l17897" name="l17897"></a><span class="lineno">17897</span> </div>
<div class="line"><a id="l17898" name="l17898"></a><span class="lineno">17898</span>    <span class="comment">// Inherit most flags</span></div>
<div class="line"><a id="l17899" name="l17899"></a><span class="lineno">17899</span>    <span class="keywordflow">if</span> (node-&gt;ParentNode)</div>
<div class="line"><a id="l17900" name="l17900"></a><span class="lineno">17900</span>        node-&gt;SharedFlags = node-&gt;ParentNode-&gt;SharedFlags &amp; ImGuiDockNodeFlags_SharedFlagsInheritMask_;</div>
<div class="line"><a id="l17901" name="l17901"></a><span class="lineno">17901</span> </div>
<div class="line"><a id="l17902" name="l17902"></a><span class="lineno">17902</span>    <span class="comment">// Recurse into children</span></div>
<div class="line"><a id="l17903" name="l17903"></a><span class="lineno">17903</span>    <span class="comment">// There is the possibility that one of our child becoming empty will delete itself and moving its sibling contents into &#39;node&#39;.</span></div>
<div class="line"><a id="l17904" name="l17904"></a><span class="lineno">17904</span>    <span class="comment">// If &#39;node-&gt;ChildNode[0]&#39; delete itself, then &#39;node-&gt;ChildNode[1]-&gt;Windows&#39; will be moved into &#39;node&#39;</span></div>
<div class="line"><a id="l17905" name="l17905"></a><span class="lineno">17905</span>    <span class="comment">// If &#39;node-&gt;ChildNode[1]&#39; delete itself, then &#39;node-&gt;ChildNode[0]-&gt;Windows&#39; will be moved into &#39;node&#39; and the &quot;remove inactive windows&quot; loop will have run twice on those windows (harmless)</span></div>
<div class="line"><a id="l17906" name="l17906"></a><span class="lineno">17906</span>    node-&gt;HasCentralNodeChild = <span class="keyword">false</span>;</div>
<div class="line"><a id="l17907" name="l17907"></a><span class="lineno">17907</span>    <span class="keywordflow">if</span> (node-&gt;ChildNodes[0])</div>
<div class="line"><a id="l17908" name="l17908"></a><span class="lineno">17908</span>        DockNodeUpdateFlagsAndCollapse(node-&gt;ChildNodes[0]);</div>
<div class="line"><a id="l17909" name="l17909"></a><span class="lineno">17909</span>    <span class="keywordflow">if</span> (node-&gt;ChildNodes[1])</div>
<div class="line"><a id="l17910" name="l17910"></a><span class="lineno">17910</span>        DockNodeUpdateFlagsAndCollapse(node-&gt;ChildNodes[1]);</div>
<div class="line"><a id="l17911" name="l17911"></a><span class="lineno">17911</span> </div>
<div class="line"><a id="l17912" name="l17912"></a><span class="lineno">17912</span>    <span class="comment">// Remove inactive windows, collapse nodes</span></div>
<div class="line"><a id="l17913" name="l17913"></a><span class="lineno">17913</span>    <span class="comment">// Merge node flags overrides stored in windows</span></div>
<div class="line"><a id="l17914" name="l17914"></a><span class="lineno">17914</span>    node-&gt;LocalFlagsInWindows = ImGuiDockNodeFlags_None;</div>
<div class="line"><a id="l17915" name="l17915"></a><span class="lineno">17915</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> window_n = 0; window_n &lt; node-&gt;Windows.Size; window_n++)</div>
<div class="line"><a id="l17916" name="l17916"></a><span class="lineno">17916</span>    {</div>
<div class="line"><a id="l17917" name="l17917"></a><span class="lineno">17917</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = node-&gt;Windows[window_n];</div>
<div class="line"><a id="l17918" name="l17918"></a><span class="lineno">17918</span>        IM_ASSERT(window-&gt;DockNode == node);</div>
<div class="line"><a id="l17919" name="l17919"></a><span class="lineno">17919</span> </div>
<div class="line"><a id="l17920" name="l17920"></a><span class="lineno">17920</span>        <span class="keywordtype">bool</span> node_was_active = (node-&gt;LastFrameActive + 1 == g.FrameCount);</div>
<div class="line"><a id="l17921" name="l17921"></a><span class="lineno">17921</span>        <span class="keywordtype">bool</span> remove = <span class="keyword">false</span>;</div>
<div class="line"><a id="l17922" name="l17922"></a><span class="lineno">17922</span>        remove |= node_was_active &amp;&amp; (window-&gt;LastFrameActive + 1 &lt; g.FrameCount);</div>
<div class="line"><a id="l17923" name="l17923"></a><span class="lineno">17923</span>        remove |= node_was_active &amp;&amp; (node-&gt;WantCloseAll || node-&gt;WantCloseTabId == window-&gt;TabId) &amp;&amp; window-&gt;HasCloseButton &amp;&amp; !(window-&gt;Flags &amp; ImGuiWindowFlags_UnsavedDocument);  <span class="comment">// Submit all _expected_ closure from last frame</span></div>
<div class="line"><a id="l17924" name="l17924"></a><span class="lineno">17924</span>        remove |= (window-&gt;DockTabWantClose);</div>
<div class="line"><a id="l17925" name="l17925"></a><span class="lineno">17925</span>        <span class="keywordflow">if</span> (remove)</div>
<div class="line"><a id="l17926" name="l17926"></a><span class="lineno">17926</span>        {</div>
<div class="line"><a id="l17927" name="l17927"></a><span class="lineno">17927</span>            window-&gt;DockTabWantClose = <span class="keyword">false</span>;</div>
<div class="line"><a id="l17928" name="l17928"></a><span class="lineno">17928</span>            <span class="keywordflow">if</span> (node-&gt;Windows.Size == 1 &amp;&amp; !node-&gt;IsCentralNode())</div>
<div class="line"><a id="l17929" name="l17929"></a><span class="lineno">17929</span>            {</div>
<div class="line"><a id="l17930" name="l17930"></a><span class="lineno">17930</span>                DockNodeHideHostWindow(node);</div>
<div class="line"><a id="l17931" name="l17931"></a><span class="lineno">17931</span>                node-&gt;State = ImGuiDockNodeState_HostWindowHiddenBecauseSingleWindow;</div>
<div class="line"><a id="l17932" name="l17932"></a><span class="lineno">17932</span>                DockNodeRemoveWindow(node, window, node-&gt;ID); <span class="comment">// Will delete the node so it&#39;ll be invalid on return</span></div>
<div class="line"><a id="l17933" name="l17933"></a><span class="lineno">17933</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l17934" name="l17934"></a><span class="lineno">17934</span>            }</div>
<div class="line"><a id="l17935" name="l17935"></a><span class="lineno">17935</span>            DockNodeRemoveWindow(node, window, node-&gt;ID);</div>
<div class="line"><a id="l17936" name="l17936"></a><span class="lineno">17936</span>            window_n--;</div>
<div class="line"><a id="l17937" name="l17937"></a><span class="lineno">17937</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l17938" name="l17938"></a><span class="lineno">17938</span>        }</div>
<div class="line"><a id="l17939" name="l17939"></a><span class="lineno">17939</span> </div>
<div class="line"><a id="l17940" name="l17940"></a><span class="lineno">17940</span>        <span class="comment">// FIXME-DOCKING: Missing policies for conflict resolution, hence the &quot;Experimental&quot; tag on this.</span></div>
<div class="line"><a id="l17941" name="l17941"></a><span class="lineno">17941</span>        <span class="comment">//node-&gt;LocalFlagsInWindow &amp;= ~window-&gt;WindowClass.DockNodeFlagsOverrideClear;</span></div>
<div class="line"><a id="l17942" name="l17942"></a><span class="lineno">17942</span>        node-&gt;LocalFlagsInWindows |= window-&gt;WindowClass.DockNodeFlagsOverrideSet;</div>
<div class="line"><a id="l17943" name="l17943"></a><span class="lineno">17943</span>    }</div>
<div class="line"><a id="l17944" name="l17944"></a><span class="lineno">17944</span>    node-&gt;UpdateMergedFlags();</div>
<div class="line"><a id="l17945" name="l17945"></a><span class="lineno">17945</span> </div>
<div class="line"><a id="l17946" name="l17946"></a><span class="lineno">17946</span>    <span class="comment">// Auto-hide tab bar option</span></div>
<div class="line"><a id="l17947" name="l17947"></a><span class="lineno">17947</span>    ImGuiDockNodeFlags node_flags = node-&gt;MergedFlags;</div>
<div class="line"><a id="l17948" name="l17948"></a><span class="lineno">17948</span>    <span class="keywordflow">if</span> (node-&gt;WantHiddenTabBarUpdate &amp;&amp; node-&gt;Windows.Size == 1 &amp;&amp; (node_flags &amp; ImGuiDockNodeFlags_AutoHideTabBar) &amp;&amp; !node-&gt;IsHiddenTabBar())</div>
<div class="line"><a id="l17949" name="l17949"></a><span class="lineno">17949</span>        node-&gt;WantHiddenTabBarToggle = <span class="keyword">true</span>;</div>
<div class="line"><a id="l17950" name="l17950"></a><span class="lineno">17950</span>    node-&gt;WantHiddenTabBarUpdate = <span class="keyword">false</span>;</div>
<div class="line"><a id="l17951" name="l17951"></a><span class="lineno">17951</span> </div>
<div class="line"><a id="l17952" name="l17952"></a><span class="lineno">17952</span>    <span class="comment">// Cancel toggling if we know our tab bar is enforced to be hidden at all times</span></div>
<div class="line"><a id="l17953" name="l17953"></a><span class="lineno">17953</span>    <span class="keywordflow">if</span> (node-&gt;WantHiddenTabBarToggle &amp;&amp; node-&gt;VisibleWindow &amp;&amp; (node-&gt;VisibleWindow-&gt;WindowClass.DockNodeFlagsOverrideSet &amp; ImGuiDockNodeFlags_HiddenTabBar))</div>
<div class="line"><a id="l17954" name="l17954"></a><span class="lineno">17954</span>        node-&gt;WantHiddenTabBarToggle = <span class="keyword">false</span>;</div>
<div class="line"><a id="l17955" name="l17955"></a><span class="lineno">17955</span> </div>
<div class="line"><a id="l17956" name="l17956"></a><span class="lineno">17956</span>    <span class="comment">// Apply toggles at a single point of the frame (here!)</span></div>
<div class="line"><a id="l17957" name="l17957"></a><span class="lineno">17957</span>    <span class="keywordflow">if</span> (node-&gt;Windows.Size &gt; 1)</div>
<div class="line"><a id="l17958" name="l17958"></a><span class="lineno">17958</span>        node-&gt;SetLocalFlags(node-&gt;LocalFlags &amp; ~ImGuiDockNodeFlags_HiddenTabBar);</div>
<div class="line"><a id="l17959" name="l17959"></a><span class="lineno">17959</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (node-&gt;WantHiddenTabBarToggle)</div>
<div class="line"><a id="l17960" name="l17960"></a><span class="lineno">17960</span>        node-&gt;SetLocalFlags(node-&gt;LocalFlags ^ ImGuiDockNodeFlags_HiddenTabBar);</div>
<div class="line"><a id="l17961" name="l17961"></a><span class="lineno">17961</span>    node-&gt;WantHiddenTabBarToggle = <span class="keyword">false</span>;</div>
<div class="line"><a id="l17962" name="l17962"></a><span class="lineno">17962</span> </div>
<div class="line"><a id="l17963" name="l17963"></a><span class="lineno">17963</span>    DockNodeUpdateVisibleFlag(node);</div>
<div class="line"><a id="l17964" name="l17964"></a><span class="lineno">17964</span>}</div>
<div class="line"><a id="l17965" name="l17965"></a><span class="lineno">17965</span> </div>
<div class="line"><a id="l17966" name="l17966"></a><span class="lineno">17966</span><span class="comment">// This is rarely called as DockNodeUpdateForRootNode() generally does it most frames.</span></div>
<div class="line"><a id="l17967" name="l17967"></a><span class="lineno">17967</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::DockNodeUpdateHasCentralNodeChild(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node)</div>
<div class="line"><a id="l17968" name="l17968"></a><span class="lineno">17968</span>{</div>
<div class="line"><a id="l17969" name="l17969"></a><span class="lineno">17969</span>    node-&gt;HasCentralNodeChild = <span class="keyword">false</span>;</div>
<div class="line"><a id="l17970" name="l17970"></a><span class="lineno">17970</span>    <span class="keywordflow">if</span> (node-&gt;ChildNodes[0])</div>
<div class="line"><a id="l17971" name="l17971"></a><span class="lineno">17971</span>        DockNodeUpdateHasCentralNodeChild(node-&gt;ChildNodes[0]);</div>
<div class="line"><a id="l17972" name="l17972"></a><span class="lineno">17972</span>    <span class="keywordflow">if</span> (node-&gt;ChildNodes[1])</div>
<div class="line"><a id="l17973" name="l17973"></a><span class="lineno">17973</span>        DockNodeUpdateHasCentralNodeChild(node-&gt;ChildNodes[1]);</div>
<div class="line"><a id="l17974" name="l17974"></a><span class="lineno">17974</span>    <span class="keywordflow">if</span> (node-&gt;IsRootNode())</div>
<div class="line"><a id="l17975" name="l17975"></a><span class="lineno">17975</span>    {</div>
<div class="line"><a id="l17976" name="l17976"></a><span class="lineno">17976</span>        <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* mark_node = node-&gt;CentralNode;</div>
<div class="line"><a id="l17977" name="l17977"></a><span class="lineno">17977</span>        <span class="keywordflow">while</span> (mark_node)</div>
<div class="line"><a id="l17978" name="l17978"></a><span class="lineno">17978</span>        {</div>
<div class="line"><a id="l17979" name="l17979"></a><span class="lineno">17979</span>            mark_node-&gt;HasCentralNodeChild = <span class="keyword">true</span>;</div>
<div class="line"><a id="l17980" name="l17980"></a><span class="lineno">17980</span>            mark_node = mark_node-&gt;ParentNode;</div>
<div class="line"><a id="l17981" name="l17981"></a><span class="lineno">17981</span>        }</div>
<div class="line"><a id="l17982" name="l17982"></a><span class="lineno">17982</span>    }</div>
<div class="line"><a id="l17983" name="l17983"></a><span class="lineno">17983</span>}</div>
<div class="line"><a id="l17984" name="l17984"></a><span class="lineno">17984</span> </div>
<div class="line"><a id="l17985" name="l17985"></a><span class="lineno">17985</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::DockNodeUpdateVisibleFlag(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node)</div>
<div class="line"><a id="l17986" name="l17986"></a><span class="lineno">17986</span>{</div>
<div class="line"><a id="l17987" name="l17987"></a><span class="lineno">17987</span>    <span class="comment">// Update visibility flag</span></div>
<div class="line"><a id="l17988" name="l17988"></a><span class="lineno">17988</span>    <span class="keywordtype">bool</span> is_visible = (node-&gt;ParentNode == NULL) ? node-&gt;IsDockSpace() : node-&gt;IsCentralNode();</div>
<div class="line"><a id="l17989" name="l17989"></a><span class="lineno">17989</span>    is_visible |= (node-&gt;Windows.Size &gt; 0);</div>
<div class="line"><a id="l17990" name="l17990"></a><span class="lineno">17990</span>    is_visible |= (node-&gt;ChildNodes[0] &amp;&amp; node-&gt;ChildNodes[0]-&gt;IsVisible);</div>
<div class="line"><a id="l17991" name="l17991"></a><span class="lineno">17991</span>    is_visible |= (node-&gt;ChildNodes[1] &amp;&amp; node-&gt;ChildNodes[1]-&gt;IsVisible);</div>
<div class="line"><a id="l17992" name="l17992"></a><span class="lineno">17992</span>    node-&gt;IsVisible = is_visible;</div>
<div class="line"><a id="l17993" name="l17993"></a><span class="lineno">17993</span>}</div>
<div class="line"><a id="l17994" name="l17994"></a><span class="lineno">17994</span> </div>
<div class="line"><a id="l17995" name="l17995"></a><span class="lineno">17995</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::DockNodeStartMouseMovingWindow(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l17996" name="l17996"></a><span class="lineno">17996</span>{</div>
<div class="line"><a id="l17997" name="l17997"></a><span class="lineno">17997</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l17998" name="l17998"></a><span class="lineno">17998</span>    IM_ASSERT(node-&gt;WantMouseMove == <span class="keyword">true</span>);</div>
<div class="line"><a id="l17999" name="l17999"></a><span class="lineno">17999</span>    StartMouseMovingWindow(window);</div>
<div class="line"><a id="l18000" name="l18000"></a><span class="lineno">18000</span>    g.ActiveIdClickOffset = g.IO.MouseClickedPos[0] - node-&gt;Pos;</div>
<div class="line"><a id="l18001" name="l18001"></a><span class="lineno">18001</span>    g.MovingWindow = window; <span class="comment">// If we are docked into a non moveable root window, StartMouseMovingWindow() won&#39;t set g.MovingWindow. Override that decision.</span></div>
<div class="line"><a id="l18002" name="l18002"></a><span class="lineno">18002</span>    node-&gt;WantMouseMove = <span class="keyword">false</span>;</div>
<div class="line"><a id="l18003" name="l18003"></a><span class="lineno">18003</span>}</div>
<div class="line"><a id="l18004" name="l18004"></a><span class="lineno">18004</span> </div>
<div class="line"><a id="l18005" name="l18005"></a><span class="lineno">18005</span><span class="comment">// Update CentralNode, OnlyNodeWithWindows, LastFocusedNodeID. Copy window class.</span></div>
<div class="line"><a id="l18006" name="l18006"></a><span class="lineno">18006</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::DockNodeUpdateForRootNode(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node)</div>
<div class="line"><a id="l18007" name="l18007"></a><span class="lineno">18007</span>{</div>
<div class="line"><a id="l18008" name="l18008"></a><span class="lineno">18008</span>    DockNodeUpdateFlagsAndCollapse(node);</div>
<div class="line"><a id="l18009" name="l18009"></a><span class="lineno">18009</span> </div>
<div class="line"><a id="l18010" name="l18010"></a><span class="lineno">18010</span>    <span class="comment">// - Setup central node pointers</span></div>
<div class="line"><a id="l18011" name="l18011"></a><span class="lineno">18011</span>    <span class="comment">// - Find if there&#39;s only a single visible window in the hierarchy (in which case we need to display a regular title bar -&gt; FIXME-DOCK: that last part is not done yet!)</span></div>
<div class="line"><a id="l18012" name="l18012"></a><span class="lineno">18012</span>    <span class="comment">// Cannot merge this with DockNodeUpdateFlagsAndCollapse() because FirstNodeWithWindows is found after window removal and child collapsing</span></div>
<div class="line"><a id="l18013" name="l18013"></a><span class="lineno">18013</span>    <a class="code hl_struct" href="structImGuiDockNodeTreeInfo.html">ImGuiDockNodeTreeInfo</a> info;</div>
<div class="line"><a id="l18014" name="l18014"></a><span class="lineno">18014</span>    DockNodeFindInfo(node, &amp;info);</div>
<div class="line"><a id="l18015" name="l18015"></a><span class="lineno">18015</span>    node-&gt;CentralNode = info.CentralNode;</div>
<div class="line"><a id="l18016" name="l18016"></a><span class="lineno">18016</span>    node-&gt;OnlyNodeWithWindows = (info.CountNodesWithWindows == 1) ? info.FirstNodeWithWindows : NULL;</div>
<div class="line"><a id="l18017" name="l18017"></a><span class="lineno">18017</span>    node-&gt;CountNodeWithWindows = info.CountNodesWithWindows;</div>
<div class="line"><a id="l18018" name="l18018"></a><span class="lineno">18018</span>    <span class="keywordflow">if</span> (node-&gt;LastFocusedNodeId == 0 &amp;&amp; info.FirstNodeWithWindows != NULL)</div>
<div class="line"><a id="l18019" name="l18019"></a><span class="lineno">18019</span>        node-&gt;LastFocusedNodeId = info.FirstNodeWithWindows-&gt;ID;</div>
<div class="line"><a id="l18020" name="l18020"></a><span class="lineno">18020</span> </div>
<div class="line"><a id="l18021" name="l18021"></a><span class="lineno">18021</span>    <span class="comment">// Copy the window class from of our first window so it can be used for proper dock filtering.</span></div>
<div class="line"><a id="l18022" name="l18022"></a><span class="lineno">18022</span>    <span class="comment">// When node has mixed windows, prioritize the class with the most constraint (DockingAllowUnclassed = false) as the reference to copy.</span></div>
<div class="line"><a id="l18023" name="l18023"></a><span class="lineno">18023</span>    <span class="comment">// FIXME-DOCK: We don&#39;t recurse properly, this code could be reworked to work from DockNodeUpdateScanRec.</span></div>
<div class="line"><a id="l18024" name="l18024"></a><span class="lineno">18024</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* first_node_with_windows = info.FirstNodeWithWindows)</div>
<div class="line"><a id="l18025" name="l18025"></a><span class="lineno">18025</span>    {</div>
<div class="line"><a id="l18026" name="l18026"></a><span class="lineno">18026</span>        node-&gt;WindowClass = first_node_with_windows-&gt;Windows[0]-&gt;WindowClass;</div>
<div class="line"><a id="l18027" name="l18027"></a><span class="lineno">18027</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 1; n &lt; first_node_with_windows-&gt;Windows.Size; n++)</div>
<div class="line"><a id="l18028" name="l18028"></a><span class="lineno">18028</span>            <span class="keywordflow">if</span> (first_node_with_windows-&gt;Windows[n]-&gt;WindowClass.DockingAllowUnclassed == <span class="keyword">false</span>)</div>
<div class="line"><a id="l18029" name="l18029"></a><span class="lineno">18029</span>            {</div>
<div class="line"><a id="l18030" name="l18030"></a><span class="lineno">18030</span>                node-&gt;WindowClass = first_node_with_windows-&gt;Windows[n]-&gt;WindowClass;</div>
<div class="line"><a id="l18031" name="l18031"></a><span class="lineno">18031</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l18032" name="l18032"></a><span class="lineno">18032</span>            }</div>
<div class="line"><a id="l18033" name="l18033"></a><span class="lineno">18033</span>    }</div>
<div class="line"><a id="l18034" name="l18034"></a><span class="lineno">18034</span> </div>
<div class="line"><a id="l18035" name="l18035"></a><span class="lineno">18035</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* mark_node = node-&gt;CentralNode;</div>
<div class="line"><a id="l18036" name="l18036"></a><span class="lineno">18036</span>    <span class="keywordflow">while</span> (mark_node)</div>
<div class="line"><a id="l18037" name="l18037"></a><span class="lineno">18037</span>    {</div>
<div class="line"><a id="l18038" name="l18038"></a><span class="lineno">18038</span>        mark_node-&gt;HasCentralNodeChild = <span class="keyword">true</span>;</div>
<div class="line"><a id="l18039" name="l18039"></a><span class="lineno">18039</span>        mark_node = mark_node-&gt;ParentNode;</div>
<div class="line"><a id="l18040" name="l18040"></a><span class="lineno">18040</span>    }</div>
<div class="line"><a id="l18041" name="l18041"></a><span class="lineno">18041</span>}</div>
<div class="line"><a id="l18042" name="l18042"></a><span class="lineno">18042</span> </div>
<div class="line"><a id="l18043" name="l18043"></a><span class="lineno">18043</span><span class="keyword">static</span> <span class="keywordtype">void</span> DockNodeSetupHostWindow(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* host_window)</div>
<div class="line"><a id="l18044" name="l18044"></a><span class="lineno">18044</span>{</div>
<div class="line"><a id="l18045" name="l18045"></a><span class="lineno">18045</span>    <span class="comment">// Remove ourselves from any previous different host window</span></div>
<div class="line"><a id="l18046" name="l18046"></a><span class="lineno">18046</span>    <span class="comment">// This can happen if a user mistakenly does (see #4295 for details):</span></div>
<div class="line"><a id="l18047" name="l18047"></a><span class="lineno">18047</span>    <span class="comment">//  - N+0: DockBuilderAddNode(id, 0)    // missing ImGuiDockNodeFlags_DockSpace</span></div>
<div class="line"><a id="l18048" name="l18048"></a><span class="lineno">18048</span>    <span class="comment">//  - N+1: NewFrame()                   // will create floating host window for that node</span></div>
<div class="line"><a id="l18049" name="l18049"></a><span class="lineno">18049</span>    <span class="comment">//  - N+1: DockSpace(id)                // requalify node as dockspace, moving host window</span></div>
<div class="line"><a id="l18050" name="l18050"></a><span class="lineno">18050</span>    <span class="keywordflow">if</span> (node-&gt;HostWindow &amp;&amp; node-&gt;HostWindow != host_window &amp;&amp; node-&gt;HostWindow-&gt;DockNodeAsHost == node)</div>
<div class="line"><a id="l18051" name="l18051"></a><span class="lineno">18051</span>        node-&gt;HostWindow-&gt;DockNodeAsHost = NULL;</div>
<div class="line"><a id="l18052" name="l18052"></a><span class="lineno">18052</span> </div>
<div class="line"><a id="l18053" name="l18053"></a><span class="lineno">18053</span>    host_window-&gt;DockNodeAsHost = node;</div>
<div class="line"><a id="l18054" name="l18054"></a><span class="lineno">18054</span>    node-&gt;HostWindow = host_window;</div>
<div class="line"><a id="l18055" name="l18055"></a><span class="lineno">18055</span>}</div>
<div class="line"><a id="l18056" name="l18056"></a><span class="lineno">18056</span> </div>
<div class="line"><a id="l18057" name="l18057"></a><span class="lineno">18057</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::DockNodeUpdate(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node)</div>
<div class="line"><a id="l18058" name="l18058"></a><span class="lineno">18058</span>{</div>
<div class="line"><a id="l18059" name="l18059"></a><span class="lineno">18059</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l18060" name="l18060"></a><span class="lineno">18060</span>    IM_ASSERT(node-&gt;LastFrameActive != g.FrameCount);</div>
<div class="line"><a id="l18061" name="l18061"></a><span class="lineno">18061</span>    node-&gt;LastFrameAlive = g.FrameCount;</div>
<div class="line"><a id="l18062" name="l18062"></a><span class="lineno">18062</span>    node-&gt;IsBgDrawnThisFrame = <span class="keyword">false</span>;</div>
<div class="line"><a id="l18063" name="l18063"></a><span class="lineno">18063</span> </div>
<div class="line"><a id="l18064" name="l18064"></a><span class="lineno">18064</span>    node-&gt;CentralNode = node-&gt;OnlyNodeWithWindows = NULL;</div>
<div class="line"><a id="l18065" name="l18065"></a><span class="lineno">18065</span>    <span class="keywordflow">if</span> (node-&gt;IsRootNode())</div>
<div class="line"><a id="l18066" name="l18066"></a><span class="lineno">18066</span>        DockNodeUpdateForRootNode(node);</div>
<div class="line"><a id="l18067" name="l18067"></a><span class="lineno">18067</span> </div>
<div class="line"><a id="l18068" name="l18068"></a><span class="lineno">18068</span>    <span class="comment">// Remove tab bar if not needed</span></div>
<div class="line"><a id="l18069" name="l18069"></a><span class="lineno">18069</span>    <span class="keywordflow">if</span> (node-&gt;TabBar &amp;&amp; node-&gt;IsNoTabBar())</div>
<div class="line"><a id="l18070" name="l18070"></a><span class="lineno">18070</span>        DockNodeRemoveTabBar(node);</div>
<div class="line"><a id="l18071" name="l18071"></a><span class="lineno">18071</span> </div>
<div class="line"><a id="l18072" name="l18072"></a><span class="lineno">18072</span>    <span class="comment">// Early out for hidden root dock nodes (when all DockId references are in inactive windows, or there is only 1 floating window holding on the DockId)</span></div>
<div class="line"><a id="l18073" name="l18073"></a><span class="lineno">18073</span>    <span class="keywordtype">bool</span> want_to_hide_host_window = <span class="keyword">false</span>;</div>
<div class="line"><a id="l18074" name="l18074"></a><span class="lineno">18074</span>    <span class="keywordflow">if</span> (node-&gt;IsFloatingNode())</div>
<div class="line"><a id="l18075" name="l18075"></a><span class="lineno">18075</span>    {</div>
<div class="line"><a id="l18076" name="l18076"></a><span class="lineno">18076</span>        <span class="keywordflow">if</span> (node-&gt;Windows.Size &lt;= 1 &amp;&amp; node-&gt;IsLeafNode())</div>
<div class="line"><a id="l18077" name="l18077"></a><span class="lineno">18077</span>            <span class="keywordflow">if</span> (!g.IO.ConfigDockingAlwaysTabBar &amp;&amp; (node-&gt;Windows.Size == 0 || !node-&gt;Windows[0]-&gt;WindowClass.DockingAlwaysTabBar))</div>
<div class="line"><a id="l18078" name="l18078"></a><span class="lineno">18078</span>                want_to_hide_host_window = <span class="keyword">true</span>;</div>
<div class="line"><a id="l18079" name="l18079"></a><span class="lineno">18079</span>        <span class="keywordflow">if</span> (node-&gt;CountNodeWithWindows == 0)</div>
<div class="line"><a id="l18080" name="l18080"></a><span class="lineno">18080</span>            want_to_hide_host_window = <span class="keyword">true</span>;</div>
<div class="line"><a id="l18081" name="l18081"></a><span class="lineno">18081</span>    }</div>
<div class="line"><a id="l18082" name="l18082"></a><span class="lineno">18082</span>    <span class="keywordflow">if</span> (want_to_hide_host_window)</div>
<div class="line"><a id="l18083" name="l18083"></a><span class="lineno">18083</span>    {</div>
<div class="line"><a id="l18084" name="l18084"></a><span class="lineno">18084</span>        <span class="keywordflow">if</span> (node-&gt;Windows.Size == 1)</div>
<div class="line"><a id="l18085" name="l18085"></a><span class="lineno">18085</span>        {</div>
<div class="line"><a id="l18086" name="l18086"></a><span class="lineno">18086</span>            <span class="comment">// Floating window pos/size is authoritative</span></div>
<div class="line"><a id="l18087" name="l18087"></a><span class="lineno">18087</span>            <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* single_window = node-&gt;Windows[0];</div>
<div class="line"><a id="l18088" name="l18088"></a><span class="lineno">18088</span>            node-&gt;Pos = single_window-&gt;Pos;</div>
<div class="line"><a id="l18089" name="l18089"></a><span class="lineno">18089</span>            node-&gt;Size = single_window-&gt;SizeFull;</div>
<div class="line"><a id="l18090" name="l18090"></a><span class="lineno">18090</span>            node-&gt;AuthorityForPos = node-&gt;AuthorityForSize = node-&gt;AuthorityForViewport = ImGuiDataAuthority_Window;</div>
<div class="line"><a id="l18091" name="l18091"></a><span class="lineno">18091</span> </div>
<div class="line"><a id="l18092" name="l18092"></a><span class="lineno">18092</span>            <span class="comment">// Transfer focus immediately so when we revert to a regular window it is immediately selected</span></div>
<div class="line"><a id="l18093" name="l18093"></a><span class="lineno">18093</span>            <span class="keywordflow">if</span> (node-&gt;HostWindow &amp;&amp; g.NavWindow == node-&gt;HostWindow)</div>
<div class="line"><a id="l18094" name="l18094"></a><span class="lineno">18094</span>                FocusWindow(single_window);</div>
<div class="line"><a id="l18095" name="l18095"></a><span class="lineno">18095</span>            <span class="keywordflow">if</span> (node-&gt;HostWindow)</div>
<div class="line"><a id="l18096" name="l18096"></a><span class="lineno">18096</span>            {</div>
<div class="line"><a id="l18097" name="l18097"></a><span class="lineno">18097</span>                IMGUI_DEBUG_LOG_VIEWPORT(<span class="stringliteral">&quot;[viewport] Node %08X transfer Viewport %08X-&gt;%08X to Window &#39;%s&#39;\n&quot;</span>, node-&gt;ID, node-&gt;HostWindow-&gt;Viewport-&gt;ID, single_window-&gt;ID, single_window-&gt;Name);</div>
<div class="line"><a id="l18098" name="l18098"></a><span class="lineno">18098</span>                single_window-&gt;Viewport = node-&gt;HostWindow-&gt;Viewport;</div>
<div class="line"><a id="l18099" name="l18099"></a><span class="lineno">18099</span>                single_window-&gt;ViewportId = node-&gt;HostWindow-&gt;ViewportId;</div>
<div class="line"><a id="l18100" name="l18100"></a><span class="lineno">18100</span>                <span class="keywordflow">if</span> (node-&gt;HostWindow-&gt;ViewportOwned)</div>
<div class="line"><a id="l18101" name="l18101"></a><span class="lineno">18101</span>                {</div>
<div class="line"><a id="l18102" name="l18102"></a><span class="lineno">18102</span>                    single_window-&gt;Viewport-&gt;ID = single_window-&gt;ID;</div>
<div class="line"><a id="l18103" name="l18103"></a><span class="lineno">18103</span>                    single_window-&gt;Viewport-&gt;Window = single_window;</div>
<div class="line"><a id="l18104" name="l18104"></a><span class="lineno">18104</span>                    single_window-&gt;ViewportOwned = <span class="keyword">true</span>;</div>
<div class="line"><a id="l18105" name="l18105"></a><span class="lineno">18105</span>                }</div>
<div class="line"><a id="l18106" name="l18106"></a><span class="lineno">18106</span>            }</div>
<div class="line"><a id="l18107" name="l18107"></a><span class="lineno">18107</span>            node-&gt;RefViewportId = single_window-&gt;ViewportId;</div>
<div class="line"><a id="l18108" name="l18108"></a><span class="lineno">18108</span>        }</div>
<div class="line"><a id="l18109" name="l18109"></a><span class="lineno">18109</span> </div>
<div class="line"><a id="l18110" name="l18110"></a><span class="lineno">18110</span>        DockNodeHideHostWindow(node);</div>
<div class="line"><a id="l18111" name="l18111"></a><span class="lineno">18111</span>        node-&gt;State = ImGuiDockNodeState_HostWindowHiddenBecauseSingleWindow;</div>
<div class="line"><a id="l18112" name="l18112"></a><span class="lineno">18112</span>        node-&gt;WantCloseAll = <span class="keyword">false</span>;</div>
<div class="line"><a id="l18113" name="l18113"></a><span class="lineno">18113</span>        node-&gt;WantCloseTabId = 0;</div>
<div class="line"><a id="l18114" name="l18114"></a><span class="lineno">18114</span>        node-&gt;HasCloseButton = node-&gt;HasWindowMenuButton = <span class="keyword">false</span>;</div>
<div class="line"><a id="l18115" name="l18115"></a><span class="lineno">18115</span>        node-&gt;LastFrameActive = g.FrameCount;</div>
<div class="line"><a id="l18116" name="l18116"></a><span class="lineno">18116</span> </div>
<div class="line"><a id="l18117" name="l18117"></a><span class="lineno">18117</span>        <span class="keywordflow">if</span> (node-&gt;WantMouseMove &amp;&amp; node-&gt;Windows.Size == 1)</div>
<div class="line"><a id="l18118" name="l18118"></a><span class="lineno">18118</span>            DockNodeStartMouseMovingWindow(node, node-&gt;Windows[0]);</div>
<div class="line"><a id="l18119" name="l18119"></a><span class="lineno">18119</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l18120" name="l18120"></a><span class="lineno">18120</span>    }</div>
<div class="line"><a id="l18121" name="l18121"></a><span class="lineno">18121</span> </div>
<div class="line"><a id="l18122" name="l18122"></a><span class="lineno">18122</span>    <span class="comment">// In some circumstance we will defer creating the host window (so everything will be kept hidden),</span></div>
<div class="line"><a id="l18123" name="l18123"></a><span class="lineno">18123</span>    <span class="comment">// while the expected visible window is resizing itself.</span></div>
<div class="line"><a id="l18124" name="l18124"></a><span class="lineno">18124</span>    <span class="comment">// This is important for first-time (no ini settings restored) single window when io.ConfigDockingAlwaysTabBar is enabled,</span></div>
<div class="line"><a id="l18125" name="l18125"></a><span class="lineno">18125</span>    <span class="comment">// otherwise the node ends up using the minimum window size. Effectively those windows will take an extra frame to show up:</span></div>
<div class="line"><a id="l18126" name="l18126"></a><span class="lineno">18126</span>    <span class="comment">//   N+0: Begin(): window created (with no known size), node is created</span></div>
<div class="line"><a id="l18127" name="l18127"></a><span class="lineno">18127</span>    <span class="comment">//   N+1: DockNodeUpdate(): node skip creating host window / Begin(): window size applied, not visible</span></div>
<div class="line"><a id="l18128" name="l18128"></a><span class="lineno">18128</span>    <span class="comment">//   N+2: DockNodeUpdate(): node can create host window / Begin(): window becomes visible</span></div>
<div class="line"><a id="l18129" name="l18129"></a><span class="lineno">18129</span>    <span class="comment">// We could remove this frame if we could reliably calculate the expected window size during node update, before the Begin() code.</span></div>
<div class="line"><a id="l18130" name="l18130"></a><span class="lineno">18130</span>    <span class="comment">// It would require a generalization of CalcWindowExpectedSize(), probably extracting code away from Begin().</span></div>
<div class="line"><a id="l18131" name="l18131"></a><span class="lineno">18131</span>    <span class="comment">// In reality it isn&#39;t very important as user quickly ends up with size data in .ini file.</span></div>
<div class="line"><a id="l18132" name="l18132"></a><span class="lineno">18132</span>    <span class="keywordflow">if</span> (node-&gt;IsVisible &amp;&amp; node-&gt;HostWindow == NULL &amp;&amp; node-&gt;IsFloatingNode() &amp;&amp; node-&gt;IsLeafNode())</div>
<div class="line"><a id="l18133" name="l18133"></a><span class="lineno">18133</span>    {</div>
<div class="line"><a id="l18134" name="l18134"></a><span class="lineno">18134</span>        IM_ASSERT(node-&gt;Windows.Size &gt; 0);</div>
<div class="line"><a id="l18135" name="l18135"></a><span class="lineno">18135</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* ref_window = NULL;</div>
<div class="line"><a id="l18136" name="l18136"></a><span class="lineno">18136</span>        <span class="keywordflow">if</span> (node-&gt;SelectedTabId != 0) <span class="comment">// Note that we prune single-window-node settings on .ini loading, so this is generally 0 for them!</span></div>
<div class="line"><a id="l18137" name="l18137"></a><span class="lineno">18137</span>            ref_window = DockNodeFindWindowByID(node, node-&gt;SelectedTabId);</div>
<div class="line"><a id="l18138" name="l18138"></a><span class="lineno">18138</span>        <span class="keywordflow">if</span> (ref_window == NULL)</div>
<div class="line"><a id="l18139" name="l18139"></a><span class="lineno">18139</span>            ref_window = node-&gt;Windows[0];</div>
<div class="line"><a id="l18140" name="l18140"></a><span class="lineno">18140</span>        <span class="keywordflow">if</span> (ref_window-&gt;AutoFitFramesX &gt; 0 || ref_window-&gt;AutoFitFramesY &gt; 0)</div>
<div class="line"><a id="l18141" name="l18141"></a><span class="lineno">18141</span>        {</div>
<div class="line"><a id="l18142" name="l18142"></a><span class="lineno">18142</span>            node-&gt;State = ImGuiDockNodeState_HostWindowHiddenBecauseWindowsAreResizing;</div>
<div class="line"><a id="l18143" name="l18143"></a><span class="lineno">18143</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l18144" name="l18144"></a><span class="lineno">18144</span>        }</div>
<div class="line"><a id="l18145" name="l18145"></a><span class="lineno">18145</span>    }</div>
<div class="line"><a id="l18146" name="l18146"></a><span class="lineno">18146</span> </div>
<div class="line"><a id="l18147" name="l18147"></a><span class="lineno">18147</span>    <span class="keyword">const</span> ImGuiDockNodeFlags node_flags = node-&gt;MergedFlags;</div>
<div class="line"><a id="l18148" name="l18148"></a><span class="lineno">18148</span> </div>
<div class="line"><a id="l18149" name="l18149"></a><span class="lineno">18149</span>    <span class="comment">// Decide if the node will have a close button and a window menu button</span></div>
<div class="line"><a id="l18150" name="l18150"></a><span class="lineno">18150</span>    node-&gt;HasWindowMenuButton = (node-&gt;Windows.Size &gt; 0) &amp;&amp; (node_flags &amp; ImGuiDockNodeFlags_NoWindowMenuButton) == 0;</div>
<div class="line"><a id="l18151" name="l18151"></a><span class="lineno">18151</span>    node-&gt;HasCloseButton = <span class="keyword">false</span>;</div>
<div class="line"><a id="l18152" name="l18152"></a><span class="lineno">18152</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window : node-&gt;Windows)</div>
<div class="line"><a id="l18153" name="l18153"></a><span class="lineno">18153</span>    {</div>
<div class="line"><a id="l18154" name="l18154"></a><span class="lineno">18154</span>        <span class="comment">// FIXME-DOCK: Setting DockIsActive here means that for single active window in a leaf node, DockIsActive will be cleared until the next Begin() call.</span></div>
<div class="line"><a id="l18155" name="l18155"></a><span class="lineno">18155</span>        node-&gt;HasCloseButton |= window-&gt;HasCloseButton;</div>
<div class="line"><a id="l18156" name="l18156"></a><span class="lineno">18156</span>        window-&gt;DockIsActive = (node-&gt;Windows.Size &gt; 1);</div>
<div class="line"><a id="l18157" name="l18157"></a><span class="lineno">18157</span>    }</div>
<div class="line"><a id="l18158" name="l18158"></a><span class="lineno">18158</span>    <span class="keywordflow">if</span> (node_flags &amp; ImGuiDockNodeFlags_NoCloseButton)</div>
<div class="line"><a id="l18159" name="l18159"></a><span class="lineno">18159</span>        node-&gt;HasCloseButton = <span class="keyword">false</span>;</div>
<div class="line"><a id="l18160" name="l18160"></a><span class="lineno">18160</span> </div>
<div class="line"><a id="l18161" name="l18161"></a><span class="lineno">18161</span>    <span class="comment">// Bind or create host window</span></div>
<div class="line"><a id="l18162" name="l18162"></a><span class="lineno">18162</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* host_window = NULL;</div>
<div class="line"><a id="l18163" name="l18163"></a><span class="lineno">18163</span>    <span class="keywordtype">bool</span> beginned_into_host_window = <span class="keyword">false</span>;</div>
<div class="line"><a id="l18164" name="l18164"></a><span class="lineno">18164</span>    <span class="keywordflow">if</span> (node-&gt;IsDockSpace())</div>
<div class="line"><a id="l18165" name="l18165"></a><span class="lineno">18165</span>    {</div>
<div class="line"><a id="l18166" name="l18166"></a><span class="lineno">18166</span>        <span class="comment">// [Explicit root dockspace node]</span></div>
<div class="line"><a id="l18167" name="l18167"></a><span class="lineno">18167</span>        IM_ASSERT(node-&gt;HostWindow);</div>
<div class="line"><a id="l18168" name="l18168"></a><span class="lineno">18168</span>        host_window = node-&gt;HostWindow;</div>
<div class="line"><a id="l18169" name="l18169"></a><span class="lineno">18169</span>    }</div>
<div class="line"><a id="l18170" name="l18170"></a><span class="lineno">18170</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l18171" name="l18171"></a><span class="lineno">18171</span>    {</div>
<div class="line"><a id="l18172" name="l18172"></a><span class="lineno">18172</span>        <span class="comment">// [Automatic root or child nodes]</span></div>
<div class="line"><a id="l18173" name="l18173"></a><span class="lineno">18173</span>        <span class="keywordflow">if</span> (node-&gt;IsRootNode() &amp;&amp; node-&gt;IsVisible)</div>
<div class="line"><a id="l18174" name="l18174"></a><span class="lineno">18174</span>        {</div>
<div class="line"><a id="l18175" name="l18175"></a><span class="lineno">18175</span>            <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* ref_window = (node-&gt;Windows.Size &gt; 0) ? node-&gt;Windows[0] : NULL;</div>
<div class="line"><a id="l18176" name="l18176"></a><span class="lineno">18176</span> </div>
<div class="line"><a id="l18177" name="l18177"></a><span class="lineno">18177</span>            <span class="comment">// Sync Pos</span></div>
<div class="line"><a id="l18178" name="l18178"></a><span class="lineno">18178</span>            <span class="keywordflow">if</span> (node-&gt;AuthorityForPos == ImGuiDataAuthority_Window &amp;&amp; ref_window)</div>
<div class="line"><a id="l18179" name="l18179"></a><span class="lineno">18179</span>                SetNextWindowPos(ref_window-&gt;Pos);</div>
<div class="line"><a id="l18180" name="l18180"></a><span class="lineno">18180</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (node-&gt;AuthorityForPos == ImGuiDataAuthority_DockNode)</div>
<div class="line"><a id="l18181" name="l18181"></a><span class="lineno">18181</span>                SetNextWindowPos(node-&gt;Pos);</div>
<div class="line"><a id="l18182" name="l18182"></a><span class="lineno">18182</span> </div>
<div class="line"><a id="l18183" name="l18183"></a><span class="lineno">18183</span>            <span class="comment">// Sync Size</span></div>
<div class="line"><a id="l18184" name="l18184"></a><span class="lineno">18184</span>            <span class="keywordflow">if</span> (node-&gt;AuthorityForSize == ImGuiDataAuthority_Window &amp;&amp; ref_window)</div>
<div class="line"><a id="l18185" name="l18185"></a><span class="lineno">18185</span>                SetNextWindowSize(ref_window-&gt;SizeFull);</div>
<div class="line"><a id="l18186" name="l18186"></a><span class="lineno">18186</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (node-&gt;AuthorityForSize == ImGuiDataAuthority_DockNode)</div>
<div class="line"><a id="l18187" name="l18187"></a><span class="lineno">18187</span>                SetNextWindowSize(node-&gt;Size);</div>
<div class="line"><a id="l18188" name="l18188"></a><span class="lineno">18188</span> </div>
<div class="line"><a id="l18189" name="l18189"></a><span class="lineno">18189</span>            <span class="comment">// Sync Collapsed</span></div>
<div class="line"><a id="l18190" name="l18190"></a><span class="lineno">18190</span>            <span class="keywordflow">if</span> (node-&gt;AuthorityForSize == ImGuiDataAuthority_Window &amp;&amp; ref_window)</div>
<div class="line"><a id="l18191" name="l18191"></a><span class="lineno">18191</span>                SetNextWindowCollapsed(ref_window-&gt;Collapsed);</div>
<div class="line"><a id="l18192" name="l18192"></a><span class="lineno">18192</span> </div>
<div class="line"><a id="l18193" name="l18193"></a><span class="lineno">18193</span>            <span class="comment">// Sync Viewport</span></div>
<div class="line"><a id="l18194" name="l18194"></a><span class="lineno">18194</span>            <span class="keywordflow">if</span> (node-&gt;AuthorityForViewport == ImGuiDataAuthority_Window &amp;&amp; ref_window)</div>
<div class="line"><a id="l18195" name="l18195"></a><span class="lineno">18195</span>                SetNextWindowViewport(ref_window-&gt;ViewportId);</div>
<div class="line"><a id="l18196" name="l18196"></a><span class="lineno">18196</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (node-&gt;AuthorityForViewport == ImGuiDataAuthority_Window &amp;&amp; node-&gt;RefViewportId != 0)</div>
<div class="line"><a id="l18197" name="l18197"></a><span class="lineno">18197</span>                SetNextWindowViewport(node-&gt;RefViewportId);</div>
<div class="line"><a id="l18198" name="l18198"></a><span class="lineno">18198</span> </div>
<div class="line"><a id="l18199" name="l18199"></a><span class="lineno">18199</span>            SetNextWindowClass(&amp;node-&gt;WindowClass);</div>
<div class="line"><a id="l18200" name="l18200"></a><span class="lineno">18200</span> </div>
<div class="line"><a id="l18201" name="l18201"></a><span class="lineno">18201</span>            <span class="comment">// Begin into the host window</span></div>
<div class="line"><a id="l18202" name="l18202"></a><span class="lineno">18202</span>            <span class="keywordtype">char</span> window_label[20];</div>
<div class="line"><a id="l18203" name="l18203"></a><span class="lineno">18203</span>            DockNodeGetHostWindowTitle(node, window_label, IM_ARRAYSIZE(window_label));</div>
<div class="line"><a id="l18204" name="l18204"></a><span class="lineno">18204</span>            ImGuiWindowFlags window_flags = ImGuiWindowFlags_NoScrollbar | ImGuiWindowFlags_NoScrollWithMouse | ImGuiWindowFlags_DockNodeHost;</div>
<div class="line"><a id="l18205" name="l18205"></a><span class="lineno">18205</span>            window_flags |= ImGuiWindowFlags_NoFocusOnAppearing;</div>
<div class="line"><a id="l18206" name="l18206"></a><span class="lineno">18206</span>            window_flags |= ImGuiWindowFlags_NoSavedSettings | ImGuiWindowFlags_NoNavFocus | ImGuiWindowFlags_NoCollapse;</div>
<div class="line"><a id="l18207" name="l18207"></a><span class="lineno">18207</span>            window_flags |= ImGuiWindowFlags_NoTitleBar;</div>
<div class="line"><a id="l18208" name="l18208"></a><span class="lineno">18208</span> </div>
<div class="line"><a id="l18209" name="l18209"></a><span class="lineno">18209</span>            SetNextWindowBgAlpha(0.0f); <span class="comment">// Don&#39;t set ImGuiWindowFlags_NoBackground because it disables borders</span></div>
<div class="line"><a id="l18210" name="l18210"></a><span class="lineno">18210</span>            PushStyleVar(ImGuiStyleVar_WindowPadding, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0, 0));</div>
<div class="line"><a id="l18211" name="l18211"></a><span class="lineno">18211</span>            Begin(window_label, NULL, window_flags);</div>
<div class="line"><a id="l18212" name="l18212"></a><span class="lineno">18212</span>            PopStyleVar();</div>
<div class="line"><a id="l18213" name="l18213"></a><span class="lineno">18213</span>            beginned_into_host_window = <span class="keyword">true</span>;</div>
<div class="line"><a id="l18214" name="l18214"></a><span class="lineno">18214</span> </div>
<div class="line"><a id="l18215" name="l18215"></a><span class="lineno">18215</span>            host_window = g.CurrentWindow;</div>
<div class="line"><a id="l18216" name="l18216"></a><span class="lineno">18216</span>            DockNodeSetupHostWindow(node, host_window);</div>
<div class="line"><a id="l18217" name="l18217"></a><span class="lineno">18217</span>            host_window-&gt;DC.CursorPos = host_window-&gt;Pos;</div>
<div class="line"><a id="l18218" name="l18218"></a><span class="lineno">18218</span>            node-&gt;Pos = host_window-&gt;Pos;</div>
<div class="line"><a id="l18219" name="l18219"></a><span class="lineno">18219</span>            node-&gt;Size = host_window-&gt;Size;</div>
<div class="line"><a id="l18220" name="l18220"></a><span class="lineno">18220</span> </div>
<div class="line"><a id="l18221" name="l18221"></a><span class="lineno">18221</span>            <span class="comment">// We set ImGuiWindowFlags_NoFocusOnAppearing because we don&#39;t want the host window to take full focus (e.g. steal NavWindow)</span></div>
<div class="line"><a id="l18222" name="l18222"></a><span class="lineno">18222</span>            <span class="comment">// But we still it bring it to the front of display. There&#39;s no way to choose this precise behavior via window flags.</span></div>
<div class="line"><a id="l18223" name="l18223"></a><span class="lineno">18223</span>            <span class="comment">// One simple case to ponder if: window A has a toggle to create windows B/C/D. Dock B/C/D together, clear the toggle and enable it again.</span></div>
<div class="line"><a id="l18224" name="l18224"></a><span class="lineno">18224</span>            <span class="comment">// When reappearing B/C/D will request focus and be moved to the top of the display pile, but they are not linked to the dock host window</span></div>
<div class="line"><a id="l18225" name="l18225"></a><span class="lineno">18225</span>            <span class="comment">// during the frame they appear. The dock host window would keep its old display order, and the sorting in EndFrame would move B/C/D back</span></div>
<div class="line"><a id="l18226" name="l18226"></a><span class="lineno">18226</span>            <span class="comment">// after the dock host window, losing their top-most status.</span></div>
<div class="line"><a id="l18227" name="l18227"></a><span class="lineno">18227</span>            <span class="keywordflow">if</span> (node-&gt;HostWindow-&gt;Appearing)</div>
<div class="line"><a id="l18228" name="l18228"></a><span class="lineno">18228</span>                BringWindowToDisplayFront(node-&gt;HostWindow);</div>
<div class="line"><a id="l18229" name="l18229"></a><span class="lineno">18229</span> </div>
<div class="line"><a id="l18230" name="l18230"></a><span class="lineno">18230</span>            node-&gt;AuthorityForPos = node-&gt;AuthorityForSize = node-&gt;AuthorityForViewport = ImGuiDataAuthority_Auto;</div>
<div class="line"><a id="l18231" name="l18231"></a><span class="lineno">18231</span>        }</div>
<div class="line"><a id="l18232" name="l18232"></a><span class="lineno">18232</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (node-&gt;ParentNode)</div>
<div class="line"><a id="l18233" name="l18233"></a><span class="lineno">18233</span>        {</div>
<div class="line"><a id="l18234" name="l18234"></a><span class="lineno">18234</span>            node-&gt;HostWindow = host_window = node-&gt;ParentNode-&gt;HostWindow;</div>
<div class="line"><a id="l18235" name="l18235"></a><span class="lineno">18235</span>            node-&gt;AuthorityForPos = node-&gt;AuthorityForSize = node-&gt;AuthorityForViewport = ImGuiDataAuthority_Auto;</div>
<div class="line"><a id="l18236" name="l18236"></a><span class="lineno">18236</span>        }</div>
<div class="line"><a id="l18237" name="l18237"></a><span class="lineno">18237</span>        <span class="keywordflow">if</span> (node-&gt;WantMouseMove &amp;&amp; node-&gt;HostWindow)</div>
<div class="line"><a id="l18238" name="l18238"></a><span class="lineno">18238</span>            DockNodeStartMouseMovingWindow(node, node-&gt;HostWindow);</div>
<div class="line"><a id="l18239" name="l18239"></a><span class="lineno">18239</span>    }</div>
<div class="line"><a id="l18240" name="l18240"></a><span class="lineno">18240</span>    node-&gt;RefViewportId = 0; <span class="comment">// Clear when we have a host window</span></div>
<div class="line"><a id="l18241" name="l18241"></a><span class="lineno">18241</span> </div>
<div class="line"><a id="l18242" name="l18242"></a><span class="lineno">18242</span>    <span class="comment">// Update focused node (the one whose title bar is highlight) within a node tree</span></div>
<div class="line"><a id="l18243" name="l18243"></a><span class="lineno">18243</span>    <span class="keywordflow">if</span> (node-&gt;IsSplitNode())</div>
<div class="line"><a id="l18244" name="l18244"></a><span class="lineno">18244</span>        IM_ASSERT(node-&gt;TabBar == NULL);</div>
<div class="line"><a id="l18245" name="l18245"></a><span class="lineno">18245</span>    <span class="keywordflow">if</span> (node-&gt;IsRootNode())</div>
<div class="line"><a id="l18246" name="l18246"></a><span class="lineno">18246</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* p_window = g.NavWindow ? g.NavWindow-&gt;RootWindow : NULL)</div>
<div class="line"><a id="l18247" name="l18247"></a><span class="lineno">18247</span>            while (p_window != NULL &amp;&amp; p_window-&gt;DockNode != NULL)</div>
<div class="line"><a id="l18248" name="l18248"></a><span class="lineno">18248</span>            {</div>
<div class="line"><a id="l18249" name="l18249"></a><span class="lineno">18249</span>                <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* p_node = DockNodeGetRootNode(p_window-&gt;DockNode);</div>
<div class="line"><a id="l18250" name="l18250"></a><span class="lineno">18250</span>                <span class="keywordflow">if</span> (p_node == node)</div>
<div class="line"><a id="l18251" name="l18251"></a><span class="lineno">18251</span>                {</div>
<div class="line"><a id="l18252" name="l18252"></a><span class="lineno">18252</span>                    node-&gt;LastFocusedNodeId = p_window-&gt;DockNode-&gt;ID; <span class="comment">// Note: not using root node ID!</span></div>
<div class="line"><a id="l18253" name="l18253"></a><span class="lineno">18253</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l18254" name="l18254"></a><span class="lineno">18254</span>                }</div>
<div class="line"><a id="l18255" name="l18255"></a><span class="lineno">18255</span>                p_window = p_node-&gt;HostWindow ? p_node-&gt;HostWindow-&gt;RootWindow : NULL;</div>
<div class="line"><a id="l18256" name="l18256"></a><span class="lineno">18256</span>            }</div>
<div class="line"><a id="l18257" name="l18257"></a><span class="lineno">18257</span> </div>
<div class="line"><a id="l18258" name="l18258"></a><span class="lineno">18258</span>    <span class="comment">// Register a hit-test hole in the window unless we are currently dragging a window that is compatible with our dockspace</span></div>
<div class="line"><a id="l18259" name="l18259"></a><span class="lineno">18259</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* central_node = node-&gt;CentralNode;</div>
<div class="line"><a id="l18260" name="l18260"></a><span class="lineno">18260</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> central_node_hole = node-&gt;IsRootNode() &amp;&amp; host_window &amp;&amp; (node_flags &amp; ImGuiDockNodeFlags_PassthruCentralNode) != 0 &amp;&amp; central_node != NULL &amp;&amp; central_node-&gt;IsEmpty();</div>
<div class="line"><a id="l18261" name="l18261"></a><span class="lineno">18261</span>    <span class="keywordtype">bool</span> central_node_hole_register_hit_test_hole = central_node_hole;</div>
<div class="line"><a id="l18262" name="l18262"></a><span class="lineno">18262</span>    <span class="keywordflow">if</span> (central_node_hole)</div>
<div class="line"><a id="l18263" name="l18263"></a><span class="lineno">18263</span>        <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code hl_struct" href="structImGuiPayload.html">ImGuiPayload</a>* payload = ImGui::GetDragDropPayload())</div>
<div class="line"><a id="l18264" name="l18264"></a><span class="lineno">18264</span>            <span class="keywordflow">if</span> (payload-&gt;IsDataType(IMGUI_PAYLOAD_TYPE_WINDOW) &amp;&amp; DockNodeIsDropAllowed(host_window, *(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>**)payload-&gt;Data))</div>
<div class="line"><a id="l18265" name="l18265"></a><span class="lineno">18265</span>                central_node_hole_register_hit_test_hole = <span class="keyword">false</span>;</div>
<div class="line"><a id="l18266" name="l18266"></a><span class="lineno">18266</span>    <span class="keywordflow">if</span> (central_node_hole_register_hit_test_hole)</div>
<div class="line"><a id="l18267" name="l18267"></a><span class="lineno">18267</span>    {</div>
<div class="line"><a id="l18268" name="l18268"></a><span class="lineno">18268</span>        <span class="comment">// We add a little padding to match the &quot;resize from edges&quot; behavior and allow grabbing the splitter easily.</span></div>
<div class="line"><a id="l18269" name="l18269"></a><span class="lineno">18269</span>        <span class="comment">// (But we only add it if there&#39;s something else on the other side of the hole, otherwise for e.g. fullscreen</span></div>
<div class="line"><a id="l18270" name="l18270"></a><span class="lineno">18270</span>        <span class="comment">// covering passthru node we&#39;d have a gap on the edge not covered by the hole)</span></div>
<div class="line"><a id="l18271" name="l18271"></a><span class="lineno">18271</span>        IM_ASSERT(node-&gt;IsDockSpace()); <span class="comment">// We cannot pass this flag without the DockSpace() api. Testing this because we also setup the hole in host_window-&gt;ParentNode</span></div>
<div class="line"><a id="l18272" name="l18272"></a><span class="lineno">18272</span>        <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* root_node = DockNodeGetRootNode(central_node);</div>
<div class="line"><a id="l18273" name="l18273"></a><span class="lineno">18273</span>        <a class="code hl_struct" href="structImRect.html">ImRect</a> root_rect(root_node-&gt;Pos, root_node-&gt;Pos + root_node-&gt;Size);</div>
<div class="line"><a id="l18274" name="l18274"></a><span class="lineno">18274</span>        <a class="code hl_struct" href="structImRect.html">ImRect</a> hole_rect(central_node-&gt;Pos, central_node-&gt;Pos + central_node-&gt;Size);</div>
<div class="line"><a id="l18275" name="l18275"></a><span class="lineno">18275</span>        <span class="keywordflow">if</span> (hole_rect.Min.x &gt; root_rect.Min.x) { hole_rect.Min.x += g.WindowsBorderHoverPadding; }</div>
<div class="line"><a id="l18276" name="l18276"></a><span class="lineno">18276</span>        <span class="keywordflow">if</span> (hole_rect.Max.x &lt; root_rect.Max.x) { hole_rect.Max.x -= g.WindowsBorderHoverPadding; }</div>
<div class="line"><a id="l18277" name="l18277"></a><span class="lineno">18277</span>        <span class="keywordflow">if</span> (hole_rect.Min.y &gt; root_rect.Min.y) { hole_rect.Min.y += g.WindowsBorderHoverPadding; }</div>
<div class="line"><a id="l18278" name="l18278"></a><span class="lineno">18278</span>        <span class="keywordflow">if</span> (hole_rect.Max.y &lt; root_rect.Max.y) { hole_rect.Max.y -= g.WindowsBorderHoverPadding; }</div>
<div class="line"><a id="l18279" name="l18279"></a><span class="lineno">18279</span>        <span class="comment">//GetForegroundDrawList()-&gt;AddRect(hole_rect.Min, hole_rect.Max, IM_COL32(255, 0, 0, 255));</span></div>
<div class="line"><a id="l18280" name="l18280"></a><span class="lineno">18280</span>        <span class="keywordflow">if</span> (central_node_hole &amp;&amp; !hole_rect.IsInverted())</div>
<div class="line"><a id="l18281" name="l18281"></a><span class="lineno">18281</span>        {</div>
<div class="line"><a id="l18282" name="l18282"></a><span class="lineno">18282</span>            SetWindowHitTestHole(host_window, hole_rect.Min, hole_rect.Max - hole_rect.Min);</div>
<div class="line"><a id="l18283" name="l18283"></a><span class="lineno">18283</span>            <span class="keywordflow">if</span> (host_window-&gt;ParentWindow)</div>
<div class="line"><a id="l18284" name="l18284"></a><span class="lineno">18284</span>                SetWindowHitTestHole(host_window-&gt;ParentWindow, hole_rect.Min, hole_rect.Max - hole_rect.Min);</div>
<div class="line"><a id="l18285" name="l18285"></a><span class="lineno">18285</span>        }</div>
<div class="line"><a id="l18286" name="l18286"></a><span class="lineno">18286</span>    }</div>
<div class="line"><a id="l18287" name="l18287"></a><span class="lineno">18287</span> </div>
<div class="line"><a id="l18288" name="l18288"></a><span class="lineno">18288</span>    <span class="comment">// Update position/size, process and draw resizing splitters</span></div>
<div class="line"><a id="l18289" name="l18289"></a><span class="lineno">18289</span>    <span class="keywordflow">if</span> (node-&gt;IsRootNode() &amp;&amp; host_window)</div>
<div class="line"><a id="l18290" name="l18290"></a><span class="lineno">18290</span>    {</div>
<div class="line"><a id="l18291" name="l18291"></a><span class="lineno">18291</span>        DockNodeTreeUpdatePosSize(node, host_window-&gt;Pos, host_window-&gt;Size);</div>
<div class="line"><a id="l18292" name="l18292"></a><span class="lineno">18292</span>        PushStyleColor(ImGuiCol_Separator, g.Style.Colors[ImGuiCol_Border]);</div>
<div class="line"><a id="l18293" name="l18293"></a><span class="lineno">18293</span>        PushStyleColor(ImGuiCol_SeparatorActive, g.Style.Colors[ImGuiCol_ResizeGripActive]);</div>
<div class="line"><a id="l18294" name="l18294"></a><span class="lineno">18294</span>        PushStyleColor(ImGuiCol_SeparatorHovered, g.Style.Colors[ImGuiCol_ResizeGripHovered]);</div>
<div class="line"><a id="l18295" name="l18295"></a><span class="lineno">18295</span>        DockNodeTreeUpdateSplitter(node);</div>
<div class="line"><a id="l18296" name="l18296"></a><span class="lineno">18296</span>        PopStyleColor(3);</div>
<div class="line"><a id="l18297" name="l18297"></a><span class="lineno">18297</span>    }</div>
<div class="line"><a id="l18298" name="l18298"></a><span class="lineno">18298</span> </div>
<div class="line"><a id="l18299" name="l18299"></a><span class="lineno">18299</span>    <span class="comment">// Draw empty node background (currently can only be the Central Node)</span></div>
<div class="line"><a id="l18300" name="l18300"></a><span class="lineno">18300</span>    <span class="keywordflow">if</span> (host_window &amp;&amp; node-&gt;IsEmpty() &amp;&amp; node-&gt;IsVisible)</div>
<div class="line"><a id="l18301" name="l18301"></a><span class="lineno">18301</span>    {</div>
<div class="line"><a id="l18302" name="l18302"></a><span class="lineno">18302</span>        host_window-&gt;DrawList-&gt;ChannelsSetCurrent(DOCKING_HOST_DRAW_CHANNEL_BG);</div>
<div class="line"><a id="l18303" name="l18303"></a><span class="lineno">18303</span>        node-&gt;LastBgColor = (node_flags &amp; ImGuiDockNodeFlags_PassthruCentralNode) ? 0 : GetColorU32(ImGuiCol_DockingEmptyBg);</div>
<div class="line"><a id="l18304" name="l18304"></a><span class="lineno">18304</span>        <span class="keywordflow">if</span> (node-&gt;LastBgColor != 0)</div>
<div class="line"><a id="l18305" name="l18305"></a><span class="lineno">18305</span>            host_window-&gt;DrawList-&gt;AddRectFilled(node-&gt;Pos, node-&gt;Pos + node-&gt;Size, node-&gt;LastBgColor);</div>
<div class="line"><a id="l18306" name="l18306"></a><span class="lineno">18306</span>        node-&gt;IsBgDrawnThisFrame = <span class="keyword">true</span>;</div>
<div class="line"><a id="l18307" name="l18307"></a><span class="lineno">18307</span>    }</div>
<div class="line"><a id="l18308" name="l18308"></a><span class="lineno">18308</span> </div>
<div class="line"><a id="l18309" name="l18309"></a><span class="lineno">18309</span>    <span class="comment">// Draw whole dockspace background if ImGuiDockNodeFlags_PassthruCentralNode if set.</span></div>
<div class="line"><a id="l18310" name="l18310"></a><span class="lineno">18310</span>    <span class="comment">// We need to draw a background at the root level if requested by ImGuiDockNodeFlags_PassthruCentralNode, but we will only know the correct pos/size</span></div>
<div class="line"><a id="l18311" name="l18311"></a><span class="lineno">18311</span>    <span class="comment">// _after_ processing the resizing splitters. So we are using the DrawList channel splitting facility to submit drawing primitives out of order!</span></div>
<div class="line"><a id="l18312" name="l18312"></a><span class="lineno">18312</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> render_dockspace_bg = node-&gt;IsRootNode() &amp;&amp; host_window &amp;&amp; (node_flags &amp; ImGuiDockNodeFlags_PassthruCentralNode) != 0;</div>
<div class="line"><a id="l18313" name="l18313"></a><span class="lineno">18313</span>    <span class="keywordflow">if</span> (render_dockspace_bg &amp;&amp; node-&gt;IsVisible)</div>
<div class="line"><a id="l18314" name="l18314"></a><span class="lineno">18314</span>    {</div>
<div class="line"><a id="l18315" name="l18315"></a><span class="lineno">18315</span>        host_window-&gt;DrawList-&gt;ChannelsSetCurrent(DOCKING_HOST_DRAW_CHANNEL_BG);</div>
<div class="line"><a id="l18316" name="l18316"></a><span class="lineno">18316</span>        <span class="keywordflow">if</span> (central_node_hole)</div>
<div class="line"><a id="l18317" name="l18317"></a><span class="lineno">18317</span>            RenderRectFilledWithHole(host_window-&gt;DrawList, node-&gt;Rect(), central_node-&gt;Rect(), GetColorU32(ImGuiCol_WindowBg), 0.0f);</div>
<div class="line"><a id="l18318" name="l18318"></a><span class="lineno">18318</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l18319" name="l18319"></a><span class="lineno">18319</span>            host_window-&gt;DrawList-&gt;AddRectFilled(node-&gt;Pos, node-&gt;Pos + node-&gt;Size, GetColorU32(ImGuiCol_WindowBg), 0.0f);</div>
<div class="line"><a id="l18320" name="l18320"></a><span class="lineno">18320</span>    }</div>
<div class="line"><a id="l18321" name="l18321"></a><span class="lineno">18321</span> </div>
<div class="line"><a id="l18322" name="l18322"></a><span class="lineno">18322</span>    <span class="comment">// Draw and populate Tab Bar</span></div>
<div class="line"><a id="l18323" name="l18323"></a><span class="lineno">18323</span>    <span class="keywordflow">if</span> (host_window)</div>
<div class="line"><a id="l18324" name="l18324"></a><span class="lineno">18324</span>        host_window-&gt;DrawList-&gt;ChannelsSetCurrent(DOCKING_HOST_DRAW_CHANNEL_FG);</div>
<div class="line"><a id="l18325" name="l18325"></a><span class="lineno">18325</span>    <span class="keywordflow">if</span> (host_window &amp;&amp; node-&gt;Windows.Size &gt; 0)</div>
<div class="line"><a id="l18326" name="l18326"></a><span class="lineno">18326</span>    {</div>
<div class="line"><a id="l18327" name="l18327"></a><span class="lineno">18327</span>        DockNodeUpdateTabBar(node, host_window);</div>
<div class="line"><a id="l18328" name="l18328"></a><span class="lineno">18328</span>    }</div>
<div class="line"><a id="l18329" name="l18329"></a><span class="lineno">18329</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l18330" name="l18330"></a><span class="lineno">18330</span>    {</div>
<div class="line"><a id="l18331" name="l18331"></a><span class="lineno">18331</span>        node-&gt;WantCloseAll = <span class="keyword">false</span>;</div>
<div class="line"><a id="l18332" name="l18332"></a><span class="lineno">18332</span>        node-&gt;WantCloseTabId = 0;</div>
<div class="line"><a id="l18333" name="l18333"></a><span class="lineno">18333</span>        node-&gt;IsFocused = <span class="keyword">false</span>;</div>
<div class="line"><a id="l18334" name="l18334"></a><span class="lineno">18334</span>    }</div>
<div class="line"><a id="l18335" name="l18335"></a><span class="lineno">18335</span>    <span class="keywordflow">if</span> (node-&gt;TabBar &amp;&amp; node-&gt;TabBar-&gt;SelectedTabId)</div>
<div class="line"><a id="l18336" name="l18336"></a><span class="lineno">18336</span>        node-&gt;SelectedTabId = node-&gt;TabBar-&gt;SelectedTabId;</div>
<div class="line"><a id="l18337" name="l18337"></a><span class="lineno">18337</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (node-&gt;Windows.Size &gt; 0)</div>
<div class="line"><a id="l18338" name="l18338"></a><span class="lineno">18338</span>        node-&gt;SelectedTabId = node-&gt;Windows[0]-&gt;TabId;</div>
<div class="line"><a id="l18339" name="l18339"></a><span class="lineno">18339</span> </div>
<div class="line"><a id="l18340" name="l18340"></a><span class="lineno">18340</span>    <span class="comment">// Draw payload drop target</span></div>
<div class="line"><a id="l18341" name="l18341"></a><span class="lineno">18341</span>    <span class="keywordflow">if</span> (host_window &amp;&amp; node-&gt;IsVisible)</div>
<div class="line"><a id="l18342" name="l18342"></a><span class="lineno">18342</span>        <span class="keywordflow">if</span> (node-&gt;IsRootNode() &amp;&amp; (g.MovingWindow == NULL || g.MovingWindow-&gt;RootWindowDockTree != host_window))</div>
<div class="line"><a id="l18343" name="l18343"></a><span class="lineno">18343</span>            BeginDockableDragDropTarget(host_window);</div>
<div class="line"><a id="l18344" name="l18344"></a><span class="lineno">18344</span> </div>
<div class="line"><a id="l18345" name="l18345"></a><span class="lineno">18345</span>    <span class="comment">// We update this after DockNodeUpdateTabBar()</span></div>
<div class="line"><a id="l18346" name="l18346"></a><span class="lineno">18346</span>    node-&gt;LastFrameActive = g.FrameCount;</div>
<div class="line"><a id="l18347" name="l18347"></a><span class="lineno">18347</span> </div>
<div class="line"><a id="l18348" name="l18348"></a><span class="lineno">18348</span>    <span class="comment">// Recurse into children</span></div>
<div class="line"><a id="l18349" name="l18349"></a><span class="lineno">18349</span>    <span class="comment">// FIXME-DOCK FIXME-OPT: Should not need to recurse into children</span></div>
<div class="line"><a id="l18350" name="l18350"></a><span class="lineno">18350</span>    <span class="keywordflow">if</span> (host_window)</div>
<div class="line"><a id="l18351" name="l18351"></a><span class="lineno">18351</span>    {</div>
<div class="line"><a id="l18352" name="l18352"></a><span class="lineno">18352</span>        <span class="keywordflow">if</span> (node-&gt;ChildNodes[0])</div>
<div class="line"><a id="l18353" name="l18353"></a><span class="lineno">18353</span>            DockNodeUpdate(node-&gt;ChildNodes[0]);</div>
<div class="line"><a id="l18354" name="l18354"></a><span class="lineno">18354</span>        <span class="keywordflow">if</span> (node-&gt;ChildNodes[1])</div>
<div class="line"><a id="l18355" name="l18355"></a><span class="lineno">18355</span>            DockNodeUpdate(node-&gt;ChildNodes[1]);</div>
<div class="line"><a id="l18356" name="l18356"></a><span class="lineno">18356</span> </div>
<div class="line"><a id="l18357" name="l18357"></a><span class="lineno">18357</span>        <span class="comment">// Render outer borders last (after the tab bar)</span></div>
<div class="line"><a id="l18358" name="l18358"></a><span class="lineno">18358</span>        <span class="keywordflow">if</span> (node-&gt;IsRootNode())</div>
<div class="line"><a id="l18359" name="l18359"></a><span class="lineno">18359</span>            RenderWindowOuterBorders(host_window);</div>
<div class="line"><a id="l18360" name="l18360"></a><span class="lineno">18360</span>    }</div>
<div class="line"><a id="l18361" name="l18361"></a><span class="lineno">18361</span> </div>
<div class="line"><a id="l18362" name="l18362"></a><span class="lineno">18362</span>    <span class="comment">// End host window</span></div>
<div class="line"><a id="l18363" name="l18363"></a><span class="lineno">18363</span>    <span class="keywordflow">if</span> (beginned_into_host_window) <span class="comment">//-V1020</span></div>
<div class="line"><a id="l18364" name="l18364"></a><span class="lineno">18364</span>        End();</div>
<div class="line"><a id="l18365" name="l18365"></a><span class="lineno">18365</span>}</div>
<div class="line"><a id="l18366" name="l18366"></a><span class="lineno">18366</span> </div>
<div class="line"><a id="l18367" name="l18367"></a><span class="lineno">18367</span><span class="comment">// Compare TabItem nodes given the last known DockOrder (will persist in .ini file as hint), used to sort tabs when multiple tabs are added on the same frame.</span></div>
<div class="line"><a id="l18368" name="l18368"></a><span class="lineno">18368</span><span class="keyword">static</span> <span class="keywordtype">int</span> IMGUI_CDECL TabItemComparerByDockOrder(<span class="keyword">const</span> <span class="keywordtype">void</span>* lhs, <span class="keyword">const</span> <span class="keywordtype">void</span>* rhs)</div>
<div class="line"><a id="l18369" name="l18369"></a><span class="lineno">18369</span>{</div>
<div class="line"><a id="l18370" name="l18370"></a><span class="lineno">18370</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* a = ((<span class="keyword">const</span> <a class="code hl_struct" href="structImGuiTabItem.html">ImGuiTabItem</a>*)lhs)-&gt;Window;</div>
<div class="line"><a id="l18371" name="l18371"></a><span class="lineno">18371</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* b = ((<span class="keyword">const</span> <a class="code hl_struct" href="structImGuiTabItem.html">ImGuiTabItem</a>*)rhs)-&gt;Window;</div>
<div class="line"><a id="l18372" name="l18372"></a><span class="lineno">18372</span>    <span class="keywordflow">if</span> (<span class="keywordtype">int</span> d = ((a-&gt;DockOrder == -1) ? INT_MAX : a-&gt;DockOrder) - ((b-&gt;DockOrder == -1) ? INT_MAX : b-&gt;DockOrder))</div>
<div class="line"><a id="l18373" name="l18373"></a><span class="lineno">18373</span>        <span class="keywordflow">return</span> d;</div>
<div class="line"><a id="l18374" name="l18374"></a><span class="lineno">18374</span>    <span class="keywordflow">return</span> (a-&gt;BeginOrderWithinContext - b-&gt;BeginOrderWithinContext);</div>
<div class="line"><a id="l18375" name="l18375"></a><span class="lineno">18375</span>}</div>
<div class="line"><a id="l18376" name="l18376"></a><span class="lineno">18376</span> </div>
<div class="line"><a id="l18377" name="l18377"></a><span class="lineno">18377</span><span class="comment">// Default handler for g.DockNodeWindowMenuHandler(): display the list of windows for a given dock-node.</span></div>
<div class="line"><a id="l18378" name="l18378"></a><span class="lineno">18378</span><span class="comment">// This is exceptionally stored in a function pointer to also user applications to tweak this menu (undocumented)</span></div>
<div class="line"><a id="l18379" name="l18379"></a><span class="lineno">18379</span><span class="comment">// Custom overrides may want to decorate, group, sort entries.</span></div>
<div class="line"><a id="l18380" name="l18380"></a><span class="lineno">18380</span><span class="comment">// Please note those are internal structures: if you copy this expect occasional breakage.</span></div>
<div class="line"><a id="l18381" name="l18381"></a><span class="lineno">18381</span><span class="comment">// (if you don&#39;t need to modify the &quot;Tabs.Size == 1&quot; behavior/path it is recommend you call this function in your handler)</span></div>
<div class="line"><a id="l18382" name="l18382"></a><span class="lineno">18382</span><span class="keywordtype">void</span> ImGui::DockNodeWindowMenuHandler_Default(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node, <a class="code hl_struct" href="structImGuiTabBar.html">ImGuiTabBar</a>* tab_bar)</div>
<div class="line"><a id="l18383" name="l18383"></a><span class="lineno">18383</span>{</div>
<div class="line"><a id="l18384" name="l18384"></a><span class="lineno">18384</span>    IM_UNUSED(ctx);</div>
<div class="line"><a id="l18385" name="l18385"></a><span class="lineno">18385</span>    <span class="keywordflow">if</span> (tab_bar-&gt;Tabs.Size == 1)</div>
<div class="line"><a id="l18386" name="l18386"></a><span class="lineno">18386</span>    {</div>
<div class="line"><a id="l18387" name="l18387"></a><span class="lineno">18387</span>        <span class="comment">// &quot;Hide tab bar&quot; option. Being one of our rare user-facing string we pull it from a table.</span></div>
<div class="line"><a id="l18388" name="l18388"></a><span class="lineno">18388</span>        <span class="keywordflow">if</span> (MenuItem(LocalizeGetMsg(ImGuiLocKey_DockingHideTabBar), NULL, node-&gt;IsHiddenTabBar()))</div>
<div class="line"><a id="l18389" name="l18389"></a><span class="lineno">18389</span>            node-&gt;WantHiddenTabBarToggle = <span class="keyword">true</span>;</div>
<div class="line"><a id="l18390" name="l18390"></a><span class="lineno">18390</span>    }</div>
<div class="line"><a id="l18391" name="l18391"></a><span class="lineno">18391</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l18392" name="l18392"></a><span class="lineno">18392</span>    {</div>
<div class="line"><a id="l18393" name="l18393"></a><span class="lineno">18393</span>        <span class="comment">// Display a selectable list of windows in this docking node</span></div>
<div class="line"><a id="l18394" name="l18394"></a><span class="lineno">18394</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> tab_n = 0; tab_n &lt; tab_bar-&gt;Tabs.Size; tab_n++)</div>
<div class="line"><a id="l18395" name="l18395"></a><span class="lineno">18395</span>        {</div>
<div class="line"><a id="l18396" name="l18396"></a><span class="lineno">18396</span>            <a class="code hl_struct" href="structImGuiTabItem.html">ImGuiTabItem</a>* tab = &amp;tab_bar-&gt;Tabs[tab_n];</div>
<div class="line"><a id="l18397" name="l18397"></a><span class="lineno">18397</span>            <span class="keywordflow">if</span> (tab-&gt;Flags &amp; ImGuiTabItemFlags_Button)</div>
<div class="line"><a id="l18398" name="l18398"></a><span class="lineno">18398</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l18399" name="l18399"></a><span class="lineno">18399</span>            <span class="keywordflow">if</span> (Selectable(TabBarGetTabName(tab_bar, tab), tab-&gt;ID == tab_bar-&gt;SelectedTabId))</div>
<div class="line"><a id="l18400" name="l18400"></a><span class="lineno">18400</span>                TabBarQueueFocus(tab_bar, tab);</div>
<div class="line"><a id="l18401" name="l18401"></a><span class="lineno">18401</span>            SameLine();</div>
<div class="line"><a id="l18402" name="l18402"></a><span class="lineno">18402</span>            Text(<span class="stringliteral">&quot;   &quot;</span>);</div>
<div class="line"><a id="l18403" name="l18403"></a><span class="lineno">18403</span>        }</div>
<div class="line"><a id="l18404" name="l18404"></a><span class="lineno">18404</span>    }</div>
<div class="line"><a id="l18405" name="l18405"></a><span class="lineno">18405</span>}</div>
<div class="line"><a id="l18406" name="l18406"></a><span class="lineno">18406</span> </div>
<div class="line"><a id="l18407" name="l18407"></a><span class="lineno">18407</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::DockNodeWindowMenuUpdate(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node, <a class="code hl_struct" href="structImGuiTabBar.html">ImGuiTabBar</a>* tab_bar)</div>
<div class="line"><a id="l18408" name="l18408"></a><span class="lineno">18408</span>{</div>
<div class="line"><a id="l18409" name="l18409"></a><span class="lineno">18409</span>    <span class="comment">// Try to position the menu so it is more likely to stays within the same viewport</span></div>
<div class="line"><a id="l18410" name="l18410"></a><span class="lineno">18410</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l18411" name="l18411"></a><span class="lineno">18411</span>    <span class="keywordflow">if</span> (g.Style.WindowMenuButtonPosition == ImGuiDir_Left)</div>
<div class="line"><a id="l18412" name="l18412"></a><span class="lineno">18412</span>        SetNextWindowPos(<a class="code hl_struct" href="structImVec2.html">ImVec2</a>(node-&gt;Pos.x, node-&gt;Pos.y + GetFrameHeight()), ImGuiCond_Always, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, 0.0f));</div>
<div class="line"><a id="l18413" name="l18413"></a><span class="lineno">18413</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l18414" name="l18414"></a><span class="lineno">18414</span>        SetNextWindowPos(<a class="code hl_struct" href="structImVec2.html">ImVec2</a>(node-&gt;Pos.x + node-&gt;Size.x, node-&gt;Pos.y + GetFrameHeight()), ImGuiCond_Always, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(1.0f, 0.0f));</div>
<div class="line"><a id="l18415" name="l18415"></a><span class="lineno">18415</span>    <span class="keywordflow">if</span> (BeginPopup(<span class="stringliteral">&quot;#WindowMenu&quot;</span>))</div>
<div class="line"><a id="l18416" name="l18416"></a><span class="lineno">18416</span>    {</div>
<div class="line"><a id="l18417" name="l18417"></a><span class="lineno">18417</span>        node-&gt;IsFocused = <span class="keyword">true</span>;</div>
<div class="line"><a id="l18418" name="l18418"></a><span class="lineno">18418</span>        g.DockNodeWindowMenuHandler(&amp;g, node, tab_bar);</div>
<div class="line"><a id="l18419" name="l18419"></a><span class="lineno">18419</span>        EndPopup();</div>
<div class="line"><a id="l18420" name="l18420"></a><span class="lineno">18420</span>    }</div>
<div class="line"><a id="l18421" name="l18421"></a><span class="lineno">18421</span>}</div>
<div class="line"><a id="l18422" name="l18422"></a><span class="lineno">18422</span> </div>
<div class="line"><a id="l18423" name="l18423"></a><span class="lineno">18423</span><span class="comment">// User helper to append/amend into a dock node tab bar. Most commonly used to add e.g. a &quot;+&quot; button.</span></div>
<div class="line"><a id="l18424" name="l18424"></a><span class="lineno">18424</span><span class="keywordtype">bool</span> ImGui::DockNodeBeginAmendTabBar(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node)</div>
<div class="line"><a id="l18425" name="l18425"></a><span class="lineno">18425</span>{</div>
<div class="line"><a id="l18426" name="l18426"></a><span class="lineno">18426</span>    <span class="keywordflow">if</span> (node-&gt;TabBar == NULL || node-&gt;HostWindow == NULL)</div>
<div class="line"><a id="l18427" name="l18427"></a><span class="lineno">18427</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l18428" name="l18428"></a><span class="lineno">18428</span>    <span class="keywordflow">if</span> (node-&gt;MergedFlags &amp; ImGuiDockNodeFlags_KeepAliveOnly)</div>
<div class="line"><a id="l18429" name="l18429"></a><span class="lineno">18429</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l18430" name="l18430"></a><span class="lineno">18430</span>    <span class="keywordflow">if</span> (node-&gt;TabBar-&gt;ID == 0)</div>
<div class="line"><a id="l18431" name="l18431"></a><span class="lineno">18431</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l18432" name="l18432"></a><span class="lineno">18432</span>    Begin(node-&gt;HostWindow-&gt;Name);</div>
<div class="line"><a id="l18433" name="l18433"></a><span class="lineno">18433</span>    PushOverrideID(node-&gt;ID);</div>
<div class="line"><a id="l18434" name="l18434"></a><span class="lineno">18434</span>    <span class="keywordtype">bool</span> ret = BeginTabBarEx(node-&gt;TabBar, node-&gt;TabBar-&gt;BarRect, node-&gt;TabBar-&gt;Flags);</div>
<div class="line"><a id="l18435" name="l18435"></a><span class="lineno">18435</span>    IM_UNUSED(ret);</div>
<div class="line"><a id="l18436" name="l18436"></a><span class="lineno">18436</span>    IM_ASSERT(ret);</div>
<div class="line"><a id="l18437" name="l18437"></a><span class="lineno">18437</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l18438" name="l18438"></a><span class="lineno">18438</span>}</div>
<div class="line"><a id="l18439" name="l18439"></a><span class="lineno">18439</span> </div>
<div class="line"><a id="l18440" name="l18440"></a><span class="lineno">18440</span><span class="keywordtype">void</span> ImGui::DockNodeEndAmendTabBar()</div>
<div class="line"><a id="l18441" name="l18441"></a><span class="lineno">18441</span>{</div>
<div class="line"><a id="l18442" name="l18442"></a><span class="lineno">18442</span>    EndTabBar();</div>
<div class="line"><a id="l18443" name="l18443"></a><span class="lineno">18443</span>    PopID();</div>
<div class="line"><a id="l18444" name="l18444"></a><span class="lineno">18444</span>    End();</div>
<div class="line"><a id="l18445" name="l18445"></a><span class="lineno">18445</span>}</div>
<div class="line"><a id="l18446" name="l18446"></a><span class="lineno">18446</span> </div>
<div class="line"><a id="l18447" name="l18447"></a><span class="lineno">18447</span><span class="keyword">static</span> <span class="keywordtype">bool</span> IsDockNodeTitleBarHighlighted(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* root_node)</div>
<div class="line"><a id="l18448" name="l18448"></a><span class="lineno">18448</span>{</div>
<div class="line"><a id="l18449" name="l18449"></a><span class="lineno">18449</span>    <span class="comment">// CTRL+Tab highlight (only highlighting leaf node, not whole hierarchy)</span></div>
<div class="line"><a id="l18450" name="l18450"></a><span class="lineno">18450</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l18451" name="l18451"></a><span class="lineno">18451</span>    <span class="keywordflow">if</span> (g.NavWindowingTarget)</div>
<div class="line"><a id="l18452" name="l18452"></a><span class="lineno">18452</span>        <span class="keywordflow">return</span> (g.NavWindowingTarget-&gt;DockNode == node);</div>
<div class="line"><a id="l18453" name="l18453"></a><span class="lineno">18453</span> </div>
<div class="line"><a id="l18454" name="l18454"></a><span class="lineno">18454</span>    <span class="comment">// FIXME-DOCKING: May want alternative to treat central node void differently? e.g. if (g.NavWindow == host_window)</span></div>
<div class="line"><a id="l18455" name="l18455"></a><span class="lineno">18455</span>    <span class="keywordflow">if</span> (g.NavWindow &amp;&amp; root_node-&gt;LastFocusedNodeId == node-&gt;ID)</div>
<div class="line"><a id="l18456" name="l18456"></a><span class="lineno">18456</span>    {</div>
<div class="line"><a id="l18457" name="l18457"></a><span class="lineno">18457</span>        <span class="comment">// FIXME: This could all be backed in RootWindowForTitleBarHighlight? Probably need to reorganize for both dock nodes + other RootWindowForTitleBarHighlight users (not-node)</span></div>
<div class="line"><a id="l18458" name="l18458"></a><span class="lineno">18458</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* parent_window = g.NavWindow-&gt;RootWindow;</div>
<div class="line"><a id="l18459" name="l18459"></a><span class="lineno">18459</span>        <span class="keywordflow">while</span> (parent_window-&gt;Flags &amp; ImGuiWindowFlags_ChildMenu)</div>
<div class="line"><a id="l18460" name="l18460"></a><span class="lineno">18460</span>            parent_window = parent_window-&gt;ParentWindow-&gt;RootWindow;</div>
<div class="line"><a id="l18461" name="l18461"></a><span class="lineno">18461</span>        <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* start_parent_node = parent_window-&gt;DockNodeAsHost ? parent_window-&gt;DockNodeAsHost : parent_window-&gt;DockNode;</div>
<div class="line"><a id="l18462" name="l18462"></a><span class="lineno">18462</span>        <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* parent_node = start_parent_node; parent_node != NULL; parent_node = parent_node-&gt;HostWindow ? parent_node-&gt;HostWindow-&gt;RootWindow-&gt;DockNode : NULL)</div>
<div class="line"><a id="l18463" name="l18463"></a><span class="lineno">18463</span>            <span class="keywordflow">if</span> ((parent_node = ImGui::DockNodeGetRootNode(parent_node)) == root_node)</div>
<div class="line"><a id="l18464" name="l18464"></a><span class="lineno">18464</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l18465" name="l18465"></a><span class="lineno">18465</span>    }</div>
<div class="line"><a id="l18466" name="l18466"></a><span class="lineno">18466</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l18467" name="l18467"></a><span class="lineno">18467</span>}</div>
<div class="line"><a id="l18468" name="l18468"></a><span class="lineno">18468</span> </div>
<div class="line"><a id="l18469" name="l18469"></a><span class="lineno">18469</span><span class="comment">// Submit the tab bar corresponding to a dock node and various housekeeping details.</span></div>
<div class="line"><a id="l18470" name="l18470"></a><span class="lineno">18470</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::DockNodeUpdateTabBar(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* host_window)</div>
<div class="line"><a id="l18471" name="l18471"></a><span class="lineno">18471</span>{</div>
<div class="line"><a id="l18472" name="l18472"></a><span class="lineno">18472</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l18473" name="l18473"></a><span class="lineno">18473</span>    <a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>&amp; style = g.Style;</div>
<div class="line"><a id="l18474" name="l18474"></a><span class="lineno">18474</span> </div>
<div class="line"><a id="l18475" name="l18475"></a><span class="lineno">18475</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> node_was_active = (node-&gt;LastFrameActive + 1 == g.FrameCount);</div>
<div class="line"><a id="l18476" name="l18476"></a><span class="lineno">18476</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> closed_all = node-&gt;WantCloseAll &amp;&amp; node_was_active;</div>
<div class="line"><a id="l18477" name="l18477"></a><span class="lineno">18477</span>    <span class="keyword">const</span> ImGuiID closed_one = node-&gt;WantCloseTabId &amp;&amp; node_was_active;</div>
<div class="line"><a id="l18478" name="l18478"></a><span class="lineno">18478</span>    node-&gt;WantCloseAll = <span class="keyword">false</span>;</div>
<div class="line"><a id="l18479" name="l18479"></a><span class="lineno">18479</span>    node-&gt;WantCloseTabId = 0;</div>
<div class="line"><a id="l18480" name="l18480"></a><span class="lineno">18480</span> </div>
<div class="line"><a id="l18481" name="l18481"></a><span class="lineno">18481</span>    <span class="comment">// Decide if we should use a focused title bar color</span></div>
<div class="line"><a id="l18482" name="l18482"></a><span class="lineno">18482</span>    <span class="keywordtype">bool</span> is_focused = <span class="keyword">false</span>;</div>
<div class="line"><a id="l18483" name="l18483"></a><span class="lineno">18483</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* root_node = DockNodeGetRootNode(node);</div>
<div class="line"><a id="l18484" name="l18484"></a><span class="lineno">18484</span>    <span class="keywordflow">if</span> (IsDockNodeTitleBarHighlighted(node, root_node))</div>
<div class="line"><a id="l18485" name="l18485"></a><span class="lineno">18485</span>        is_focused = <span class="keyword">true</span>;</div>
<div class="line"><a id="l18486" name="l18486"></a><span class="lineno">18486</span> </div>
<div class="line"><a id="l18487" name="l18487"></a><span class="lineno">18487</span>    <span class="comment">// Hidden tab bar will show a triangle on the upper-left (in Begin)</span></div>
<div class="line"><a id="l18488" name="l18488"></a><span class="lineno">18488</span>    <span class="keywordflow">if</span> (node-&gt;IsHiddenTabBar() || node-&gt;IsNoTabBar())</div>
<div class="line"><a id="l18489" name="l18489"></a><span class="lineno">18489</span>    {</div>
<div class="line"><a id="l18490" name="l18490"></a><span class="lineno">18490</span>        node-&gt;VisibleWindow = (node-&gt;Windows.Size &gt; 0) ? node-&gt;Windows[0] : NULL;</div>
<div class="line"><a id="l18491" name="l18491"></a><span class="lineno">18491</span>        node-&gt;IsFocused = is_focused;</div>
<div class="line"><a id="l18492" name="l18492"></a><span class="lineno">18492</span>        <span class="keywordflow">if</span> (is_focused)</div>
<div class="line"><a id="l18493" name="l18493"></a><span class="lineno">18493</span>            node-&gt;LastFrameFocused = g.FrameCount;</div>
<div class="line"><a id="l18494" name="l18494"></a><span class="lineno">18494</span>        <span class="keywordflow">if</span> (node-&gt;VisibleWindow)</div>
<div class="line"><a id="l18495" name="l18495"></a><span class="lineno">18495</span>        {</div>
<div class="line"><a id="l18496" name="l18496"></a><span class="lineno">18496</span>            <span class="comment">// Notify root of visible window (used to display title in OS task bar)</span></div>
<div class="line"><a id="l18497" name="l18497"></a><span class="lineno">18497</span>            <span class="keywordflow">if</span> (is_focused || root_node-&gt;VisibleWindow == NULL)</div>
<div class="line"><a id="l18498" name="l18498"></a><span class="lineno">18498</span>                root_node-&gt;VisibleWindow = node-&gt;VisibleWindow;</div>
<div class="line"><a id="l18499" name="l18499"></a><span class="lineno">18499</span>            <span class="keywordflow">if</span> (node-&gt;TabBar)</div>
<div class="line"><a id="l18500" name="l18500"></a><span class="lineno">18500</span>                node-&gt;TabBar-&gt;VisibleTabId = node-&gt;VisibleWindow-&gt;TabId;</div>
<div class="line"><a id="l18501" name="l18501"></a><span class="lineno">18501</span>        }</div>
<div class="line"><a id="l18502" name="l18502"></a><span class="lineno">18502</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l18503" name="l18503"></a><span class="lineno">18503</span>    }</div>
<div class="line"><a id="l18504" name="l18504"></a><span class="lineno">18504</span> </div>
<div class="line"><a id="l18505" name="l18505"></a><span class="lineno">18505</span>    <span class="comment">// Move ourselves to the Menu layer (so we can be accessed by tapping Alt) + undo SkipItems flag in order to draw over the title bar even if the window is collapsed</span></div>
<div class="line"><a id="l18506" name="l18506"></a><span class="lineno">18506</span>    <span class="keywordtype">bool</span> backup_skip_item = host_window-&gt;SkipItems;</div>
<div class="line"><a id="l18507" name="l18507"></a><span class="lineno">18507</span>    <span class="keywordflow">if</span> (!node-&gt;IsDockSpace())</div>
<div class="line"><a id="l18508" name="l18508"></a><span class="lineno">18508</span>    {</div>
<div class="line"><a id="l18509" name="l18509"></a><span class="lineno">18509</span>        host_window-&gt;SkipItems = <span class="keyword">false</span>;</div>
<div class="line"><a id="l18510" name="l18510"></a><span class="lineno">18510</span>        host_window-&gt;DC.NavLayerCurrent = ImGuiNavLayer_Menu;</div>
<div class="line"><a id="l18511" name="l18511"></a><span class="lineno">18511</span>    }</div>
<div class="line"><a id="l18512" name="l18512"></a><span class="lineno">18512</span> </div>
<div class="line"><a id="l18513" name="l18513"></a><span class="lineno">18513</span>    <span class="comment">// Use PushOverrideID() instead of PushID() to use the node id _without_ the host window ID.</span></div>
<div class="line"><a id="l18514" name="l18514"></a><span class="lineno">18514</span>    <span class="comment">// This is to facilitate computing those ID from the outside, and will affect more or less only the ID of the collapse button, popup and tabs,</span></div>
<div class="line"><a id="l18515" name="l18515"></a><span class="lineno">18515</span>    <span class="comment">// as docked windows themselves will override the stack with their own root ID.</span></div>
<div class="line"><a id="l18516" name="l18516"></a><span class="lineno">18516</span>    PushOverrideID(node-&gt;ID);</div>
<div class="line"><a id="l18517" name="l18517"></a><span class="lineno">18517</span>    <a class="code hl_struct" href="structImGuiTabBar.html">ImGuiTabBar</a>* tab_bar = node-&gt;TabBar;</div>
<div class="line"><a id="l18518" name="l18518"></a><span class="lineno">18518</span>    <span class="keywordtype">bool</span> tab_bar_is_recreated = (tab_bar == NULL); <span class="comment">// Tab bar are automatically destroyed when a node gets hidden</span></div>
<div class="line"><a id="l18519" name="l18519"></a><span class="lineno">18519</span>    <span class="keywordflow">if</span> (tab_bar == NULL)</div>
<div class="line"><a id="l18520" name="l18520"></a><span class="lineno">18520</span>    {</div>
<div class="line"><a id="l18521" name="l18521"></a><span class="lineno">18521</span>        DockNodeAddTabBar(node);</div>
<div class="line"><a id="l18522" name="l18522"></a><span class="lineno">18522</span>        tab_bar = node-&gt;TabBar;</div>
<div class="line"><a id="l18523" name="l18523"></a><span class="lineno">18523</span>    }</div>
<div class="line"><a id="l18524" name="l18524"></a><span class="lineno">18524</span> </div>
<div class="line"><a id="l18525" name="l18525"></a><span class="lineno">18525</span>    ImGuiID focus_tab_id = 0;</div>
<div class="line"><a id="l18526" name="l18526"></a><span class="lineno">18526</span>    node-&gt;IsFocused = is_focused;</div>
<div class="line"><a id="l18527" name="l18527"></a><span class="lineno">18527</span> </div>
<div class="line"><a id="l18528" name="l18528"></a><span class="lineno">18528</span>    <span class="keyword">const</span> ImGuiDockNodeFlags node_flags = node-&gt;MergedFlags;</div>
<div class="line"><a id="l18529" name="l18529"></a><span class="lineno">18529</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> has_window_menu_button = (node_flags &amp; ImGuiDockNodeFlags_NoWindowMenuButton) == 0 &amp;&amp; (style.WindowMenuButtonPosition != ImGuiDir_None);</div>
<div class="line"><a id="l18530" name="l18530"></a><span class="lineno">18530</span> </div>
<div class="line"><a id="l18531" name="l18531"></a><span class="lineno">18531</span>    <span class="comment">// In a dock node, the Collapse Button turns into the Window Menu button.</span></div>
<div class="line"><a id="l18532" name="l18532"></a><span class="lineno">18532</span>    <span class="comment">// FIXME-DOCK FIXME-OPT: Could we recycle popups id across multiple dock nodes?</span></div>
<div class="line"><a id="l18533" name="l18533"></a><span class="lineno">18533</span>    <span class="keywordflow">if</span> (has_window_menu_button &amp;&amp; IsPopupOpen(<span class="stringliteral">&quot;#WindowMenu&quot;</span>))</div>
<div class="line"><a id="l18534" name="l18534"></a><span class="lineno">18534</span>    {</div>
<div class="line"><a id="l18535" name="l18535"></a><span class="lineno">18535</span>        ImGuiID next_selected_tab_id = tab_bar-&gt;NextSelectedTabId;</div>
<div class="line"><a id="l18536" name="l18536"></a><span class="lineno">18536</span>        DockNodeWindowMenuUpdate(node, tab_bar);</div>
<div class="line"><a id="l18537" name="l18537"></a><span class="lineno">18537</span>        <span class="keywordflow">if</span> (tab_bar-&gt;NextSelectedTabId != 0 &amp;&amp; tab_bar-&gt;NextSelectedTabId != next_selected_tab_id)</div>
<div class="line"><a id="l18538" name="l18538"></a><span class="lineno">18538</span>            focus_tab_id = tab_bar-&gt;NextSelectedTabId;</div>
<div class="line"><a id="l18539" name="l18539"></a><span class="lineno">18539</span>        is_focused |= node-&gt;IsFocused;</div>
<div class="line"><a id="l18540" name="l18540"></a><span class="lineno">18540</span>    }</div>
<div class="line"><a id="l18541" name="l18541"></a><span class="lineno">18541</span> </div>
<div class="line"><a id="l18542" name="l18542"></a><span class="lineno">18542</span>    <span class="comment">// Layout</span></div>
<div class="line"><a id="l18543" name="l18543"></a><span class="lineno">18543</span>    <a class="code hl_struct" href="structImRect.html">ImRect</a> title_bar_rect, tab_bar_rect;</div>
<div class="line"><a id="l18544" name="l18544"></a><span class="lineno">18544</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> window_menu_button_pos;</div>
<div class="line"><a id="l18545" name="l18545"></a><span class="lineno">18545</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> close_button_pos;</div>
<div class="line"><a id="l18546" name="l18546"></a><span class="lineno">18546</span>    DockNodeCalcTabBarLayout(node, &amp;title_bar_rect, &amp;tab_bar_rect, &amp;window_menu_button_pos, &amp;close_button_pos);</div>
<div class="line"><a id="l18547" name="l18547"></a><span class="lineno">18547</span> </div>
<div class="line"><a id="l18548" name="l18548"></a><span class="lineno">18548</span>    <span class="comment">// Submit new tabs, they will be added as Unsorted and sorted below based on relative DockOrder value.</span></div>
<div class="line"><a id="l18549" name="l18549"></a><span class="lineno">18549</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> tabs_count_old = tab_bar-&gt;Tabs.Size;</div>
<div class="line"><a id="l18550" name="l18550"></a><span class="lineno">18550</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> window_n = 0; window_n &lt; node-&gt;Windows.Size; window_n++)</div>
<div class="line"><a id="l18551" name="l18551"></a><span class="lineno">18551</span>    {</div>
<div class="line"><a id="l18552" name="l18552"></a><span class="lineno">18552</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = node-&gt;Windows[window_n];</div>
<div class="line"><a id="l18553" name="l18553"></a><span class="lineno">18553</span>        <span class="keywordflow">if</span> (TabBarFindTabByID(tab_bar, window-&gt;TabId) == NULL)</div>
<div class="line"><a id="l18554" name="l18554"></a><span class="lineno">18554</span>            TabBarAddTab(tab_bar, ImGuiTabItemFlags_Unsorted, window);</div>
<div class="line"><a id="l18555" name="l18555"></a><span class="lineno">18555</span>    }</div>
<div class="line"><a id="l18556" name="l18556"></a><span class="lineno">18556</span> </div>
<div class="line"><a id="l18557" name="l18557"></a><span class="lineno">18557</span>    <span class="comment">// Title bar</span></div>
<div class="line"><a id="l18558" name="l18558"></a><span class="lineno">18558</span>    <span class="keywordflow">if</span> (is_focused)</div>
<div class="line"><a id="l18559" name="l18559"></a><span class="lineno">18559</span>        node-&gt;LastFrameFocused = g.FrameCount;</div>
<div class="line"><a id="l18560" name="l18560"></a><span class="lineno">18560</span>    ImU32 title_bar_col = GetColorU32(host_window-&gt;Collapsed ? ImGuiCol_TitleBgCollapsed : is_focused ? ImGuiCol_TitleBgActive : ImGuiCol_TitleBg);</div>
<div class="line"><a id="l18561" name="l18561"></a><span class="lineno">18561</span>    ImDrawFlags rounding_flags = CalcRoundingFlagsForRectInRect(title_bar_rect, host_window-&gt;Rect(), g.Style.DockingSeparatorSize);</div>
<div class="line"><a id="l18562" name="l18562"></a><span class="lineno">18562</span>    host_window-&gt;DrawList-&gt;AddRectFilled(title_bar_rect.Min, title_bar_rect.Max, title_bar_col, host_window-&gt;WindowRounding, rounding_flags);</div>
<div class="line"><a id="l18563" name="l18563"></a><span class="lineno">18563</span> </div>
<div class="line"><a id="l18564" name="l18564"></a><span class="lineno">18564</span>    <span class="comment">// Docking/Collapse button</span></div>
<div class="line"><a id="l18565" name="l18565"></a><span class="lineno">18565</span>    <span class="keywordflow">if</span> (has_window_menu_button)</div>
<div class="line"><a id="l18566" name="l18566"></a><span class="lineno">18566</span>    {</div>
<div class="line"><a id="l18567" name="l18567"></a><span class="lineno">18567</span>        <span class="keywordflow">if</span> (CollapseButton(host_window-&gt;GetID(<span class="stringliteral">&quot;#COLLAPSE&quot;</span>), window_menu_button_pos, node)) <span class="comment">// == DockNodeGetWindowMenuButtonId(node)</span></div>
<div class="line"><a id="l18568" name="l18568"></a><span class="lineno">18568</span>            OpenPopup(<span class="stringliteral">&quot;#WindowMenu&quot;</span>);</div>
<div class="line"><a id="l18569" name="l18569"></a><span class="lineno">18569</span>        <span class="keywordflow">if</span> (IsItemActive())</div>
<div class="line"><a id="l18570" name="l18570"></a><span class="lineno">18570</span>            focus_tab_id = tab_bar-&gt;SelectedTabId;</div>
<div class="line"><a id="l18571" name="l18571"></a><span class="lineno">18571</span>        <span class="keywordflow">if</span> (IsItemHovered(ImGuiHoveredFlags_ForTooltip | ImGuiHoveredFlags_DelayNormal) &amp;&amp; g.HoveredIdTimer &gt; 0.5f)</div>
<div class="line"><a id="l18572" name="l18572"></a><span class="lineno">18572</span>            SetTooltip(<span class="stringliteral">&quot;%s&quot;</span>, LocalizeGetMsg(ImGuiLocKey_DockingDragToUndockOrMoveNode));</div>
<div class="line"><a id="l18573" name="l18573"></a><span class="lineno">18573</span>    }</div>
<div class="line"><a id="l18574" name="l18574"></a><span class="lineno">18574</span> </div>
<div class="line"><a id="l18575" name="l18575"></a><span class="lineno">18575</span>    <span class="comment">// If multiple tabs are appearing on the same frame, sort them based on their persistent DockOrder value</span></div>
<div class="line"><a id="l18576" name="l18576"></a><span class="lineno">18576</span>    <span class="keywordtype">int</span> tabs_unsorted_start = tab_bar-&gt;Tabs.Size;</div>
<div class="line"><a id="l18577" name="l18577"></a><span class="lineno">18577</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> tab_n = tab_bar-&gt;Tabs.Size - 1; tab_n &gt;= 0 &amp;&amp; (tab_bar-&gt;Tabs[tab_n].Flags &amp; ImGuiTabItemFlags_Unsorted); tab_n--)</div>
<div class="line"><a id="l18578" name="l18578"></a><span class="lineno">18578</span>    {</div>
<div class="line"><a id="l18579" name="l18579"></a><span class="lineno">18579</span>        <span class="comment">// FIXME-DOCK: Consider only clearing the flag after the tab has been alive for a few consecutive frames, allowing late comers to not break sorting?</span></div>
<div class="line"><a id="l18580" name="l18580"></a><span class="lineno">18580</span>        tab_bar-&gt;Tabs[tab_n].Flags &amp;= ~ImGuiTabItemFlags_Unsorted;</div>
<div class="line"><a id="l18581" name="l18581"></a><span class="lineno">18581</span>        tabs_unsorted_start = tab_n;</div>
<div class="line"><a id="l18582" name="l18582"></a><span class="lineno">18582</span>    }</div>
<div class="line"><a id="l18583" name="l18583"></a><span class="lineno">18583</span>    <span class="keywordflow">if</span> (tab_bar-&gt;Tabs.Size &gt; tabs_unsorted_start)</div>
<div class="line"><a id="l18584" name="l18584"></a><span class="lineno">18584</span>    {</div>
<div class="line"><a id="l18585" name="l18585"></a><span class="lineno">18585</span>        IMGUI_DEBUG_LOG_DOCKING(<span class="stringliteral">&quot;[docking] In node 0x%08X: %d new appearing tabs:%s\n&quot;</span>, node-&gt;ID, tab_bar-&gt;Tabs.Size - tabs_unsorted_start, (tab_bar-&gt;Tabs.Size &gt; tabs_unsorted_start + 1) ? <span class="stringliteral">&quot; (will sort)&quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a id="l18586" name="l18586"></a><span class="lineno">18586</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> tab_n = tabs_unsorted_start; tab_n &lt; tab_bar-&gt;Tabs.Size; tab_n++)</div>
<div class="line"><a id="l18587" name="l18587"></a><span class="lineno">18587</span>        {</div>
<div class="line"><a id="l18588" name="l18588"></a><span class="lineno">18588</span>            <a class="code hl_struct" href="structImGuiTabItem.html">ImGuiTabItem</a>* tab = &amp;tab_bar-&gt;Tabs[tab_n];</div>
<div class="line"><a id="l18589" name="l18589"></a><span class="lineno">18589</span>            IM_UNUSED(tab);</div>
<div class="line"><a id="l18590" name="l18590"></a><span class="lineno">18590</span>            IMGUI_DEBUG_LOG_DOCKING(<span class="stringliteral">&quot;[docking] - Tab 0x%08X &#39;%s&#39; Order %d\n&quot;</span>, tab-&gt;ID, TabBarGetTabName(tab_bar, tab), tab-&gt;Window ? tab-&gt;Window-&gt;DockOrder : -1);</div>
<div class="line"><a id="l18591" name="l18591"></a><span class="lineno">18591</span>        }</div>
<div class="line"><a id="l18592" name="l18592"></a><span class="lineno">18592</span>        IMGUI_DEBUG_LOG_DOCKING(<span class="stringliteral">&quot;[docking] SelectedTabId = 0x%08X, NavWindow-&gt;TabId = 0x%08X\n&quot;</span>, node-&gt;SelectedTabId, g.NavWindow ? g.NavWindow-&gt;TabId : -1);</div>
<div class="line"><a id="l18593" name="l18593"></a><span class="lineno">18593</span>        <span class="keywordflow">if</span> (tab_bar-&gt;Tabs.Size &gt; tabs_unsorted_start + 1)</div>
<div class="line"><a id="l18594" name="l18594"></a><span class="lineno">18594</span>            ImQsort(tab_bar-&gt;Tabs.Data + tabs_unsorted_start, tab_bar-&gt;Tabs.Size - tabs_unsorted_start, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structImGuiTabItem.html">ImGuiTabItem</a>), TabItemComparerByDockOrder);</div>
<div class="line"><a id="l18595" name="l18595"></a><span class="lineno">18595</span>    }</div>
<div class="line"><a id="l18596" name="l18596"></a><span class="lineno">18596</span> </div>
<div class="line"><a id="l18597" name="l18597"></a><span class="lineno">18597</span>    <span class="comment">// Apply NavWindow focus back to the tab bar</span></div>
<div class="line"><a id="l18598" name="l18598"></a><span class="lineno">18598</span>    <span class="keywordflow">if</span> (g.NavWindow &amp;&amp; g.NavWindow-&gt;RootWindow-&gt;DockNode == node)</div>
<div class="line"><a id="l18599" name="l18599"></a><span class="lineno">18599</span>        tab_bar-&gt;SelectedTabId = g.NavWindow-&gt;RootWindow-&gt;TabId;</div>
<div class="line"><a id="l18600" name="l18600"></a><span class="lineno">18600</span> </div>
<div class="line"><a id="l18601" name="l18601"></a><span class="lineno">18601</span>    <span class="comment">// Selected newly added tabs, or persistent tab ID if the tab bar was just recreated</span></div>
<div class="line"><a id="l18602" name="l18602"></a><span class="lineno">18602</span>    <span class="keywordflow">if</span> (tab_bar_is_recreated &amp;&amp; TabBarFindTabByID(tab_bar, node-&gt;SelectedTabId) != NULL)</div>
<div class="line"><a id="l18603" name="l18603"></a><span class="lineno">18603</span>        tab_bar-&gt;SelectedTabId = tab_bar-&gt;NextSelectedTabId = node-&gt;SelectedTabId;</div>
<div class="line"><a id="l18604" name="l18604"></a><span class="lineno">18604</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tab_bar-&gt;Tabs.Size &gt; tabs_count_old)</div>
<div class="line"><a id="l18605" name="l18605"></a><span class="lineno">18605</span>        tab_bar-&gt;SelectedTabId = tab_bar-&gt;NextSelectedTabId = tab_bar-&gt;Tabs.back().Window-&gt;TabId;</div>
<div class="line"><a id="l18606" name="l18606"></a><span class="lineno">18606</span> </div>
<div class="line"><a id="l18607" name="l18607"></a><span class="lineno">18607</span>    <span class="comment">// Begin tab bar</span></div>
<div class="line"><a id="l18608" name="l18608"></a><span class="lineno">18608</span>    ImGuiTabBarFlags tab_bar_flags = ImGuiTabBarFlags_Reorderable | ImGuiTabBarFlags_AutoSelectNewTabs; <span class="comment">// | ImGuiTabBarFlags_NoTabListScrollingButtons);</span></div>
<div class="line"><a id="l18609" name="l18609"></a><span class="lineno">18609</span>    tab_bar_flags |= ImGuiTabBarFlags_SaveSettings | ImGuiTabBarFlags_DockNode;<span class="comment">// | ImGuiTabBarFlags_FittingPolicyScroll;</span></div>
<div class="line"><a id="l18610" name="l18610"></a><span class="lineno">18610</span>    tab_bar_flags |= ImGuiTabBarFlags_DrawSelectedOverline;</div>
<div class="line"><a id="l18611" name="l18611"></a><span class="lineno">18611</span>    <span class="keywordflow">if</span> (!host_window-&gt;Collapsed &amp;&amp; is_focused)</div>
<div class="line"><a id="l18612" name="l18612"></a><span class="lineno">18612</span>        tab_bar_flags |= ImGuiTabBarFlags_IsFocused;</div>
<div class="line"><a id="l18613" name="l18613"></a><span class="lineno">18613</span>    tab_bar-&gt;ID = GetID(<span class="stringliteral">&quot;#TabBar&quot;</span>);</div>
<div class="line"><a id="l18614" name="l18614"></a><span class="lineno">18614</span>    tab_bar-&gt;SeparatorMinX = node-&gt;Pos.x + host_window-&gt;WindowBorderSize; <span class="comment">// Separator cover the whole node width</span></div>
<div class="line"><a id="l18615" name="l18615"></a><span class="lineno">18615</span>    tab_bar-&gt;SeparatorMaxX = node-&gt;Pos.x + node-&gt;Size.x - host_window-&gt;WindowBorderSize;</div>
<div class="line"><a id="l18616" name="l18616"></a><span class="lineno">18616</span>    BeginTabBarEx(tab_bar, tab_bar_rect, tab_bar_flags);</div>
<div class="line"><a id="l18617" name="l18617"></a><span class="lineno">18617</span>    <span class="comment">//host_window-&gt;DrawList-&gt;AddRect(tab_bar_rect.Min, tab_bar_rect.Max, IM_COL32(255,0,255,255));</span></div>
<div class="line"><a id="l18618" name="l18618"></a><span class="lineno">18618</span> </div>
<div class="line"><a id="l18619" name="l18619"></a><span class="lineno">18619</span>    <span class="comment">// Backup style colors</span></div>
<div class="line"><a id="l18620" name="l18620"></a><span class="lineno">18620</span>    <a class="code hl_struct" href="structImVec4.html">ImVec4</a> backup_style_cols[ImGuiWindowDockStyleCol_COUNT];</div>
<div class="line"><a id="l18621" name="l18621"></a><span class="lineno">18621</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> color_n = 0; color_n &lt; ImGuiWindowDockStyleCol_COUNT; color_n++)</div>
<div class="line"><a id="l18622" name="l18622"></a><span class="lineno">18622</span>        backup_style_cols[color_n] = g.Style.Colors[GWindowDockStyleColors[color_n]];</div>
<div class="line"><a id="l18623" name="l18623"></a><span class="lineno">18623</span> </div>
<div class="line"><a id="l18624" name="l18624"></a><span class="lineno">18624</span>    <span class="comment">// Submit actual tabs</span></div>
<div class="line"><a id="l18625" name="l18625"></a><span class="lineno">18625</span>    node-&gt;VisibleWindow = NULL;</div>
<div class="line"><a id="l18626" name="l18626"></a><span class="lineno">18626</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> window_n = 0; window_n &lt; node-&gt;Windows.Size; window_n++)</div>
<div class="line"><a id="l18627" name="l18627"></a><span class="lineno">18627</span>    {</div>
<div class="line"><a id="l18628" name="l18628"></a><span class="lineno">18628</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = node-&gt;Windows[window_n];</div>
<div class="line"><a id="l18629" name="l18629"></a><span class="lineno">18629</span>        <span class="keywordflow">if</span> ((closed_all || closed_one == window-&gt;TabId) &amp;&amp; window-&gt;HasCloseButton &amp;&amp; !(window-&gt;Flags &amp; ImGuiWindowFlags_UnsavedDocument))</div>
<div class="line"><a id="l18630" name="l18630"></a><span class="lineno">18630</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l18631" name="l18631"></a><span class="lineno">18631</span>        <span class="keywordflow">if</span> (window-&gt;LastFrameActive + 1 &gt;= g.FrameCount || !node_was_active)</div>
<div class="line"><a id="l18632" name="l18632"></a><span class="lineno">18632</span>        {</div>
<div class="line"><a id="l18633" name="l18633"></a><span class="lineno">18633</span>            ImGuiTabItemFlags tab_item_flags = 0;</div>
<div class="line"><a id="l18634" name="l18634"></a><span class="lineno">18634</span>            tab_item_flags |= window-&gt;WindowClass.TabItemFlagsOverrideSet;</div>
<div class="line"><a id="l18635" name="l18635"></a><span class="lineno">18635</span>            <span class="keywordflow">if</span> (window-&gt;Flags &amp; ImGuiWindowFlags_UnsavedDocument)</div>
<div class="line"><a id="l18636" name="l18636"></a><span class="lineno">18636</span>                tab_item_flags |= ImGuiTabItemFlags_UnsavedDocument;</div>
<div class="line"><a id="l18637" name="l18637"></a><span class="lineno">18637</span>            <span class="keywordflow">if</span> (tab_bar-&gt;Flags &amp; ImGuiTabBarFlags_NoCloseWithMiddleMouseButton)</div>
<div class="line"><a id="l18638" name="l18638"></a><span class="lineno">18638</span>                tab_item_flags |= ImGuiTabItemFlags_NoCloseWithMiddleMouseButton;</div>
<div class="line"><a id="l18639" name="l18639"></a><span class="lineno">18639</span> </div>
<div class="line"><a id="l18640" name="l18640"></a><span class="lineno">18640</span>            <span class="comment">// Apply stored style overrides for the window</span></div>
<div class="line"><a id="l18641" name="l18641"></a><span class="lineno">18641</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> color_n = 0; color_n &lt; ImGuiWindowDockStyleCol_COUNT; color_n++)</div>
<div class="line"><a id="l18642" name="l18642"></a><span class="lineno">18642</span>                g.Style.Colors[GWindowDockStyleColors[color_n]] = ColorConvertU32ToFloat4(window-&gt;DockStyle.Colors[color_n]);</div>
<div class="line"><a id="l18643" name="l18643"></a><span class="lineno">18643</span> </div>
<div class="line"><a id="l18644" name="l18644"></a><span class="lineno">18644</span>            <span class="comment">// Note that TabItemEx() calls TabBarCalcTabID() so our tab item ID will ignore the current ID stack (rightly so)</span></div>
<div class="line"><a id="l18645" name="l18645"></a><span class="lineno">18645</span>            <span class="keywordtype">bool</span> tab_open = <span class="keyword">true</span>;</div>
<div class="line"><a id="l18646" name="l18646"></a><span class="lineno">18646</span>            TabItemEx(tab_bar, window-&gt;Name, window-&gt;HasCloseButton ? &amp;tab_open : NULL, tab_item_flags, window);</div>
<div class="line"><a id="l18647" name="l18647"></a><span class="lineno">18647</span>            <span class="keywordflow">if</span> (!tab_open)</div>
<div class="line"><a id="l18648" name="l18648"></a><span class="lineno">18648</span>                node-&gt;WantCloseTabId = window-&gt;TabId;</div>
<div class="line"><a id="l18649" name="l18649"></a><span class="lineno">18649</span>            <span class="keywordflow">if</span> (tab_bar-&gt;VisibleTabId == window-&gt;TabId)</div>
<div class="line"><a id="l18650" name="l18650"></a><span class="lineno">18650</span>                node-&gt;VisibleWindow = window;</div>
<div class="line"><a id="l18651" name="l18651"></a><span class="lineno">18651</span> </div>
<div class="line"><a id="l18652" name="l18652"></a><span class="lineno">18652</span>            <span class="comment">// Store last item data so it can be queried with IsItemXXX functions after the user Begin() call</span></div>
<div class="line"><a id="l18653" name="l18653"></a><span class="lineno">18653</span>            window-&gt;DC.DockTabItemStatusFlags = g.LastItemData.StatusFlags;</div>
<div class="line"><a id="l18654" name="l18654"></a><span class="lineno">18654</span>            window-&gt;DC.DockTabItemRect = g.LastItemData.Rect;</div>
<div class="line"><a id="l18655" name="l18655"></a><span class="lineno">18655</span> </div>
<div class="line"><a id="l18656" name="l18656"></a><span class="lineno">18656</span>            <span class="comment">// Update navigation ID on menu layer</span></div>
<div class="line"><a id="l18657" name="l18657"></a><span class="lineno">18657</span>            <span class="keywordflow">if</span> (g.NavWindow &amp;&amp; g.NavWindow-&gt;RootWindow == window &amp;&amp; (window-&gt;DC.NavLayersActiveMask &amp; (1 &lt;&lt; ImGuiNavLayer_Menu)) == 0)</div>
<div class="line"><a id="l18658" name="l18658"></a><span class="lineno">18658</span>                host_window-&gt;NavLastIds[1] = window-&gt;TabId;</div>
<div class="line"><a id="l18659" name="l18659"></a><span class="lineno">18659</span>        }</div>
<div class="line"><a id="l18660" name="l18660"></a><span class="lineno">18660</span>    }</div>
<div class="line"><a id="l18661" name="l18661"></a><span class="lineno">18661</span> </div>
<div class="line"><a id="l18662" name="l18662"></a><span class="lineno">18662</span>    <span class="comment">// Restore style colors</span></div>
<div class="line"><a id="l18663" name="l18663"></a><span class="lineno">18663</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> color_n = 0; color_n &lt; ImGuiWindowDockStyleCol_COUNT; color_n++)</div>
<div class="line"><a id="l18664" name="l18664"></a><span class="lineno">18664</span>        g.Style.Colors[GWindowDockStyleColors[color_n]] = backup_style_cols[color_n];</div>
<div class="line"><a id="l18665" name="l18665"></a><span class="lineno">18665</span> </div>
<div class="line"><a id="l18666" name="l18666"></a><span class="lineno">18666</span>    <span class="comment">// Notify root of visible window (used to display title in OS task bar)</span></div>
<div class="line"><a id="l18667" name="l18667"></a><span class="lineno">18667</span>    <span class="keywordflow">if</span> (node-&gt;VisibleWindow)</div>
<div class="line"><a id="l18668" name="l18668"></a><span class="lineno">18668</span>        <span class="keywordflow">if</span> (is_focused || root_node-&gt;VisibleWindow == NULL)</div>
<div class="line"><a id="l18669" name="l18669"></a><span class="lineno">18669</span>            root_node-&gt;VisibleWindow = node-&gt;VisibleWindow;</div>
<div class="line"><a id="l18670" name="l18670"></a><span class="lineno">18670</span> </div>
<div class="line"><a id="l18671" name="l18671"></a><span class="lineno">18671</span>    <span class="comment">// Close button (after VisibleWindow was updated)</span></div>
<div class="line"><a id="l18672" name="l18672"></a><span class="lineno">18672</span>    <span class="comment">// Note that VisibleWindow may have been overrided by CTRL+Tabbing, so VisibleWindow-&gt;TabId may be != from tab_bar-&gt;SelectedTabId</span></div>
<div class="line"><a id="l18673" name="l18673"></a><span class="lineno">18673</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> close_button_is_enabled = node-&gt;HasCloseButton &amp;&amp; node-&gt;VisibleWindow &amp;&amp; node-&gt;VisibleWindow-&gt;HasCloseButton;</div>
<div class="line"><a id="l18674" name="l18674"></a><span class="lineno">18674</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> close_button_is_visible = node-&gt;HasCloseButton;</div>
<div class="line"><a id="l18675" name="l18675"></a><span class="lineno">18675</span>    <span class="comment">//const bool close_button_is_visible = close_button_is_enabled; // Most people would expect this behavior of not even showing the button (leaving a hole since we can&#39;t claim that space as other windows in the tba bar have one)</span></div>
<div class="line"><a id="l18676" name="l18676"></a><span class="lineno">18676</span>    <span class="keywordflow">if</span> (close_button_is_visible)</div>
<div class="line"><a id="l18677" name="l18677"></a><span class="lineno">18677</span>    {</div>
<div class="line"><a id="l18678" name="l18678"></a><span class="lineno">18678</span>        <span class="keywordflow">if</span> (!close_button_is_enabled)</div>
<div class="line"><a id="l18679" name="l18679"></a><span class="lineno">18679</span>        {</div>
<div class="line"><a id="l18680" name="l18680"></a><span class="lineno">18680</span>            PushItemFlag(ImGuiItemFlags_Disabled, <span class="keyword">true</span>);</div>
<div class="line"><a id="l18681" name="l18681"></a><span class="lineno">18681</span>            PushStyleColor(ImGuiCol_Text, style.Colors[ImGuiCol_Text] * <a class="code hl_struct" href="structImVec4.html">ImVec4</a>(1.0f,1.0f,1.0f,0.4f));</div>
<div class="line"><a id="l18682" name="l18682"></a><span class="lineno">18682</span>        }</div>
<div class="line"><a id="l18683" name="l18683"></a><span class="lineno">18683</span>        <span class="keywordflow">if</span> (CloseButton(host_window-&gt;GetID(<span class="stringliteral">&quot;#CLOSE&quot;</span>), close_button_pos))</div>
<div class="line"><a id="l18684" name="l18684"></a><span class="lineno">18684</span>        {</div>
<div class="line"><a id="l18685" name="l18685"></a><span class="lineno">18685</span>            node-&gt;WantCloseAll = <span class="keyword">true</span>;</div>
<div class="line"><a id="l18686" name="l18686"></a><span class="lineno">18686</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; tab_bar-&gt;Tabs.Size; n++)</div>
<div class="line"><a id="l18687" name="l18687"></a><span class="lineno">18687</span>                TabBarCloseTab(tab_bar, &amp;tab_bar-&gt;Tabs[n]);</div>
<div class="line"><a id="l18688" name="l18688"></a><span class="lineno">18688</span>        }</div>
<div class="line"><a id="l18689" name="l18689"></a><span class="lineno">18689</span>        <span class="comment">//if (IsItemActive())</span></div>
<div class="line"><a id="l18690" name="l18690"></a><span class="lineno">18690</span>        <span class="comment">//    focus_tab_id = tab_bar-&gt;SelectedTabId;</span></div>
<div class="line"><a id="l18691" name="l18691"></a><span class="lineno">18691</span>        <span class="keywordflow">if</span> (!close_button_is_enabled)</div>
<div class="line"><a id="l18692" name="l18692"></a><span class="lineno">18692</span>        {</div>
<div class="line"><a id="l18693" name="l18693"></a><span class="lineno">18693</span>            PopStyleColor();</div>
<div class="line"><a id="l18694" name="l18694"></a><span class="lineno">18694</span>            PopItemFlag();</div>
<div class="line"><a id="l18695" name="l18695"></a><span class="lineno">18695</span>        }</div>
<div class="line"><a id="l18696" name="l18696"></a><span class="lineno">18696</span>    }</div>
<div class="line"><a id="l18697" name="l18697"></a><span class="lineno">18697</span> </div>
<div class="line"><a id="l18698" name="l18698"></a><span class="lineno">18698</span>    <span class="comment">// When clicking on the title bar outside of tabs, we still focus the selected tab for that node</span></div>
<div class="line"><a id="l18699" name="l18699"></a><span class="lineno">18699</span>    <span class="comment">// FIXME: TabItems submitted earlier use AllowItemOverlap so we manually perform a more specific test for now (hovered || held) in order to not cover them.</span></div>
<div class="line"><a id="l18700" name="l18700"></a><span class="lineno">18700</span>    ImGuiID title_bar_id = host_window-&gt;GetID(<span class="stringliteral">&quot;#TITLEBAR&quot;</span>);</div>
<div class="line"><a id="l18701" name="l18701"></a><span class="lineno">18701</span>    <span class="keywordflow">if</span> (g.HoveredId == 0 || g.HoveredId == title_bar_id || g.ActiveId == title_bar_id)</div>
<div class="line"><a id="l18702" name="l18702"></a><span class="lineno">18702</span>    {</div>
<div class="line"><a id="l18703" name="l18703"></a><span class="lineno">18703</span>        <span class="comment">// AllowOverlap mode required for appending into dock node tab bar,</span></div>
<div class="line"><a id="l18704" name="l18704"></a><span class="lineno">18704</span>        <span class="comment">// otherwise dragging window will steal HoveredId and amended tabs cannot get them.</span></div>
<div class="line"><a id="l18705" name="l18705"></a><span class="lineno">18705</span>        <span class="keywordtype">bool</span> held;</div>
<div class="line"><a id="l18706" name="l18706"></a><span class="lineno">18706</span>        KeepAliveID(title_bar_id);</div>
<div class="line"><a id="l18707" name="l18707"></a><span class="lineno">18707</span>        ButtonBehavior(title_bar_rect, title_bar_id, NULL, &amp;held, ImGuiButtonFlags_AllowOverlap);</div>
<div class="line"><a id="l18708" name="l18708"></a><span class="lineno">18708</span>        <span class="keywordflow">if</span> (g.HoveredId == title_bar_id)</div>
<div class="line"><a id="l18709" name="l18709"></a><span class="lineno">18709</span>        {</div>
<div class="line"><a id="l18710" name="l18710"></a><span class="lineno">18710</span>            g.LastItemData.ID = title_bar_id;</div>
<div class="line"><a id="l18711" name="l18711"></a><span class="lineno">18711</span>        }</div>
<div class="line"><a id="l18712" name="l18712"></a><span class="lineno">18712</span>        <span class="keywordflow">if</span> (held)</div>
<div class="line"><a id="l18713" name="l18713"></a><span class="lineno">18713</span>        {</div>
<div class="line"><a id="l18714" name="l18714"></a><span class="lineno">18714</span>            <span class="keywordflow">if</span> (IsMouseClicked(0))</div>
<div class="line"><a id="l18715" name="l18715"></a><span class="lineno">18715</span>                focus_tab_id = tab_bar-&gt;SelectedTabId;</div>
<div class="line"><a id="l18716" name="l18716"></a><span class="lineno">18716</span> </div>
<div class="line"><a id="l18717" name="l18717"></a><span class="lineno">18717</span>            <span class="comment">// Forward moving request to selected window</span></div>
<div class="line"><a id="l18718" name="l18718"></a><span class="lineno">18718</span>            <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiTabItem.html">ImGuiTabItem</a>* tab = TabBarFindTabByID(tab_bar, tab_bar-&gt;SelectedTabId))</div>
<div class="line"><a id="l18719" name="l18719"></a><span class="lineno">18719</span>                StartMouseMovingWindowOrNode(tab-&gt;Window ? tab-&gt;Window : node-&gt;HostWindow, node, false); <span class="comment">// Undock from tab bar empty space</span></div>
<div class="line"><a id="l18720" name="l18720"></a><span class="lineno">18720</span>        }</div>
<div class="line"><a id="l18721" name="l18721"></a><span class="lineno">18721</span>    }</div>
<div class="line"><a id="l18722" name="l18722"></a><span class="lineno">18722</span> </div>
<div class="line"><a id="l18723" name="l18723"></a><span class="lineno">18723</span>    <span class="comment">// Forward focus from host node to selected window</span></div>
<div class="line"><a id="l18724" name="l18724"></a><span class="lineno">18724</span>    <span class="comment">//if (is_focused &amp;&amp; g.NavWindow == host_window &amp;&amp; !g.NavWindowingTarget)</span></div>
<div class="line"><a id="l18725" name="l18725"></a><span class="lineno">18725</span>    <span class="comment">//    focus_tab_id = tab_bar-&gt;SelectedTabId;</span></div>
<div class="line"><a id="l18726" name="l18726"></a><span class="lineno">18726</span> </div>
<div class="line"><a id="l18727" name="l18727"></a><span class="lineno">18727</span>    <span class="comment">// When clicked on a tab we requested focus to the docked child</span></div>
<div class="line"><a id="l18728" name="l18728"></a><span class="lineno">18728</span>    <span class="comment">// This overrides the value set by &quot;forward focus from host node to selected window&quot;.</span></div>
<div class="line"><a id="l18729" name="l18729"></a><span class="lineno">18729</span>    <span class="keywordflow">if</span> (tab_bar-&gt;NextSelectedTabId)</div>
<div class="line"><a id="l18730" name="l18730"></a><span class="lineno">18730</span>        focus_tab_id = tab_bar-&gt;NextSelectedTabId;</div>
<div class="line"><a id="l18731" name="l18731"></a><span class="lineno">18731</span> </div>
<div class="line"><a id="l18732" name="l18732"></a><span class="lineno">18732</span>    <span class="comment">// Apply navigation focus</span></div>
<div class="line"><a id="l18733" name="l18733"></a><span class="lineno">18733</span>    <span class="keywordflow">if</span> (focus_tab_id != 0)</div>
<div class="line"><a id="l18734" name="l18734"></a><span class="lineno">18734</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiTabItem.html">ImGuiTabItem</a>* tab = TabBarFindTabByID(tab_bar, focus_tab_id))</div>
<div class="line"><a id="l18735" name="l18735"></a><span class="lineno">18735</span>            <span class="keywordflow">if</span> (tab-&gt;Window)</div>
<div class="line"><a id="l18736" name="l18736"></a><span class="lineno">18736</span>            {</div>
<div class="line"><a id="l18737" name="l18737"></a><span class="lineno">18737</span>                FocusWindow(tab-&gt;Window);</div>
<div class="line"><a id="l18738" name="l18738"></a><span class="lineno">18738</span>                NavInitWindow(tab-&gt;Window, <span class="keyword">false</span>);</div>
<div class="line"><a id="l18739" name="l18739"></a><span class="lineno">18739</span>            }</div>
<div class="line"><a id="l18740" name="l18740"></a><span class="lineno">18740</span> </div>
<div class="line"><a id="l18741" name="l18741"></a><span class="lineno">18741</span>    EndTabBar();</div>
<div class="line"><a id="l18742" name="l18742"></a><span class="lineno">18742</span>    PopID();</div>
<div class="line"><a id="l18743" name="l18743"></a><span class="lineno">18743</span> </div>
<div class="line"><a id="l18744" name="l18744"></a><span class="lineno">18744</span>    <span class="comment">// Restore SkipItems flag</span></div>
<div class="line"><a id="l18745" name="l18745"></a><span class="lineno">18745</span>    <span class="keywordflow">if</span> (!node-&gt;IsDockSpace())</div>
<div class="line"><a id="l18746" name="l18746"></a><span class="lineno">18746</span>    {</div>
<div class="line"><a id="l18747" name="l18747"></a><span class="lineno">18747</span>        host_window-&gt;DC.NavLayerCurrent = ImGuiNavLayer_Main;</div>
<div class="line"><a id="l18748" name="l18748"></a><span class="lineno">18748</span>        host_window-&gt;SkipItems = backup_skip_item;</div>
<div class="line"><a id="l18749" name="l18749"></a><span class="lineno">18749</span>    }</div>
<div class="line"><a id="l18750" name="l18750"></a><span class="lineno">18750</span>}</div>
<div class="line"><a id="l18751" name="l18751"></a><span class="lineno">18751</span> </div>
<div class="line"><a id="l18752" name="l18752"></a><span class="lineno">18752</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::DockNodeAddTabBar(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node)</div>
<div class="line"><a id="l18753" name="l18753"></a><span class="lineno">18753</span>{</div>
<div class="line"><a id="l18754" name="l18754"></a><span class="lineno">18754</span>    IM_ASSERT(node-&gt;TabBar == NULL);</div>
<div class="line"><a id="l18755" name="l18755"></a><span class="lineno">18755</span>    node-&gt;TabBar = IM_NEW(<a class="code hl_struct" href="structImGuiTabBar.html">ImGuiTabBar</a>);</div>
<div class="line"><a id="l18756" name="l18756"></a><span class="lineno">18756</span>}</div>
<div class="line"><a id="l18757" name="l18757"></a><span class="lineno">18757</span> </div>
<div class="line"><a id="l18758" name="l18758"></a><span class="lineno">18758</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::DockNodeRemoveTabBar(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node)</div>
<div class="line"><a id="l18759" name="l18759"></a><span class="lineno">18759</span>{</div>
<div class="line"><a id="l18760" name="l18760"></a><span class="lineno">18760</span>    <span class="keywordflow">if</span> (node-&gt;TabBar == NULL)</div>
<div class="line"><a id="l18761" name="l18761"></a><span class="lineno">18761</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l18762" name="l18762"></a><span class="lineno">18762</span>    IM_DELETE(node-&gt;TabBar);</div>
<div class="line"><a id="l18763" name="l18763"></a><span class="lineno">18763</span>    node-&gt;TabBar = NULL;</div>
<div class="line"><a id="l18764" name="l18764"></a><span class="lineno">18764</span>}</div>
<div class="line"><a id="l18765" name="l18765"></a><span class="lineno">18765</span> </div>
<div class="line"><a id="l18766" name="l18766"></a><span class="lineno">18766</span><span class="keyword">static</span> <span class="keywordtype">bool</span> DockNodeIsDropAllowedOne(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* payload, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* host_window)</div>
<div class="line"><a id="l18767" name="l18767"></a><span class="lineno">18767</span>{</div>
<div class="line"><a id="l18768" name="l18768"></a><span class="lineno">18768</span>    <span class="keywordflow">if</span> (host_window-&gt;DockNodeAsHost &amp;&amp; host_window-&gt;DockNodeAsHost-&gt;IsDockSpace() &amp;&amp; payload-&gt;BeginOrderWithinContext &lt; host_window-&gt;BeginOrderWithinContext)</div>
<div class="line"><a id="l18769" name="l18769"></a><span class="lineno">18769</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l18770" name="l18770"></a><span class="lineno">18770</span> </div>
<div class="line"><a id="l18771" name="l18771"></a><span class="lineno">18771</span>    <a class="code hl_struct" href="structImGuiWindowClass.html">ImGuiWindowClass</a>* host_class = host_window-&gt;DockNodeAsHost ? &amp;host_window-&gt;DockNodeAsHost-&gt;WindowClass : &amp;host_window-&gt;WindowClass;</div>
<div class="line"><a id="l18772" name="l18772"></a><span class="lineno">18772</span>    <a class="code hl_struct" href="structImGuiWindowClass.html">ImGuiWindowClass</a>* payload_class = &amp;payload-&gt;WindowClass;</div>
<div class="line"><a id="l18773" name="l18773"></a><span class="lineno">18773</span>    <span class="keywordflow">if</span> (host_class-&gt;ClassId != payload_class-&gt;ClassId)</div>
<div class="line"><a id="l18774" name="l18774"></a><span class="lineno">18774</span>    {</div>
<div class="line"><a id="l18775" name="l18775"></a><span class="lineno">18775</span>        <span class="keywordtype">bool</span> pass = <span class="keyword">false</span>;</div>
<div class="line"><a id="l18776" name="l18776"></a><span class="lineno">18776</span>        <span class="keywordflow">if</span> (host_class-&gt;ClassId != 0 &amp;&amp; host_class-&gt;DockingAllowUnclassed &amp;&amp; payload_class-&gt;ClassId == 0)</div>
<div class="line"><a id="l18777" name="l18777"></a><span class="lineno">18777</span>            pass = <span class="keyword">true</span>;</div>
<div class="line"><a id="l18778" name="l18778"></a><span class="lineno">18778</span>        <span class="keywordflow">if</span> (payload_class-&gt;ClassId != 0 &amp;&amp; payload_class-&gt;DockingAllowUnclassed &amp;&amp; host_class-&gt;ClassId == 0)</div>
<div class="line"><a id="l18779" name="l18779"></a><span class="lineno">18779</span>            pass = <span class="keyword">true</span>;</div>
<div class="line"><a id="l18780" name="l18780"></a><span class="lineno">18780</span>        <span class="keywordflow">if</span> (!pass)</div>
<div class="line"><a id="l18781" name="l18781"></a><span class="lineno">18781</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l18782" name="l18782"></a><span class="lineno">18782</span>    }</div>
<div class="line"><a id="l18783" name="l18783"></a><span class="lineno">18783</span> </div>
<div class="line"><a id="l18784" name="l18784"></a><span class="lineno">18784</span>    <span class="comment">// Prevent docking any window created above a popup</span></div>
<div class="line"><a id="l18785" name="l18785"></a><span class="lineno">18785</span>    <span class="comment">// Technically we should support it (e.g. in the case of a long-lived modal window that had fancy docking features),</span></div>
<div class="line"><a id="l18786" name="l18786"></a><span class="lineno">18786</span>    <span class="comment">// by e.g. adding a &#39;if (!ImGui::IsWindowWithinBeginStackOf(host_window, popup_window))&#39; test.</span></div>
<div class="line"><a id="l18787" name="l18787"></a><span class="lineno">18787</span>    <span class="comment">// But it would requires more work on our end because the dock host windows is technically created in NewFrame()</span></div>
<div class="line"><a id="l18788" name="l18788"></a><span class="lineno">18788</span>    <span class="comment">// and our -&gt;ParentXXX and -&gt;RootXXX pointers inside windows are currently mislading or lacking.</span></div>
<div class="line"><a id="l18789" name="l18789"></a><span class="lineno">18789</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l18790" name="l18790"></a><span class="lineno">18790</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = g.OpenPopupStack.Size - 1; i &gt;= 0; i--)</div>
<div class="line"><a id="l18791" name="l18791"></a><span class="lineno">18791</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* popup_window = g.OpenPopupStack[i].Window)</div>
<div class="line"><a id="l18792" name="l18792"></a><span class="lineno">18792</span>            <span class="keywordflow">if</span> (ImGui::IsWindowWithinBeginStackOf(payload, popup_window))   <span class="comment">// Payload is created from within a popup begin stack.</span></div>
<div class="line"><a id="l18793" name="l18793"></a><span class="lineno">18793</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l18794" name="l18794"></a><span class="lineno">18794</span> </div>
<div class="line"><a id="l18795" name="l18795"></a><span class="lineno">18795</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l18796" name="l18796"></a><span class="lineno">18796</span>}</div>
<div class="line"><a id="l18797" name="l18797"></a><span class="lineno">18797</span> </div>
<div class="line"><a id="l18798" name="l18798"></a><span class="lineno">18798</span><span class="keyword">static</span> <span class="keywordtype">bool</span> ImGui::DockNodeIsDropAllowed(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* host_window, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* root_payload)</div>
<div class="line"><a id="l18799" name="l18799"></a><span class="lineno">18799</span>{</div>
<div class="line"><a id="l18800" name="l18800"></a><span class="lineno">18800</span>    <span class="keywordflow">if</span> (root_payload-&gt;DockNodeAsHost &amp;&amp; root_payload-&gt;DockNodeAsHost-&gt;IsSplitNode()) <span class="comment">// FIXME-DOCK: Missing filtering</span></div>
<div class="line"><a id="l18801" name="l18801"></a><span class="lineno">18801</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l18802" name="l18802"></a><span class="lineno">18802</span> </div>
<div class="line"><a id="l18803" name="l18803"></a><span class="lineno">18803</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> payload_count = root_payload-&gt;DockNodeAsHost ? root_payload-&gt;DockNodeAsHost-&gt;Windows.Size : 1;</div>
<div class="line"><a id="l18804" name="l18804"></a><span class="lineno">18804</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> payload_n = 0; payload_n &lt; payload_count; payload_n++)</div>
<div class="line"><a id="l18805" name="l18805"></a><span class="lineno">18805</span>    {</div>
<div class="line"><a id="l18806" name="l18806"></a><span class="lineno">18806</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* payload = root_payload-&gt;DockNodeAsHost ? root_payload-&gt;DockNodeAsHost-&gt;Windows[payload_n] : root_payload;</div>
<div class="line"><a id="l18807" name="l18807"></a><span class="lineno">18807</span>        <span class="keywordflow">if</span> (DockNodeIsDropAllowedOne(payload, host_window))</div>
<div class="line"><a id="l18808" name="l18808"></a><span class="lineno">18808</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l18809" name="l18809"></a><span class="lineno">18809</span>    }</div>
<div class="line"><a id="l18810" name="l18810"></a><span class="lineno">18810</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l18811" name="l18811"></a><span class="lineno">18811</span>}</div>
<div class="line"><a id="l18812" name="l18812"></a><span class="lineno">18812</span> </div>
<div class="line"><a id="l18813" name="l18813"></a><span class="lineno">18813</span><span class="comment">// window menu button == collapse button when not in a dock node.</span></div>
<div class="line"><a id="l18814" name="l18814"></a><span class="lineno">18814</span><span class="comment">// FIXME: This is similar to RenderWindowTitleBarContents(), may want to share code.</span></div>
<div class="line"><a id="l18815" name="l18815"></a><span class="lineno">18815</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::DockNodeCalcTabBarLayout(<span class="keyword">const</span> <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node, <a class="code hl_struct" href="structImRect.html">ImRect</a>* out_title_rect, <a class="code hl_struct" href="structImRect.html">ImRect</a>* out_tab_bar_rect, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>* out_window_menu_button_pos, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>* out_close_button_pos)</div>
<div class="line"><a id="l18816" name="l18816"></a><span class="lineno">18816</span>{</div>
<div class="line"><a id="l18817" name="l18817"></a><span class="lineno">18817</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l18818" name="l18818"></a><span class="lineno">18818</span>    <a class="code hl_struct" href="structImGuiStyle.html">ImGuiStyle</a>&amp; style = g.Style;</div>
<div class="line"><a id="l18819" name="l18819"></a><span class="lineno">18819</span> </div>
<div class="line"><a id="l18820" name="l18820"></a><span class="lineno">18820</span>    <a class="code hl_struct" href="structImRect.html">ImRect</a> r = <a class="code hl_struct" href="structImRect.html">ImRect</a>(node-&gt;Pos.x, node-&gt;Pos.y, node-&gt;Pos.x + node-&gt;Size.x, node-&gt;Pos.y + g.FontSize + g.Style.FramePadding.y * 2.0f);</div>
<div class="line"><a id="l18821" name="l18821"></a><span class="lineno">18821</span>    <span class="keywordflow">if</span> (out_title_rect) { *out_title_rect = r; }</div>
<div class="line"><a id="l18822" name="l18822"></a><span class="lineno">18822</span> </div>
<div class="line"><a id="l18823" name="l18823"></a><span class="lineno">18823</span>    r.Min.x += style.WindowBorderSize;</div>
<div class="line"><a id="l18824" name="l18824"></a><span class="lineno">18824</span>    r.Max.x -= style.WindowBorderSize;</div>
<div class="line"><a id="l18825" name="l18825"></a><span class="lineno">18825</span> </div>
<div class="line"><a id="l18826" name="l18826"></a><span class="lineno">18826</span>    <span class="keywordtype">float</span> button_sz = g.FontSize;</div>
<div class="line"><a id="l18827" name="l18827"></a><span class="lineno">18827</span>    r.Min.x += style.FramePadding.x;</div>
<div class="line"><a id="l18828" name="l18828"></a><span class="lineno">18828</span>    r.Max.x -= style.FramePadding.x;</div>
<div class="line"><a id="l18829" name="l18829"></a><span class="lineno">18829</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> window_menu_button_pos = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(r.Min.x, r.Min.y + style.FramePadding.y);</div>
<div class="line"><a id="l18830" name="l18830"></a><span class="lineno">18830</span>    <span class="keywordflow">if</span> (node-&gt;HasCloseButton)</div>
<div class="line"><a id="l18831" name="l18831"></a><span class="lineno">18831</span>    {</div>
<div class="line"><a id="l18832" name="l18832"></a><span class="lineno">18832</span>        <span class="keywordflow">if</span> (out_close_button_pos) *out_close_button_pos = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(r.Max.x - button_sz, r.Min.y + style.FramePadding.y);</div>
<div class="line"><a id="l18833" name="l18833"></a><span class="lineno">18833</span>        r.Max.x -= button_sz + style.ItemInnerSpacing.x;</div>
<div class="line"><a id="l18834" name="l18834"></a><span class="lineno">18834</span>    }</div>
<div class="line"><a id="l18835" name="l18835"></a><span class="lineno">18835</span>    <span class="keywordflow">if</span> (node-&gt;HasWindowMenuButton &amp;&amp; style.WindowMenuButtonPosition == ImGuiDir_Left)</div>
<div class="line"><a id="l18836" name="l18836"></a><span class="lineno">18836</span>    {</div>
<div class="line"><a id="l18837" name="l18837"></a><span class="lineno">18837</span>        r.Min.x += button_sz + style.ItemInnerSpacing.x;</div>
<div class="line"><a id="l18838" name="l18838"></a><span class="lineno">18838</span>    }</div>
<div class="line"><a id="l18839" name="l18839"></a><span class="lineno">18839</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (node-&gt;HasWindowMenuButton &amp;&amp; style.WindowMenuButtonPosition == ImGuiDir_Right)</div>
<div class="line"><a id="l18840" name="l18840"></a><span class="lineno">18840</span>    {</div>
<div class="line"><a id="l18841" name="l18841"></a><span class="lineno">18841</span>        window_menu_button_pos = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(r.Max.x - button_sz, r.Min.y + style.FramePadding.y);</div>
<div class="line"><a id="l18842" name="l18842"></a><span class="lineno">18842</span>        r.Max.x -= button_sz + style.ItemInnerSpacing.x;</div>
<div class="line"><a id="l18843" name="l18843"></a><span class="lineno">18843</span>    }</div>
<div class="line"><a id="l18844" name="l18844"></a><span class="lineno">18844</span>    <span class="keywordflow">if</span> (out_tab_bar_rect) { *out_tab_bar_rect = r; }</div>
<div class="line"><a id="l18845" name="l18845"></a><span class="lineno">18845</span>    <span class="keywordflow">if</span> (out_window_menu_button_pos) { *out_window_menu_button_pos = window_menu_button_pos; }</div>
<div class="line"><a id="l18846" name="l18846"></a><span class="lineno">18846</span>}</div>
<div class="line"><a id="l18847" name="l18847"></a><span class="lineno">18847</span> </div>
<div class="line"><a id="l18848" name="l18848"></a><span class="lineno">18848</span><span class="keywordtype">void</span> ImGui::DockNodeCalcSplitRects(<a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; pos_old, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; size_old, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; pos_new, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; size_new, ImGuiDir dir, <a class="code hl_struct" href="structImVec2.html">ImVec2</a> size_new_desired)</div>
<div class="line"><a id="l18849" name="l18849"></a><span class="lineno">18849</span>{</div>
<div class="line"><a id="l18850" name="l18850"></a><span class="lineno">18850</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l18851" name="l18851"></a><span class="lineno">18851</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> dock_spacing = g.Style.ItemInnerSpacing.x;</div>
<div class="line"><a id="l18852" name="l18852"></a><span class="lineno">18852</span>    <span class="keyword">const</span> ImGuiAxis axis = (dir == ImGuiDir_Left || dir == ImGuiDir_Right) ? ImGuiAxis_X : ImGuiAxis_Y;</div>
<div class="line"><a id="l18853" name="l18853"></a><span class="lineno">18853</span>    pos_new[axis ^ 1] = pos_old[axis ^ 1];</div>
<div class="line"><a id="l18854" name="l18854"></a><span class="lineno">18854</span>    size_new[axis ^ 1] = size_old[axis ^ 1];</div>
<div class="line"><a id="l18855" name="l18855"></a><span class="lineno">18855</span> </div>
<div class="line"><a id="l18856" name="l18856"></a><span class="lineno">18856</span>    <span class="comment">// Distribute size on given axis (with a desired size or equally)</span></div>
<div class="line"><a id="l18857" name="l18857"></a><span class="lineno">18857</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> w_avail = size_old[axis] - dock_spacing;</div>
<div class="line"><a id="l18858" name="l18858"></a><span class="lineno">18858</span>    <span class="keywordflow">if</span> (size_new_desired[axis] &gt; 0.0f &amp;&amp; size_new_desired[axis] &lt;= w_avail * 0.5f)</div>
<div class="line"><a id="l18859" name="l18859"></a><span class="lineno">18859</span>    {</div>
<div class="line"><a id="l18860" name="l18860"></a><span class="lineno">18860</span>        size_new[axis] = size_new_desired[axis];</div>
<div class="line"><a id="l18861" name="l18861"></a><span class="lineno">18861</span>        size_old[axis] = IM_TRUNC(w_avail - size_new[axis]);</div>
<div class="line"><a id="l18862" name="l18862"></a><span class="lineno">18862</span>    }</div>
<div class="line"><a id="l18863" name="l18863"></a><span class="lineno">18863</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l18864" name="l18864"></a><span class="lineno">18864</span>    {</div>
<div class="line"><a id="l18865" name="l18865"></a><span class="lineno">18865</span>        size_new[axis] = IM_TRUNC(w_avail * 0.5f);</div>
<div class="line"><a id="l18866" name="l18866"></a><span class="lineno">18866</span>        size_old[axis] = IM_TRUNC(w_avail - size_new[axis]);</div>
<div class="line"><a id="l18867" name="l18867"></a><span class="lineno">18867</span>    }</div>
<div class="line"><a id="l18868" name="l18868"></a><span class="lineno">18868</span> </div>
<div class="line"><a id="l18869" name="l18869"></a><span class="lineno">18869</span>    <span class="comment">// Position each node</span></div>
<div class="line"><a id="l18870" name="l18870"></a><span class="lineno">18870</span>    <span class="keywordflow">if</span> (dir == ImGuiDir_Right || dir == ImGuiDir_Down)</div>
<div class="line"><a id="l18871" name="l18871"></a><span class="lineno">18871</span>    {</div>
<div class="line"><a id="l18872" name="l18872"></a><span class="lineno">18872</span>        pos_new[axis] = pos_old[axis] + size_old[axis] + dock_spacing;</div>
<div class="line"><a id="l18873" name="l18873"></a><span class="lineno">18873</span>    }</div>
<div class="line"><a id="l18874" name="l18874"></a><span class="lineno">18874</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dir == ImGuiDir_Left || dir == ImGuiDir_Up)</div>
<div class="line"><a id="l18875" name="l18875"></a><span class="lineno">18875</span>    {</div>
<div class="line"><a id="l18876" name="l18876"></a><span class="lineno">18876</span>        pos_new[axis] = pos_old[axis];</div>
<div class="line"><a id="l18877" name="l18877"></a><span class="lineno">18877</span>        pos_old[axis] = pos_new[axis] + size_new[axis] + dock_spacing;</div>
<div class="line"><a id="l18878" name="l18878"></a><span class="lineno">18878</span>    }</div>
<div class="line"><a id="l18879" name="l18879"></a><span class="lineno">18879</span>}</div>
<div class="line"><a id="l18880" name="l18880"></a><span class="lineno">18880</span> </div>
<div class="line"><a id="l18881" name="l18881"></a><span class="lineno">18881</span><span class="comment">// Retrieve the drop rectangles for a given direction or for the center + perform hit testing.</span></div>
<div class="line"><a id="l18882" name="l18882"></a><span class="lineno">18882</span><span class="keywordtype">bool</span> ImGui::DockNodeCalcDropRectsAndTestMousePos(<span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; parent, ImGuiDir dir, <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; out_r, <span class="keywordtype">bool</span> outer_docking, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>* test_mouse_pos)</div>
<div class="line"><a id="l18883" name="l18883"></a><span class="lineno">18883</span>{</div>
<div class="line"><a id="l18884" name="l18884"></a><span class="lineno">18884</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l18885" name="l18885"></a><span class="lineno">18885</span> </div>
<div class="line"><a id="l18886" name="l18886"></a><span class="lineno">18886</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> parent_smaller_axis = ImMin(parent.GetWidth(), parent.GetHeight());</div>
<div class="line"><a id="l18887" name="l18887"></a><span class="lineno">18887</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> hs_for_central_nodes = ImMin(g.FontSize * 1.5f, ImMax(g.FontSize * 0.5f, parent_smaller_axis / 8.0f));</div>
<div class="line"><a id="l18888" name="l18888"></a><span class="lineno">18888</span>    <span class="keywordtype">float</span> hs_w; <span class="comment">// Half-size, longer axis</span></div>
<div class="line"><a id="l18889" name="l18889"></a><span class="lineno">18889</span>    <span class="keywordtype">float</span> hs_h; <span class="comment">// Half-size, smaller axis</span></div>
<div class="line"><a id="l18890" name="l18890"></a><span class="lineno">18890</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> off; <span class="comment">// Distance from edge or center</span></div>
<div class="line"><a id="l18891" name="l18891"></a><span class="lineno">18891</span>    <span class="keywordflow">if</span> (outer_docking)</div>
<div class="line"><a id="l18892" name="l18892"></a><span class="lineno">18892</span>    {</div>
<div class="line"><a id="l18893" name="l18893"></a><span class="lineno">18893</span>        <span class="comment">//hs_w = ImTrunc(ImClamp(parent_smaller_axis - hs_for_central_nodes * 4.0f, g.FontSize * 0.5f, g.FontSize * 8.0f));</span></div>
<div class="line"><a id="l18894" name="l18894"></a><span class="lineno">18894</span>        <span class="comment">//hs_h = ImTrunc(hs_w * 0.15f);</span></div>
<div class="line"><a id="l18895" name="l18895"></a><span class="lineno">18895</span>        <span class="comment">//off = ImVec2(ImTrunc(parent.GetWidth() * 0.5f - GetFrameHeightWithSpacing() * 1.4f - hs_h), ImTrunc(parent.GetHeight() * 0.5f - GetFrameHeightWithSpacing() * 1.4f - hs_h));</span></div>
<div class="line"><a id="l18896" name="l18896"></a><span class="lineno">18896</span>        hs_w = ImTrunc(hs_for_central_nodes * 1.50f);</div>
<div class="line"><a id="l18897" name="l18897"></a><span class="lineno">18897</span>        hs_h = ImTrunc(hs_for_central_nodes * 0.80f);</div>
<div class="line"><a id="l18898" name="l18898"></a><span class="lineno">18898</span>        off = ImTrunc(<a class="code hl_struct" href="structImVec2.html">ImVec2</a>(parent.GetWidth() * 0.5f - hs_h, parent.GetHeight() * 0.5f - hs_h));</div>
<div class="line"><a id="l18899" name="l18899"></a><span class="lineno">18899</span>    }</div>
<div class="line"><a id="l18900" name="l18900"></a><span class="lineno">18900</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l18901" name="l18901"></a><span class="lineno">18901</span>    {</div>
<div class="line"><a id="l18902" name="l18902"></a><span class="lineno">18902</span>        hs_w = ImTrunc(hs_for_central_nodes);</div>
<div class="line"><a id="l18903" name="l18903"></a><span class="lineno">18903</span>        hs_h = ImTrunc(hs_for_central_nodes * 0.90f);</div>
<div class="line"><a id="l18904" name="l18904"></a><span class="lineno">18904</span>        off = ImTrunc(<a class="code hl_struct" href="structImVec2.html">ImVec2</a>(hs_w * 2.40f, hs_w * 2.40f));</div>
<div class="line"><a id="l18905" name="l18905"></a><span class="lineno">18905</span>    }</div>
<div class="line"><a id="l18906" name="l18906"></a><span class="lineno">18906</span> </div>
<div class="line"><a id="l18907" name="l18907"></a><span class="lineno">18907</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> c = ImTrunc(parent.GetCenter());</div>
<div class="line"><a id="l18908" name="l18908"></a><span class="lineno">18908</span>    <span class="keywordflow">if</span>      (dir == ImGuiDir_None)  { out_r = <a class="code hl_struct" href="structImRect.html">ImRect</a>(c.x - hs_w, c.y - hs_w,         c.x + hs_w, c.y + hs_w);         }</div>
<div class="line"><a id="l18909" name="l18909"></a><span class="lineno">18909</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dir == ImGuiDir_Up)    { out_r = <a class="code hl_struct" href="structImRect.html">ImRect</a>(c.x - hs_w, c.y - off.y - hs_h, c.x + hs_w, c.y - off.y + hs_h); }</div>
<div class="line"><a id="l18910" name="l18910"></a><span class="lineno">18910</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dir == ImGuiDir_Down)  { out_r = <a class="code hl_struct" href="structImRect.html">ImRect</a>(c.x - hs_w, c.y + off.y - hs_h, c.x + hs_w, c.y + off.y + hs_h); }</div>
<div class="line"><a id="l18911" name="l18911"></a><span class="lineno">18911</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dir == ImGuiDir_Left)  { out_r = <a class="code hl_struct" href="structImRect.html">ImRect</a>(c.x - off.x - hs_h, c.y - hs_w, c.x - off.x + hs_h, c.y + hs_w); }</div>
<div class="line"><a id="l18912" name="l18912"></a><span class="lineno">18912</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dir == ImGuiDir_Right) { out_r = <a class="code hl_struct" href="structImRect.html">ImRect</a>(c.x + off.x - hs_h, c.y - hs_w, c.x + off.x + hs_h, c.y + hs_w); }</div>
<div class="line"><a id="l18913" name="l18913"></a><span class="lineno">18913</span> </div>
<div class="line"><a id="l18914" name="l18914"></a><span class="lineno">18914</span>    <span class="keywordflow">if</span> (test_mouse_pos == NULL)</div>
<div class="line"><a id="l18915" name="l18915"></a><span class="lineno">18915</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l18916" name="l18916"></a><span class="lineno">18916</span> </div>
<div class="line"><a id="l18917" name="l18917"></a><span class="lineno">18917</span>    <a class="code hl_struct" href="structImRect.html">ImRect</a> hit_r = out_r;</div>
<div class="line"><a id="l18918" name="l18918"></a><span class="lineno">18918</span>    <span class="keywordflow">if</span> (!outer_docking)</div>
<div class="line"><a id="l18919" name="l18919"></a><span class="lineno">18919</span>    {</div>
<div class="line"><a id="l18920" name="l18920"></a><span class="lineno">18920</span>        <span class="comment">// Custom hit testing for the 5-way selection, designed to reduce flickering when moving diagonally between sides</span></div>
<div class="line"><a id="l18921" name="l18921"></a><span class="lineno">18921</span>        hit_r.Expand(ImTrunc(hs_w * 0.30f));</div>
<div class="line"><a id="l18922" name="l18922"></a><span class="lineno">18922</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> mouse_delta = (*test_mouse_pos - c);</div>
<div class="line"><a id="l18923" name="l18923"></a><span class="lineno">18923</span>        <span class="keywordtype">float</span> mouse_delta_len2 = ImLengthSqr(mouse_delta);</div>
<div class="line"><a id="l18924" name="l18924"></a><span class="lineno">18924</span>        <span class="keywordtype">float</span> r_threshold_center = hs_w * 1.4f;</div>
<div class="line"><a id="l18925" name="l18925"></a><span class="lineno">18925</span>        <span class="keywordtype">float</span> r_threshold_sides = hs_w * (1.4f + 1.2f);</div>
<div class="line"><a id="l18926" name="l18926"></a><span class="lineno">18926</span>        <span class="keywordflow">if</span> (mouse_delta_len2 &lt; r_threshold_center * r_threshold_center)</div>
<div class="line"><a id="l18927" name="l18927"></a><span class="lineno">18927</span>            <span class="keywordflow">return</span> (dir == ImGuiDir_None);</div>
<div class="line"><a id="l18928" name="l18928"></a><span class="lineno">18928</span>        <span class="keywordflow">if</span> (mouse_delta_len2 &lt; r_threshold_sides * r_threshold_sides)</div>
<div class="line"><a id="l18929" name="l18929"></a><span class="lineno">18929</span>            <span class="keywordflow">return</span> (dir == ImGetDirQuadrantFromDelta(mouse_delta.x, mouse_delta.y));</div>
<div class="line"><a id="l18930" name="l18930"></a><span class="lineno">18930</span>    }</div>
<div class="line"><a id="l18931" name="l18931"></a><span class="lineno">18931</span>    <span class="keywordflow">return</span> hit_r.Contains(*test_mouse_pos);</div>
<div class="line"><a id="l18932" name="l18932"></a><span class="lineno">18932</span>}</div>
<div class="line"><a id="l18933" name="l18933"></a><span class="lineno">18933</span> </div>
<div class="line"><a id="l18934" name="l18934"></a><span class="lineno">18934</span><span class="comment">// host_node may be NULL if the window doesn&#39;t have a DockNode already.</span></div>
<div class="line"><a id="l18935" name="l18935"></a><span class="lineno">18935</span><span class="comment">// FIXME-DOCK: This is misnamed since it&#39;s also doing the filtering.</span></div>
<div class="line"><a id="l18936" name="l18936"></a><span class="lineno">18936</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::DockNodePreviewDockSetup(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* host_window, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* host_node, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* payload_window, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* payload_node, <a class="code hl_struct" href="structImGuiDockPreviewData.html">ImGuiDockPreviewData</a>* data, <span class="keywordtype">bool</span> is_explicit_target, <span class="keywordtype">bool</span> is_outer_docking)</div>
<div class="line"><a id="l18937" name="l18937"></a><span class="lineno">18937</span>{</div>
<div class="line"><a id="l18938" name="l18938"></a><span class="lineno">18938</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l18939" name="l18939"></a><span class="lineno">18939</span> </div>
<div class="line"><a id="l18940" name="l18940"></a><span class="lineno">18940</span>    <span class="comment">// There is an edge case when docking into a dockspace which only has inactive nodes.</span></div>
<div class="line"><a id="l18941" name="l18941"></a><span class="lineno">18941</span>    <span class="comment">// In this case DockNodeTreeFindNodeByPos() will have selected a leaf node which is inactive.</span></div>
<div class="line"><a id="l18942" name="l18942"></a><span class="lineno">18942</span>    <span class="comment">// Because the inactive leaf node doesn&#39;t have proper pos/size yet, we&#39;ll use the root node as reference.</span></div>
<div class="line"><a id="l18943" name="l18943"></a><span class="lineno">18943</span>    <span class="keywordflow">if</span> (payload_node == NULL)</div>
<div class="line"><a id="l18944" name="l18944"></a><span class="lineno">18944</span>        payload_node = payload_window-&gt;DockNodeAsHost;</div>
<div class="line"><a id="l18945" name="l18945"></a><span class="lineno">18945</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* ref_node_for_rect = (host_node &amp;&amp; !host_node-&gt;IsVisible) ? DockNodeGetRootNode(host_node) : host_node;</div>
<div class="line"><a id="l18946" name="l18946"></a><span class="lineno">18946</span>    <span class="keywordflow">if</span> (ref_node_for_rect)</div>
<div class="line"><a id="l18947" name="l18947"></a><span class="lineno">18947</span>        IM_ASSERT(ref_node_for_rect-&gt;IsVisible == <span class="keyword">true</span>);</div>
<div class="line"><a id="l18948" name="l18948"></a><span class="lineno">18948</span> </div>
<div class="line"><a id="l18949" name="l18949"></a><span class="lineno">18949</span>    <span class="comment">// Filter, figure out where we are allowed to dock</span></div>
<div class="line"><a id="l18950" name="l18950"></a><span class="lineno">18950</span>    ImGuiDockNodeFlags src_node_flags = payload_node ? payload_node-&gt;MergedFlags : payload_window-&gt;WindowClass.DockNodeFlagsOverrideSet;</div>
<div class="line"><a id="l18951" name="l18951"></a><span class="lineno">18951</span>    ImGuiDockNodeFlags dst_node_flags = host_node ? host_node-&gt;MergedFlags : host_window-&gt;WindowClass.DockNodeFlagsOverrideSet;</div>
<div class="line"><a id="l18952" name="l18952"></a><span class="lineno">18952</span>    data-&gt;IsCenterAvailable = <span class="keyword">true</span>;</div>
<div class="line"><a id="l18953" name="l18953"></a><span class="lineno">18953</span>    <span class="keywordflow">if</span> (is_outer_docking)</div>
<div class="line"><a id="l18954" name="l18954"></a><span class="lineno">18954</span>        data-&gt;IsCenterAvailable = <span class="keyword">false</span>;</div>
<div class="line"><a id="l18955" name="l18955"></a><span class="lineno">18955</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dst_node_flags &amp; ImGuiDockNodeFlags_NoDockingOverMe)</div>
<div class="line"><a id="l18956" name="l18956"></a><span class="lineno">18956</span>        data-&gt;IsCenterAvailable = <span class="keyword">false</span>;</div>
<div class="line"><a id="l18957" name="l18957"></a><span class="lineno">18957</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (host_node &amp;&amp; (dst_node_flags &amp; ImGuiDockNodeFlags_NoDockingOverCentralNode) &amp;&amp; host_node-&gt;IsCentralNode())</div>
<div class="line"><a id="l18958" name="l18958"></a><span class="lineno">18958</span>        data-&gt;IsCenterAvailable = <span class="keyword">false</span>;</div>
<div class="line"><a id="l18959" name="l18959"></a><span class="lineno">18959</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((!host_node || !host_node-&gt;IsEmpty()) &amp;&amp; payload_node &amp;&amp; payload_node-&gt;IsSplitNode() &amp;&amp; (payload_node-&gt;OnlyNodeWithWindows == NULL)) <span class="comment">// Is _visibly_ split?</span></div>
<div class="line"><a id="l18960" name="l18960"></a><span class="lineno">18960</span>        data-&gt;IsCenterAvailable = <span class="keyword">false</span>;</div>
<div class="line"><a id="l18961" name="l18961"></a><span class="lineno">18961</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((src_node_flags &amp; ImGuiDockNodeFlags_NoDockingOverOther) &amp;&amp; (!host_node || !host_node-&gt;IsEmpty()))</div>
<div class="line"><a id="l18962" name="l18962"></a><span class="lineno">18962</span>        data-&gt;IsCenterAvailable = <span class="keyword">false</span>;</div>
<div class="line"><a id="l18963" name="l18963"></a><span class="lineno">18963</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((src_node_flags &amp; ImGuiDockNodeFlags_NoDockingOverEmpty) &amp;&amp; host_node &amp;&amp; host_node-&gt;IsEmpty())</div>
<div class="line"><a id="l18964" name="l18964"></a><span class="lineno">18964</span>        data-&gt;IsCenterAvailable = <span class="keyword">false</span>;</div>
<div class="line"><a id="l18965" name="l18965"></a><span class="lineno">18965</span> </div>
<div class="line"><a id="l18966" name="l18966"></a><span class="lineno">18966</span>    data-&gt;IsSidesAvailable = <span class="keyword">true</span>;</div>
<div class="line"><a id="l18967" name="l18967"></a><span class="lineno">18967</span>    <span class="keywordflow">if</span> ((dst_node_flags &amp; ImGuiDockNodeFlags_NoDockingSplit) || g.IO.ConfigDockingNoSplit)</div>
<div class="line"><a id="l18968" name="l18968"></a><span class="lineno">18968</span>        data-&gt;IsSidesAvailable = <span class="keyword">false</span>;</div>
<div class="line"><a id="l18969" name="l18969"></a><span class="lineno">18969</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!is_outer_docking &amp;&amp; host_node &amp;&amp; host_node-&gt;ParentNode == NULL &amp;&amp; host_node-&gt;IsCentralNode())</div>
<div class="line"><a id="l18970" name="l18970"></a><span class="lineno">18970</span>        data-&gt;IsSidesAvailable = <span class="keyword">false</span>;</div>
<div class="line"><a id="l18971" name="l18971"></a><span class="lineno">18971</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (src_node_flags &amp; ImGuiDockNodeFlags_NoDockingSplitOther)</div>
<div class="line"><a id="l18972" name="l18972"></a><span class="lineno">18972</span>        data-&gt;IsSidesAvailable = <span class="keyword">false</span>;</div>
<div class="line"><a id="l18973" name="l18973"></a><span class="lineno">18973</span> </div>
<div class="line"><a id="l18974" name="l18974"></a><span class="lineno">18974</span>    <span class="comment">// Build a tentative future node (reuse same structure because it is practical. Shape will be readjusted when previewing a split)</span></div>
<div class="line"><a id="l18975" name="l18975"></a><span class="lineno">18975</span>    data-&gt;FutureNode.HasCloseButton = (host_node ? host_node-&gt;HasCloseButton : host_window-&gt;HasCloseButton) || (payload_window-&gt;HasCloseButton);</div>
<div class="line"><a id="l18976" name="l18976"></a><span class="lineno">18976</span>    data-&gt;FutureNode.HasWindowMenuButton = host_node ? true : ((host_window-&gt;Flags &amp; ImGuiWindowFlags_NoCollapse) == 0);</div>
<div class="line"><a id="l18977" name="l18977"></a><span class="lineno">18977</span>    data-&gt;FutureNode.Pos = ref_node_for_rect ? ref_node_for_rect-&gt;Pos : host_window-&gt;Pos;</div>
<div class="line"><a id="l18978" name="l18978"></a><span class="lineno">18978</span>    data-&gt;FutureNode.Size = ref_node_for_rect ? ref_node_for_rect-&gt;Size : host_window-&gt;Size;</div>
<div class="line"><a id="l18979" name="l18979"></a><span class="lineno">18979</span> </div>
<div class="line"><a id="l18980" name="l18980"></a><span class="lineno">18980</span>    <span class="comment">// Calculate drop shapes geometry for allowed splitting directions</span></div>
<div class="line"><a id="l18981" name="l18981"></a><span class="lineno">18981</span>    IM_ASSERT(ImGuiDir_None == -1);</div>
<div class="line"><a id="l18982" name="l18982"></a><span class="lineno">18982</span>    data-&gt;SplitNode = host_node;</div>
<div class="line"><a id="l18983" name="l18983"></a><span class="lineno">18983</span>    data-&gt;SplitDir = ImGuiDir_None;</div>
<div class="line"><a id="l18984" name="l18984"></a><span class="lineno">18984</span>    data-&gt;IsSplitDirExplicit = <span class="keyword">false</span>;</div>
<div class="line"><a id="l18985" name="l18985"></a><span class="lineno">18985</span>    <span class="keywordflow">if</span> (!host_window-&gt;Collapsed)</div>
<div class="line"><a id="l18986" name="l18986"></a><span class="lineno">18986</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> dir = ImGuiDir_None; dir &lt; ImGuiDir_COUNT; dir++)</div>
<div class="line"><a id="l18987" name="l18987"></a><span class="lineno">18987</span>        {</div>
<div class="line"><a id="l18988" name="l18988"></a><span class="lineno">18988</span>            <span class="keywordflow">if</span> (dir == ImGuiDir_None &amp;&amp; !data-&gt;IsCenterAvailable)</div>
<div class="line"><a id="l18989" name="l18989"></a><span class="lineno">18989</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l18990" name="l18990"></a><span class="lineno">18990</span>            <span class="keywordflow">if</span> (dir != ImGuiDir_None &amp;&amp; !data-&gt;IsSidesAvailable)</div>
<div class="line"><a id="l18991" name="l18991"></a><span class="lineno">18991</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l18992" name="l18992"></a><span class="lineno">18992</span>            <span class="keywordflow">if</span> (DockNodeCalcDropRectsAndTestMousePos(data-&gt;FutureNode.Rect(), (ImGuiDir)dir, data-&gt;DropRectsDraw[dir+1], is_outer_docking, &amp;g.IO.MousePos))</div>
<div class="line"><a id="l18993" name="l18993"></a><span class="lineno">18993</span>            {</div>
<div class="line"><a id="l18994" name="l18994"></a><span class="lineno">18994</span>                data-&gt;SplitDir = (ImGuiDir)dir;</div>
<div class="line"><a id="l18995" name="l18995"></a><span class="lineno">18995</span>                data-&gt;IsSplitDirExplicit = <span class="keyword">true</span>;</div>
<div class="line"><a id="l18996" name="l18996"></a><span class="lineno">18996</span>            }</div>
<div class="line"><a id="l18997" name="l18997"></a><span class="lineno">18997</span>        }</div>
<div class="line"><a id="l18998" name="l18998"></a><span class="lineno">18998</span> </div>
<div class="line"><a id="l18999" name="l18999"></a><span class="lineno">18999</span>    <span class="comment">// When docking without holding Shift, we only allow and preview docking when hovering over a drop rect or over the title bar</span></div>
<div class="line"><a id="l19000" name="l19000"></a><span class="lineno">19000</span>    data-&gt;IsDropAllowed = (data-&gt;SplitDir != ImGuiDir_None) || (data-&gt;IsCenterAvailable);</div>
<div class="line"><a id="l19001" name="l19001"></a><span class="lineno">19001</span>    <span class="keywordflow">if</span> (!is_explicit_target &amp;&amp; !data-&gt;IsSplitDirExplicit &amp;&amp; !g.IO.ConfigDockingWithShift)</div>
<div class="line"><a id="l19002" name="l19002"></a><span class="lineno">19002</span>        data-&gt;IsDropAllowed = <span class="keyword">false</span>;</div>
<div class="line"><a id="l19003" name="l19003"></a><span class="lineno">19003</span> </div>
<div class="line"><a id="l19004" name="l19004"></a><span class="lineno">19004</span>    <span class="comment">// Calculate split area</span></div>
<div class="line"><a id="l19005" name="l19005"></a><span class="lineno">19005</span>    data-&gt;SplitRatio = 0.0f;</div>
<div class="line"><a id="l19006" name="l19006"></a><span class="lineno">19006</span>    <span class="keywordflow">if</span> (data-&gt;SplitDir != ImGuiDir_None)</div>
<div class="line"><a id="l19007" name="l19007"></a><span class="lineno">19007</span>    {</div>
<div class="line"><a id="l19008" name="l19008"></a><span class="lineno">19008</span>        ImGuiDir split_dir = data-&gt;SplitDir;</div>
<div class="line"><a id="l19009" name="l19009"></a><span class="lineno">19009</span>        ImGuiAxis split_axis = (split_dir == ImGuiDir_Left || split_dir == ImGuiDir_Right) ? ImGuiAxis_X : ImGuiAxis_Y;</div>
<div class="line"><a id="l19010" name="l19010"></a><span class="lineno">19010</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> pos_new, pos_old = data-&gt;FutureNode.Pos;</div>
<div class="line"><a id="l19011" name="l19011"></a><span class="lineno">19011</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> size_new, size_old = data-&gt;FutureNode.Size;</div>
<div class="line"><a id="l19012" name="l19012"></a><span class="lineno">19012</span>        DockNodeCalcSplitRects(pos_old, size_old, pos_new, size_new, split_dir, payload_window-&gt;Size);</div>
<div class="line"><a id="l19013" name="l19013"></a><span class="lineno">19013</span> </div>
<div class="line"><a id="l19014" name="l19014"></a><span class="lineno">19014</span>        <span class="comment">// Calculate split ratio so we can pass it down the docking request</span></div>
<div class="line"><a id="l19015" name="l19015"></a><span class="lineno">19015</span>        <span class="keywordtype">float</span> split_ratio = ImSaturate(size_new[split_axis] / data-&gt;FutureNode.Size[split_axis]);</div>
<div class="line"><a id="l19016" name="l19016"></a><span class="lineno">19016</span>        data-&gt;FutureNode.Pos = pos_new;</div>
<div class="line"><a id="l19017" name="l19017"></a><span class="lineno">19017</span>        data-&gt;FutureNode.Size = size_new;</div>
<div class="line"><a id="l19018" name="l19018"></a><span class="lineno">19018</span>        data-&gt;SplitRatio = (split_dir == ImGuiDir_Right || split_dir == ImGuiDir_Down) ? (1.0f - split_ratio) : (split_ratio);</div>
<div class="line"><a id="l19019" name="l19019"></a><span class="lineno">19019</span>    }</div>
<div class="line"><a id="l19020" name="l19020"></a><span class="lineno">19020</span>}</div>
<div class="line"><a id="l19021" name="l19021"></a><span class="lineno">19021</span> </div>
<div class="line"><a id="l19022" name="l19022"></a><span class="lineno">19022</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::DockNodePreviewDockRender(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* host_window, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* host_node, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* root_payload, <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiDockPreviewData.html">ImGuiDockPreviewData</a>* data)</div>
<div class="line"><a id="l19023" name="l19023"></a><span class="lineno">19023</span>{</div>
<div class="line"><a id="l19024" name="l19024"></a><span class="lineno">19024</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l19025" name="l19025"></a><span class="lineno">19025</span>    IM_ASSERT(g.CurrentWindow == host_window);   <span class="comment">// Because we rely on font size to calculate tab sizes</span></div>
<div class="line"><a id="l19026" name="l19026"></a><span class="lineno">19026</span> </div>
<div class="line"><a id="l19027" name="l19027"></a><span class="lineno">19027</span>    <span class="comment">// With this option, we only display the preview on the target viewport, and the payload viewport is made transparent.</span></div>
<div class="line"><a id="l19028" name="l19028"></a><span class="lineno">19028</span>    <span class="comment">// To compensate for the single layer obstructed by the payload, we&#39;ll increase the alpha of the preview nodes.</span></div>
<div class="line"><a id="l19029" name="l19029"></a><span class="lineno">19029</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_transparent_payload = g.IO.ConfigDockingTransparentPayload;</div>
<div class="line"><a id="l19030" name="l19030"></a><span class="lineno">19030</span> </div>
<div class="line"><a id="l19031" name="l19031"></a><span class="lineno">19031</span>    <span class="comment">// In case the two windows involved are on different viewports, we will draw the overlay on each of them.</span></div>
<div class="line"><a id="l19032" name="l19032"></a><span class="lineno">19032</span>    <span class="keywordtype">int</span> overlay_draw_lists_count = 0;</div>
<div class="line"><a id="l19033" name="l19033"></a><span class="lineno">19033</span>    <a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>* overlay_draw_lists[2];</div>
<div class="line"><a id="l19034" name="l19034"></a><span class="lineno">19034</span>    overlay_draw_lists[overlay_draw_lists_count++] = GetForegroundDrawList(host_window-&gt;Viewport);</div>
<div class="line"><a id="l19035" name="l19035"></a><span class="lineno">19035</span>    <span class="keywordflow">if</span> (host_window-&gt;Viewport != root_payload-&gt;Viewport &amp;&amp; !is_transparent_payload)</div>
<div class="line"><a id="l19036" name="l19036"></a><span class="lineno">19036</span>        overlay_draw_lists[overlay_draw_lists_count++] = GetForegroundDrawList(root_payload-&gt;Viewport);</div>
<div class="line"><a id="l19037" name="l19037"></a><span class="lineno">19037</span> </div>
<div class="line"><a id="l19038" name="l19038"></a><span class="lineno">19038</span>    <span class="comment">// Draw main preview rectangle</span></div>
<div class="line"><a id="l19039" name="l19039"></a><span class="lineno">19039</span>    <span class="keyword">const</span> ImU32 overlay_col_main = GetColorU32(ImGuiCol_DockingPreview, is_transparent_payload ? 0.60f : 0.40f);</div>
<div class="line"><a id="l19040" name="l19040"></a><span class="lineno">19040</span>    <span class="keyword">const</span> ImU32 overlay_col_drop = GetColorU32(ImGuiCol_DockingPreview, is_transparent_payload ? 0.90f : 0.70f);</div>
<div class="line"><a id="l19041" name="l19041"></a><span class="lineno">19041</span>    <span class="keyword">const</span> ImU32 overlay_col_drop_hovered = GetColorU32(ImGuiCol_DockingPreview, is_transparent_payload ? 1.20f : 1.00f);</div>
<div class="line"><a id="l19042" name="l19042"></a><span class="lineno">19042</span>    <span class="keyword">const</span> ImU32 overlay_col_lines = GetColorU32(ImGuiCol_NavWindowingHighlight, is_transparent_payload ? 0.80f : 0.60f);</div>
<div class="line"><a id="l19043" name="l19043"></a><span class="lineno">19043</span> </div>
<div class="line"><a id="l19044" name="l19044"></a><span class="lineno">19044</span>    <span class="comment">// Display area preview</span></div>
<div class="line"><a id="l19045" name="l19045"></a><span class="lineno">19045</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> can_preview_tabs = (root_payload-&gt;DockNodeAsHost == NULL || root_payload-&gt;DockNodeAsHost-&gt;Windows.Size &gt; 0);</div>
<div class="line"><a id="l19046" name="l19046"></a><span class="lineno">19046</span>    <span class="keywordflow">if</span> (data-&gt;IsDropAllowed)</div>
<div class="line"><a id="l19047" name="l19047"></a><span class="lineno">19047</span>    {</div>
<div class="line"><a id="l19048" name="l19048"></a><span class="lineno">19048</span>        <a class="code hl_struct" href="structImRect.html">ImRect</a> overlay_rect = data-&gt;FutureNode.Rect();</div>
<div class="line"><a id="l19049" name="l19049"></a><span class="lineno">19049</span>        <span class="keywordflow">if</span> (data-&gt;SplitDir == ImGuiDir_None &amp;&amp; can_preview_tabs)</div>
<div class="line"><a id="l19050" name="l19050"></a><span class="lineno">19050</span>            overlay_rect.Min.y += GetFrameHeight();</div>
<div class="line"><a id="l19051" name="l19051"></a><span class="lineno">19051</span>        <span class="keywordflow">if</span> (data-&gt;SplitDir != ImGuiDir_None || data-&gt;IsCenterAvailable)</div>
<div class="line"><a id="l19052" name="l19052"></a><span class="lineno">19052</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> overlay_n = 0; overlay_n &lt; overlay_draw_lists_count; overlay_n++)</div>
<div class="line"><a id="l19053" name="l19053"></a><span class="lineno">19053</span>                overlay_draw_lists[overlay_n]-&gt;AddRectFilled(overlay_rect.Min, overlay_rect.Max, overlay_col_main, host_window-&gt;WindowRounding, CalcRoundingFlagsForRectInRect(overlay_rect, host_window-&gt;Rect(), g.Style.DockingSeparatorSize));</div>
<div class="line"><a id="l19054" name="l19054"></a><span class="lineno">19054</span>    }</div>
<div class="line"><a id="l19055" name="l19055"></a><span class="lineno">19055</span> </div>
<div class="line"><a id="l19056" name="l19056"></a><span class="lineno">19056</span>    <span class="comment">// Display tab shape/label preview unless we are splitting node (it generally makes the situation harder to read)</span></div>
<div class="line"><a id="l19057" name="l19057"></a><span class="lineno">19057</span>    <span class="keywordflow">if</span> (data-&gt;IsDropAllowed &amp;&amp; can_preview_tabs &amp;&amp; data-&gt;SplitDir == ImGuiDir_None &amp;&amp; data-&gt;IsCenterAvailable)</div>
<div class="line"><a id="l19058" name="l19058"></a><span class="lineno">19058</span>    {</div>
<div class="line"><a id="l19059" name="l19059"></a><span class="lineno">19059</span>        <span class="comment">// Compute target tab bar geometry so we can locate our preview tabs</span></div>
<div class="line"><a id="l19060" name="l19060"></a><span class="lineno">19060</span>        <a class="code hl_struct" href="structImRect.html">ImRect</a> tab_bar_rect;</div>
<div class="line"><a id="l19061" name="l19061"></a><span class="lineno">19061</span>        DockNodeCalcTabBarLayout(&amp;data-&gt;FutureNode, NULL, &amp;tab_bar_rect, NULL, NULL);</div>
<div class="line"><a id="l19062" name="l19062"></a><span class="lineno">19062</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> tab_pos = tab_bar_rect.Min;</div>
<div class="line"><a id="l19063" name="l19063"></a><span class="lineno">19063</span>        <span class="keywordflow">if</span> (host_node &amp;&amp; host_node-&gt;TabBar)</div>
<div class="line"><a id="l19064" name="l19064"></a><span class="lineno">19064</span>        {</div>
<div class="line"><a id="l19065" name="l19065"></a><span class="lineno">19065</span>            <span class="keywordflow">if</span> (!host_node-&gt;IsHiddenTabBar() &amp;&amp; !host_node-&gt;IsNoTabBar())</div>
<div class="line"><a id="l19066" name="l19066"></a><span class="lineno">19066</span>                tab_pos.x += host_node-&gt;TabBar-&gt;WidthAllTabs + g.Style.ItemInnerSpacing.x; <span class="comment">// We don&#39;t use OffsetNewTab because when using non-persistent-order tab bar it is incremented with each Tab submission.</span></div>
<div class="line"><a id="l19067" name="l19067"></a><span class="lineno">19067</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l19068" name="l19068"></a><span class="lineno">19068</span>                tab_pos.x += g.Style.ItemInnerSpacing.x + TabItemCalcSize(host_node-&gt;Windows[0]).x;</div>
<div class="line"><a id="l19069" name="l19069"></a><span class="lineno">19069</span>        }</div>
<div class="line"><a id="l19070" name="l19070"></a><span class="lineno">19070</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!(host_window-&gt;Flags &amp; ImGuiWindowFlags_DockNodeHost))</div>
<div class="line"><a id="l19071" name="l19071"></a><span class="lineno">19071</span>        {</div>
<div class="line"><a id="l19072" name="l19072"></a><span class="lineno">19072</span>            tab_pos.x += g.Style.ItemInnerSpacing.x + TabItemCalcSize(host_window).x; <span class="comment">// Account for slight offset which will be added when changing from title bar to tab bar</span></div>
<div class="line"><a id="l19073" name="l19073"></a><span class="lineno">19073</span>        }</div>
<div class="line"><a id="l19074" name="l19074"></a><span class="lineno">19074</span> </div>
<div class="line"><a id="l19075" name="l19075"></a><span class="lineno">19075</span>        <span class="comment">// Draw tab shape/label preview (payload may be a loose window or a host window carrying multiple tabbed windows)</span></div>
<div class="line"><a id="l19076" name="l19076"></a><span class="lineno">19076</span>        <span class="keywordflow">if</span> (root_payload-&gt;DockNodeAsHost)</div>
<div class="line"><a id="l19077" name="l19077"></a><span class="lineno">19077</span>            IM_ASSERT(root_payload-&gt;DockNodeAsHost-&gt;Windows.Size &lt;= root_payload-&gt;DockNodeAsHost-&gt;TabBar-&gt;Tabs.Size);</div>
<div class="line"><a id="l19078" name="l19078"></a><span class="lineno">19078</span>        <a class="code hl_struct" href="structImGuiTabBar.html">ImGuiTabBar</a>* tab_bar_with_payload = root_payload-&gt;DockNodeAsHost ? root_payload-&gt;DockNodeAsHost-&gt;TabBar : NULL;</div>
<div class="line"><a id="l19079" name="l19079"></a><span class="lineno">19079</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> payload_count = tab_bar_with_payload ? tab_bar_with_payload-&gt;Tabs.Size : 1;</div>
<div class="line"><a id="l19080" name="l19080"></a><span class="lineno">19080</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> payload_n = 0; payload_n &lt; payload_count; payload_n++)</div>
<div class="line"><a id="l19081" name="l19081"></a><span class="lineno">19081</span>        {</div>
<div class="line"><a id="l19082" name="l19082"></a><span class="lineno">19082</span>            <span class="comment">// DockNode&#39;s TabBar may have non-window Tabs manually appended by user</span></div>
<div class="line"><a id="l19083" name="l19083"></a><span class="lineno">19083</span>            <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* payload_window = tab_bar_with_payload ? tab_bar_with_payload-&gt;Tabs[payload_n].Window : root_payload;</div>
<div class="line"><a id="l19084" name="l19084"></a><span class="lineno">19084</span>            <span class="keywordflow">if</span> (tab_bar_with_payload &amp;&amp; payload_window == NULL)</div>
<div class="line"><a id="l19085" name="l19085"></a><span class="lineno">19085</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l19086" name="l19086"></a><span class="lineno">19086</span>            <span class="keywordflow">if</span> (!DockNodeIsDropAllowedOne(payload_window, host_window))</div>
<div class="line"><a id="l19087" name="l19087"></a><span class="lineno">19087</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l19088" name="l19088"></a><span class="lineno">19088</span> </div>
<div class="line"><a id="l19089" name="l19089"></a><span class="lineno">19089</span>            <span class="comment">// Calculate the tab bounding box for each payload window</span></div>
<div class="line"><a id="l19090" name="l19090"></a><span class="lineno">19090</span>            <a class="code hl_struct" href="structImVec2.html">ImVec2</a> tab_size = TabItemCalcSize(payload_window);</div>
<div class="line"><a id="l19091" name="l19091"></a><span class="lineno">19091</span>            <a class="code hl_struct" href="structImRect.html">ImRect</a> tab_bb(tab_pos.x, tab_pos.y, tab_pos.x + tab_size.x, tab_pos.y + tab_size.y);</div>
<div class="line"><a id="l19092" name="l19092"></a><span class="lineno">19092</span>            tab_pos.x += tab_size.x + g.Style.ItemInnerSpacing.x;</div>
<div class="line"><a id="l19093" name="l19093"></a><span class="lineno">19093</span>            <span class="keyword">const</span> ImU32 overlay_col_text = GetColorU32(payload_window-&gt;DockStyle.Colors[ImGuiWindowDockStyleCol_Text]);</div>
<div class="line"><a id="l19094" name="l19094"></a><span class="lineno">19094</span>            <span class="keyword">const</span> ImU32 overlay_col_tabs = GetColorU32(payload_window-&gt;DockStyle.Colors[ImGuiWindowDockStyleCol_TabSelected]);</div>
<div class="line"><a id="l19095" name="l19095"></a><span class="lineno">19095</span>            PushStyleColor(ImGuiCol_Text, overlay_col_text);</div>
<div class="line"><a id="l19096" name="l19096"></a><span class="lineno">19096</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> overlay_n = 0; overlay_n &lt; overlay_draw_lists_count; overlay_n++)</div>
<div class="line"><a id="l19097" name="l19097"></a><span class="lineno">19097</span>            {</div>
<div class="line"><a id="l19098" name="l19098"></a><span class="lineno">19098</span>                ImGuiTabItemFlags tab_flags = (payload_window-&gt;Flags &amp; ImGuiWindowFlags_UnsavedDocument) ? ImGuiTabItemFlags_UnsavedDocument : 0;</div>
<div class="line"><a id="l19099" name="l19099"></a><span class="lineno">19099</span>                <span class="keywordflow">if</span> (!tab_bar_rect.Contains(tab_bb))</div>
<div class="line"><a id="l19100" name="l19100"></a><span class="lineno">19100</span>                    overlay_draw_lists[overlay_n]-&gt;PushClipRect(tab_bar_rect.Min, tab_bar_rect.Max);</div>
<div class="line"><a id="l19101" name="l19101"></a><span class="lineno">19101</span>                TabItemBackground(overlay_draw_lists[overlay_n], tab_bb, tab_flags, overlay_col_tabs);</div>
<div class="line"><a id="l19102" name="l19102"></a><span class="lineno">19102</span>                TabItemLabelAndCloseButton(overlay_draw_lists[overlay_n], tab_bb, tab_flags, g.Style.FramePadding, payload_window-&gt;Name, 0, 0, <span class="keyword">false</span>, NULL, NULL);</div>
<div class="line"><a id="l19103" name="l19103"></a><span class="lineno">19103</span>                <span class="keywordflow">if</span> (!tab_bar_rect.Contains(tab_bb))</div>
<div class="line"><a id="l19104" name="l19104"></a><span class="lineno">19104</span>                    overlay_draw_lists[overlay_n]-&gt;PopClipRect();</div>
<div class="line"><a id="l19105" name="l19105"></a><span class="lineno">19105</span>            }</div>
<div class="line"><a id="l19106" name="l19106"></a><span class="lineno">19106</span>            PopStyleColor();</div>
<div class="line"><a id="l19107" name="l19107"></a><span class="lineno">19107</span>        }</div>
<div class="line"><a id="l19108" name="l19108"></a><span class="lineno">19108</span>    }</div>
<div class="line"><a id="l19109" name="l19109"></a><span class="lineno">19109</span> </div>
<div class="line"><a id="l19110" name="l19110"></a><span class="lineno">19110</span>    <span class="comment">// Display drop boxes</span></div>
<div class="line"><a id="l19111" name="l19111"></a><span class="lineno">19111</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> overlay_rounding = ImMax(3.0f, g.Style.FrameRounding);</div>
<div class="line"><a id="l19112" name="l19112"></a><span class="lineno">19112</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> dir = ImGuiDir_None; dir &lt; ImGuiDir_COUNT; dir++)</div>
<div class="line"><a id="l19113" name="l19113"></a><span class="lineno">19113</span>    {</div>
<div class="line"><a id="l19114" name="l19114"></a><span class="lineno">19114</span>        <span class="keywordflow">if</span> (!data-&gt;DropRectsDraw[dir + 1].IsInverted())</div>
<div class="line"><a id="l19115" name="l19115"></a><span class="lineno">19115</span>        {</div>
<div class="line"><a id="l19116" name="l19116"></a><span class="lineno">19116</span>            <a class="code hl_struct" href="structImRect.html">ImRect</a> draw_r = data-&gt;DropRectsDraw[dir + 1];</div>
<div class="line"><a id="l19117" name="l19117"></a><span class="lineno">19117</span>            <a class="code hl_struct" href="structImRect.html">ImRect</a> draw_r_in = draw_r;</div>
<div class="line"><a id="l19118" name="l19118"></a><span class="lineno">19118</span>            draw_r_in.Expand(-2.0f);</div>
<div class="line"><a id="l19119" name="l19119"></a><span class="lineno">19119</span>            ImU32 overlay_col = (data-&gt;SplitDir == (ImGuiDir)dir &amp;&amp; data-&gt;IsSplitDirExplicit) ? overlay_col_drop_hovered : overlay_col_drop;</div>
<div class="line"><a id="l19120" name="l19120"></a><span class="lineno">19120</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> overlay_n = 0; overlay_n &lt; overlay_draw_lists_count; overlay_n++)</div>
<div class="line"><a id="l19121" name="l19121"></a><span class="lineno">19121</span>            {</div>
<div class="line"><a id="l19122" name="l19122"></a><span class="lineno">19122</span>                <a class="code hl_struct" href="structImVec2.html">ImVec2</a> center = ImFloor(draw_r_in.GetCenter());</div>
<div class="line"><a id="l19123" name="l19123"></a><span class="lineno">19123</span>                overlay_draw_lists[overlay_n]-&gt;AddRectFilled(draw_r.Min, draw_r.Max, overlay_col, overlay_rounding);</div>
<div class="line"><a id="l19124" name="l19124"></a><span class="lineno">19124</span>                overlay_draw_lists[overlay_n]-&gt;AddRect(draw_r_in.Min, draw_r_in.Max, overlay_col_lines, overlay_rounding);</div>
<div class="line"><a id="l19125" name="l19125"></a><span class="lineno">19125</span>                <span class="keywordflow">if</span> (dir == ImGuiDir_Left || dir == ImGuiDir_Right)</div>
<div class="line"><a id="l19126" name="l19126"></a><span class="lineno">19126</span>                    overlay_draw_lists[overlay_n]-&gt;AddLine(<a class="code hl_struct" href="structImVec2.html">ImVec2</a>(center.x, draw_r_in.Min.y), <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(center.x, draw_r_in.Max.y), overlay_col_lines);</div>
<div class="line"><a id="l19127" name="l19127"></a><span class="lineno">19127</span>                <span class="keywordflow">if</span> (dir == ImGuiDir_Up || dir == ImGuiDir_Down)</div>
<div class="line"><a id="l19128" name="l19128"></a><span class="lineno">19128</span>                    overlay_draw_lists[overlay_n]-&gt;AddLine(<a class="code hl_struct" href="structImVec2.html">ImVec2</a>(draw_r_in.Min.x, center.y), <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(draw_r_in.Max.x, center.y), overlay_col_lines);</div>
<div class="line"><a id="l19129" name="l19129"></a><span class="lineno">19129</span>            }</div>
<div class="line"><a id="l19130" name="l19130"></a><span class="lineno">19130</span>        }</div>
<div class="line"><a id="l19131" name="l19131"></a><span class="lineno">19131</span> </div>
<div class="line"><a id="l19132" name="l19132"></a><span class="lineno">19132</span>        <span class="comment">// Stop after ImGuiDir_None</span></div>
<div class="line"><a id="l19133" name="l19133"></a><span class="lineno">19133</span>        <span class="keywordflow">if</span> ((host_node &amp;&amp; (host_node-&gt;MergedFlags &amp; ImGuiDockNodeFlags_NoDockingSplit)) || g.IO.ConfigDockingNoSplit)</div>
<div class="line"><a id="l19134" name="l19134"></a><span class="lineno">19134</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l19135" name="l19135"></a><span class="lineno">19135</span>    }</div>
<div class="line"><a id="l19136" name="l19136"></a><span class="lineno">19136</span>}</div>
<div class="line"><a id="l19137" name="l19137"></a><span class="lineno">19137</span> </div>
<div class="line"><a id="l19138" name="l19138"></a><span class="lineno">19138</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l19139" name="l19139"></a><span class="lineno">19139</span><span class="comment">// Docking: ImGuiDockNode Tree manipulation functions</span></div>
<div class="line"><a id="l19140" name="l19140"></a><span class="lineno">19140</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l19141" name="l19141"></a><span class="lineno">19141</span><span class="comment">// - DockNodeTreeSplit()</span></div>
<div class="line"><a id="l19142" name="l19142"></a><span class="lineno">19142</span><span class="comment">// - DockNodeTreeMerge()</span></div>
<div class="line"><a id="l19143" name="l19143"></a><span class="lineno">19143</span><span class="comment">// - DockNodeTreeUpdatePosSize()</span></div>
<div class="line"><a id="l19144" name="l19144"></a><span class="lineno">19144</span><span class="comment">// - DockNodeTreeUpdateSplitterFindTouchingNode()</span></div>
<div class="line"><a id="l19145" name="l19145"></a><span class="lineno">19145</span><span class="comment">// - DockNodeTreeUpdateSplitter()</span></div>
<div class="line"><a id="l19146" name="l19146"></a><span class="lineno">19146</span><span class="comment">// - DockNodeTreeFindFallbackLeafNode()</span></div>
<div class="line"><a id="l19147" name="l19147"></a><span class="lineno">19147</span><span class="comment">// - DockNodeTreeFindNodeByPos()</span></div>
<div class="line"><a id="l19148" name="l19148"></a><span class="lineno">19148</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l19149" name="l19149"></a><span class="lineno">19149</span> </div>
<div class="line"><a id="l19150" name="l19150"></a><span class="lineno">19150</span><span class="keywordtype">void</span> ImGui::DockNodeTreeSplit(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* parent_node, ImGuiAxis split_axis, <span class="keywordtype">int</span> split_inheritor_child_idx, <span class="keywordtype">float</span> split_ratio, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* new_node)</div>
<div class="line"><a id="l19151" name="l19151"></a><span class="lineno">19151</span>{</div>
<div class="line"><a id="l19152" name="l19152"></a><span class="lineno">19152</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l19153" name="l19153"></a><span class="lineno">19153</span>    IM_ASSERT(split_axis != ImGuiAxis_None);</div>
<div class="line"><a id="l19154" name="l19154"></a><span class="lineno">19154</span> </div>
<div class="line"><a id="l19155" name="l19155"></a><span class="lineno">19155</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* child_0 = (new_node &amp;&amp; split_inheritor_child_idx != 0) ? new_node : DockContextAddNode(ctx, 0);</div>
<div class="line"><a id="l19156" name="l19156"></a><span class="lineno">19156</span>    child_0-&gt;ParentNode = parent_node;</div>
<div class="line"><a id="l19157" name="l19157"></a><span class="lineno">19157</span> </div>
<div class="line"><a id="l19158" name="l19158"></a><span class="lineno">19158</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* child_1 = (new_node &amp;&amp; split_inheritor_child_idx != 1) ? new_node : DockContextAddNode(ctx, 0);</div>
<div class="line"><a id="l19159" name="l19159"></a><span class="lineno">19159</span>    child_1-&gt;ParentNode = parent_node;</div>
<div class="line"><a id="l19160" name="l19160"></a><span class="lineno">19160</span> </div>
<div class="line"><a id="l19161" name="l19161"></a><span class="lineno">19161</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* child_inheritor = (split_inheritor_child_idx == 0) ? child_0 : child_1;</div>
<div class="line"><a id="l19162" name="l19162"></a><span class="lineno">19162</span>    DockNodeMoveChildNodes(child_inheritor, parent_node);</div>
<div class="line"><a id="l19163" name="l19163"></a><span class="lineno">19163</span>    parent_node-&gt;ChildNodes[0] = child_0;</div>
<div class="line"><a id="l19164" name="l19164"></a><span class="lineno">19164</span>    parent_node-&gt;ChildNodes[1] = child_1;</div>
<div class="line"><a id="l19165" name="l19165"></a><span class="lineno">19165</span>    parent_node-&gt;ChildNodes[split_inheritor_child_idx]-&gt;VisibleWindow = parent_node-&gt;VisibleWindow;</div>
<div class="line"><a id="l19166" name="l19166"></a><span class="lineno">19166</span>    parent_node-&gt;SplitAxis = split_axis;</div>
<div class="line"><a id="l19167" name="l19167"></a><span class="lineno">19167</span>    parent_node-&gt;VisibleWindow = NULL;</div>
<div class="line"><a id="l19168" name="l19168"></a><span class="lineno">19168</span>    parent_node-&gt;AuthorityForPos = parent_node-&gt;AuthorityForSize = ImGuiDataAuthority_DockNode;</div>
<div class="line"><a id="l19169" name="l19169"></a><span class="lineno">19169</span> </div>
<div class="line"><a id="l19170" name="l19170"></a><span class="lineno">19170</span>    <span class="keywordtype">float</span> size_avail = (parent_node-&gt;Size[split_axis] - g.Style.DockingSeparatorSize);</div>
<div class="line"><a id="l19171" name="l19171"></a><span class="lineno">19171</span>    size_avail = ImMax(size_avail, g.Style.WindowMinSize[split_axis] * 2.0f);</div>
<div class="line"><a id="l19172" name="l19172"></a><span class="lineno">19172</span>    IM_ASSERT(size_avail &gt; 0.0f); <span class="comment">// If you created a node manually with DockBuilderAddNode(), you need to also call DockBuilderSetNodeSize() before splitting.</span></div>
<div class="line"><a id="l19173" name="l19173"></a><span class="lineno">19173</span>    child_0-&gt;SizeRef = child_1-&gt;SizeRef = parent_node-&gt;Size;</div>
<div class="line"><a id="l19174" name="l19174"></a><span class="lineno">19174</span>    child_0-&gt;SizeRef[split_axis] = ImTrunc(size_avail * split_ratio);</div>
<div class="line"><a id="l19175" name="l19175"></a><span class="lineno">19175</span>    child_1-&gt;SizeRef[split_axis] = ImTrunc(size_avail - child_0-&gt;SizeRef[split_axis]);</div>
<div class="line"><a id="l19176" name="l19176"></a><span class="lineno">19176</span> </div>
<div class="line"><a id="l19177" name="l19177"></a><span class="lineno">19177</span>    DockNodeMoveWindows(parent_node-&gt;ChildNodes[split_inheritor_child_idx], parent_node);</div>
<div class="line"><a id="l19178" name="l19178"></a><span class="lineno">19178</span>    DockSettingsRenameNodeReferences(parent_node-&gt;ID, parent_node-&gt;ChildNodes[split_inheritor_child_idx]-&gt;ID);</div>
<div class="line"><a id="l19179" name="l19179"></a><span class="lineno">19179</span>    DockNodeUpdateHasCentralNodeChild(DockNodeGetRootNode(parent_node));</div>
<div class="line"><a id="l19180" name="l19180"></a><span class="lineno">19180</span>    DockNodeTreeUpdatePosSize(parent_node, parent_node-&gt;Pos, parent_node-&gt;Size);</div>
<div class="line"><a id="l19181" name="l19181"></a><span class="lineno">19181</span> </div>
<div class="line"><a id="l19182" name="l19182"></a><span class="lineno">19182</span>    <span class="comment">// Flags transfer (e.g. this is where we transfer the ImGuiDockNodeFlags_CentralNode property)</span></div>
<div class="line"><a id="l19183" name="l19183"></a><span class="lineno">19183</span>    child_0-&gt;SharedFlags = parent_node-&gt;SharedFlags &amp; ImGuiDockNodeFlags_SharedFlagsInheritMask_;</div>
<div class="line"><a id="l19184" name="l19184"></a><span class="lineno">19184</span>    child_1-&gt;SharedFlags = parent_node-&gt;SharedFlags &amp; ImGuiDockNodeFlags_SharedFlagsInheritMask_;</div>
<div class="line"><a id="l19185" name="l19185"></a><span class="lineno">19185</span>    child_inheritor-&gt;LocalFlags = parent_node-&gt;LocalFlags &amp; ImGuiDockNodeFlags_LocalFlagsTransferMask_;</div>
<div class="line"><a id="l19186" name="l19186"></a><span class="lineno">19186</span>    parent_node-&gt;LocalFlags &amp;= ~ImGuiDockNodeFlags_LocalFlagsTransferMask_;</div>
<div class="line"><a id="l19187" name="l19187"></a><span class="lineno">19187</span>    child_0-&gt;UpdateMergedFlags();</div>
<div class="line"><a id="l19188" name="l19188"></a><span class="lineno">19188</span>    child_1-&gt;UpdateMergedFlags();</div>
<div class="line"><a id="l19189" name="l19189"></a><span class="lineno">19189</span>    parent_node-&gt;UpdateMergedFlags();</div>
<div class="line"><a id="l19190" name="l19190"></a><span class="lineno">19190</span>    <span class="keywordflow">if</span> (child_inheritor-&gt;IsCentralNode())</div>
<div class="line"><a id="l19191" name="l19191"></a><span class="lineno">19191</span>        DockNodeGetRootNode(parent_node)-&gt;CentralNode = child_inheritor;</div>
<div class="line"><a id="l19192" name="l19192"></a><span class="lineno">19192</span>}</div>
<div class="line"><a id="l19193" name="l19193"></a><span class="lineno">19193</span> </div>
<div class="line"><a id="l19194" name="l19194"></a><span class="lineno">19194</span><span class="keywordtype">void</span> ImGui::DockNodeTreeMerge(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* parent_node, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* merge_lead_child)</div>
<div class="line"><a id="l19195" name="l19195"></a><span class="lineno">19195</span>{</div>
<div class="line"><a id="l19196" name="l19196"></a><span class="lineno">19196</span>    <span class="comment">// When called from DockContextProcessUndockNode() it is possible that one of the child is NULL.</span></div>
<div class="line"><a id="l19197" name="l19197"></a><span class="lineno">19197</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l19198" name="l19198"></a><span class="lineno">19198</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* child_0 = parent_node-&gt;ChildNodes[0];</div>
<div class="line"><a id="l19199" name="l19199"></a><span class="lineno">19199</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* child_1 = parent_node-&gt;ChildNodes[1];</div>
<div class="line"><a id="l19200" name="l19200"></a><span class="lineno">19200</span>    IM_ASSERT(child_0 || child_1);</div>
<div class="line"><a id="l19201" name="l19201"></a><span class="lineno">19201</span>    IM_ASSERT(merge_lead_child == child_0 || merge_lead_child == child_1);</div>
<div class="line"><a id="l19202" name="l19202"></a><span class="lineno">19202</span>    <span class="keywordflow">if</span> ((child_0 &amp;&amp; child_0-&gt;Windows.Size &gt; 0) || (child_1 &amp;&amp; child_1-&gt;Windows.Size &gt; 0))</div>
<div class="line"><a id="l19203" name="l19203"></a><span class="lineno">19203</span>    {</div>
<div class="line"><a id="l19204" name="l19204"></a><span class="lineno">19204</span>        IM_ASSERT(parent_node-&gt;TabBar == NULL);</div>
<div class="line"><a id="l19205" name="l19205"></a><span class="lineno">19205</span>        IM_ASSERT(parent_node-&gt;Windows.Size == 0);</div>
<div class="line"><a id="l19206" name="l19206"></a><span class="lineno">19206</span>    }</div>
<div class="line"><a id="l19207" name="l19207"></a><span class="lineno">19207</span>    IMGUI_DEBUG_LOG_DOCKING(<span class="stringliteral">&quot;[docking] DockNodeTreeMerge: 0x%08X + 0x%08X back into parent 0x%08X\n&quot;</span>, child_0 ? child_0-&gt;ID : 0, child_1 ? child_1-&gt;ID : 0, parent_node-&gt;ID);</div>
<div class="line"><a id="l19208" name="l19208"></a><span class="lineno">19208</span> </div>
<div class="line"><a id="l19209" name="l19209"></a><span class="lineno">19209</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> backup_last_explicit_size = parent_node-&gt;SizeRef;</div>
<div class="line"><a id="l19210" name="l19210"></a><span class="lineno">19210</span>    DockNodeMoveChildNodes(parent_node, merge_lead_child);</div>
<div class="line"><a id="l19211" name="l19211"></a><span class="lineno">19211</span>    <span class="keywordflow">if</span> (child_0)</div>
<div class="line"><a id="l19212" name="l19212"></a><span class="lineno">19212</span>    {</div>
<div class="line"><a id="l19213" name="l19213"></a><span class="lineno">19213</span>        DockNodeMoveWindows(parent_node, child_0); <span class="comment">// Generally only 1 of the 2 child node will have windows</span></div>
<div class="line"><a id="l19214" name="l19214"></a><span class="lineno">19214</span>        DockSettingsRenameNodeReferences(child_0-&gt;ID, parent_node-&gt;ID);</div>
<div class="line"><a id="l19215" name="l19215"></a><span class="lineno">19215</span>    }</div>
<div class="line"><a id="l19216" name="l19216"></a><span class="lineno">19216</span>    <span class="keywordflow">if</span> (child_1)</div>
<div class="line"><a id="l19217" name="l19217"></a><span class="lineno">19217</span>    {</div>
<div class="line"><a id="l19218" name="l19218"></a><span class="lineno">19218</span>        DockNodeMoveWindows(parent_node, child_1);</div>
<div class="line"><a id="l19219" name="l19219"></a><span class="lineno">19219</span>        DockSettingsRenameNodeReferences(child_1-&gt;ID, parent_node-&gt;ID);</div>
<div class="line"><a id="l19220" name="l19220"></a><span class="lineno">19220</span>    }</div>
<div class="line"><a id="l19221" name="l19221"></a><span class="lineno">19221</span>    DockNodeApplyPosSizeToWindows(parent_node);</div>
<div class="line"><a id="l19222" name="l19222"></a><span class="lineno">19222</span>    parent_node-&gt;AuthorityForPos = parent_node-&gt;AuthorityForSize = parent_node-&gt;AuthorityForViewport = ImGuiDataAuthority_Auto;</div>
<div class="line"><a id="l19223" name="l19223"></a><span class="lineno">19223</span>    parent_node-&gt;VisibleWindow = merge_lead_child-&gt;VisibleWindow;</div>
<div class="line"><a id="l19224" name="l19224"></a><span class="lineno">19224</span>    parent_node-&gt;SizeRef = backup_last_explicit_size;</div>
<div class="line"><a id="l19225" name="l19225"></a><span class="lineno">19225</span> </div>
<div class="line"><a id="l19226" name="l19226"></a><span class="lineno">19226</span>    <span class="comment">// Flags transfer</span></div>
<div class="line"><a id="l19227" name="l19227"></a><span class="lineno">19227</span>    parent_node-&gt;LocalFlags &amp;= ~ImGuiDockNodeFlags_LocalFlagsTransferMask_; <span class="comment">// Preserve Dockspace flag</span></div>
<div class="line"><a id="l19228" name="l19228"></a><span class="lineno">19228</span>    parent_node-&gt;LocalFlags |= (child_0 ? child_0-&gt;LocalFlags : 0) &amp; ImGuiDockNodeFlags_LocalFlagsTransferMask_;</div>
<div class="line"><a id="l19229" name="l19229"></a><span class="lineno">19229</span>    parent_node-&gt;LocalFlags |= (child_1 ? child_1-&gt;LocalFlags : 0) &amp; ImGuiDockNodeFlags_LocalFlagsTransferMask_;</div>
<div class="line"><a id="l19230" name="l19230"></a><span class="lineno">19230</span>    parent_node-&gt;LocalFlagsInWindows = (child_0 ? child_0-&gt;LocalFlagsInWindows : 0) | (child_1 ? child_1-&gt;LocalFlagsInWindows : 0); <span class="comment">// FIXME: Would be more consistent to update from actual windows</span></div>
<div class="line"><a id="l19231" name="l19231"></a><span class="lineno">19231</span>    parent_node-&gt;UpdateMergedFlags();</div>
<div class="line"><a id="l19232" name="l19232"></a><span class="lineno">19232</span> </div>
<div class="line"><a id="l19233" name="l19233"></a><span class="lineno">19233</span>    <span class="keywordflow">if</span> (child_0)</div>
<div class="line"><a id="l19234" name="l19234"></a><span class="lineno">19234</span>    {</div>
<div class="line"><a id="l19235" name="l19235"></a><span class="lineno">19235</span>        ctx-&gt;DockContext.Nodes.SetVoidPtr(child_0-&gt;ID, NULL);</div>
<div class="line"><a id="l19236" name="l19236"></a><span class="lineno">19236</span>        IM_DELETE(child_0);</div>
<div class="line"><a id="l19237" name="l19237"></a><span class="lineno">19237</span>    }</div>
<div class="line"><a id="l19238" name="l19238"></a><span class="lineno">19238</span>    <span class="keywordflow">if</span> (child_1)</div>
<div class="line"><a id="l19239" name="l19239"></a><span class="lineno">19239</span>    {</div>
<div class="line"><a id="l19240" name="l19240"></a><span class="lineno">19240</span>        ctx-&gt;DockContext.Nodes.SetVoidPtr(child_1-&gt;ID, NULL);</div>
<div class="line"><a id="l19241" name="l19241"></a><span class="lineno">19241</span>        IM_DELETE(child_1);</div>
<div class="line"><a id="l19242" name="l19242"></a><span class="lineno">19242</span>    }</div>
<div class="line"><a id="l19243" name="l19243"></a><span class="lineno">19243</span>}</div>
<div class="line"><a id="l19244" name="l19244"></a><span class="lineno">19244</span> </div>
<div class="line"><a id="l19245" name="l19245"></a><span class="lineno">19245</span><span class="comment">// Update Pos/Size for a node hierarchy (don&#39;t affect child Windows yet)</span></div>
<div class="line"><a id="l19246" name="l19246"></a><span class="lineno">19246</span><span class="comment">// (Depth-first, Pre-Order)</span></div>
<div class="line"><a id="l19247" name="l19247"></a><span class="lineno">19247</span><span class="keywordtype">void</span> ImGui::DockNodeTreeUpdatePosSize(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node, <a class="code hl_struct" href="structImVec2.html">ImVec2</a> pos, <a class="code hl_struct" href="structImVec2.html">ImVec2</a> size, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* only_write_to_single_node)</div>
<div class="line"><a id="l19248" name="l19248"></a><span class="lineno">19248</span>{</div>
<div class="line"><a id="l19249" name="l19249"></a><span class="lineno">19249</span>    <span class="comment">// During the regular dock node update we write to all nodes.</span></div>
<div class="line"><a id="l19250" name="l19250"></a><span class="lineno">19250</span>    <span class="comment">// &#39;only_write_to_single_node&#39; is only set when turning a node visible mid-frame and we need its size right-away.</span></div>
<div class="line"><a id="l19251" name="l19251"></a><span class="lineno">19251</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l19252" name="l19252"></a><span class="lineno">19252</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> write_to_node = only_write_to_single_node == NULL || only_write_to_single_node == node;</div>
<div class="line"><a id="l19253" name="l19253"></a><span class="lineno">19253</span>    <span class="keywordflow">if</span> (write_to_node)</div>
<div class="line"><a id="l19254" name="l19254"></a><span class="lineno">19254</span>    {</div>
<div class="line"><a id="l19255" name="l19255"></a><span class="lineno">19255</span>        node-&gt;Pos = pos;</div>
<div class="line"><a id="l19256" name="l19256"></a><span class="lineno">19256</span>        node-&gt;Size = size;</div>
<div class="line"><a id="l19257" name="l19257"></a><span class="lineno">19257</span>    }</div>
<div class="line"><a id="l19258" name="l19258"></a><span class="lineno">19258</span> </div>
<div class="line"><a id="l19259" name="l19259"></a><span class="lineno">19259</span>    <span class="keywordflow">if</span> (node-&gt;IsLeafNode())</div>
<div class="line"><a id="l19260" name="l19260"></a><span class="lineno">19260</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l19261" name="l19261"></a><span class="lineno">19261</span> </div>
<div class="line"><a id="l19262" name="l19262"></a><span class="lineno">19262</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* child_0 = node-&gt;ChildNodes[0];</div>
<div class="line"><a id="l19263" name="l19263"></a><span class="lineno">19263</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* child_1 = node-&gt;ChildNodes[1];</div>
<div class="line"><a id="l19264" name="l19264"></a><span class="lineno">19264</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> child_0_pos = pos, child_1_pos = pos;</div>
<div class="line"><a id="l19265" name="l19265"></a><span class="lineno">19265</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> child_0_size = size, child_1_size = size;</div>
<div class="line"><a id="l19266" name="l19266"></a><span class="lineno">19266</span> </div>
<div class="line"><a id="l19267" name="l19267"></a><span class="lineno">19267</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> child_0_is_toward_single_node = (only_write_to_single_node != NULL &amp;&amp; DockNodeIsInHierarchyOf(only_write_to_single_node, child_0));</div>
<div class="line"><a id="l19268" name="l19268"></a><span class="lineno">19268</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> child_1_is_toward_single_node = (only_write_to_single_node != NULL &amp;&amp; DockNodeIsInHierarchyOf(only_write_to_single_node, child_1));</div>
<div class="line"><a id="l19269" name="l19269"></a><span class="lineno">19269</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> child_0_is_or_will_be_visible = child_0-&gt;IsVisible || child_0_is_toward_single_node;</div>
<div class="line"><a id="l19270" name="l19270"></a><span class="lineno">19270</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> child_1_is_or_will_be_visible = child_1-&gt;IsVisible || child_1_is_toward_single_node;</div>
<div class="line"><a id="l19271" name="l19271"></a><span class="lineno">19271</span> </div>
<div class="line"><a id="l19272" name="l19272"></a><span class="lineno">19272</span>    <span class="keywordflow">if</span> (child_0_is_or_will_be_visible &amp;&amp; child_1_is_or_will_be_visible)</div>
<div class="line"><a id="l19273" name="l19273"></a><span class="lineno">19273</span>    {</div>
<div class="line"><a id="l19274" name="l19274"></a><span class="lineno">19274</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> spacing = g.Style.DockingSeparatorSize;</div>
<div class="line"><a id="l19275" name="l19275"></a><span class="lineno">19275</span>        <span class="keyword">const</span> ImGuiAxis axis = (ImGuiAxis)node-&gt;SplitAxis;</div>
<div class="line"><a id="l19276" name="l19276"></a><span class="lineno">19276</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> size_avail = ImMax(size[axis] - spacing, 0.0f);</div>
<div class="line"><a id="l19277" name="l19277"></a><span class="lineno">19277</span> </div>
<div class="line"><a id="l19278" name="l19278"></a><span class="lineno">19278</span>        <span class="comment">// Size allocation policy</span></div>
<div class="line"><a id="l19279" name="l19279"></a><span class="lineno">19279</span>        <span class="comment">// 1) The first 0..WindowMinSize[axis]*2 are allocated evenly to both windows.</span></div>
<div class="line"><a id="l19280" name="l19280"></a><span class="lineno">19280</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> size_min_each = ImTrunc(ImMin(size_avail, g.Style.WindowMinSize[axis] * 2.0f) * 0.5f);</div>
<div class="line"><a id="l19281" name="l19281"></a><span class="lineno">19281</span> </div>
<div class="line"><a id="l19282" name="l19282"></a><span class="lineno">19282</span>        <span class="comment">// FIXME: Blocks 2) and 3) are essentially doing nearly the same thing.</span></div>
<div class="line"><a id="l19283" name="l19283"></a><span class="lineno">19283</span>        <span class="comment">// Difference are: write-back to SizeRef; application of a minimum size; rounding before ImTrunc()</span></div>
<div class="line"><a id="l19284" name="l19284"></a><span class="lineno">19284</span>        <span class="comment">// Clarify and rework differences between Size &amp; SizeRef and purpose of WantLockSizeOnce</span></div>
<div class="line"><a id="l19285" name="l19285"></a><span class="lineno">19285</span> </div>
<div class="line"><a id="l19286" name="l19286"></a><span class="lineno">19286</span>        <span class="comment">// 2) Process locked absolute size (during a splitter resize we preserve the child of nodes not touching the splitter edge)</span></div>
<div class="line"><a id="l19287" name="l19287"></a><span class="lineno">19287</span>        <span class="keywordflow">if</span> (child_0-&gt;WantLockSizeOnce &amp;&amp; !child_1-&gt;WantLockSizeOnce)</div>
<div class="line"><a id="l19288" name="l19288"></a><span class="lineno">19288</span>        {</div>
<div class="line"><a id="l19289" name="l19289"></a><span class="lineno">19289</span>            child_0_size[axis] = child_0-&gt;SizeRef[axis] = ImMin(size_avail - 1.0f, child_0-&gt;Size[axis]);</div>
<div class="line"><a id="l19290" name="l19290"></a><span class="lineno">19290</span>            child_1_size[axis] = child_1-&gt;SizeRef[axis] = (size_avail - child_0_size[axis]);</div>
<div class="line"><a id="l19291" name="l19291"></a><span class="lineno">19291</span>            IM_ASSERT(child_0-&gt;SizeRef[axis] &gt; 0.0f &amp;&amp; child_1-&gt;SizeRef[axis] &gt; 0.0f);</div>
<div class="line"><a id="l19292" name="l19292"></a><span class="lineno">19292</span>        }</div>
<div class="line"><a id="l19293" name="l19293"></a><span class="lineno">19293</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (child_1-&gt;WantLockSizeOnce &amp;&amp; !child_0-&gt;WantLockSizeOnce)</div>
<div class="line"><a id="l19294" name="l19294"></a><span class="lineno">19294</span>        {</div>
<div class="line"><a id="l19295" name="l19295"></a><span class="lineno">19295</span>            child_1_size[axis] = child_1-&gt;SizeRef[axis] = ImMin(size_avail - 1.0f, child_1-&gt;Size[axis]);</div>
<div class="line"><a id="l19296" name="l19296"></a><span class="lineno">19296</span>            child_0_size[axis] = child_0-&gt;SizeRef[axis] = (size_avail - child_1_size[axis]);</div>
<div class="line"><a id="l19297" name="l19297"></a><span class="lineno">19297</span>            IM_ASSERT(child_0-&gt;SizeRef[axis] &gt; 0.0f &amp;&amp; child_1-&gt;SizeRef[axis] &gt; 0.0f);</div>
<div class="line"><a id="l19298" name="l19298"></a><span class="lineno">19298</span>        }</div>
<div class="line"><a id="l19299" name="l19299"></a><span class="lineno">19299</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (child_0-&gt;WantLockSizeOnce &amp;&amp; child_1-&gt;WantLockSizeOnce)</div>
<div class="line"><a id="l19300" name="l19300"></a><span class="lineno">19300</span>        {</div>
<div class="line"><a id="l19301" name="l19301"></a><span class="lineno">19301</span>            <span class="comment">// FIXME-DOCK: We cannot honor the requested size, so apply ratio.</span></div>
<div class="line"><a id="l19302" name="l19302"></a><span class="lineno">19302</span>            <span class="comment">// Currently this path will only be taken if code programmatically sets WantLockSizeOnce</span></div>
<div class="line"><a id="l19303" name="l19303"></a><span class="lineno">19303</span>            <span class="keywordtype">float</span> split_ratio = child_0_size[axis] / (child_0_size[axis] + child_1_size[axis]);</div>
<div class="line"><a id="l19304" name="l19304"></a><span class="lineno">19304</span>            child_0_size[axis] = child_0-&gt;SizeRef[axis] = ImTrunc(size_avail * split_ratio);</div>
<div class="line"><a id="l19305" name="l19305"></a><span class="lineno">19305</span>            child_1_size[axis] = child_1-&gt;SizeRef[axis] = (size_avail - child_0_size[axis]);</div>
<div class="line"><a id="l19306" name="l19306"></a><span class="lineno">19306</span>            IM_ASSERT(child_0-&gt;SizeRef[axis] &gt; 0.0f &amp;&amp; child_1-&gt;SizeRef[axis] &gt; 0.0f);</div>
<div class="line"><a id="l19307" name="l19307"></a><span class="lineno">19307</span>        }</div>
<div class="line"><a id="l19308" name="l19308"></a><span class="lineno">19308</span> </div>
<div class="line"><a id="l19309" name="l19309"></a><span class="lineno">19309</span>        <span class="comment">// 3) If one window is the central node (~ use remaining space, should be made explicit!), use explicit size from the other, and remainder for the central node</span></div>
<div class="line"><a id="l19310" name="l19310"></a><span class="lineno">19310</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (child_0-&gt;SizeRef[axis] != 0.0f &amp;&amp; child_1-&gt;HasCentralNodeChild)</div>
<div class="line"><a id="l19311" name="l19311"></a><span class="lineno">19311</span>        {</div>
<div class="line"><a id="l19312" name="l19312"></a><span class="lineno">19312</span>            child_0_size[axis] = ImMin(size_avail - size_min_each, child_0-&gt;SizeRef[axis]);</div>
<div class="line"><a id="l19313" name="l19313"></a><span class="lineno">19313</span>            child_1_size[axis] = (size_avail - child_0_size[axis]);</div>
<div class="line"><a id="l19314" name="l19314"></a><span class="lineno">19314</span>        }</div>
<div class="line"><a id="l19315" name="l19315"></a><span class="lineno">19315</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (child_1-&gt;SizeRef[axis] != 0.0f &amp;&amp; child_0-&gt;HasCentralNodeChild)</div>
<div class="line"><a id="l19316" name="l19316"></a><span class="lineno">19316</span>        {</div>
<div class="line"><a id="l19317" name="l19317"></a><span class="lineno">19317</span>            child_1_size[axis] = ImMin(size_avail - size_min_each, child_1-&gt;SizeRef[axis]);</div>
<div class="line"><a id="l19318" name="l19318"></a><span class="lineno">19318</span>            child_0_size[axis] = (size_avail - child_1_size[axis]);</div>
<div class="line"><a id="l19319" name="l19319"></a><span class="lineno">19319</span>        }</div>
<div class="line"><a id="l19320" name="l19320"></a><span class="lineno">19320</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l19321" name="l19321"></a><span class="lineno">19321</span>        {</div>
<div class="line"><a id="l19322" name="l19322"></a><span class="lineno">19322</span>            <span class="comment">// 4) Otherwise distribute according to the relative ratio of each SizeRef value</span></div>
<div class="line"><a id="l19323" name="l19323"></a><span class="lineno">19323</span>            <span class="keywordtype">float</span> split_ratio = child_0-&gt;SizeRef[axis] / (child_0-&gt;SizeRef[axis] + child_1-&gt;SizeRef[axis]);</div>
<div class="line"><a id="l19324" name="l19324"></a><span class="lineno">19324</span>            child_0_size[axis] = ImMax(size_min_each, ImTrunc(size_avail * split_ratio + 0.5f));</div>
<div class="line"><a id="l19325" name="l19325"></a><span class="lineno">19325</span>            child_1_size[axis] = (size_avail - child_0_size[axis]);</div>
<div class="line"><a id="l19326" name="l19326"></a><span class="lineno">19326</span>        }</div>
<div class="line"><a id="l19327" name="l19327"></a><span class="lineno">19327</span> </div>
<div class="line"><a id="l19328" name="l19328"></a><span class="lineno">19328</span>        child_1_pos[axis] += spacing + child_0_size[axis];</div>
<div class="line"><a id="l19329" name="l19329"></a><span class="lineno">19329</span>    }</div>
<div class="line"><a id="l19330" name="l19330"></a><span class="lineno">19330</span> </div>
<div class="line"><a id="l19331" name="l19331"></a><span class="lineno">19331</span>    <span class="keywordflow">if</span> (only_write_to_single_node == NULL)</div>
<div class="line"><a id="l19332" name="l19332"></a><span class="lineno">19332</span>        child_0-&gt;WantLockSizeOnce = child_1-&gt;WantLockSizeOnce = <span class="keyword">false</span>;</div>
<div class="line"><a id="l19333" name="l19333"></a><span class="lineno">19333</span> </div>
<div class="line"><a id="l19334" name="l19334"></a><span class="lineno">19334</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> child_0_recurse = only_write_to_single_node ? child_0_is_toward_single_node : child_0-&gt;IsVisible;</div>
<div class="line"><a id="l19335" name="l19335"></a><span class="lineno">19335</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> child_1_recurse = only_write_to_single_node ? child_1_is_toward_single_node : child_1-&gt;IsVisible;</div>
<div class="line"><a id="l19336" name="l19336"></a><span class="lineno">19336</span>    <span class="keywordflow">if</span> (child_0_recurse)</div>
<div class="line"><a id="l19337" name="l19337"></a><span class="lineno">19337</span>        DockNodeTreeUpdatePosSize(child_0, child_0_pos, child_0_size);</div>
<div class="line"><a id="l19338" name="l19338"></a><span class="lineno">19338</span>    <span class="keywordflow">if</span> (child_1_recurse)</div>
<div class="line"><a id="l19339" name="l19339"></a><span class="lineno">19339</span>        DockNodeTreeUpdatePosSize(child_1, child_1_pos, child_1_size);</div>
<div class="line"><a id="l19340" name="l19340"></a><span class="lineno">19340</span>}</div>
<div class="line"><a id="l19341" name="l19341"></a><span class="lineno">19341</span> </div>
<div class="line"><a id="l19342" name="l19342"></a><span class="lineno">19342</span><span class="keyword">static</span> <span class="keywordtype">void</span> DockNodeTreeUpdateSplitterFindTouchingNode(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node, ImGuiAxis axis, <span class="keywordtype">int</span> side, <a class="code hl_struct" href="structImVector.html">ImVector&lt;ImGuiDockNode*&gt;</a>* touching_nodes)</div>
<div class="line"><a id="l19343" name="l19343"></a><span class="lineno">19343</span>{</div>
<div class="line"><a id="l19344" name="l19344"></a><span class="lineno">19344</span>    <span class="keywordflow">if</span> (node-&gt;IsLeafNode())</div>
<div class="line"><a id="l19345" name="l19345"></a><span class="lineno">19345</span>    {</div>
<div class="line"><a id="l19346" name="l19346"></a><span class="lineno">19346</span>        touching_nodes-&gt;push_back(node);</div>
<div class="line"><a id="l19347" name="l19347"></a><span class="lineno">19347</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l19348" name="l19348"></a><span class="lineno">19348</span>    }</div>
<div class="line"><a id="l19349" name="l19349"></a><span class="lineno">19349</span>    <span class="keywordflow">if</span> (node-&gt;ChildNodes[0]-&gt;IsVisible)</div>
<div class="line"><a id="l19350" name="l19350"></a><span class="lineno">19350</span>        <span class="keywordflow">if</span> (node-&gt;SplitAxis != axis || side == 0 || !node-&gt;ChildNodes[1]-&gt;IsVisible)</div>
<div class="line"><a id="l19351" name="l19351"></a><span class="lineno">19351</span>            DockNodeTreeUpdateSplitterFindTouchingNode(node-&gt;ChildNodes[0], axis, side, touching_nodes);</div>
<div class="line"><a id="l19352" name="l19352"></a><span class="lineno">19352</span>    <span class="keywordflow">if</span> (node-&gt;ChildNodes[1]-&gt;IsVisible)</div>
<div class="line"><a id="l19353" name="l19353"></a><span class="lineno">19353</span>        <span class="keywordflow">if</span> (node-&gt;SplitAxis != axis || side == 1 || !node-&gt;ChildNodes[0]-&gt;IsVisible)</div>
<div class="line"><a id="l19354" name="l19354"></a><span class="lineno">19354</span>            DockNodeTreeUpdateSplitterFindTouchingNode(node-&gt;ChildNodes[1], axis, side, touching_nodes);</div>
<div class="line"><a id="l19355" name="l19355"></a><span class="lineno">19355</span>}</div>
<div class="line"><a id="l19356" name="l19356"></a><span class="lineno">19356</span> </div>
<div class="line"><a id="l19357" name="l19357"></a><span class="lineno">19357</span><span class="comment">// (Depth-First, Pre-Order)</span></div>
<div class="line"><a id="l19358" name="l19358"></a><span class="lineno">19358</span><span class="keywordtype">void</span> ImGui::DockNodeTreeUpdateSplitter(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node)</div>
<div class="line"><a id="l19359" name="l19359"></a><span class="lineno">19359</span>{</div>
<div class="line"><a id="l19360" name="l19360"></a><span class="lineno">19360</span>    <span class="keywordflow">if</span> (node-&gt;IsLeafNode())</div>
<div class="line"><a id="l19361" name="l19361"></a><span class="lineno">19361</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l19362" name="l19362"></a><span class="lineno">19362</span> </div>
<div class="line"><a id="l19363" name="l19363"></a><span class="lineno">19363</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l19364" name="l19364"></a><span class="lineno">19364</span> </div>
<div class="line"><a id="l19365" name="l19365"></a><span class="lineno">19365</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* child_0 = node-&gt;ChildNodes[0];</div>
<div class="line"><a id="l19366" name="l19366"></a><span class="lineno">19366</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* child_1 = node-&gt;ChildNodes[1];</div>
<div class="line"><a id="l19367" name="l19367"></a><span class="lineno">19367</span>    <span class="keywordflow">if</span> (child_0-&gt;IsVisible &amp;&amp; child_1-&gt;IsVisible)</div>
<div class="line"><a id="l19368" name="l19368"></a><span class="lineno">19368</span>    {</div>
<div class="line"><a id="l19369" name="l19369"></a><span class="lineno">19369</span>        <span class="comment">// Bounding box of the splitter cover the space between both nodes (w = Spacing, h = Size[xy^1] for when splitting horizontally)</span></div>
<div class="line"><a id="l19370" name="l19370"></a><span class="lineno">19370</span>        <span class="keyword">const</span> ImGuiAxis axis = (ImGuiAxis)node-&gt;SplitAxis;</div>
<div class="line"><a id="l19371" name="l19371"></a><span class="lineno">19371</span>        IM_ASSERT(axis != ImGuiAxis_None);</div>
<div class="line"><a id="l19372" name="l19372"></a><span class="lineno">19372</span>        <a class="code hl_struct" href="structImRect.html">ImRect</a> bb;</div>
<div class="line"><a id="l19373" name="l19373"></a><span class="lineno">19373</span>        bb.Min = child_0-&gt;Pos;</div>
<div class="line"><a id="l19374" name="l19374"></a><span class="lineno">19374</span>        bb.Max = child_1-&gt;Pos;</div>
<div class="line"><a id="l19375" name="l19375"></a><span class="lineno">19375</span>        bb.Min[axis] += child_0-&gt;Size[axis];</div>
<div class="line"><a id="l19376" name="l19376"></a><span class="lineno">19376</span>        bb.Max[axis ^ 1] += child_1-&gt;Size[axis ^ 1];</div>
<div class="line"><a id="l19377" name="l19377"></a><span class="lineno">19377</span>        <span class="comment">//if (g.IO.KeyCtrl) GetForegroundDrawList(g.CurrentWindow-&gt;Viewport)-&gt;AddRect(bb.Min, bb.Max, IM_COL32(255,0,255,255));</span></div>
<div class="line"><a id="l19378" name="l19378"></a><span class="lineno">19378</span> </div>
<div class="line"><a id="l19379" name="l19379"></a><span class="lineno">19379</span>        <span class="keyword">const</span> ImGuiDockNodeFlags merged_flags = child_0-&gt;MergedFlags | child_1-&gt;MergedFlags; <span class="comment">// Merged flags for BOTH childs</span></div>
<div class="line"><a id="l19380" name="l19380"></a><span class="lineno">19380</span>        <span class="keyword">const</span> ImGuiDockNodeFlags no_resize_axis_flag = (axis == ImGuiAxis_X) ? ImGuiDockNodeFlags_NoResizeX : ImGuiDockNodeFlags_NoResizeY;</div>
<div class="line"><a id="l19381" name="l19381"></a><span class="lineno">19381</span>        <span class="keywordflow">if</span> ((merged_flags &amp; ImGuiDockNodeFlags_NoResize) || (merged_flags &amp; no_resize_axis_flag))</div>
<div class="line"><a id="l19382" name="l19382"></a><span class="lineno">19382</span>        {</div>
<div class="line"><a id="l19383" name="l19383"></a><span class="lineno">19383</span>            <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l19384" name="l19384"></a><span class="lineno">19384</span>            window-&gt;DrawList-&gt;AddRectFilled(bb.Min, bb.Max, GetColorU32(ImGuiCol_Separator), g.Style.FrameRounding);</div>
<div class="line"><a id="l19385" name="l19385"></a><span class="lineno">19385</span>        }</div>
<div class="line"><a id="l19386" name="l19386"></a><span class="lineno">19386</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l19387" name="l19387"></a><span class="lineno">19387</span>        {</div>
<div class="line"><a id="l19388" name="l19388"></a><span class="lineno">19388</span>            <span class="comment">//bb.Min[axis] += 1; // Display a little inward so highlight doesn&#39;t connect with nearby tabs on the neighbor node.</span></div>
<div class="line"><a id="l19389" name="l19389"></a><span class="lineno">19389</span>            <span class="comment">//bb.Max[axis] -= 1;</span></div>
<div class="line"><a id="l19390" name="l19390"></a><span class="lineno">19390</span>            PushID(node-&gt;ID);</div>
<div class="line"><a id="l19391" name="l19391"></a><span class="lineno">19391</span> </div>
<div class="line"><a id="l19392" name="l19392"></a><span class="lineno">19392</span>            <span class="comment">// Find resizing limits by gathering list of nodes that are touching the splitter line.</span></div>
<div class="line"><a id="l19393" name="l19393"></a><span class="lineno">19393</span>            <a class="code hl_struct" href="structImVector.html">ImVector&lt;ImGuiDockNode*&gt;</a> touching_nodes[2];</div>
<div class="line"><a id="l19394" name="l19394"></a><span class="lineno">19394</span>            <span class="keywordtype">float</span> min_size = g.Style.WindowMinSize[axis];</div>
<div class="line"><a id="l19395" name="l19395"></a><span class="lineno">19395</span>            <span class="keywordtype">float</span> resize_limits[2];</div>
<div class="line"><a id="l19396" name="l19396"></a><span class="lineno">19396</span>            resize_limits[0] = node-&gt;ChildNodes[0]-&gt;Pos[axis] + min_size;</div>
<div class="line"><a id="l19397" name="l19397"></a><span class="lineno">19397</span>            resize_limits[1] = node-&gt;ChildNodes[1]-&gt;Pos[axis] + node-&gt;ChildNodes[1]-&gt;Size[axis] - min_size;</div>
<div class="line"><a id="l19398" name="l19398"></a><span class="lineno">19398</span> </div>
<div class="line"><a id="l19399" name="l19399"></a><span class="lineno">19399</span>            ImGuiID splitter_id = GetID(<span class="stringliteral">&quot;##Splitter&quot;</span>);</div>
<div class="line"><a id="l19400" name="l19400"></a><span class="lineno">19400</span>            <span class="keywordflow">if</span> (g.ActiveId == splitter_id) <span class="comment">// Only process when splitter is active</span></div>
<div class="line"><a id="l19401" name="l19401"></a><span class="lineno">19401</span>            {</div>
<div class="line"><a id="l19402" name="l19402"></a><span class="lineno">19402</span>                DockNodeTreeUpdateSplitterFindTouchingNode(child_0, axis, 1, &amp;touching_nodes[0]);</div>
<div class="line"><a id="l19403" name="l19403"></a><span class="lineno">19403</span>                DockNodeTreeUpdateSplitterFindTouchingNode(child_1, axis, 0, &amp;touching_nodes[1]);</div>
<div class="line"><a id="l19404" name="l19404"></a><span class="lineno">19404</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> touching_node_n = 0; touching_node_n &lt; touching_nodes[0].Size; touching_node_n++)</div>
<div class="line"><a id="l19405" name="l19405"></a><span class="lineno">19405</span>                    resize_limits[0] = ImMax(resize_limits[0], touching_nodes[0][touching_node_n]-&gt;Rect().Min[axis] + min_size);</div>
<div class="line"><a id="l19406" name="l19406"></a><span class="lineno">19406</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> touching_node_n = 0; touching_node_n &lt; touching_nodes[1].Size; touching_node_n++)</div>
<div class="line"><a id="l19407" name="l19407"></a><span class="lineno">19407</span>                    resize_limits[1] = ImMin(resize_limits[1], touching_nodes[1][touching_node_n]-&gt;Rect().Max[axis] - min_size);</div>
<div class="line"><a id="l19408" name="l19408"></a><span class="lineno">19408</span> </div>
<div class="line"><a id="l19409" name="l19409"></a><span class="lineno">19409</span>                <span class="comment">// [DEBUG] Render touching nodes &amp; limits</span></div>
<div class="line"><a id="l19410" name="l19410"></a><span class="lineno">19410</span>                <span class="comment">/*</span></div>
<div class="line"><a id="l19411" name="l19411"></a><span class="lineno">19411</span><span class="comment">                ImDrawList* draw_list = node-&gt;HostWindow ? GetForegroundDrawList(node-&gt;HostWindow) : GetForegroundDrawList(GetMainViewport());</span></div>
<div class="line"><a id="l19412" name="l19412"></a><span class="lineno">19412</span><span class="comment">                for (int n = 0; n &lt; 2; n++)</span></div>
<div class="line"><a id="l19413" name="l19413"></a><span class="lineno">19413</span><span class="comment">                {</span></div>
<div class="line"><a id="l19414" name="l19414"></a><span class="lineno">19414</span><span class="comment">                    for (int touching_node_n = 0; touching_node_n &lt; touching_nodes[n].Size; touching_node_n++)</span></div>
<div class="line"><a id="l19415" name="l19415"></a><span class="lineno">19415</span><span class="comment">                        draw_list-&gt;AddRect(touching_nodes[n][touching_node_n]-&gt;Pos, touching_nodes[n][touching_node_n]-&gt;Pos + touching_nodes[n][touching_node_n]-&gt;Size, IM_COL32(0, 255, 0, 255));</span></div>
<div class="line"><a id="l19416" name="l19416"></a><span class="lineno">19416</span><span class="comment">                    if (axis == ImGuiAxis_X)</span></div>
<div class="line"><a id="l19417" name="l19417"></a><span class="lineno">19417</span><span class="comment">                        draw_list-&gt;AddLine(ImVec2(resize_limits[n], node-&gt;ChildNodes[n]-&gt;Pos.y), ImVec2(resize_limits[n], node-&gt;ChildNodes[n]-&gt;Pos.y + node-&gt;ChildNodes[n]-&gt;Size.y), IM_COL32(255, 0, 255, 255), 3.0f);</span></div>
<div class="line"><a id="l19418" name="l19418"></a><span class="lineno">19418</span><span class="comment">                    else</span></div>
<div class="line"><a id="l19419" name="l19419"></a><span class="lineno">19419</span><span class="comment">                        draw_list-&gt;AddLine(ImVec2(node-&gt;ChildNodes[n]-&gt;Pos.x, resize_limits[n]), ImVec2(node-&gt;ChildNodes[n]-&gt;Pos.x + node-&gt;ChildNodes[n]-&gt;Size.x, resize_limits[n]), IM_COL32(255, 0, 255, 255), 3.0f);</span></div>
<div class="line"><a id="l19420" name="l19420"></a><span class="lineno">19420</span><span class="comment">                }</span></div>
<div class="line"><a id="l19421" name="l19421"></a><span class="lineno">19421</span><span class="comment">                */</span></div>
<div class="line"><a id="l19422" name="l19422"></a><span class="lineno">19422</span>            }</div>
<div class="line"><a id="l19423" name="l19423"></a><span class="lineno">19423</span> </div>
<div class="line"><a id="l19424" name="l19424"></a><span class="lineno">19424</span>            <span class="comment">// Use a short delay before highlighting the splitter (and changing the mouse cursor) in order for regular mouse movement to not highlight many splitters</span></div>
<div class="line"><a id="l19425" name="l19425"></a><span class="lineno">19425</span>            <span class="keywordtype">float</span> cur_size_0 = child_0-&gt;Size[axis];</div>
<div class="line"><a id="l19426" name="l19426"></a><span class="lineno">19426</span>            <span class="keywordtype">float</span> cur_size_1 = child_1-&gt;Size[axis];</div>
<div class="line"><a id="l19427" name="l19427"></a><span class="lineno">19427</span>            <span class="keywordtype">float</span> min_size_0 = resize_limits[0] - child_0-&gt;Pos[axis];</div>
<div class="line"><a id="l19428" name="l19428"></a><span class="lineno">19428</span>            <span class="keywordtype">float</span> min_size_1 = child_1-&gt;Pos[axis] + child_1-&gt;Size[axis] - resize_limits[1];</div>
<div class="line"><a id="l19429" name="l19429"></a><span class="lineno">19429</span>            ImU32 bg_col = GetColorU32(ImGuiCol_WindowBg);</div>
<div class="line"><a id="l19430" name="l19430"></a><span class="lineno">19430</span>            <span class="keywordflow">if</span> (SplitterBehavior(bb, GetID(<span class="stringliteral">&quot;##Splitter&quot;</span>), axis, &amp;cur_size_0, &amp;cur_size_1, min_size_0, min_size_1, g.WindowsBorderHoverPadding, WINDOWS_RESIZE_FROM_EDGES_FEEDBACK_TIMER, bg_col))</div>
<div class="line"><a id="l19431" name="l19431"></a><span class="lineno">19431</span>            {</div>
<div class="line"><a id="l19432" name="l19432"></a><span class="lineno">19432</span>                <span class="keywordflow">if</span> (touching_nodes[0].Size &gt; 0 &amp;&amp; touching_nodes[1].Size &gt; 0)</div>
<div class="line"><a id="l19433" name="l19433"></a><span class="lineno">19433</span>                {</div>
<div class="line"><a id="l19434" name="l19434"></a><span class="lineno">19434</span>                    child_0-&gt;Size[axis] = child_0-&gt;SizeRef[axis] = cur_size_0;</div>
<div class="line"><a id="l19435" name="l19435"></a><span class="lineno">19435</span>                    child_1-&gt;Pos[axis] -= cur_size_1 - child_1-&gt;Size[axis];</div>
<div class="line"><a id="l19436" name="l19436"></a><span class="lineno">19436</span>                    child_1-&gt;Size[axis] = child_1-&gt;SizeRef[axis] = cur_size_1;</div>
<div class="line"><a id="l19437" name="l19437"></a><span class="lineno">19437</span> </div>
<div class="line"><a id="l19438" name="l19438"></a><span class="lineno">19438</span>                    <span class="comment">// Lock the size of every node that is a sibling of the node we are touching</span></div>
<div class="line"><a id="l19439" name="l19439"></a><span class="lineno">19439</span>                    <span class="comment">// This might be less desirable if we can merge sibling of a same axis into the same parental level.</span></div>
<div class="line"><a id="l19440" name="l19440"></a><span class="lineno">19440</span>                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> side_n = 0; side_n &lt; 2; side_n++)</div>
<div class="line"><a id="l19441" name="l19441"></a><span class="lineno">19441</span>                        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> touching_node_n = 0; touching_node_n &lt; touching_nodes[side_n].Size; touching_node_n++)</div>
<div class="line"><a id="l19442" name="l19442"></a><span class="lineno">19442</span>                        {</div>
<div class="line"><a id="l19443" name="l19443"></a><span class="lineno">19443</span>                            <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* touching_node = touching_nodes[side_n][touching_node_n];</div>
<div class="line"><a id="l19444" name="l19444"></a><span class="lineno">19444</span>                            <span class="comment">//ImDrawList* draw_list = node-&gt;HostWindow ? GetForegroundDrawList(node-&gt;HostWindow) : GetForegroundDrawList(GetMainViewport());</span></div>
<div class="line"><a id="l19445" name="l19445"></a><span class="lineno">19445</span>                            <span class="comment">//draw_list-&gt;AddRect(touching_node-&gt;Pos, touching_node-&gt;Pos + touching_node-&gt;Size, IM_COL32(255, 128, 0, 255));</span></div>
<div class="line"><a id="l19446" name="l19446"></a><span class="lineno">19446</span>                            <span class="keywordflow">while</span> (touching_node-&gt;ParentNode != node)</div>
<div class="line"><a id="l19447" name="l19447"></a><span class="lineno">19447</span>                            {</div>
<div class="line"><a id="l19448" name="l19448"></a><span class="lineno">19448</span>                                <span class="keywordflow">if</span> (touching_node-&gt;ParentNode-&gt;SplitAxis == axis)</div>
<div class="line"><a id="l19449" name="l19449"></a><span class="lineno">19449</span>                                {</div>
<div class="line"><a id="l19450" name="l19450"></a><span class="lineno">19450</span>                                    <span class="comment">// Mark other node so its size will be preserved during the upcoming call to DockNodeTreeUpdatePosSize().</span></div>
<div class="line"><a id="l19451" name="l19451"></a><span class="lineno">19451</span>                                    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node_to_preserve = touching_node-&gt;ParentNode-&gt;ChildNodes[side_n];</div>
<div class="line"><a id="l19452" name="l19452"></a><span class="lineno">19452</span>                                    node_to_preserve-&gt;WantLockSizeOnce = <span class="keyword">true</span>;</div>
<div class="line"><a id="l19453" name="l19453"></a><span class="lineno">19453</span>                                    <span class="comment">//draw_list-&gt;AddRect(touching_node-&gt;Pos, touching_node-&gt;Rect().Max, IM_COL32(255, 0, 0, 255));</span></div>
<div class="line"><a id="l19454" name="l19454"></a><span class="lineno">19454</span>                                    <span class="comment">//draw_list-&gt;AddRectFilled(node_to_preserve-&gt;Pos, node_to_preserve-&gt;Rect().Max, IM_COL32(0, 255, 0, 100));</span></div>
<div class="line"><a id="l19455" name="l19455"></a><span class="lineno">19455</span>                                }</div>
<div class="line"><a id="l19456" name="l19456"></a><span class="lineno">19456</span>                                touching_node = touching_node-&gt;ParentNode;</div>
<div class="line"><a id="l19457" name="l19457"></a><span class="lineno">19457</span>                            }</div>
<div class="line"><a id="l19458" name="l19458"></a><span class="lineno">19458</span>                        }</div>
<div class="line"><a id="l19459" name="l19459"></a><span class="lineno">19459</span> </div>
<div class="line"><a id="l19460" name="l19460"></a><span class="lineno">19460</span>                    DockNodeTreeUpdatePosSize(child_0, child_0-&gt;Pos, child_0-&gt;Size);</div>
<div class="line"><a id="l19461" name="l19461"></a><span class="lineno">19461</span>                    DockNodeTreeUpdatePosSize(child_1, child_1-&gt;Pos, child_1-&gt;Size);</div>
<div class="line"><a id="l19462" name="l19462"></a><span class="lineno">19462</span>                    MarkIniSettingsDirty();</div>
<div class="line"><a id="l19463" name="l19463"></a><span class="lineno">19463</span>                }</div>
<div class="line"><a id="l19464" name="l19464"></a><span class="lineno">19464</span>            }</div>
<div class="line"><a id="l19465" name="l19465"></a><span class="lineno">19465</span>            PopID();</div>
<div class="line"><a id="l19466" name="l19466"></a><span class="lineno">19466</span>        }</div>
<div class="line"><a id="l19467" name="l19467"></a><span class="lineno">19467</span>    }</div>
<div class="line"><a id="l19468" name="l19468"></a><span class="lineno">19468</span> </div>
<div class="line"><a id="l19469" name="l19469"></a><span class="lineno">19469</span>    <span class="keywordflow">if</span> (child_0-&gt;IsVisible)</div>
<div class="line"><a id="l19470" name="l19470"></a><span class="lineno">19470</span>        DockNodeTreeUpdateSplitter(child_0);</div>
<div class="line"><a id="l19471" name="l19471"></a><span class="lineno">19471</span>    <span class="keywordflow">if</span> (child_1-&gt;IsVisible)</div>
<div class="line"><a id="l19472" name="l19472"></a><span class="lineno">19472</span>        DockNodeTreeUpdateSplitter(child_1);</div>
<div class="line"><a id="l19473" name="l19473"></a><span class="lineno">19473</span>}</div>
<div class="line"><a id="l19474" name="l19474"></a><span class="lineno">19474</span> </div>
<div class="line"><a id="l19475" name="l19475"></a><span class="lineno">19475</span><a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* ImGui::DockNodeTreeFindFallbackLeafNode(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node)</div>
<div class="line"><a id="l19476" name="l19476"></a><span class="lineno">19476</span>{</div>
<div class="line"><a id="l19477" name="l19477"></a><span class="lineno">19477</span>    <span class="keywordflow">if</span> (node-&gt;IsLeafNode())</div>
<div class="line"><a id="l19478" name="l19478"></a><span class="lineno">19478</span>        <span class="keywordflow">return</span> node;</div>
<div class="line"><a id="l19479" name="l19479"></a><span class="lineno">19479</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* leaf_node = DockNodeTreeFindFallbackLeafNode(node-&gt;ChildNodes[0]))</div>
<div class="line"><a id="l19480" name="l19480"></a><span class="lineno">19480</span>        <span class="keywordflow">return</span> leaf_node;</div>
<div class="line"><a id="l19481" name="l19481"></a><span class="lineno">19481</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* leaf_node = DockNodeTreeFindFallbackLeafNode(node-&gt;ChildNodes[1]))</div>
<div class="line"><a id="l19482" name="l19482"></a><span class="lineno">19482</span>        <span class="keywordflow">return</span> leaf_node;</div>
<div class="line"><a id="l19483" name="l19483"></a><span class="lineno">19483</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l19484" name="l19484"></a><span class="lineno">19484</span>}</div>
<div class="line"><a id="l19485" name="l19485"></a><span class="lineno">19485</span> </div>
<div class="line"><a id="l19486" name="l19486"></a><span class="lineno">19486</span><a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* ImGui::DockNodeTreeFindVisibleNodeByPos(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node, <a class="code hl_struct" href="structImVec2.html">ImVec2</a> pos)</div>
<div class="line"><a id="l19487" name="l19487"></a><span class="lineno">19487</span>{</div>
<div class="line"><a id="l19488" name="l19488"></a><span class="lineno">19488</span>    <span class="keywordflow">if</span> (!node-&gt;IsVisible)</div>
<div class="line"><a id="l19489" name="l19489"></a><span class="lineno">19489</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l19490" name="l19490"></a><span class="lineno">19490</span> </div>
<div class="line"><a id="l19491" name="l19491"></a><span class="lineno">19491</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> dock_spacing = 0.0f;<span class="comment">// g.Style.ItemInnerSpacing.x; // FIXME: Relation to DOCKING_SPLITTER_SIZE?</span></div>
<div class="line"><a id="l19492" name="l19492"></a><span class="lineno">19492</span>    <a class="code hl_struct" href="structImRect.html">ImRect</a> r(node-&gt;Pos, node-&gt;Pos + node-&gt;Size);</div>
<div class="line"><a id="l19493" name="l19493"></a><span class="lineno">19493</span>    r.Expand(dock_spacing * 0.5f);</div>
<div class="line"><a id="l19494" name="l19494"></a><span class="lineno">19494</span>    <span class="keywordtype">bool</span> inside = r.Contains(pos);</div>
<div class="line"><a id="l19495" name="l19495"></a><span class="lineno">19495</span>    <span class="keywordflow">if</span> (!inside)</div>
<div class="line"><a id="l19496" name="l19496"></a><span class="lineno">19496</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l19497" name="l19497"></a><span class="lineno">19497</span> </div>
<div class="line"><a id="l19498" name="l19498"></a><span class="lineno">19498</span>    <span class="keywordflow">if</span> (node-&gt;IsLeafNode())</div>
<div class="line"><a id="l19499" name="l19499"></a><span class="lineno">19499</span>        <span class="keywordflow">return</span> node;</div>
<div class="line"><a id="l19500" name="l19500"></a><span class="lineno">19500</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* hovered_node = DockNodeTreeFindVisibleNodeByPos(node-&gt;ChildNodes[0], pos))</div>
<div class="line"><a id="l19501" name="l19501"></a><span class="lineno">19501</span>        <span class="keywordflow">return</span> hovered_node;</div>
<div class="line"><a id="l19502" name="l19502"></a><span class="lineno">19502</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* hovered_node = DockNodeTreeFindVisibleNodeByPos(node-&gt;ChildNodes[1], pos))</div>
<div class="line"><a id="l19503" name="l19503"></a><span class="lineno">19503</span>        <span class="keywordflow">return</span> hovered_node;</div>
<div class="line"><a id="l19504" name="l19504"></a><span class="lineno">19504</span> </div>
<div class="line"><a id="l19505" name="l19505"></a><span class="lineno">19505</span>    <span class="comment">// This means we are hovering over the splitter/spacing of a parent node</span></div>
<div class="line"><a id="l19506" name="l19506"></a><span class="lineno">19506</span>    <span class="keywordflow">return</span> node;</div>
<div class="line"><a id="l19507" name="l19507"></a><span class="lineno">19507</span>}</div>
<div class="line"><a id="l19508" name="l19508"></a><span class="lineno">19508</span> </div>
<div class="line"><a id="l19509" name="l19509"></a><span class="lineno">19509</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l19510" name="l19510"></a><span class="lineno">19510</span><span class="comment">// Docking: Public Functions (SetWindowDock, DockSpace, DockSpaceOverViewport)</span></div>
<div class="line"><a id="l19511" name="l19511"></a><span class="lineno">19511</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l19512" name="l19512"></a><span class="lineno">19512</span><span class="comment">// - SetWindowDock() [Internal]</span></div>
<div class="line"><a id="l19513" name="l19513"></a><span class="lineno">19513</span><span class="comment">// - DockSpace()</span></div>
<div class="line"><a id="l19514" name="l19514"></a><span class="lineno">19514</span><span class="comment">// - DockSpaceOverViewport()</span></div>
<div class="line"><a id="l19515" name="l19515"></a><span class="lineno">19515</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l19516" name="l19516"></a><span class="lineno">19516</span> </div>
<div class="line"><a id="l19517" name="l19517"></a><span class="lineno">19517</span><span class="comment">// [Internal] Called via SetNextWindowDockID()</span></div>
<div class="line"><a id="l19518" name="l19518"></a><span class="lineno">19518</span><span class="keywordtype">void</span> ImGui::SetWindowDock(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, ImGuiID dock_id, ImGuiCond cond)</div>
<div class="line"><a id="l19519" name="l19519"></a><span class="lineno">19519</span>{</div>
<div class="line"><a id="l19520" name="l19520"></a><span class="lineno">19520</span>    <span class="comment">// Test condition (NB: bit 0 is always true) and clear flags for next time</span></div>
<div class="line"><a id="l19521" name="l19521"></a><span class="lineno">19521</span>    <span class="keywordflow">if</span> (cond &amp;&amp; (window-&gt;SetWindowDockAllowFlags &amp; cond) == 0)</div>
<div class="line"><a id="l19522" name="l19522"></a><span class="lineno">19522</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l19523" name="l19523"></a><span class="lineno">19523</span>    window-&gt;SetWindowDockAllowFlags &amp;= ~(ImGuiCond_Once | ImGuiCond_FirstUseEver | ImGuiCond_Appearing);</div>
<div class="line"><a id="l19524" name="l19524"></a><span class="lineno">19524</span> </div>
<div class="line"><a id="l19525" name="l19525"></a><span class="lineno">19525</span>    <span class="keywordflow">if</span> (window-&gt;DockId == dock_id)</div>
<div class="line"><a id="l19526" name="l19526"></a><span class="lineno">19526</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l19527" name="l19527"></a><span class="lineno">19527</span> </div>
<div class="line"><a id="l19528" name="l19528"></a><span class="lineno">19528</span>    <span class="comment">// If the user attempt to set a dock id that is a split node, we&#39;ll dig within to find a suitable docking spot</span></div>
<div class="line"><a id="l19529" name="l19529"></a><span class="lineno">19529</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l19530" name="l19530"></a><span class="lineno">19530</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* new_node = DockContextFindNodeByID(&amp;g, dock_id))</div>
<div class="line"><a id="l19531" name="l19531"></a><span class="lineno">19531</span>        <span class="keywordflow">if</span> (new_node-&gt;IsSplitNode())</div>
<div class="line"><a id="l19532" name="l19532"></a><span class="lineno">19532</span>        {</div>
<div class="line"><a id="l19533" name="l19533"></a><span class="lineno">19533</span>            <span class="comment">// Policy: Find central node or latest focused node. We first move back to our root node.</span></div>
<div class="line"><a id="l19534" name="l19534"></a><span class="lineno">19534</span>            new_node = DockNodeGetRootNode(new_node);</div>
<div class="line"><a id="l19535" name="l19535"></a><span class="lineno">19535</span>            <span class="keywordflow">if</span> (new_node-&gt;CentralNode)</div>
<div class="line"><a id="l19536" name="l19536"></a><span class="lineno">19536</span>            {</div>
<div class="line"><a id="l19537" name="l19537"></a><span class="lineno">19537</span>                IM_ASSERT(new_node-&gt;CentralNode-&gt;IsCentralNode());</div>
<div class="line"><a id="l19538" name="l19538"></a><span class="lineno">19538</span>                dock_id = new_node-&gt;CentralNode-&gt;ID;</div>
<div class="line"><a id="l19539" name="l19539"></a><span class="lineno">19539</span>            }</div>
<div class="line"><a id="l19540" name="l19540"></a><span class="lineno">19540</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l19541" name="l19541"></a><span class="lineno">19541</span>            {</div>
<div class="line"><a id="l19542" name="l19542"></a><span class="lineno">19542</span>                dock_id = new_node-&gt;LastFocusedNodeId;</div>
<div class="line"><a id="l19543" name="l19543"></a><span class="lineno">19543</span>            }</div>
<div class="line"><a id="l19544" name="l19544"></a><span class="lineno">19544</span>        }</div>
<div class="line"><a id="l19545" name="l19545"></a><span class="lineno">19545</span> </div>
<div class="line"><a id="l19546" name="l19546"></a><span class="lineno">19546</span>    <span class="keywordflow">if</span> (window-&gt;DockId == dock_id)</div>
<div class="line"><a id="l19547" name="l19547"></a><span class="lineno">19547</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l19548" name="l19548"></a><span class="lineno">19548</span> </div>
<div class="line"><a id="l19549" name="l19549"></a><span class="lineno">19549</span>    <span class="keywordflow">if</span> (window-&gt;DockNode)</div>
<div class="line"><a id="l19550" name="l19550"></a><span class="lineno">19550</span>        DockNodeRemoveWindow(window-&gt;DockNode, window, 0);</div>
<div class="line"><a id="l19551" name="l19551"></a><span class="lineno">19551</span>    window-&gt;DockId = dock_id;</div>
<div class="line"><a id="l19552" name="l19552"></a><span class="lineno">19552</span>}</div>
<div class="line"><a id="l19553" name="l19553"></a><span class="lineno">19553</span> </div>
<div class="line"><a id="l19554" name="l19554"></a><span class="lineno">19554</span><span class="comment">// Create an explicit dockspace node within an existing window. Also expose dock node flags and creates a CentralNode by default.</span></div>
<div class="line"><a id="l19555" name="l19555"></a><span class="lineno">19555</span><span class="comment">// The Central Node is always displayed even when empty and shrink/extend according to the requested size of its neighbors.</span></div>
<div class="line"><a id="l19556" name="l19556"></a><span class="lineno">19556</span><span class="comment">// DockSpace() needs to be submitted _before_ any window they can host. If you use a dockspace, submit it early in your app.</span></div>
<div class="line"><a id="l19557" name="l19557"></a><span class="lineno">19557</span><span class="comment">// When ImGuiDockNodeFlags_KeepAliveOnly is set, nothing is submitted in the current window (function may be called from any location).</span></div>
<div class="line"><a id="l19558" name="l19558"></a><span class="lineno">19558</span>ImGuiID ImGui::DockSpace(ImGuiID dockspace_id, <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; size_arg, ImGuiDockNodeFlags flags, <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiWindowClass.html">ImGuiWindowClass</a>* window_class)</div>
<div class="line"><a id="l19559" name="l19559"></a><span class="lineno">19559</span>{</div>
<div class="line"><a id="l19560" name="l19560"></a><span class="lineno">19560</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l19561" name="l19561"></a><span class="lineno">19561</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GetCurrentWindowRead();</div>
<div class="line"><a id="l19562" name="l19562"></a><span class="lineno">19562</span>    <span class="keywordflow">if</span> (!(g.IO.ConfigFlags &amp; ImGuiConfigFlags_DockingEnable))</div>
<div class="line"><a id="l19563" name="l19563"></a><span class="lineno">19563</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l19564" name="l19564"></a><span class="lineno">19564</span> </div>
<div class="line"><a id="l19565" name="l19565"></a><span class="lineno">19565</span>    <span class="comment">// Early out if parent window is hidden/collapsed</span></div>
<div class="line"><a id="l19566" name="l19566"></a><span class="lineno">19566</span>    <span class="comment">// This is faster but also DockNodeUpdateTabBar() relies on TabBarLayout() running (which won&#39;t if SkipItems=true) to set NextSelectedTabId = 0). See #2960.</span></div>
<div class="line"><a id="l19567" name="l19567"></a><span class="lineno">19567</span>    <span class="comment">// If for whichever reason this is causing problem we would need to ensure that DockNodeUpdateTabBar() ends up clearing NextSelectedTabId even if SkipItems=true.</span></div>
<div class="line"><a id="l19568" name="l19568"></a><span class="lineno">19568</span>    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a id="l19569" name="l19569"></a><span class="lineno">19569</span>        flags |= ImGuiDockNodeFlags_KeepAliveOnly;</div>
<div class="line"><a id="l19570" name="l19570"></a><span class="lineno">19570</span>    <span class="keywordflow">if</span> ((flags &amp; ImGuiDockNodeFlags_KeepAliveOnly) == 0)</div>
<div class="line"><a id="l19571" name="l19571"></a><span class="lineno">19571</span>        window = GetCurrentWindow(); <span class="comment">// call to set window-&gt;WriteAccessed = true;</span></div>
<div class="line"><a id="l19572" name="l19572"></a><span class="lineno">19572</span> </div>
<div class="line"><a id="l19573" name="l19573"></a><span class="lineno">19573</span>    IM_ASSERT((flags &amp; ImGuiDockNodeFlags_DockSpace) == 0); <span class="comment">// Flag is automatically set by DockSpace() as LocalFlags, not SharedFlags!</span></div>
<div class="line"><a id="l19574" name="l19574"></a><span class="lineno">19574</span>    IM_ASSERT((flags &amp; ImGuiDockNodeFlags_CentralNode) == 0); <span class="comment">// Flag is automatically set by DockSpace() as LocalFlags, not SharedFlags! (#8145)</span></div>
<div class="line"><a id="l19575" name="l19575"></a><span class="lineno">19575</span> </div>
<div class="line"><a id="l19576" name="l19576"></a><span class="lineno">19576</span>    IM_ASSERT(dockspace_id != 0);</div>
<div class="line"><a id="l19577" name="l19577"></a><span class="lineno">19577</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node = DockContextFindNodeByID(&amp;g, dockspace_id);</div>
<div class="line"><a id="l19578" name="l19578"></a><span class="lineno">19578</span>    <span class="keywordflow">if</span> (node == NULL)</div>
<div class="line"><a id="l19579" name="l19579"></a><span class="lineno">19579</span>    {</div>
<div class="line"><a id="l19580" name="l19580"></a><span class="lineno">19580</span>        IMGUI_DEBUG_LOG_DOCKING(<span class="stringliteral">&quot;[docking] DockSpace: dockspace node 0x%08X created\n&quot;</span>, dockspace_id);</div>
<div class="line"><a id="l19581" name="l19581"></a><span class="lineno">19581</span>        node = DockContextAddNode(&amp;g, dockspace_id);</div>
<div class="line"><a id="l19582" name="l19582"></a><span class="lineno">19582</span>        node-&gt;SetLocalFlags(ImGuiDockNodeFlags_CentralNode);</div>
<div class="line"><a id="l19583" name="l19583"></a><span class="lineno">19583</span>    }</div>
<div class="line"><a id="l19584" name="l19584"></a><span class="lineno">19584</span>    <span class="keywordflow">if</span> (window_class &amp;&amp; window_class-&gt;ClassId != node-&gt;WindowClass.ClassId)</div>
<div class="line"><a id="l19585" name="l19585"></a><span class="lineno">19585</span>        IMGUI_DEBUG_LOG_DOCKING(<span class="stringliteral">&quot;[docking] DockSpace: dockspace node 0x%08X: setup WindowClass 0x%08X -&gt; 0x%08X\n&quot;</span>, dockspace_id, node-&gt;WindowClass.ClassId, window_class-&gt;ClassId);</div>
<div class="line"><a id="l19586" name="l19586"></a><span class="lineno">19586</span>    node-&gt;SharedFlags = flags;</div>
<div class="line"><a id="l19587" name="l19587"></a><span class="lineno">19587</span>    node-&gt;WindowClass = window_class ? *window_class : <a class="code hl_struct" href="structImGuiWindowClass.html">ImGuiWindowClass</a>();</div>
<div class="line"><a id="l19588" name="l19588"></a><span class="lineno">19588</span> </div>
<div class="line"><a id="l19589" name="l19589"></a><span class="lineno">19589</span>    <span class="comment">// When a DockSpace transitioned form implicit to explicit this may be called a second time</span></div>
<div class="line"><a id="l19590" name="l19590"></a><span class="lineno">19590</span>    <span class="comment">// It is possible that the node has already been claimed by a docked window which appeared before the DockSpace() node, so we overwrite IsDockSpace again.</span></div>
<div class="line"><a id="l19591" name="l19591"></a><span class="lineno">19591</span>    <span class="keywordflow">if</span> (node-&gt;LastFrameActive == g.FrameCount &amp;&amp; !(flags &amp; ImGuiDockNodeFlags_KeepAliveOnly))</div>
<div class="line"><a id="l19592" name="l19592"></a><span class="lineno">19592</span>    {</div>
<div class="line"><a id="l19593" name="l19593"></a><span class="lineno">19593</span>        IM_ASSERT(node-&gt;IsDockSpace() == <span class="keyword">false</span> &amp;&amp; <span class="stringliteral">&quot;Cannot call DockSpace() twice a frame with the same ID&quot;</span>);</div>
<div class="line"><a id="l19594" name="l19594"></a><span class="lineno">19594</span>        node-&gt;SetLocalFlags(node-&gt;LocalFlags | ImGuiDockNodeFlags_DockSpace);</div>
<div class="line"><a id="l19595" name="l19595"></a><span class="lineno">19595</span>        <span class="keywordflow">return</span> dockspace_id;</div>
<div class="line"><a id="l19596" name="l19596"></a><span class="lineno">19596</span>    }</div>
<div class="line"><a id="l19597" name="l19597"></a><span class="lineno">19597</span>    node-&gt;SetLocalFlags(node-&gt;LocalFlags | ImGuiDockNodeFlags_DockSpace);</div>
<div class="line"><a id="l19598" name="l19598"></a><span class="lineno">19598</span> </div>
<div class="line"><a id="l19599" name="l19599"></a><span class="lineno">19599</span>    <span class="comment">// Keep alive mode, this is allow windows docked into this node so stay docked even if they are not visible</span></div>
<div class="line"><a id="l19600" name="l19600"></a><span class="lineno">19600</span>    <span class="keywordflow">if</span> (flags &amp; ImGuiDockNodeFlags_KeepAliveOnly)</div>
<div class="line"><a id="l19601" name="l19601"></a><span class="lineno">19601</span>    {</div>
<div class="line"><a id="l19602" name="l19602"></a><span class="lineno">19602</span>        node-&gt;LastFrameAlive = g.FrameCount;</div>
<div class="line"><a id="l19603" name="l19603"></a><span class="lineno">19603</span>        <span class="keywordflow">return</span> dockspace_id;</div>
<div class="line"><a id="l19604" name="l19604"></a><span class="lineno">19604</span>    }</div>
<div class="line"><a id="l19605" name="l19605"></a><span class="lineno">19605</span> </div>
<div class="line"><a id="l19606" name="l19606"></a><span class="lineno">19606</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> content_avail = GetContentRegionAvail();</div>
<div class="line"><a id="l19607" name="l19607"></a><span class="lineno">19607</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> size = ImTrunc(size_arg);</div>
<div class="line"><a id="l19608" name="l19608"></a><span class="lineno">19608</span>    <span class="keywordflow">if</span> (size.x &lt;= 0.0f)</div>
<div class="line"><a id="l19609" name="l19609"></a><span class="lineno">19609</span>        size.x = ImMax(content_avail.x + size.x, 4.0f); <span class="comment">// Arbitrary minimum child size (0.0f causing too much issues)</span></div>
<div class="line"><a id="l19610" name="l19610"></a><span class="lineno">19610</span>    <span class="keywordflow">if</span> (size.y &lt;= 0.0f)</div>
<div class="line"><a id="l19611" name="l19611"></a><span class="lineno">19611</span>        size.y = ImMax(content_avail.y + size.y, 4.0f);</div>
<div class="line"><a id="l19612" name="l19612"></a><span class="lineno">19612</span>    IM_ASSERT(size.x &gt; 0.0f &amp;&amp; size.y &gt; 0.0f);</div>
<div class="line"><a id="l19613" name="l19613"></a><span class="lineno">19613</span> </div>
<div class="line"><a id="l19614" name="l19614"></a><span class="lineno">19614</span>    node-&gt;Pos = window-&gt;DC.CursorPos;</div>
<div class="line"><a id="l19615" name="l19615"></a><span class="lineno">19615</span>    node-&gt;Size = node-&gt;SizeRef = size;</div>
<div class="line"><a id="l19616" name="l19616"></a><span class="lineno">19616</span>    SetNextWindowPos(node-&gt;Pos);</div>
<div class="line"><a id="l19617" name="l19617"></a><span class="lineno">19617</span>    SetNextWindowSize(node-&gt;Size);</div>
<div class="line"><a id="l19618" name="l19618"></a><span class="lineno">19618</span>    g.NextWindowData.PosUndock = <span class="keyword">false</span>;</div>
<div class="line"><a id="l19619" name="l19619"></a><span class="lineno">19619</span> </div>
<div class="line"><a id="l19620" name="l19620"></a><span class="lineno">19620</span>    <span class="comment">// FIXME-DOCK: Why do we need a child window to host a dockspace, could we host it in the existing window?</span></div>
<div class="line"><a id="l19621" name="l19621"></a><span class="lineno">19621</span>    <span class="comment">// FIXME-DOCK: What is the reason for not simply calling BeginChild()? (OK to have a reason but should be commented)</span></div>
<div class="line"><a id="l19622" name="l19622"></a><span class="lineno">19622</span>    ImGuiWindowFlags window_flags = ImGuiWindowFlags_ChildWindow | ImGuiWindowFlags_DockNodeHost;</div>
<div class="line"><a id="l19623" name="l19623"></a><span class="lineno">19623</span>    window_flags |= ImGuiWindowFlags_NoSavedSettings | ImGuiWindowFlags_NoResize | ImGuiWindowFlags_NoCollapse | ImGuiWindowFlags_NoTitleBar;</div>
<div class="line"><a id="l19624" name="l19624"></a><span class="lineno">19624</span>    window_flags |= ImGuiWindowFlags_NoScrollbar | ImGuiWindowFlags_NoScrollWithMouse;</div>
<div class="line"><a id="l19625" name="l19625"></a><span class="lineno">19625</span>    window_flags |= ImGuiWindowFlags_NoBackground;</div>
<div class="line"><a id="l19626" name="l19626"></a><span class="lineno">19626</span> </div>
<div class="line"><a id="l19627" name="l19627"></a><span class="lineno">19627</span>    <span class="keywordtype">char</span> title[256];</div>
<div class="line"><a id="l19628" name="l19628"></a><span class="lineno">19628</span>    ImFormatString(title, IM_ARRAYSIZE(title), <span class="stringliteral">&quot;%s/DockSpace_%08X&quot;</span>, window-&gt;Name, dockspace_id);</div>
<div class="line"><a id="l19629" name="l19629"></a><span class="lineno">19629</span> </div>
<div class="line"><a id="l19630" name="l19630"></a><span class="lineno">19630</span>    PushStyleVar(ImGuiStyleVar_ChildBorderSize, 0.0f);</div>
<div class="line"><a id="l19631" name="l19631"></a><span class="lineno">19631</span>    Begin(title, NULL, window_flags);</div>
<div class="line"><a id="l19632" name="l19632"></a><span class="lineno">19632</span>    PopStyleVar();</div>
<div class="line"><a id="l19633" name="l19633"></a><span class="lineno">19633</span> </div>
<div class="line"><a id="l19634" name="l19634"></a><span class="lineno">19634</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* host_window = g.CurrentWindow;</div>
<div class="line"><a id="l19635" name="l19635"></a><span class="lineno">19635</span>    DockNodeSetupHostWindow(node, host_window);</div>
<div class="line"><a id="l19636" name="l19636"></a><span class="lineno">19636</span>    host_window-&gt;ChildId = window-&gt;GetID(title);</div>
<div class="line"><a id="l19637" name="l19637"></a><span class="lineno">19637</span>    node-&gt;OnlyNodeWithWindows = NULL;</div>
<div class="line"><a id="l19638" name="l19638"></a><span class="lineno">19638</span> </div>
<div class="line"><a id="l19639" name="l19639"></a><span class="lineno">19639</span>    IM_ASSERT(node-&gt;IsRootNode());</div>
<div class="line"><a id="l19640" name="l19640"></a><span class="lineno">19640</span> </div>
<div class="line"><a id="l19641" name="l19641"></a><span class="lineno">19641</span>    <span class="comment">// We need to handle the rare case were a central node is missing.</span></div>
<div class="line"><a id="l19642" name="l19642"></a><span class="lineno">19642</span>    <span class="comment">// This can happen if the node was first created manually with DockBuilderAddNode() but _without_ the ImGuiDockNodeFlags_Dockspace.</span></div>
<div class="line"><a id="l19643" name="l19643"></a><span class="lineno">19643</span>    <span class="comment">// Doing it correctly would set the _CentralNode flags, which would then propagate according to subsequent split.</span></div>
<div class="line"><a id="l19644" name="l19644"></a><span class="lineno">19644</span>    <span class="comment">// It would also be ambiguous to attempt to assign a central node while there are split nodes, so we wait until there&#39;s a single node remaining.</span></div>
<div class="line"><a id="l19645" name="l19645"></a><span class="lineno">19645</span>    <span class="comment">// The specific sub-property of _CentralNode we are interested in recovering here is the &quot;Don&#39;t delete when empty&quot; property,</span></div>
<div class="line"><a id="l19646" name="l19646"></a><span class="lineno">19646</span>    <span class="comment">// as it doesn&#39;t make sense for an empty dockspace to not have this property.</span></div>
<div class="line"><a id="l19647" name="l19647"></a><span class="lineno">19647</span>    <span class="keywordflow">if</span> (node-&gt;IsLeafNode() &amp;&amp; !node-&gt;IsCentralNode())</div>
<div class="line"><a id="l19648" name="l19648"></a><span class="lineno">19648</span>        node-&gt;SetLocalFlags(node-&gt;LocalFlags | ImGuiDockNodeFlags_CentralNode);</div>
<div class="line"><a id="l19649" name="l19649"></a><span class="lineno">19649</span> </div>
<div class="line"><a id="l19650" name="l19650"></a><span class="lineno">19650</span>    <span class="comment">// Update the node</span></div>
<div class="line"><a id="l19651" name="l19651"></a><span class="lineno">19651</span>    DockNodeUpdate(node);</div>
<div class="line"><a id="l19652" name="l19652"></a><span class="lineno">19652</span> </div>
<div class="line"><a id="l19653" name="l19653"></a><span class="lineno">19653</span>    End();</div>
<div class="line"><a id="l19654" name="l19654"></a><span class="lineno">19654</span> </div>
<div class="line"><a id="l19655" name="l19655"></a><span class="lineno">19655</span>    <a class="code hl_struct" href="structImRect.html">ImRect</a> bb(node-&gt;Pos, node-&gt;Pos + size);</div>
<div class="line"><a id="l19656" name="l19656"></a><span class="lineno">19656</span>    ItemSize(size);</div>
<div class="line"><a id="l19657" name="l19657"></a><span class="lineno">19657</span>    ItemAdd(bb, dockspace_id, NULL, ImGuiItemFlags_NoNav); <span class="comment">// Not a nav point (could be, would need to draw the nav rect and replicate/refactor activation from BeginChild(), but seems like CTRL+Tab works better here?)</span></div>
<div class="line"><a id="l19658" name="l19658"></a><span class="lineno">19658</span>    <span class="keywordflow">if</span> ((g.LastItemData.StatusFlags &amp; ImGuiItemStatusFlags_HoveredRect) &amp;&amp; IsWindowChildOf(g.HoveredWindow, host_window, <span class="keyword">false</span>, <span class="keyword">true</span>)) <span class="comment">// To fullfill IsItemHovered(), similar to EndChild()</span></div>
<div class="line"><a id="l19659" name="l19659"></a><span class="lineno">19659</span>        g.LastItemData.StatusFlags |= ImGuiItemStatusFlags_HoveredWindow;</div>
<div class="line"><a id="l19660" name="l19660"></a><span class="lineno">19660</span> </div>
<div class="line"><a id="l19661" name="l19661"></a><span class="lineno">19661</span>    <span class="keywordflow">return</span> dockspace_id;</div>
<div class="line"><a id="l19662" name="l19662"></a><span class="lineno">19662</span>}</div>
<div class="line"><a id="l19663" name="l19663"></a><span class="lineno">19663</span> </div>
<div class="line"><a id="l19664" name="l19664"></a><span class="lineno">19664</span><span class="comment">// Tips: Use with ImGuiDockNodeFlags_PassthruCentralNode!</span></div>
<div class="line"><a id="l19665" name="l19665"></a><span class="lineno">19665</span><span class="comment">// The limitation with this call is that your window won&#39;t have a local menu bar, but you can also use BeginMainMenuBar().</span></div>
<div class="line"><a id="l19666" name="l19666"></a><span class="lineno">19666</span><span class="comment">// Even though we could pass window flags, it would also require the user to be able to call BeginMenuBar() somehow meaning we can&#39;t Begin/End in a single function.</span></div>
<div class="line"><a id="l19667" name="l19667"></a><span class="lineno">19667</span><span class="comment">// If you really want a menu bar inside the same window as the one hosting the dockspace, you will need to copy this code somewhere and tweak it.</span></div>
<div class="line"><a id="l19668" name="l19668"></a><span class="lineno">19668</span>ImGuiID ImGui::DockSpaceOverViewport(ImGuiID dockspace_id, <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiViewport.html">ImGuiViewport</a>* viewport, ImGuiDockNodeFlags dockspace_flags, <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiWindowClass.html">ImGuiWindowClass</a>* window_class)</div>
<div class="line"><a id="l19669" name="l19669"></a><span class="lineno">19669</span>{</div>
<div class="line"><a id="l19670" name="l19670"></a><span class="lineno">19670</span>    <span class="keywordflow">if</span> (viewport == NULL)</div>
<div class="line"><a id="l19671" name="l19671"></a><span class="lineno">19671</span>        viewport = GetMainViewport();</div>
<div class="line"><a id="l19672" name="l19672"></a><span class="lineno">19672</span> </div>
<div class="line"><a id="l19673" name="l19673"></a><span class="lineno">19673</span>    <span class="comment">// Submit a window filling the entire viewport</span></div>
<div class="line"><a id="l19674" name="l19674"></a><span class="lineno">19674</span>    SetNextWindowPos(viewport-&gt;WorkPos);</div>
<div class="line"><a id="l19675" name="l19675"></a><span class="lineno">19675</span>    SetNextWindowSize(viewport-&gt;WorkSize);</div>
<div class="line"><a id="l19676" name="l19676"></a><span class="lineno">19676</span>    SetNextWindowViewport(viewport-&gt;ID);</div>
<div class="line"><a id="l19677" name="l19677"></a><span class="lineno">19677</span> </div>
<div class="line"><a id="l19678" name="l19678"></a><span class="lineno">19678</span>    ImGuiWindowFlags host_window_flags = 0;</div>
<div class="line"><a id="l19679" name="l19679"></a><span class="lineno">19679</span>    host_window_flags |= ImGuiWindowFlags_NoTitleBar | ImGuiWindowFlags_NoCollapse | ImGuiWindowFlags_NoResize | ImGuiWindowFlags_NoMove | ImGuiWindowFlags_NoDocking;</div>
<div class="line"><a id="l19680" name="l19680"></a><span class="lineno">19680</span>    host_window_flags |= ImGuiWindowFlags_NoBringToFrontOnFocus | ImGuiWindowFlags_NoNavFocus;</div>
<div class="line"><a id="l19681" name="l19681"></a><span class="lineno">19681</span>    <span class="keywordflow">if</span> (dockspace_flags &amp; ImGuiDockNodeFlags_PassthruCentralNode)</div>
<div class="line"><a id="l19682" name="l19682"></a><span class="lineno">19682</span>        host_window_flags |= ImGuiWindowFlags_NoBackground;</div>
<div class="line"><a id="l19683" name="l19683"></a><span class="lineno">19683</span> </div>
<div class="line"><a id="l19684" name="l19684"></a><span class="lineno">19684</span>    <span class="comment">// FIXME-OPT: When using ImGuiDockNodeFlags_KeepAliveOnly with DockSpaceOverViewport() we might be able to spare submitting the window,</span></div>
<div class="line"><a id="l19685" name="l19685"></a><span class="lineno">19685</span>    <span class="comment">// since DockSpace() with that flag doesn&#39;t need a window. We&#39;d only need to compute the default ID accordingly.</span></div>
<div class="line"><a id="l19686" name="l19686"></a><span class="lineno">19686</span>    <span class="keywordflow">if</span> (dockspace_flags &amp; ImGuiDockNodeFlags_KeepAliveOnly)</div>
<div class="line"><a id="l19687" name="l19687"></a><span class="lineno">19687</span>        host_window_flags |= ImGuiWindowFlags_NoMouseInputs;</div>
<div class="line"><a id="l19688" name="l19688"></a><span class="lineno">19688</span> </div>
<div class="line"><a id="l19689" name="l19689"></a><span class="lineno">19689</span>    <span class="keywordtype">char</span> label[32];</div>
<div class="line"><a id="l19690" name="l19690"></a><span class="lineno">19690</span>    ImFormatString(label, IM_ARRAYSIZE(label), <span class="stringliteral">&quot;WindowOverViewport_%08X&quot;</span>, viewport-&gt;ID);</div>
<div class="line"><a id="l19691" name="l19691"></a><span class="lineno">19691</span> </div>
<div class="line"><a id="l19692" name="l19692"></a><span class="lineno">19692</span>    PushStyleVar(ImGuiStyleVar_WindowRounding, 0.0f);</div>
<div class="line"><a id="l19693" name="l19693"></a><span class="lineno">19693</span>    PushStyleVar(ImGuiStyleVar_WindowBorderSize, 0.0f);</div>
<div class="line"><a id="l19694" name="l19694"></a><span class="lineno">19694</span>    PushStyleVar(ImGuiStyleVar_WindowPadding, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, 0.0f));</div>
<div class="line"><a id="l19695" name="l19695"></a><span class="lineno">19695</span>    Begin(label, NULL, host_window_flags);</div>
<div class="line"><a id="l19696" name="l19696"></a><span class="lineno">19696</span>    PopStyleVar(3);</div>
<div class="line"><a id="l19697" name="l19697"></a><span class="lineno">19697</span> </div>
<div class="line"><a id="l19698" name="l19698"></a><span class="lineno">19698</span>    <span class="comment">// Submit the dockspace</span></div>
<div class="line"><a id="l19699" name="l19699"></a><span class="lineno">19699</span>    <span class="keywordflow">if</span> (dockspace_id == 0)</div>
<div class="line"><a id="l19700" name="l19700"></a><span class="lineno">19700</span>        dockspace_id = GetID(<span class="stringliteral">&quot;DockSpace&quot;</span>);</div>
<div class="line"><a id="l19701" name="l19701"></a><span class="lineno">19701</span>    DockSpace(dockspace_id, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, 0.0f), dockspace_flags, window_class);</div>
<div class="line"><a id="l19702" name="l19702"></a><span class="lineno">19702</span> </div>
<div class="line"><a id="l19703" name="l19703"></a><span class="lineno">19703</span>    End();</div>
<div class="line"><a id="l19704" name="l19704"></a><span class="lineno">19704</span> </div>
<div class="line"><a id="l19705" name="l19705"></a><span class="lineno">19705</span>    <span class="keywordflow">return</span> dockspace_id;</div>
<div class="line"><a id="l19706" name="l19706"></a><span class="lineno">19706</span>}</div>
<div class="line"><a id="l19707" name="l19707"></a><span class="lineno">19707</span> </div>
<div class="line"><a id="l19708" name="l19708"></a><span class="lineno">19708</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l19709" name="l19709"></a><span class="lineno">19709</span><span class="comment">// Docking: Builder Functions</span></div>
<div class="line"><a id="l19710" name="l19710"></a><span class="lineno">19710</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l19711" name="l19711"></a><span class="lineno">19711</span><span class="comment">// Very early end-user API to manipulate dock nodes.</span></div>
<div class="line"><a id="l19712" name="l19712"></a><span class="lineno">19712</span><span class="comment">// Only available in imgui_internal.h. Expect this API to change/break!</span></div>
<div class="line"><a id="l19713" name="l19713"></a><span class="lineno">19713</span><span class="comment">// It is expected that those functions are all called _before_ the dockspace node submission.</span></div>
<div class="line"><a id="l19714" name="l19714"></a><span class="lineno">19714</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l19715" name="l19715"></a><span class="lineno">19715</span><span class="comment">// - DockBuilderDockWindow()</span></div>
<div class="line"><a id="l19716" name="l19716"></a><span class="lineno">19716</span><span class="comment">// - DockBuilderGetNode()</span></div>
<div class="line"><a id="l19717" name="l19717"></a><span class="lineno">19717</span><span class="comment">// - DockBuilderSetNodePos()</span></div>
<div class="line"><a id="l19718" name="l19718"></a><span class="lineno">19718</span><span class="comment">// - DockBuilderSetNodeSize()</span></div>
<div class="line"><a id="l19719" name="l19719"></a><span class="lineno">19719</span><span class="comment">// - DockBuilderAddNode()</span></div>
<div class="line"><a id="l19720" name="l19720"></a><span class="lineno">19720</span><span class="comment">// - DockBuilderRemoveNode()</span></div>
<div class="line"><a id="l19721" name="l19721"></a><span class="lineno">19721</span><span class="comment">// - DockBuilderRemoveNodeChildNodes()</span></div>
<div class="line"><a id="l19722" name="l19722"></a><span class="lineno">19722</span><span class="comment">// - DockBuilderRemoveNodeDockedWindows()</span></div>
<div class="line"><a id="l19723" name="l19723"></a><span class="lineno">19723</span><span class="comment">// - DockBuilderSplitNode()</span></div>
<div class="line"><a id="l19724" name="l19724"></a><span class="lineno">19724</span><span class="comment">// - DockBuilderCopyNodeRec()</span></div>
<div class="line"><a id="l19725" name="l19725"></a><span class="lineno">19725</span><span class="comment">// - DockBuilderCopyNode()</span></div>
<div class="line"><a id="l19726" name="l19726"></a><span class="lineno">19726</span><span class="comment">// - DockBuilderCopyWindowSettings()</span></div>
<div class="line"><a id="l19727" name="l19727"></a><span class="lineno">19727</span><span class="comment">// - DockBuilderCopyDockSpace()</span></div>
<div class="line"><a id="l19728" name="l19728"></a><span class="lineno">19728</span><span class="comment">// - DockBuilderFinish()</span></div>
<div class="line"><a id="l19729" name="l19729"></a><span class="lineno">19729</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l19730" name="l19730"></a><span class="lineno">19730</span> </div>
<div class="line"><a id="l19731" name="l19731"></a><span class="lineno">19731</span><span class="keywordtype">void</span> ImGui::DockBuilderDockWindow(<span class="keyword">const</span> <span class="keywordtype">char</span>* window_name, ImGuiID node_id)</div>
<div class="line"><a id="l19732" name="l19732"></a><span class="lineno">19732</span>{</div>
<div class="line"><a id="l19733" name="l19733"></a><span class="lineno">19733</span>    <span class="comment">// We don&#39;t preserve relative order of multiple docked windows (by clearing DockOrder back to -1)</span></div>
<div class="line"><a id="l19734" name="l19734"></a><span class="lineno">19734</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui; IM_UNUSED(g);</div>
<div class="line"><a id="l19735" name="l19735"></a><span class="lineno">19735</span>    IMGUI_DEBUG_LOG_DOCKING(<span class="stringliteral">&quot;[docking] DockBuilderDockWindow &#39;%s&#39; to node 0x%08X\n&quot;</span>, window_name, node_id);</div>
<div class="line"><a id="l19736" name="l19736"></a><span class="lineno">19736</span>    ImGuiID window_id = ImHashStr(window_name);</div>
<div class="line"><a id="l19737" name="l19737"></a><span class="lineno">19737</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = FindWindowByID(window_id))</div>
<div class="line"><a id="l19738" name="l19738"></a><span class="lineno">19738</span>    {</div>
<div class="line"><a id="l19739" name="l19739"></a><span class="lineno">19739</span>        <span class="comment">// Apply to created window</span></div>
<div class="line"><a id="l19740" name="l19740"></a><span class="lineno">19740</span>        ImGuiID prev_node_id = window-&gt;DockId;</div>
<div class="line"><a id="l19741" name="l19741"></a><span class="lineno">19741</span>        SetWindowDock(window, node_id, ImGuiCond_Always);</div>
<div class="line"><a id="l19742" name="l19742"></a><span class="lineno">19742</span>        <span class="keywordflow">if</span> (window-&gt;DockId != prev_node_id)</div>
<div class="line"><a id="l19743" name="l19743"></a><span class="lineno">19743</span>            window-&gt;DockOrder = -1;</div>
<div class="line"><a id="l19744" name="l19744"></a><span class="lineno">19744</span>    }</div>
<div class="line"><a id="l19745" name="l19745"></a><span class="lineno">19745</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l19746" name="l19746"></a><span class="lineno">19746</span>    {</div>
<div class="line"><a id="l19747" name="l19747"></a><span class="lineno">19747</span>        <span class="comment">// Apply to settings</span></div>
<div class="line"><a id="l19748" name="l19748"></a><span class="lineno">19748</span>        <a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>* settings = FindWindowSettingsByID(window_id);</div>
<div class="line"><a id="l19749" name="l19749"></a><span class="lineno">19749</span>        <span class="keywordflow">if</span> (settings == NULL)</div>
<div class="line"><a id="l19750" name="l19750"></a><span class="lineno">19750</span>            settings = CreateNewWindowSettings(window_name);</div>
<div class="line"><a id="l19751" name="l19751"></a><span class="lineno">19751</span>        <span class="keywordflow">if</span> (settings-&gt;DockId != node_id)</div>
<div class="line"><a id="l19752" name="l19752"></a><span class="lineno">19752</span>            settings-&gt;DockOrder = -1;</div>
<div class="line"><a id="l19753" name="l19753"></a><span class="lineno">19753</span>        settings-&gt;DockId = node_id;</div>
<div class="line"><a id="l19754" name="l19754"></a><span class="lineno">19754</span>    }</div>
<div class="line"><a id="l19755" name="l19755"></a><span class="lineno">19755</span>}</div>
<div class="line"><a id="l19756" name="l19756"></a><span class="lineno">19756</span> </div>
<div class="line"><a id="l19757" name="l19757"></a><span class="lineno">19757</span><a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* ImGui::DockBuilderGetNode(ImGuiID node_id)</div>
<div class="line"><a id="l19758" name="l19758"></a><span class="lineno">19758</span>{</div>
<div class="line"><a id="l19759" name="l19759"></a><span class="lineno">19759</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l19760" name="l19760"></a><span class="lineno">19760</span>    <span class="keywordflow">return</span> DockContextFindNodeByID(&amp;g, node_id);</div>
<div class="line"><a id="l19761" name="l19761"></a><span class="lineno">19761</span>}</div>
<div class="line"><a id="l19762" name="l19762"></a><span class="lineno">19762</span> </div>
<div class="line"><a id="l19763" name="l19763"></a><span class="lineno">19763</span><span class="keywordtype">void</span> ImGui::DockBuilderSetNodePos(ImGuiID node_id, <a class="code hl_struct" href="structImVec2.html">ImVec2</a> pos)</div>
<div class="line"><a id="l19764" name="l19764"></a><span class="lineno">19764</span>{</div>
<div class="line"><a id="l19765" name="l19765"></a><span class="lineno">19765</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l19766" name="l19766"></a><span class="lineno">19766</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node = DockContextFindNodeByID(&amp;g, node_id);</div>
<div class="line"><a id="l19767" name="l19767"></a><span class="lineno">19767</span>    <span class="keywordflow">if</span> (node == NULL)</div>
<div class="line"><a id="l19768" name="l19768"></a><span class="lineno">19768</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l19769" name="l19769"></a><span class="lineno">19769</span>    node-&gt;Pos = pos;</div>
<div class="line"><a id="l19770" name="l19770"></a><span class="lineno">19770</span>    node-&gt;AuthorityForPos = ImGuiDataAuthority_DockNode;</div>
<div class="line"><a id="l19771" name="l19771"></a><span class="lineno">19771</span>}</div>
<div class="line"><a id="l19772" name="l19772"></a><span class="lineno">19772</span> </div>
<div class="line"><a id="l19773" name="l19773"></a><span class="lineno">19773</span><span class="keywordtype">void</span> ImGui::DockBuilderSetNodeSize(ImGuiID node_id, <a class="code hl_struct" href="structImVec2.html">ImVec2</a> size)</div>
<div class="line"><a id="l19774" name="l19774"></a><span class="lineno">19774</span>{</div>
<div class="line"><a id="l19775" name="l19775"></a><span class="lineno">19775</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l19776" name="l19776"></a><span class="lineno">19776</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node = DockContextFindNodeByID(&amp;g, node_id);</div>
<div class="line"><a id="l19777" name="l19777"></a><span class="lineno">19777</span>    <span class="keywordflow">if</span> (node == NULL)</div>
<div class="line"><a id="l19778" name="l19778"></a><span class="lineno">19778</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l19779" name="l19779"></a><span class="lineno">19779</span>    IM_ASSERT(size.x &gt; 0.0f &amp;&amp; size.y &gt; 0.0f);</div>
<div class="line"><a id="l19780" name="l19780"></a><span class="lineno">19780</span>    node-&gt;Size = node-&gt;SizeRef = size;</div>
<div class="line"><a id="l19781" name="l19781"></a><span class="lineno">19781</span>    node-&gt;AuthorityForSize = ImGuiDataAuthority_DockNode;</div>
<div class="line"><a id="l19782" name="l19782"></a><span class="lineno">19782</span>}</div>
<div class="line"><a id="l19783" name="l19783"></a><span class="lineno">19783</span> </div>
<div class="line"><a id="l19784" name="l19784"></a><span class="lineno">19784</span><span class="comment">// Make sure to use the ImGuiDockNodeFlags_DockSpace flag to create a dockspace node! Otherwise this will create a floating node!</span></div>
<div class="line"><a id="l19785" name="l19785"></a><span class="lineno">19785</span><span class="comment">// - Floating node: you can then call DockBuilderSetNodePos()/DockBuilderSetNodeSize() to position and size the floating node.</span></div>
<div class="line"><a id="l19786" name="l19786"></a><span class="lineno">19786</span><span class="comment">// - Dockspace node: calling DockBuilderSetNodePos() is unnecessary.</span></div>
<div class="line"><a id="l19787" name="l19787"></a><span class="lineno">19787</span><span class="comment">// - If you intend to split a node immediately after creation using DockBuilderSplitNode(), make sure to call DockBuilderSetNodeSize() beforehand!</span></div>
<div class="line"><a id="l19788" name="l19788"></a><span class="lineno">19788</span><span class="comment">//   For various reason, the splitting code currently needs a base size otherwise space may not be allocated as precisely as you would expect.</span></div>
<div class="line"><a id="l19789" name="l19789"></a><span class="lineno">19789</span><span class="comment">// - Use (id == 0) to let the system allocate a node identifier.</span></div>
<div class="line"><a id="l19790" name="l19790"></a><span class="lineno">19790</span><span class="comment">// - Existing node with a same id will be removed.</span></div>
<div class="line"><a id="l19791" name="l19791"></a><span class="lineno">19791</span>ImGuiID ImGui::DockBuilderAddNode(ImGuiID node_id, ImGuiDockNodeFlags flags)</div>
<div class="line"><a id="l19792" name="l19792"></a><span class="lineno">19792</span>{</div>
<div class="line"><a id="l19793" name="l19793"></a><span class="lineno">19793</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui; IM_UNUSED(g);</div>
<div class="line"><a id="l19794" name="l19794"></a><span class="lineno">19794</span>    IMGUI_DEBUG_LOG_DOCKING(<span class="stringliteral">&quot;[docking] DockBuilderAddNode 0x%08X flags=%08X\n&quot;</span>, node_id, flags);</div>
<div class="line"><a id="l19795" name="l19795"></a><span class="lineno">19795</span> </div>
<div class="line"><a id="l19796" name="l19796"></a><span class="lineno">19796</span>    <span class="keywordflow">if</span> (node_id != 0)</div>
<div class="line"><a id="l19797" name="l19797"></a><span class="lineno">19797</span>        DockBuilderRemoveNode(node_id);</div>
<div class="line"><a id="l19798" name="l19798"></a><span class="lineno">19798</span> </div>
<div class="line"><a id="l19799" name="l19799"></a><span class="lineno">19799</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node = NULL;</div>
<div class="line"><a id="l19800" name="l19800"></a><span class="lineno">19800</span>    <span class="keywordflow">if</span> (flags &amp; ImGuiDockNodeFlags_DockSpace)</div>
<div class="line"><a id="l19801" name="l19801"></a><span class="lineno">19801</span>    {</div>
<div class="line"><a id="l19802" name="l19802"></a><span class="lineno">19802</span>        DockSpace(node_id, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0, 0), (flags &amp; ~ImGuiDockNodeFlags_DockSpace) | ImGuiDockNodeFlags_KeepAliveOnly);</div>
<div class="line"><a id="l19803" name="l19803"></a><span class="lineno">19803</span>        node = DockContextFindNodeByID(&amp;g, node_id);</div>
<div class="line"><a id="l19804" name="l19804"></a><span class="lineno">19804</span>    }</div>
<div class="line"><a id="l19805" name="l19805"></a><span class="lineno">19805</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l19806" name="l19806"></a><span class="lineno">19806</span>    {</div>
<div class="line"><a id="l19807" name="l19807"></a><span class="lineno">19807</span>        node = DockContextAddNode(&amp;g, node_id);</div>
<div class="line"><a id="l19808" name="l19808"></a><span class="lineno">19808</span>        node-&gt;SetLocalFlags(flags);</div>
<div class="line"><a id="l19809" name="l19809"></a><span class="lineno">19809</span>    }</div>
<div class="line"><a id="l19810" name="l19810"></a><span class="lineno">19810</span>    node-&gt;LastFrameAlive = g.FrameCount;   <span class="comment">// Set this otherwise BeginDocked will undock during the same frame.</span></div>
<div class="line"><a id="l19811" name="l19811"></a><span class="lineno">19811</span>    <span class="keywordflow">return</span> node-&gt;ID;</div>
<div class="line"><a id="l19812" name="l19812"></a><span class="lineno">19812</span>}</div>
<div class="line"><a id="l19813" name="l19813"></a><span class="lineno">19813</span> </div>
<div class="line"><a id="l19814" name="l19814"></a><span class="lineno">19814</span><span class="keywordtype">void</span> ImGui::DockBuilderRemoveNode(ImGuiID node_id)</div>
<div class="line"><a id="l19815" name="l19815"></a><span class="lineno">19815</span>{</div>
<div class="line"><a id="l19816" name="l19816"></a><span class="lineno">19816</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui; IM_UNUSED(g);</div>
<div class="line"><a id="l19817" name="l19817"></a><span class="lineno">19817</span>    IMGUI_DEBUG_LOG_DOCKING(<span class="stringliteral">&quot;[docking] DockBuilderRemoveNode 0x%08X\n&quot;</span>, node_id);</div>
<div class="line"><a id="l19818" name="l19818"></a><span class="lineno">19818</span> </div>
<div class="line"><a id="l19819" name="l19819"></a><span class="lineno">19819</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node = DockContextFindNodeByID(&amp;g, node_id);</div>
<div class="line"><a id="l19820" name="l19820"></a><span class="lineno">19820</span>    <span class="keywordflow">if</span> (node == NULL)</div>
<div class="line"><a id="l19821" name="l19821"></a><span class="lineno">19821</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l19822" name="l19822"></a><span class="lineno">19822</span>    DockBuilderRemoveNodeDockedWindows(node_id, <span class="keyword">true</span>);</div>
<div class="line"><a id="l19823" name="l19823"></a><span class="lineno">19823</span>    DockBuilderRemoveNodeChildNodes(node_id);</div>
<div class="line"><a id="l19824" name="l19824"></a><span class="lineno">19824</span>    <span class="comment">// Node may have moved or deleted if e.g. any merge happened</span></div>
<div class="line"><a id="l19825" name="l19825"></a><span class="lineno">19825</span>    node = DockContextFindNodeByID(&amp;g, node_id);</div>
<div class="line"><a id="l19826" name="l19826"></a><span class="lineno">19826</span>    <span class="keywordflow">if</span> (node == NULL)</div>
<div class="line"><a id="l19827" name="l19827"></a><span class="lineno">19827</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l19828" name="l19828"></a><span class="lineno">19828</span>    <span class="keywordflow">if</span> (node-&gt;IsCentralNode() &amp;&amp; node-&gt;ParentNode)</div>
<div class="line"><a id="l19829" name="l19829"></a><span class="lineno">19829</span>        node-&gt;ParentNode-&gt;SetLocalFlags(node-&gt;ParentNode-&gt;LocalFlags | ImGuiDockNodeFlags_CentralNode);</div>
<div class="line"><a id="l19830" name="l19830"></a><span class="lineno">19830</span>    DockContextRemoveNode(&amp;g, node, <span class="keyword">true</span>);</div>
<div class="line"><a id="l19831" name="l19831"></a><span class="lineno">19831</span>}</div>
<div class="line"><a id="l19832" name="l19832"></a><span class="lineno">19832</span> </div>
<div class="line"><a id="l19833" name="l19833"></a><span class="lineno">19833</span><span class="comment">// root_id = 0 to remove all, root_id != 0 to remove child of given node.</span></div>
<div class="line"><a id="l19834" name="l19834"></a><span class="lineno">19834</span><span class="keywordtype">void</span> ImGui::DockBuilderRemoveNodeChildNodes(ImGuiID root_id)</div>
<div class="line"><a id="l19835" name="l19835"></a><span class="lineno">19835</span>{</div>
<div class="line"><a id="l19836" name="l19836"></a><span class="lineno">19836</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l19837" name="l19837"></a><span class="lineno">19837</span>    <a class="code hl_struct" href="structImGuiDockContext.html">ImGuiDockContext</a>* dc = &amp;g.DockContext;</div>
<div class="line"><a id="l19838" name="l19838"></a><span class="lineno">19838</span> </div>
<div class="line"><a id="l19839" name="l19839"></a><span class="lineno">19839</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* root_node = root_id ? DockContextFindNodeByID(&amp;g, root_id) : NULL;</div>
<div class="line"><a id="l19840" name="l19840"></a><span class="lineno">19840</span>    <span class="keywordflow">if</span> (root_id &amp;&amp; root_node == NULL)</div>
<div class="line"><a id="l19841" name="l19841"></a><span class="lineno">19841</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l19842" name="l19842"></a><span class="lineno">19842</span>    <span class="keywordtype">bool</span> has_central_node = <span class="keyword">false</span>;</div>
<div class="line"><a id="l19843" name="l19843"></a><span class="lineno">19843</span> </div>
<div class="line"><a id="l19844" name="l19844"></a><span class="lineno">19844</span>    ImGuiDataAuthority backup_root_node_authority_for_pos = root_node ? root_node-&gt;AuthorityForPos : ImGuiDataAuthority_Auto;</div>
<div class="line"><a id="l19845" name="l19845"></a><span class="lineno">19845</span>    ImGuiDataAuthority backup_root_node_authority_for_size = root_node ? root_node-&gt;AuthorityForSize : ImGuiDataAuthority_Auto;</div>
<div class="line"><a id="l19846" name="l19846"></a><span class="lineno">19846</span> </div>
<div class="line"><a id="l19847" name="l19847"></a><span class="lineno">19847</span>    <span class="comment">// Process active windows</span></div>
<div class="line"><a id="l19848" name="l19848"></a><span class="lineno">19848</span>    <a class="code hl_struct" href="structImVector.html">ImVector&lt;ImGuiDockNode*&gt;</a> nodes_to_remove;</div>
<div class="line"><a id="l19849" name="l19849"></a><span class="lineno">19849</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; dc-&gt;Nodes.Data.Size; n++)</div>
<div class="line"><a id="l19850" name="l19850"></a><span class="lineno">19850</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node = (<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>*)dc-&gt;Nodes.Data[n].val_p)</div>
<div class="line"><a id="l19851" name="l19851"></a><span class="lineno">19851</span>        {</div>
<div class="line"><a id="l19852" name="l19852"></a><span class="lineno">19852</span>            <span class="keywordtype">bool</span> want_removal = (root_id == 0) || (node-&gt;ID != root_id &amp;&amp; DockNodeGetRootNode(node)-&gt;ID == root_id);</div>
<div class="line"><a id="l19853" name="l19853"></a><span class="lineno">19853</span>            <span class="keywordflow">if</span> (want_removal)</div>
<div class="line"><a id="l19854" name="l19854"></a><span class="lineno">19854</span>            {</div>
<div class="line"><a id="l19855" name="l19855"></a><span class="lineno">19855</span>                <span class="keywordflow">if</span> (node-&gt;IsCentralNode())</div>
<div class="line"><a id="l19856" name="l19856"></a><span class="lineno">19856</span>                    has_central_node = <span class="keyword">true</span>;</div>
<div class="line"><a id="l19857" name="l19857"></a><span class="lineno">19857</span>                <span class="keywordflow">if</span> (root_id != 0)</div>
<div class="line"><a id="l19858" name="l19858"></a><span class="lineno">19858</span>                    DockContextQueueNotifyRemovedNode(&amp;g, node);</div>
<div class="line"><a id="l19859" name="l19859"></a><span class="lineno">19859</span>                <span class="keywordflow">if</span> (root_node)</div>
<div class="line"><a id="l19860" name="l19860"></a><span class="lineno">19860</span>                {</div>
<div class="line"><a id="l19861" name="l19861"></a><span class="lineno">19861</span>                    DockNodeMoveWindows(root_node, node);</div>
<div class="line"><a id="l19862" name="l19862"></a><span class="lineno">19862</span>                    DockSettingsRenameNodeReferences(node-&gt;ID, root_node-&gt;ID);</div>
<div class="line"><a id="l19863" name="l19863"></a><span class="lineno">19863</span>                }</div>
<div class="line"><a id="l19864" name="l19864"></a><span class="lineno">19864</span>                nodes_to_remove.push_back(node);</div>
<div class="line"><a id="l19865" name="l19865"></a><span class="lineno">19865</span>            }</div>
<div class="line"><a id="l19866" name="l19866"></a><span class="lineno">19866</span>        }</div>
<div class="line"><a id="l19867" name="l19867"></a><span class="lineno">19867</span> </div>
<div class="line"><a id="l19868" name="l19868"></a><span class="lineno">19868</span>    <span class="comment">// DockNodeMoveWindows-&gt;DockNodeAddWindow will normally set those when reaching two windows (which is only adequate during interactive merge)</span></div>
<div class="line"><a id="l19869" name="l19869"></a><span class="lineno">19869</span>    <span class="comment">// Make sure we don&#39;t lose our current pos/size. (FIXME-DOCK: Consider tidying up that code in DockNodeAddWindow instead)</span></div>
<div class="line"><a id="l19870" name="l19870"></a><span class="lineno">19870</span>    <span class="keywordflow">if</span> (root_node)</div>
<div class="line"><a id="l19871" name="l19871"></a><span class="lineno">19871</span>    {</div>
<div class="line"><a id="l19872" name="l19872"></a><span class="lineno">19872</span>        root_node-&gt;AuthorityForPos = backup_root_node_authority_for_pos;</div>
<div class="line"><a id="l19873" name="l19873"></a><span class="lineno">19873</span>        root_node-&gt;AuthorityForSize = backup_root_node_authority_for_size;</div>
<div class="line"><a id="l19874" name="l19874"></a><span class="lineno">19874</span>    }</div>
<div class="line"><a id="l19875" name="l19875"></a><span class="lineno">19875</span> </div>
<div class="line"><a id="l19876" name="l19876"></a><span class="lineno">19876</span>    <span class="comment">// Apply to settings</span></div>
<div class="line"><a id="l19877" name="l19877"></a><span class="lineno">19877</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>* settings = g.SettingsWindows.begin(); settings != NULL; settings = g.SettingsWindows.next_chunk(settings))</div>
<div class="line"><a id="l19878" name="l19878"></a><span class="lineno">19878</span>        <span class="keywordflow">if</span> (ImGuiID window_settings_dock_id = settings-&gt;DockId)</div>
<div class="line"><a id="l19879" name="l19879"></a><span class="lineno">19879</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; nodes_to_remove.Size; n++)</div>
<div class="line"><a id="l19880" name="l19880"></a><span class="lineno">19880</span>                <span class="keywordflow">if</span> (nodes_to_remove[n]-&gt;ID == window_settings_dock_id)</div>
<div class="line"><a id="l19881" name="l19881"></a><span class="lineno">19881</span>                {</div>
<div class="line"><a id="l19882" name="l19882"></a><span class="lineno">19882</span>                    settings-&gt;DockId = root_id;</div>
<div class="line"><a id="l19883" name="l19883"></a><span class="lineno">19883</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l19884" name="l19884"></a><span class="lineno">19884</span>                }</div>
<div class="line"><a id="l19885" name="l19885"></a><span class="lineno">19885</span> </div>
<div class="line"><a id="l19886" name="l19886"></a><span class="lineno">19886</span>    <span class="comment">// Not really efficient, but easier to destroy a whole hierarchy considering DockContextRemoveNode is attempting to merge nodes</span></div>
<div class="line"><a id="l19887" name="l19887"></a><span class="lineno">19887</span>    <span class="keywordflow">if</span> (nodes_to_remove.Size &gt; 1)</div>
<div class="line"><a id="l19888" name="l19888"></a><span class="lineno">19888</span>        ImQsort(nodes_to_remove.Data, nodes_to_remove.Size, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>*), DockNodeComparerDepthMostFirst);</div>
<div class="line"><a id="l19889" name="l19889"></a><span class="lineno">19889</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; nodes_to_remove.Size; n++)</div>
<div class="line"><a id="l19890" name="l19890"></a><span class="lineno">19890</span>        DockContextRemoveNode(&amp;g, nodes_to_remove[n], <span class="keyword">false</span>);</div>
<div class="line"><a id="l19891" name="l19891"></a><span class="lineno">19891</span> </div>
<div class="line"><a id="l19892" name="l19892"></a><span class="lineno">19892</span>    <span class="keywordflow">if</span> (root_id == 0)</div>
<div class="line"><a id="l19893" name="l19893"></a><span class="lineno">19893</span>    {</div>
<div class="line"><a id="l19894" name="l19894"></a><span class="lineno">19894</span>        dc-&gt;Nodes.Clear();</div>
<div class="line"><a id="l19895" name="l19895"></a><span class="lineno">19895</span>        dc-&gt;Requests.clear();</div>
<div class="line"><a id="l19896" name="l19896"></a><span class="lineno">19896</span>    }</div>
<div class="line"><a id="l19897" name="l19897"></a><span class="lineno">19897</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (has_central_node)</div>
<div class="line"><a id="l19898" name="l19898"></a><span class="lineno">19898</span>    {</div>
<div class="line"><a id="l19899" name="l19899"></a><span class="lineno">19899</span>        root_node-&gt;CentralNode = root_node;</div>
<div class="line"><a id="l19900" name="l19900"></a><span class="lineno">19900</span>        root_node-&gt;SetLocalFlags(root_node-&gt;LocalFlags | ImGuiDockNodeFlags_CentralNode);</div>
<div class="line"><a id="l19901" name="l19901"></a><span class="lineno">19901</span>    }</div>
<div class="line"><a id="l19902" name="l19902"></a><span class="lineno">19902</span>}</div>
<div class="line"><a id="l19903" name="l19903"></a><span class="lineno">19903</span> </div>
<div class="line"><a id="l19904" name="l19904"></a><span class="lineno">19904</span><span class="keywordtype">void</span> ImGui::DockBuilderRemoveNodeDockedWindows(ImGuiID root_id, <span class="keywordtype">bool</span> clear_settings_refs)</div>
<div class="line"><a id="l19905" name="l19905"></a><span class="lineno">19905</span>{</div>
<div class="line"><a id="l19906" name="l19906"></a><span class="lineno">19906</span>    <span class="comment">// Clear references in settings</span></div>
<div class="line"><a id="l19907" name="l19907"></a><span class="lineno">19907</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l19908" name="l19908"></a><span class="lineno">19908</span>    <span class="keywordflow">if</span> (clear_settings_refs)</div>
<div class="line"><a id="l19909" name="l19909"></a><span class="lineno">19909</span>    {</div>
<div class="line"><a id="l19910" name="l19910"></a><span class="lineno">19910</span>        <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>* settings = g.SettingsWindows.begin(); settings != NULL; settings = g.SettingsWindows.next_chunk(settings))</div>
<div class="line"><a id="l19911" name="l19911"></a><span class="lineno">19911</span>        {</div>
<div class="line"><a id="l19912" name="l19912"></a><span class="lineno">19912</span>            <span class="keywordtype">bool</span> want_removal = (root_id == 0) || (settings-&gt;DockId == root_id);</div>
<div class="line"><a id="l19913" name="l19913"></a><span class="lineno">19913</span>            <span class="keywordflow">if</span> (!want_removal &amp;&amp; settings-&gt;DockId != 0)</div>
<div class="line"><a id="l19914" name="l19914"></a><span class="lineno">19914</span>                <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node = DockContextFindNodeByID(&amp;g, settings-&gt;DockId))</div>
<div class="line"><a id="l19915" name="l19915"></a><span class="lineno">19915</span>                    <span class="keywordflow">if</span> (DockNodeGetRootNode(node)-&gt;ID == root_id)</div>
<div class="line"><a id="l19916" name="l19916"></a><span class="lineno">19916</span>                        want_removal = <span class="keyword">true</span>;</div>
<div class="line"><a id="l19917" name="l19917"></a><span class="lineno">19917</span>            <span class="keywordflow">if</span> (want_removal)</div>
<div class="line"><a id="l19918" name="l19918"></a><span class="lineno">19918</span>                settings-&gt;DockId = 0;</div>
<div class="line"><a id="l19919" name="l19919"></a><span class="lineno">19919</span>        }</div>
<div class="line"><a id="l19920" name="l19920"></a><span class="lineno">19920</span>    }</div>
<div class="line"><a id="l19921" name="l19921"></a><span class="lineno">19921</span> </div>
<div class="line"><a id="l19922" name="l19922"></a><span class="lineno">19922</span>    <span class="comment">// Clear references in windows</span></div>
<div class="line"><a id="l19923" name="l19923"></a><span class="lineno">19923</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; g.Windows.Size; n++)</div>
<div class="line"><a id="l19924" name="l19924"></a><span class="lineno">19924</span>    {</div>
<div class="line"><a id="l19925" name="l19925"></a><span class="lineno">19925</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.Windows[n];</div>
<div class="line"><a id="l19926" name="l19926"></a><span class="lineno">19926</span>        <span class="keywordtype">bool</span> want_removal = (root_id == 0) || (window-&gt;DockNode &amp;&amp; DockNodeGetRootNode(window-&gt;DockNode)-&gt;ID == root_id) || (window-&gt;DockNodeAsHost &amp;&amp; window-&gt;DockNodeAsHost-&gt;ID == root_id);</div>
<div class="line"><a id="l19927" name="l19927"></a><span class="lineno">19927</span>        <span class="keywordflow">if</span> (want_removal)</div>
<div class="line"><a id="l19928" name="l19928"></a><span class="lineno">19928</span>        {</div>
<div class="line"><a id="l19929" name="l19929"></a><span class="lineno">19929</span>            <span class="keyword">const</span> ImGuiID backup_dock_id = window-&gt;DockId;</div>
<div class="line"><a id="l19930" name="l19930"></a><span class="lineno">19930</span>            IM_UNUSED(backup_dock_id);</div>
<div class="line"><a id="l19931" name="l19931"></a><span class="lineno">19931</span>            DockContextProcessUndockWindow(&amp;g, window, clear_settings_refs);</div>
<div class="line"><a id="l19932" name="l19932"></a><span class="lineno">19932</span>            <span class="keywordflow">if</span> (!clear_settings_refs)</div>
<div class="line"><a id="l19933" name="l19933"></a><span class="lineno">19933</span>                IM_ASSERT(window-&gt;DockId == backup_dock_id);</div>
<div class="line"><a id="l19934" name="l19934"></a><span class="lineno">19934</span>        }</div>
<div class="line"><a id="l19935" name="l19935"></a><span class="lineno">19935</span>    }</div>
<div class="line"><a id="l19936" name="l19936"></a><span class="lineno">19936</span>}</div>
<div class="line"><a id="l19937" name="l19937"></a><span class="lineno">19937</span> </div>
<div class="line"><a id="l19938" name="l19938"></a><span class="lineno">19938</span><span class="comment">// If &#39;out_id_at_dir&#39; or &#39;out_id_at_opposite_dir&#39; are non NULL, the function will write out the ID of the two new nodes created.</span></div>
<div class="line"><a id="l19939" name="l19939"></a><span class="lineno">19939</span><span class="comment">// Return value is ID of the node at the specified direction, so same as (*out_id_at_dir) if that pointer is set.</span></div>
<div class="line"><a id="l19940" name="l19940"></a><span class="lineno">19940</span><span class="comment">// FIXME-DOCK: We are not exposing nor using split_outer.</span></div>
<div class="line"><a id="l19941" name="l19941"></a><span class="lineno">19941</span>ImGuiID ImGui::DockBuilderSplitNode(ImGuiID <span class="keywordtype">id</span>, ImGuiDir split_dir, <span class="keywordtype">float</span> size_ratio_for_node_at_dir, ImGuiID* out_id_at_dir, ImGuiID* out_id_at_opposite_dir)</div>
<div class="line"><a id="l19942" name="l19942"></a><span class="lineno">19942</span>{</div>
<div class="line"><a id="l19943" name="l19943"></a><span class="lineno">19943</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l19944" name="l19944"></a><span class="lineno">19944</span>    IM_ASSERT(split_dir != ImGuiDir_None);</div>
<div class="line"><a id="l19945" name="l19945"></a><span class="lineno">19945</span>    IMGUI_DEBUG_LOG_DOCKING(<span class="stringliteral">&quot;[docking] DockBuilderSplitNode: node 0x%08X, split_dir %d\n&quot;</span>, <span class="keywordtype">id</span>, split_dir);</div>
<div class="line"><a id="l19946" name="l19946"></a><span class="lineno">19946</span> </div>
<div class="line"><a id="l19947" name="l19947"></a><span class="lineno">19947</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node = DockContextFindNodeByID(&amp;g, <span class="keywordtype">id</span>);</div>
<div class="line"><a id="l19948" name="l19948"></a><span class="lineno">19948</span>    <span class="keywordflow">if</span> (node == NULL)</div>
<div class="line"><a id="l19949" name="l19949"></a><span class="lineno">19949</span>    {</div>
<div class="line"><a id="l19950" name="l19950"></a><span class="lineno">19950</span>        IM_ASSERT(node != NULL);</div>
<div class="line"><a id="l19951" name="l19951"></a><span class="lineno">19951</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l19952" name="l19952"></a><span class="lineno">19952</span>    }</div>
<div class="line"><a id="l19953" name="l19953"></a><span class="lineno">19953</span> </div>
<div class="line"><a id="l19954" name="l19954"></a><span class="lineno">19954</span>    <a class="code hl_struct" href="structImGuiDockRequest.html">ImGuiDockRequest</a> req;</div>
<div class="line"><a id="l19955" name="l19955"></a><span class="lineno">19955</span>    req.Type = ImGuiDockRequestType_Split;</div>
<div class="line"><a id="l19956" name="l19956"></a><span class="lineno">19956</span>    req.DockTargetWindow = NULL;</div>
<div class="line"><a id="l19957" name="l19957"></a><span class="lineno">19957</span>    req.DockTargetNode = node;</div>
<div class="line"><a id="l19958" name="l19958"></a><span class="lineno">19958</span>    req.DockPayload = NULL;</div>
<div class="line"><a id="l19959" name="l19959"></a><span class="lineno">19959</span>    req.DockSplitDir = split_dir;</div>
<div class="line"><a id="l19960" name="l19960"></a><span class="lineno">19960</span>    req.DockSplitRatio = ImSaturate((split_dir == ImGuiDir_Left || split_dir == ImGuiDir_Up) ? size_ratio_for_node_at_dir : 1.0f - size_ratio_for_node_at_dir);</div>
<div class="line"><a id="l19961" name="l19961"></a><span class="lineno">19961</span>    req.DockSplitOuter = <span class="keyword">false</span>;</div>
<div class="line"><a id="l19962" name="l19962"></a><span class="lineno">19962</span>    DockContextProcessDock(&amp;g, &amp;req);</div>
<div class="line"><a id="l19963" name="l19963"></a><span class="lineno">19963</span> </div>
<div class="line"><a id="l19964" name="l19964"></a><span class="lineno">19964</span>    ImGuiID id_at_dir = node-&gt;ChildNodes[(split_dir == ImGuiDir_Left || split_dir == ImGuiDir_Up) ? 0 : 1]-&gt;ID;</div>
<div class="line"><a id="l19965" name="l19965"></a><span class="lineno">19965</span>    ImGuiID id_at_opposite_dir = node-&gt;ChildNodes[(split_dir == ImGuiDir_Left || split_dir == ImGuiDir_Up) ? 1 : 0]-&gt;ID;</div>
<div class="line"><a id="l19966" name="l19966"></a><span class="lineno">19966</span>    <span class="keywordflow">if</span> (out_id_at_dir)</div>
<div class="line"><a id="l19967" name="l19967"></a><span class="lineno">19967</span>        *out_id_at_dir = id_at_dir;</div>
<div class="line"><a id="l19968" name="l19968"></a><span class="lineno">19968</span>    <span class="keywordflow">if</span> (out_id_at_opposite_dir)</div>
<div class="line"><a id="l19969" name="l19969"></a><span class="lineno">19969</span>        *out_id_at_opposite_dir = id_at_opposite_dir;</div>
<div class="line"><a id="l19970" name="l19970"></a><span class="lineno">19970</span>    <span class="keywordflow">return</span> id_at_dir;</div>
<div class="line"><a id="l19971" name="l19971"></a><span class="lineno">19971</span>}</div>
<div class="line"><a id="l19972" name="l19972"></a><span class="lineno">19972</span> </div>
<div class="line"><a id="l19973" name="l19973"></a><span class="lineno">19973</span><span class="keyword">static</span> <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* DockBuilderCopyNodeRec(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* src_node, ImGuiID dst_node_id_if_known, <a class="code hl_struct" href="structImVector.html">ImVector&lt;ImGuiID&gt;</a>* out_node_remap_pairs)</div>
<div class="line"><a id="l19974" name="l19974"></a><span class="lineno">19974</span>{</div>
<div class="line"><a id="l19975" name="l19975"></a><span class="lineno">19975</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l19976" name="l19976"></a><span class="lineno">19976</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* dst_node = ImGui::DockContextAddNode(&amp;g, dst_node_id_if_known);</div>
<div class="line"><a id="l19977" name="l19977"></a><span class="lineno">19977</span>    dst_node-&gt;SharedFlags = src_node-&gt;SharedFlags;</div>
<div class="line"><a id="l19978" name="l19978"></a><span class="lineno">19978</span>    dst_node-&gt;LocalFlags = src_node-&gt;LocalFlags;</div>
<div class="line"><a id="l19979" name="l19979"></a><span class="lineno">19979</span>    dst_node-&gt;LocalFlagsInWindows = ImGuiDockNodeFlags_None;</div>
<div class="line"><a id="l19980" name="l19980"></a><span class="lineno">19980</span>    dst_node-&gt;Pos = src_node-&gt;Pos;</div>
<div class="line"><a id="l19981" name="l19981"></a><span class="lineno">19981</span>    dst_node-&gt;Size = src_node-&gt;Size;</div>
<div class="line"><a id="l19982" name="l19982"></a><span class="lineno">19982</span>    dst_node-&gt;SizeRef = src_node-&gt;SizeRef;</div>
<div class="line"><a id="l19983" name="l19983"></a><span class="lineno">19983</span>    dst_node-&gt;SplitAxis = src_node-&gt;SplitAxis;</div>
<div class="line"><a id="l19984" name="l19984"></a><span class="lineno">19984</span>    dst_node-&gt;UpdateMergedFlags();</div>
<div class="line"><a id="l19985" name="l19985"></a><span class="lineno">19985</span> </div>
<div class="line"><a id="l19986" name="l19986"></a><span class="lineno">19986</span>    out_node_remap_pairs-&gt;push_back(src_node-&gt;ID);</div>
<div class="line"><a id="l19987" name="l19987"></a><span class="lineno">19987</span>    out_node_remap_pairs-&gt;push_back(dst_node-&gt;ID);</div>
<div class="line"><a id="l19988" name="l19988"></a><span class="lineno">19988</span> </div>
<div class="line"><a id="l19989" name="l19989"></a><span class="lineno">19989</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> child_n = 0; child_n &lt; IM_ARRAYSIZE(src_node-&gt;ChildNodes); child_n++)</div>
<div class="line"><a id="l19990" name="l19990"></a><span class="lineno">19990</span>        <span class="keywordflow">if</span> (src_node-&gt;ChildNodes[child_n])</div>
<div class="line"><a id="l19991" name="l19991"></a><span class="lineno">19991</span>        {</div>
<div class="line"><a id="l19992" name="l19992"></a><span class="lineno">19992</span>            dst_node-&gt;ChildNodes[child_n] = DockBuilderCopyNodeRec(src_node-&gt;ChildNodes[child_n], 0, out_node_remap_pairs);</div>
<div class="line"><a id="l19993" name="l19993"></a><span class="lineno">19993</span>            dst_node-&gt;ChildNodes[child_n]-&gt;ParentNode = dst_node;</div>
<div class="line"><a id="l19994" name="l19994"></a><span class="lineno">19994</span>        }</div>
<div class="line"><a id="l19995" name="l19995"></a><span class="lineno">19995</span> </div>
<div class="line"><a id="l19996" name="l19996"></a><span class="lineno">19996</span>    IMGUI_DEBUG_LOG_DOCKING(<span class="stringliteral">&quot;[docking] Fork node %08X -&gt; %08X (%d childs)\n&quot;</span>, src_node-&gt;ID, dst_node-&gt;ID, dst_node-&gt;IsSplitNode() ? 2 : 0);</div>
<div class="line"><a id="l19997" name="l19997"></a><span class="lineno">19997</span>    <span class="keywordflow">return</span> dst_node;</div>
<div class="line"><a id="l19998" name="l19998"></a><span class="lineno">19998</span>}</div>
<div class="line"><a id="l19999" name="l19999"></a><span class="lineno">19999</span> </div>
<div class="line"><a id="l20000" name="l20000"></a><span class="lineno">20000</span><span class="keywordtype">void</span> ImGui::DockBuilderCopyNode(ImGuiID src_node_id, ImGuiID dst_node_id, <a class="code hl_struct" href="structImVector.html">ImVector&lt;ImGuiID&gt;</a>* out_node_remap_pairs)</div>
<div class="line"><a id="l20001" name="l20001"></a><span class="lineno">20001</span>{</div>
<div class="line"><a id="l20002" name="l20002"></a><span class="lineno">20002</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l20003" name="l20003"></a><span class="lineno">20003</span>    IM_ASSERT(src_node_id != 0);</div>
<div class="line"><a id="l20004" name="l20004"></a><span class="lineno">20004</span>    IM_ASSERT(dst_node_id != 0);</div>
<div class="line"><a id="l20005" name="l20005"></a><span class="lineno">20005</span>    IM_ASSERT(out_node_remap_pairs != NULL);</div>
<div class="line"><a id="l20006" name="l20006"></a><span class="lineno">20006</span> </div>
<div class="line"><a id="l20007" name="l20007"></a><span class="lineno">20007</span>    DockBuilderRemoveNode(dst_node_id);</div>
<div class="line"><a id="l20008" name="l20008"></a><span class="lineno">20008</span> </div>
<div class="line"><a id="l20009" name="l20009"></a><span class="lineno">20009</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* src_node = DockContextFindNodeByID(&amp;g, src_node_id);</div>
<div class="line"><a id="l20010" name="l20010"></a><span class="lineno">20010</span>    IM_ASSERT(src_node != NULL);</div>
<div class="line"><a id="l20011" name="l20011"></a><span class="lineno">20011</span> </div>
<div class="line"><a id="l20012" name="l20012"></a><span class="lineno">20012</span>    out_node_remap_pairs-&gt;clear();</div>
<div class="line"><a id="l20013" name="l20013"></a><span class="lineno">20013</span>    DockBuilderCopyNodeRec(src_node, dst_node_id, out_node_remap_pairs);</div>
<div class="line"><a id="l20014" name="l20014"></a><span class="lineno">20014</span> </div>
<div class="line"><a id="l20015" name="l20015"></a><span class="lineno">20015</span>    IM_ASSERT((out_node_remap_pairs-&gt;Size % 2) == 0);</div>
<div class="line"><a id="l20016" name="l20016"></a><span class="lineno">20016</span>}</div>
<div class="line"><a id="l20017" name="l20017"></a><span class="lineno">20017</span> </div>
<div class="line"><a id="l20018" name="l20018"></a><span class="lineno">20018</span><span class="keywordtype">void</span> ImGui::DockBuilderCopyWindowSettings(<span class="keyword">const</span> <span class="keywordtype">char</span>* src_name, <span class="keyword">const</span> <span class="keywordtype">char</span>* dst_name)</div>
<div class="line"><a id="l20019" name="l20019"></a><span class="lineno">20019</span>{</div>
<div class="line"><a id="l20020" name="l20020"></a><span class="lineno">20020</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* src_window = FindWindowByName(src_name);</div>
<div class="line"><a id="l20021" name="l20021"></a><span class="lineno">20021</span>    <span class="keywordflow">if</span> (src_window == NULL)</div>
<div class="line"><a id="l20022" name="l20022"></a><span class="lineno">20022</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l20023" name="l20023"></a><span class="lineno">20023</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* dst_window = FindWindowByName(dst_name))</div>
<div class="line"><a id="l20024" name="l20024"></a><span class="lineno">20024</span>    {</div>
<div class="line"><a id="l20025" name="l20025"></a><span class="lineno">20025</span>        dst_window-&gt;Pos = src_window-&gt;Pos;</div>
<div class="line"><a id="l20026" name="l20026"></a><span class="lineno">20026</span>        dst_window-&gt;Size = src_window-&gt;Size;</div>
<div class="line"><a id="l20027" name="l20027"></a><span class="lineno">20027</span>        dst_window-&gt;SizeFull = src_window-&gt;SizeFull;</div>
<div class="line"><a id="l20028" name="l20028"></a><span class="lineno">20028</span>        dst_window-&gt;Collapsed = src_window-&gt;Collapsed;</div>
<div class="line"><a id="l20029" name="l20029"></a><span class="lineno">20029</span>    }</div>
<div class="line"><a id="l20030" name="l20030"></a><span class="lineno">20030</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l20031" name="l20031"></a><span class="lineno">20031</span>    {</div>
<div class="line"><a id="l20032" name="l20032"></a><span class="lineno">20032</span>        <a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>* dst_settings = FindWindowSettingsByID(ImHashStr(dst_name));</div>
<div class="line"><a id="l20033" name="l20033"></a><span class="lineno">20033</span>        <span class="keywordflow">if</span> (!dst_settings)</div>
<div class="line"><a id="l20034" name="l20034"></a><span class="lineno">20034</span>            dst_settings = CreateNewWindowSettings(dst_name);</div>
<div class="line"><a id="l20035" name="l20035"></a><span class="lineno">20035</span>        <a class="code hl_struct" href="structImVec2ih.html">ImVec2ih</a> window_pos_2ih = <a class="code hl_struct" href="structImVec2ih.html">ImVec2ih</a>(src_window-&gt;Pos);</div>
<div class="line"><a id="l20036" name="l20036"></a><span class="lineno">20036</span>        <span class="keywordflow">if</span> (src_window-&gt;ViewportId != 0 &amp;&amp; src_window-&gt;ViewportId != IMGUI_VIEWPORT_DEFAULT_ID)</div>
<div class="line"><a id="l20037" name="l20037"></a><span class="lineno">20037</span>        {</div>
<div class="line"><a id="l20038" name="l20038"></a><span class="lineno">20038</span>            dst_settings-&gt;ViewportPos = window_pos_2ih;</div>
<div class="line"><a id="l20039" name="l20039"></a><span class="lineno">20039</span>            dst_settings-&gt;ViewportId = src_window-&gt;ViewportId;</div>
<div class="line"><a id="l20040" name="l20040"></a><span class="lineno">20040</span>            dst_settings-&gt;Pos = <a class="code hl_struct" href="structImVec2ih.html">ImVec2ih</a>(0, 0);</div>
<div class="line"><a id="l20041" name="l20041"></a><span class="lineno">20041</span>        }</div>
<div class="line"><a id="l20042" name="l20042"></a><span class="lineno">20042</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l20043" name="l20043"></a><span class="lineno">20043</span>        {</div>
<div class="line"><a id="l20044" name="l20044"></a><span class="lineno">20044</span>            dst_settings-&gt;Pos = window_pos_2ih;</div>
<div class="line"><a id="l20045" name="l20045"></a><span class="lineno">20045</span>        }</div>
<div class="line"><a id="l20046" name="l20046"></a><span class="lineno">20046</span>        dst_settings-&gt;Size = <a class="code hl_struct" href="structImVec2ih.html">ImVec2ih</a>(src_window-&gt;SizeFull);</div>
<div class="line"><a id="l20047" name="l20047"></a><span class="lineno">20047</span>        dst_settings-&gt;Collapsed = src_window-&gt;Collapsed;</div>
<div class="line"><a id="l20048" name="l20048"></a><span class="lineno">20048</span>    }</div>
<div class="line"><a id="l20049" name="l20049"></a><span class="lineno">20049</span>}</div>
<div class="line"><a id="l20050" name="l20050"></a><span class="lineno">20050</span> </div>
<div class="line"><a id="l20051" name="l20051"></a><span class="lineno">20051</span><span class="comment">// FIXME: Will probably want to change this signature, in particular how the window remapping pairs are passed.</span></div>
<div class="line"><a id="l20052" name="l20052"></a><span class="lineno">20052</span><span class="keywordtype">void</span> ImGui::DockBuilderCopyDockSpace(ImGuiID src_dockspace_id, ImGuiID dst_dockspace_id, <a class="code hl_struct" href="structImVector.html">ImVector&lt;const char*&gt;</a>* in_window_remap_pairs)</div>
<div class="line"><a id="l20053" name="l20053"></a><span class="lineno">20053</span>{</div>
<div class="line"><a id="l20054" name="l20054"></a><span class="lineno">20054</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l20055" name="l20055"></a><span class="lineno">20055</span>    IM_ASSERT(src_dockspace_id != 0);</div>
<div class="line"><a id="l20056" name="l20056"></a><span class="lineno">20056</span>    IM_ASSERT(dst_dockspace_id != 0);</div>
<div class="line"><a id="l20057" name="l20057"></a><span class="lineno">20057</span>    IM_ASSERT(in_window_remap_pairs != NULL);</div>
<div class="line"><a id="l20058" name="l20058"></a><span class="lineno">20058</span>    IM_ASSERT((in_window_remap_pairs-&gt;Size % 2) == 0);</div>
<div class="line"><a id="l20059" name="l20059"></a><span class="lineno">20059</span> </div>
<div class="line"><a id="l20060" name="l20060"></a><span class="lineno">20060</span>    <span class="comment">// Duplicate entire dock</span></div>
<div class="line"><a id="l20061" name="l20061"></a><span class="lineno">20061</span>    <span class="comment">// FIXME: When overwriting dst_dockspace_id, windows that aren&#39;t part of our dockspace window class but that are docked in a same node will be split apart,</span></div>
<div class="line"><a id="l20062" name="l20062"></a><span class="lineno">20062</span>    <span class="comment">// whereas we could attempt to at least keep them together in a new, same floating node.</span></div>
<div class="line"><a id="l20063" name="l20063"></a><span class="lineno">20063</span>    <a class="code hl_struct" href="structImVector.html">ImVector&lt;ImGuiID&gt;</a> node_remap_pairs;</div>
<div class="line"><a id="l20064" name="l20064"></a><span class="lineno">20064</span>    DockBuilderCopyNode(src_dockspace_id, dst_dockspace_id, &amp;node_remap_pairs);</div>
<div class="line"><a id="l20065" name="l20065"></a><span class="lineno">20065</span> </div>
<div class="line"><a id="l20066" name="l20066"></a><span class="lineno">20066</span>    <span class="comment">// Attempt to transition all the upcoming windows associated to dst_dockspace_id into the newly created hierarchy of dock nodes</span></div>
<div class="line"><a id="l20067" name="l20067"></a><span class="lineno">20067</span>    <span class="comment">// (The windows associated to src_dockspace_id are staying in place)</span></div>
<div class="line"><a id="l20068" name="l20068"></a><span class="lineno">20068</span>    <a class="code hl_struct" href="structImVector.html">ImVector&lt;ImGuiID&gt;</a> src_windows;</div>
<div class="line"><a id="l20069" name="l20069"></a><span class="lineno">20069</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> remap_window_n = 0; remap_window_n &lt; in_window_remap_pairs-&gt;Size; remap_window_n += 2)</div>
<div class="line"><a id="l20070" name="l20070"></a><span class="lineno">20070</span>    {</div>
<div class="line"><a id="l20071" name="l20071"></a><span class="lineno">20071</span>        <span class="keyword">const</span> <span class="keywordtype">char</span>* src_window_name = (*in_window_remap_pairs)[remap_window_n];</div>
<div class="line"><a id="l20072" name="l20072"></a><span class="lineno">20072</span>        <span class="keyword">const</span> <span class="keywordtype">char</span>* dst_window_name = (*in_window_remap_pairs)[remap_window_n + 1];</div>
<div class="line"><a id="l20073" name="l20073"></a><span class="lineno">20073</span>        ImGuiID src_window_id = ImHashStr(src_window_name);</div>
<div class="line"><a id="l20074" name="l20074"></a><span class="lineno">20074</span>        src_windows.push_back(src_window_id);</div>
<div class="line"><a id="l20075" name="l20075"></a><span class="lineno">20075</span> </div>
<div class="line"><a id="l20076" name="l20076"></a><span class="lineno">20076</span>        <span class="comment">// Search in the remapping tables</span></div>
<div class="line"><a id="l20077" name="l20077"></a><span class="lineno">20077</span>        ImGuiID src_dock_id = 0;</div>
<div class="line"><a id="l20078" name="l20078"></a><span class="lineno">20078</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* src_window = FindWindowByID(src_window_id))</div>
<div class="line"><a id="l20079" name="l20079"></a><span class="lineno">20079</span>            src_dock_id = src_window-&gt;DockId;</div>
<div class="line"><a id="l20080" name="l20080"></a><span class="lineno">20080</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>* src_window_settings = FindWindowSettingsByID(src_window_id))</div>
<div class="line"><a id="l20081" name="l20081"></a><span class="lineno">20081</span>            src_dock_id = src_window_settings-&gt;DockId;</div>
<div class="line"><a id="l20082" name="l20082"></a><span class="lineno">20082</span>        ImGuiID dst_dock_id = 0;</div>
<div class="line"><a id="l20083" name="l20083"></a><span class="lineno">20083</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> dock_remap_n = 0; dock_remap_n &lt; node_remap_pairs.Size; dock_remap_n += 2)</div>
<div class="line"><a id="l20084" name="l20084"></a><span class="lineno">20084</span>            <span class="keywordflow">if</span> (node_remap_pairs[dock_remap_n] == src_dock_id)</div>
<div class="line"><a id="l20085" name="l20085"></a><span class="lineno">20085</span>            {</div>
<div class="line"><a id="l20086" name="l20086"></a><span class="lineno">20086</span>                dst_dock_id = node_remap_pairs[dock_remap_n + 1];</div>
<div class="line"><a id="l20087" name="l20087"></a><span class="lineno">20087</span>                <span class="comment">//node_remap_pairs[dock_remap_n] = node_remap_pairs[dock_remap_n + 1] = 0; // Clear</span></div>
<div class="line"><a id="l20088" name="l20088"></a><span class="lineno">20088</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l20089" name="l20089"></a><span class="lineno">20089</span>            }</div>
<div class="line"><a id="l20090" name="l20090"></a><span class="lineno">20090</span> </div>
<div class="line"><a id="l20091" name="l20091"></a><span class="lineno">20091</span>        <span class="keywordflow">if</span> (dst_dock_id != 0)</div>
<div class="line"><a id="l20092" name="l20092"></a><span class="lineno">20092</span>        {</div>
<div class="line"><a id="l20093" name="l20093"></a><span class="lineno">20093</span>            <span class="comment">// Docked windows gets redocked into the new node hierarchy.</span></div>
<div class="line"><a id="l20094" name="l20094"></a><span class="lineno">20094</span>            IMGUI_DEBUG_LOG_DOCKING(<span class="stringliteral">&quot;[docking] Remap live window &#39;%s&#39; 0x%08X -&gt; &#39;%s&#39; 0x%08X\n&quot;</span>, src_window_name, src_dock_id, dst_window_name, dst_dock_id);</div>
<div class="line"><a id="l20095" name="l20095"></a><span class="lineno">20095</span>            DockBuilderDockWindow(dst_window_name, dst_dock_id);</div>
<div class="line"><a id="l20096" name="l20096"></a><span class="lineno">20096</span>        }</div>
<div class="line"><a id="l20097" name="l20097"></a><span class="lineno">20097</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l20098" name="l20098"></a><span class="lineno">20098</span>        {</div>
<div class="line"><a id="l20099" name="l20099"></a><span class="lineno">20099</span>            <span class="comment">// Floating windows gets their settings transferred (regardless of whether the new window already exist or not)</span></div>
<div class="line"><a id="l20100" name="l20100"></a><span class="lineno">20100</span>            <span class="comment">// When this is leading to a Copy and not a Move, we would get two overlapping floating windows. Could we possibly dock them together?</span></div>
<div class="line"><a id="l20101" name="l20101"></a><span class="lineno">20101</span>            IMGUI_DEBUG_LOG_DOCKING(<span class="stringliteral">&quot;[docking] Remap window settings &#39;%s&#39; -&gt; &#39;%s&#39;\n&quot;</span>, src_window_name, dst_window_name);</div>
<div class="line"><a id="l20102" name="l20102"></a><span class="lineno">20102</span>            DockBuilderCopyWindowSettings(src_window_name, dst_window_name);</div>
<div class="line"><a id="l20103" name="l20103"></a><span class="lineno">20103</span>        }</div>
<div class="line"><a id="l20104" name="l20104"></a><span class="lineno">20104</span>    }</div>
<div class="line"><a id="l20105" name="l20105"></a><span class="lineno">20105</span> </div>
<div class="line"><a id="l20106" name="l20106"></a><span class="lineno">20106</span>    <span class="comment">// Anything else in the source nodes of &#39;node_remap_pairs&#39; are windows that are not included in the remapping list.</span></div>
<div class="line"><a id="l20107" name="l20107"></a><span class="lineno">20107</span>    <span class="comment">// Find those windows and move to them to the cloned dock node. This may be optional?</span></div>
<div class="line"><a id="l20108" name="l20108"></a><span class="lineno">20108</span>    <span class="comment">// Dock those are a second step as undocking would invalidate source dock nodes.</span></div>
<div class="line"><a id="l20109" name="l20109"></a><span class="lineno">20109</span>    <span class="keyword">struct </span>DockRemainingWindowTask { <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* Window; ImGuiID DockId; DockRemainingWindowTask(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, ImGuiID dock_id) { Window = window; DockId = dock_id; } };</div>
<div class="line"><a id="l20110" name="l20110"></a><span class="lineno">20110</span>    <a class="code hl_struct" href="structImVector.html">ImVector&lt;DockRemainingWindowTask&gt;</a> dock_remaining_windows;</div>
<div class="line"><a id="l20111" name="l20111"></a><span class="lineno">20111</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> dock_remap_n = 0; dock_remap_n &lt; node_remap_pairs.Size; dock_remap_n += 2)</div>
<div class="line"><a id="l20112" name="l20112"></a><span class="lineno">20112</span>        <span class="keywordflow">if</span> (ImGuiID src_dock_id = node_remap_pairs[dock_remap_n])</div>
<div class="line"><a id="l20113" name="l20113"></a><span class="lineno">20113</span>        {</div>
<div class="line"><a id="l20114" name="l20114"></a><span class="lineno">20114</span>            ImGuiID dst_dock_id = node_remap_pairs[dock_remap_n + 1];</div>
<div class="line"><a id="l20115" name="l20115"></a><span class="lineno">20115</span>            <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node = DockBuilderGetNode(src_dock_id);</div>
<div class="line"><a id="l20116" name="l20116"></a><span class="lineno">20116</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> window_n = 0; window_n &lt; node-&gt;Windows.Size; window_n++)</div>
<div class="line"><a id="l20117" name="l20117"></a><span class="lineno">20117</span>            {</div>
<div class="line"><a id="l20118" name="l20118"></a><span class="lineno">20118</span>                <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = node-&gt;Windows[window_n];</div>
<div class="line"><a id="l20119" name="l20119"></a><span class="lineno">20119</span>                <span class="keywordflow">if</span> (src_windows.contains(window-&gt;ID))</div>
<div class="line"><a id="l20120" name="l20120"></a><span class="lineno">20120</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l20121" name="l20121"></a><span class="lineno">20121</span> </div>
<div class="line"><a id="l20122" name="l20122"></a><span class="lineno">20122</span>                <span class="comment">// Docked windows gets redocked into the new node hierarchy.</span></div>
<div class="line"><a id="l20123" name="l20123"></a><span class="lineno">20123</span>                IMGUI_DEBUG_LOG_DOCKING(<span class="stringliteral">&quot;[docking] Remap window &#39;%s&#39; %08X -&gt; %08X\n&quot;</span>, window-&gt;Name, src_dock_id, dst_dock_id);</div>
<div class="line"><a id="l20124" name="l20124"></a><span class="lineno">20124</span>                dock_remaining_windows.push_back(DockRemainingWindowTask(window, dst_dock_id));</div>
<div class="line"><a id="l20125" name="l20125"></a><span class="lineno">20125</span>            }</div>
<div class="line"><a id="l20126" name="l20126"></a><span class="lineno">20126</span>        }</div>
<div class="line"><a id="l20127" name="l20127"></a><span class="lineno">20127</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> DockRemainingWindowTask&amp; task : dock_remaining_windows)</div>
<div class="line"><a id="l20128" name="l20128"></a><span class="lineno">20128</span>        DockBuilderDockWindow(task.Window-&gt;Name, task.DockId);</div>
<div class="line"><a id="l20129" name="l20129"></a><span class="lineno">20129</span>}</div>
<div class="line"><a id="l20130" name="l20130"></a><span class="lineno">20130</span> </div>
<div class="line"><a id="l20131" name="l20131"></a><span class="lineno">20131</span><span class="comment">// FIXME-DOCK: This is awkward because in series of split user is likely to loose access to its root node.</span></div>
<div class="line"><a id="l20132" name="l20132"></a><span class="lineno">20132</span><span class="keywordtype">void</span> ImGui::DockBuilderFinish(ImGuiID root_id)</div>
<div class="line"><a id="l20133" name="l20133"></a><span class="lineno">20133</span>{</div>
<div class="line"><a id="l20134" name="l20134"></a><span class="lineno">20134</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l20135" name="l20135"></a><span class="lineno">20135</span>    <span class="comment">//DockContextRebuild(&amp;g);</span></div>
<div class="line"><a id="l20136" name="l20136"></a><span class="lineno">20136</span>    DockContextBuildAddWindowsToNodes(&amp;g, root_id);</div>
<div class="line"><a id="l20137" name="l20137"></a><span class="lineno">20137</span>}</div>
<div class="line"><a id="l20138" name="l20138"></a><span class="lineno">20138</span> </div>
<div class="line"><a id="l20139" name="l20139"></a><span class="lineno">20139</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l20140" name="l20140"></a><span class="lineno">20140</span><span class="comment">// Docking: Begin/End Support Functions (called from Begin/End)</span></div>
<div class="line"><a id="l20141" name="l20141"></a><span class="lineno">20141</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l20142" name="l20142"></a><span class="lineno">20142</span><span class="comment">// - GetWindowAlwaysWantOwnTabBar()</span></div>
<div class="line"><a id="l20143" name="l20143"></a><span class="lineno">20143</span><span class="comment">// - DockContextBindNodeToWindow()</span></div>
<div class="line"><a id="l20144" name="l20144"></a><span class="lineno">20144</span><span class="comment">// - BeginDocked()</span></div>
<div class="line"><a id="l20145" name="l20145"></a><span class="lineno">20145</span><span class="comment">// - BeginDockableDragDropSource()</span></div>
<div class="line"><a id="l20146" name="l20146"></a><span class="lineno">20146</span><span class="comment">// - BeginDockableDragDropTarget()</span></div>
<div class="line"><a id="l20147" name="l20147"></a><span class="lineno">20147</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l20148" name="l20148"></a><span class="lineno">20148</span> </div>
<div class="line"><a id="l20149" name="l20149"></a><span class="lineno">20149</span><span class="keywordtype">bool</span> ImGui::GetWindowAlwaysWantOwnTabBar(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l20150" name="l20150"></a><span class="lineno">20150</span>{</div>
<div class="line"><a id="l20151" name="l20151"></a><span class="lineno">20151</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l20152" name="l20152"></a><span class="lineno">20152</span>    <span class="keywordflow">if</span> (g.IO.ConfigDockingAlwaysTabBar || window-&gt;WindowClass.DockingAlwaysTabBar)</div>
<div class="line"><a id="l20153" name="l20153"></a><span class="lineno">20153</span>        <span class="keywordflow">if</span> ((window-&gt;Flags &amp; (ImGuiWindowFlags_ChildWindow | ImGuiWindowFlags_NoTitleBar | ImGuiWindowFlags_NoDocking)) == 0)</div>
<div class="line"><a id="l20154" name="l20154"></a><span class="lineno">20154</span>            <span class="keywordflow">if</span> (!window-&gt;IsFallbackWindow)    <span class="comment">// We don&#39;t support AlwaysTabBar on the fallback/implicit window to avoid unused dock-node overhead/noise</span></div>
<div class="line"><a id="l20155" name="l20155"></a><span class="lineno">20155</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l20156" name="l20156"></a><span class="lineno">20156</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l20157" name="l20157"></a><span class="lineno">20157</span>}</div>
<div class="line"><a id="l20158" name="l20158"></a><span class="lineno">20158</span> </div>
<div class="line"><a id="l20159" name="l20159"></a><span class="lineno">20159</span><span class="keyword">static</span> <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* ImGui::DockContextBindNodeToWindow(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l20160" name="l20160"></a><span class="lineno">20160</span>{</div>
<div class="line"><a id="l20161" name="l20161"></a><span class="lineno">20161</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *ctx;</div>
<div class="line"><a id="l20162" name="l20162"></a><span class="lineno">20162</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node = DockContextFindNodeByID(ctx, window-&gt;DockId);</div>
<div class="line"><a id="l20163" name="l20163"></a><span class="lineno">20163</span>    IM_ASSERT(window-&gt;DockNode == NULL);</div>
<div class="line"><a id="l20164" name="l20164"></a><span class="lineno">20164</span> </div>
<div class="line"><a id="l20165" name="l20165"></a><span class="lineno">20165</span>    <span class="comment">// We should not be docking into a split node (SetWindowDock should avoid this)</span></div>
<div class="line"><a id="l20166" name="l20166"></a><span class="lineno">20166</span>    <span class="keywordflow">if</span> (node &amp;&amp; node-&gt;IsSplitNode())</div>
<div class="line"><a id="l20167" name="l20167"></a><span class="lineno">20167</span>    {</div>
<div class="line"><a id="l20168" name="l20168"></a><span class="lineno">20168</span>        DockContextProcessUndockWindow(ctx, window);</div>
<div class="line"><a id="l20169" name="l20169"></a><span class="lineno">20169</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l20170" name="l20170"></a><span class="lineno">20170</span>    }</div>
<div class="line"><a id="l20171" name="l20171"></a><span class="lineno">20171</span> </div>
<div class="line"><a id="l20172" name="l20172"></a><span class="lineno">20172</span>    <span class="comment">// Create node</span></div>
<div class="line"><a id="l20173" name="l20173"></a><span class="lineno">20173</span>    <span class="keywordflow">if</span> (node == NULL)</div>
<div class="line"><a id="l20174" name="l20174"></a><span class="lineno">20174</span>    {</div>
<div class="line"><a id="l20175" name="l20175"></a><span class="lineno">20175</span>        node = DockContextAddNode(ctx, window-&gt;DockId);</div>
<div class="line"><a id="l20176" name="l20176"></a><span class="lineno">20176</span>        node-&gt;AuthorityForPos = node-&gt;AuthorityForSize = node-&gt;AuthorityForViewport = ImGuiDataAuthority_Window;</div>
<div class="line"><a id="l20177" name="l20177"></a><span class="lineno">20177</span>        node-&gt;LastFrameAlive = g.FrameCount;</div>
<div class="line"><a id="l20178" name="l20178"></a><span class="lineno">20178</span>    }</div>
<div class="line"><a id="l20179" name="l20179"></a><span class="lineno">20179</span> </div>
<div class="line"><a id="l20180" name="l20180"></a><span class="lineno">20180</span>    <span class="comment">// If the node just turned visible and is part of a hierarchy, it doesn&#39;t have a Size assigned by DockNodeTreeUpdatePosSize() yet,</span></div>
<div class="line"><a id="l20181" name="l20181"></a><span class="lineno">20181</span>    <span class="comment">// so we&#39;re forcing a Pos/Size update from the first ancestor that is already visible (often it will be the root node).</span></div>
<div class="line"><a id="l20182" name="l20182"></a><span class="lineno">20182</span>    <span class="comment">// If we don&#39;t do this, the window will be assigned a zero-size on its first frame, which won&#39;t ideally warm up the layout.</span></div>
<div class="line"><a id="l20183" name="l20183"></a><span class="lineno">20183</span>    <span class="comment">// This is a little wonky because we don&#39;t normally update the Pos/Size of visible node mid-frame.</span></div>
<div class="line"><a id="l20184" name="l20184"></a><span class="lineno">20184</span>    <span class="keywordflow">if</span> (!node-&gt;IsVisible)</div>
<div class="line"><a id="l20185" name="l20185"></a><span class="lineno">20185</span>    {</div>
<div class="line"><a id="l20186" name="l20186"></a><span class="lineno">20186</span>        <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* ancestor_node = node;</div>
<div class="line"><a id="l20187" name="l20187"></a><span class="lineno">20187</span>        <span class="keywordflow">while</span> (!ancestor_node-&gt;IsVisible &amp;&amp; ancestor_node-&gt;ParentNode)</div>
<div class="line"><a id="l20188" name="l20188"></a><span class="lineno">20188</span>            ancestor_node = ancestor_node-&gt;ParentNode;</div>
<div class="line"><a id="l20189" name="l20189"></a><span class="lineno">20189</span>        IM_ASSERT(ancestor_node-&gt;Size.x &gt; 0.0f &amp;&amp; ancestor_node-&gt;Size.y &gt; 0.0f);</div>
<div class="line"><a id="l20190" name="l20190"></a><span class="lineno">20190</span>        DockNodeUpdateHasCentralNodeChild(DockNodeGetRootNode(ancestor_node));</div>
<div class="line"><a id="l20191" name="l20191"></a><span class="lineno">20191</span>        DockNodeTreeUpdatePosSize(ancestor_node, ancestor_node-&gt;Pos, ancestor_node-&gt;Size, node);</div>
<div class="line"><a id="l20192" name="l20192"></a><span class="lineno">20192</span>    }</div>
<div class="line"><a id="l20193" name="l20193"></a><span class="lineno">20193</span> </div>
<div class="line"><a id="l20194" name="l20194"></a><span class="lineno">20194</span>    <span class="comment">// Add window to node</span></div>
<div class="line"><a id="l20195" name="l20195"></a><span class="lineno">20195</span>    <span class="keywordtype">bool</span> node_was_visible = node-&gt;IsVisible;</div>
<div class="line"><a id="l20196" name="l20196"></a><span class="lineno">20196</span>    DockNodeAddWindow(node, window, <span class="keyword">true</span>);</div>
<div class="line"><a id="l20197" name="l20197"></a><span class="lineno">20197</span>    node-&gt;IsVisible = node_was_visible; <span class="comment">// Don&#39;t mark visible right away (so DockContextEndFrame() doesn&#39;t render it, maybe other side effects? will see)</span></div>
<div class="line"><a id="l20198" name="l20198"></a><span class="lineno">20198</span>    IM_ASSERT(node == window-&gt;DockNode);</div>
<div class="line"><a id="l20199" name="l20199"></a><span class="lineno">20199</span>    <span class="keywordflow">return</span> node;</div>
<div class="line"><a id="l20200" name="l20200"></a><span class="lineno">20200</span>}</div>
<div class="line"><a id="l20201" name="l20201"></a><span class="lineno">20201</span> </div>
<div class="line"><a id="l20202" name="l20202"></a><span class="lineno">20202</span><span class="keyword">static</span> <span class="keywordtype">void</span> StoreDockStyleForWindow(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l20203" name="l20203"></a><span class="lineno">20203</span>{</div>
<div class="line"><a id="l20204" name="l20204"></a><span class="lineno">20204</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l20205" name="l20205"></a><span class="lineno">20205</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> color_n = 0; color_n &lt; ImGuiWindowDockStyleCol_COUNT; color_n++)</div>
<div class="line"><a id="l20206" name="l20206"></a><span class="lineno">20206</span>        window-&gt;DockStyle.Colors[color_n] = ImGui::ColorConvertFloat4ToU32(g.Style.Colors[GWindowDockStyleColors[color_n]]);</div>
<div class="line"><a id="l20207" name="l20207"></a><span class="lineno">20207</span>}</div>
<div class="line"><a id="l20208" name="l20208"></a><span class="lineno">20208</span> </div>
<div class="line"><a id="l20209" name="l20209"></a><span class="lineno">20209</span><span class="keywordtype">void</span> ImGui::BeginDocked(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keywordtype">bool</span>* p_open)</div>
<div class="line"><a id="l20210" name="l20210"></a><span class="lineno">20210</span>{</div>
<div class="line"><a id="l20211" name="l20211"></a><span class="lineno">20211</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l20212" name="l20212"></a><span class="lineno">20212</span> </div>
<div class="line"><a id="l20213" name="l20213"></a><span class="lineno">20213</span>    <span class="comment">// Clear fields ahead so most early-out paths don&#39;t have to do it</span></div>
<div class="line"><a id="l20214" name="l20214"></a><span class="lineno">20214</span>    window-&gt;DockIsActive = window-&gt;DockNodeIsVisible = window-&gt;DockTabIsVisible = <span class="keyword">false</span>;</div>
<div class="line"><a id="l20215" name="l20215"></a><span class="lineno">20215</span> </div>
<div class="line"><a id="l20216" name="l20216"></a><span class="lineno">20216</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> auto_dock_node = GetWindowAlwaysWantOwnTabBar(window);</div>
<div class="line"><a id="l20217" name="l20217"></a><span class="lineno">20217</span>    <span class="keywordflow">if</span> (auto_dock_node)</div>
<div class="line"><a id="l20218" name="l20218"></a><span class="lineno">20218</span>    {</div>
<div class="line"><a id="l20219" name="l20219"></a><span class="lineno">20219</span>        <span class="keywordflow">if</span> (window-&gt;DockId == 0)</div>
<div class="line"><a id="l20220" name="l20220"></a><span class="lineno">20220</span>        {</div>
<div class="line"><a id="l20221" name="l20221"></a><span class="lineno">20221</span>            IM_ASSERT(window-&gt;DockNode == NULL);</div>
<div class="line"><a id="l20222" name="l20222"></a><span class="lineno">20222</span>            window-&gt;DockId = DockContextGenNodeID(&amp;g);</div>
<div class="line"><a id="l20223" name="l20223"></a><span class="lineno">20223</span>        }</div>
<div class="line"><a id="l20224" name="l20224"></a><span class="lineno">20224</span>    }</div>
<div class="line"><a id="l20225" name="l20225"></a><span class="lineno">20225</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l20226" name="l20226"></a><span class="lineno">20226</span>    {</div>
<div class="line"><a id="l20227" name="l20227"></a><span class="lineno">20227</span>        <span class="comment">// Calling SetNextWindowPos() undock windows by default (by setting PosUndock)</span></div>
<div class="line"><a id="l20228" name="l20228"></a><span class="lineno">20228</span>        <span class="keywordtype">bool</span> want_undock = <span class="keyword">false</span>;</div>
<div class="line"><a id="l20229" name="l20229"></a><span class="lineno">20229</span>        want_undock |= (window-&gt;Flags &amp; ImGuiWindowFlags_NoDocking) != 0;</div>
<div class="line"><a id="l20230" name="l20230"></a><span class="lineno">20230</span>        want_undock |= (g.NextWindowData.HasFlags &amp; ImGuiNextWindowDataFlags_HasPos) &amp;&amp; (window-&gt;SetWindowPosAllowFlags &amp; g.NextWindowData.PosCond) &amp;&amp; g.NextWindowData.PosUndock;</div>
<div class="line"><a id="l20231" name="l20231"></a><span class="lineno">20231</span>        <span class="keywordflow">if</span> (want_undock)</div>
<div class="line"><a id="l20232" name="l20232"></a><span class="lineno">20232</span>        {</div>
<div class="line"><a id="l20233" name="l20233"></a><span class="lineno">20233</span>            DockContextProcessUndockWindow(&amp;g, window);</div>
<div class="line"><a id="l20234" name="l20234"></a><span class="lineno">20234</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l20235" name="l20235"></a><span class="lineno">20235</span>        }</div>
<div class="line"><a id="l20236" name="l20236"></a><span class="lineno">20236</span>    }</div>
<div class="line"><a id="l20237" name="l20237"></a><span class="lineno">20237</span> </div>
<div class="line"><a id="l20238" name="l20238"></a><span class="lineno">20238</span>    <span class="comment">// Bind to our dock node</span></div>
<div class="line"><a id="l20239" name="l20239"></a><span class="lineno">20239</span>    <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node = window-&gt;DockNode;</div>
<div class="line"><a id="l20240" name="l20240"></a><span class="lineno">20240</span>    <span class="keywordflow">if</span> (node != NULL)</div>
<div class="line"><a id="l20241" name="l20241"></a><span class="lineno">20241</span>        IM_ASSERT(window-&gt;DockId == node-&gt;ID);</div>
<div class="line"><a id="l20242" name="l20242"></a><span class="lineno">20242</span>    <span class="keywordflow">if</span> (window-&gt;DockId != 0 &amp;&amp; node == NULL)</div>
<div class="line"><a id="l20243" name="l20243"></a><span class="lineno">20243</span>    {</div>
<div class="line"><a id="l20244" name="l20244"></a><span class="lineno">20244</span>        node = DockContextBindNodeToWindow(&amp;g, window);</div>
<div class="line"><a id="l20245" name="l20245"></a><span class="lineno">20245</span>        <span class="keywordflow">if</span> (node == NULL)</div>
<div class="line"><a id="l20246" name="l20246"></a><span class="lineno">20246</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l20247" name="l20247"></a><span class="lineno">20247</span>    }</div>
<div class="line"><a id="l20248" name="l20248"></a><span class="lineno">20248</span> </div>
<div class="line"><a id="l20249" name="l20249"></a><span class="lineno">20249</span><span class="preprocessor">#if 0</span></div>
<div class="line"><a id="l20250" name="l20250"></a><span class="lineno">20250</span>    <span class="comment">// Undock if the ImGuiDockNodeFlags_NoDockingInCentralNode got set</span></div>
<div class="line"><a id="l20251" name="l20251"></a><span class="lineno">20251</span>    <span class="keywordflow">if</span> (node-&gt;IsCentralNode &amp;&amp; (node-&gt;Flags &amp; ImGuiDockNodeFlags_NoDockingInCentralNode))</div>
<div class="line"><a id="l20252" name="l20252"></a><span class="lineno">20252</span>    {</div>
<div class="line"><a id="l20253" name="l20253"></a><span class="lineno">20253</span>        DockContextProcessUndockWindow(ctx, window);</div>
<div class="line"><a id="l20254" name="l20254"></a><span class="lineno">20254</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l20255" name="l20255"></a><span class="lineno">20255</span>    }</div>
<div class="line"><a id="l20256" name="l20256"></a><span class="lineno">20256</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l20257" name="l20257"></a><span class="lineno">20257</span> </div>
<div class="line"><a id="l20258" name="l20258"></a><span class="lineno">20258</span>    <span class="comment">// Undock if our dockspace node disappeared</span></div>
<div class="line"><a id="l20259" name="l20259"></a><span class="lineno">20259</span>    <span class="comment">// Note how we are testing for LastFrameAlive and NOT LastFrameActive. A DockSpace node can be maintained alive while being inactive with ImGuiDockNodeFlags_KeepAliveOnly.</span></div>
<div class="line"><a id="l20260" name="l20260"></a><span class="lineno">20260</span>    <span class="keywordflow">if</span> (node-&gt;LastFrameAlive &lt; g.FrameCount)</div>
<div class="line"><a id="l20261" name="l20261"></a><span class="lineno">20261</span>    {</div>
<div class="line"><a id="l20262" name="l20262"></a><span class="lineno">20262</span>        <span class="comment">// If the window has been orphaned, transition the docknode to an implicit node processed in DockContextNewFrameUpdateDocking()</span></div>
<div class="line"><a id="l20263" name="l20263"></a><span class="lineno">20263</span>        <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* root_node = DockNodeGetRootNode(node);</div>
<div class="line"><a id="l20264" name="l20264"></a><span class="lineno">20264</span>        <span class="keywordflow">if</span> (root_node-&gt;LastFrameAlive &lt; g.FrameCount)</div>
<div class="line"><a id="l20265" name="l20265"></a><span class="lineno">20265</span>            DockContextProcessUndockWindow(&amp;g, window);</div>
<div class="line"><a id="l20266" name="l20266"></a><span class="lineno">20266</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l20267" name="l20267"></a><span class="lineno">20267</span>            window-&gt;DockIsActive = <span class="keyword">true</span>;</div>
<div class="line"><a id="l20268" name="l20268"></a><span class="lineno">20268</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l20269" name="l20269"></a><span class="lineno">20269</span>    }</div>
<div class="line"><a id="l20270" name="l20270"></a><span class="lineno">20270</span> </div>
<div class="line"><a id="l20271" name="l20271"></a><span class="lineno">20271</span>    <span class="comment">// Store style overrides</span></div>
<div class="line"><a id="l20272" name="l20272"></a><span class="lineno">20272</span>    StoreDockStyleForWindow(window);</div>
<div class="line"><a id="l20273" name="l20273"></a><span class="lineno">20273</span> </div>
<div class="line"><a id="l20274" name="l20274"></a><span class="lineno">20274</span>    <span class="comment">// Fast path return. It is common for windows to hold on a persistent DockId but be the only visible window,</span></div>
<div class="line"><a id="l20275" name="l20275"></a><span class="lineno">20275</span>    <span class="comment">// and never create neither a host window neither a tab bar.</span></div>
<div class="line"><a id="l20276" name="l20276"></a><span class="lineno">20276</span>    <span class="comment">// FIXME-DOCK: replace -&gt;HostWindow NULL compare with something more explicit (~was initially intended as a first frame test)</span></div>
<div class="line"><a id="l20277" name="l20277"></a><span class="lineno">20277</span>    <span class="keywordflow">if</span> (node-&gt;HostWindow == NULL)</div>
<div class="line"><a id="l20278" name="l20278"></a><span class="lineno">20278</span>    {</div>
<div class="line"><a id="l20279" name="l20279"></a><span class="lineno">20279</span>        <span class="keywordflow">if</span> (node-&gt;State == ImGuiDockNodeState_HostWindowHiddenBecauseWindowsAreResizing)</div>
<div class="line"><a id="l20280" name="l20280"></a><span class="lineno">20280</span>            window-&gt;DockIsActive = <span class="keyword">true</span>;</div>
<div class="line"><a id="l20281" name="l20281"></a><span class="lineno">20281</span>        <span class="keywordflow">if</span> (node-&gt;Windows.Size &gt; 1 &amp;&amp; window-&gt;Appearing) <span class="comment">// Only hide appearing window</span></div>
<div class="line"><a id="l20282" name="l20282"></a><span class="lineno">20282</span>            DockNodeHideWindowDuringHostWindowCreation(window);</div>
<div class="line"><a id="l20283" name="l20283"></a><span class="lineno">20283</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l20284" name="l20284"></a><span class="lineno">20284</span>    }</div>
<div class="line"><a id="l20285" name="l20285"></a><span class="lineno">20285</span> </div>
<div class="line"><a id="l20286" name="l20286"></a><span class="lineno">20286</span>    <span class="comment">// We can have zero-sized nodes (e.g. children of a small-size dockspace)</span></div>
<div class="line"><a id="l20287" name="l20287"></a><span class="lineno">20287</span>    IM_ASSERT(node-&gt;HostWindow);</div>
<div class="line"><a id="l20288" name="l20288"></a><span class="lineno">20288</span>    IM_ASSERT(node-&gt;IsLeafNode());</div>
<div class="line"><a id="l20289" name="l20289"></a><span class="lineno">20289</span>    IM_ASSERT(node-&gt;Size.x &gt;= 0.0f &amp;&amp; node-&gt;Size.y &gt;= 0.0f);</div>
<div class="line"><a id="l20290" name="l20290"></a><span class="lineno">20290</span>    node-&gt;State = ImGuiDockNodeState_HostWindowVisible;</div>
<div class="line"><a id="l20291" name="l20291"></a><span class="lineno">20291</span> </div>
<div class="line"><a id="l20292" name="l20292"></a><span class="lineno">20292</span>    <span class="comment">// Undock if we are submitted earlier than the host window</span></div>
<div class="line"><a id="l20293" name="l20293"></a><span class="lineno">20293</span>    <span class="keywordflow">if</span> (!(node-&gt;MergedFlags &amp; ImGuiDockNodeFlags_KeepAliveOnly) &amp;&amp; window-&gt;BeginOrderWithinContext &lt; node-&gt;HostWindow-&gt;BeginOrderWithinContext)</div>
<div class="line"><a id="l20294" name="l20294"></a><span class="lineno">20294</span>    {</div>
<div class="line"><a id="l20295" name="l20295"></a><span class="lineno">20295</span>        DockContextProcessUndockWindow(&amp;g, window);</div>
<div class="line"><a id="l20296" name="l20296"></a><span class="lineno">20296</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l20297" name="l20297"></a><span class="lineno">20297</span>    }</div>
<div class="line"><a id="l20298" name="l20298"></a><span class="lineno">20298</span> </div>
<div class="line"><a id="l20299" name="l20299"></a><span class="lineno">20299</span>    <span class="comment">// Position/Size window</span></div>
<div class="line"><a id="l20300" name="l20300"></a><span class="lineno">20300</span>    SetNextWindowPos(node-&gt;Pos);</div>
<div class="line"><a id="l20301" name="l20301"></a><span class="lineno">20301</span>    SetNextWindowSize(node-&gt;Size);</div>
<div class="line"><a id="l20302" name="l20302"></a><span class="lineno">20302</span>    g.NextWindowData.PosUndock = <span class="keyword">false</span>; <span class="comment">// Cancel implicit undocking of SetNextWindowPos()</span></div>
<div class="line"><a id="l20303" name="l20303"></a><span class="lineno">20303</span>    window-&gt;DockIsActive = <span class="keyword">true</span>;</div>
<div class="line"><a id="l20304" name="l20304"></a><span class="lineno">20304</span>    window-&gt;DockNodeIsVisible = <span class="keyword">true</span>;</div>
<div class="line"><a id="l20305" name="l20305"></a><span class="lineno">20305</span>    window-&gt;DockTabIsVisible = <span class="keyword">false</span>;</div>
<div class="line"><a id="l20306" name="l20306"></a><span class="lineno">20306</span>    <span class="keywordflow">if</span> (node-&gt;MergedFlags &amp; ImGuiDockNodeFlags_KeepAliveOnly)</div>
<div class="line"><a id="l20307" name="l20307"></a><span class="lineno">20307</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l20308" name="l20308"></a><span class="lineno">20308</span> </div>
<div class="line"><a id="l20309" name="l20309"></a><span class="lineno">20309</span>    <span class="comment">// When the window is selected we mark it as visible.</span></div>
<div class="line"><a id="l20310" name="l20310"></a><span class="lineno">20310</span>    <span class="keywordflow">if</span> (node-&gt;VisibleWindow == window)</div>
<div class="line"><a id="l20311" name="l20311"></a><span class="lineno">20311</span>        window-&gt;DockTabIsVisible = <span class="keyword">true</span>;</div>
<div class="line"><a id="l20312" name="l20312"></a><span class="lineno">20312</span> </div>
<div class="line"><a id="l20313" name="l20313"></a><span class="lineno">20313</span>    <span class="comment">// Update window flag</span></div>
<div class="line"><a id="l20314" name="l20314"></a><span class="lineno">20314</span>    IM_ASSERT((window-&gt;Flags &amp; ImGuiWindowFlags_ChildWindow) == 0);</div>
<div class="line"><a id="l20315" name="l20315"></a><span class="lineno">20315</span>    window-&gt;Flags |= ImGuiWindowFlags_ChildWindow | ImGuiWindowFlags_NoResize;</div>
<div class="line"><a id="l20316" name="l20316"></a><span class="lineno">20316</span>    window-&gt;ChildFlags |= ImGuiChildFlags_AlwaysUseWindowPadding;</div>
<div class="line"><a id="l20317" name="l20317"></a><span class="lineno">20317</span>    <span class="keywordflow">if</span> (node-&gt;IsHiddenTabBar() || node-&gt;IsNoTabBar())</div>
<div class="line"><a id="l20318" name="l20318"></a><span class="lineno">20318</span>        window-&gt;Flags |= ImGuiWindowFlags_NoTitleBar;</div>
<div class="line"><a id="l20319" name="l20319"></a><span class="lineno">20319</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l20320" name="l20320"></a><span class="lineno">20320</span>        window-&gt;Flags &amp;= ~ImGuiWindowFlags_NoTitleBar;      <span class="comment">// Clear the NoTitleBar flag in case the user set it: confusingly enough we need a title bar height so we are correctly offset, but it won&#39;t be displayed!</span></div>
<div class="line"><a id="l20321" name="l20321"></a><span class="lineno">20321</span> </div>
<div class="line"><a id="l20322" name="l20322"></a><span class="lineno">20322</span>    <span class="comment">// Save new dock order only if the window has been visible once already</span></div>
<div class="line"><a id="l20323" name="l20323"></a><span class="lineno">20323</span>    <span class="comment">// This allows multiple windows to be created in the same frame and have their respective dock orders preserved.</span></div>
<div class="line"><a id="l20324" name="l20324"></a><span class="lineno">20324</span>    <span class="keywordflow">if</span> (node-&gt;TabBar &amp;&amp; window-&gt;WasActive)</div>
<div class="line"><a id="l20325" name="l20325"></a><span class="lineno">20325</span>        window-&gt;DockOrder = (short)DockNodeGetTabOrder(window);</div>
<div class="line"><a id="l20326" name="l20326"></a><span class="lineno">20326</span> </div>
<div class="line"><a id="l20327" name="l20327"></a><span class="lineno">20327</span>    <span class="keywordflow">if</span> ((node-&gt;WantCloseAll || node-&gt;WantCloseTabId == window-&gt;TabId) &amp;&amp; p_open != NULL)</div>
<div class="line"><a id="l20328" name="l20328"></a><span class="lineno">20328</span>        *p_open = <span class="keyword">false</span>;</div>
<div class="line"><a id="l20329" name="l20329"></a><span class="lineno">20329</span> </div>
<div class="line"><a id="l20330" name="l20330"></a><span class="lineno">20330</span>    <span class="comment">// Update ChildId to allow returning from Child to Parent with Escape</span></div>
<div class="line"><a id="l20331" name="l20331"></a><span class="lineno">20331</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* parent_window = window-&gt;DockNode-&gt;HostWindow;</div>
<div class="line"><a id="l20332" name="l20332"></a><span class="lineno">20332</span>    window-&gt;ChildId = parent_window-&gt;GetID(window-&gt;Name);</div>
<div class="line"><a id="l20333" name="l20333"></a><span class="lineno">20333</span>}</div>
<div class="line"><a id="l20334" name="l20334"></a><span class="lineno">20334</span> </div>
<div class="line"><a id="l20335" name="l20335"></a><span class="lineno">20335</span><span class="keywordtype">void</span> ImGui::BeginDockableDragDropSource(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l20336" name="l20336"></a><span class="lineno">20336</span>{</div>
<div class="line"><a id="l20337" name="l20337"></a><span class="lineno">20337</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l20338" name="l20338"></a><span class="lineno">20338</span>    IM_ASSERT(g.ActiveId == window-&gt;MoveId);</div>
<div class="line"><a id="l20339" name="l20339"></a><span class="lineno">20339</span>    IM_ASSERT(g.MovingWindow == window);</div>
<div class="line"><a id="l20340" name="l20340"></a><span class="lineno">20340</span>    IM_ASSERT(g.CurrentWindow == window);</div>
<div class="line"><a id="l20341" name="l20341"></a><span class="lineno">20341</span> </div>
<div class="line"><a id="l20342" name="l20342"></a><span class="lineno">20342</span>    <span class="comment">// 0: Hold SHIFT to disable docking, 1: Hold SHIFT to enable docking.</span></div>
<div class="line"><a id="l20343" name="l20343"></a><span class="lineno">20343</span>    <span class="keywordflow">if</span> (g.IO.ConfigDockingWithShift != g.IO.KeyShift)</div>
<div class="line"><a id="l20344" name="l20344"></a><span class="lineno">20344</span>    {</div>
<div class="line"><a id="l20345" name="l20345"></a><span class="lineno">20345</span>        <span class="comment">// When ConfigDockingWithShift is set, display a tooltip to increase UI affordance.</span></div>
<div class="line"><a id="l20346" name="l20346"></a><span class="lineno">20346</span>        <span class="comment">// We cannot set for HoveredWindowUnderMovingWindow != NULL here, as it is only valid/useful when drag and drop is already active</span></div>
<div class="line"><a id="l20347" name="l20347"></a><span class="lineno">20347</span>        <span class="comment">// (because of the &#39;is_mouse_dragging_with_an_expected_destination&#39; logic in UpdateViewportsNewFrame() function)</span></div>
<div class="line"><a id="l20348" name="l20348"></a><span class="lineno">20348</span>        IM_ASSERT(g.NextWindowData.HasFlags == 0);</div>
<div class="line"><a id="l20349" name="l20349"></a><span class="lineno">20349</span>        <span class="keywordflow">if</span> (g.IO.ConfigDockingWithShift &amp;&amp; g.MouseStationaryTimer &gt;= 1.0f &amp;&amp; g.ActiveId &gt;= 1.0f)</div>
<div class="line"><a id="l20350" name="l20350"></a><span class="lineno">20350</span>            SetTooltip(<span class="stringliteral">&quot;%s&quot;</span>, LocalizeGetMsg(ImGuiLocKey_DockingHoldShiftToDock));</div>
<div class="line"><a id="l20351" name="l20351"></a><span class="lineno">20351</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l20352" name="l20352"></a><span class="lineno">20352</span>    }</div>
<div class="line"><a id="l20353" name="l20353"></a><span class="lineno">20353</span> </div>
<div class="line"><a id="l20354" name="l20354"></a><span class="lineno">20354</span>    g.LastItemData.ID = window-&gt;MoveId;</div>
<div class="line"><a id="l20355" name="l20355"></a><span class="lineno">20355</span>    window = window-&gt;RootWindowDockTree;</div>
<div class="line"><a id="l20356" name="l20356"></a><span class="lineno">20356</span>    IM_ASSERT((window-&gt;Flags &amp; ImGuiWindowFlags_NoDocking) == 0);</div>
<div class="line"><a id="l20357" name="l20357"></a><span class="lineno">20357</span>    <span class="keywordtype">bool</span> is_drag_docking = (g.IO.ConfigDockingWithShift) || <a class="code hl_struct" href="structImRect.html">ImRect</a>(0, 0, window-&gt;SizeFull.x, GetFrameHeight()).Contains(g.ActiveIdClickOffset); <span class="comment">// FIXME-DOCKING: Need to make this stateful and explicit</span></div>
<div class="line"><a id="l20358" name="l20358"></a><span class="lineno">20358</span>    ImGuiDragDropFlags drag_drop_flags = ImGuiDragDropFlags_SourceNoPreviewTooltip | ImGuiDragDropFlags_SourceNoHoldToOpenOthers | ImGuiDragDropFlags_PayloadAutoExpire | ImGuiDragDropFlags_PayloadNoCrossContext | ImGuiDragDropFlags_PayloadNoCrossProcess;</div>
<div class="line"><a id="l20359" name="l20359"></a><span class="lineno">20359</span>    <span class="keywordflow">if</span> (is_drag_docking &amp;&amp; BeginDragDropSource(drag_drop_flags))</div>
<div class="line"><a id="l20360" name="l20360"></a><span class="lineno">20360</span>    {</div>
<div class="line"><a id="l20361" name="l20361"></a><span class="lineno">20361</span>        SetDragDropPayload(IMGUI_PAYLOAD_TYPE_WINDOW, &amp;window, <span class="keyword">sizeof</span>(window));</div>
<div class="line"><a id="l20362" name="l20362"></a><span class="lineno">20362</span>        EndDragDropSource();</div>
<div class="line"><a id="l20363" name="l20363"></a><span class="lineno">20363</span>        StoreDockStyleForWindow(window); <span class="comment">// Store style overrides while dragging (even when not docked) because docking preview may need it.</span></div>
<div class="line"><a id="l20364" name="l20364"></a><span class="lineno">20364</span>    }</div>
<div class="line"><a id="l20365" name="l20365"></a><span class="lineno">20365</span>}</div>
<div class="line"><a id="l20366" name="l20366"></a><span class="lineno">20366</span> </div>
<div class="line"><a id="l20367" name="l20367"></a><span class="lineno">20367</span><span class="keywordtype">void</span> ImGui::BeginDockableDragDropTarget(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window)</div>
<div class="line"><a id="l20368" name="l20368"></a><span class="lineno">20368</span>{</div>
<div class="line"><a id="l20369" name="l20369"></a><span class="lineno">20369</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l20370" name="l20370"></a><span class="lineno">20370</span> </div>
<div class="line"><a id="l20371" name="l20371"></a><span class="lineno">20371</span>    <span class="comment">//IM_ASSERT(window-&gt;RootWindowDockTree == window); // May also be a DockSpace</span></div>
<div class="line"><a id="l20372" name="l20372"></a><span class="lineno">20372</span>    IM_ASSERT((window-&gt;Flags &amp; ImGuiWindowFlags_NoDocking) == 0);</div>
<div class="line"><a id="l20373" name="l20373"></a><span class="lineno">20373</span>    <span class="keywordflow">if</span> (!g.DragDropActive)</div>
<div class="line"><a id="l20374" name="l20374"></a><span class="lineno">20374</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l20375" name="l20375"></a><span class="lineno">20375</span>    <span class="comment">//GetForegroundDrawList(window)-&gt;AddRect(window-&gt;Pos, window-&gt;Pos + window-&gt;Size, IM_COL32(255, 255, 0, 255));</span></div>
<div class="line"><a id="l20376" name="l20376"></a><span class="lineno">20376</span>    <span class="keywordflow">if</span> (!BeginDragDropTargetCustom(window-&gt;Rect(), window-&gt;ID))</div>
<div class="line"><a id="l20377" name="l20377"></a><span class="lineno">20377</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l20378" name="l20378"></a><span class="lineno">20378</span> </div>
<div class="line"><a id="l20379" name="l20379"></a><span class="lineno">20379</span>    <span class="comment">// Peek into the payload before calling AcceptDragDropPayload() so we can handle overlapping dock nodes with filtering</span></div>
<div class="line"><a id="l20380" name="l20380"></a><span class="lineno">20380</span>    <span class="comment">// (this is a little unusual pattern, normally most code would call AcceptDragDropPayload directly)</span></div>
<div class="line"><a id="l20381" name="l20381"></a><span class="lineno">20381</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiPayload.html">ImGuiPayload</a>* payload = &amp;g.DragDropPayload;</div>
<div class="line"><a id="l20382" name="l20382"></a><span class="lineno">20382</span>    <span class="keywordflow">if</span> (!payload-&gt;IsDataType(IMGUI_PAYLOAD_TYPE_WINDOW) || !DockNodeIsDropAllowed(window, *(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>**)payload-&gt;Data))</div>
<div class="line"><a id="l20383" name="l20383"></a><span class="lineno">20383</span>    {</div>
<div class="line"><a id="l20384" name="l20384"></a><span class="lineno">20384</span>        EndDragDropTarget();</div>
<div class="line"><a id="l20385" name="l20385"></a><span class="lineno">20385</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l20386" name="l20386"></a><span class="lineno">20386</span>    }</div>
<div class="line"><a id="l20387" name="l20387"></a><span class="lineno">20387</span> </div>
<div class="line"><a id="l20388" name="l20388"></a><span class="lineno">20388</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* payload_window = *(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>**)payload-&gt;Data;</div>
<div class="line"><a id="l20389" name="l20389"></a><span class="lineno">20389</span>    <span class="keywordflow">if</span> (AcceptDragDropPayload(IMGUI_PAYLOAD_TYPE_WINDOW, ImGuiDragDropFlags_AcceptBeforeDelivery | ImGuiDragDropFlags_AcceptNoDrawDefaultRect))</div>
<div class="line"><a id="l20390" name="l20390"></a><span class="lineno">20390</span>    {</div>
<div class="line"><a id="l20391" name="l20391"></a><span class="lineno">20391</span>        <span class="comment">// Select target node</span></div>
<div class="line"><a id="l20392" name="l20392"></a><span class="lineno">20392</span>        <span class="comment">// (Important: we cannot use g.HoveredDockNode here! Because each of our target node have filters based on payload, each candidate drop target will do its own evaluation)</span></div>
<div class="line"><a id="l20393" name="l20393"></a><span class="lineno">20393</span>        <span class="keywordtype">bool</span> dock_into_floating_window = <span class="keyword">false</span>;</div>
<div class="line"><a id="l20394" name="l20394"></a><span class="lineno">20394</span>        <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node = NULL;</div>
<div class="line"><a id="l20395" name="l20395"></a><span class="lineno">20395</span>        <span class="keywordflow">if</span> (window-&gt;DockNodeAsHost)</div>
<div class="line"><a id="l20396" name="l20396"></a><span class="lineno">20396</span>        {</div>
<div class="line"><a id="l20397" name="l20397"></a><span class="lineno">20397</span>            <span class="comment">// Cannot assume that node will != NULL even though we passed the rectangle test: it depends on padding/spacing handled by DockNodeTreeFindVisibleNodeByPos().</span></div>
<div class="line"><a id="l20398" name="l20398"></a><span class="lineno">20398</span>            node = DockNodeTreeFindVisibleNodeByPos(window-&gt;DockNodeAsHost, g.IO.MousePos);</div>
<div class="line"><a id="l20399" name="l20399"></a><span class="lineno">20399</span> </div>
<div class="line"><a id="l20400" name="l20400"></a><span class="lineno">20400</span>            <span class="comment">// There is an edge case when docking into a dockspace which only has _inactive_ nodes (because none of the windows are active)</span></div>
<div class="line"><a id="l20401" name="l20401"></a><span class="lineno">20401</span>            <span class="comment">// In this case we need to fallback into any leaf mode, possibly the central node.</span></div>
<div class="line"><a id="l20402" name="l20402"></a><span class="lineno">20402</span>            <span class="comment">// FIXME-20181220: We should not have to test for IsLeafNode() here but we have another bug to fix first.</span></div>
<div class="line"><a id="l20403" name="l20403"></a><span class="lineno">20403</span>            <span class="keywordflow">if</span> (node &amp;&amp; node-&gt;IsDockSpace() &amp;&amp; node-&gt;IsRootNode())</div>
<div class="line"><a id="l20404" name="l20404"></a><span class="lineno">20404</span>                node = (node-&gt;CentralNode &amp;&amp; node-&gt;IsLeafNode()) ? node-&gt;CentralNode : DockNodeTreeFindFallbackLeafNode(node);</div>
<div class="line"><a id="l20405" name="l20405"></a><span class="lineno">20405</span>        }</div>
<div class="line"><a id="l20406" name="l20406"></a><span class="lineno">20406</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l20407" name="l20407"></a><span class="lineno">20407</span>        {</div>
<div class="line"><a id="l20408" name="l20408"></a><span class="lineno">20408</span>            <span class="keywordflow">if</span> (window-&gt;DockNode)</div>
<div class="line"><a id="l20409" name="l20409"></a><span class="lineno">20409</span>                node = window-&gt;DockNode;</div>
<div class="line"><a id="l20410" name="l20410"></a><span class="lineno">20410</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l20411" name="l20411"></a><span class="lineno">20411</span>                dock_into_floating_window = <span class="keyword">true</span>; <span class="comment">// Dock into a regular window</span></div>
<div class="line"><a id="l20412" name="l20412"></a><span class="lineno">20412</span>        }</div>
<div class="line"><a id="l20413" name="l20413"></a><span class="lineno">20413</span> </div>
<div class="line"><a id="l20414" name="l20414"></a><span class="lineno">20414</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a> explicit_target_rect = (node &amp;&amp; node-&gt;TabBar &amp;&amp; !node-&gt;IsHiddenTabBar() &amp;&amp; !node-&gt;IsNoTabBar()) ? node-&gt;TabBar-&gt;BarRect : <a class="code hl_struct" href="structImRect.html">ImRect</a>(window-&gt;Pos, window-&gt;Pos + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(window-&gt;Size.x, GetFrameHeight()));</div>
<div class="line"><a id="l20415" name="l20415"></a><span class="lineno">20415</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_explicit_target = g.IO.ConfigDockingWithShift || IsMouseHoveringRect(explicit_target_rect.Min, explicit_target_rect.Max);</div>
<div class="line"><a id="l20416" name="l20416"></a><span class="lineno">20416</span> </div>
<div class="line"><a id="l20417" name="l20417"></a><span class="lineno">20417</span>        <span class="comment">// Preview docking request and find out split direction/ratio</span></div>
<div class="line"><a id="l20418" name="l20418"></a><span class="lineno">20418</span>        <span class="comment">//const bool do_preview = true;     // Ignore testing for payload-&gt;IsPreview() which removes one frame of delay, but breaks overlapping drop targets within the same window.</span></div>
<div class="line"><a id="l20419" name="l20419"></a><span class="lineno">20419</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> do_preview = payload-&gt;IsPreview() || payload-&gt;IsDelivery();</div>
<div class="line"><a id="l20420" name="l20420"></a><span class="lineno">20420</span>        <span class="keywordflow">if</span> (do_preview &amp;&amp; (node != NULL || dock_into_floating_window))</div>
<div class="line"><a id="l20421" name="l20421"></a><span class="lineno">20421</span>        {</div>
<div class="line"><a id="l20422" name="l20422"></a><span class="lineno">20422</span>            <span class="comment">// If we have a non-leaf node it means we are hovering the border of a parent node, in which case only outer markers will appear.</span></div>
<div class="line"><a id="l20423" name="l20423"></a><span class="lineno">20423</span>            <a class="code hl_struct" href="structImGuiDockPreviewData.html">ImGuiDockPreviewData</a> split_inner;</div>
<div class="line"><a id="l20424" name="l20424"></a><span class="lineno">20424</span>            <a class="code hl_struct" href="structImGuiDockPreviewData.html">ImGuiDockPreviewData</a> split_outer;</div>
<div class="line"><a id="l20425" name="l20425"></a><span class="lineno">20425</span>            <a class="code hl_struct" href="structImGuiDockPreviewData.html">ImGuiDockPreviewData</a>* split_data = &amp;split_inner;</div>
<div class="line"><a id="l20426" name="l20426"></a><span class="lineno">20426</span>            <span class="keywordflow">if</span> (node &amp;&amp; (node-&gt;ParentNode || node-&gt;IsCentralNode() || !node-&gt;IsLeafNode()))</div>
<div class="line"><a id="l20427" name="l20427"></a><span class="lineno">20427</span>                <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* root_node = DockNodeGetRootNode(node))</div>
<div class="line"><a id="l20428" name="l20428"></a><span class="lineno">20428</span>                {</div>
<div class="line"><a id="l20429" name="l20429"></a><span class="lineno">20429</span>                    DockNodePreviewDockSetup(window, root_node, payload_window, NULL, &amp;split_outer, is_explicit_target, <span class="keyword">true</span>);</div>
<div class="line"><a id="l20430" name="l20430"></a><span class="lineno">20430</span>                    <span class="keywordflow">if</span> (split_outer.IsSplitDirExplicit)</div>
<div class="line"><a id="l20431" name="l20431"></a><span class="lineno">20431</span>                        split_data = &amp;split_outer;</div>
<div class="line"><a id="l20432" name="l20432"></a><span class="lineno">20432</span>                }</div>
<div class="line"><a id="l20433" name="l20433"></a><span class="lineno">20433</span>            <span class="keywordflow">if</span> (!node || node-&gt;IsLeafNode())</div>
<div class="line"><a id="l20434" name="l20434"></a><span class="lineno">20434</span>                DockNodePreviewDockSetup(window, node, payload_window, NULL, &amp;split_inner, is_explicit_target, <span class="keyword">false</span>);</div>
<div class="line"><a id="l20435" name="l20435"></a><span class="lineno">20435</span>            <span class="keywordflow">if</span> (split_data == &amp;split_outer)</div>
<div class="line"><a id="l20436" name="l20436"></a><span class="lineno">20436</span>                split_inner.IsDropAllowed = <span class="keyword">false</span>;</div>
<div class="line"><a id="l20437" name="l20437"></a><span class="lineno">20437</span> </div>
<div class="line"><a id="l20438" name="l20438"></a><span class="lineno">20438</span>            <span class="comment">// Draw inner then outer, so that previewed tab (in inner data) will be behind the outer drop boxes</span></div>
<div class="line"><a id="l20439" name="l20439"></a><span class="lineno">20439</span>            DockNodePreviewDockRender(window, node, payload_window, &amp;split_inner);</div>
<div class="line"><a id="l20440" name="l20440"></a><span class="lineno">20440</span>            DockNodePreviewDockRender(window, node, payload_window, &amp;split_outer);</div>
<div class="line"><a id="l20441" name="l20441"></a><span class="lineno">20441</span> </div>
<div class="line"><a id="l20442" name="l20442"></a><span class="lineno">20442</span>            <span class="comment">// Queue docking request</span></div>
<div class="line"><a id="l20443" name="l20443"></a><span class="lineno">20443</span>            <span class="keywordflow">if</span> (split_data-&gt;IsDropAllowed &amp;&amp; payload-&gt;IsDelivery())</div>
<div class="line"><a id="l20444" name="l20444"></a><span class="lineno">20444</span>                DockContextQueueDock(&amp;g, window, split_data-&gt;SplitNode, payload_window, split_data-&gt;SplitDir, split_data-&gt;SplitRatio, split_data == &amp;split_outer);</div>
<div class="line"><a id="l20445" name="l20445"></a><span class="lineno">20445</span>        }</div>
<div class="line"><a id="l20446" name="l20446"></a><span class="lineno">20446</span>    }</div>
<div class="line"><a id="l20447" name="l20447"></a><span class="lineno">20447</span>    EndDragDropTarget();</div>
<div class="line"><a id="l20448" name="l20448"></a><span class="lineno">20448</span>}</div>
<div class="line"><a id="l20449" name="l20449"></a><span class="lineno">20449</span> </div>
<div class="line"><a id="l20450" name="l20450"></a><span class="lineno">20450</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l20451" name="l20451"></a><span class="lineno">20451</span><span class="comment">// Docking: Settings</span></div>
<div class="line"><a id="l20452" name="l20452"></a><span class="lineno">20452</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l20453" name="l20453"></a><span class="lineno">20453</span><span class="comment">// - DockSettingsRenameNodeReferences()</span></div>
<div class="line"><a id="l20454" name="l20454"></a><span class="lineno">20454</span><span class="comment">// - DockSettingsRemoveNodeReferences()</span></div>
<div class="line"><a id="l20455" name="l20455"></a><span class="lineno">20455</span><span class="comment">// - DockSettingsFindNodeSettings()</span></div>
<div class="line"><a id="l20456" name="l20456"></a><span class="lineno">20456</span><span class="comment">// - DockSettingsHandler_ApplyAll()</span></div>
<div class="line"><a id="l20457" name="l20457"></a><span class="lineno">20457</span><span class="comment">// - DockSettingsHandler_ReadOpen()</span></div>
<div class="line"><a id="l20458" name="l20458"></a><span class="lineno">20458</span><span class="comment">// - DockSettingsHandler_ReadLine()</span></div>
<div class="line"><a id="l20459" name="l20459"></a><span class="lineno">20459</span><span class="comment">// - DockSettingsHandler_DockNodeToSettings()</span></div>
<div class="line"><a id="l20460" name="l20460"></a><span class="lineno">20460</span><span class="comment">// - DockSettingsHandler_WriteAll()</span></div>
<div class="line"><a id="l20461" name="l20461"></a><span class="lineno">20461</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l20462" name="l20462"></a><span class="lineno">20462</span> </div>
<div class="line"><a id="l20463" name="l20463"></a><span class="lineno">20463</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::DockSettingsRenameNodeReferences(ImGuiID old_node_id, ImGuiID new_node_id)</div>
<div class="line"><a id="l20464" name="l20464"></a><span class="lineno">20464</span>{</div>
<div class="line"><a id="l20465" name="l20465"></a><span class="lineno">20465</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l20466" name="l20466"></a><span class="lineno">20466</span>    IMGUI_DEBUG_LOG_DOCKING(<span class="stringliteral">&quot;[docking] DockSettingsRenameNodeReferences: from 0x%08X -&gt; to 0x%08X\n&quot;</span>, old_node_id, new_node_id);</div>
<div class="line"><a id="l20467" name="l20467"></a><span class="lineno">20467</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> window_n = 0; window_n &lt; g.Windows.Size; window_n++)</div>
<div class="line"><a id="l20468" name="l20468"></a><span class="lineno">20468</span>    {</div>
<div class="line"><a id="l20469" name="l20469"></a><span class="lineno">20469</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.Windows[window_n];</div>
<div class="line"><a id="l20470" name="l20470"></a><span class="lineno">20470</span>        <span class="keywordflow">if</span> (window-&gt;DockId == old_node_id &amp;&amp; window-&gt;DockNode == NULL)</div>
<div class="line"><a id="l20471" name="l20471"></a><span class="lineno">20471</span>            window-&gt;DockId = new_node_id;</div>
<div class="line"><a id="l20472" name="l20472"></a><span class="lineno">20472</span>    }</div>
<div class="line"><a id="l20474" name="l20474"></a><span class="lineno">20474</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>* settings = g.SettingsWindows.begin(); settings != NULL; settings = g.SettingsWindows.next_chunk(settings))</div>
<div class="line"><a id="l20475" name="l20475"></a><span class="lineno">20475</span>        <span class="keywordflow">if</span> (settings-&gt;DockId == old_node_id)</div>
<div class="line"><a id="l20476" name="l20476"></a><span class="lineno">20476</span>            settings-&gt;DockId = new_node_id;</div>
<div class="line"><a id="l20477" name="l20477"></a><span class="lineno">20477</span>}</div>
<div class="line"><a id="l20478" name="l20478"></a><span class="lineno">20478</span> </div>
<div class="line"><a id="l20479" name="l20479"></a><span class="lineno">20479</span><span class="comment">// Remove references stored in ImGuiWindowSettings to the given ImGuiDockNodeSettings</span></div>
<div class="line"><a id="l20480" name="l20480"></a><span class="lineno">20480</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::DockSettingsRemoveNodeReferences(ImGuiID* node_ids, <span class="keywordtype">int</span> node_ids_count)</div>
<div class="line"><a id="l20481" name="l20481"></a><span class="lineno">20481</span>{</div>
<div class="line"><a id="l20482" name="l20482"></a><span class="lineno">20482</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l20483" name="l20483"></a><span class="lineno">20483</span>    <span class="keywordtype">int</span> found = 0;</div>
<div class="line"><a id="l20485" name="l20485"></a><span class="lineno">20485</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>* settings = g.SettingsWindows.begin(); settings != NULL; settings = g.SettingsWindows.next_chunk(settings))</div>
<div class="line"><a id="l20486" name="l20486"></a><span class="lineno">20486</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> node_n = 0; node_n &lt; node_ids_count; node_n++)</div>
<div class="line"><a id="l20487" name="l20487"></a><span class="lineno">20487</span>            <span class="keywordflow">if</span> (settings-&gt;DockId == node_ids[node_n])</div>
<div class="line"><a id="l20488" name="l20488"></a><span class="lineno">20488</span>            {</div>
<div class="line"><a id="l20489" name="l20489"></a><span class="lineno">20489</span>                settings-&gt;DockId = 0;</div>
<div class="line"><a id="l20490" name="l20490"></a><span class="lineno">20490</span>                settings-&gt;DockOrder = -1;</div>
<div class="line"><a id="l20491" name="l20491"></a><span class="lineno">20491</span>                <span class="keywordflow">if</span> (++found &lt; node_ids_count)</div>
<div class="line"><a id="l20492" name="l20492"></a><span class="lineno">20492</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l20493" name="l20493"></a><span class="lineno">20493</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l20494" name="l20494"></a><span class="lineno">20494</span>            }</div>
<div class="line"><a id="l20495" name="l20495"></a><span class="lineno">20495</span>}</div>
<div class="line"><a id="l20496" name="l20496"></a><span class="lineno">20496</span> </div>
<div class="line"><a id="l20497" name="l20497"></a><span class="lineno">20497</span><span class="keyword">static</span> <a class="code hl_struct" href="structImGuiDockNodeSettings.html">ImGuiDockNodeSettings</a>* ImGui::DockSettingsFindNodeSettings(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, ImGuiID <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l20498" name="l20498"></a><span class="lineno">20498</span>{</div>
<div class="line"><a id="l20499" name="l20499"></a><span class="lineno">20499</span>    <span class="comment">// FIXME-OPT</span></div>
<div class="line"><a id="l20500" name="l20500"></a><span class="lineno">20500</span>    <a class="code hl_struct" href="structImGuiDockContext.html">ImGuiDockContext</a>* dc = &amp;ctx-&gt;DockContext;</div>
<div class="line"><a id="l20501" name="l20501"></a><span class="lineno">20501</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; dc-&gt;NodesSettings.Size; n++)</div>
<div class="line"><a id="l20502" name="l20502"></a><span class="lineno">20502</span>        <span class="keywordflow">if</span> (dc-&gt;NodesSettings[n].ID == <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l20503" name="l20503"></a><span class="lineno">20503</span>            <span class="keywordflow">return</span> &amp;dc-&gt;NodesSettings[n];</div>
<div class="line"><a id="l20504" name="l20504"></a><span class="lineno">20504</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l20505" name="l20505"></a><span class="lineno">20505</span>}</div>
<div class="line"><a id="l20506" name="l20506"></a><span class="lineno">20506</span> </div>
<div class="line"><a id="l20507" name="l20507"></a><span class="lineno">20507</span><span class="comment">// Clear settings data</span></div>
<div class="line"><a id="l20508" name="l20508"></a><span class="lineno">20508</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::DockSettingsHandler_ClearAll(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <a class="code hl_struct" href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a>*)</div>
<div class="line"><a id="l20509" name="l20509"></a><span class="lineno">20509</span>{</div>
<div class="line"><a id="l20510" name="l20510"></a><span class="lineno">20510</span>    <a class="code hl_struct" href="structImGuiDockContext.html">ImGuiDockContext</a>* dc = &amp;ctx-&gt;DockContext;</div>
<div class="line"><a id="l20511" name="l20511"></a><span class="lineno">20511</span>    dc-&gt;NodesSettings.clear();</div>
<div class="line"><a id="l20512" name="l20512"></a><span class="lineno">20512</span>    DockContextClearNodes(ctx, 0, <span class="keyword">true</span>);</div>
<div class="line"><a id="l20513" name="l20513"></a><span class="lineno">20513</span>}</div>
<div class="line"><a id="l20514" name="l20514"></a><span class="lineno">20514</span> </div>
<div class="line"><a id="l20515" name="l20515"></a><span class="lineno">20515</span><span class="comment">// Recreate nodes based on settings data</span></div>
<div class="line"><a id="l20516" name="l20516"></a><span class="lineno">20516</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::DockSettingsHandler_ApplyAll(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <a class="code hl_struct" href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a>*)</div>
<div class="line"><a id="l20517" name="l20517"></a><span class="lineno">20517</span>{</div>
<div class="line"><a id="l20518" name="l20518"></a><span class="lineno">20518</span>    <span class="comment">// Prune settings at boot time only</span></div>
<div class="line"><a id="l20519" name="l20519"></a><span class="lineno">20519</span>    <a class="code hl_struct" href="structImGuiDockContext.html">ImGuiDockContext</a>* dc = &amp;ctx-&gt;DockContext;</div>
<div class="line"><a id="l20520" name="l20520"></a><span class="lineno">20520</span>    <span class="keywordflow">if</span> (ctx-&gt;Windows.Size == 0)</div>
<div class="line"><a id="l20521" name="l20521"></a><span class="lineno">20521</span>        DockContextPruneUnusedSettingsNodes(ctx);</div>
<div class="line"><a id="l20522" name="l20522"></a><span class="lineno">20522</span>    DockContextBuildNodesFromSettings(ctx, dc-&gt;NodesSettings.Data, dc-&gt;NodesSettings.Size);</div>
<div class="line"><a id="l20523" name="l20523"></a><span class="lineno">20523</span>    DockContextBuildAddWindowsToNodes(ctx, 0);</div>
<div class="line"><a id="l20524" name="l20524"></a><span class="lineno">20524</span>}</div>
<div class="line"><a id="l20525" name="l20525"></a><span class="lineno">20525</span> </div>
<div class="line"><a id="l20526" name="l20526"></a><span class="lineno">20526</span><span class="keyword">static</span> <span class="keywordtype">void</span>* ImGui::DockSettingsHandler_ReadOpen(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>*, <a class="code hl_struct" href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a>*, <span class="keyword">const</span> <span class="keywordtype">char</span>* name)</div>
<div class="line"><a id="l20527" name="l20527"></a><span class="lineno">20527</span>{</div>
<div class="line"><a id="l20528" name="l20528"></a><span class="lineno">20528</span>    <span class="keywordflow">if</span> (strcmp(name, <span class="stringliteral">&quot;Data&quot;</span>) != 0)</div>
<div class="line"><a id="l20529" name="l20529"></a><span class="lineno">20529</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l20530" name="l20530"></a><span class="lineno">20530</span>    <span class="keywordflow">return</span> (<span class="keywordtype">void</span>*)1;</div>
<div class="line"><a id="l20531" name="l20531"></a><span class="lineno">20531</span>}</div>
<div class="line"><a id="l20532" name="l20532"></a><span class="lineno">20532</span> </div>
<div class="line"><a id="l20533" name="l20533"></a><span class="lineno">20533</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::DockSettingsHandler_ReadLine(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <a class="code hl_struct" href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a>*, <span class="keywordtype">void</span>*, <span class="keyword">const</span> <span class="keywordtype">char</span>* line)</div>
<div class="line"><a id="l20534" name="l20534"></a><span class="lineno">20534</span>{</div>
<div class="line"><a id="l20535" name="l20535"></a><span class="lineno">20535</span>    <span class="keywordtype">char</span> c = 0;</div>
<div class="line"><a id="l20536" name="l20536"></a><span class="lineno">20536</span>    <span class="keywordtype">int</span> x = 0, y = 0;</div>
<div class="line"><a id="l20537" name="l20537"></a><span class="lineno">20537</span>    <span class="keywordtype">int</span> r = 0;</div>
<div class="line"><a id="l20538" name="l20538"></a><span class="lineno">20538</span> </div>
<div class="line"><a id="l20539" name="l20539"></a><span class="lineno">20539</span>    <span class="comment">// Parsing, e.g.</span></div>
<div class="line"><a id="l20540" name="l20540"></a><span class="lineno">20540</span>    <span class="comment">// &quot; DockNode   ID=0x00000001 Pos=383,193 Size=201,322 Split=Y,0.506 &quot;</span></div>
<div class="line"><a id="l20541" name="l20541"></a><span class="lineno">20541</span>    <span class="comment">// &quot;   DockNode ID=0x00000002 Parent=0x00000001 &quot;</span></div>
<div class="line"><a id="l20542" name="l20542"></a><span class="lineno">20542</span>    <span class="comment">// Important: this code expect currently fields in a fixed order.</span></div>
<div class="line"><a id="l20543" name="l20543"></a><span class="lineno">20543</span>    <a class="code hl_struct" href="structImGuiDockNodeSettings.html">ImGuiDockNodeSettings</a> node;</div>
<div class="line"><a id="l20544" name="l20544"></a><span class="lineno">20544</span>    line = ImStrSkipBlank(line);</div>
<div class="line"><a id="l20545" name="l20545"></a><span class="lineno">20545</span>    <span class="keywordflow">if</span>      (strncmp(line, <span class="stringliteral">&quot;DockNode&quot;</span>, 8) == 0)  { line = ImStrSkipBlank(line + strlen(<span class="stringliteral">&quot;DockNode&quot;</span>)); }</div>
<div class="line"><a id="l20546" name="l20546"></a><span class="lineno">20546</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(line, <span class="stringliteral">&quot;DockSpace&quot;</span>, 9) == 0) { line = ImStrSkipBlank(line + strlen(<span class="stringliteral">&quot;DockSpace&quot;</span>)); node.Flags |= ImGuiDockNodeFlags_DockSpace; }</div>
<div class="line"><a id="l20547" name="l20547"></a><span class="lineno">20547</span>    <span class="keywordflow">else</span> <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l20548" name="l20548"></a><span class="lineno">20548</span>    <span class="keywordflow">if</span> (sscanf(line, <span class="stringliteral">&quot;ID=0x%08X%n&quot;</span>,      &amp;node.ID, &amp;r) == 1)            { line += r; } <span class="keywordflow">else</span> <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l20549" name="l20549"></a><span class="lineno">20549</span>    <span class="keywordflow">if</span> (sscanf(line, <span class="stringliteral">&quot; Parent=0x%08X%n&quot;</span>, &amp;node.ParentNodeId, &amp;r) == 1)  { line += r; <span class="keywordflow">if</span> (node.ParentNodeId == 0) <span class="keywordflow">return</span>; }</div>
<div class="line"><a id="l20550" name="l20550"></a><span class="lineno">20550</span>    <span class="keywordflow">if</span> (sscanf(line, <span class="stringliteral">&quot; Window=0x%08X%n&quot;</span>, &amp;node.ParentWindowId, &amp;r) ==1) { line += r; <span class="keywordflow">if</span> (node.ParentWindowId == 0) <span class="keywordflow">return</span>; }</div>
<div class="line"><a id="l20551" name="l20551"></a><span class="lineno">20551</span>    <span class="keywordflow">if</span> (node.ParentNodeId == 0)</div>
<div class="line"><a id="l20552" name="l20552"></a><span class="lineno">20552</span>    {</div>
<div class="line"><a id="l20553" name="l20553"></a><span class="lineno">20553</span>        <span class="keywordflow">if</span> (sscanf(line, <span class="stringliteral">&quot; Pos=%i,%i%n&quot;</span>,  &amp;x, &amp;y, &amp;r) == 2)         { line += r; node.Pos = <a class="code hl_struct" href="structImVec2ih.html">ImVec2ih</a>((<span class="keywordtype">short</span>)x, (<span class="keywordtype">short</span>)y); } <span class="keywordflow">else</span> <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l20554" name="l20554"></a><span class="lineno">20554</span>        <span class="keywordflow">if</span> (sscanf(line, <span class="stringliteral">&quot; Size=%i,%i%n&quot;</span>, &amp;x, &amp;y, &amp;r) == 2)         { line += r; node.Size = <a class="code hl_struct" href="structImVec2ih.html">ImVec2ih</a>((<span class="keywordtype">short</span>)x, (<span class="keywordtype">short</span>)y); } <span class="keywordflow">else</span> <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l20555" name="l20555"></a><span class="lineno">20555</span>    }</div>
<div class="line"><a id="l20556" name="l20556"></a><span class="lineno">20556</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l20557" name="l20557"></a><span class="lineno">20557</span>    {</div>
<div class="line"><a id="l20558" name="l20558"></a><span class="lineno">20558</span>        <span class="keywordflow">if</span> (sscanf(line, <span class="stringliteral">&quot; SizeRef=%i,%i%n&quot;</span>, &amp;x, &amp;y, &amp;r) == 2)      { line += r; node.SizeRef = <a class="code hl_struct" href="structImVec2ih.html">ImVec2ih</a>((<span class="keywordtype">short</span>)x, (<span class="keywordtype">short</span>)y); }</div>
<div class="line"><a id="l20559" name="l20559"></a><span class="lineno">20559</span>    }</div>
<div class="line"><a id="l20560" name="l20560"></a><span class="lineno">20560</span>    <span class="keywordflow">if</span> (sscanf(line, <span class="stringliteral">&quot; Split=%c%n&quot;</span>, &amp;c, &amp;r) == 1)                   { line += r; <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;X&#39;</span>) node.SplitAxis = ImGuiAxis_X; <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;Y&#39;</span>) node.SplitAxis = ImGuiAxis_Y; }</div>
<div class="line"><a id="l20561" name="l20561"></a><span class="lineno">20561</span>    <span class="keywordflow">if</span> (sscanf(line, <span class="stringliteral">&quot; NoResize=%d%n&quot;</span>, &amp;x, &amp;r) == 1)                { line += r; <span class="keywordflow">if</span> (x != 0) node.Flags |= ImGuiDockNodeFlags_NoResize; }</div>
<div class="line"><a id="l20562" name="l20562"></a><span class="lineno">20562</span>    <span class="keywordflow">if</span> (sscanf(line, <span class="stringliteral">&quot; CentralNode=%d%n&quot;</span>, &amp;x, &amp;r) == 1)             { line += r; <span class="keywordflow">if</span> (x != 0) node.Flags |= ImGuiDockNodeFlags_CentralNode; }</div>
<div class="line"><a id="l20563" name="l20563"></a><span class="lineno">20563</span>    <span class="keywordflow">if</span> (sscanf(line, <span class="stringliteral">&quot; NoTabBar=%d%n&quot;</span>, &amp;x, &amp;r) == 1)                { line += r; <span class="keywordflow">if</span> (x != 0) node.Flags |= ImGuiDockNodeFlags_NoTabBar; }</div>
<div class="line"><a id="l20564" name="l20564"></a><span class="lineno">20564</span>    <span class="keywordflow">if</span> (sscanf(line, <span class="stringliteral">&quot; HiddenTabBar=%d%n&quot;</span>, &amp;x, &amp;r) == 1)            { line += r; <span class="keywordflow">if</span> (x != 0) node.Flags |= ImGuiDockNodeFlags_HiddenTabBar; }</div>
<div class="line"><a id="l20565" name="l20565"></a><span class="lineno">20565</span>    <span class="keywordflow">if</span> (sscanf(line, <span class="stringliteral">&quot; NoWindowMenuButton=%d%n&quot;</span>, &amp;x, &amp;r) == 1)      { line += r; <span class="keywordflow">if</span> (x != 0) node.Flags |= ImGuiDockNodeFlags_NoWindowMenuButton; }</div>
<div class="line"><a id="l20566" name="l20566"></a><span class="lineno">20566</span>    <span class="keywordflow">if</span> (sscanf(line, <span class="stringliteral">&quot; NoCloseButton=%d%n&quot;</span>, &amp;x, &amp;r) == 1)           { line += r; <span class="keywordflow">if</span> (x != 0) node.Flags |= ImGuiDockNodeFlags_NoCloseButton; }</div>
<div class="line"><a id="l20567" name="l20567"></a><span class="lineno">20567</span>    <span class="keywordflow">if</span> (sscanf(line, <span class="stringliteral">&quot; Selected=0x%08X%n&quot;</span>, &amp;node.SelectedTabId,&amp;r) == 1) { line += r; }</div>
<div class="line"><a id="l20568" name="l20568"></a><span class="lineno">20568</span>    <span class="keywordflow">if</span> (node.ParentNodeId != 0)</div>
<div class="line"><a id="l20569" name="l20569"></a><span class="lineno">20569</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiDockNodeSettings.html">ImGuiDockNodeSettings</a>* parent_settings = DockSettingsFindNodeSettings(ctx, node.ParentNodeId))</div>
<div class="line"><a id="l20570" name="l20570"></a><span class="lineno">20570</span>            node.Depth = parent_settings-&gt;Depth + 1;</div>
<div class="line"><a id="l20571" name="l20571"></a><span class="lineno">20571</span>    ctx-&gt;DockContext.NodesSettings.push_back(node);</div>
<div class="line"><a id="l20572" name="l20572"></a><span class="lineno">20572</span>}</div>
<div class="line"><a id="l20573" name="l20573"></a><span class="lineno">20573</span> </div>
<div class="line"><a id="l20574" name="l20574"></a><span class="lineno">20574</span><span class="keyword">static</span> <span class="keywordtype">void</span> DockSettingsHandler_DockNodeToSettings(<a class="code hl_struct" href="structImGuiDockContext.html">ImGuiDockContext</a>* dc, <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node, <span class="keywordtype">int</span> depth)</div>
<div class="line"><a id="l20575" name="l20575"></a><span class="lineno">20575</span>{</div>
<div class="line"><a id="l20576" name="l20576"></a><span class="lineno">20576</span>    <a class="code hl_struct" href="structImGuiDockNodeSettings.html">ImGuiDockNodeSettings</a> node_settings;</div>
<div class="line"><a id="l20577" name="l20577"></a><span class="lineno">20577</span>    IM_ASSERT(depth &lt; (1 &lt;&lt; (<span class="keyword">sizeof</span>(node_settings.Depth) &lt;&lt; 3)));</div>
<div class="line"><a id="l20578" name="l20578"></a><span class="lineno">20578</span>    node_settings.ID = node-&gt;ID;</div>
<div class="line"><a id="l20579" name="l20579"></a><span class="lineno">20579</span>    node_settings.ParentNodeId = node-&gt;ParentNode ? node-&gt;ParentNode-&gt;ID : 0;</div>
<div class="line"><a id="l20580" name="l20580"></a><span class="lineno">20580</span>    node_settings.ParentWindowId = (node-&gt;IsDockSpace() &amp;&amp; node-&gt;HostWindow &amp;&amp; node-&gt;HostWindow-&gt;ParentWindow) ? node-&gt;HostWindow-&gt;ParentWindow-&gt;ID : 0;</div>
<div class="line"><a id="l20581" name="l20581"></a><span class="lineno">20581</span>    node_settings.SelectedTabId = node-&gt;SelectedTabId;</div>
<div class="line"><a id="l20582" name="l20582"></a><span class="lineno">20582</span>    node_settings.SplitAxis = (<span class="keywordtype">signed</span> char)(node-&gt;IsSplitNode() ? node-&gt;SplitAxis : ImGuiAxis_None);</div>
<div class="line"><a id="l20583" name="l20583"></a><span class="lineno">20583</span>    node_settings.Depth = (char)depth;</div>
<div class="line"><a id="l20584" name="l20584"></a><span class="lineno">20584</span>    node_settings.Flags = (node-&gt;LocalFlags &amp; ImGuiDockNodeFlags_SavedFlagsMask_);</div>
<div class="line"><a id="l20585" name="l20585"></a><span class="lineno">20585</span>    node_settings.Pos = <a class="code hl_struct" href="structImVec2ih.html">ImVec2ih</a>(node-&gt;Pos);</div>
<div class="line"><a id="l20586" name="l20586"></a><span class="lineno">20586</span>    node_settings.Size = <a class="code hl_struct" href="structImVec2ih.html">ImVec2ih</a>(node-&gt;Size);</div>
<div class="line"><a id="l20587" name="l20587"></a><span class="lineno">20587</span>    node_settings.SizeRef = <a class="code hl_struct" href="structImVec2ih.html">ImVec2ih</a>(node-&gt;SizeRef);</div>
<div class="line"><a id="l20588" name="l20588"></a><span class="lineno">20588</span>    dc-&gt;NodesSettings.push_back(node_settings);</div>
<div class="line"><a id="l20589" name="l20589"></a><span class="lineno">20589</span>    <span class="keywordflow">if</span> (node-&gt;ChildNodes[0])</div>
<div class="line"><a id="l20590" name="l20590"></a><span class="lineno">20590</span>        DockSettingsHandler_DockNodeToSettings(dc, node-&gt;ChildNodes[0], depth + 1);</div>
<div class="line"><a id="l20591" name="l20591"></a><span class="lineno">20591</span>    <span class="keywordflow">if</span> (node-&gt;ChildNodes[1])</div>
<div class="line"><a id="l20592" name="l20592"></a><span class="lineno">20592</span>        DockSettingsHandler_DockNodeToSettings(dc, node-&gt;ChildNodes[1], depth + 1);</div>
<div class="line"><a id="l20593" name="l20593"></a><span class="lineno">20593</span>}</div>
<div class="line"><a id="l20594" name="l20594"></a><span class="lineno">20594</span> </div>
<div class="line"><a id="l20595" name="l20595"></a><span class="lineno">20595</span><span class="keyword">static</span> <span class="keywordtype">void</span> ImGui::DockSettingsHandler_WriteAll(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <a class="code hl_struct" href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a>* handler, <a class="code hl_struct" href="structImGuiTextBuffer.html">ImGuiTextBuffer</a>* buf)</div>
<div class="line"><a id="l20596" name="l20596"></a><span class="lineno">20596</span>{</div>
<div class="line"><a id="l20597" name="l20597"></a><span class="lineno">20597</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *ctx;</div>
<div class="line"><a id="l20598" name="l20598"></a><span class="lineno">20598</span>    <a class="code hl_struct" href="structImGuiDockContext.html">ImGuiDockContext</a>* dc = &amp;ctx-&gt;DockContext;</div>
<div class="line"><a id="l20599" name="l20599"></a><span class="lineno">20599</span>    <span class="keywordflow">if</span> (!(g.IO.ConfigFlags &amp; ImGuiConfigFlags_DockingEnable))</div>
<div class="line"><a id="l20600" name="l20600"></a><span class="lineno">20600</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l20601" name="l20601"></a><span class="lineno">20601</span> </div>
<div class="line"><a id="l20602" name="l20602"></a><span class="lineno">20602</span>    <span class="comment">// Gather settings data</span></div>
<div class="line"><a id="l20603" name="l20603"></a><span class="lineno">20603</span>    <span class="comment">// (unlike our windows settings, because nodes are always built we can do a full rewrite of the SettingsNode buffer)</span></div>
<div class="line"><a id="l20604" name="l20604"></a><span class="lineno">20604</span>    dc-&gt;NodesSettings.resize(0);</div>
<div class="line"><a id="l20605" name="l20605"></a><span class="lineno">20605</span>    dc-&gt;NodesSettings.reserve(dc-&gt;Nodes.Data.Size);</div>
<div class="line"><a id="l20606" name="l20606"></a><span class="lineno">20606</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; dc-&gt;Nodes.Data.Size; n++)</div>
<div class="line"><a id="l20607" name="l20607"></a><span class="lineno">20607</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node = (<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>*)dc-&gt;Nodes.Data[n].val_p)</div>
<div class="line"><a id="l20608" name="l20608"></a><span class="lineno">20608</span>            <span class="keywordflow">if</span> (node-&gt;IsRootNode())</div>
<div class="line"><a id="l20609" name="l20609"></a><span class="lineno">20609</span>                DockSettingsHandler_DockNodeToSettings(dc, node, 0);</div>
<div class="line"><a id="l20610" name="l20610"></a><span class="lineno">20610</span> </div>
<div class="line"><a id="l20611" name="l20611"></a><span class="lineno">20611</span>    <span class="keywordtype">int</span> max_depth = 0;</div>
<div class="line"><a id="l20612" name="l20612"></a><span class="lineno">20612</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> node_n = 0; node_n &lt; dc-&gt;NodesSettings.Size; node_n++)</div>
<div class="line"><a id="l20613" name="l20613"></a><span class="lineno">20613</span>        max_depth = ImMax((<span class="keywordtype">int</span>)dc-&gt;NodesSettings[node_n].Depth, max_depth);</div>
<div class="line"><a id="l20614" name="l20614"></a><span class="lineno">20614</span> </div>
<div class="line"><a id="l20615" name="l20615"></a><span class="lineno">20615</span>    <span class="comment">// Write to text buffer</span></div>
<div class="line"><a id="l20616" name="l20616"></a><span class="lineno">20616</span>    buf-&gt;appendf(<span class="stringliteral">&quot;[%s][Data]\n&quot;</span>, handler-&gt;TypeName);</div>
<div class="line"><a id="l20617" name="l20617"></a><span class="lineno">20617</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> node_n = 0; node_n &lt; dc-&gt;NodesSettings.Size; node_n++)</div>
<div class="line"><a id="l20618" name="l20618"></a><span class="lineno">20618</span>    {</div>
<div class="line"><a id="l20619" name="l20619"></a><span class="lineno">20619</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> line_start_pos = buf-&gt;size(); (void)line_start_pos;</div>
<div class="line"><a id="l20620" name="l20620"></a><span class="lineno">20620</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiDockNodeSettings.html">ImGuiDockNodeSettings</a>* node_settings = &amp;dc-&gt;NodesSettings[node_n];</div>
<div class="line"><a id="l20621" name="l20621"></a><span class="lineno">20621</span>        buf-&gt;appendf(<span class="stringliteral">&quot;%*s%s%*s&quot;</span>, node_settings-&gt;Depth * 2, <span class="stringliteral">&quot;&quot;</span>, (node_settings-&gt;Flags &amp; ImGuiDockNodeFlags_DockSpace) ? <span class="stringliteral">&quot;DockSpace&quot;</span> : <span class="stringliteral">&quot;DockNode &quot;</span>, (max_depth - node_settings-&gt;Depth) * 2, <span class="stringliteral">&quot;&quot;</span>);  <span class="comment">// Text align nodes to facilitate looking at .ini file</span></div>
<div class="line"><a id="l20622" name="l20622"></a><span class="lineno">20622</span>        buf-&gt;appendf(<span class="stringliteral">&quot; ID=0x%08X&quot;</span>, node_settings-&gt;ID);</div>
<div class="line"><a id="l20623" name="l20623"></a><span class="lineno">20623</span>        <span class="keywordflow">if</span> (node_settings-&gt;ParentNodeId)</div>
<div class="line"><a id="l20624" name="l20624"></a><span class="lineno">20624</span>        {</div>
<div class="line"><a id="l20625" name="l20625"></a><span class="lineno">20625</span>            buf-&gt;appendf(<span class="stringliteral">&quot; Parent=0x%08X SizeRef=%d,%d&quot;</span>, node_settings-&gt;ParentNodeId, node_settings-&gt;SizeRef.x, node_settings-&gt;SizeRef.y);</div>
<div class="line"><a id="l20626" name="l20626"></a><span class="lineno">20626</span>        }</div>
<div class="line"><a id="l20627" name="l20627"></a><span class="lineno">20627</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l20628" name="l20628"></a><span class="lineno">20628</span>        {</div>
<div class="line"><a id="l20629" name="l20629"></a><span class="lineno">20629</span>            <span class="keywordflow">if</span> (node_settings-&gt;ParentWindowId)</div>
<div class="line"><a id="l20630" name="l20630"></a><span class="lineno">20630</span>                buf-&gt;appendf(<span class="stringliteral">&quot; Window=0x%08X&quot;</span>, node_settings-&gt;ParentWindowId);</div>
<div class="line"><a id="l20631" name="l20631"></a><span class="lineno">20631</span>            buf-&gt;appendf(<span class="stringliteral">&quot; Pos=%d,%d Size=%d,%d&quot;</span>, node_settings-&gt;Pos.x, node_settings-&gt;Pos.y, node_settings-&gt;Size.x, node_settings-&gt;Size.y);</div>
<div class="line"><a id="l20632" name="l20632"></a><span class="lineno">20632</span>        }</div>
<div class="line"><a id="l20633" name="l20633"></a><span class="lineno">20633</span>        <span class="keywordflow">if</span> (node_settings-&gt;SplitAxis != ImGuiAxis_None)</div>
<div class="line"><a id="l20634" name="l20634"></a><span class="lineno">20634</span>            buf-&gt;appendf(<span class="stringliteral">&quot; Split=%c&quot;</span>, (node_settings-&gt;SplitAxis == ImGuiAxis_X) ? <span class="charliteral">&#39;X&#39;</span> : <span class="charliteral">&#39;Y&#39;</span>);</div>
<div class="line"><a id="l20635" name="l20635"></a><span class="lineno">20635</span>        <span class="keywordflow">if</span> (node_settings-&gt;Flags &amp; ImGuiDockNodeFlags_NoResize)</div>
<div class="line"><a id="l20636" name="l20636"></a><span class="lineno">20636</span>            buf-&gt;appendf(<span class="stringliteral">&quot; NoResize=1&quot;</span>);</div>
<div class="line"><a id="l20637" name="l20637"></a><span class="lineno">20637</span>        <span class="keywordflow">if</span> (node_settings-&gt;Flags &amp; ImGuiDockNodeFlags_CentralNode)</div>
<div class="line"><a id="l20638" name="l20638"></a><span class="lineno">20638</span>            buf-&gt;appendf(<span class="stringliteral">&quot; CentralNode=1&quot;</span>);</div>
<div class="line"><a id="l20639" name="l20639"></a><span class="lineno">20639</span>        <span class="keywordflow">if</span> (node_settings-&gt;Flags &amp; ImGuiDockNodeFlags_NoTabBar)</div>
<div class="line"><a id="l20640" name="l20640"></a><span class="lineno">20640</span>            buf-&gt;appendf(<span class="stringliteral">&quot; NoTabBar=1&quot;</span>);</div>
<div class="line"><a id="l20641" name="l20641"></a><span class="lineno">20641</span>        <span class="keywordflow">if</span> (node_settings-&gt;Flags &amp; ImGuiDockNodeFlags_HiddenTabBar)</div>
<div class="line"><a id="l20642" name="l20642"></a><span class="lineno">20642</span>            buf-&gt;appendf(<span class="stringliteral">&quot; HiddenTabBar=1&quot;</span>);</div>
<div class="line"><a id="l20643" name="l20643"></a><span class="lineno">20643</span>        <span class="keywordflow">if</span> (node_settings-&gt;Flags &amp; ImGuiDockNodeFlags_NoWindowMenuButton)</div>
<div class="line"><a id="l20644" name="l20644"></a><span class="lineno">20644</span>            buf-&gt;appendf(<span class="stringliteral">&quot; NoWindowMenuButton=1&quot;</span>);</div>
<div class="line"><a id="l20645" name="l20645"></a><span class="lineno">20645</span>        <span class="keywordflow">if</span> (node_settings-&gt;Flags &amp; ImGuiDockNodeFlags_NoCloseButton)</div>
<div class="line"><a id="l20646" name="l20646"></a><span class="lineno">20646</span>            buf-&gt;appendf(<span class="stringliteral">&quot; NoCloseButton=1&quot;</span>);</div>
<div class="line"><a id="l20647" name="l20647"></a><span class="lineno">20647</span>        <span class="keywordflow">if</span> (node_settings-&gt;SelectedTabId)</div>
<div class="line"><a id="l20648" name="l20648"></a><span class="lineno">20648</span>            buf-&gt;appendf(<span class="stringliteral">&quot; Selected=0x%08X&quot;</span>, node_settings-&gt;SelectedTabId);</div>
<div class="line"><a id="l20649" name="l20649"></a><span class="lineno">20649</span> </div>
<div class="line"><a id="l20650" name="l20650"></a><span class="lineno">20650</span>        <span class="comment">// [DEBUG] Include comments in the .ini file to ease debugging (this makes saving slower!)</span></div>
<div class="line"><a id="l20651" name="l20651"></a><span class="lineno">20651</span>        <span class="keywordflow">if</span> (g.IO.ConfigDebugIniSettings)</div>
<div class="line"><a id="l20652" name="l20652"></a><span class="lineno">20652</span>            <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node = DockContextFindNodeByID(ctx, node_settings-&gt;ID))</div>
<div class="line"><a id="l20653" name="l20653"></a><span class="lineno">20653</span>            {</div>
<div class="line"><a id="l20654" name="l20654"></a><span class="lineno">20654</span>                buf-&gt;appendf(<span class="stringliteral">&quot;%*s&quot;</span>, ImMax(2, (line_start_pos + 92) - buf-&gt;size()), <span class="stringliteral">&quot;&quot;</span>);     <span class="comment">// Align everything</span></div>
<div class="line"><a id="l20655" name="l20655"></a><span class="lineno">20655</span>                <span class="keywordflow">if</span> (node-&gt;IsDockSpace() &amp;&amp; node-&gt;HostWindow &amp;&amp; node-&gt;HostWindow-&gt;ParentWindow)</div>
<div class="line"><a id="l20656" name="l20656"></a><span class="lineno">20656</span>                    buf-&gt;appendf(<span class="stringliteral">&quot; ; in &#39;%s&#39;&quot;</span>, node-&gt;HostWindow-&gt;ParentWindow-&gt;Name);</div>
<div class="line"><a id="l20657" name="l20657"></a><span class="lineno">20657</span>                <span class="comment">// Iterate settings so we can give info about windows that didn&#39;t exist during the session.</span></div>
<div class="line"><a id="l20658" name="l20658"></a><span class="lineno">20658</span>                <span class="keywordtype">int</span> contains_window = 0;</div>
<div class="line"><a id="l20659" name="l20659"></a><span class="lineno">20659</span>                <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>* settings = g.SettingsWindows.begin(); settings != NULL; settings = g.SettingsWindows.next_chunk(settings))</div>
<div class="line"><a id="l20660" name="l20660"></a><span class="lineno">20660</span>                    <span class="keywordflow">if</span> (settings-&gt;DockId == node_settings-&gt;ID)</div>
<div class="line"><a id="l20661" name="l20661"></a><span class="lineno">20661</span>                    {</div>
<div class="line"><a id="l20662" name="l20662"></a><span class="lineno">20662</span>                        <span class="keywordflow">if</span> (contains_window++ == 0)</div>
<div class="line"><a id="l20663" name="l20663"></a><span class="lineno">20663</span>                            buf-&gt;appendf(<span class="stringliteral">&quot; ; contains &quot;</span>);</div>
<div class="line"><a id="l20664" name="l20664"></a><span class="lineno">20664</span>                        buf-&gt;appendf(<span class="stringliteral">&quot;&#39;%s&#39; &quot;</span>, settings-&gt;GetName());</div>
<div class="line"><a id="l20665" name="l20665"></a><span class="lineno">20665</span>                    }</div>
<div class="line"><a id="l20666" name="l20666"></a><span class="lineno">20666</span>            }</div>
<div class="line"><a id="l20667" name="l20667"></a><span class="lineno">20667</span> </div>
<div class="line"><a id="l20668" name="l20668"></a><span class="lineno">20668</span>        buf-&gt;appendf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l20669" name="l20669"></a><span class="lineno">20669</span>    }</div>
<div class="line"><a id="l20670" name="l20670"></a><span class="lineno">20670</span>    buf-&gt;appendf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l20671" name="l20671"></a><span class="lineno">20671</span>}</div>
<div class="line"><a id="l20672" name="l20672"></a><span class="lineno">20672</span> </div>
<div class="line"><a id="l20673" name="l20673"></a><span class="lineno">20673</span> </div>
<div class="line"><a id="l20674" name="l20674"></a><span class="lineno">20674</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l20675" name="l20675"></a><span class="lineno">20675</span><span class="comment">// [SECTION] PLATFORM DEPENDENT HELPERS</span></div>
<div class="line"><a id="l20676" name="l20676"></a><span class="lineno">20676</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l20677" name="l20677"></a><span class="lineno">20677</span><span class="comment">// - Default clipboard handlers</span></div>
<div class="line"><a id="l20678" name="l20678"></a><span class="lineno">20678</span><span class="comment">// - Default shell function handlers</span></div>
<div class="line"><a id="l20679" name="l20679"></a><span class="lineno">20679</span><span class="comment">// - Default IME handlers</span></div>
<div class="line"><a id="l20680" name="l20680"></a><span class="lineno">20680</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l20681" name="l20681"></a><span class="lineno">20681</span> </div>
<div class="line"><a id="l20682" name="l20682"></a><span class="lineno">20682</span><span class="preprocessor">#if defined(_WIN32) &amp;&amp; !defined(IMGUI_DISABLE_WIN32_FUNCTIONS) &amp;&amp; !defined(IMGUI_DISABLE_WIN32_DEFAULT_CLIPBOARD_FUNCTIONS)</span></div>
<div class="line"><a id="l20683" name="l20683"></a><span class="lineno">20683</span> </div>
<div class="line"><a id="l20684" name="l20684"></a><span class="lineno">20684</span><span class="preprocessor">#ifdef _MSC_VER</span></div>
<div class="line"><a id="l20685" name="l20685"></a><span class="lineno">20685</span><span class="preprocessor">#pragma comment(lib, &quot;user32&quot;)</span></div>
<div class="line"><a id="l20686" name="l20686"></a><span class="lineno">20686</span><span class="preprocessor">#pragma comment(lib, &quot;kernel32&quot;)</span></div>
<div class="line"><a id="l20687" name="l20687"></a><span class="lineno">20687</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l20688" name="l20688"></a><span class="lineno">20688</span> </div>
<div class="line"><a id="l20689" name="l20689"></a><span class="lineno">20689</span><span class="comment">// Win32 clipboard implementation</span></div>
<div class="line"><a id="l20690" name="l20690"></a><span class="lineno">20690</span><span class="comment">// We use g.ClipboardHandlerData for temporary storage to ensure it is freed on Shutdown()</span></div>
<div class="line"><a id="l20691" name="l20691"></a><span class="lineno">20691</span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* Platform_GetClipboardTextFn_DefaultImpl(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx)</div>
<div class="line"><a id="l20692" name="l20692"></a><span class="lineno">20692</span>{</div>
<div class="line"><a id="l20693" name="l20693"></a><span class="lineno">20693</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *ctx;</div>
<div class="line"><a id="l20694" name="l20694"></a><span class="lineno">20694</span>    g.ClipboardHandlerData.clear();</div>
<div class="line"><a id="l20695" name="l20695"></a><span class="lineno">20695</span>    <span class="keywordflow">if</span> (!::OpenClipboard(NULL))</div>
<div class="line"><a id="l20696" name="l20696"></a><span class="lineno">20696</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l20697" name="l20697"></a><span class="lineno">20697</span>    HANDLE wbuf_handle = ::GetClipboardData(CF_UNICODETEXT);</div>
<div class="line"><a id="l20698" name="l20698"></a><span class="lineno">20698</span>    <span class="keywordflow">if</span> (wbuf_handle == NULL)</div>
<div class="line"><a id="l20699" name="l20699"></a><span class="lineno">20699</span>    {</div>
<div class="line"><a id="l20700" name="l20700"></a><span class="lineno">20700</span>        ::CloseClipboard();</div>
<div class="line"><a id="l20701" name="l20701"></a><span class="lineno">20701</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l20702" name="l20702"></a><span class="lineno">20702</span>    }</div>
<div class="line"><a id="l20703" name="l20703"></a><span class="lineno">20703</span>    <span class="keywordflow">if</span> (<span class="keyword">const</span> WCHAR* wbuf_global = (<span class="keyword">const</span> WCHAR*)::GlobalLock(wbuf_handle))</div>
<div class="line"><a id="l20704" name="l20704"></a><span class="lineno">20704</span>    {</div>
<div class="line"><a id="l20705" name="l20705"></a><span class="lineno">20705</span>        <span class="keywordtype">int</span> buf_len = ::WideCharToMultiByte(CP_UTF8, 0, wbuf_global, -1, NULL, 0, NULL, NULL);</div>
<div class="line"><a id="l20706" name="l20706"></a><span class="lineno">20706</span>        g.ClipboardHandlerData.resize(buf_len);</div>
<div class="line"><a id="l20707" name="l20707"></a><span class="lineno">20707</span>        ::WideCharToMultiByte(CP_UTF8, 0, wbuf_global, -1, g.ClipboardHandlerData.Data, buf_len, NULL, NULL);</div>
<div class="line"><a id="l20708" name="l20708"></a><span class="lineno">20708</span>    }</div>
<div class="line"><a id="l20709" name="l20709"></a><span class="lineno">20709</span>    ::GlobalUnlock(wbuf_handle);</div>
<div class="line"><a id="l20710" name="l20710"></a><span class="lineno">20710</span>    ::CloseClipboard();</div>
<div class="line"><a id="l20711" name="l20711"></a><span class="lineno">20711</span>    <span class="keywordflow">return</span> g.ClipboardHandlerData.Data;</div>
<div class="line"><a id="l20712" name="l20712"></a><span class="lineno">20712</span>}</div>
<div class="line"><a id="l20713" name="l20713"></a><span class="lineno">20713</span> </div>
<div class="line"><a id="l20714" name="l20714"></a><span class="lineno">20714</span><span class="keyword">static</span> <span class="keywordtype">void</span> Platform_SetClipboardTextFn_DefaultImpl(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>*, <span class="keyword">const</span> <span class="keywordtype">char</span>* text)</div>
<div class="line"><a id="l20715" name="l20715"></a><span class="lineno">20715</span>{</div>
<div class="line"><a id="l20716" name="l20716"></a><span class="lineno">20716</span>    <span class="keywordflow">if</span> (!::OpenClipboard(NULL))</div>
<div class="line"><a id="l20717" name="l20717"></a><span class="lineno">20717</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l20718" name="l20718"></a><span class="lineno">20718</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> wbuf_length = ::MultiByteToWideChar(CP_UTF8, 0, text, -1, NULL, 0);</div>
<div class="line"><a id="l20719" name="l20719"></a><span class="lineno">20719</span>    HGLOBAL wbuf_handle = ::GlobalAlloc(GMEM_MOVEABLE, (SIZE_T)wbuf_length * <span class="keyword">sizeof</span>(WCHAR));</div>
<div class="line"><a id="l20720" name="l20720"></a><span class="lineno">20720</span>    <span class="keywordflow">if</span> (wbuf_handle == NULL)</div>
<div class="line"><a id="l20721" name="l20721"></a><span class="lineno">20721</span>    {</div>
<div class="line"><a id="l20722" name="l20722"></a><span class="lineno">20722</span>        ::CloseClipboard();</div>
<div class="line"><a id="l20723" name="l20723"></a><span class="lineno">20723</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l20724" name="l20724"></a><span class="lineno">20724</span>    }</div>
<div class="line"><a id="l20725" name="l20725"></a><span class="lineno">20725</span>    WCHAR* wbuf_global = (WCHAR*)::GlobalLock(wbuf_handle);</div>
<div class="line"><a id="l20726" name="l20726"></a><span class="lineno">20726</span>    ::MultiByteToWideChar(CP_UTF8, 0, text, -1, wbuf_global, wbuf_length);</div>
<div class="line"><a id="l20727" name="l20727"></a><span class="lineno">20727</span>    ::GlobalUnlock(wbuf_handle);</div>
<div class="line"><a id="l20728" name="l20728"></a><span class="lineno">20728</span>    ::EmptyClipboard();</div>
<div class="line"><a id="l20729" name="l20729"></a><span class="lineno">20729</span>    <span class="keywordflow">if</span> (::SetClipboardData(CF_UNICODETEXT, wbuf_handle) == NULL)</div>
<div class="line"><a id="l20730" name="l20730"></a><span class="lineno">20730</span>        ::GlobalFree(wbuf_handle);</div>
<div class="line"><a id="l20731" name="l20731"></a><span class="lineno">20731</span>    ::CloseClipboard();</div>
<div class="line"><a id="l20732" name="l20732"></a><span class="lineno">20732</span>}</div>
<div class="line"><a id="l20733" name="l20733"></a><span class="lineno">20733</span> </div>
<div class="line"><a id="l20734" name="l20734"></a><span class="lineno">20734</span><span class="preprocessor">#elif defined(__APPLE__) &amp;&amp; TARGET_OS_OSX &amp;&amp; defined(IMGUI_ENABLE_OSX_DEFAULT_CLIPBOARD_FUNCTIONS)</span></div>
<div class="line"><a id="l20735" name="l20735"></a><span class="lineno">20735</span> </div>
<div class="line"><a id="l20736" name="l20736"></a><span class="lineno">20736</span><span class="preprocessor">#include &lt;Carbon/Carbon.h&gt;</span>  <span class="comment">// Use old API to avoid need for separate .mm file</span></div>
<div class="line"><a id="l20737" name="l20737"></a><span class="lineno">20737</span><span class="keyword">static</span> PasteboardRef main_clipboard = 0;</div>
<div class="line"><a id="l20738" name="l20738"></a><span class="lineno">20738</span> </div>
<div class="line"><a id="l20739" name="l20739"></a><span class="lineno">20739</span><span class="comment">// OSX clipboard implementation</span></div>
<div class="line"><a id="l20740" name="l20740"></a><span class="lineno">20740</span><span class="comment">// If you enable this you will need to add &#39;-framework ApplicationServices&#39; to your linker command-line!</span></div>
<div class="line"><a id="l20741" name="l20741"></a><span class="lineno">20741</span><span class="keyword">static</span> <span class="keywordtype">void</span> Platform_SetClipboardTextFn_DefaultImpl(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>*, <span class="keyword">const</span> <span class="keywordtype">char</span>* text)</div>
<div class="line"><a id="l20742" name="l20742"></a><span class="lineno">20742</span>{</div>
<div class="line"><a id="l20743" name="l20743"></a><span class="lineno">20743</span>    <span class="keywordflow">if</span> (!main_clipboard)</div>
<div class="line"><a id="l20744" name="l20744"></a><span class="lineno">20744</span>        PasteboardCreate(kPasteboardClipboard, &amp;main_clipboard);</div>
<div class="line"><a id="l20745" name="l20745"></a><span class="lineno">20745</span>    PasteboardClear(main_clipboard);</div>
<div class="line"><a id="l20746" name="l20746"></a><span class="lineno">20746</span>    CFDataRef cf_data = CFDataCreate(kCFAllocatorDefault, (<span class="keyword">const</span> UInt8*)text, ImStrlen(text));</div>
<div class="line"><a id="l20747" name="l20747"></a><span class="lineno">20747</span>    <span class="keywordflow">if</span> (cf_data)</div>
<div class="line"><a id="l20748" name="l20748"></a><span class="lineno">20748</span>    {</div>
<div class="line"><a id="l20749" name="l20749"></a><span class="lineno">20749</span>        PasteboardPutItemFlavor(main_clipboard, (PasteboardItemID)1, CFSTR(<span class="stringliteral">&quot;public.utf8-plain-text&quot;</span>), cf_data, 0);</div>
<div class="line"><a id="l20750" name="l20750"></a><span class="lineno">20750</span>        CFRelease(cf_data);</div>
<div class="line"><a id="l20751" name="l20751"></a><span class="lineno">20751</span>    }</div>
<div class="line"><a id="l20752" name="l20752"></a><span class="lineno">20752</span>}</div>
<div class="line"><a id="l20753" name="l20753"></a><span class="lineno">20753</span> </div>
<div class="line"><a id="l20754" name="l20754"></a><span class="lineno">20754</span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* Platform_GetClipboardTextFn_DefaultImpl(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx)</div>
<div class="line"><a id="l20755" name="l20755"></a><span class="lineno">20755</span>{</div>
<div class="line"><a id="l20756" name="l20756"></a><span class="lineno">20756</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *ctx;</div>
<div class="line"><a id="l20757" name="l20757"></a><span class="lineno">20757</span>    <span class="keywordflow">if</span> (!main_clipboard)</div>
<div class="line"><a id="l20758" name="l20758"></a><span class="lineno">20758</span>        PasteboardCreate(kPasteboardClipboard, &amp;main_clipboard);</div>
<div class="line"><a id="l20759" name="l20759"></a><span class="lineno">20759</span>    PasteboardSynchronize(main_clipboard);</div>
<div class="line"><a id="l20760" name="l20760"></a><span class="lineno">20760</span> </div>
<div class="line"><a id="l20761" name="l20761"></a><span class="lineno">20761</span>    ItemCount item_count = 0;</div>
<div class="line"><a id="l20762" name="l20762"></a><span class="lineno">20762</span>    PasteboardGetItemCount(main_clipboard, &amp;item_count);</div>
<div class="line"><a id="l20763" name="l20763"></a><span class="lineno">20763</span>    <span class="keywordflow">for</span> (ItemCount i = 0; i &lt; item_count; i++)</div>
<div class="line"><a id="l20764" name="l20764"></a><span class="lineno">20764</span>    {</div>
<div class="line"><a id="l20765" name="l20765"></a><span class="lineno">20765</span>        PasteboardItemID item_id = 0;</div>
<div class="line"><a id="l20766" name="l20766"></a><span class="lineno">20766</span>        PasteboardGetItemIdentifier(main_clipboard, i + 1, &amp;item_id);</div>
<div class="line"><a id="l20767" name="l20767"></a><span class="lineno">20767</span>        CFArrayRef flavor_type_array = 0;</div>
<div class="line"><a id="l20768" name="l20768"></a><span class="lineno">20768</span>        PasteboardCopyItemFlavors(main_clipboard, item_id, &amp;flavor_type_array);</div>
<div class="line"><a id="l20769" name="l20769"></a><span class="lineno">20769</span>        <span class="keywordflow">for</span> (CFIndex j = 0, nj = CFArrayGetCount(flavor_type_array); j &lt; nj; j++)</div>
<div class="line"><a id="l20770" name="l20770"></a><span class="lineno">20770</span>        {</div>
<div class="line"><a id="l20771" name="l20771"></a><span class="lineno">20771</span>            CFDataRef cf_data;</div>
<div class="line"><a id="l20772" name="l20772"></a><span class="lineno">20772</span>            <span class="keywordflow">if</span> (PasteboardCopyItemFlavorData(main_clipboard, item_id, CFSTR(<span class="stringliteral">&quot;public.utf8-plain-text&quot;</span>), &amp;cf_data) == noErr)</div>
<div class="line"><a id="l20773" name="l20773"></a><span class="lineno">20773</span>            {</div>
<div class="line"><a id="l20774" name="l20774"></a><span class="lineno">20774</span>                g.ClipboardHandlerData.clear();</div>
<div class="line"><a id="l20775" name="l20775"></a><span class="lineno">20775</span>                <span class="keywordtype">int</span> length = (int)CFDataGetLength(cf_data);</div>
<div class="line"><a id="l20776" name="l20776"></a><span class="lineno">20776</span>                g.ClipboardHandlerData.resize(length + 1);</div>
<div class="line"><a id="l20777" name="l20777"></a><span class="lineno">20777</span>                CFDataGetBytes(cf_data, CFRangeMake(0, length), (UInt8*)g.ClipboardHandlerData.Data);</div>
<div class="line"><a id="l20778" name="l20778"></a><span class="lineno">20778</span>                g.ClipboardHandlerData[length] = 0;</div>
<div class="line"><a id="l20779" name="l20779"></a><span class="lineno">20779</span>                CFRelease(cf_data);</div>
<div class="line"><a id="l20780" name="l20780"></a><span class="lineno">20780</span>                <span class="keywordflow">return</span> g.ClipboardHandlerData.Data;</div>
<div class="line"><a id="l20781" name="l20781"></a><span class="lineno">20781</span>            }</div>
<div class="line"><a id="l20782" name="l20782"></a><span class="lineno">20782</span>        }</div>
<div class="line"><a id="l20783" name="l20783"></a><span class="lineno">20783</span>    }</div>
<div class="line"><a id="l20784" name="l20784"></a><span class="lineno">20784</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l20785" name="l20785"></a><span class="lineno">20785</span>}</div>
<div class="line"><a id="l20786" name="l20786"></a><span class="lineno">20786</span> </div>
<div class="line"><a id="l20787" name="l20787"></a><span class="lineno">20787</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l20788" name="l20788"></a><span class="lineno">20788</span> </div>
<div class="line"><a id="l20789" name="l20789"></a><span class="lineno">20789</span><span class="comment">// Local Dear ImGui-only clipboard implementation, if user hasn&#39;t defined better clipboard handlers.</span></div>
<div class="line"><a id="l20790" name="l20790"></a><span class="lineno">20790</span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* Platform_GetClipboardTextFn_DefaultImpl(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx)</div>
<div class="line"><a id="l20791" name="l20791"></a><span class="lineno">20791</span>{</div>
<div class="line"><a id="l20792" name="l20792"></a><span class="lineno">20792</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *ctx;</div>
<div class="line"><a id="l20793" name="l20793"></a><span class="lineno">20793</span>    <span class="keywordflow">return</span> g.ClipboardHandlerData.empty() ? NULL : g.ClipboardHandlerData.begin();</div>
<div class="line"><a id="l20794" name="l20794"></a><span class="lineno">20794</span>}</div>
<div class="line"><a id="l20795" name="l20795"></a><span class="lineno">20795</span> </div>
<div class="line"><a id="l20796" name="l20796"></a><span class="lineno">20796</span><span class="keyword">static</span> <span class="keywordtype">void</span> Platform_SetClipboardTextFn_DefaultImpl(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>* ctx, <span class="keyword">const</span> <span class="keywordtype">char</span>* text)</div>
<div class="line"><a id="l20797" name="l20797"></a><span class="lineno">20797</span>{</div>
<div class="line"><a id="l20798" name="l20798"></a><span class="lineno">20798</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *ctx;</div>
<div class="line"><a id="l20799" name="l20799"></a><span class="lineno">20799</span>    g.ClipboardHandlerData.clear();</div>
<div class="line"><a id="l20800" name="l20800"></a><span class="lineno">20800</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* text_end = text + ImStrlen(text);</div>
<div class="line"><a id="l20801" name="l20801"></a><span class="lineno">20801</span>    g.ClipboardHandlerData.resize((<span class="keywordtype">int</span>)(text_end - text) + 1);</div>
<div class="line"><a id="l20802" name="l20802"></a><span class="lineno">20802</span>    memcpy(&amp;g.ClipboardHandlerData[0], text, (<span class="keywordtype">size_t</span>)(text_end - text));</div>
<div class="line"><a id="l20803" name="l20803"></a><span class="lineno">20803</span>    g.ClipboardHandlerData[(int)(text_end - text)] = 0;</div>
<div class="line"><a id="l20804" name="l20804"></a><span class="lineno">20804</span>}</div>
<div class="line"><a id="l20805" name="l20805"></a><span class="lineno">20805</span> </div>
<div class="line"><a id="l20806" name="l20806"></a><span class="lineno">20806</span><span class="preprocessor">#endif </span><span class="comment">// Default clipboard handlers</span></div>
<div class="line"><a id="l20807" name="l20807"></a><span class="lineno">20807</span> </div>
<div class="line"><a id="l20808" name="l20808"></a><span class="lineno">20808</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l20809" name="l20809"></a><span class="lineno">20809</span> </div>
<div class="line"><a id="l20810" name="l20810"></a><span class="lineno">20810</span><span class="preprocessor">#ifndef IMGUI_DISABLE_DEFAULT_SHELL_FUNCTIONS</span></div>
<div class="line"><a id="l20811" name="l20811"></a><span class="lineno">20811</span><span class="preprocessor">#if defined(__APPLE__) &amp;&amp; TARGET_OS_IPHONE</span></div>
<div class="line"><a id="l20812" name="l20812"></a><span class="lineno">20812</span><span class="preprocessor">#define IMGUI_DISABLE_DEFAULT_SHELL_FUNCTIONS</span></div>
<div class="line"><a id="l20813" name="l20813"></a><span class="lineno">20813</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l20814" name="l20814"></a><span class="lineno">20814</span><span class="preprocessor">#if defined(__3DS__)</span></div>
<div class="line"><a id="l20815" name="l20815"></a><span class="lineno">20815</span><span class="preprocessor">#define IMGUI_DISABLE_DEFAULT_SHELL_FUNCTIONS</span></div>
<div class="line"><a id="l20816" name="l20816"></a><span class="lineno">20816</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l20817" name="l20817"></a><span class="lineno">20817</span><span class="preprocessor">#if defined(_WIN32) &amp;&amp; defined(IMGUI_DISABLE_WIN32_FUNCTIONS)</span></div>
<div class="line"><a id="l20818" name="l20818"></a><span class="lineno">20818</span><span class="preprocessor">#define IMGUI_DISABLE_DEFAULT_SHELL_FUNCTIONS</span></div>
<div class="line"><a id="l20819" name="l20819"></a><span class="lineno">20819</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l20820" name="l20820"></a><span class="lineno">20820</span><span class="preprocessor">#endif </span><span class="comment">// #ifndef IMGUI_DISABLE_DEFAULT_SHELL_FUNCTIONS</span></div>
<div class="line"><a id="l20821" name="l20821"></a><span class="lineno">20821</span> </div>
<div class="line"><a id="l20822" name="l20822"></a><span class="lineno">20822</span><span class="preprocessor">#ifndef IMGUI_DISABLE_DEFAULT_SHELL_FUNCTIONS</span></div>
<div class="line"><a id="l20823" name="l20823"></a><span class="lineno">20823</span><span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><a id="l20824" name="l20824"></a><span class="lineno">20824</span><span class="preprocessor">#include &lt;shellapi.h&gt;</span>   <span class="comment">// ShellExecuteA()</span></div>
<div class="line"><a id="l20825" name="l20825"></a><span class="lineno">20825</span><span class="preprocessor">#ifdef _MSC_VER</span></div>
<div class="line"><a id="l20826" name="l20826"></a><span class="lineno">20826</span><span class="preprocessor">#pragma comment(lib, &quot;shell32&quot;)</span></div>
<div class="line"><a id="l20827" name="l20827"></a><span class="lineno">20827</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l20828" name="l20828"></a><span class="lineno">20828</span><span class="keyword">static</span> <span class="keywordtype">bool</span> Platform_OpenInShellFn_DefaultImpl(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>*, <span class="keyword">const</span> <span class="keywordtype">char</span>* path)</div>
<div class="line"><a id="l20829" name="l20829"></a><span class="lineno">20829</span>{</div>
<div class="line"><a id="l20830" name="l20830"></a><span class="lineno">20830</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> path_wsize = ::MultiByteToWideChar(CP_UTF8, 0, path, -1, NULL, 0);</div>
<div class="line"><a id="l20831" name="l20831"></a><span class="lineno">20831</span>    <a class="code hl_struct" href="structImVector.html">ImVector&lt;wchar_t&gt;</a> path_wbuf;</div>
<div class="line"><a id="l20832" name="l20832"></a><span class="lineno">20832</span>    path_wbuf.resize(path_wsize);</div>
<div class="line"><a id="l20833" name="l20833"></a><span class="lineno">20833</span>    ::MultiByteToWideChar(CP_UTF8, 0, path, -1, path_wbuf.Data, path_wsize);</div>
<div class="line"><a id="l20834" name="l20834"></a><span class="lineno">20834</span>    <span class="keywordflow">return</span> (INT_PTR)::ShellExecuteW(NULL, L<span class="stringliteral">&quot;open&quot;</span>, path_wbuf.Data, NULL, NULL, SW_SHOWDEFAULT) &gt; 32;</div>
<div class="line"><a id="l20835" name="l20835"></a><span class="lineno">20835</span>}</div>
<div class="line"><a id="l20836" name="l20836"></a><span class="lineno">20836</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l20837" name="l20837"></a><span class="lineno">20837</span><span class="preprocessor">#include &lt;sys/wait.h&gt;</span></div>
<div class="line"><a id="l20838" name="l20838"></a><span class="lineno">20838</span><span class="preprocessor">#include &lt;unistd.h&gt;</span></div>
<div class="line"><a id="l20839" name="l20839"></a><span class="lineno">20839</span><span class="keyword">static</span> <span class="keywordtype">bool</span> Platform_OpenInShellFn_DefaultImpl(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>*, <span class="keyword">const</span> <span class="keywordtype">char</span>* path)</div>
<div class="line"><a id="l20840" name="l20840"></a><span class="lineno">20840</span>{</div>
<div class="line"><a id="l20841" name="l20841"></a><span class="lineno">20841</span><span class="preprocessor">#if defined(__APPLE__)</span></div>
<div class="line"><a id="l20842" name="l20842"></a><span class="lineno">20842</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* args[] { <span class="stringliteral">&quot;open&quot;</span>, <span class="stringliteral">&quot;--&quot;</span>, path, NULL };</div>
<div class="line"><a id="l20843" name="l20843"></a><span class="lineno">20843</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l20844" name="l20844"></a><span class="lineno">20844</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* args[] { <span class="stringliteral">&quot;xdg-open&quot;</span>, path, NULL };</div>
<div class="line"><a id="l20845" name="l20845"></a><span class="lineno">20845</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l20846" name="l20846"></a><span class="lineno">20846</span>    pid_t pid = fork();</div>
<div class="line"><a id="l20847" name="l20847"></a><span class="lineno">20847</span>    <span class="keywordflow">if</span> (pid &lt; 0)</div>
<div class="line"><a id="l20848" name="l20848"></a><span class="lineno">20848</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l20849" name="l20849"></a><span class="lineno">20849</span>    <span class="keywordflow">if</span> (!pid)</div>
<div class="line"><a id="l20850" name="l20850"></a><span class="lineno">20850</span>    {</div>
<div class="line"><a id="l20851" name="l20851"></a><span class="lineno">20851</span>        execvp(args[0], <span class="keyword">const_cast&lt;</span><span class="keywordtype">char</span> **<span class="keyword">&gt;</span>(args));</div>
<div class="line"><a id="l20852" name="l20852"></a><span class="lineno">20852</span>        exit(-1);</div>
<div class="line"><a id="l20853" name="l20853"></a><span class="lineno">20853</span>    }</div>
<div class="line"><a id="l20854" name="l20854"></a><span class="lineno">20854</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l20855" name="l20855"></a><span class="lineno">20855</span>    {</div>
<div class="line"><a id="l20856" name="l20856"></a><span class="lineno">20856</span>        <span class="keywordtype">int</span> status;</div>
<div class="line"><a id="l20857" name="l20857"></a><span class="lineno">20857</span>        waitpid(pid, &amp;status, 0);</div>
<div class="line"><a id="l20858" name="l20858"></a><span class="lineno">20858</span>        <span class="keywordflow">return</span> WEXITSTATUS(status) == 0;</div>
<div class="line"><a id="l20859" name="l20859"></a><span class="lineno">20859</span>    }</div>
<div class="line"><a id="l20860" name="l20860"></a><span class="lineno">20860</span>}</div>
<div class="line"><a id="l20861" name="l20861"></a><span class="lineno">20861</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l20862" name="l20862"></a><span class="lineno">20862</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l20863" name="l20863"></a><span class="lineno">20863</span><span class="keyword">static</span> <span class="keywordtype">bool</span> Platform_OpenInShellFn_DefaultImpl(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>*, <span class="keyword">const</span> <span class="keywordtype">char</span>*) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a id="l20864" name="l20864"></a><span class="lineno">20864</span><span class="preprocessor">#endif </span><span class="comment">// Default shell handlers</span></div>
<div class="line"><a id="l20865" name="l20865"></a><span class="lineno">20865</span> </div>
<div class="line"><a id="l20866" name="l20866"></a><span class="lineno">20866</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l20867" name="l20867"></a><span class="lineno">20867</span> </div>
<div class="line"><a id="l20868" name="l20868"></a><span class="lineno">20868</span><span class="comment">// Win32 API IME support (for Asian languages, etc.)</span></div>
<div class="line"><a id="l20869" name="l20869"></a><span class="lineno">20869</span><span class="preprocessor">#if defined(_WIN32) &amp;&amp; !defined(IMGUI_DISABLE_WIN32_FUNCTIONS) &amp;&amp; !defined(IMGUI_DISABLE_WIN32_DEFAULT_IME_FUNCTIONS)</span></div>
<div class="line"><a id="l20870" name="l20870"></a><span class="lineno">20870</span> </div>
<div class="line"><a id="l20871" name="l20871"></a><span class="lineno">20871</span><span class="preprocessor">#include &lt;imm.h&gt;</span></div>
<div class="line"><a id="l20872" name="l20872"></a><span class="lineno">20872</span><span class="preprocessor">#ifdef _MSC_VER</span></div>
<div class="line"><a id="l20873" name="l20873"></a><span class="lineno">20873</span><span class="preprocessor">#pragma comment(lib, &quot;imm32&quot;)</span></div>
<div class="line"><a id="l20874" name="l20874"></a><span class="lineno">20874</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l20875" name="l20875"></a><span class="lineno">20875</span> </div>
<div class="line"><a id="l20876" name="l20876"></a><span class="lineno">20876</span><span class="keyword">static</span> <span class="keywordtype">void</span> Platform_SetImeDataFn_DefaultImpl(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>*, <a class="code hl_struct" href="structImGuiViewport.html">ImGuiViewport</a>* viewport, <a class="code hl_struct" href="structImGuiPlatformImeData.html">ImGuiPlatformImeData</a>* data)</div>
<div class="line"><a id="l20877" name="l20877"></a><span class="lineno">20877</span>{</div>
<div class="line"><a id="l20878" name="l20878"></a><span class="lineno">20878</span>    <span class="comment">// Notify OS Input Method Editor of text input position</span></div>
<div class="line"><a id="l20879" name="l20879"></a><span class="lineno">20879</span>    HWND hwnd = (HWND)viewport-&gt;PlatformHandleRaw;</div>
<div class="line"><a id="l20880" name="l20880"></a><span class="lineno">20880</span>    <span class="keywordflow">if</span> (hwnd == 0)</div>
<div class="line"><a id="l20881" name="l20881"></a><span class="lineno">20881</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l20882" name="l20882"></a><span class="lineno">20882</span> </div>
<div class="line"><a id="l20883" name="l20883"></a><span class="lineno">20883</span>    <span class="comment">//::ImmAssociateContextEx(hwnd, NULL, data-&gt;WantVisible ? IACE_DEFAULT : 0);</span></div>
<div class="line"><a id="l20884" name="l20884"></a><span class="lineno">20884</span>    <span class="keywordflow">if</span> (HIMC himc = ::ImmGetContext(hwnd))</div>
<div class="line"><a id="l20885" name="l20885"></a><span class="lineno">20885</span>    {</div>
<div class="line"><a id="l20886" name="l20886"></a><span class="lineno">20886</span>        COMPOSITIONFORM composition_form = {};</div>
<div class="line"><a id="l20887" name="l20887"></a><span class="lineno">20887</span>        composition_form.ptCurrentPos.x = (LONG)(data-&gt;InputPos.x - viewport-&gt;Pos.x);</div>
<div class="line"><a id="l20888" name="l20888"></a><span class="lineno">20888</span>        composition_form.ptCurrentPos.y = (LONG)(data-&gt;InputPos.y - viewport-&gt;Pos.y);</div>
<div class="line"><a id="l20889" name="l20889"></a><span class="lineno">20889</span>        composition_form.dwStyle = CFS_FORCE_POSITION;</div>
<div class="line"><a id="l20890" name="l20890"></a><span class="lineno">20890</span>        ::ImmSetCompositionWindow(himc, &amp;composition_form);</div>
<div class="line"><a id="l20891" name="l20891"></a><span class="lineno">20891</span>        CANDIDATEFORM candidate_form = {};</div>
<div class="line"><a id="l20892" name="l20892"></a><span class="lineno">20892</span>        candidate_form.dwStyle = CFS_CANDIDATEPOS;</div>
<div class="line"><a id="l20893" name="l20893"></a><span class="lineno">20893</span>        candidate_form.ptCurrentPos.x = (LONG)(data-&gt;InputPos.x - viewport-&gt;Pos.x);</div>
<div class="line"><a id="l20894" name="l20894"></a><span class="lineno">20894</span>        candidate_form.ptCurrentPos.y = (LONG)(data-&gt;InputPos.y - viewport-&gt;Pos.y);</div>
<div class="line"><a id="l20895" name="l20895"></a><span class="lineno">20895</span>        ::ImmSetCandidateWindow(himc, &amp;candidate_form);</div>
<div class="line"><a id="l20896" name="l20896"></a><span class="lineno">20896</span>        ::ImmReleaseContext(hwnd, himc);</div>
<div class="line"><a id="l20897" name="l20897"></a><span class="lineno">20897</span>    }</div>
<div class="line"><a id="l20898" name="l20898"></a><span class="lineno">20898</span>}</div>
<div class="line"><a id="l20899" name="l20899"></a><span class="lineno">20899</span> </div>
<div class="line"><a id="l20900" name="l20900"></a><span class="lineno">20900</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l20901" name="l20901"></a><span class="lineno">20901</span> </div>
<div class="line"><a id="l20902" name="l20902"></a><span class="lineno">20902</span><span class="keyword">static</span> <span class="keywordtype">void</span> Platform_SetImeDataFn_DefaultImpl(<a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>*, <a class="code hl_struct" href="structImGuiViewport.html">ImGuiViewport</a>*, <a class="code hl_struct" href="structImGuiPlatformImeData.html">ImGuiPlatformImeData</a>*) {}</div>
<div class="line"><a id="l20903" name="l20903"></a><span class="lineno">20903</span> </div>
<div class="line"><a id="l20904" name="l20904"></a><span class="lineno">20904</span><span class="preprocessor">#endif </span><span class="comment">// Default IME handlers</span></div>
<div class="line"><a id="l20905" name="l20905"></a><span class="lineno">20905</span> </div>
<div class="line"><a id="l20906" name="l20906"></a><span class="lineno">20906</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l20907" name="l20907"></a><span class="lineno">20907</span><span class="comment">// [SECTION] METRICS/DEBUGGER WINDOW</span></div>
<div class="line"><a id="l20908" name="l20908"></a><span class="lineno">20908</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l20909" name="l20909"></a><span class="lineno">20909</span><span class="comment">// - DebugRenderViewportThumbnail() [Internal]</span></div>
<div class="line"><a id="l20910" name="l20910"></a><span class="lineno">20910</span><span class="comment">// - RenderViewportsThumbnails() [Internal]</span></div>
<div class="line"><a id="l20911" name="l20911"></a><span class="lineno">20911</span><span class="comment">// - DebugTextEncoding()</span></div>
<div class="line"><a id="l20912" name="l20912"></a><span class="lineno">20912</span><span class="comment">// - MetricsHelpMarker() [Internal]</span></div>
<div class="line"><a id="l20913" name="l20913"></a><span class="lineno">20913</span><span class="comment">// - ShowFontAtlas() [Internal]</span></div>
<div class="line"><a id="l20914" name="l20914"></a><span class="lineno">20914</span><span class="comment">// - ShowMetricsWindow()</span></div>
<div class="line"><a id="l20915" name="l20915"></a><span class="lineno">20915</span><span class="comment">// - DebugNodeColumns() [Internal]</span></div>
<div class="line"><a id="l20916" name="l20916"></a><span class="lineno">20916</span><span class="comment">// - DebugNodeDockNode() [Internal]</span></div>
<div class="line"><a id="l20917" name="l20917"></a><span class="lineno">20917</span><span class="comment">// - DebugNodeDrawList() [Internal]</span></div>
<div class="line"><a id="l20918" name="l20918"></a><span class="lineno">20918</span><span class="comment">// - DebugNodeDrawCmdShowMeshAndBoundingBox() [Internal]</span></div>
<div class="line"><a id="l20919" name="l20919"></a><span class="lineno">20919</span><span class="comment">// - DebugNodeFont() [Internal]</span></div>
<div class="line"><a id="l20920" name="l20920"></a><span class="lineno">20920</span><span class="comment">// - DebugNodeFontGlyph() [Internal]</span></div>
<div class="line"><a id="l20921" name="l20921"></a><span class="lineno">20921</span><span class="comment">// - DebugNodeStorage() [Internal]</span></div>
<div class="line"><a id="l20922" name="l20922"></a><span class="lineno">20922</span><span class="comment">// - DebugNodeTabBar() [Internal]</span></div>
<div class="line"><a id="l20923" name="l20923"></a><span class="lineno">20923</span><span class="comment">// - DebugNodeViewport() [Internal]</span></div>
<div class="line"><a id="l20924" name="l20924"></a><span class="lineno">20924</span><span class="comment">// - DebugNodeWindow() [Internal]</span></div>
<div class="line"><a id="l20925" name="l20925"></a><span class="lineno">20925</span><span class="comment">// - DebugNodeWindowSettings() [Internal]</span></div>
<div class="line"><a id="l20926" name="l20926"></a><span class="lineno">20926</span><span class="comment">// - DebugNodeWindowsList() [Internal]</span></div>
<div class="line"><a id="l20927" name="l20927"></a><span class="lineno">20927</span><span class="comment">// - DebugNodeWindowsListByBeginStackParent() [Internal]</span></div>
<div class="line"><a id="l20928" name="l20928"></a><span class="lineno">20928</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l20929" name="l20929"></a><span class="lineno">20929</span> </div>
<div class="line"><a id="l20930" name="l20930"></a><span class="lineno">20930</span><span class="preprocessor">#ifndef IMGUI_DISABLE_DEBUG_TOOLS</span></div>
<div class="line"><a id="l20931" name="l20931"></a><span class="lineno">20931</span> </div>
<div class="line"><a id="l20932" name="l20932"></a><span class="lineno">20932</span><span class="keywordtype">void</span> ImGui::DebugRenderViewportThumbnail(<a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>* draw_list, <a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport, <span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>&amp; bb)</div>
<div class="line"><a id="l20933" name="l20933"></a><span class="lineno">20933</span>{</div>
<div class="line"><a id="l20934" name="l20934"></a><span class="lineno">20934</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l20935" name="l20935"></a><span class="lineno">20935</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l20936" name="l20936"></a><span class="lineno">20936</span> </div>
<div class="line"><a id="l20937" name="l20937"></a><span class="lineno">20937</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> scale = bb.GetSize() / viewport-&gt;Size;</div>
<div class="line"><a id="l20938" name="l20938"></a><span class="lineno">20938</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> off = bb.Min - viewport-&gt;Pos * scale;</div>
<div class="line"><a id="l20939" name="l20939"></a><span class="lineno">20939</span>    <span class="keywordtype">float</span> alpha_mul = (viewport-&gt;Flags &amp; ImGuiViewportFlags_IsMinimized) ? 0.30f : 1.00f;</div>
<div class="line"><a id="l20940" name="l20940"></a><span class="lineno">20940</span>    window-&gt;DrawList-&gt;AddRectFilled(bb.Min, bb.Max, GetColorU32(ImGuiCol_Border, alpha_mul * 0.40f));</div>
<div class="line"><a id="l20941" name="l20941"></a><span class="lineno">20941</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* thumb_window : g.Windows)</div>
<div class="line"><a id="l20942" name="l20942"></a><span class="lineno">20942</span>    {</div>
<div class="line"><a id="l20943" name="l20943"></a><span class="lineno">20943</span>        <span class="keywordflow">if</span> (!thumb_window-&gt;WasActive || (thumb_window-&gt;Flags &amp; ImGuiWindowFlags_ChildWindow))</div>
<div class="line"><a id="l20944" name="l20944"></a><span class="lineno">20944</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l20945" name="l20945"></a><span class="lineno">20945</span>        <span class="keywordflow">if</span> (thumb_window-&gt;Viewport != viewport)</div>
<div class="line"><a id="l20946" name="l20946"></a><span class="lineno">20946</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l20947" name="l20947"></a><span class="lineno">20947</span> </div>
<div class="line"><a id="l20948" name="l20948"></a><span class="lineno">20948</span>        <a class="code hl_struct" href="structImRect.html">ImRect</a> thumb_r = thumb_window-&gt;Rect();</div>
<div class="line"><a id="l20949" name="l20949"></a><span class="lineno">20949</span>        <a class="code hl_struct" href="structImRect.html">ImRect</a> title_r = thumb_window-&gt;TitleBarRect();</div>
<div class="line"><a id="l20950" name="l20950"></a><span class="lineno">20950</span>        thumb_r = <a class="code hl_struct" href="structImRect.html">ImRect</a>(ImTrunc(off + thumb_r.Min * scale), ImTrunc(off +  thumb_r.Max * scale));</div>
<div class="line"><a id="l20951" name="l20951"></a><span class="lineno">20951</span>        title_r = <a class="code hl_struct" href="structImRect.html">ImRect</a>(ImTrunc(off + title_r.Min * scale), ImTrunc(off +  <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(title_r.Max.x, title_r.Min.y + title_r.GetHeight() * 3.0f) * scale)); <span class="comment">// Exaggerate title bar height</span></div>
<div class="line"><a id="l20952" name="l20952"></a><span class="lineno">20952</span>        thumb_r.ClipWithFull(bb);</div>
<div class="line"><a id="l20953" name="l20953"></a><span class="lineno">20953</span>        title_r.ClipWithFull(bb);</div>
<div class="line"><a id="l20954" name="l20954"></a><span class="lineno">20954</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> window_is_focused = (g.NavWindow &amp;&amp; thumb_window-&gt;RootWindowForTitleBarHighlight == g.NavWindow-&gt;RootWindowForTitleBarHighlight);</div>
<div class="line"><a id="l20955" name="l20955"></a><span class="lineno">20955</span>        window-&gt;DrawList-&gt;AddRectFilled(thumb_r.Min, thumb_r.Max, GetColorU32(ImGuiCol_WindowBg, alpha_mul));</div>
<div class="line"><a id="l20956" name="l20956"></a><span class="lineno">20956</span>        window-&gt;DrawList-&gt;AddRectFilled(title_r.Min, title_r.Max, GetColorU32(window_is_focused ? ImGuiCol_TitleBgActive : ImGuiCol_TitleBg, alpha_mul));</div>
<div class="line"><a id="l20957" name="l20957"></a><span class="lineno">20957</span>        window-&gt;DrawList-&gt;AddRect(thumb_r.Min, thumb_r.Max, GetColorU32(ImGuiCol_Border, alpha_mul));</div>
<div class="line"><a id="l20958" name="l20958"></a><span class="lineno">20958</span>        window-&gt;DrawList-&gt;AddText(g.Font, g.FontSize * 1.0f, title_r.Min, GetColorU32(ImGuiCol_Text, alpha_mul), thumb_window-&gt;Name, FindRenderedTextEnd(thumb_window-&gt;Name));</div>
<div class="line"><a id="l20959" name="l20959"></a><span class="lineno">20959</span>    }</div>
<div class="line"><a id="l20960" name="l20960"></a><span class="lineno">20960</span>    draw_list-&gt;AddRect(bb.Min, bb.Max, GetColorU32(ImGuiCol_Border, alpha_mul));</div>
<div class="line"><a id="l20961" name="l20961"></a><span class="lineno">20961</span>    <span class="keywordflow">if</span> (viewport-&gt;ID == g.DebugMetricsConfig.HighlightViewportID)</div>
<div class="line"><a id="l20962" name="l20962"></a><span class="lineno">20962</span>        window-&gt;DrawList-&gt;AddRect(bb.Min, bb.Max, IM_COL32(255, 255, 0, 255));</div>
<div class="line"><a id="l20963" name="l20963"></a><span class="lineno">20963</span>}</div>
<div class="line"><a id="l20964" name="l20964"></a><span class="lineno">20964</span> </div>
<div class="line"><a id="l20965" name="l20965"></a><span class="lineno">20965</span><span class="keyword">static</span> <span class="keywordtype">void</span> RenderViewportsThumbnails()</div>
<div class="line"><a id="l20966" name="l20966"></a><span class="lineno">20966</span>{</div>
<div class="line"><a id="l20967" name="l20967"></a><span class="lineno">20967</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l20968" name="l20968"></a><span class="lineno">20968</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l20969" name="l20969"></a><span class="lineno">20969</span> </div>
<div class="line"><a id="l20970" name="l20970"></a><span class="lineno">20970</span>    <span class="comment">// Draw monitor and calculate their boundaries</span></div>
<div class="line"><a id="l20971" name="l20971"></a><span class="lineno">20971</span>    <span class="keywordtype">float</span> SCALE = 1.0f / 8.0f;</div>
<div class="line"><a id="l20972" name="l20972"></a><span class="lineno">20972</span>    <a class="code hl_struct" href="structImRect.html">ImRect</a> bb_full(FLT_MAX, FLT_MAX, -FLT_MAX, -FLT_MAX);</div>
<div class="line"><a id="l20973" name="l20973"></a><span class="lineno">20973</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiPlatformMonitor.html">ImGuiPlatformMonitor</a>&amp; monitor : g.PlatformIO.Monitors)</div>
<div class="line"><a id="l20974" name="l20974"></a><span class="lineno">20974</span>        bb_full.Add(<a class="code hl_struct" href="structImRect.html">ImRect</a>(monitor.MainPos, monitor.MainPos + monitor.MainSize));</div>
<div class="line"><a id="l20975" name="l20975"></a><span class="lineno">20975</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> p = window-&gt;DC.CursorPos;</div>
<div class="line"><a id="l20976" name="l20976"></a><span class="lineno">20976</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> off = p - bb_full.Min * SCALE;</div>
<div class="line"><a id="l20977" name="l20977"></a><span class="lineno">20977</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiPlatformMonitor.html">ImGuiPlatformMonitor</a>&amp; monitor : g.PlatformIO.Monitors)</div>
<div class="line"><a id="l20978" name="l20978"></a><span class="lineno">20978</span>    {</div>
<div class="line"><a id="l20979" name="l20979"></a><span class="lineno">20979</span>        <a class="code hl_struct" href="structImRect.html">ImRect</a> monitor_draw_bb(off + (monitor.MainPos) * SCALE, off + (monitor.MainPos + monitor.MainSize) * SCALE);</div>
<div class="line"><a id="l20980" name="l20980"></a><span class="lineno">20980</span>        window-&gt;DrawList-&gt;AddRect(monitor_draw_bb.Min, monitor_draw_bb.Max, (g.DebugMetricsConfig.HighlightMonitorIdx == g.PlatformIO.Monitors.index_from_ptr(&amp;monitor)) ? IM_COL32(255, 255, 0, 255) : ImGui::GetColorU32(ImGuiCol_Border), 4.0f);</div>
<div class="line"><a id="l20981" name="l20981"></a><span class="lineno">20981</span>        window-&gt;DrawList-&gt;AddRectFilled(monitor_draw_bb.Min, monitor_draw_bb.Max, ImGui::GetColorU32(ImGuiCol_Border, 0.10f), 4.0f);</div>
<div class="line"><a id="l20982" name="l20982"></a><span class="lineno">20982</span>    }</div>
<div class="line"><a id="l20983" name="l20983"></a><span class="lineno">20983</span> </div>
<div class="line"><a id="l20984" name="l20984"></a><span class="lineno">20984</span>    <span class="comment">// Draw viewports</span></div>
<div class="line"><a id="l20985" name="l20985"></a><span class="lineno">20985</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport : g.Viewports)</div>
<div class="line"><a id="l20986" name="l20986"></a><span class="lineno">20986</span>    {</div>
<div class="line"><a id="l20987" name="l20987"></a><span class="lineno">20987</span>        <a class="code hl_struct" href="structImRect.html">ImRect</a> viewport_draw_bb(off + (viewport-&gt;Pos) * SCALE, off + (viewport-&gt;Pos + viewport-&gt;Size) * SCALE);</div>
<div class="line"><a id="l20988" name="l20988"></a><span class="lineno">20988</span>        ImGui::DebugRenderViewportThumbnail(window-&gt;DrawList, viewport, viewport_draw_bb);</div>
<div class="line"><a id="l20989" name="l20989"></a><span class="lineno">20989</span>    }</div>
<div class="line"><a id="l20990" name="l20990"></a><span class="lineno">20990</span>    ImGui::Dummy(bb_full.GetSize() * SCALE);</div>
<div class="line"><a id="l20991" name="l20991"></a><span class="lineno">20991</span>}</div>
<div class="line"><a id="l20992" name="l20992"></a><span class="lineno">20992</span> </div>
<div class="line"><a id="l20993" name="l20993"></a><span class="lineno">20993</span><span class="keyword">static</span> <span class="keywordtype">int</span> IMGUI_CDECL ViewportComparerByLastFocusedStampCount(<span class="keyword">const</span> <span class="keywordtype">void</span>* lhs, <span class="keyword">const</span> <span class="keywordtype">void</span>* rhs)</div>
<div class="line"><a id="l20994" name="l20994"></a><span class="lineno">20994</span>{</div>
<div class="line"><a id="l20995" name="l20995"></a><span class="lineno">20995</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* a = *(<span class="keyword">const</span> <a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* <span class="keyword">const</span>*)lhs;</div>
<div class="line"><a id="l20996" name="l20996"></a><span class="lineno">20996</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* b = *(<span class="keyword">const</span> <a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* <span class="keyword">const</span>*)rhs;</div>
<div class="line"><a id="l20997" name="l20997"></a><span class="lineno">20997</span>    <span class="keywordflow">return</span> b-&gt;LastFocusedStampCount - a-&gt;LastFocusedStampCount;</div>
<div class="line"><a id="l20998" name="l20998"></a><span class="lineno">20998</span>}</div>
<div class="line"><a id="l20999" name="l20999"></a><span class="lineno">20999</span> </div>
<div class="line"><a id="l21000" name="l21000"></a><span class="lineno">21000</span><span class="comment">// Draw an arbitrary US keyboard layout to visualize translated keys</span></div>
<div class="line"><a id="l21001" name="l21001"></a><span class="lineno">21001</span><span class="keywordtype">void</span> ImGui::DebugRenderKeyboardPreview(<a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>* draw_list)</div>
<div class="line"><a id="l21002" name="l21002"></a><span class="lineno">21002</span>{</div>
<div class="line"><a id="l21003" name="l21003"></a><span class="lineno">21003</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> scale = ImGui::GetFontSize() / 13.0f;</div>
<div class="line"><a id="l21004" name="l21004"></a><span class="lineno">21004</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> key_size = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(35.0f, 35.0f) * scale;</div>
<div class="line"><a id="l21005" name="l21005"></a><span class="lineno">21005</span>    <span class="keyword">const</span> <span class="keywordtype">float</span>  key_rounding = 3.0f * scale;</div>
<div class="line"><a id="l21006" name="l21006"></a><span class="lineno">21006</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> key_face_size = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(25.0f, 25.0f) * scale;</div>
<div class="line"><a id="l21007" name="l21007"></a><span class="lineno">21007</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> key_face_pos = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(5.0f, 3.0f) * scale;</div>
<div class="line"><a id="l21008" name="l21008"></a><span class="lineno">21008</span>    <span class="keyword">const</span> <span class="keywordtype">float</span>  key_face_rounding = 2.0f * scale;</div>
<div class="line"><a id="l21009" name="l21009"></a><span class="lineno">21009</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> key_label_pos = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(7.0f, 4.0f) * scale;</div>
<div class="line"><a id="l21010" name="l21010"></a><span class="lineno">21010</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> key_step = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(key_size.x - 1.0f, key_size.y - 1.0f);</div>
<div class="line"><a id="l21011" name="l21011"></a><span class="lineno">21011</span>    <span class="keyword">const</span> <span class="keywordtype">float</span>  key_row_offset = 9.0f * scale;</div>
<div class="line"><a id="l21012" name="l21012"></a><span class="lineno">21012</span> </div>
<div class="line"><a id="l21013" name="l21013"></a><span class="lineno">21013</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> board_min = GetCursorScreenPos();</div>
<div class="line"><a id="l21014" name="l21014"></a><span class="lineno">21014</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> board_max = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(board_min.x + 3 * key_step.x + 2 * key_row_offset + 10.0f, board_min.y + 3 * key_step.y + 10.0f);</div>
<div class="line"><a id="l21015" name="l21015"></a><span class="lineno">21015</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> start_pos = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(board_min.x + 5.0f - key_step.x, board_min.y);</div>
<div class="line"><a id="l21016" name="l21016"></a><span class="lineno">21016</span> </div>
<div class="line"><a id="l21017" name="l21017"></a><span class="lineno">21017</span>    <span class="keyword">struct </span>KeyLayoutData { <span class="keywordtype">int</span> Row, Col; <span class="keyword">const</span> <span class="keywordtype">char</span>* Label; ImGuiKey Key; };</div>
<div class="line"><a id="l21018" name="l21018"></a><span class="lineno">21018</span>    <span class="keyword">const</span> KeyLayoutData keys_to_display[] =</div>
<div class="line"><a id="l21019" name="l21019"></a><span class="lineno">21019</span>    {</div>
<div class="line"><a id="l21020" name="l21020"></a><span class="lineno">21020</span>        { 0, 0, <span class="stringliteral">&quot;&quot;</span>, ImGuiKey_Tab },      { 0, 1, <span class="stringliteral">&quot;Q&quot;</span>, ImGuiKey_Q }, { 0, 2, <span class="stringliteral">&quot;W&quot;</span>, ImGuiKey_W }, { 0, 3, <span class="stringliteral">&quot;E&quot;</span>, ImGuiKey_E }, { 0, 4, <span class="stringliteral">&quot;R&quot;</span>, ImGuiKey_R },</div>
<div class="line"><a id="l21021" name="l21021"></a><span class="lineno">21021</span>        { 1, 0, <span class="stringliteral">&quot;&quot;</span>, ImGuiKey_CapsLock }, { 1, 1, <span class="stringliteral">&quot;A&quot;</span>, ImGuiKey_A }, { 1, 2, <span class="stringliteral">&quot;S&quot;</span>, ImGuiKey_S }, { 1, 3, <span class="stringliteral">&quot;D&quot;</span>, ImGuiKey_D }, { 1, 4, <span class="stringliteral">&quot;F&quot;</span>, ImGuiKey_F },</div>
<div class="line"><a id="l21022" name="l21022"></a><span class="lineno">21022</span>        { 2, 0, <span class="stringliteral">&quot;&quot;</span>, ImGuiKey_LeftShift },{ 2, 1, <span class="stringliteral">&quot;Z&quot;</span>, ImGuiKey_Z }, { 2, 2, <span class="stringliteral">&quot;X&quot;</span>, ImGuiKey_X }, { 2, 3, <span class="stringliteral">&quot;C&quot;</span>, ImGuiKey_C }, { 2, 4, <span class="stringliteral">&quot;V&quot;</span>, ImGuiKey_V }</div>
<div class="line"><a id="l21023" name="l21023"></a><span class="lineno">21023</span>    };</div>
<div class="line"><a id="l21024" name="l21024"></a><span class="lineno">21024</span> </div>
<div class="line"><a id="l21025" name="l21025"></a><span class="lineno">21025</span>    <span class="comment">// Elements rendered manually via ImDrawList API are not clipped automatically.</span></div>
<div class="line"><a id="l21026" name="l21026"></a><span class="lineno">21026</span>    <span class="comment">// While not strictly necessary, here IsItemVisible() is used to avoid rendering these shapes when they are out of view.</span></div>
<div class="line"><a id="l21027" name="l21027"></a><span class="lineno">21027</span>    Dummy(board_max - board_min);</div>
<div class="line"><a id="l21028" name="l21028"></a><span class="lineno">21028</span>    <span class="keywordflow">if</span> (!IsItemVisible())</div>
<div class="line"><a id="l21029" name="l21029"></a><span class="lineno">21029</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l21030" name="l21030"></a><span class="lineno">21030</span>    draw_list-&gt;PushClipRect(board_min, board_max, <span class="keyword">true</span>);</div>
<div class="line"><a id="l21031" name="l21031"></a><span class="lineno">21031</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; IM_ARRAYSIZE(keys_to_display); n++)</div>
<div class="line"><a id="l21032" name="l21032"></a><span class="lineno">21032</span>    {</div>
<div class="line"><a id="l21033" name="l21033"></a><span class="lineno">21033</span>        <span class="keyword">const</span> KeyLayoutData* key_data = &amp;keys_to_display[n];</div>
<div class="line"><a id="l21034" name="l21034"></a><span class="lineno">21034</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> key_min = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(start_pos.x + key_data-&gt;Col * key_step.x + key_data-&gt;Row * key_row_offset, start_pos.y + key_data-&gt;Row * key_step.y);</div>
<div class="line"><a id="l21035" name="l21035"></a><span class="lineno">21035</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> key_max = key_min + key_size;</div>
<div class="line"><a id="l21036" name="l21036"></a><span class="lineno">21036</span>        draw_list-&gt;AddRectFilled(key_min, key_max, IM_COL32(204, 204, 204, 255), key_rounding);</div>
<div class="line"><a id="l21037" name="l21037"></a><span class="lineno">21037</span>        draw_list-&gt;AddRect(key_min, key_max, IM_COL32(24, 24, 24, 255), key_rounding);</div>
<div class="line"><a id="l21038" name="l21038"></a><span class="lineno">21038</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> face_min = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(key_min.x + key_face_pos.x, key_min.y + key_face_pos.y);</div>
<div class="line"><a id="l21039" name="l21039"></a><span class="lineno">21039</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> face_max = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(face_min.x + key_face_size.x, face_min.y + key_face_size.y);</div>
<div class="line"><a id="l21040" name="l21040"></a><span class="lineno">21040</span>        draw_list-&gt;AddRect(face_min, face_max, IM_COL32(193, 193, 193, 255), key_face_rounding, ImDrawFlags_None, 2.0f);</div>
<div class="line"><a id="l21041" name="l21041"></a><span class="lineno">21041</span>        draw_list-&gt;AddRectFilled(face_min, face_max, IM_COL32(252, 252, 252, 255), key_face_rounding);</div>
<div class="line"><a id="l21042" name="l21042"></a><span class="lineno">21042</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> label_min = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(key_min.x + key_label_pos.x, key_min.y + key_label_pos.y);</div>
<div class="line"><a id="l21043" name="l21043"></a><span class="lineno">21043</span>        draw_list-&gt;AddText(label_min, IM_COL32(64, 64, 64, 255), key_data-&gt;Label);</div>
<div class="line"><a id="l21044" name="l21044"></a><span class="lineno">21044</span>        <span class="keywordflow">if</span> (IsKeyDown(key_data-&gt;Key))</div>
<div class="line"><a id="l21045" name="l21045"></a><span class="lineno">21045</span>            draw_list-&gt;AddRectFilled(key_min, key_max, IM_COL32(255, 0, 0, 128), key_rounding);</div>
<div class="line"><a id="l21046" name="l21046"></a><span class="lineno">21046</span>    }</div>
<div class="line"><a id="l21047" name="l21047"></a><span class="lineno">21047</span>    draw_list-&gt;PopClipRect();</div>
<div class="line"><a id="l21048" name="l21048"></a><span class="lineno">21048</span>}</div>
<div class="line"><a id="l21049" name="l21049"></a><span class="lineno">21049</span> </div>
<div class="line"><a id="l21050" name="l21050"></a><span class="lineno">21050</span><span class="comment">// Helper tool to diagnose between text encoding issues and font loading issues. Pass your UTF-8 string and verify that there are correct.</span></div>
<div class="line"><a id="l21051" name="l21051"></a><span class="lineno">21051</span><span class="keywordtype">void</span> ImGui::DebugTextEncoding(<span class="keyword">const</span> <span class="keywordtype">char</span>* str)</div>
<div class="line"><a id="l21052" name="l21052"></a><span class="lineno">21052</span>{</div>
<div class="line"><a id="l21053" name="l21053"></a><span class="lineno">21053</span>    Text(<span class="stringliteral">&quot;Text: \&quot;%s\&quot;&quot;</span>, str);</div>
<div class="line"><a id="l21054" name="l21054"></a><span class="lineno">21054</span>    <span class="keywordflow">if</span> (!BeginTable(<span class="stringliteral">&quot;##DebugTextEncoding&quot;</span>, 4, ImGuiTableFlags_Borders | ImGuiTableFlags_RowBg | ImGuiTableFlags_SizingFixedFit | ImGuiTableFlags_Resizable))</div>
<div class="line"><a id="l21055" name="l21055"></a><span class="lineno">21055</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l21056" name="l21056"></a><span class="lineno">21056</span>    TableSetupColumn(<span class="stringliteral">&quot;Offset&quot;</span>);</div>
<div class="line"><a id="l21057" name="l21057"></a><span class="lineno">21057</span>    TableSetupColumn(<span class="stringliteral">&quot;UTF-8&quot;</span>);</div>
<div class="line"><a id="l21058" name="l21058"></a><span class="lineno">21058</span>    TableSetupColumn(<span class="stringliteral">&quot;Glyph&quot;</span>);</div>
<div class="line"><a id="l21059" name="l21059"></a><span class="lineno">21059</span>    TableSetupColumn(<span class="stringliteral">&quot;Codepoint&quot;</span>);</div>
<div class="line"><a id="l21060" name="l21060"></a><span class="lineno">21060</span>    TableHeadersRow();</div>
<div class="line"><a id="l21061" name="l21061"></a><span class="lineno">21061</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keywordtype">char</span>* p = str; *p != 0; )</div>
<div class="line"><a id="l21062" name="l21062"></a><span class="lineno">21062</span>    {</div>
<div class="line"><a id="l21063" name="l21063"></a><span class="lineno">21063</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> c;</div>
<div class="line"><a id="l21064" name="l21064"></a><span class="lineno">21064</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> c_utf8_len = ImTextCharFromUtf8(&amp;c, p, NULL);</div>
<div class="line"><a id="l21065" name="l21065"></a><span class="lineno">21065</span>        TableNextColumn();</div>
<div class="line"><a id="l21066" name="l21066"></a><span class="lineno">21066</span>        Text(<span class="stringliteral">&quot;%d&quot;</span>, (<span class="keywordtype">int</span>)(p - str));</div>
<div class="line"><a id="l21067" name="l21067"></a><span class="lineno">21067</span>        TableNextColumn();</div>
<div class="line"><a id="l21068" name="l21068"></a><span class="lineno">21068</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> byte_index = 0; byte_index &lt; c_utf8_len; byte_index++)</div>
<div class="line"><a id="l21069" name="l21069"></a><span class="lineno">21069</span>        {</div>
<div class="line"><a id="l21070" name="l21070"></a><span class="lineno">21070</span>            <span class="keywordflow">if</span> (byte_index &gt; 0)</div>
<div class="line"><a id="l21071" name="l21071"></a><span class="lineno">21071</span>                SameLine();</div>
<div class="line"><a id="l21072" name="l21072"></a><span class="lineno">21072</span>            Text(<span class="stringliteral">&quot;0x%02X&quot;</span>, (<span class="keywordtype">int</span>)(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)p[byte_index]);</div>
<div class="line"><a id="l21073" name="l21073"></a><span class="lineno">21073</span>        }</div>
<div class="line"><a id="l21074" name="l21074"></a><span class="lineno">21074</span>        TableNextColumn();</div>
<div class="line"><a id="l21075" name="l21075"></a><span class="lineno">21075</span>        <span class="keywordflow">if</span> (GetFont()-&gt;FindGlyphNoFallback((ImWchar)c))</div>
<div class="line"><a id="l21076" name="l21076"></a><span class="lineno">21076</span>            TextUnformatted(p, p + c_utf8_len);</div>
<div class="line"><a id="l21077" name="l21077"></a><span class="lineno">21077</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l21078" name="l21078"></a><span class="lineno">21078</span>            TextUnformatted((c == IM_UNICODE_CODEPOINT_INVALID) ? <span class="stringliteral">&quot;[invalid]&quot;</span> : <span class="stringliteral">&quot;[missing]&quot;</span>);</div>
<div class="line"><a id="l21079" name="l21079"></a><span class="lineno">21079</span>        TableNextColumn();</div>
<div class="line"><a id="l21080" name="l21080"></a><span class="lineno">21080</span>        Text(<span class="stringliteral">&quot;U+%04X&quot;</span>, (<span class="keywordtype">int</span>)c);</div>
<div class="line"><a id="l21081" name="l21081"></a><span class="lineno">21081</span>        p += c_utf8_len;</div>
<div class="line"><a id="l21082" name="l21082"></a><span class="lineno">21082</span>    }</div>
<div class="line"><a id="l21083" name="l21083"></a><span class="lineno">21083</span>    EndTable();</div>
<div class="line"><a id="l21084" name="l21084"></a><span class="lineno">21084</span>}</div>
<div class="line"><a id="l21085" name="l21085"></a><span class="lineno">21085</span> </div>
<div class="line"><a id="l21086" name="l21086"></a><span class="lineno">21086</span><span class="keyword">static</span> <span class="keywordtype">void</span> DebugFlashStyleColorStop()</div>
<div class="line"><a id="l21087" name="l21087"></a><span class="lineno">21087</span>{</div>
<div class="line"><a id="l21088" name="l21088"></a><span class="lineno">21088</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l21089" name="l21089"></a><span class="lineno">21089</span>    <span class="keywordflow">if</span> (g.DebugFlashStyleColorIdx != ImGuiCol_COUNT)</div>
<div class="line"><a id="l21090" name="l21090"></a><span class="lineno">21090</span>        g.Style.Colors[g.DebugFlashStyleColorIdx] = g.DebugFlashStyleColorBackup;</div>
<div class="line"><a id="l21091" name="l21091"></a><span class="lineno">21091</span>    g.DebugFlashStyleColorIdx = ImGuiCol_COUNT;</div>
<div class="line"><a id="l21092" name="l21092"></a><span class="lineno">21092</span>}</div>
<div class="line"><a id="l21093" name="l21093"></a><span class="lineno">21093</span> </div>
<div class="line"><a id="l21094" name="l21094"></a><span class="lineno">21094</span><span class="comment">// Flash a given style color for some + inhibit modifications of this color via PushStyleColor() calls.</span></div>
<div class="line"><a id="l21095" name="l21095"></a><span class="lineno">21095</span><span class="keywordtype">void</span> ImGui::DebugFlashStyleColor(ImGuiCol idx)</div>
<div class="line"><a id="l21096" name="l21096"></a><span class="lineno">21096</span>{</div>
<div class="line"><a id="l21097" name="l21097"></a><span class="lineno">21097</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l21098" name="l21098"></a><span class="lineno">21098</span>    DebugFlashStyleColorStop();</div>
<div class="line"><a id="l21099" name="l21099"></a><span class="lineno">21099</span>    g.DebugFlashStyleColorTime = 0.5f;</div>
<div class="line"><a id="l21100" name="l21100"></a><span class="lineno">21100</span>    g.DebugFlashStyleColorIdx = idx;</div>
<div class="line"><a id="l21101" name="l21101"></a><span class="lineno">21101</span>    g.DebugFlashStyleColorBackup = g.Style.Colors[idx];</div>
<div class="line"><a id="l21102" name="l21102"></a><span class="lineno">21102</span>}</div>
<div class="line"><a id="l21103" name="l21103"></a><span class="lineno">21103</span> </div>
<div class="line"><a id="l21104" name="l21104"></a><span class="lineno">21104</span><span class="keywordtype">void</span> ImGui::UpdateDebugToolFlashStyleColor()</div>
<div class="line"><a id="l21105" name="l21105"></a><span class="lineno">21105</span>{</div>
<div class="line"><a id="l21106" name="l21106"></a><span class="lineno">21106</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l21107" name="l21107"></a><span class="lineno">21107</span>    <span class="keywordflow">if</span> (g.DebugFlashStyleColorTime &lt;= 0.0f)</div>
<div class="line"><a id="l21108" name="l21108"></a><span class="lineno">21108</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l21109" name="l21109"></a><span class="lineno">21109</span>    ColorConvertHSVtoRGB(ImCos(g.DebugFlashStyleColorTime * 6.0f) * 0.5f + 0.5f, 0.5f, 0.5f, g.Style.Colors[g.DebugFlashStyleColorIdx].x, g.Style.Colors[g.DebugFlashStyleColorIdx].y, g.Style.Colors[g.DebugFlashStyleColorIdx].z);</div>
<div class="line"><a id="l21110" name="l21110"></a><span class="lineno">21110</span>    g.Style.Colors[g.DebugFlashStyleColorIdx].w = 1.0f;</div>
<div class="line"><a id="l21111" name="l21111"></a><span class="lineno">21111</span>    <span class="keywordflow">if</span> ((g.DebugFlashStyleColorTime -= g.IO.DeltaTime) &lt;= 0.0f)</div>
<div class="line"><a id="l21112" name="l21112"></a><span class="lineno">21112</span>        DebugFlashStyleColorStop();</div>
<div class="line"><a id="l21113" name="l21113"></a><span class="lineno">21113</span>}</div>
<div class="line"><a id="l21114" name="l21114"></a><span class="lineno">21114</span> </div>
<div class="line"><a id="l21115" name="l21115"></a><span class="lineno">21115</span><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* FormatTextureIDForDebugDisplay(<span class="keywordtype">char</span>* buf, <span class="keywordtype">int</span> buf_size, ImTextureID tex_id)</div>
<div class="line"><a id="l21116" name="l21116"></a><span class="lineno">21116</span>{</div>
<div class="line"><a id="l21117" name="l21117"></a><span class="lineno">21117</span>    <span class="keyword">union </span>{ <span class="keywordtype">void</span>* ptr; <span class="keywordtype">int</span> integer; } tex_id_opaque;</div>
<div class="line"><a id="l21118" name="l21118"></a><span class="lineno">21118</span>    memcpy(&amp;tex_id_opaque, &amp;tex_id, ImMin(<span class="keyword">sizeof</span>(<span class="keywordtype">void</span>*), <span class="keyword">sizeof</span>(tex_id)));</div>
<div class="line"><a id="l21119" name="l21119"></a><span class="lineno">21119</span>    <span class="keywordflow">if</span> (<span class="keyword">sizeof</span>(tex_id) &gt;= <span class="keyword">sizeof</span>(<span class="keywordtype">void</span>*))</div>
<div class="line"><a id="l21120" name="l21120"></a><span class="lineno">21120</span>        ImFormatString(buf, buf_size, <span class="stringliteral">&quot;0x%p&quot;</span>, tex_id_opaque.ptr);</div>
<div class="line"><a id="l21121" name="l21121"></a><span class="lineno">21121</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l21122" name="l21122"></a><span class="lineno">21122</span>        ImFormatString(buf, buf_size, <span class="stringliteral">&quot;0x%04X&quot;</span>, tex_id_opaque.integer);</div>
<div class="line"><a id="l21123" name="l21123"></a><span class="lineno">21123</span>    <span class="keywordflow">return</span> buf;</div>
<div class="line"><a id="l21124" name="l21124"></a><span class="lineno">21124</span>}</div>
<div class="line"><a id="l21125" name="l21125"></a><span class="lineno">21125</span> </div>
<div class="line"><a id="l21126" name="l21126"></a><span class="lineno">21126</span><span class="comment">// Avoid naming collision with imgui_demo.cpp&#39;s HelpMarker() for unity builds.</span></div>
<div class="line"><a id="l21127" name="l21127"></a><span class="lineno">21127</span><span class="keyword">static</span> <span class="keywordtype">void</span> MetricsHelpMarker(<span class="keyword">const</span> <span class="keywordtype">char</span>* desc)</div>
<div class="line"><a id="l21128" name="l21128"></a><span class="lineno">21128</span>{</div>
<div class="line"><a id="l21129" name="l21129"></a><span class="lineno">21129</span>    ImGui::TextDisabled(<span class="stringliteral">&quot;(?)&quot;</span>);</div>
<div class="line"><a id="l21130" name="l21130"></a><span class="lineno">21130</span>    <span class="keywordflow">if</span> (ImGui::BeginItemTooltip())</div>
<div class="line"><a id="l21131" name="l21131"></a><span class="lineno">21131</span>    {</div>
<div class="line"><a id="l21132" name="l21132"></a><span class="lineno">21132</span>        ImGui::PushTextWrapPos(ImGui::GetFontSize() * 35.0f);</div>
<div class="line"><a id="l21133" name="l21133"></a><span class="lineno">21133</span>        ImGui::TextUnformatted(desc);</div>
<div class="line"><a id="l21134" name="l21134"></a><span class="lineno">21134</span>        ImGui::PopTextWrapPos();</div>
<div class="line"><a id="l21135" name="l21135"></a><span class="lineno">21135</span>        ImGui::EndTooltip();</div>
<div class="line"><a id="l21136" name="l21136"></a><span class="lineno">21136</span>    }</div>
<div class="line"><a id="l21137" name="l21137"></a><span class="lineno">21137</span>}</div>
<div class="line"><a id="l21138" name="l21138"></a><span class="lineno">21138</span> </div>
<div class="line"><a id="l21139" name="l21139"></a><span class="lineno">21139</span><span class="comment">// [DEBUG] List fonts in a font atlas and display its texture</span></div>
<div class="line"><a id="l21140" name="l21140"></a><span class="lineno">21140</span><span class="keywordtype">void</span> ImGui::ShowFontAtlas(<a class="code hl_struct" href="structImFontAtlas.html">ImFontAtlas</a>* atlas)</div>
<div class="line"><a id="l21141" name="l21141"></a><span class="lineno">21141</span>{</div>
<div class="line"><a id="l21142" name="l21142"></a><span class="lineno">21142</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImFont.html">ImFont</a>* font : atlas-&gt;Fonts)</div>
<div class="line"><a id="l21143" name="l21143"></a><span class="lineno">21143</span>    {</div>
<div class="line"><a id="l21144" name="l21144"></a><span class="lineno">21144</span>        PushID(font);</div>
<div class="line"><a id="l21145" name="l21145"></a><span class="lineno">21145</span>        DebugNodeFont(font);</div>
<div class="line"><a id="l21146" name="l21146"></a><span class="lineno">21146</span>        PopID();</div>
<div class="line"><a id="l21147" name="l21147"></a><span class="lineno">21147</span>    }</div>
<div class="line"><a id="l21148" name="l21148"></a><span class="lineno">21148</span>    <span class="keywordflow">if</span> (TreeNode(<span class="stringliteral">&quot;Font Atlas&quot;</span>, <span class="stringliteral">&quot;Font Atlas (%dx%d pixels)&quot;</span>, atlas-&gt;TexWidth, atlas-&gt;TexHeight))</div>
<div class="line"><a id="l21149" name="l21149"></a><span class="lineno">21149</span>    {</div>
<div class="line"><a id="l21150" name="l21150"></a><span class="lineno">21150</span>        <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l21151" name="l21151"></a><span class="lineno">21151</span>        PushStyleVar(ImGuiStyleVar_ImageBorderSize, ImMax(1.0f, g.Style.ImageBorderSize));</div>
<div class="line"><a id="l21152" name="l21152"></a><span class="lineno">21152</span>        ImageWithBg(atlas-&gt;TexID, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>((<span class="keywordtype">float</span>)atlas-&gt;TexWidth, (<span class="keywordtype">float</span>)atlas-&gt;TexHeight), <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, 0.0f), <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(1.0f, 1.0f), <a class="code hl_struct" href="structImVec4.html">ImVec4</a>(0.0f, 0.0f, 0.0f, 1.0f));</div>
<div class="line"><a id="l21153" name="l21153"></a><span class="lineno">21153</span>        PopStyleVar();</div>
<div class="line"><a id="l21154" name="l21154"></a><span class="lineno">21154</span>        TreePop();</div>
<div class="line"><a id="l21155" name="l21155"></a><span class="lineno">21155</span>    }</div>
<div class="line"><a id="l21156" name="l21156"></a><span class="lineno">21156</span>}</div>
<div class="line"><a id="l21157" name="l21157"></a><span class="lineno">21157</span> </div>
<div class="line"><a id="l21158" name="l21158"></a><span class="lineno">21158</span><span class="keywordtype">void</span> ImGui::ShowMetricsWindow(<span class="keywordtype">bool</span>* p_open)</div>
<div class="line"><a id="l21159" name="l21159"></a><span class="lineno">21159</span>{</div>
<div class="line"><a id="l21160" name="l21160"></a><span class="lineno">21160</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l21161" name="l21161"></a><span class="lineno">21161</span>    <a class="code hl_struct" href="structImGuiIO.html">ImGuiIO</a>&amp; io = g.IO;</div>
<div class="line"><a id="l21162" name="l21162"></a><span class="lineno">21162</span>    <a class="code hl_struct" href="structImGuiMetricsConfig.html">ImGuiMetricsConfig</a>* cfg = &amp;g.DebugMetricsConfig;</div>
<div class="line"><a id="l21163" name="l21163"></a><span class="lineno">21163</span>    <span class="keywordflow">if</span> (cfg-&gt;ShowDebugLog)</div>
<div class="line"><a id="l21164" name="l21164"></a><span class="lineno">21164</span>        ShowDebugLogWindow(&amp;cfg-&gt;ShowDebugLog);</div>
<div class="line"><a id="l21165" name="l21165"></a><span class="lineno">21165</span>    <span class="keywordflow">if</span> (cfg-&gt;ShowIDStackTool)</div>
<div class="line"><a id="l21166" name="l21166"></a><span class="lineno">21166</span>        ShowIDStackToolWindow(&amp;cfg-&gt;ShowIDStackTool);</div>
<div class="line"><a id="l21167" name="l21167"></a><span class="lineno">21167</span> </div>
<div class="line"><a id="l21168" name="l21168"></a><span class="lineno">21168</span>    <span class="keywordflow">if</span> (!Begin(<span class="stringliteral">&quot;Dear ImGui Metrics/Debugger&quot;</span>, p_open) || GetCurrentWindow()-&gt;BeginCount &gt; 1)</div>
<div class="line"><a id="l21169" name="l21169"></a><span class="lineno">21169</span>    {</div>
<div class="line"><a id="l21170" name="l21170"></a><span class="lineno">21170</span>        End();</div>
<div class="line"><a id="l21171" name="l21171"></a><span class="lineno">21171</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l21172" name="l21172"></a><span class="lineno">21172</span>    }</div>
<div class="line"><a id="l21173" name="l21173"></a><span class="lineno">21173</span> </div>
<div class="line"><a id="l21174" name="l21174"></a><span class="lineno">21174</span>    <span class="comment">// [DEBUG] Clear debug breaks hooks after exactly one cycle.</span></div>
<div class="line"><a id="l21175" name="l21175"></a><span class="lineno">21175</span>    DebugBreakClearData();</div>
<div class="line"><a id="l21176" name="l21176"></a><span class="lineno">21176</span> </div>
<div class="line"><a id="l21177" name="l21177"></a><span class="lineno">21177</span>    <span class="comment">// Basic info</span></div>
<div class="line"><a id="l21178" name="l21178"></a><span class="lineno">21178</span>    Text(<span class="stringliteral">&quot;Dear ImGui %s (%d)&quot;</span>, IMGUI_VERSION, IMGUI_VERSION_NUM);</div>
<div class="line"><a id="l21179" name="l21179"></a><span class="lineno">21179</span>    <span class="keywordflow">if</span> (g.ContextName[0] != 0)</div>
<div class="line"><a id="l21180" name="l21180"></a><span class="lineno">21180</span>    {</div>
<div class="line"><a id="l21181" name="l21181"></a><span class="lineno">21181</span>        SameLine();</div>
<div class="line"><a id="l21182" name="l21182"></a><span class="lineno">21182</span>        Text(<span class="stringliteral">&quot;(Context Name: \&quot;%s\&quot;)&quot;</span>, g.ContextName);</div>
<div class="line"><a id="l21183" name="l21183"></a><span class="lineno">21183</span>    }</div>
<div class="line"><a id="l21184" name="l21184"></a><span class="lineno">21184</span>    Text(<span class="stringliteral">&quot;Application average %.3f ms/frame (%.1f FPS)&quot;</span>, 1000.0f / io.Framerate, io.Framerate);</div>
<div class="line"><a id="l21185" name="l21185"></a><span class="lineno">21185</span>    Text(<span class="stringliteral">&quot;%d vertices, %d indices (%d triangles)&quot;</span>, io.MetricsRenderVertices, io.MetricsRenderIndices, io.MetricsRenderIndices / 3);</div>
<div class="line"><a id="l21186" name="l21186"></a><span class="lineno">21186</span>    Text(<span class="stringliteral">&quot;%d visible windows, %d current allocations&quot;</span>, io.MetricsRenderWindows, g.DebugAllocInfo.TotalAllocCount - g.DebugAllocInfo.TotalFreeCount);</div>
<div class="line"><a id="l21187" name="l21187"></a><span class="lineno">21187</span>    <span class="comment">//SameLine(); if (SmallButton(&quot;GC&quot;)) { g.GcCompactAll = true; }</span></div>
<div class="line"><a id="l21188" name="l21188"></a><span class="lineno">21188</span> </div>
<div class="line"><a id="l21189" name="l21189"></a><span class="lineno">21189</span>    Separator();</div>
<div class="line"><a id="l21190" name="l21190"></a><span class="lineno">21190</span> </div>
<div class="line"><a id="l21191" name="l21191"></a><span class="lineno">21191</span>    <span class="comment">// Debugging enums</span></div>
<div class="line"><a id="l21192" name="l21192"></a><span class="lineno">21192</span>    <span class="keyword">enum</span> { WRT_OuterRect, WRT_OuterRectClipped, WRT_InnerRect, WRT_InnerClipRect, WRT_WorkRect, WRT_Content, WRT_ContentIdeal, WRT_ContentRegionRect, WRT_Count }; <span class="comment">// Windows Rect Type</span></div>
<div class="line"><a id="l21193" name="l21193"></a><span class="lineno">21193</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* wrt_rects_names[WRT_Count] = { <span class="stringliteral">&quot;OuterRect&quot;</span>, <span class="stringliteral">&quot;OuterRectClipped&quot;</span>, <span class="stringliteral">&quot;InnerRect&quot;</span>, <span class="stringliteral">&quot;InnerClipRect&quot;</span>, <span class="stringliteral">&quot;WorkRect&quot;</span>, <span class="stringliteral">&quot;Content&quot;</span>, <span class="stringliteral">&quot;ContentIdeal&quot;</span>, <span class="stringliteral">&quot;ContentRegionRect&quot;</span> };</div>
<div class="line"><a id="l21194" name="l21194"></a><span class="lineno">21194</span>    <span class="keyword">enum</span> { TRT_OuterRect, TRT_InnerRect, TRT_WorkRect, TRT_HostClipRect, TRT_InnerClipRect, TRT_BackgroundClipRect, TRT_ColumnsRect, TRT_ColumnsWorkRect, TRT_ColumnsClipRect, TRT_ColumnsContentHeadersUsed, TRT_ColumnsContentHeadersIdeal, TRT_ColumnsContentFrozen, TRT_ColumnsContentUnfrozen, TRT_Count }; <span class="comment">// Tables Rect Type</span></div>
<div class="line"><a id="l21195" name="l21195"></a><span class="lineno">21195</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* trt_rects_names[TRT_Count] = { <span class="stringliteral">&quot;OuterRect&quot;</span>, <span class="stringliteral">&quot;InnerRect&quot;</span>, <span class="stringliteral">&quot;WorkRect&quot;</span>, <span class="stringliteral">&quot;HostClipRect&quot;</span>, <span class="stringliteral">&quot;InnerClipRect&quot;</span>, <span class="stringliteral">&quot;BackgroundClipRect&quot;</span>, <span class="stringliteral">&quot;ColumnsRect&quot;</span>, <span class="stringliteral">&quot;ColumnsWorkRect&quot;</span>, <span class="stringliteral">&quot;ColumnsClipRect&quot;</span>, <span class="stringliteral">&quot;ColumnsContentHeadersUsed&quot;</span>, <span class="stringliteral">&quot;ColumnsContentHeadersIdeal&quot;</span>, <span class="stringliteral">&quot;ColumnsContentFrozen&quot;</span>, <span class="stringliteral">&quot;ColumnsContentUnfrozen&quot;</span> };</div>
<div class="line"><a id="l21196" name="l21196"></a><span class="lineno">21196</span>    <span class="keywordflow">if</span> (cfg-&gt;ShowWindowsRectsType &lt; 0)</div>
<div class="line"><a id="l21197" name="l21197"></a><span class="lineno">21197</span>        cfg-&gt;ShowWindowsRectsType = WRT_WorkRect;</div>
<div class="line"><a id="l21198" name="l21198"></a><span class="lineno">21198</span>    <span class="keywordflow">if</span> (cfg-&gt;ShowTablesRectsType &lt; 0)</div>
<div class="line"><a id="l21199" name="l21199"></a><span class="lineno">21199</span>        cfg-&gt;ShowTablesRectsType = TRT_WorkRect;</div>
<div class="line"><a id="l21200" name="l21200"></a><span class="lineno">21200</span> </div>
<div class="line"><a id="l21201" name="l21201"></a><span class="lineno">21201</span>    <span class="keyword">struct </span>Funcs</div>
<div class="line"><a id="l21202" name="l21202"></a><span class="lineno">21202</span>    {</div>
<div class="line"><a id="l21203" name="l21203"></a><span class="lineno">21203</span>        <span class="keyword">static</span> <a class="code hl_struct" href="structImRect.html">ImRect</a> GetTableRect(<a class="code hl_struct" href="structImGuiTable.html">ImGuiTable</a>* table, <span class="keywordtype">int</span> rect_type, <span class="keywordtype">int</span> n)</div>
<div class="line"><a id="l21204" name="l21204"></a><span class="lineno">21204</span>        {</div>
<div class="line"><a id="l21205" name="l21205"></a><span class="lineno">21205</span>            <a class="code hl_struct" href="structImGuiTableInstanceData.html">ImGuiTableInstanceData</a>* table_instance = TableGetInstanceData(table, table-&gt;InstanceCurrent); <span class="comment">// Always using last submitted instance</span></div>
<div class="line"><a id="l21206" name="l21206"></a><span class="lineno">21206</span>            <span class="keywordflow">if</span> (rect_type == TRT_OuterRect)                     { <span class="keywordflow">return</span> table-&gt;OuterRect; }</div>
<div class="line"><a id="l21207" name="l21207"></a><span class="lineno">21207</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rect_type == TRT_InnerRect)                { <span class="keywordflow">return</span> table-&gt;InnerRect; }</div>
<div class="line"><a id="l21208" name="l21208"></a><span class="lineno">21208</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rect_type == TRT_WorkRect)                 { <span class="keywordflow">return</span> table-&gt;WorkRect; }</div>
<div class="line"><a id="l21209" name="l21209"></a><span class="lineno">21209</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rect_type == TRT_HostClipRect)             { <span class="keywordflow">return</span> table-&gt;HostClipRect; }</div>
<div class="line"><a id="l21210" name="l21210"></a><span class="lineno">21210</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rect_type == TRT_InnerClipRect)            { <span class="keywordflow">return</span> table-&gt;InnerClipRect; }</div>
<div class="line"><a id="l21211" name="l21211"></a><span class="lineno">21211</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rect_type == TRT_BackgroundClipRect)       { <span class="keywordflow">return</span> table-&gt;BgClipRect; }</div>
<div class="line"><a id="l21212" name="l21212"></a><span class="lineno">21212</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rect_type == TRT_ColumnsRect)              { <a class="code hl_struct" href="structImGuiTableColumn.html">ImGuiTableColumn</a>* c = &amp;table-&gt;Columns[n]; <span class="keywordflow">return</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>(c-&gt;MinX, table-&gt;InnerClipRect.Min.y, c-&gt;MaxX, table-&gt;InnerClipRect.Min.y + table_instance-&gt;LastOuterHeight); }</div>
<div class="line"><a id="l21213" name="l21213"></a><span class="lineno">21213</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rect_type == TRT_ColumnsWorkRect)          { <a class="code hl_struct" href="structImGuiTableColumn.html">ImGuiTableColumn</a>* c = &amp;table-&gt;Columns[n]; <span class="keywordflow">return</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>(c-&gt;WorkMinX, table-&gt;WorkRect.Min.y, c-&gt;WorkMaxX, table-&gt;WorkRect.Max.y); }</div>
<div class="line"><a id="l21214" name="l21214"></a><span class="lineno">21214</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rect_type == TRT_ColumnsClipRect)          { <a class="code hl_struct" href="structImGuiTableColumn.html">ImGuiTableColumn</a>* c = &amp;table-&gt;Columns[n]; <span class="keywordflow">return</span> c-&gt;ClipRect; }</div>
<div class="line"><a id="l21215" name="l21215"></a><span class="lineno">21215</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rect_type == TRT_ColumnsContentHeadersUsed){ <a class="code hl_struct" href="structImGuiTableColumn.html">ImGuiTableColumn</a>* c = &amp;table-&gt;Columns[n]; <span class="keywordflow">return</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>(c-&gt;WorkMinX, table-&gt;InnerClipRect.Min.y, c-&gt;ContentMaxXHeadersUsed, table-&gt;InnerClipRect.Min.y + table_instance-&gt;LastTopHeadersRowHeight); } <span class="comment">// Note: y1/y2 not always accurate</span></div>
<div class="line"><a id="l21216" name="l21216"></a><span class="lineno">21216</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rect_type == TRT_ColumnsContentHeadersIdeal){<a class="code hl_struct" href="structImGuiTableColumn.html">ImGuiTableColumn</a>* c = &amp;table-&gt;Columns[n]; <span class="keywordflow">return</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>(c-&gt;WorkMinX, table-&gt;InnerClipRect.Min.y, c-&gt;ContentMaxXHeadersIdeal, table-&gt;InnerClipRect.Min.y + table_instance-&gt;LastTopHeadersRowHeight); }</div>
<div class="line"><a id="l21217" name="l21217"></a><span class="lineno">21217</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rect_type == TRT_ColumnsContentFrozen)     { <a class="code hl_struct" href="structImGuiTableColumn.html">ImGuiTableColumn</a>* c = &amp;table-&gt;Columns[n]; <span class="keywordflow">return</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>(c-&gt;WorkMinX, table-&gt;InnerClipRect.Min.y, c-&gt;ContentMaxXFrozen, table-&gt;InnerClipRect.Min.y + table_instance-&gt;LastFrozenHeight); }</div>
<div class="line"><a id="l21218" name="l21218"></a><span class="lineno">21218</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rect_type == TRT_ColumnsContentUnfrozen)   { <a class="code hl_struct" href="structImGuiTableColumn.html">ImGuiTableColumn</a>* c = &amp;table-&gt;Columns[n]; <span class="keywordflow">return</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>(c-&gt;WorkMinX, table-&gt;InnerClipRect.Min.y + table_instance-&gt;LastFrozenHeight, c-&gt;ContentMaxXUnfrozen, table-&gt;InnerClipRect.Max.y); }</div>
<div class="line"><a id="l21219" name="l21219"></a><span class="lineno">21219</span>            IM_ASSERT(0);</div>
<div class="line"><a id="l21220" name="l21220"></a><span class="lineno">21220</span>            <span class="keywordflow">return</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>();</div>
<div class="line"><a id="l21221" name="l21221"></a><span class="lineno">21221</span>        }</div>
<div class="line"><a id="l21222" name="l21222"></a><span class="lineno">21222</span> </div>
<div class="line"><a id="l21223" name="l21223"></a><span class="lineno">21223</span>        <span class="keyword">static</span> <a class="code hl_struct" href="structImRect.html">ImRect</a> GetWindowRect(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keywordtype">int</span> rect_type)</div>
<div class="line"><a id="l21224" name="l21224"></a><span class="lineno">21224</span>        {</div>
<div class="line"><a id="l21225" name="l21225"></a><span class="lineno">21225</span>            <span class="keywordflow">if</span> (rect_type == WRT_OuterRect)                 { <span class="keywordflow">return</span> window-&gt;Rect(); }</div>
<div class="line"><a id="l21226" name="l21226"></a><span class="lineno">21226</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rect_type == WRT_OuterRectClipped)     { <span class="keywordflow">return</span> window-&gt;OuterRectClipped; }</div>
<div class="line"><a id="l21227" name="l21227"></a><span class="lineno">21227</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rect_type == WRT_InnerRect)            { <span class="keywordflow">return</span> window-&gt;InnerRect; }</div>
<div class="line"><a id="l21228" name="l21228"></a><span class="lineno">21228</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rect_type == WRT_InnerClipRect)        { <span class="keywordflow">return</span> window-&gt;InnerClipRect; }</div>
<div class="line"><a id="l21229" name="l21229"></a><span class="lineno">21229</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rect_type == WRT_WorkRect)             { <span class="keywordflow">return</span> window-&gt;WorkRect; }</div>
<div class="line"><a id="l21230" name="l21230"></a><span class="lineno">21230</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rect_type == WRT_Content)              { <a class="code hl_struct" href="structImVec2.html">ImVec2</a> min = window-&gt;InnerRect.Min - window-&gt;Scroll + window-&gt;WindowPadding; <span class="keywordflow">return</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>(min, min + window-&gt;ContentSize); }</div>
<div class="line"><a id="l21231" name="l21231"></a><span class="lineno">21231</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rect_type == WRT_ContentIdeal)         { <a class="code hl_struct" href="structImVec2.html">ImVec2</a> min = window-&gt;InnerRect.Min - window-&gt;Scroll + window-&gt;WindowPadding; <span class="keywordflow">return</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>(min, min + window-&gt;ContentSizeIdeal); }</div>
<div class="line"><a id="l21232" name="l21232"></a><span class="lineno">21232</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rect_type == WRT_ContentRegionRect)    { <span class="keywordflow">return</span> window-&gt;ContentRegionRect; }</div>
<div class="line"><a id="l21233" name="l21233"></a><span class="lineno">21233</span>            IM_ASSERT(0);</div>
<div class="line"><a id="l21234" name="l21234"></a><span class="lineno">21234</span>            <span class="keywordflow">return</span> <a class="code hl_struct" href="structImRect.html">ImRect</a>();</div>
<div class="line"><a id="l21235" name="l21235"></a><span class="lineno">21235</span>        }</div>
<div class="line"><a id="l21236" name="l21236"></a><span class="lineno">21236</span>    };</div>
<div class="line"><a id="l21237" name="l21237"></a><span class="lineno">21237</span> </div>
<div class="line"><a id="l21238" name="l21238"></a><span class="lineno">21238</span>    <span class="comment">// Tools</span></div>
<div class="line"><a id="l21239" name="l21239"></a><span class="lineno">21239</span>    <span class="keywordflow">if</span> (TreeNode(<span class="stringliteral">&quot;Tools&quot;</span>))</div>
<div class="line"><a id="l21240" name="l21240"></a><span class="lineno">21240</span>    {</div>
<div class="line"><a id="l21241" name="l21241"></a><span class="lineno">21241</span>        <span class="comment">// Debug Break features</span></div>
<div class="line"><a id="l21242" name="l21242"></a><span class="lineno">21242</span>        <span class="comment">// The Item Picker tool is super useful to visually select an item and break into the call-stack of where it was submitted.</span></div>
<div class="line"><a id="l21243" name="l21243"></a><span class="lineno">21243</span>        SeparatorTextEx(0, <span class="stringliteral">&quot;Debug breaks&quot;</span>, NULL, CalcTextSize(<span class="stringliteral">&quot;(?)&quot;</span>).x + g.Style.SeparatorTextPadding.x);</div>
<div class="line"><a id="l21244" name="l21244"></a><span class="lineno">21244</span>        SameLine();</div>
<div class="line"><a id="l21245" name="l21245"></a><span class="lineno">21245</span>        MetricsHelpMarker(<span class="stringliteral">&quot;Will call the IM_DEBUG_BREAK() macro to break in debugger.\nWarning: If you don&#39;t have a debugger attached, this will probably crash.&quot;</span>);</div>
<div class="line"><a id="l21246" name="l21246"></a><span class="lineno">21246</span>        <span class="keywordflow">if</span> (Checkbox(<span class="stringliteral">&quot;Show Item Picker&quot;</span>, &amp;g.DebugItemPickerActive) &amp;&amp; g.DebugItemPickerActive)</div>
<div class="line"><a id="l21247" name="l21247"></a><span class="lineno">21247</span>            DebugStartItemPicker();</div>
<div class="line"><a id="l21248" name="l21248"></a><span class="lineno">21248</span>        Checkbox(<span class="stringliteral">&quot;Show \&quot;Debug Break\&quot; buttons in other sections (io.ConfigDebugIsDebuggerPresent)&quot;</span>, &amp;g.IO.ConfigDebugIsDebuggerPresent);</div>
<div class="line"><a id="l21249" name="l21249"></a><span class="lineno">21249</span> </div>
<div class="line"><a id="l21250" name="l21250"></a><span class="lineno">21250</span>        SeparatorText(<span class="stringliteral">&quot;Visualize&quot;</span>);</div>
<div class="line"><a id="l21251" name="l21251"></a><span class="lineno">21251</span> </div>
<div class="line"><a id="l21252" name="l21252"></a><span class="lineno">21252</span>        Checkbox(<span class="stringliteral">&quot;Show Debug Log&quot;</span>, &amp;cfg-&gt;ShowDebugLog);</div>
<div class="line"><a id="l21253" name="l21253"></a><span class="lineno">21253</span>        SameLine();</div>
<div class="line"><a id="l21254" name="l21254"></a><span class="lineno">21254</span>        MetricsHelpMarker(<span class="stringliteral">&quot;You can also call ImGui::ShowDebugLogWindow() from your code.&quot;</span>);</div>
<div class="line"><a id="l21255" name="l21255"></a><span class="lineno">21255</span> </div>
<div class="line"><a id="l21256" name="l21256"></a><span class="lineno">21256</span>        Checkbox(<span class="stringliteral">&quot;Show ID Stack Tool&quot;</span>, &amp;cfg-&gt;ShowIDStackTool);</div>
<div class="line"><a id="l21257" name="l21257"></a><span class="lineno">21257</span>        SameLine();</div>
<div class="line"><a id="l21258" name="l21258"></a><span class="lineno">21258</span>        MetricsHelpMarker(<span class="stringliteral">&quot;You can also call ImGui::ShowIDStackToolWindow() from your code.&quot;</span>);</div>
<div class="line"><a id="l21259" name="l21259"></a><span class="lineno">21259</span> </div>
<div class="line"><a id="l21260" name="l21260"></a><span class="lineno">21260</span>        Checkbox(<span class="stringliteral">&quot;Show windows begin order&quot;</span>, &amp;cfg-&gt;ShowWindowsBeginOrder);</div>
<div class="line"><a id="l21261" name="l21261"></a><span class="lineno">21261</span>        Checkbox(<span class="stringliteral">&quot;Show windows rectangles&quot;</span>, &amp;cfg-&gt;ShowWindowsRects);</div>
<div class="line"><a id="l21262" name="l21262"></a><span class="lineno">21262</span>        SameLine();</div>
<div class="line"><a id="l21263" name="l21263"></a><span class="lineno">21263</span>        SetNextItemWidth(GetFontSize() * 12);</div>
<div class="line"><a id="l21264" name="l21264"></a><span class="lineno">21264</span>        cfg-&gt;ShowWindowsRects |= Combo(<span class="stringliteral">&quot;##show_windows_rect_type&quot;</span>, &amp;cfg-&gt;ShowWindowsRectsType, wrt_rects_names, WRT_Count, WRT_Count);</div>
<div class="line"><a id="l21265" name="l21265"></a><span class="lineno">21265</span>        <span class="keywordflow">if</span> (cfg-&gt;ShowWindowsRects &amp;&amp; g.NavWindow != NULL)</div>
<div class="line"><a id="l21266" name="l21266"></a><span class="lineno">21266</span>        {</div>
<div class="line"><a id="l21267" name="l21267"></a><span class="lineno">21267</span>            BulletText(<span class="stringliteral">&quot;&#39;%s&#39;:&quot;</span>, g.NavWindow-&gt;Name);</div>
<div class="line"><a id="l21268" name="l21268"></a><span class="lineno">21268</span>            Indent();</div>
<div class="line"><a id="l21269" name="l21269"></a><span class="lineno">21269</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> rect_n = 0; rect_n &lt; WRT_Count; rect_n++)</div>
<div class="line"><a id="l21270" name="l21270"></a><span class="lineno">21270</span>            {</div>
<div class="line"><a id="l21271" name="l21271"></a><span class="lineno">21271</span>                <a class="code hl_struct" href="structImRect.html">ImRect</a> r = Funcs::GetWindowRect(g.NavWindow, rect_n);</div>
<div class="line"><a id="l21272" name="l21272"></a><span class="lineno">21272</span>                Text(<span class="stringliteral">&quot;(%6.1f,%6.1f) (%6.1f,%6.1f) Size (%6.1f,%6.1f) %s&quot;</span>, r.Min.x, r.Min.y, r.Max.x, r.Max.y, r.GetWidth(), r.GetHeight(), wrt_rects_names[rect_n]);</div>
<div class="line"><a id="l21273" name="l21273"></a><span class="lineno">21273</span>            }</div>
<div class="line"><a id="l21274" name="l21274"></a><span class="lineno">21274</span>            Unindent();</div>
<div class="line"><a id="l21275" name="l21275"></a><span class="lineno">21275</span>        }</div>
<div class="line"><a id="l21276" name="l21276"></a><span class="lineno">21276</span> </div>
<div class="line"><a id="l21277" name="l21277"></a><span class="lineno">21277</span>        Checkbox(<span class="stringliteral">&quot;Show tables rectangles&quot;</span>, &amp;cfg-&gt;ShowTablesRects);</div>
<div class="line"><a id="l21278" name="l21278"></a><span class="lineno">21278</span>        SameLine();</div>
<div class="line"><a id="l21279" name="l21279"></a><span class="lineno">21279</span>        SetNextItemWidth(GetFontSize() * 12);</div>
<div class="line"><a id="l21280" name="l21280"></a><span class="lineno">21280</span>        cfg-&gt;ShowTablesRects |= Combo(<span class="stringliteral">&quot;##show_table_rects_type&quot;</span>, &amp;cfg-&gt;ShowTablesRectsType, trt_rects_names, TRT_Count, TRT_Count);</div>
<div class="line"><a id="l21281" name="l21281"></a><span class="lineno">21281</span>        <span class="keywordflow">if</span> (cfg-&gt;ShowTablesRects &amp;&amp; g.NavWindow != NULL)</div>
<div class="line"><a id="l21282" name="l21282"></a><span class="lineno">21282</span>        {</div>
<div class="line"><a id="l21283" name="l21283"></a><span class="lineno">21283</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> table_n = 0; table_n &lt; g.Tables.GetMapSize(); table_n++)</div>
<div class="line"><a id="l21284" name="l21284"></a><span class="lineno">21284</span>            {</div>
<div class="line"><a id="l21285" name="l21285"></a><span class="lineno">21285</span>                <a class="code hl_struct" href="structImGuiTable.html">ImGuiTable</a>* table = g.Tables.TryGetMapData(table_n);</div>
<div class="line"><a id="l21286" name="l21286"></a><span class="lineno">21286</span>                <span class="keywordflow">if</span> (table == NULL || table-&gt;LastFrameActive &lt; g.FrameCount - 1 || (table-&gt;OuterWindow != g.NavWindow &amp;&amp; table-&gt;InnerWindow != g.NavWindow))</div>
<div class="line"><a id="l21287" name="l21287"></a><span class="lineno">21287</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l21288" name="l21288"></a><span class="lineno">21288</span> </div>
<div class="line"><a id="l21289" name="l21289"></a><span class="lineno">21289</span>                BulletText(<span class="stringliteral">&quot;Table 0x%08X (%d columns, in &#39;%s&#39;)&quot;</span>, table-&gt;ID, table-&gt;ColumnsCount, table-&gt;OuterWindow-&gt;Name);</div>
<div class="line"><a id="l21290" name="l21290"></a><span class="lineno">21290</span>                <span class="keywordflow">if</span> (IsItemHovered())</div>
<div class="line"><a id="l21291" name="l21291"></a><span class="lineno">21291</span>                    GetForegroundDrawList()-&gt;AddRect(table-&gt;OuterRect.Min - <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(1, 1), table-&gt;OuterRect.Max + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(1, 1), IM_COL32(255, 255, 0, 255), 0.0f, 0, 2.0f);</div>
<div class="line"><a id="l21292" name="l21292"></a><span class="lineno">21292</span>                Indent();</div>
<div class="line"><a id="l21293" name="l21293"></a><span class="lineno">21293</span>                <span class="keywordtype">char</span> buf[128];</div>
<div class="line"><a id="l21294" name="l21294"></a><span class="lineno">21294</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> rect_n = 0; rect_n &lt; TRT_Count; rect_n++)</div>
<div class="line"><a id="l21295" name="l21295"></a><span class="lineno">21295</span>                {</div>
<div class="line"><a id="l21296" name="l21296"></a><span class="lineno">21296</span>                    <span class="keywordflow">if</span> (rect_n &gt;= TRT_ColumnsRect)</div>
<div class="line"><a id="l21297" name="l21297"></a><span class="lineno">21297</span>                    {</div>
<div class="line"><a id="l21298" name="l21298"></a><span class="lineno">21298</span>                        <span class="keywordflow">if</span> (rect_n != TRT_ColumnsRect &amp;&amp; rect_n != TRT_ColumnsClipRect)</div>
<div class="line"><a id="l21299" name="l21299"></a><span class="lineno">21299</span>                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l21300" name="l21300"></a><span class="lineno">21300</span>                        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> column_n = 0; column_n &lt; table-&gt;ColumnsCount; column_n++)</div>
<div class="line"><a id="l21301" name="l21301"></a><span class="lineno">21301</span>                        {</div>
<div class="line"><a id="l21302" name="l21302"></a><span class="lineno">21302</span>                            <a class="code hl_struct" href="structImRect.html">ImRect</a> r = Funcs::GetTableRect(table, rect_n, column_n);</div>
<div class="line"><a id="l21303" name="l21303"></a><span class="lineno">21303</span>                            ImFormatString(buf, IM_ARRAYSIZE(buf), <span class="stringliteral">&quot;(%6.1f,%6.1f) (%6.1f,%6.1f) Size (%6.1f,%6.1f) Col %d %s&quot;</span>, r.Min.x, r.Min.y, r.Max.x, r.Max.y, r.GetWidth(), r.GetHeight(), column_n, trt_rects_names[rect_n]);</div>
<div class="line"><a id="l21304" name="l21304"></a><span class="lineno">21304</span>                            Selectable(buf);</div>
<div class="line"><a id="l21305" name="l21305"></a><span class="lineno">21305</span>                            <span class="keywordflow">if</span> (IsItemHovered())</div>
<div class="line"><a id="l21306" name="l21306"></a><span class="lineno">21306</span>                                GetForegroundDrawList()-&gt;AddRect(r.Min - <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(1, 1), r.Max + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(1, 1), IM_COL32(255, 255, 0, 255), 0.0f, 0, 2.0f);</div>
<div class="line"><a id="l21307" name="l21307"></a><span class="lineno">21307</span>                        }</div>
<div class="line"><a id="l21308" name="l21308"></a><span class="lineno">21308</span>                    }</div>
<div class="line"><a id="l21309" name="l21309"></a><span class="lineno">21309</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l21310" name="l21310"></a><span class="lineno">21310</span>                    {</div>
<div class="line"><a id="l21311" name="l21311"></a><span class="lineno">21311</span>                        <a class="code hl_struct" href="structImRect.html">ImRect</a> r = Funcs::GetTableRect(table, rect_n, -1);</div>
<div class="line"><a id="l21312" name="l21312"></a><span class="lineno">21312</span>                        ImFormatString(buf, IM_ARRAYSIZE(buf), <span class="stringliteral">&quot;(%6.1f,%6.1f) (%6.1f,%6.1f) Size (%6.1f,%6.1f) %s&quot;</span>, r.Min.x, r.Min.y, r.Max.x, r.Max.y, r.GetWidth(), r.GetHeight(), trt_rects_names[rect_n]);</div>
<div class="line"><a id="l21313" name="l21313"></a><span class="lineno">21313</span>                        Selectable(buf);</div>
<div class="line"><a id="l21314" name="l21314"></a><span class="lineno">21314</span>                        <span class="keywordflow">if</span> (IsItemHovered())</div>
<div class="line"><a id="l21315" name="l21315"></a><span class="lineno">21315</span>                            GetForegroundDrawList()-&gt;AddRect(r.Min - <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(1, 1), r.Max + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(1, 1), IM_COL32(255, 255, 0, 255), 0.0f, 0, 2.0f);</div>
<div class="line"><a id="l21316" name="l21316"></a><span class="lineno">21316</span>                    }</div>
<div class="line"><a id="l21317" name="l21317"></a><span class="lineno">21317</span>                }</div>
<div class="line"><a id="l21318" name="l21318"></a><span class="lineno">21318</span>                Unindent();</div>
<div class="line"><a id="l21319" name="l21319"></a><span class="lineno">21319</span>            }</div>
<div class="line"><a id="l21320" name="l21320"></a><span class="lineno">21320</span>        }</div>
<div class="line"><a id="l21321" name="l21321"></a><span class="lineno">21321</span>        Checkbox(<span class="stringliteral">&quot;Show groups rectangles&quot;</span>, &amp;g.DebugShowGroupRects); <span class="comment">// Storing in context as this is used by group code and prefers to be in hot-data</span></div>
<div class="line"><a id="l21322" name="l21322"></a><span class="lineno">21322</span> </div>
<div class="line"><a id="l21323" name="l21323"></a><span class="lineno">21323</span>        SeparatorText(<span class="stringliteral">&quot;Validate&quot;</span>);</div>
<div class="line"><a id="l21324" name="l21324"></a><span class="lineno">21324</span> </div>
<div class="line"><a id="l21325" name="l21325"></a><span class="lineno">21325</span>        Checkbox(<span class="stringliteral">&quot;Debug Begin/BeginChild return value&quot;</span>, &amp;io.ConfigDebugBeginReturnValueLoop);</div>
<div class="line"><a id="l21326" name="l21326"></a><span class="lineno">21326</span>        SameLine();</div>
<div class="line"><a id="l21327" name="l21327"></a><span class="lineno">21327</span>        MetricsHelpMarker(<span class="stringliteral">&quot;Some calls to Begin()/BeginChild() will return false.\n\nWill cycle through window depths then repeat. Windows should be flickering while running.&quot;</span>);</div>
<div class="line"><a id="l21328" name="l21328"></a><span class="lineno">21328</span> </div>
<div class="line"><a id="l21329" name="l21329"></a><span class="lineno">21329</span>        Checkbox(<span class="stringliteral">&quot;UTF-8 Encoding viewer&quot;</span>, &amp;cfg-&gt;ShowTextEncodingViewer);</div>
<div class="line"><a id="l21330" name="l21330"></a><span class="lineno">21330</span>        SameLine();</div>
<div class="line"><a id="l21331" name="l21331"></a><span class="lineno">21331</span>        MetricsHelpMarker(<span class="stringliteral">&quot;You can also call ImGui::DebugTextEncoding() from your code with a given string to test that your UTF-8 encoding settings are correct.&quot;</span>);</div>
<div class="line"><a id="l21332" name="l21332"></a><span class="lineno">21332</span>        <span class="keywordflow">if</span> (cfg-&gt;ShowTextEncodingViewer)</div>
<div class="line"><a id="l21333" name="l21333"></a><span class="lineno">21333</span>        {</div>
<div class="line"><a id="l21334" name="l21334"></a><span class="lineno">21334</span>            <span class="keyword">static</span> <span class="keywordtype">char</span> buf[64] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l21335" name="l21335"></a><span class="lineno">21335</span>            SetNextItemWidth(-FLT_MIN);</div>
<div class="line"><a id="l21336" name="l21336"></a><span class="lineno">21336</span>            InputText(<span class="stringliteral">&quot;##DebugTextEncodingBuf&quot;</span>, buf, IM_ARRAYSIZE(buf));</div>
<div class="line"><a id="l21337" name="l21337"></a><span class="lineno">21337</span>            <span class="keywordflow">if</span> (buf[0] != 0)</div>
<div class="line"><a id="l21338" name="l21338"></a><span class="lineno">21338</span>                DebugTextEncoding(buf);</div>
<div class="line"><a id="l21339" name="l21339"></a><span class="lineno">21339</span>        }</div>
<div class="line"><a id="l21340" name="l21340"></a><span class="lineno">21340</span> </div>
<div class="line"><a id="l21341" name="l21341"></a><span class="lineno">21341</span>        TreePop();</div>
<div class="line"><a id="l21342" name="l21342"></a><span class="lineno">21342</span>    }</div>
<div class="line"><a id="l21343" name="l21343"></a><span class="lineno">21343</span> </div>
<div class="line"><a id="l21344" name="l21344"></a><span class="lineno">21344</span>    <span class="comment">// Windows</span></div>
<div class="line"><a id="l21345" name="l21345"></a><span class="lineno">21345</span>    <span class="keywordflow">if</span> (TreeNode(<span class="stringliteral">&quot;Windows&quot;</span>, <span class="stringliteral">&quot;Windows (%d)&quot;</span>, g.Windows.Size))</div>
<div class="line"><a id="l21346" name="l21346"></a><span class="lineno">21346</span>    {</div>
<div class="line"><a id="l21347" name="l21347"></a><span class="lineno">21347</span>        <span class="comment">//SetNextItemOpen(true, ImGuiCond_Once);</span></div>
<div class="line"><a id="l21348" name="l21348"></a><span class="lineno">21348</span>        DebugNodeWindowsList(&amp;g.Windows, <span class="stringliteral">&quot;By display order&quot;</span>);</div>
<div class="line"><a id="l21349" name="l21349"></a><span class="lineno">21349</span>        DebugNodeWindowsList(&amp;g.WindowsFocusOrder, <span class="stringliteral">&quot;By focus order (root windows)&quot;</span>);</div>
<div class="line"><a id="l21350" name="l21350"></a><span class="lineno">21350</span>        <span class="keywordflow">if</span> (TreeNode(<span class="stringliteral">&quot;By submission order (begin stack)&quot;</span>))</div>
<div class="line"><a id="l21351" name="l21351"></a><span class="lineno">21351</span>        {</div>
<div class="line"><a id="l21352" name="l21352"></a><span class="lineno">21352</span>            <span class="comment">// Here we display windows in their submitted order/hierarchy, however note that the Begin stack doesn&#39;t constitute a Parent&lt;&gt;Child relationship!</span></div>
<div class="line"><a id="l21353" name="l21353"></a><span class="lineno">21353</span>            <a class="code hl_struct" href="structImVector.html">ImVector&lt;ImGuiWindow*&gt;</a>&amp; temp_buffer = g.WindowsTempSortBuffer;</div>
<div class="line"><a id="l21354" name="l21354"></a><span class="lineno">21354</span>            temp_buffer.resize(0);</div>
<div class="line"><a id="l21355" name="l21355"></a><span class="lineno">21355</span>            <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window : g.Windows)</div>
<div class="line"><a id="l21356" name="l21356"></a><span class="lineno">21356</span>                if (window-&gt;LastFrameActive + 1 &gt;= g.FrameCount)</div>
<div class="line"><a id="l21357" name="l21357"></a><span class="lineno">21357</span>                    temp_buffer.push_back(window);</div>
<div class="line"><a id="l21358" name="l21358"></a><span class="lineno">21358</span>            <span class="keyword">struct </span>Func { <span class="keyword">static</span> <span class="keywordtype">int</span> IMGUI_CDECL WindowComparerByBeginOrder(<span class="keyword">const</span> <span class="keywordtype">void</span>* lhs, <span class="keyword">const</span> <span class="keywordtype">void</span>* rhs) { <span class="keywordflow">return</span> ((<span class="keywordtype">int</span>)(*(<span class="keyword">const</span> <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* <span class="keyword">const</span> *)lhs)-&gt;BeginOrderWithinContext - (*(<span class="keyword">const</span> <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* <span class="keyword">const</span>*)rhs)-&gt;BeginOrderWithinContext); } };</div>
<div class="line"><a id="l21359" name="l21359"></a><span class="lineno">21359</span>            ImQsort(temp_buffer.Data, (<span class="keywordtype">size_t</span>)temp_buffer.Size, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>*), Func::WindowComparerByBeginOrder);</div>
<div class="line"><a id="l21360" name="l21360"></a><span class="lineno">21360</span>            DebugNodeWindowsListByBeginStackParent(temp_buffer.Data, temp_buffer.Size, NULL);</div>
<div class="line"><a id="l21361" name="l21361"></a><span class="lineno">21361</span>            TreePop();</div>
<div class="line"><a id="l21362" name="l21362"></a><span class="lineno">21362</span>        }</div>
<div class="line"><a id="l21363" name="l21363"></a><span class="lineno">21363</span> </div>
<div class="line"><a id="l21364" name="l21364"></a><span class="lineno">21364</span>        TreePop();</div>
<div class="line"><a id="l21365" name="l21365"></a><span class="lineno">21365</span>    }</div>
<div class="line"><a id="l21366" name="l21366"></a><span class="lineno">21366</span> </div>
<div class="line"><a id="l21367" name="l21367"></a><span class="lineno">21367</span>    <span class="comment">// DrawLists</span></div>
<div class="line"><a id="l21368" name="l21368"></a><span class="lineno">21368</span>    <span class="keywordtype">int</span> drawlist_count = 0;</div>
<div class="line"><a id="l21369" name="l21369"></a><span class="lineno">21369</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport : g.Viewports)</div>
<div class="line"><a id="l21370" name="l21370"></a><span class="lineno">21370</span>        drawlist_count += viewport-&gt;DrawDataP.CmdLists.Size;</div>
<div class="line"><a id="l21371" name="l21371"></a><span class="lineno">21371</span>    <span class="keywordflow">if</span> (TreeNode(<span class="stringliteral">&quot;DrawLists&quot;</span>, <span class="stringliteral">&quot;DrawLists (%d)&quot;</span>, drawlist_count))</div>
<div class="line"><a id="l21372" name="l21372"></a><span class="lineno">21372</span>    {</div>
<div class="line"><a id="l21373" name="l21373"></a><span class="lineno">21373</span>        Checkbox(<span class="stringliteral">&quot;Show ImDrawCmd mesh when hovering&quot;</span>, &amp;cfg-&gt;ShowDrawCmdMesh);</div>
<div class="line"><a id="l21374" name="l21374"></a><span class="lineno">21374</span>        Checkbox(<span class="stringliteral">&quot;Show ImDrawCmd bounding boxes when hovering&quot;</span>, &amp;cfg-&gt;ShowDrawCmdBoundingBoxes);</div>
<div class="line"><a id="l21375" name="l21375"></a><span class="lineno">21375</span>        <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport : g.Viewports)</div>
<div class="line"><a id="l21376" name="l21376"></a><span class="lineno">21376</span>        {</div>
<div class="line"><a id="l21377" name="l21377"></a><span class="lineno">21377</span>            <span class="keywordtype">bool</span> viewport_has_drawlist = <span class="keyword">false</span>;</div>
<div class="line"><a id="l21378" name="l21378"></a><span class="lineno">21378</span>            <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>* draw_list : viewport-&gt;DrawDataP.CmdLists)</div>
<div class="line"><a id="l21379" name="l21379"></a><span class="lineno">21379</span>            {</div>
<div class="line"><a id="l21380" name="l21380"></a><span class="lineno">21380</span>                <span class="keywordflow">if</span> (!viewport_has_drawlist)</div>
<div class="line"><a id="l21381" name="l21381"></a><span class="lineno">21381</span>                    Text(<span class="stringliteral">&quot;Active DrawLists in Viewport #%d, ID: 0x%08X&quot;</span>, viewport-&gt;Idx, viewport-&gt;ID);</div>
<div class="line"><a id="l21382" name="l21382"></a><span class="lineno">21382</span>                viewport_has_drawlist = <span class="keyword">true</span>;</div>
<div class="line"><a id="l21383" name="l21383"></a><span class="lineno">21383</span>                DebugNodeDrawList(NULL, viewport, draw_list, <span class="stringliteral">&quot;DrawList&quot;</span>);</div>
<div class="line"><a id="l21384" name="l21384"></a><span class="lineno">21384</span>            }</div>
<div class="line"><a id="l21385" name="l21385"></a><span class="lineno">21385</span>        }</div>
<div class="line"><a id="l21386" name="l21386"></a><span class="lineno">21386</span>        TreePop();</div>
<div class="line"><a id="l21387" name="l21387"></a><span class="lineno">21387</span>    }</div>
<div class="line"><a id="l21388" name="l21388"></a><span class="lineno">21388</span> </div>
<div class="line"><a id="l21389" name="l21389"></a><span class="lineno">21389</span>    <span class="comment">// Viewports</span></div>
<div class="line"><a id="l21390" name="l21390"></a><span class="lineno">21390</span>    <span class="keywordflow">if</span> (TreeNode(<span class="stringliteral">&quot;Viewports&quot;</span>, <span class="stringliteral">&quot;Viewports (%d)&quot;</span>, g.Viewports.Size))</div>
<div class="line"><a id="l21391" name="l21391"></a><span class="lineno">21391</span>    {</div>
<div class="line"><a id="l21392" name="l21392"></a><span class="lineno">21392</span>        cfg-&gt;HighlightMonitorIdx = -1;</div>
<div class="line"><a id="l21393" name="l21393"></a><span class="lineno">21393</span>        <span class="keywordtype">bool</span> open = TreeNode(<span class="stringliteral">&quot;Monitors&quot;</span>, <span class="stringliteral">&quot;Monitors (%d)&quot;</span>, g.PlatformIO.Monitors.Size);</div>
<div class="line"><a id="l21394" name="l21394"></a><span class="lineno">21394</span>        SameLine();</div>
<div class="line"><a id="l21395" name="l21395"></a><span class="lineno">21395</span>        MetricsHelpMarker(<span class="stringliteral">&quot;Dear ImGui uses monitor data:\n- to query DPI settings on a per monitor basis\n- to position popup/tooltips so they don&#39;t straddle monitors.&quot;</span>);</div>
<div class="line"><a id="l21396" name="l21396"></a><span class="lineno">21396</span>        <span class="keywordflow">if</span> (open)</div>
<div class="line"><a id="l21397" name="l21397"></a><span class="lineno">21397</span>        {</div>
<div class="line"><a id="l21398" name="l21398"></a><span class="lineno">21398</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; g.PlatformIO.Monitors.Size; i++)</div>
<div class="line"><a id="l21399" name="l21399"></a><span class="lineno">21399</span>            {</div>
<div class="line"><a id="l21400" name="l21400"></a><span class="lineno">21400</span>                DebugNodePlatformMonitor(&amp;g.PlatformIO.Monitors[i], <span class="stringliteral">&quot;Monitor&quot;</span>, i);</div>
<div class="line"><a id="l21401" name="l21401"></a><span class="lineno">21401</span>                <span class="keywordflow">if</span> (IsItemHovered())</div>
<div class="line"><a id="l21402" name="l21402"></a><span class="lineno">21402</span>                    cfg-&gt;HighlightMonitorIdx = i;</div>
<div class="line"><a id="l21403" name="l21403"></a><span class="lineno">21403</span>            }</div>
<div class="line"><a id="l21404" name="l21404"></a><span class="lineno">21404</span>            DebugNodePlatformMonitor(&amp;g.FallbackMonitor, <span class="stringliteral">&quot;Fallback&quot;</span>, 0);</div>
<div class="line"><a id="l21405" name="l21405"></a><span class="lineno">21405</span>            TreePop();</div>
<div class="line"><a id="l21406" name="l21406"></a><span class="lineno">21406</span>        }</div>
<div class="line"><a id="l21407" name="l21407"></a><span class="lineno">21407</span> </div>
<div class="line"><a id="l21408" name="l21408"></a><span class="lineno">21408</span>        SetNextItemOpen(<span class="keyword">true</span>, ImGuiCond_Once);</div>
<div class="line"><a id="l21409" name="l21409"></a><span class="lineno">21409</span>        <span class="keywordflow">if</span> (TreeNode(<span class="stringliteral">&quot;Windows Minimap&quot;</span>))</div>
<div class="line"><a id="l21410" name="l21410"></a><span class="lineno">21410</span>        {</div>
<div class="line"><a id="l21411" name="l21411"></a><span class="lineno">21411</span>            RenderViewportsThumbnails();</div>
<div class="line"><a id="l21412" name="l21412"></a><span class="lineno">21412</span>            TreePop();</div>
<div class="line"><a id="l21413" name="l21413"></a><span class="lineno">21413</span>        }</div>
<div class="line"><a id="l21414" name="l21414"></a><span class="lineno">21414</span>        cfg-&gt;HighlightViewportID = 0;</div>
<div class="line"><a id="l21415" name="l21415"></a><span class="lineno">21415</span> </div>
<div class="line"><a id="l21416" name="l21416"></a><span class="lineno">21416</span>        BulletText(<span class="stringliteral">&quot;MouseViewport: 0x%08X (UserHovered 0x%08X, LastHovered 0x%08X)&quot;</span>, g.MouseViewport ? g.MouseViewport-&gt;ID : 0, g.IO.MouseHoveredViewport, g.MouseLastHoveredViewport ? g.MouseLastHoveredViewport-&gt;ID : 0);</div>
<div class="line"><a id="l21417" name="l21417"></a><span class="lineno">21417</span>        <span class="keywordflow">if</span> (TreeNode(<span class="stringliteral">&quot;Inferred Z order (front-to-back)&quot;</span>))</div>
<div class="line"><a id="l21418" name="l21418"></a><span class="lineno">21418</span>        {</div>
<div class="line"><a id="l21419" name="l21419"></a><span class="lineno">21419</span>            <span class="keyword">static</span> <a class="code hl_struct" href="structImVector.html">ImVector&lt;ImGuiViewportP*&gt;</a> viewports;</div>
<div class="line"><a id="l21420" name="l21420"></a><span class="lineno">21420</span>            viewports.resize(g.Viewports.Size);</div>
<div class="line"><a id="l21421" name="l21421"></a><span class="lineno">21421</span>            memcpy(viewports.Data, g.Viewports.Data, g.Viewports.size_in_bytes());</div>
<div class="line"><a id="l21422" name="l21422"></a><span class="lineno">21422</span>            <span class="keywordflow">if</span> (viewports.Size &gt; 1)</div>
<div class="line"><a id="l21423" name="l21423"></a><span class="lineno">21423</span>                ImQsort(viewports.Data, viewports.Size, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structImGuiViewport.html">ImGuiViewport</a>*), ViewportComparerByLastFocusedStampCount);</div>
<div class="line"><a id="l21424" name="l21424"></a><span class="lineno">21424</span>            <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport : viewports)</div>
<div class="line"><a id="l21425" name="l21425"></a><span class="lineno">21425</span>            {</div>
<div class="line"><a id="l21426" name="l21426"></a><span class="lineno">21426</span>                BulletText(<span class="stringliteral">&quot;Viewport #%d, ID: 0x%08X, LastFocused = %08d, PlatformFocused = %s, Window: \&quot;%s\&quot;&quot;</span>,</div>
<div class="line"><a id="l21427" name="l21427"></a><span class="lineno">21427</span>                    viewport-&gt;Idx, viewport-&gt;ID, viewport-&gt;LastFocusedStampCount,</div>
<div class="line"><a id="l21428" name="l21428"></a><span class="lineno">21428</span>                    (g.PlatformIO.Platform_GetWindowFocus &amp;&amp; viewport-&gt;PlatformWindowCreated) ? (g.PlatformIO.Platform_GetWindowFocus(viewport) ? <span class="stringliteral">&quot;1&quot;</span> : <span class="stringliteral">&quot;0&quot;</span>) : <span class="stringliteral">&quot;N/A&quot;</span>,</div>
<div class="line"><a id="l21429" name="l21429"></a><span class="lineno">21429</span>                    viewport-&gt;Window ? viewport-&gt;Window-&gt;Name : <span class="stringliteral">&quot;N/A&quot;</span>);</div>
<div class="line"><a id="l21430" name="l21430"></a><span class="lineno">21430</span>                <span class="keywordflow">if</span> (IsItemHovered())</div>
<div class="line"><a id="l21431" name="l21431"></a><span class="lineno">21431</span>                    cfg-&gt;HighlightViewportID = viewport-&gt;ID;</div>
<div class="line"><a id="l21432" name="l21432"></a><span class="lineno">21432</span>            }</div>
<div class="line"><a id="l21433" name="l21433"></a><span class="lineno">21433</span>            TreePop();</div>
<div class="line"><a id="l21434" name="l21434"></a><span class="lineno">21434</span>        }</div>
<div class="line"><a id="l21435" name="l21435"></a><span class="lineno">21435</span> </div>
<div class="line"><a id="l21436" name="l21436"></a><span class="lineno">21436</span>        <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport : g.Viewports)</div>
<div class="line"><a id="l21437" name="l21437"></a><span class="lineno">21437</span>            DebugNodeViewport(viewport);</div>
<div class="line"><a id="l21438" name="l21438"></a><span class="lineno">21438</span>        TreePop();</div>
<div class="line"><a id="l21439" name="l21439"></a><span class="lineno">21439</span>    }</div>
<div class="line"><a id="l21440" name="l21440"></a><span class="lineno">21440</span> </div>
<div class="line"><a id="l21441" name="l21441"></a><span class="lineno">21441</span>    <span class="comment">// Details for Popups</span></div>
<div class="line"><a id="l21442" name="l21442"></a><span class="lineno">21442</span>    <span class="keywordflow">if</span> (TreeNode(<span class="stringliteral">&quot;Popups&quot;</span>, <span class="stringliteral">&quot;Popups (%d)&quot;</span>, g.OpenPopupStack.Size))</div>
<div class="line"><a id="l21443" name="l21443"></a><span class="lineno">21443</span>    {</div>
<div class="line"><a id="l21444" name="l21444"></a><span class="lineno">21444</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_struct" href="structImGuiPopupData.html">ImGuiPopupData</a>&amp; popup_data : g.OpenPopupStack)</div>
<div class="line"><a id="l21445" name="l21445"></a><span class="lineno">21445</span>        {</div>
<div class="line"><a id="l21446" name="l21446"></a><span class="lineno">21446</span>            <span class="comment">// As it&#39;s difficult to interact with tree nodes while popups are open, we display everything inline.</span></div>
<div class="line"><a id="l21447" name="l21447"></a><span class="lineno">21447</span>            <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = popup_data.Window;</div>
<div class="line"><a id="l21448" name="l21448"></a><span class="lineno">21448</span>            BulletText(<span class="stringliteral">&quot;PopupID: %08x, Window: &#39;%s&#39; (%s%s), RestoreNavWindow &#39;%s&#39;, ParentWindow &#39;%s&#39;&quot;</span>,</div>
<div class="line"><a id="l21449" name="l21449"></a><span class="lineno">21449</span>                popup_data.PopupId, window ? window-&gt;Name : <span class="stringliteral">&quot;NULL&quot;</span>, window &amp;&amp; (window-&gt;Flags &amp; ImGuiWindowFlags_ChildWindow) ? <span class="stringliteral">&quot;Child;&quot;</span> : <span class="stringliteral">&quot;&quot;</span>, window &amp;&amp; (window-&gt;Flags &amp; ImGuiWindowFlags_ChildMenu) ? <span class="stringliteral">&quot;Menu;&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l21450" name="l21450"></a><span class="lineno">21450</span>                popup_data.RestoreNavWindow ? popup_data.RestoreNavWindow-&gt;Name : <span class="stringliteral">&quot;NULL&quot;</span>, window &amp;&amp; window-&gt;ParentWindow ? window-&gt;ParentWindow-&gt;Name : <span class="stringliteral">&quot;NULL&quot;</span>);</div>
<div class="line"><a id="l21451" name="l21451"></a><span class="lineno">21451</span>        }</div>
<div class="line"><a id="l21452" name="l21452"></a><span class="lineno">21452</span>        TreePop();</div>
<div class="line"><a id="l21453" name="l21453"></a><span class="lineno">21453</span>    }</div>
<div class="line"><a id="l21454" name="l21454"></a><span class="lineno">21454</span> </div>
<div class="line"><a id="l21455" name="l21455"></a><span class="lineno">21455</span>    <span class="comment">// Details for TabBars</span></div>
<div class="line"><a id="l21456" name="l21456"></a><span class="lineno">21456</span>    <span class="keywordflow">if</span> (TreeNode(<span class="stringliteral">&quot;TabBars&quot;</span>, <span class="stringliteral">&quot;Tab Bars (%d)&quot;</span>, g.TabBars.GetAliveCount()))</div>
<div class="line"><a id="l21457" name="l21457"></a><span class="lineno">21457</span>    {</div>
<div class="line"><a id="l21458" name="l21458"></a><span class="lineno">21458</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; g.TabBars.GetMapSize(); n++)</div>
<div class="line"><a id="l21459" name="l21459"></a><span class="lineno">21459</span>            <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiTabBar.html">ImGuiTabBar</a>* tab_bar = g.TabBars.TryGetMapData(n))</div>
<div class="line"><a id="l21460" name="l21460"></a><span class="lineno">21460</span>            {</div>
<div class="line"><a id="l21461" name="l21461"></a><span class="lineno">21461</span>                PushID(tab_bar);</div>
<div class="line"><a id="l21462" name="l21462"></a><span class="lineno">21462</span>                DebugNodeTabBar(tab_bar, <span class="stringliteral">&quot;TabBar&quot;</span>);</div>
<div class="line"><a id="l21463" name="l21463"></a><span class="lineno">21463</span>                PopID();</div>
<div class="line"><a id="l21464" name="l21464"></a><span class="lineno">21464</span>            }</div>
<div class="line"><a id="l21465" name="l21465"></a><span class="lineno">21465</span>        TreePop();</div>
<div class="line"><a id="l21466" name="l21466"></a><span class="lineno">21466</span>    }</div>
<div class="line"><a id="l21467" name="l21467"></a><span class="lineno">21467</span> </div>
<div class="line"><a id="l21468" name="l21468"></a><span class="lineno">21468</span>    <span class="comment">// Details for Tables</span></div>
<div class="line"><a id="l21469" name="l21469"></a><span class="lineno">21469</span>    <span class="keywordflow">if</span> (TreeNode(<span class="stringliteral">&quot;Tables&quot;</span>, <span class="stringliteral">&quot;Tables (%d)&quot;</span>, g.Tables.GetAliveCount()))</div>
<div class="line"><a id="l21470" name="l21470"></a><span class="lineno">21470</span>    {</div>
<div class="line"><a id="l21471" name="l21471"></a><span class="lineno">21471</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; g.Tables.GetMapSize(); n++)</div>
<div class="line"><a id="l21472" name="l21472"></a><span class="lineno">21472</span>            <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiTable.html">ImGuiTable</a>* table = g.Tables.TryGetMapData(n))</div>
<div class="line"><a id="l21473" name="l21473"></a><span class="lineno">21473</span>                DebugNodeTable(table);</div>
<div class="line"><a id="l21474" name="l21474"></a><span class="lineno">21474</span>        TreePop();</div>
<div class="line"><a id="l21475" name="l21475"></a><span class="lineno">21475</span>    }</div>
<div class="line"><a id="l21476" name="l21476"></a><span class="lineno">21476</span> </div>
<div class="line"><a id="l21477" name="l21477"></a><span class="lineno">21477</span>    <span class="comment">// Details for Fonts</span></div>
<div class="line"><a id="l21478" name="l21478"></a><span class="lineno">21478</span>    <a class="code hl_struct" href="structImFontAtlas.html">ImFontAtlas</a>* atlas = g.IO.Fonts;</div>
<div class="line"><a id="l21479" name="l21479"></a><span class="lineno">21479</span>    <span class="keywordflow">if</span> (TreeNode(<span class="stringliteral">&quot;Fonts&quot;</span>, <span class="stringliteral">&quot;Fonts (%d)&quot;</span>, atlas-&gt;Fonts.Size))</div>
<div class="line"><a id="l21480" name="l21480"></a><span class="lineno">21480</span>    {</div>
<div class="line"><a id="l21481" name="l21481"></a><span class="lineno">21481</span>        ShowFontAtlas(atlas);</div>
<div class="line"><a id="l21482" name="l21482"></a><span class="lineno">21482</span>        TreePop();</div>
<div class="line"><a id="l21483" name="l21483"></a><span class="lineno">21483</span>    }</div>
<div class="line"><a id="l21484" name="l21484"></a><span class="lineno">21484</span> </div>
<div class="line"><a id="l21485" name="l21485"></a><span class="lineno">21485</span>    <span class="comment">// Details for InputText</span></div>
<div class="line"><a id="l21486" name="l21486"></a><span class="lineno">21486</span>    <span class="keywordflow">if</span> (TreeNode(<span class="stringliteral">&quot;InputText&quot;</span>))</div>
<div class="line"><a id="l21487" name="l21487"></a><span class="lineno">21487</span>    {</div>
<div class="line"><a id="l21488" name="l21488"></a><span class="lineno">21488</span>        DebugNodeInputTextState(&amp;g.InputTextState);</div>
<div class="line"><a id="l21489" name="l21489"></a><span class="lineno">21489</span>        TreePop();</div>
<div class="line"><a id="l21490" name="l21490"></a><span class="lineno">21490</span>    }</div>
<div class="line"><a id="l21491" name="l21491"></a><span class="lineno">21491</span> </div>
<div class="line"><a id="l21492" name="l21492"></a><span class="lineno">21492</span>    <span class="comment">// Details for TypingSelect</span></div>
<div class="line"><a id="l21493" name="l21493"></a><span class="lineno">21493</span>    <span class="keywordflow">if</span> (TreeNode(<span class="stringliteral">&quot;TypingSelect&quot;</span>, <span class="stringliteral">&quot;TypingSelect (%d)&quot;</span>, g.TypingSelectState.SearchBuffer[0] != 0 ? 1 : 0))</div>
<div class="line"><a id="l21494" name="l21494"></a><span class="lineno">21494</span>    {</div>
<div class="line"><a id="l21495" name="l21495"></a><span class="lineno">21495</span>        DebugNodeTypingSelectState(&amp;g.TypingSelectState);</div>
<div class="line"><a id="l21496" name="l21496"></a><span class="lineno">21496</span>        TreePop();</div>
<div class="line"><a id="l21497" name="l21497"></a><span class="lineno">21497</span>    }</div>
<div class="line"><a id="l21498" name="l21498"></a><span class="lineno">21498</span> </div>
<div class="line"><a id="l21499" name="l21499"></a><span class="lineno">21499</span>    <span class="comment">// Details for MultiSelect</span></div>
<div class="line"><a id="l21500" name="l21500"></a><span class="lineno">21500</span>    <span class="keywordflow">if</span> (TreeNode(<span class="stringliteral">&quot;MultiSelect&quot;</span>, <span class="stringliteral">&quot;MultiSelect (%d)&quot;</span>, g.MultiSelectStorage.GetAliveCount()))</div>
<div class="line"><a id="l21501" name="l21501"></a><span class="lineno">21501</span>    {</div>
<div class="line"><a id="l21502" name="l21502"></a><span class="lineno">21502</span>        <a class="code hl_struct" href="structImGuiBoxSelectState.html">ImGuiBoxSelectState</a>* bs = &amp;g.BoxSelectState;</div>
<div class="line"><a id="l21503" name="l21503"></a><span class="lineno">21503</span>        BulletText(<span class="stringliteral">&quot;BoxSelect ID=0x%08X, Starting = %d, Active %d&quot;</span>, bs-&gt;ID, bs-&gt;IsStarting, bs-&gt;IsActive);</div>
<div class="line"><a id="l21504" name="l21504"></a><span class="lineno">21504</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; g.MultiSelectStorage.GetMapSize(); n++)</div>
<div class="line"><a id="l21505" name="l21505"></a><span class="lineno">21505</span>            <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiMultiSelectState.html">ImGuiMultiSelectState</a>* state = g.MultiSelectStorage.TryGetMapData(n))</div>
<div class="line"><a id="l21506" name="l21506"></a><span class="lineno">21506</span>                DebugNodeMultiSelectState(state);</div>
<div class="line"><a id="l21507" name="l21507"></a><span class="lineno">21507</span>        TreePop();</div>
<div class="line"><a id="l21508" name="l21508"></a><span class="lineno">21508</span>    }</div>
<div class="line"><a id="l21509" name="l21509"></a><span class="lineno">21509</span> </div>
<div class="line"><a id="l21510" name="l21510"></a><span class="lineno">21510</span>    <span class="comment">// Details for Docking</span></div>
<div class="line"><a id="l21511" name="l21511"></a><span class="lineno">21511</span><span class="preprocessor">#ifdef IMGUI_HAS_DOCK</span></div>
<div class="line"><a id="l21512" name="l21512"></a><span class="lineno">21512</span>    <span class="keywordflow">if</span> (TreeNode(<span class="stringliteral">&quot;Docking&quot;</span>))</div>
<div class="line"><a id="l21513" name="l21513"></a><span class="lineno">21513</span>    {</div>
<div class="line"><a id="l21514" name="l21514"></a><span class="lineno">21514</span>        <span class="keyword">static</span> <span class="keywordtype">bool</span> root_nodes_only = <span class="keyword">true</span>;</div>
<div class="line"><a id="l21515" name="l21515"></a><span class="lineno">21515</span>        <a class="code hl_struct" href="structImGuiDockContext.html">ImGuiDockContext</a>* dc = &amp;g.DockContext;</div>
<div class="line"><a id="l21516" name="l21516"></a><span class="lineno">21516</span>        Checkbox(<span class="stringliteral">&quot;List root nodes&quot;</span>, &amp;root_nodes_only);</div>
<div class="line"><a id="l21517" name="l21517"></a><span class="lineno">21517</span>        Checkbox(<span class="stringliteral">&quot;Ctrl shows window dock info&quot;</span>, &amp;cfg-&gt;ShowDockingNodes);</div>
<div class="line"><a id="l21518" name="l21518"></a><span class="lineno">21518</span>        <span class="keywordflow">if</span> (SmallButton(<span class="stringliteral">&quot;Clear nodes&quot;</span>)) { DockContextClearNodes(&amp;g, 0, <span class="keyword">true</span>); }</div>
<div class="line"><a id="l21519" name="l21519"></a><span class="lineno">21519</span>        SameLine();</div>
<div class="line"><a id="l21520" name="l21520"></a><span class="lineno">21520</span>        <span class="keywordflow">if</span> (SmallButton(<span class="stringliteral">&quot;Rebuild all&quot;</span>)) { dc-&gt;WantFullRebuild = <span class="keyword">true</span>; }</div>
<div class="line"><a id="l21521" name="l21521"></a><span class="lineno">21521</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; dc-&gt;Nodes.Data.Size; n++)</div>
<div class="line"><a id="l21522" name="l21522"></a><span class="lineno">21522</span>            <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node = (<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>*)dc-&gt;Nodes.Data[n].val_p)</div>
<div class="line"><a id="l21523" name="l21523"></a><span class="lineno">21523</span>                <span class="keywordflow">if</span> (!root_nodes_only || node-&gt;IsRootNode())</div>
<div class="line"><a id="l21524" name="l21524"></a><span class="lineno">21524</span>                    DebugNodeDockNode(node, <span class="stringliteral">&quot;Node&quot;</span>);</div>
<div class="line"><a id="l21525" name="l21525"></a><span class="lineno">21525</span>        TreePop();</div>
<div class="line"><a id="l21526" name="l21526"></a><span class="lineno">21526</span>    }</div>
<div class="line"><a id="l21527" name="l21527"></a><span class="lineno">21527</span><span class="preprocessor">#endif </span><span class="comment">// #ifdef IMGUI_HAS_DOCK</span></div>
<div class="line"><a id="l21528" name="l21528"></a><span class="lineno">21528</span> </div>
<div class="line"><a id="l21529" name="l21529"></a><span class="lineno">21529</span>    <span class="comment">// Settings</span></div>
<div class="line"><a id="l21530" name="l21530"></a><span class="lineno">21530</span>    <span class="keywordflow">if</span> (TreeNode(<span class="stringliteral">&quot;Settings&quot;</span>))</div>
<div class="line"><a id="l21531" name="l21531"></a><span class="lineno">21531</span>    {</div>
<div class="line"><a id="l21532" name="l21532"></a><span class="lineno">21532</span>        <span class="keywordflow">if</span> (SmallButton(<span class="stringliteral">&quot;Clear&quot;</span>))</div>
<div class="line"><a id="l21533" name="l21533"></a><span class="lineno">21533</span>            ClearIniSettings();</div>
<div class="line"><a id="l21534" name="l21534"></a><span class="lineno">21534</span>        SameLine();</div>
<div class="line"><a id="l21535" name="l21535"></a><span class="lineno">21535</span>        <span class="keywordflow">if</span> (SmallButton(<span class="stringliteral">&quot;Save to memory&quot;</span>))</div>
<div class="line"><a id="l21536" name="l21536"></a><span class="lineno">21536</span>            SaveIniSettingsToMemory();</div>
<div class="line"><a id="l21537" name="l21537"></a><span class="lineno">21537</span>        SameLine();</div>
<div class="line"><a id="l21538" name="l21538"></a><span class="lineno">21538</span>        <span class="keywordflow">if</span> (SmallButton(<span class="stringliteral">&quot;Save to disk&quot;</span>))</div>
<div class="line"><a id="l21539" name="l21539"></a><span class="lineno">21539</span>            SaveIniSettingsToDisk(g.IO.IniFilename);</div>
<div class="line"><a id="l21540" name="l21540"></a><span class="lineno">21540</span>        SameLine();</div>
<div class="line"><a id="l21541" name="l21541"></a><span class="lineno">21541</span>        <span class="keywordflow">if</span> (g.IO.IniFilename)</div>
<div class="line"><a id="l21542" name="l21542"></a><span class="lineno">21542</span>            Text(<span class="stringliteral">&quot;\&quot;%s\&quot;&quot;</span>, g.IO.IniFilename);</div>
<div class="line"><a id="l21543" name="l21543"></a><span class="lineno">21543</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l21544" name="l21544"></a><span class="lineno">21544</span>            TextUnformatted(<span class="stringliteral">&quot;&lt;NULL&gt;&quot;</span>);</div>
<div class="line"><a id="l21545" name="l21545"></a><span class="lineno">21545</span>        Checkbox(<span class="stringliteral">&quot;io.ConfigDebugIniSettings&quot;</span>, &amp;io.ConfigDebugIniSettings);</div>
<div class="line"><a id="l21546" name="l21546"></a><span class="lineno">21546</span>        Text(<span class="stringliteral">&quot;SettingsDirtyTimer %.2f&quot;</span>, g.SettingsDirtyTimer);</div>
<div class="line"><a id="l21547" name="l21547"></a><span class="lineno">21547</span>        <span class="keywordflow">if</span> (TreeNode(<span class="stringliteral">&quot;SettingsHandlers&quot;</span>, <span class="stringliteral">&quot;Settings handlers: (%d)&quot;</span>, g.SettingsHandlers.Size))</div>
<div class="line"><a id="l21548" name="l21548"></a><span class="lineno">21548</span>        {</div>
<div class="line"><a id="l21549" name="l21549"></a><span class="lineno">21549</span>            <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a>&amp; handler : g.SettingsHandlers)</div>
<div class="line"><a id="l21550" name="l21550"></a><span class="lineno">21550</span>                BulletText(<span class="stringliteral">&quot;\&quot;%s\&quot;&quot;</span>, handler.TypeName);</div>
<div class="line"><a id="l21551" name="l21551"></a><span class="lineno">21551</span>            TreePop();</div>
<div class="line"><a id="l21552" name="l21552"></a><span class="lineno">21552</span>        }</div>
<div class="line"><a id="l21553" name="l21553"></a><span class="lineno">21553</span>        <span class="keywordflow">if</span> (TreeNode(<span class="stringliteral">&quot;SettingsWindows&quot;</span>, <span class="stringliteral">&quot;Settings packed data: Windows: %d bytes&quot;</span>, g.SettingsWindows.size()))</div>
<div class="line"><a id="l21554" name="l21554"></a><span class="lineno">21554</span>        {</div>
<div class="line"><a id="l21555" name="l21555"></a><span class="lineno">21555</span>            <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>* settings = g.SettingsWindows.begin(); settings != NULL; settings = g.SettingsWindows.next_chunk(settings))</div>
<div class="line"><a id="l21556" name="l21556"></a><span class="lineno">21556</span>                DebugNodeWindowSettings(settings);</div>
<div class="line"><a id="l21557" name="l21557"></a><span class="lineno">21557</span>            TreePop();</div>
<div class="line"><a id="l21558" name="l21558"></a><span class="lineno">21558</span>        }</div>
<div class="line"><a id="l21559" name="l21559"></a><span class="lineno">21559</span> </div>
<div class="line"><a id="l21560" name="l21560"></a><span class="lineno">21560</span>        <span class="keywordflow">if</span> (TreeNode(<span class="stringliteral">&quot;SettingsTables&quot;</span>, <span class="stringliteral">&quot;Settings packed data: Tables: %d bytes&quot;</span>, g.SettingsTables.size()))</div>
<div class="line"><a id="l21561" name="l21561"></a><span class="lineno">21561</span>        {</div>
<div class="line"><a id="l21562" name="l21562"></a><span class="lineno">21562</span>            <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiTableSettings.html">ImGuiTableSettings</a>* settings = g.SettingsTables.begin(); settings != NULL; settings = g.SettingsTables.next_chunk(settings))</div>
<div class="line"><a id="l21563" name="l21563"></a><span class="lineno">21563</span>                DebugNodeTableSettings(settings);</div>
<div class="line"><a id="l21564" name="l21564"></a><span class="lineno">21564</span>            TreePop();</div>
<div class="line"><a id="l21565" name="l21565"></a><span class="lineno">21565</span>        }</div>
<div class="line"><a id="l21566" name="l21566"></a><span class="lineno">21566</span> </div>
<div class="line"><a id="l21567" name="l21567"></a><span class="lineno">21567</span><span class="preprocessor">#ifdef IMGUI_HAS_DOCK</span></div>
<div class="line"><a id="l21568" name="l21568"></a><span class="lineno">21568</span>        <span class="keywordflow">if</span> (TreeNode(<span class="stringliteral">&quot;SettingsDocking&quot;</span>, <span class="stringliteral">&quot;Settings packed data: Docking&quot;</span>))</div>
<div class="line"><a id="l21569" name="l21569"></a><span class="lineno">21569</span>        {</div>
<div class="line"><a id="l21570" name="l21570"></a><span class="lineno">21570</span>            <a class="code hl_struct" href="structImGuiDockContext.html">ImGuiDockContext</a>* dc = &amp;g.DockContext;</div>
<div class="line"><a id="l21571" name="l21571"></a><span class="lineno">21571</span>            Text(<span class="stringliteral">&quot;In SettingsWindows:&quot;</span>);</div>
<div class="line"><a id="l21572" name="l21572"></a><span class="lineno">21572</span>            <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>* settings = g.SettingsWindows.begin(); settings != NULL; settings = g.SettingsWindows.next_chunk(settings))</div>
<div class="line"><a id="l21573" name="l21573"></a><span class="lineno">21573</span>                <span class="keywordflow">if</span> (settings-&gt;DockId != 0)</div>
<div class="line"><a id="l21574" name="l21574"></a><span class="lineno">21574</span>                    BulletText(<span class="stringliteral">&quot;Window &#39;%s&#39; -&gt; DockId %08X DockOrder=%d&quot;</span>, settings-&gt;GetName(), settings-&gt;DockId, settings-&gt;DockOrder);</div>
<div class="line"><a id="l21575" name="l21575"></a><span class="lineno">21575</span>            Text(<span class="stringliteral">&quot;In SettingsNodes:&quot;</span>);</div>
<div class="line"><a id="l21576" name="l21576"></a><span class="lineno">21576</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; dc-&gt;NodesSettings.Size; n++)</div>
<div class="line"><a id="l21577" name="l21577"></a><span class="lineno">21577</span>            {</div>
<div class="line"><a id="l21578" name="l21578"></a><span class="lineno">21578</span>                <a class="code hl_struct" href="structImGuiDockNodeSettings.html">ImGuiDockNodeSettings</a>* settings = &amp;dc-&gt;NodesSettings[n];</div>
<div class="line"><a id="l21579" name="l21579"></a><span class="lineno">21579</span>                <span class="keyword">const</span> <span class="keywordtype">char</span>* selected_tab_name = NULL;</div>
<div class="line"><a id="l21580" name="l21580"></a><span class="lineno">21580</span>                <span class="keywordflow">if</span> (settings-&gt;SelectedTabId)</div>
<div class="line"><a id="l21581" name="l21581"></a><span class="lineno">21581</span>                {</div>
<div class="line"><a id="l21582" name="l21582"></a><span class="lineno">21582</span>                    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = FindWindowByID(settings-&gt;SelectedTabId))</div>
<div class="line"><a id="l21583" name="l21583"></a><span class="lineno">21583</span>                        selected_tab_name = window-&gt;Name;</div>
<div class="line"><a id="l21584" name="l21584"></a><span class="lineno">21584</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>* window_settings = FindWindowSettingsByID(settings-&gt;SelectedTabId))</div>
<div class="line"><a id="l21585" name="l21585"></a><span class="lineno">21585</span>                        selected_tab_name = window_settings-&gt;GetName();</div>
<div class="line"><a id="l21586" name="l21586"></a><span class="lineno">21586</span>                }</div>
<div class="line"><a id="l21587" name="l21587"></a><span class="lineno">21587</span>                BulletText(<span class="stringliteral">&quot;Node %08X, Parent %08X, SelectedTab %08X (&#39;%s&#39;)&quot;</span>, settings-&gt;ID, settings-&gt;ParentNodeId, settings-&gt;SelectedTabId, selected_tab_name ? selected_tab_name : settings-&gt;SelectedTabId ? <span class="stringliteral">&quot;N/A&quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a id="l21588" name="l21588"></a><span class="lineno">21588</span>            }</div>
<div class="line"><a id="l21589" name="l21589"></a><span class="lineno">21589</span>            TreePop();</div>
<div class="line"><a id="l21590" name="l21590"></a><span class="lineno">21590</span>        }</div>
<div class="line"><a id="l21591" name="l21591"></a><span class="lineno">21591</span><span class="preprocessor">#endif </span><span class="comment">// #ifdef IMGUI_HAS_DOCK</span></div>
<div class="line"><a id="l21592" name="l21592"></a><span class="lineno">21592</span> </div>
<div class="line"><a id="l21593" name="l21593"></a><span class="lineno">21593</span>        <span class="keywordflow">if</span> (TreeNode(<span class="stringliteral">&quot;SettingsIniData&quot;</span>, <span class="stringliteral">&quot;Settings unpacked data (.ini): %d bytes&quot;</span>, g.SettingsIniData.size()))</div>
<div class="line"><a id="l21594" name="l21594"></a><span class="lineno">21594</span>        {</div>
<div class="line"><a id="l21595" name="l21595"></a><span class="lineno">21595</span>            InputTextMultiline(<span class="stringliteral">&quot;##Ini&quot;</span>, (<span class="keywordtype">char</span>*)(<span class="keywordtype">void</span>*)g.SettingsIniData.c_str(), g.SettingsIniData.Buf.Size, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(-FLT_MIN, GetTextLineHeight() * 20), ImGuiInputTextFlags_ReadOnly);</div>
<div class="line"><a id="l21596" name="l21596"></a><span class="lineno">21596</span>            TreePop();</div>
<div class="line"><a id="l21597" name="l21597"></a><span class="lineno">21597</span>        }</div>
<div class="line"><a id="l21598" name="l21598"></a><span class="lineno">21598</span>        TreePop();</div>
<div class="line"><a id="l21599" name="l21599"></a><span class="lineno">21599</span>    }</div>
<div class="line"><a id="l21600" name="l21600"></a><span class="lineno">21600</span> </div>
<div class="line"><a id="l21601" name="l21601"></a><span class="lineno">21601</span>    <span class="comment">// Settings</span></div>
<div class="line"><a id="l21602" name="l21602"></a><span class="lineno">21602</span>    <span class="keywordflow">if</span> (TreeNode(<span class="stringliteral">&quot;Memory allocations&quot;</span>))</div>
<div class="line"><a id="l21603" name="l21603"></a><span class="lineno">21603</span>    {</div>
<div class="line"><a id="l21604" name="l21604"></a><span class="lineno">21604</span>        <a class="code hl_struct" href="structImGuiDebugAllocInfo.html">ImGuiDebugAllocInfo</a>* info = &amp;g.DebugAllocInfo;</div>
<div class="line"><a id="l21605" name="l21605"></a><span class="lineno">21605</span>        Text(<span class="stringliteral">&quot;%d current allocations&quot;</span>, info-&gt;TotalAllocCount - info-&gt;TotalFreeCount);</div>
<div class="line"><a id="l21606" name="l21606"></a><span class="lineno">21606</span>        <span class="keywordflow">if</span> (SmallButton(<span class="stringliteral">&quot;GC now&quot;</span>)) { g.GcCompactAll = <span class="keyword">true</span>; }</div>
<div class="line"><a id="l21607" name="l21607"></a><span class="lineno">21607</span>        Text(<span class="stringliteral">&quot;Recent frames with allocations:&quot;</span>);</div>
<div class="line"><a id="l21608" name="l21608"></a><span class="lineno">21608</span>        <span class="keywordtype">int</span> buf_size = IM_ARRAYSIZE(info-&gt;LastEntriesBuf);</div>
<div class="line"><a id="l21609" name="l21609"></a><span class="lineno">21609</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = buf_size - 1; n &gt;= 0; n--)</div>
<div class="line"><a id="l21610" name="l21610"></a><span class="lineno">21610</span>        {</div>
<div class="line"><a id="l21611" name="l21611"></a><span class="lineno">21611</span>            <a class="code hl_struct" href="structImGuiDebugAllocEntry.html">ImGuiDebugAllocEntry</a>* entry = &amp;info-&gt;LastEntriesBuf[(info-&gt;LastEntriesIdx - n + buf_size) % buf_size];</div>
<div class="line"><a id="l21612" name="l21612"></a><span class="lineno">21612</span>            BulletText(<span class="stringliteral">&quot;Frame %06d: %+3d ( %2d alloc, %2d free )&quot;</span>, entry-&gt;FrameCount, entry-&gt;AllocCount - entry-&gt;FreeCount, entry-&gt;AllocCount, entry-&gt;FreeCount);</div>
<div class="line"><a id="l21613" name="l21613"></a><span class="lineno">21613</span>            <span class="keywordflow">if</span> (n == 0)</div>
<div class="line"><a id="l21614" name="l21614"></a><span class="lineno">21614</span>            {</div>
<div class="line"><a id="l21615" name="l21615"></a><span class="lineno">21615</span>                SameLine();</div>
<div class="line"><a id="l21616" name="l21616"></a><span class="lineno">21616</span>                Text(<span class="stringliteral">&quot;&lt;- %d frames ago&quot;</span>, g.FrameCount - entry-&gt;FrameCount);</div>
<div class="line"><a id="l21617" name="l21617"></a><span class="lineno">21617</span>            }</div>
<div class="line"><a id="l21618" name="l21618"></a><span class="lineno">21618</span>        }</div>
<div class="line"><a id="l21619" name="l21619"></a><span class="lineno">21619</span>        TreePop();</div>
<div class="line"><a id="l21620" name="l21620"></a><span class="lineno">21620</span>    }</div>
<div class="line"><a id="l21621" name="l21621"></a><span class="lineno">21621</span> </div>
<div class="line"><a id="l21622" name="l21622"></a><span class="lineno">21622</span>    <span class="keywordflow">if</span> (TreeNode(<span class="stringliteral">&quot;Inputs&quot;</span>))</div>
<div class="line"><a id="l21623" name="l21623"></a><span class="lineno">21623</span>    {</div>
<div class="line"><a id="l21624" name="l21624"></a><span class="lineno">21624</span>        Text(<span class="stringliteral">&quot;KEYBOARD/GAMEPAD/MOUSE KEYS&quot;</span>);</div>
<div class="line"><a id="l21625" name="l21625"></a><span class="lineno">21625</span>        {</div>
<div class="line"><a id="l21626" name="l21626"></a><span class="lineno">21626</span>            <span class="comment">// User code should never have to go through such hoops! You can generally iterate between ImGuiKey_NamedKey_BEGIN and ImGuiKey_NamedKey_END.</span></div>
<div class="line"><a id="l21627" name="l21627"></a><span class="lineno">21627</span>            Indent();</div>
<div class="line"><a id="l21628" name="l21628"></a><span class="lineno">21628</span>            Text(<span class="stringliteral">&quot;Keys down:&quot;</span>);         <span class="keywordflow">for</span> (ImGuiKey key = ImGuiKey_NamedKey_BEGIN; key &lt; ImGuiKey_NamedKey_END; key = (ImGuiKey)(key + 1)) { <span class="keywordflow">if</span> (!IsKeyDown(key)) <span class="keywordflow">continue</span>;     SameLine(); Text(IsNamedKey(key) ? <span class="stringliteral">&quot;\&quot;%s\&quot;&quot;</span> : <span class="stringliteral">&quot;\&quot;%s\&quot; %d&quot;</span>, GetKeyName(key), key); SameLine(); Text(<span class="stringliteral">&quot;(%.02f)&quot;</span>, GetKeyData(key)-&gt;DownDuration); }</div>
<div class="line"><a id="l21629" name="l21629"></a><span class="lineno">21629</span>            Text(<span class="stringliteral">&quot;Keys pressed:&quot;</span>);      <span class="keywordflow">for</span> (ImGuiKey key = ImGuiKey_NamedKey_BEGIN; key &lt; ImGuiKey_NamedKey_END; key = (ImGuiKey)(key + 1)) { <span class="keywordflow">if</span> (!IsKeyPressed(key)) <span class="keywordflow">continue</span>;  SameLine(); Text(IsNamedKey(key) ? <span class="stringliteral">&quot;\&quot;%s\&quot;&quot;</span> : <span class="stringliteral">&quot;\&quot;%s\&quot; %d&quot;</span>, GetKeyName(key), key); }</div>
<div class="line"><a id="l21630" name="l21630"></a><span class="lineno">21630</span>            Text(<span class="stringliteral">&quot;Keys released:&quot;</span>);     <span class="keywordflow">for</span> (ImGuiKey key = ImGuiKey_NamedKey_BEGIN; key &lt; ImGuiKey_NamedKey_END; key = (ImGuiKey)(key + 1)) { <span class="keywordflow">if</span> (!IsKeyReleased(key)) <span class="keywordflow">continue</span>; SameLine(); Text(IsNamedKey(key) ? <span class="stringliteral">&quot;\&quot;%s\&quot;&quot;</span> : <span class="stringliteral">&quot;\&quot;%s\&quot; %d&quot;</span>, GetKeyName(key), key); }</div>
<div class="line"><a id="l21631" name="l21631"></a><span class="lineno">21631</span>            Text(<span class="stringliteral">&quot;Keys mods: %s%s%s%s&quot;</span>, io.KeyCtrl ? <span class="stringliteral">&quot;CTRL &quot;</span> : <span class="stringliteral">&quot;&quot;</span>, io.KeyShift ? <span class="stringliteral">&quot;SHIFT &quot;</span> : <span class="stringliteral">&quot;&quot;</span>, io.KeyAlt ? <span class="stringliteral">&quot;ALT &quot;</span> : <span class="stringliteral">&quot;&quot;</span>, io.KeySuper ? <span class="stringliteral">&quot;SUPER &quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a id="l21632" name="l21632"></a><span class="lineno">21632</span>            Text(<span class="stringliteral">&quot;Chars queue:&quot;</span>);       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; io.InputQueueCharacters.Size; i++) { ImWchar c = io.InputQueueCharacters[i]; SameLine(); Text(<span class="stringliteral">&quot;\&#39;%c\&#39; (0x%04X)&quot;</span>, (c &gt; <span class="charliteral">&#39; &#39;</span> &amp;&amp; c &lt;= 255) ? (<span class="keywordtype">char</span>)c : <span class="stringliteral">&#39;?&#39;</span>, c); } <span class="comment">// FIXME: We should convert &#39;c&#39; to UTF-8 here but the functions are not public.</span></div>
<div class="line"><a id="l21633" name="l21633"></a><span class="lineno">21633</span>            DebugRenderKeyboardPreview(GetWindowDrawList());</div>
<div class="line"><a id="l21634" name="l21634"></a><span class="lineno">21634</span>            Unindent();</div>
<div class="line"><a id="l21635" name="l21635"></a><span class="lineno">21635</span>        }</div>
<div class="line"><a id="l21636" name="l21636"></a><span class="lineno">21636</span> </div>
<div class="line"><a id="l21637" name="l21637"></a><span class="lineno">21637</span>        Text(<span class="stringliteral">&quot;MOUSE STATE&quot;</span>);</div>
<div class="line"><a id="l21638" name="l21638"></a><span class="lineno">21638</span>        {</div>
<div class="line"><a id="l21639" name="l21639"></a><span class="lineno">21639</span>            Indent();</div>
<div class="line"><a id="l21640" name="l21640"></a><span class="lineno">21640</span>            <span class="keywordflow">if</span> (IsMousePosValid())</div>
<div class="line"><a id="l21641" name="l21641"></a><span class="lineno">21641</span>                Text(<span class="stringliteral">&quot;Mouse pos: (%g, %g)&quot;</span>, io.MousePos.x, io.MousePos.y);</div>
<div class="line"><a id="l21642" name="l21642"></a><span class="lineno">21642</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l21643" name="l21643"></a><span class="lineno">21643</span>                Text(<span class="stringliteral">&quot;Mouse pos: &lt;INVALID&gt;&quot;</span>);</div>
<div class="line"><a id="l21644" name="l21644"></a><span class="lineno">21644</span>            Text(<span class="stringliteral">&quot;Mouse delta: (%g, %g)&quot;</span>, io.MouseDelta.x, io.MouseDelta.y);</div>
<div class="line"><a id="l21645" name="l21645"></a><span class="lineno">21645</span>            <span class="keywordtype">int</span> count = IM_ARRAYSIZE(io.MouseDown);</div>
<div class="line"><a id="l21646" name="l21646"></a><span class="lineno">21646</span>            Text(<span class="stringliteral">&quot;Mouse down:&quot;</span>);     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; count; i++) <span class="keywordflow">if</span> (IsMouseDown(i)) { SameLine(); Text(<span class="stringliteral">&quot;b%d (%.02f secs)&quot;</span>, i, io.MouseDownDuration[i]); }</div>
<div class="line"><a id="l21647" name="l21647"></a><span class="lineno">21647</span>            Text(<span class="stringliteral">&quot;Mouse clicked:&quot;</span>);  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; count; i++) <span class="keywordflow">if</span> (IsMouseClicked(i)) { SameLine(); Text(<span class="stringliteral">&quot;b%d (%d)&quot;</span>, i, io.MouseClickedCount[i]); }</div>
<div class="line"><a id="l21648" name="l21648"></a><span class="lineno">21648</span>            Text(<span class="stringliteral">&quot;Mouse released:&quot;</span>); <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; count; i++) <span class="keywordflow">if</span> (IsMouseReleased(i)) { SameLine(); Text(<span class="stringliteral">&quot;b%d&quot;</span>, i); }</div>
<div class="line"><a id="l21649" name="l21649"></a><span class="lineno">21649</span>            Text(<span class="stringliteral">&quot;Mouse wheel: %.1f&quot;</span>, io.MouseWheel);</div>
<div class="line"><a id="l21650" name="l21650"></a><span class="lineno">21650</span>            Text(<span class="stringliteral">&quot;MouseStationaryTimer: %.2f&quot;</span>, g.MouseStationaryTimer);</div>
<div class="line"><a id="l21651" name="l21651"></a><span class="lineno">21651</span>            Text(<span class="stringliteral">&quot;Mouse source: %s&quot;</span>, GetMouseSourceName(io.MouseSource));</div>
<div class="line"><a id="l21652" name="l21652"></a><span class="lineno">21652</span>            Text(<span class="stringliteral">&quot;Pen Pressure: %.1f&quot;</span>, io.PenPressure); <span class="comment">// Note: currently unused</span></div>
<div class="line"><a id="l21653" name="l21653"></a><span class="lineno">21653</span>            Unindent();</div>
<div class="line"><a id="l21654" name="l21654"></a><span class="lineno">21654</span>        }</div>
<div class="line"><a id="l21655" name="l21655"></a><span class="lineno">21655</span> </div>
<div class="line"><a id="l21656" name="l21656"></a><span class="lineno">21656</span>        Text(<span class="stringliteral">&quot;MOUSE WHEELING&quot;</span>);</div>
<div class="line"><a id="l21657" name="l21657"></a><span class="lineno">21657</span>        {</div>
<div class="line"><a id="l21658" name="l21658"></a><span class="lineno">21658</span>            Indent();</div>
<div class="line"><a id="l21659" name="l21659"></a><span class="lineno">21659</span>            Text(<span class="stringliteral">&quot;WheelingWindow: &#39;%s&#39;&quot;</span>, g.WheelingWindow ? g.WheelingWindow-&gt;Name : <span class="stringliteral">&quot;NULL&quot;</span>);</div>
<div class="line"><a id="l21660" name="l21660"></a><span class="lineno">21660</span>            Text(<span class="stringliteral">&quot;WheelingWindowReleaseTimer: %.2f&quot;</span>, g.WheelingWindowReleaseTimer);</div>
<div class="line"><a id="l21661" name="l21661"></a><span class="lineno">21661</span>            Text(<span class="stringliteral">&quot;WheelingAxisAvg[] = { %.3f, %.3f }, Main Axis: %s&quot;</span>, g.WheelingAxisAvg.x, g.WheelingAxisAvg.y, (g.WheelingAxisAvg.x &gt; g.WheelingAxisAvg.y) ? <span class="stringliteral">&quot;X&quot;</span> : (g.WheelingAxisAvg.x &lt; g.WheelingAxisAvg.y) ? <span class="stringliteral">&quot;Y&quot;</span> : <span class="stringliteral">&quot;&lt;none&gt;&quot;</span>);</div>
<div class="line"><a id="l21662" name="l21662"></a><span class="lineno">21662</span>            Unindent();</div>
<div class="line"><a id="l21663" name="l21663"></a><span class="lineno">21663</span>        }</div>
<div class="line"><a id="l21664" name="l21664"></a><span class="lineno">21664</span> </div>
<div class="line"><a id="l21665" name="l21665"></a><span class="lineno">21665</span>        Text(<span class="stringliteral">&quot;KEY OWNERS&quot;</span>);</div>
<div class="line"><a id="l21666" name="l21666"></a><span class="lineno">21666</span>        {</div>
<div class="line"><a id="l21667" name="l21667"></a><span class="lineno">21667</span>            Indent();</div>
<div class="line"><a id="l21668" name="l21668"></a><span class="lineno">21668</span>            <span class="keywordflow">if</span> (BeginChild(<span class="stringliteral">&quot;##owners&quot;</span>, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(-FLT_MIN, GetTextLineHeightWithSpacing() * 8), ImGuiChildFlags_FrameStyle | ImGuiChildFlags_ResizeY, ImGuiWindowFlags_NoSavedSettings))</div>
<div class="line"><a id="l21669" name="l21669"></a><span class="lineno">21669</span>                <span class="keywordflow">for</span> (ImGuiKey key = ImGuiKey_NamedKey_BEGIN; key &lt; ImGuiKey_NamedKey_END; key = (ImGuiKey)(key + 1))</div>
<div class="line"><a id="l21670" name="l21670"></a><span class="lineno">21670</span>                {</div>
<div class="line"><a id="l21671" name="l21671"></a><span class="lineno">21671</span>                    <a class="code hl_struct" href="structImGuiKeyOwnerData.html">ImGuiKeyOwnerData</a>* owner_data = GetKeyOwnerData(&amp;g, key);</div>
<div class="line"><a id="l21672" name="l21672"></a><span class="lineno">21672</span>                    <span class="keywordflow">if</span> (owner_data-&gt;OwnerCurr == ImGuiKeyOwner_NoOwner)</div>
<div class="line"><a id="l21673" name="l21673"></a><span class="lineno">21673</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l21674" name="l21674"></a><span class="lineno">21674</span>                    Text(<span class="stringliteral">&quot;%s: 0x%08X%s&quot;</span>, GetKeyName(key), owner_data-&gt;OwnerCurr,</div>
<div class="line"><a id="l21675" name="l21675"></a><span class="lineno">21675</span>                        owner_data-&gt;LockUntilRelease ? <span class="stringliteral">&quot; LockUntilRelease&quot;</span> : owner_data-&gt;LockThisFrame ? <span class="stringliteral">&quot; LockThisFrame&quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a id="l21676" name="l21676"></a><span class="lineno">21676</span>                    DebugLocateItemOnHover(owner_data-&gt;OwnerCurr);</div>
<div class="line"><a id="l21677" name="l21677"></a><span class="lineno">21677</span>                }</div>
<div class="line"><a id="l21678" name="l21678"></a><span class="lineno">21678</span>            EndChild();</div>
<div class="line"><a id="l21679" name="l21679"></a><span class="lineno">21679</span>            Unindent();</div>
<div class="line"><a id="l21680" name="l21680"></a><span class="lineno">21680</span>        }</div>
<div class="line"><a id="l21681" name="l21681"></a><span class="lineno">21681</span>        Text(<span class="stringliteral">&quot;SHORTCUT ROUTING&quot;</span>);</div>
<div class="line"><a id="l21682" name="l21682"></a><span class="lineno">21682</span>        SameLine();</div>
<div class="line"><a id="l21683" name="l21683"></a><span class="lineno">21683</span>        MetricsHelpMarker(<span class="stringliteral">&quot;Declared shortcut routes automatically set key owner when mods matches.&quot;</span>);</div>
<div class="line"><a id="l21684" name="l21684"></a><span class="lineno">21684</span>        {</div>
<div class="line"><a id="l21685" name="l21685"></a><span class="lineno">21685</span>            Indent();</div>
<div class="line"><a id="l21686" name="l21686"></a><span class="lineno">21686</span>            <span class="keywordflow">if</span> (BeginChild(<span class="stringliteral">&quot;##routes&quot;</span>, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(-FLT_MIN, GetTextLineHeightWithSpacing() * 8), ImGuiChildFlags_FrameStyle | ImGuiChildFlags_ResizeY, ImGuiWindowFlags_NoSavedSettings))</div>
<div class="line"><a id="l21687" name="l21687"></a><span class="lineno">21687</span>                <span class="keywordflow">for</span> (ImGuiKey key = ImGuiKey_NamedKey_BEGIN; key &lt; ImGuiKey_NamedKey_END; key = (ImGuiKey)(key + 1))</div>
<div class="line"><a id="l21688" name="l21688"></a><span class="lineno">21688</span>                {</div>
<div class="line"><a id="l21689" name="l21689"></a><span class="lineno">21689</span>                    <a class="code hl_struct" href="structImGuiKeyRoutingTable.html">ImGuiKeyRoutingTable</a>* rt = &amp;g.KeysRoutingTable;</div>
<div class="line"><a id="l21690" name="l21690"></a><span class="lineno">21690</span>                    <span class="keywordflow">for</span> (ImGuiKeyRoutingIndex idx = rt-&gt;Index[key - ImGuiKey_NamedKey_BEGIN]; idx != -1; )</div>
<div class="line"><a id="l21691" name="l21691"></a><span class="lineno">21691</span>                    {</div>
<div class="line"><a id="l21692" name="l21692"></a><span class="lineno">21692</span>                        <a class="code hl_struct" href="structImGuiKeyRoutingData.html">ImGuiKeyRoutingData</a>* routing_data = &amp;rt-&gt;Entries[idx];</div>
<div class="line"><a id="l21693" name="l21693"></a><span class="lineno">21693</span>                        ImGuiKeyChord key_chord = key | routing_data-&gt;Mods;</div>
<div class="line"><a id="l21694" name="l21694"></a><span class="lineno">21694</span>                        Text(<span class="stringliteral">&quot;%s: 0x%08X (scored %d)&quot;</span>, GetKeyChordName(key_chord), routing_data-&gt;RoutingCurr, routing_data-&gt;RoutingCurrScore);</div>
<div class="line"><a id="l21695" name="l21695"></a><span class="lineno">21695</span>                        DebugLocateItemOnHover(routing_data-&gt;RoutingCurr);</div>
<div class="line"><a id="l21696" name="l21696"></a><span class="lineno">21696</span>                        <span class="keywordflow">if</span> (g.IO.ConfigDebugIsDebuggerPresent)</div>
<div class="line"><a id="l21697" name="l21697"></a><span class="lineno">21697</span>                        {</div>
<div class="line"><a id="l21698" name="l21698"></a><span class="lineno">21698</span>                            SameLine();</div>
<div class="line"><a id="l21699" name="l21699"></a><span class="lineno">21699</span>                            <span class="keywordflow">if</span> (DebugBreakButton(<span class="stringliteral">&quot;**DebugBreak**&quot;</span>, <span class="stringliteral">&quot;in SetShortcutRouting() for this KeyChord&quot;</span>))</div>
<div class="line"><a id="l21700" name="l21700"></a><span class="lineno">21700</span>                                g.DebugBreakInShortcutRouting = key_chord;</div>
<div class="line"><a id="l21701" name="l21701"></a><span class="lineno">21701</span>                        }</div>
<div class="line"><a id="l21702" name="l21702"></a><span class="lineno">21702</span>                        idx = routing_data-&gt;NextEntryIndex;</div>
<div class="line"><a id="l21703" name="l21703"></a><span class="lineno">21703</span>                    }</div>
<div class="line"><a id="l21704" name="l21704"></a><span class="lineno">21704</span>                }</div>
<div class="line"><a id="l21705" name="l21705"></a><span class="lineno">21705</span>            EndChild();</div>
<div class="line"><a id="l21706" name="l21706"></a><span class="lineno">21706</span>            Text(<span class="stringliteral">&quot;(ActiveIdUsing: AllKeyboardKeys: %d, NavDirMask: 0x%X)&quot;</span>, g.ActiveIdUsingAllKeyboardKeys, g.ActiveIdUsingNavDirMask);</div>
<div class="line"><a id="l21707" name="l21707"></a><span class="lineno">21707</span>            Unindent();</div>
<div class="line"><a id="l21708" name="l21708"></a><span class="lineno">21708</span>        }</div>
<div class="line"><a id="l21709" name="l21709"></a><span class="lineno">21709</span>        TreePop();</div>
<div class="line"><a id="l21710" name="l21710"></a><span class="lineno">21710</span>    }</div>
<div class="line"><a id="l21711" name="l21711"></a><span class="lineno">21711</span> </div>
<div class="line"><a id="l21712" name="l21712"></a><span class="lineno">21712</span>    <span class="keywordflow">if</span> (TreeNode(<span class="stringliteral">&quot;Internal state&quot;</span>))</div>
<div class="line"><a id="l21713" name="l21713"></a><span class="lineno">21713</span>    {</div>
<div class="line"><a id="l21714" name="l21714"></a><span class="lineno">21714</span>        Text(<span class="stringliteral">&quot;WINDOWING&quot;</span>);</div>
<div class="line"><a id="l21715" name="l21715"></a><span class="lineno">21715</span>        Indent();</div>
<div class="line"><a id="l21716" name="l21716"></a><span class="lineno">21716</span>        Text(<span class="stringliteral">&quot;HoveredWindow: &#39;%s&#39;&quot;</span>, g.HoveredWindow ? g.HoveredWindow-&gt;Name : <span class="stringliteral">&quot;NULL&quot;</span>);</div>
<div class="line"><a id="l21717" name="l21717"></a><span class="lineno">21717</span>        Text(<span class="stringliteral">&quot;HoveredWindow-&gt;Root: &#39;%s&#39;&quot;</span>, g.HoveredWindow ? g.HoveredWindow-&gt;RootWindowDockTree-&gt;Name : <span class="stringliteral">&quot;NULL&quot;</span>);</div>
<div class="line"><a id="l21718" name="l21718"></a><span class="lineno">21718</span>        Text(<span class="stringliteral">&quot;HoveredWindowUnderMovingWindow: &#39;%s&#39;&quot;</span>, g.HoveredWindowUnderMovingWindow ? g.HoveredWindowUnderMovingWindow-&gt;Name : <span class="stringliteral">&quot;NULL&quot;</span>);</div>
<div class="line"><a id="l21719" name="l21719"></a><span class="lineno">21719</span>        Text(<span class="stringliteral">&quot;HoveredDockNode: 0x%08X&quot;</span>, g.DebugHoveredDockNode ? g.DebugHoveredDockNode-&gt;ID : 0);</div>
<div class="line"><a id="l21720" name="l21720"></a><span class="lineno">21720</span>        Text(<span class="stringliteral">&quot;MovingWindow: &#39;%s&#39;&quot;</span>, g.MovingWindow ? g.MovingWindow-&gt;Name : <span class="stringliteral">&quot;NULL&quot;</span>);</div>
<div class="line"><a id="l21721" name="l21721"></a><span class="lineno">21721</span>        Text(<span class="stringliteral">&quot;MouseViewport: 0x%08X (UserHovered 0x%08X, LastHovered 0x%08X)&quot;</span>, g.MouseViewport-&gt;ID, g.IO.MouseHoveredViewport, g.MouseLastHoveredViewport ? g.MouseLastHoveredViewport-&gt;ID : 0);</div>
<div class="line"><a id="l21722" name="l21722"></a><span class="lineno">21722</span>        Unindent();</div>
<div class="line"><a id="l21723" name="l21723"></a><span class="lineno">21723</span> </div>
<div class="line"><a id="l21724" name="l21724"></a><span class="lineno">21724</span>        Text(<span class="stringliteral">&quot;ITEMS&quot;</span>);</div>
<div class="line"><a id="l21725" name="l21725"></a><span class="lineno">21725</span>        Indent();</div>
<div class="line"><a id="l21726" name="l21726"></a><span class="lineno">21726</span>        Text(<span class="stringliteral">&quot;ActiveId: 0x%08X/0x%08X (%.2f sec), AllowOverlap: %d, Source: %s&quot;</span>, g.ActiveId, g.ActiveIdPreviousFrame, g.ActiveIdTimer, g.ActiveIdAllowOverlap, GetInputSourceName(g.ActiveIdSource));</div>
<div class="line"><a id="l21727" name="l21727"></a><span class="lineno">21727</span>        DebugLocateItemOnHover(g.ActiveId);</div>
<div class="line"><a id="l21728" name="l21728"></a><span class="lineno">21728</span>        Text(<span class="stringliteral">&quot;ActiveIdWindow: &#39;%s&#39;&quot;</span>, g.ActiveIdWindow ? g.ActiveIdWindow-&gt;Name : <span class="stringliteral">&quot;NULL&quot;</span>);</div>
<div class="line"><a id="l21729" name="l21729"></a><span class="lineno">21729</span>        Text(<span class="stringliteral">&quot;ActiveIdUsing: AllKeyboardKeys: %d, NavDirMask: %X&quot;</span>, g.ActiveIdUsingAllKeyboardKeys, g.ActiveIdUsingNavDirMask);</div>
<div class="line"><a id="l21730" name="l21730"></a><span class="lineno">21730</span>        Text(<span class="stringliteral">&quot;HoveredId: 0x%08X (%.2f sec), AllowOverlap: %d&quot;</span>, g.HoveredIdPreviousFrame, g.HoveredIdTimer, g.HoveredIdAllowOverlap); <span class="comment">// Not displaying g.HoveredId as it is update mid-frame</span></div>
<div class="line"><a id="l21731" name="l21731"></a><span class="lineno">21731</span>        Text(<span class="stringliteral">&quot;HoverItemDelayId: 0x%08X, Timer: %.2f, ClearTimer: %.2f&quot;</span>, g.HoverItemDelayId, g.HoverItemDelayTimer, g.HoverItemDelayClearTimer);</div>
<div class="line"><a id="l21732" name="l21732"></a><span class="lineno">21732</span>        Text(<span class="stringliteral">&quot;DragDrop: %d, SourceId = 0x%08X, Payload \&quot;%s\&quot; (%d bytes)&quot;</span>, g.DragDropActive, g.DragDropPayload.SourceId, g.DragDropPayload.DataType, g.DragDropPayload.DataSize);</div>
<div class="line"><a id="l21733" name="l21733"></a><span class="lineno">21733</span>        DebugLocateItemOnHover(g.DragDropPayload.SourceId);</div>
<div class="line"><a id="l21734" name="l21734"></a><span class="lineno">21734</span>        Unindent();</div>
<div class="line"><a id="l21735" name="l21735"></a><span class="lineno">21735</span> </div>
<div class="line"><a id="l21736" name="l21736"></a><span class="lineno">21736</span>        Text(<span class="stringliteral">&quot;NAV,FOCUS&quot;</span>);</div>
<div class="line"><a id="l21737" name="l21737"></a><span class="lineno">21737</span>        Indent();</div>
<div class="line"><a id="l21738" name="l21738"></a><span class="lineno">21738</span>        Text(<span class="stringliteral">&quot;NavWindow: &#39;%s&#39;&quot;</span>, g.NavWindow ? g.NavWindow-&gt;Name : <span class="stringliteral">&quot;NULL&quot;</span>);</div>
<div class="line"><a id="l21739" name="l21739"></a><span class="lineno">21739</span>        Text(<span class="stringliteral">&quot;NavId: 0x%08X, NavLayer: %d&quot;</span>, g.NavId, g.NavLayer);</div>
<div class="line"><a id="l21740" name="l21740"></a><span class="lineno">21740</span>        DebugLocateItemOnHover(g.NavId);</div>
<div class="line"><a id="l21741" name="l21741"></a><span class="lineno">21741</span>        Text(<span class="stringliteral">&quot;NavInputSource: %s&quot;</span>, GetInputSourceName(g.NavInputSource));</div>
<div class="line"><a id="l21742" name="l21742"></a><span class="lineno">21742</span>        Text(<span class="stringliteral">&quot;NavLastValidSelectionUserData = %&quot;</span> IM_PRId64 <span class="stringliteral">&quot; (0x%&quot;</span> IM_PRIX64 <span class="stringliteral">&quot;)&quot;</span>, g.NavLastValidSelectionUserData, g.NavLastValidSelectionUserData);</div>
<div class="line"><a id="l21743" name="l21743"></a><span class="lineno">21743</span>        Text(<span class="stringliteral">&quot;NavActive: %d, NavVisible: %d&quot;</span>, g.IO.NavActive, g.IO.NavVisible);</div>
<div class="line"><a id="l21744" name="l21744"></a><span class="lineno">21744</span>        Text(<span class="stringliteral">&quot;NavActivateId/DownId/PressedId: %08X/%08X/%08X&quot;</span>, g.NavActivateId, g.NavActivateDownId, g.NavActivatePressedId);</div>
<div class="line"><a id="l21745" name="l21745"></a><span class="lineno">21745</span>        Text(<span class="stringliteral">&quot;NavActivateFlags: %04X&quot;</span>, g.NavActivateFlags);</div>
<div class="line"><a id="l21746" name="l21746"></a><span class="lineno">21746</span>        Text(<span class="stringliteral">&quot;NavCursorVisible: %d, NavHighlightItemUnderNav: %d&quot;</span>, g.NavCursorVisible, g.NavHighlightItemUnderNav);</div>
<div class="line"><a id="l21747" name="l21747"></a><span class="lineno">21747</span>        Text(<span class="stringliteral">&quot;NavFocusScopeId = 0x%08X&quot;</span>, g.NavFocusScopeId);</div>
<div class="line"><a id="l21748" name="l21748"></a><span class="lineno">21748</span>        Text(<span class="stringliteral">&quot;NavFocusRoute[] = &quot;</span>);</div>
<div class="line"><a id="l21749" name="l21749"></a><span class="lineno">21749</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> path_n = g.NavFocusRoute.Size - 1; path_n &gt;= 0; path_n--)</div>
<div class="line"><a id="l21750" name="l21750"></a><span class="lineno">21750</span>        {</div>
<div class="line"><a id="l21751" name="l21751"></a><span class="lineno">21751</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structImGuiFocusScopeData.html">ImGuiFocusScopeData</a>&amp; focus_scope = g.NavFocusRoute[path_n];</div>
<div class="line"><a id="l21752" name="l21752"></a><span class="lineno">21752</span>            SameLine(0.0f, 0.0f);</div>
<div class="line"><a id="l21753" name="l21753"></a><span class="lineno">21753</span>            Text(<span class="stringliteral">&quot;0x%08X/&quot;</span>, focus_scope.ID);</div>
<div class="line"><a id="l21754" name="l21754"></a><span class="lineno">21754</span>            SetItemTooltip(<span class="stringliteral">&quot;In window \&quot;%s\&quot;&quot;</span>, FindWindowByID(focus_scope.WindowID)-&gt;Name);</div>
<div class="line"><a id="l21755" name="l21755"></a><span class="lineno">21755</span>        }</div>
<div class="line"><a id="l21756" name="l21756"></a><span class="lineno">21756</span>        Text(<span class="stringliteral">&quot;NavWindowingTarget: &#39;%s&#39;&quot;</span>, g.NavWindowingTarget ? g.NavWindowingTarget-&gt;Name : <span class="stringliteral">&quot;NULL&quot;</span>);</div>
<div class="line"><a id="l21757" name="l21757"></a><span class="lineno">21757</span>        Unindent();</div>
<div class="line"><a id="l21758" name="l21758"></a><span class="lineno">21758</span> </div>
<div class="line"><a id="l21759" name="l21759"></a><span class="lineno">21759</span>        TreePop();</div>
<div class="line"><a id="l21760" name="l21760"></a><span class="lineno">21760</span>    }</div>
<div class="line"><a id="l21761" name="l21761"></a><span class="lineno">21761</span> </div>
<div class="line"><a id="l21762" name="l21762"></a><span class="lineno">21762</span>    <span class="comment">// Overlay: Display windows Rectangles and Begin Order</span></div>
<div class="line"><a id="l21763" name="l21763"></a><span class="lineno">21763</span>    <span class="keywordflow">if</span> (cfg-&gt;ShowWindowsRects || cfg-&gt;ShowWindowsBeginOrder)</div>
<div class="line"><a id="l21764" name="l21764"></a><span class="lineno">21764</span>    {</div>
<div class="line"><a id="l21765" name="l21765"></a><span class="lineno">21765</span>        <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window : g.Windows)</div>
<div class="line"><a id="l21766" name="l21766"></a><span class="lineno">21766</span>        {</div>
<div class="line"><a id="l21767" name="l21767"></a><span class="lineno">21767</span>            <span class="keywordflow">if</span> (!window-&gt;WasActive)</div>
<div class="line"><a id="l21768" name="l21768"></a><span class="lineno">21768</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l21769" name="l21769"></a><span class="lineno">21769</span>            <a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>* draw_list = GetForegroundDrawList(window);</div>
<div class="line"><a id="l21770" name="l21770"></a><span class="lineno">21770</span>            <span class="keywordflow">if</span> (cfg-&gt;ShowWindowsRects)</div>
<div class="line"><a id="l21771" name="l21771"></a><span class="lineno">21771</span>            {</div>
<div class="line"><a id="l21772" name="l21772"></a><span class="lineno">21772</span>                <a class="code hl_struct" href="structImRect.html">ImRect</a> r = Funcs::GetWindowRect(window, cfg-&gt;ShowWindowsRectsType);</div>
<div class="line"><a id="l21773" name="l21773"></a><span class="lineno">21773</span>                draw_list-&gt;AddRect(r.Min, r.Max, IM_COL32(255, 0, 128, 255));</div>
<div class="line"><a id="l21774" name="l21774"></a><span class="lineno">21774</span>            }</div>
<div class="line"><a id="l21775" name="l21775"></a><span class="lineno">21775</span>            <span class="keywordflow">if</span> (cfg-&gt;ShowWindowsBeginOrder &amp;&amp; !(window-&gt;Flags &amp; ImGuiWindowFlags_ChildWindow))</div>
<div class="line"><a id="l21776" name="l21776"></a><span class="lineno">21776</span>            {</div>
<div class="line"><a id="l21777" name="l21777"></a><span class="lineno">21777</span>                <span class="keywordtype">char</span> buf[32];</div>
<div class="line"><a id="l21778" name="l21778"></a><span class="lineno">21778</span>                ImFormatString(buf, IM_ARRAYSIZE(buf), <span class="stringliteral">&quot;%d&quot;</span>, window-&gt;BeginOrderWithinContext);</div>
<div class="line"><a id="l21779" name="l21779"></a><span class="lineno">21779</span>                <span class="keywordtype">float</span> font_size = GetFontSize();</div>
<div class="line"><a id="l21780" name="l21780"></a><span class="lineno">21780</span>                draw_list-&gt;AddRectFilled(window-&gt;Pos, window-&gt;Pos + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(font_size, font_size), IM_COL32(200, 100, 100, 255));</div>
<div class="line"><a id="l21781" name="l21781"></a><span class="lineno">21781</span>                draw_list-&gt;AddText(window-&gt;Pos, IM_COL32(255, 255, 255, 255), buf);</div>
<div class="line"><a id="l21782" name="l21782"></a><span class="lineno">21782</span>            }</div>
<div class="line"><a id="l21783" name="l21783"></a><span class="lineno">21783</span>        }</div>
<div class="line"><a id="l21784" name="l21784"></a><span class="lineno">21784</span>    }</div>
<div class="line"><a id="l21785" name="l21785"></a><span class="lineno">21785</span> </div>
<div class="line"><a id="l21786" name="l21786"></a><span class="lineno">21786</span>    <span class="comment">// Overlay: Display Tables Rectangles</span></div>
<div class="line"><a id="l21787" name="l21787"></a><span class="lineno">21787</span>    <span class="keywordflow">if</span> (cfg-&gt;ShowTablesRects)</div>
<div class="line"><a id="l21788" name="l21788"></a><span class="lineno">21788</span>    {</div>
<div class="line"><a id="l21789" name="l21789"></a><span class="lineno">21789</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> table_n = 0; table_n &lt; g.Tables.GetMapSize(); table_n++)</div>
<div class="line"><a id="l21790" name="l21790"></a><span class="lineno">21790</span>        {</div>
<div class="line"><a id="l21791" name="l21791"></a><span class="lineno">21791</span>            <a class="code hl_struct" href="structImGuiTable.html">ImGuiTable</a>* table = g.Tables.TryGetMapData(table_n);</div>
<div class="line"><a id="l21792" name="l21792"></a><span class="lineno">21792</span>            <span class="keywordflow">if</span> (table == NULL || table-&gt;LastFrameActive &lt; g.FrameCount - 1)</div>
<div class="line"><a id="l21793" name="l21793"></a><span class="lineno">21793</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l21794" name="l21794"></a><span class="lineno">21794</span>            <a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>* draw_list = GetForegroundDrawList(table-&gt;OuterWindow);</div>
<div class="line"><a id="l21795" name="l21795"></a><span class="lineno">21795</span>            <span class="keywordflow">if</span> (cfg-&gt;ShowTablesRectsType &gt;= TRT_ColumnsRect)</div>
<div class="line"><a id="l21796" name="l21796"></a><span class="lineno">21796</span>            {</div>
<div class="line"><a id="l21797" name="l21797"></a><span class="lineno">21797</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> column_n = 0; column_n &lt; table-&gt;ColumnsCount; column_n++)</div>
<div class="line"><a id="l21798" name="l21798"></a><span class="lineno">21798</span>                {</div>
<div class="line"><a id="l21799" name="l21799"></a><span class="lineno">21799</span>                    <a class="code hl_struct" href="structImRect.html">ImRect</a> r = Funcs::GetTableRect(table, cfg-&gt;ShowTablesRectsType, column_n);</div>
<div class="line"><a id="l21800" name="l21800"></a><span class="lineno">21800</span>                    ImU32 col = (table-&gt;HoveredColumnBody == column_n) ? IM_COL32(255, 255, 128, 255) : IM_COL32(255, 0, 128, 255);</div>
<div class="line"><a id="l21801" name="l21801"></a><span class="lineno">21801</span>                    <span class="keywordtype">float</span> thickness = (table-&gt;HoveredColumnBody == column_n) ? 3.0f : 1.0f;</div>
<div class="line"><a id="l21802" name="l21802"></a><span class="lineno">21802</span>                    draw_list-&gt;AddRect(r.Min, r.Max, col, 0.0f, 0, thickness);</div>
<div class="line"><a id="l21803" name="l21803"></a><span class="lineno">21803</span>                }</div>
<div class="line"><a id="l21804" name="l21804"></a><span class="lineno">21804</span>            }</div>
<div class="line"><a id="l21805" name="l21805"></a><span class="lineno">21805</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l21806" name="l21806"></a><span class="lineno">21806</span>            {</div>
<div class="line"><a id="l21807" name="l21807"></a><span class="lineno">21807</span>                <a class="code hl_struct" href="structImRect.html">ImRect</a> r = Funcs::GetTableRect(table, cfg-&gt;ShowTablesRectsType, -1);</div>
<div class="line"><a id="l21808" name="l21808"></a><span class="lineno">21808</span>                draw_list-&gt;AddRect(r.Min, r.Max, IM_COL32(255, 0, 128, 255));</div>
<div class="line"><a id="l21809" name="l21809"></a><span class="lineno">21809</span>            }</div>
<div class="line"><a id="l21810" name="l21810"></a><span class="lineno">21810</span>        }</div>
<div class="line"><a id="l21811" name="l21811"></a><span class="lineno">21811</span>    }</div>
<div class="line"><a id="l21812" name="l21812"></a><span class="lineno">21812</span> </div>
<div class="line"><a id="l21813" name="l21813"></a><span class="lineno">21813</span><span class="preprocessor">#ifdef IMGUI_HAS_DOCK</span></div>
<div class="line"><a id="l21814" name="l21814"></a><span class="lineno">21814</span>    <span class="comment">// Overlay: Display Docking info</span></div>
<div class="line"><a id="l21815" name="l21815"></a><span class="lineno">21815</span>    <span class="keywordflow">if</span> (cfg-&gt;ShowDockingNodes &amp;&amp; g.IO.KeyCtrl &amp;&amp; g.DebugHoveredDockNode)</div>
<div class="line"><a id="l21816" name="l21816"></a><span class="lineno">21816</span>    {</div>
<div class="line"><a id="l21817" name="l21817"></a><span class="lineno">21817</span>        <span class="keywordtype">char</span> buf[64] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l21818" name="l21818"></a><span class="lineno">21818</span>        <span class="keywordtype">char</span>* p = buf;</div>
<div class="line"><a id="l21819" name="l21819"></a><span class="lineno">21819</span>        <a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node = g.DebugHoveredDockNode;</div>
<div class="line"><a id="l21820" name="l21820"></a><span class="lineno">21820</span>        <a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>* overlay_draw_list = node-&gt;HostWindow ? GetForegroundDrawList(node-&gt;HostWindow) : GetForegroundDrawList(GetMainViewport());</div>
<div class="line"><a id="l21821" name="l21821"></a><span class="lineno">21821</span>        p += ImFormatString(p, buf + IM_ARRAYSIZE(buf) - p, <span class="stringliteral">&quot;DockId: %X%s\n&quot;</span>, node-&gt;ID, node-&gt;IsCentralNode() ? <span class="stringliteral">&quot; *CentralNode*&quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a id="l21822" name="l21822"></a><span class="lineno">21822</span>        p += ImFormatString(p, buf + IM_ARRAYSIZE(buf) - p, <span class="stringliteral">&quot;WindowClass: %08X\n&quot;</span>, node-&gt;WindowClass.ClassId);</div>
<div class="line"><a id="l21823" name="l21823"></a><span class="lineno">21823</span>        p += ImFormatString(p, buf + IM_ARRAYSIZE(buf) - p, <span class="stringliteral">&quot;Size: (%.0f, %.0f)\n&quot;</span>, node-&gt;Size.x, node-&gt;Size.y);</div>
<div class="line"><a id="l21824" name="l21824"></a><span class="lineno">21824</span>        p += ImFormatString(p, buf + IM_ARRAYSIZE(buf) - p, <span class="stringliteral">&quot;SizeRef: (%.0f, %.0f)\n&quot;</span>, node-&gt;SizeRef.x, node-&gt;SizeRef.y);</div>
<div class="line"><a id="l21825" name="l21825"></a><span class="lineno">21825</span>        <span class="keywordtype">int</span> depth = DockNodeGetDepth(node);</div>
<div class="line"><a id="l21826" name="l21826"></a><span class="lineno">21826</span>        overlay_draw_list-&gt;AddRect(node-&gt;Pos + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(3, 3) * (<span class="keywordtype">float</span>)depth, node-&gt;Pos + node-&gt;Size - <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(3, 3) * (<span class="keywordtype">float</span>)depth, IM_COL32(200, 100, 100, 255));</div>
<div class="line"><a id="l21827" name="l21827"></a><span class="lineno">21827</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> pos = node-&gt;Pos + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(3, 3) * (float)depth;</div>
<div class="line"><a id="l21828" name="l21828"></a><span class="lineno">21828</span>        overlay_draw_list-&gt;AddRectFilled(pos - <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(1, 1), pos + CalcTextSize(buf) + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(1, 1), IM_COL32(200, 100, 100, 255));</div>
<div class="line"><a id="l21829" name="l21829"></a><span class="lineno">21829</span>        overlay_draw_list-&gt;AddText(NULL, 0.0f, pos, IM_COL32(255, 255, 255, 255), buf);</div>
<div class="line"><a id="l21830" name="l21830"></a><span class="lineno">21830</span>    }</div>
<div class="line"><a id="l21831" name="l21831"></a><span class="lineno">21831</span><span class="preprocessor">#endif </span><span class="comment">// #ifdef IMGUI_HAS_DOCK</span></div>
<div class="line"><a id="l21832" name="l21832"></a><span class="lineno">21832</span> </div>
<div class="line"><a id="l21833" name="l21833"></a><span class="lineno">21833</span>    End();</div>
<div class="line"><a id="l21834" name="l21834"></a><span class="lineno">21834</span>}</div>
<div class="line"><a id="l21835" name="l21835"></a><span class="lineno">21835</span> </div>
<div class="line"><a id="l21836" name="l21836"></a><span class="lineno">21836</span><span class="keywordtype">void</span> ImGui::DebugBreakClearData()</div>
<div class="line"><a id="l21837" name="l21837"></a><span class="lineno">21837</span>{</div>
<div class="line"><a id="l21838" name="l21838"></a><span class="lineno">21838</span>    <span class="comment">// Those fields are scattered in their respective subsystem to stay in hot-data locations</span></div>
<div class="line"><a id="l21839" name="l21839"></a><span class="lineno">21839</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l21840" name="l21840"></a><span class="lineno">21840</span>    g.DebugBreakInWindow = 0;</div>
<div class="line"><a id="l21841" name="l21841"></a><span class="lineno">21841</span>    g.DebugBreakInTable = 0;</div>
<div class="line"><a id="l21842" name="l21842"></a><span class="lineno">21842</span>    g.DebugBreakInShortcutRouting = ImGuiKey_None;</div>
<div class="line"><a id="l21843" name="l21843"></a><span class="lineno">21843</span>}</div>
<div class="line"><a id="l21844" name="l21844"></a><span class="lineno">21844</span> </div>
<div class="line"><a id="l21845" name="l21845"></a><span class="lineno">21845</span><span class="keywordtype">void</span> ImGui::DebugBreakButtonTooltip(<span class="keywordtype">bool</span> keyboard_only, <span class="keyword">const</span> <span class="keywordtype">char</span>* description_of_location)</div>
<div class="line"><a id="l21846" name="l21846"></a><span class="lineno">21846</span>{</div>
<div class="line"><a id="l21847" name="l21847"></a><span class="lineno">21847</span>    <span class="keywordflow">if</span> (!BeginItemTooltip())</div>
<div class="line"><a id="l21848" name="l21848"></a><span class="lineno">21848</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l21849" name="l21849"></a><span class="lineno">21849</span>    Text(<span class="stringliteral">&quot;To call IM_DEBUG_BREAK() %s:&quot;</span>, description_of_location);</div>
<div class="line"><a id="l21850" name="l21850"></a><span class="lineno">21850</span>    Separator();</div>
<div class="line"><a id="l21851" name="l21851"></a><span class="lineno">21851</span>    TextUnformatted(keyboard_only ? <span class="stringliteral">&quot;- Press &#39;Pause/Break&#39; on keyboard.&quot;</span> : <span class="stringliteral">&quot;- Press &#39;Pause/Break&#39; on keyboard.\n- or Click (may alter focus/active id).\n- or navigate using keyboard and press space.&quot;</span>);</div>
<div class="line"><a id="l21852" name="l21852"></a><span class="lineno">21852</span>    Separator();</div>
<div class="line"><a id="l21853" name="l21853"></a><span class="lineno">21853</span>    TextUnformatted(<span class="stringliteral">&quot;Choose one way that doesn&#39;t interfere with what you are trying to debug!\nYou need a debugger attached or this will crash!&quot;</span>);</div>
<div class="line"><a id="l21854" name="l21854"></a><span class="lineno">21854</span>    EndTooltip();</div>
<div class="line"><a id="l21855" name="l21855"></a><span class="lineno">21855</span>}</div>
<div class="line"><a id="l21856" name="l21856"></a><span class="lineno">21856</span> </div>
<div class="line"><a id="l21857" name="l21857"></a><span class="lineno">21857</span><span class="comment">// Special button that doesn&#39;t take focus, doesn&#39;t take input owner, and can be activated without a click etc.</span></div>
<div class="line"><a id="l21858" name="l21858"></a><span class="lineno">21858</span><span class="comment">// In order to reduce interferences with the contents we are trying to debug into.</span></div>
<div class="line"><a id="l21859" name="l21859"></a><span class="lineno">21859</span><span class="keywordtype">bool</span> ImGui::DebugBreakButton(<span class="keyword">const</span> <span class="keywordtype">char</span>* label, <span class="keyword">const</span> <span class="keywordtype">char</span>* description_of_location)</div>
<div class="line"><a id="l21860" name="l21860"></a><span class="lineno">21860</span>{</div>
<div class="line"><a id="l21861" name="l21861"></a><span class="lineno">21861</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = GetCurrentWindow();</div>
<div class="line"><a id="l21862" name="l21862"></a><span class="lineno">21862</span>    <span class="keywordflow">if</span> (window-&gt;SkipItems)</div>
<div class="line"><a id="l21863" name="l21863"></a><span class="lineno">21863</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l21864" name="l21864"></a><span class="lineno">21864</span> </div>
<div class="line"><a id="l21865" name="l21865"></a><span class="lineno">21865</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l21866" name="l21866"></a><span class="lineno">21866</span>    <span class="keyword">const</span> ImGuiID <span class="keywordtype">id</span> = window-&gt;GetID(label);</div>
<div class="line"><a id="l21867" name="l21867"></a><span class="lineno">21867</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a> label_size = CalcTextSize(label, NULL, <span class="keyword">true</span>);</div>
<div class="line"><a id="l21868" name="l21868"></a><span class="lineno">21868</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> pos = window-&gt;DC.CursorPos + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, window-&gt;DC.CurrLineTextBaseOffset);</div>
<div class="line"><a id="l21869" name="l21869"></a><span class="lineno">21869</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> size = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(label_size.x + g.Style.FramePadding.x * 2.0f, label_size.y);</div>
<div class="line"><a id="l21870" name="l21870"></a><span class="lineno">21870</span> </div>
<div class="line"><a id="l21871" name="l21871"></a><span class="lineno">21871</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImRect.html">ImRect</a> bb(pos, pos + size);</div>
<div class="line"><a id="l21872" name="l21872"></a><span class="lineno">21872</span>    ItemSize(size, 0.0f);</div>
<div class="line"><a id="l21873" name="l21873"></a><span class="lineno">21873</span>    <span class="keywordflow">if</span> (!ItemAdd(bb, <span class="keywordtype">id</span>))</div>
<div class="line"><a id="l21874" name="l21874"></a><span class="lineno">21874</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l21875" name="l21875"></a><span class="lineno">21875</span> </div>
<div class="line"><a id="l21876" name="l21876"></a><span class="lineno">21876</span>    <span class="comment">// WE DO NOT USE ButtonEx() or ButtonBehavior() in order to reduce our side-effects.</span></div>
<div class="line"><a id="l21877" name="l21877"></a><span class="lineno">21877</span>    <span class="keywordtype">bool</span> hovered = ItemHoverable(bb, <span class="keywordtype">id</span>, g.CurrentItemFlags);</div>
<div class="line"><a id="l21878" name="l21878"></a><span class="lineno">21878</span>    <span class="keywordtype">bool</span> pressed = hovered &amp;&amp; (IsKeyChordPressed(g.DebugBreakKeyChord) || IsMouseClicked(0) || g.NavActivateId == id);</div>
<div class="line"><a id="l21879" name="l21879"></a><span class="lineno">21879</span>    DebugBreakButtonTooltip(<span class="keyword">false</span>, description_of_location);</div>
<div class="line"><a id="l21880" name="l21880"></a><span class="lineno">21880</span> </div>
<div class="line"><a id="l21881" name="l21881"></a><span class="lineno">21881</span>    <a class="code hl_struct" href="structImVec4.html">ImVec4</a> col4f = GetStyleColorVec4(hovered ? ImGuiCol_ButtonHovered : ImGuiCol_Button);</div>
<div class="line"><a id="l21882" name="l21882"></a><span class="lineno">21882</span>    <a class="code hl_struct" href="structImVec4.html">ImVec4</a> hsv;</div>
<div class="line"><a id="l21883" name="l21883"></a><span class="lineno">21883</span>    ColorConvertRGBtoHSV(col4f.x, col4f.y, col4f.z, hsv.x, hsv.y, hsv.z);</div>
<div class="line"><a id="l21884" name="l21884"></a><span class="lineno">21884</span>    ColorConvertHSVtoRGB(hsv.x + 0.20f, hsv.y, hsv.z, col4f.x, col4f.y, col4f.z);</div>
<div class="line"><a id="l21885" name="l21885"></a><span class="lineno">21885</span> </div>
<div class="line"><a id="l21886" name="l21886"></a><span class="lineno">21886</span>    RenderNavCursor(bb, <span class="keywordtype">id</span>);</div>
<div class="line"><a id="l21887" name="l21887"></a><span class="lineno">21887</span>    RenderFrame(bb.Min, bb.Max, GetColorU32(col4f), <span class="keyword">true</span>, g.Style.FrameRounding);</div>
<div class="line"><a id="l21888" name="l21888"></a><span class="lineno">21888</span>    RenderTextClipped(bb.Min, bb.Max, label, NULL, &amp;label_size, g.Style.ButtonTextAlign, &amp;bb);</div>
<div class="line"><a id="l21889" name="l21889"></a><span class="lineno">21889</span> </div>
<div class="line"><a id="l21890" name="l21890"></a><span class="lineno">21890</span>    IMGUI_TEST_ENGINE_ITEM_INFO(<span class="keywordtype">id</span>, label, g.LastItemData.StatusFlags);</div>
<div class="line"><a id="l21891" name="l21891"></a><span class="lineno">21891</span>    <span class="keywordflow">return</span> pressed;</div>
<div class="line"><a id="l21892" name="l21892"></a><span class="lineno">21892</span>}</div>
<div class="line"><a id="l21893" name="l21893"></a><span class="lineno">21893</span> </div>
<div class="line"><a id="l21894" name="l21894"></a><span class="lineno">21894</span><span class="comment">// [DEBUG] Display contents of Columns</span></div>
<div class="line"><a id="l21895" name="l21895"></a><span class="lineno">21895</span><span class="keywordtype">void</span> ImGui::DebugNodeColumns(<a class="code hl_struct" href="structImGuiOldColumns.html">ImGuiOldColumns</a>* columns)</div>
<div class="line"><a id="l21896" name="l21896"></a><span class="lineno">21896</span>{</div>
<div class="line"><a id="l21897" name="l21897"></a><span class="lineno">21897</span>    <span class="keywordflow">if</span> (!TreeNode((<span class="keywordtype">void</span>*)(uintptr_t)columns-&gt;ID, <span class="stringliteral">&quot;Columns Id: 0x%08X, Count: %d, Flags: 0x%04X&quot;</span>, columns-&gt;ID, columns-&gt;Count, columns-&gt;Flags))</div>
<div class="line"><a id="l21898" name="l21898"></a><span class="lineno">21898</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l21899" name="l21899"></a><span class="lineno">21899</span>    BulletText(<span class="stringliteral">&quot;Width: %.1f (MinX: %.1f, MaxX: %.1f)&quot;</span>, columns-&gt;OffMaxX - columns-&gt;OffMinX, columns-&gt;OffMinX, columns-&gt;OffMaxX);</div>
<div class="line"><a id="l21900" name="l21900"></a><span class="lineno">21900</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiOldColumnData.html">ImGuiOldColumnData</a>&amp; column : columns-&gt;Columns)</div>
<div class="line"><a id="l21901" name="l21901"></a><span class="lineno">21901</span>        BulletText(<span class="stringliteral">&quot;Column %02d: OffsetNorm %.3f (= %.1f px)&quot;</span>, (int)columns-&gt;Columns.index_from_ptr(&amp;column), column.OffsetNorm, GetColumnOffsetFromNorm(columns, column.OffsetNorm));</div>
<div class="line"><a id="l21902" name="l21902"></a><span class="lineno">21902</span>    TreePop();</div>
<div class="line"><a id="l21903" name="l21903"></a><span class="lineno">21903</span>}</div>
<div class="line"><a id="l21904" name="l21904"></a><span class="lineno">21904</span> </div>
<div class="line"><a id="l21905" name="l21905"></a><span class="lineno">21905</span><span class="keyword">static</span> <span class="keywordtype">void</span> DebugNodeDockNodeFlags(ImGuiDockNodeFlags* p_flags, <span class="keyword">const</span> <span class="keywordtype">char</span>* label, <span class="keywordtype">bool</span> enabled)</div>
<div class="line"><a id="l21906" name="l21906"></a><span class="lineno">21906</span>{</div>
<div class="line"><a id="l21907" name="l21907"></a><span class="lineno">21907</span>    <span class="keyword">using namespace </span>ImGui;</div>
<div class="line"><a id="l21908" name="l21908"></a><span class="lineno">21908</span>    PushID(label);</div>
<div class="line"><a id="l21909" name="l21909"></a><span class="lineno">21909</span>    PushStyleVar(ImGuiStyleVar_FramePadding, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, 0.0f));</div>
<div class="line"><a id="l21910" name="l21910"></a><span class="lineno">21910</span>    Text(<span class="stringliteral">&quot;%s:&quot;</span>, label);</div>
<div class="line"><a id="l21911" name="l21911"></a><span class="lineno">21911</span>    <span class="keywordflow">if</span> (!enabled)</div>
<div class="line"><a id="l21912" name="l21912"></a><span class="lineno">21912</span>        BeginDisabled();</div>
<div class="line"><a id="l21913" name="l21913"></a><span class="lineno">21913</span>    CheckboxFlags(<span class="stringliteral">&quot;NoResize&quot;</span>, p_flags, ImGuiDockNodeFlags_NoResize);</div>
<div class="line"><a id="l21914" name="l21914"></a><span class="lineno">21914</span>    CheckboxFlags(<span class="stringliteral">&quot;NoResizeX&quot;</span>, p_flags, ImGuiDockNodeFlags_NoResizeX);</div>
<div class="line"><a id="l21915" name="l21915"></a><span class="lineno">21915</span>    CheckboxFlags(<span class="stringliteral">&quot;NoResizeY&quot;</span>,p_flags, ImGuiDockNodeFlags_NoResizeY);</div>
<div class="line"><a id="l21916" name="l21916"></a><span class="lineno">21916</span>    CheckboxFlags(<span class="stringliteral">&quot;NoTabBar&quot;</span>, p_flags, ImGuiDockNodeFlags_NoTabBar);</div>
<div class="line"><a id="l21917" name="l21917"></a><span class="lineno">21917</span>    CheckboxFlags(<span class="stringliteral">&quot;HiddenTabBar&quot;</span>, p_flags, ImGuiDockNodeFlags_HiddenTabBar);</div>
<div class="line"><a id="l21918" name="l21918"></a><span class="lineno">21918</span>    CheckboxFlags(<span class="stringliteral">&quot;NoWindowMenuButton&quot;</span>, p_flags, ImGuiDockNodeFlags_NoWindowMenuButton);</div>
<div class="line"><a id="l21919" name="l21919"></a><span class="lineno">21919</span>    CheckboxFlags(<span class="stringliteral">&quot;NoCloseButton&quot;</span>, p_flags, ImGuiDockNodeFlags_NoCloseButton);</div>
<div class="line"><a id="l21920" name="l21920"></a><span class="lineno">21920</span>    CheckboxFlags(<span class="stringliteral">&quot;DockedWindowsInFocusRoute&quot;</span>, p_flags, ImGuiDockNodeFlags_DockedWindowsInFocusRoute);</div>
<div class="line"><a id="l21921" name="l21921"></a><span class="lineno">21921</span>    CheckboxFlags(<span class="stringliteral">&quot;NoDocking&quot;</span>, p_flags, ImGuiDockNodeFlags_NoDocking); <span class="comment">// Multiple flags</span></div>
<div class="line"><a id="l21922" name="l21922"></a><span class="lineno">21922</span>    CheckboxFlags(<span class="stringliteral">&quot;NoDockingSplit&quot;</span>, p_flags, ImGuiDockNodeFlags_NoDockingSplit);</div>
<div class="line"><a id="l21923" name="l21923"></a><span class="lineno">21923</span>    CheckboxFlags(<span class="stringliteral">&quot;NoDockingSplitOther&quot;</span>, p_flags, ImGuiDockNodeFlags_NoDockingSplitOther);</div>
<div class="line"><a id="l21924" name="l21924"></a><span class="lineno">21924</span>    CheckboxFlags(<span class="stringliteral">&quot;NoDockingOver&quot;</span>, p_flags, ImGuiDockNodeFlags_NoDockingOverMe);</div>
<div class="line"><a id="l21925" name="l21925"></a><span class="lineno">21925</span>    CheckboxFlags(<span class="stringliteral">&quot;NoDockingOverOther&quot;</span>, p_flags, ImGuiDockNodeFlags_NoDockingOverOther);</div>
<div class="line"><a id="l21926" name="l21926"></a><span class="lineno">21926</span>    CheckboxFlags(<span class="stringliteral">&quot;NoDockingOverEmpty&quot;</span>, p_flags, ImGuiDockNodeFlags_NoDockingOverEmpty);</div>
<div class="line"><a id="l21927" name="l21927"></a><span class="lineno">21927</span>    CheckboxFlags(<span class="stringliteral">&quot;NoUndocking&quot;</span>, p_flags, ImGuiDockNodeFlags_NoUndocking);</div>
<div class="line"><a id="l21928" name="l21928"></a><span class="lineno">21928</span>    <span class="keywordflow">if</span> (!enabled)</div>
<div class="line"><a id="l21929" name="l21929"></a><span class="lineno">21929</span>        EndDisabled();</div>
<div class="line"><a id="l21930" name="l21930"></a><span class="lineno">21930</span>    PopStyleVar();</div>
<div class="line"><a id="l21931" name="l21931"></a><span class="lineno">21931</span>    PopID();</div>
<div class="line"><a id="l21932" name="l21932"></a><span class="lineno">21932</span>}</div>
<div class="line"><a id="l21933" name="l21933"></a><span class="lineno">21933</span> </div>
<div class="line"><a id="l21934" name="l21934"></a><span class="lineno">21934</span><span class="comment">// [DEBUG] Display contents of ImDockNode</span></div>
<div class="line"><a id="l21935" name="l21935"></a><span class="lineno">21935</span><span class="keywordtype">void</span> ImGui::DebugNodeDockNode(<a class="code hl_struct" href="structImGuiDockNode.html">ImGuiDockNode</a>* node, <span class="keyword">const</span> <span class="keywordtype">char</span>* label)</div>
<div class="line"><a id="l21936" name="l21936"></a><span class="lineno">21936</span>{</div>
<div class="line"><a id="l21937" name="l21937"></a><span class="lineno">21937</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l21938" name="l21938"></a><span class="lineno">21938</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_alive = (g.FrameCount - node-&gt;LastFrameAlive &lt; 2);    <span class="comment">// Submitted with ImGuiDockNodeFlags_KeepAliveOnly</span></div>
<div class="line"><a id="l21939" name="l21939"></a><span class="lineno">21939</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_active = (g.FrameCount - node-&gt;LastFrameActive &lt; 2);  <span class="comment">// Submitted</span></div>
<div class="line"><a id="l21940" name="l21940"></a><span class="lineno">21940</span>    <span class="keywordflow">if</span> (!is_alive) { PushStyleColor(ImGuiCol_Text, GetStyleColorVec4(ImGuiCol_TextDisabled)); }</div>
<div class="line"><a id="l21941" name="l21941"></a><span class="lineno">21941</span>    <span class="keywordtype">bool</span> open;</div>
<div class="line"><a id="l21942" name="l21942"></a><span class="lineno">21942</span>    ImGuiTreeNodeFlags tree_node_flags = node-&gt;IsFocused ? ImGuiTreeNodeFlags_Selected : ImGuiTreeNodeFlags_None;</div>
<div class="line"><a id="l21943" name="l21943"></a><span class="lineno">21943</span>    <span class="keywordflow">if</span> (node-&gt;Windows.Size &gt; 0)</div>
<div class="line"><a id="l21944" name="l21944"></a><span class="lineno">21944</span>        open = TreeNodeEx((<span class="keywordtype">void</span>*)(intptr_t)node-&gt;ID, tree_node_flags, <span class="stringliteral">&quot;%s 0x%04X%s: %d windows (vis: &#39;%s&#39;)&quot;</span>, label, node-&gt;ID, node-&gt;IsVisible ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot; (hidden)&quot;</span>, node-&gt;Windows.Size, node-&gt;VisibleWindow ? node-&gt;VisibleWindow-&gt;Name : <span class="stringliteral">&quot;NULL&quot;</span>);</div>
<div class="line"><a id="l21945" name="l21945"></a><span class="lineno">21945</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l21946" name="l21946"></a><span class="lineno">21946</span>        open = TreeNodeEx((<span class="keywordtype">void</span>*)(intptr_t)node-&gt;ID, tree_node_flags, <span class="stringliteral">&quot;%s 0x%04X%s: %s (vis: &#39;%s&#39;)&quot;</span>, label, node-&gt;ID, node-&gt;IsVisible ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot; (hidden)&quot;</span>, (node-&gt;SplitAxis == ImGuiAxis_X) ? <span class="stringliteral">&quot;horizontal split&quot;</span> : (node-&gt;SplitAxis == ImGuiAxis_Y) ? <span class="stringliteral">&quot;vertical split&quot;</span> : <span class="stringliteral">&quot;empty&quot;</span>, node-&gt;VisibleWindow ? node-&gt;VisibleWindow-&gt;Name : <span class="stringliteral">&quot;NULL&quot;</span>);</div>
<div class="line"><a id="l21947" name="l21947"></a><span class="lineno">21947</span>    <span class="keywordflow">if</span> (!is_alive) { PopStyleColor(); }</div>
<div class="line"><a id="l21948" name="l21948"></a><span class="lineno">21948</span>    <span class="keywordflow">if</span> (is_active &amp;&amp; IsItemHovered())</div>
<div class="line"><a id="l21949" name="l21949"></a><span class="lineno">21949</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = node-&gt;HostWindow ? node-&gt;HostWindow : node-&gt;VisibleWindow)</div>
<div class="line"><a id="l21950" name="l21950"></a><span class="lineno">21950</span>            GetForegroundDrawList(window)-&gt;AddRect(node-&gt;Pos, node-&gt;Pos + node-&gt;Size, IM_COL32(255, 255, 0, 255));</div>
<div class="line"><a id="l21951" name="l21951"></a><span class="lineno">21951</span>    <span class="keywordflow">if</span> (open)</div>
<div class="line"><a id="l21952" name="l21952"></a><span class="lineno">21952</span>    {</div>
<div class="line"><a id="l21953" name="l21953"></a><span class="lineno">21953</span>        IM_ASSERT(node-&gt;ChildNodes[0] == NULL || node-&gt;ChildNodes[0]-&gt;ParentNode == node);</div>
<div class="line"><a id="l21954" name="l21954"></a><span class="lineno">21954</span>        IM_ASSERT(node-&gt;ChildNodes[1] == NULL || node-&gt;ChildNodes[1]-&gt;ParentNode == node);</div>
<div class="line"><a id="l21955" name="l21955"></a><span class="lineno">21955</span>        BulletText(<span class="stringliteral">&quot;Pos (%.0f,%.0f), Size (%.0f, %.0f) Ref (%.0f, %.0f)&quot;</span>,</div>
<div class="line"><a id="l21956" name="l21956"></a><span class="lineno">21956</span>            node-&gt;Pos.x, node-&gt;Pos.y, node-&gt;Size.x, node-&gt;Size.y, node-&gt;SizeRef.x, node-&gt;SizeRef.y);</div>
<div class="line"><a id="l21957" name="l21957"></a><span class="lineno">21957</span>        DebugNodeWindow(node-&gt;HostWindow, <span class="stringliteral">&quot;HostWindow&quot;</span>);</div>
<div class="line"><a id="l21958" name="l21958"></a><span class="lineno">21958</span>        DebugNodeWindow(node-&gt;VisibleWindow, <span class="stringliteral">&quot;VisibleWindow&quot;</span>);</div>
<div class="line"><a id="l21959" name="l21959"></a><span class="lineno">21959</span>        BulletText(<span class="stringliteral">&quot;SelectedTabID: 0x%08X, LastFocusedNodeID: 0x%08X&quot;</span>, node-&gt;SelectedTabId, node-&gt;LastFocusedNodeId);</div>
<div class="line"><a id="l21960" name="l21960"></a><span class="lineno">21960</span>        BulletText(<span class="stringliteral">&quot;Misc:%s%s%s%s%s%s%s&quot;</span>,</div>
<div class="line"><a id="l21961" name="l21961"></a><span class="lineno">21961</span>            node-&gt;IsDockSpace() ? <span class="stringliteral">&quot; IsDockSpace&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l21962" name="l21962"></a><span class="lineno">21962</span>            node-&gt;IsCentralNode() ? <span class="stringliteral">&quot; IsCentralNode&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l21963" name="l21963"></a><span class="lineno">21963</span>            is_alive ? <span class="stringliteral">&quot; IsAlive&quot;</span> : <span class="stringliteral">&quot;&quot;</span>, is_active ? <span class="stringliteral">&quot; IsActive&quot;</span> : <span class="stringliteral">&quot;&quot;</span>, node-&gt;IsFocused ? <span class="stringliteral">&quot; IsFocused&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l21964" name="l21964"></a><span class="lineno">21964</span>            node-&gt;WantLockSizeOnce ? <span class="stringliteral">&quot; WantLockSizeOnce&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l21965" name="l21965"></a><span class="lineno">21965</span>            node-&gt;HasCentralNodeChild ? <span class="stringliteral">&quot; HasCentralNodeChild&quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a id="l21966" name="l21966"></a><span class="lineno">21966</span>        <span class="keywordflow">if</span> (TreeNode(<span class="stringliteral">&quot;flags&quot;</span>, <span class="stringliteral">&quot;Flags Merged: 0x%04X, Local: 0x%04X, InWindows: 0x%04X, Shared: 0x%04X&quot;</span>, node-&gt;MergedFlags, node-&gt;LocalFlags, node-&gt;LocalFlagsInWindows, node-&gt;SharedFlags))</div>
<div class="line"><a id="l21967" name="l21967"></a><span class="lineno">21967</span>        {</div>
<div class="line"><a id="l21968" name="l21968"></a><span class="lineno">21968</span>            <span class="keywordflow">if</span> (BeginTable(<span class="stringliteral">&quot;flags&quot;</span>, 4))</div>
<div class="line"><a id="l21969" name="l21969"></a><span class="lineno">21969</span>            {</div>
<div class="line"><a id="l21970" name="l21970"></a><span class="lineno">21970</span>                TableNextColumn(); DebugNodeDockNodeFlags(&amp;node-&gt;MergedFlags, <span class="stringliteral">&quot;MergedFlags&quot;</span>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l21971" name="l21971"></a><span class="lineno">21971</span>                TableNextColumn(); DebugNodeDockNodeFlags(&amp;node-&gt;LocalFlags, <span class="stringliteral">&quot;LocalFlags&quot;</span>, <span class="keyword">true</span>);</div>
<div class="line"><a id="l21972" name="l21972"></a><span class="lineno">21972</span>                TableNextColumn(); DebugNodeDockNodeFlags(&amp;node-&gt;LocalFlagsInWindows, <span class="stringliteral">&quot;LocalFlagsInWindows&quot;</span>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l21973" name="l21973"></a><span class="lineno">21973</span>                TableNextColumn(); DebugNodeDockNodeFlags(&amp;node-&gt;SharedFlags, <span class="stringliteral">&quot;SharedFlags&quot;</span>, <span class="keyword">true</span>);</div>
<div class="line"><a id="l21974" name="l21974"></a><span class="lineno">21974</span>                EndTable();</div>
<div class="line"><a id="l21975" name="l21975"></a><span class="lineno">21975</span>            }</div>
<div class="line"><a id="l21976" name="l21976"></a><span class="lineno">21976</span>            TreePop();</div>
<div class="line"><a id="l21977" name="l21977"></a><span class="lineno">21977</span>        }</div>
<div class="line"><a id="l21978" name="l21978"></a><span class="lineno">21978</span>        <span class="keywordflow">if</span> (node-&gt;ParentNode)</div>
<div class="line"><a id="l21979" name="l21979"></a><span class="lineno">21979</span>            DebugNodeDockNode(node-&gt;ParentNode, <span class="stringliteral">&quot;ParentNode&quot;</span>);</div>
<div class="line"><a id="l21980" name="l21980"></a><span class="lineno">21980</span>        <span class="keywordflow">if</span> (node-&gt;ChildNodes[0])</div>
<div class="line"><a id="l21981" name="l21981"></a><span class="lineno">21981</span>            DebugNodeDockNode(node-&gt;ChildNodes[0], <span class="stringliteral">&quot;Child[0]&quot;</span>);</div>
<div class="line"><a id="l21982" name="l21982"></a><span class="lineno">21982</span>        <span class="keywordflow">if</span> (node-&gt;ChildNodes[1])</div>
<div class="line"><a id="l21983" name="l21983"></a><span class="lineno">21983</span>            DebugNodeDockNode(node-&gt;ChildNodes[1], <span class="stringliteral">&quot;Child[1]&quot;</span>);</div>
<div class="line"><a id="l21984" name="l21984"></a><span class="lineno">21984</span>        <span class="keywordflow">if</span> (node-&gt;TabBar)</div>
<div class="line"><a id="l21985" name="l21985"></a><span class="lineno">21985</span>            DebugNodeTabBar(node-&gt;TabBar, <span class="stringliteral">&quot;TabBar&quot;</span>);</div>
<div class="line"><a id="l21986" name="l21986"></a><span class="lineno">21986</span>        DebugNodeWindowsList(&amp;node-&gt;Windows, <span class="stringliteral">&quot;Windows&quot;</span>);</div>
<div class="line"><a id="l21987" name="l21987"></a><span class="lineno">21987</span> </div>
<div class="line"><a id="l21988" name="l21988"></a><span class="lineno">21988</span>        TreePop();</div>
<div class="line"><a id="l21989" name="l21989"></a><span class="lineno">21989</span>    }</div>
<div class="line"><a id="l21990" name="l21990"></a><span class="lineno">21990</span>}</div>
<div class="line"><a id="l21991" name="l21991"></a><span class="lineno">21991</span> </div>
<div class="line"><a id="l21992" name="l21992"></a><span class="lineno">21992</span><span class="comment">// [DEBUG] Display contents of ImDrawList</span></div>
<div class="line"><a id="l21993" name="l21993"></a><span class="lineno">21993</span><span class="comment">// Note that both &#39;window&#39; and &#39;viewport&#39; may be NULL here. Viewport is generally null of destroyed popups which previously owned a viewport.</span></div>
<div class="line"><a id="l21994" name="l21994"></a><span class="lineno">21994</span><span class="keywordtype">void</span> ImGui::DebugNodeDrawList(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport, <span class="keyword">const</span> <a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>* draw_list, <span class="keyword">const</span> <span class="keywordtype">char</span>* label)</div>
<div class="line"><a id="l21995" name="l21995"></a><span class="lineno">21995</span>{</div>
<div class="line"><a id="l21996" name="l21996"></a><span class="lineno">21996</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l21997" name="l21997"></a><span class="lineno">21997</span>    <a class="code hl_struct" href="structImGuiMetricsConfig.html">ImGuiMetricsConfig</a>* cfg = &amp;g.DebugMetricsConfig;</div>
<div class="line"><a id="l21998" name="l21998"></a><span class="lineno">21998</span>    <span class="keywordtype">int</span> cmd_count = draw_list-&gt;CmdBuffer.Size;</div>
<div class="line"><a id="l21999" name="l21999"></a><span class="lineno">21999</span>    <span class="keywordflow">if</span> (cmd_count &gt; 0 &amp;&amp; draw_list-&gt;CmdBuffer.back().ElemCount == 0 &amp;&amp; draw_list-&gt;CmdBuffer.back().UserCallback == NULL)</div>
<div class="line"><a id="l22000" name="l22000"></a><span class="lineno">22000</span>        cmd_count--;</div>
<div class="line"><a id="l22001" name="l22001"></a><span class="lineno">22001</span>    <span class="keywordtype">bool</span> node_open = TreeNode(draw_list, <span class="stringliteral">&quot;%s: &#39;%s&#39; %d vtx, %d indices, %d cmds&quot;</span>, label, draw_list-&gt;_OwnerName ? draw_list-&gt;_OwnerName : <span class="stringliteral">&quot;&quot;</span>, draw_list-&gt;VtxBuffer.Size, draw_list-&gt;IdxBuffer.Size, cmd_count);</div>
<div class="line"><a id="l22002" name="l22002"></a><span class="lineno">22002</span>    <span class="keywordflow">if</span> (draw_list == GetWindowDrawList())</div>
<div class="line"><a id="l22003" name="l22003"></a><span class="lineno">22003</span>    {</div>
<div class="line"><a id="l22004" name="l22004"></a><span class="lineno">22004</span>        SameLine();</div>
<div class="line"><a id="l22005" name="l22005"></a><span class="lineno">22005</span>        TextColored(<a class="code hl_struct" href="structImVec4.html">ImVec4</a>(1.0f, 0.4f, 0.4f, 1.0f), <span class="stringliteral">&quot;CURRENTLY APPENDING&quot;</span>); <span class="comment">// Can&#39;t display stats for active draw list! (we don&#39;t have the data double-buffered)</span></div>
<div class="line"><a id="l22006" name="l22006"></a><span class="lineno">22006</span>        <span class="keywordflow">if</span> (node_open)</div>
<div class="line"><a id="l22007" name="l22007"></a><span class="lineno">22007</span>            TreePop();</div>
<div class="line"><a id="l22008" name="l22008"></a><span class="lineno">22008</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l22009" name="l22009"></a><span class="lineno">22009</span>    }</div>
<div class="line"><a id="l22010" name="l22010"></a><span class="lineno">22010</span> </div>
<div class="line"><a id="l22011" name="l22011"></a><span class="lineno">22011</span>    <a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>* fg_draw_list = viewport ? GetForegroundDrawList(viewport) : NULL; <span class="comment">// Render additional visuals into the top-most draw list</span></div>
<div class="line"><a id="l22012" name="l22012"></a><span class="lineno">22012</span>    <span class="keywordflow">if</span> (window &amp;&amp; IsItemHovered() &amp;&amp; fg_draw_list)</div>
<div class="line"><a id="l22013" name="l22013"></a><span class="lineno">22013</span>        fg_draw_list-&gt;AddRect(window-&gt;Pos, window-&gt;Pos + window-&gt;Size, IM_COL32(255, 255, 0, 255));</div>
<div class="line"><a id="l22014" name="l22014"></a><span class="lineno">22014</span>    <span class="keywordflow">if</span> (!node_open)</div>
<div class="line"><a id="l22015" name="l22015"></a><span class="lineno">22015</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l22016" name="l22016"></a><span class="lineno">22016</span> </div>
<div class="line"><a id="l22017" name="l22017"></a><span class="lineno">22017</span>    <span class="keywordflow">if</span> (window &amp;&amp; !window-&gt;WasActive)</div>
<div class="line"><a id="l22018" name="l22018"></a><span class="lineno">22018</span>        TextDisabled(<span class="stringliteral">&quot;Warning: owning Window is inactive. This DrawList is not being rendered!&quot;</span>);</div>
<div class="line"><a id="l22019" name="l22019"></a><span class="lineno">22019</span> </div>
<div class="line"><a id="l22020" name="l22020"></a><span class="lineno">22020</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_struct" href="structImDrawCmd.html">ImDrawCmd</a>* pcmd = draw_list-&gt;CmdBuffer.Data; pcmd &lt; draw_list-&gt;CmdBuffer.Data + cmd_count; pcmd++)</div>
<div class="line"><a id="l22021" name="l22021"></a><span class="lineno">22021</span>    {</div>
<div class="line"><a id="l22022" name="l22022"></a><span class="lineno">22022</span>        <span class="keywordflow">if</span> (pcmd-&gt;UserCallback)</div>
<div class="line"><a id="l22023" name="l22023"></a><span class="lineno">22023</span>        {</div>
<div class="line"><a id="l22024" name="l22024"></a><span class="lineno">22024</span>            BulletText(<span class="stringliteral">&quot;Callback %p, user_data %p&quot;</span>, pcmd-&gt;UserCallback, pcmd-&gt;UserCallbackData);</div>
<div class="line"><a id="l22025" name="l22025"></a><span class="lineno">22025</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l22026" name="l22026"></a><span class="lineno">22026</span>        }</div>
<div class="line"><a id="l22027" name="l22027"></a><span class="lineno">22027</span> </div>
<div class="line"><a id="l22028" name="l22028"></a><span class="lineno">22028</span>        <span class="keywordtype">char</span> texid_desc[20];</div>
<div class="line"><a id="l22029" name="l22029"></a><span class="lineno">22029</span>        FormatTextureIDForDebugDisplay(texid_desc, IM_ARRAYSIZE(texid_desc), pcmd-&gt;TextureId);</div>
<div class="line"><a id="l22030" name="l22030"></a><span class="lineno">22030</span>        <span class="keywordtype">char</span> buf[300];</div>
<div class="line"><a id="l22031" name="l22031"></a><span class="lineno">22031</span>        ImFormatString(buf, IM_ARRAYSIZE(buf), <span class="stringliteral">&quot;DrawCmd:%5d tris, Tex %s, ClipRect (%4.0f,%4.0f)-(%4.0f,%4.0f)&quot;</span>,</div>
<div class="line"><a id="l22032" name="l22032"></a><span class="lineno">22032</span>            pcmd-&gt;ElemCount / 3, texid_desc, pcmd-&gt;ClipRect.x, pcmd-&gt;ClipRect.y, pcmd-&gt;ClipRect.z, pcmd-&gt;ClipRect.w);</div>
<div class="line"><a id="l22033" name="l22033"></a><span class="lineno">22033</span>        <span class="keywordtype">bool</span> pcmd_node_open = TreeNode((<span class="keywordtype">void</span>*)(pcmd - draw_list-&gt;CmdBuffer.begin()), <span class="stringliteral">&quot;%s&quot;</span>, buf);</div>
<div class="line"><a id="l22034" name="l22034"></a><span class="lineno">22034</span>        <span class="keywordflow">if</span> (IsItemHovered() &amp;&amp; (cfg-&gt;ShowDrawCmdMesh || cfg-&gt;ShowDrawCmdBoundingBoxes) &amp;&amp; fg_draw_list)</div>
<div class="line"><a id="l22035" name="l22035"></a><span class="lineno">22035</span>            DebugNodeDrawCmdShowMeshAndBoundingBox(fg_draw_list, draw_list, pcmd, cfg-&gt;ShowDrawCmdMesh, cfg-&gt;ShowDrawCmdBoundingBoxes);</div>
<div class="line"><a id="l22036" name="l22036"></a><span class="lineno">22036</span>        <span class="keywordflow">if</span> (!pcmd_node_open)</div>
<div class="line"><a id="l22037" name="l22037"></a><span class="lineno">22037</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l22038" name="l22038"></a><span class="lineno">22038</span> </div>
<div class="line"><a id="l22039" name="l22039"></a><span class="lineno">22039</span>        <span class="comment">// Calculate approximate coverage area (touched pixel count)</span></div>
<div class="line"><a id="l22040" name="l22040"></a><span class="lineno">22040</span>        <span class="comment">// This will be in pixels squared as long there&#39;s no post-scaling happening to the renderer output.</span></div>
<div class="line"><a id="l22041" name="l22041"></a><span class="lineno">22041</span>        <span class="keyword">const</span> ImDrawIdx* idx_buffer = (draw_list-&gt;IdxBuffer.Size &gt; 0) ? draw_list-&gt;IdxBuffer.Data : NULL;</div>
<div class="line"><a id="l22042" name="l22042"></a><span class="lineno">22042</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structImDrawVert.html">ImDrawVert</a>* vtx_buffer = draw_list-&gt;VtxBuffer.Data + pcmd-&gt;VtxOffset;</div>
<div class="line"><a id="l22043" name="l22043"></a><span class="lineno">22043</span>        <span class="keywordtype">float</span> total_area = 0.0f;</div>
<div class="line"><a id="l22044" name="l22044"></a><span class="lineno">22044</span>        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx_n = pcmd-&gt;IdxOffset; idx_n &lt; pcmd-&gt;IdxOffset + pcmd-&gt;ElemCount; )</div>
<div class="line"><a id="l22045" name="l22045"></a><span class="lineno">22045</span>        {</div>
<div class="line"><a id="l22046" name="l22046"></a><span class="lineno">22046</span>            <a class="code hl_struct" href="structImVec2.html">ImVec2</a> triangle[3];</div>
<div class="line"><a id="l22047" name="l22047"></a><span class="lineno">22047</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; 3; n++, idx_n++)</div>
<div class="line"><a id="l22048" name="l22048"></a><span class="lineno">22048</span>                triangle[n] = vtx_buffer[idx_buffer ? idx_buffer[idx_n] : idx_n].pos;</div>
<div class="line"><a id="l22049" name="l22049"></a><span class="lineno">22049</span>            total_area += ImTriangleArea(triangle[0], triangle[1], triangle[2]);</div>
<div class="line"><a id="l22050" name="l22050"></a><span class="lineno">22050</span>        }</div>
<div class="line"><a id="l22051" name="l22051"></a><span class="lineno">22051</span> </div>
<div class="line"><a id="l22052" name="l22052"></a><span class="lineno">22052</span>        <span class="comment">// Display vertex information summary. Hover to get all triangles drawn in wire-frame</span></div>
<div class="line"><a id="l22053" name="l22053"></a><span class="lineno">22053</span>        ImFormatString(buf, IM_ARRAYSIZE(buf), <span class="stringliteral">&quot;Mesh: ElemCount: %d, VtxOffset: +%d, IdxOffset: +%d, Area: ~%0.f px&quot;</span>, pcmd-&gt;ElemCount, pcmd-&gt;VtxOffset, pcmd-&gt;IdxOffset, total_area);</div>
<div class="line"><a id="l22054" name="l22054"></a><span class="lineno">22054</span>        Selectable(buf);</div>
<div class="line"><a id="l22055" name="l22055"></a><span class="lineno">22055</span>        <span class="keywordflow">if</span> (IsItemHovered() &amp;&amp; fg_draw_list)</div>
<div class="line"><a id="l22056" name="l22056"></a><span class="lineno">22056</span>            DebugNodeDrawCmdShowMeshAndBoundingBox(fg_draw_list, draw_list, pcmd, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l22057" name="l22057"></a><span class="lineno">22057</span> </div>
<div class="line"><a id="l22058" name="l22058"></a><span class="lineno">22058</span>        <span class="comment">// Display individual triangles/vertices. Hover on to get the corresponding triangle highlighted.</span></div>
<div class="line"><a id="l22059" name="l22059"></a><span class="lineno">22059</span>        <a class="code hl_struct" href="structImGuiListClipper.html">ImGuiListClipper</a> clipper;</div>
<div class="line"><a id="l22060" name="l22060"></a><span class="lineno">22060</span>        clipper.Begin(pcmd-&gt;ElemCount / 3); <span class="comment">// Manually coarse clip our print out of individual vertices to save CPU, only items that may be visible.</span></div>
<div class="line"><a id="l22061" name="l22061"></a><span class="lineno">22061</span>        <span class="keywordflow">while</span> (clipper.Step())</div>
<div class="line"><a id="l22062" name="l22062"></a><span class="lineno">22062</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> prim = clipper.DisplayStart, idx_i = pcmd-&gt;IdxOffset + clipper.DisplayStart * 3; prim &lt; clipper.DisplayEnd; prim++)</div>
<div class="line"><a id="l22063" name="l22063"></a><span class="lineno">22063</span>            {</div>
<div class="line"><a id="l22064" name="l22064"></a><span class="lineno">22064</span>                <span class="keywordtype">char</span>* buf_p = buf, * buf_end = buf + IM_ARRAYSIZE(buf);</div>
<div class="line"><a id="l22065" name="l22065"></a><span class="lineno">22065</span>                <a class="code hl_struct" href="structImVec2.html">ImVec2</a> triangle[3];</div>
<div class="line"><a id="l22066" name="l22066"></a><span class="lineno">22066</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; 3; n++, idx_i++)</div>
<div class="line"><a id="l22067" name="l22067"></a><span class="lineno">22067</span>                {</div>
<div class="line"><a id="l22068" name="l22068"></a><span class="lineno">22068</span>                    <span class="keyword">const</span> <a class="code hl_struct" href="structImDrawVert.html">ImDrawVert</a>&amp; v = vtx_buffer[idx_buffer ? idx_buffer[idx_i] : idx_i];</div>
<div class="line"><a id="l22069" name="l22069"></a><span class="lineno">22069</span>                    triangle[n] = v.pos;</div>
<div class="line"><a id="l22070" name="l22070"></a><span class="lineno">22070</span>                    buf_p += ImFormatString(buf_p, buf_end - buf_p, <span class="stringliteral">&quot;%s %04d: pos (%8.2f,%8.2f), uv (%.6f,%.6f), col %08X\n&quot;</span>,</div>
<div class="line"><a id="l22071" name="l22071"></a><span class="lineno">22071</span>                        (n == 0) ? <span class="stringliteral">&quot;Vert:&quot;</span> : <span class="stringliteral">&quot;     &quot;</span>, idx_i, v.pos.x, v.pos.y, v.uv.x, v.uv.y, v.col);</div>
<div class="line"><a id="l22072" name="l22072"></a><span class="lineno">22072</span>                }</div>
<div class="line"><a id="l22073" name="l22073"></a><span class="lineno">22073</span> </div>
<div class="line"><a id="l22074" name="l22074"></a><span class="lineno">22074</span>                Selectable(buf, <span class="keyword">false</span>);</div>
<div class="line"><a id="l22075" name="l22075"></a><span class="lineno">22075</span>                <span class="keywordflow">if</span> (fg_draw_list &amp;&amp; IsItemHovered())</div>
<div class="line"><a id="l22076" name="l22076"></a><span class="lineno">22076</span>                {</div>
<div class="line"><a id="l22077" name="l22077"></a><span class="lineno">22077</span>                    ImDrawListFlags backup_flags = fg_draw_list-&gt;Flags;</div>
<div class="line"><a id="l22078" name="l22078"></a><span class="lineno">22078</span>                    fg_draw_list-&gt;Flags &amp;= ~ImDrawListFlags_AntiAliasedLines; <span class="comment">// Disable AA on triangle outlines is more readable for very large and thin triangles.</span></div>
<div class="line"><a id="l22079" name="l22079"></a><span class="lineno">22079</span>                    fg_draw_list-&gt;AddPolyline(triangle, 3, IM_COL32(255, 255, 0, 255), ImDrawFlags_Closed, 1.0f);</div>
<div class="line"><a id="l22080" name="l22080"></a><span class="lineno">22080</span>                    fg_draw_list-&gt;Flags = backup_flags;</div>
<div class="line"><a id="l22081" name="l22081"></a><span class="lineno">22081</span>                }</div>
<div class="line"><a id="l22082" name="l22082"></a><span class="lineno">22082</span>            }</div>
<div class="line"><a id="l22083" name="l22083"></a><span class="lineno">22083</span>        TreePop();</div>
<div class="line"><a id="l22084" name="l22084"></a><span class="lineno">22084</span>    }</div>
<div class="line"><a id="l22085" name="l22085"></a><span class="lineno">22085</span>    TreePop();</div>
<div class="line"><a id="l22086" name="l22086"></a><span class="lineno">22086</span>}</div>
<div class="line"><a id="l22087" name="l22087"></a><span class="lineno">22087</span> </div>
<div class="line"><a id="l22088" name="l22088"></a><span class="lineno">22088</span><span class="comment">// [DEBUG] Display mesh/aabb of a ImDrawCmd</span></div>
<div class="line"><a id="l22089" name="l22089"></a><span class="lineno">22089</span><span class="keywordtype">void</span> ImGui::DebugNodeDrawCmdShowMeshAndBoundingBox(<a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>* out_draw_list, <span class="keyword">const</span> <a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>* draw_list, <span class="keyword">const</span> <a class="code hl_struct" href="structImDrawCmd.html">ImDrawCmd</a>* draw_cmd, <span class="keywordtype">bool</span> show_mesh, <span class="keywordtype">bool</span> show_aabb)</div>
<div class="line"><a id="l22090" name="l22090"></a><span class="lineno">22090</span>{</div>
<div class="line"><a id="l22091" name="l22091"></a><span class="lineno">22091</span>    IM_ASSERT(show_mesh || show_aabb);</div>
<div class="line"><a id="l22092" name="l22092"></a><span class="lineno">22092</span> </div>
<div class="line"><a id="l22093" name="l22093"></a><span class="lineno">22093</span>    <span class="comment">// Draw wire-frame version of all triangles</span></div>
<div class="line"><a id="l22094" name="l22094"></a><span class="lineno">22094</span>    <a class="code hl_struct" href="structImRect.html">ImRect</a> clip_rect = draw_cmd-&gt;ClipRect;</div>
<div class="line"><a id="l22095" name="l22095"></a><span class="lineno">22095</span>    <a class="code hl_struct" href="structImRect.html">ImRect</a> vtxs_rect(FLT_MAX, FLT_MAX, -FLT_MAX, -FLT_MAX);</div>
<div class="line"><a id="l22096" name="l22096"></a><span class="lineno">22096</span>    ImDrawListFlags backup_flags = out_draw_list-&gt;Flags;</div>
<div class="line"><a id="l22097" name="l22097"></a><span class="lineno">22097</span>    out_draw_list-&gt;Flags &amp;= ~ImDrawListFlags_AntiAliasedLines; <span class="comment">// Disable AA on triangle outlines is more readable for very large and thin triangles.</span></div>
<div class="line"><a id="l22098" name="l22098"></a><span class="lineno">22098</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx_n = draw_cmd-&gt;IdxOffset, idx_end = draw_cmd-&gt;IdxOffset + draw_cmd-&gt;ElemCount; idx_n &lt; idx_end; )</div>
<div class="line"><a id="l22099" name="l22099"></a><span class="lineno">22099</span>    {</div>
<div class="line"><a id="l22100" name="l22100"></a><span class="lineno">22100</span>        ImDrawIdx* idx_buffer = (draw_list-&gt;IdxBuffer.Size &gt; 0) ? draw_list-&gt;IdxBuffer.Data : NULL; <span class="comment">// We don&#39;t hold on those pointers past iterations as -&gt;AddPolyline() may invalidate them if out_draw_list==draw_list</span></div>
<div class="line"><a id="l22101" name="l22101"></a><span class="lineno">22101</span>        <a class="code hl_struct" href="structImDrawVert.html">ImDrawVert</a>* vtx_buffer = draw_list-&gt;VtxBuffer.Data + draw_cmd-&gt;VtxOffset;</div>
<div class="line"><a id="l22102" name="l22102"></a><span class="lineno">22102</span> </div>
<div class="line"><a id="l22103" name="l22103"></a><span class="lineno">22103</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> triangle[3];</div>
<div class="line"><a id="l22104" name="l22104"></a><span class="lineno">22104</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; 3; n++, idx_n++)</div>
<div class="line"><a id="l22105" name="l22105"></a><span class="lineno">22105</span>            vtxs_rect.Add((triangle[n] = vtx_buffer[idx_buffer ? idx_buffer[idx_n] : idx_n].pos));</div>
<div class="line"><a id="l22106" name="l22106"></a><span class="lineno">22106</span>        <span class="keywordflow">if</span> (show_mesh)</div>
<div class="line"><a id="l22107" name="l22107"></a><span class="lineno">22107</span>            out_draw_list-&gt;AddPolyline(triangle, 3, IM_COL32(255, 255, 0, 255), ImDrawFlags_Closed, 1.0f); <span class="comment">// In yellow: mesh triangles</span></div>
<div class="line"><a id="l22108" name="l22108"></a><span class="lineno">22108</span>    }</div>
<div class="line"><a id="l22109" name="l22109"></a><span class="lineno">22109</span>    <span class="comment">// Draw bounding boxes</span></div>
<div class="line"><a id="l22110" name="l22110"></a><span class="lineno">22110</span>    <span class="keywordflow">if</span> (show_aabb)</div>
<div class="line"><a id="l22111" name="l22111"></a><span class="lineno">22111</span>    {</div>
<div class="line"><a id="l22112" name="l22112"></a><span class="lineno">22112</span>        out_draw_list-&gt;AddRect(ImTrunc(clip_rect.Min), ImTrunc(clip_rect.Max), IM_COL32(255, 0, 255, 255)); <span class="comment">// In pink: clipping rectangle submitted to GPU</span></div>
<div class="line"><a id="l22113" name="l22113"></a><span class="lineno">22113</span>        out_draw_list-&gt;AddRect(ImTrunc(vtxs_rect.Min), ImTrunc(vtxs_rect.Max), IM_COL32(0, 255, 255, 255)); <span class="comment">// In cyan: bounding box of triangles</span></div>
<div class="line"><a id="l22114" name="l22114"></a><span class="lineno">22114</span>    }</div>
<div class="line"><a id="l22115" name="l22115"></a><span class="lineno">22115</span>    out_draw_list-&gt;Flags = backup_flags;</div>
<div class="line"><a id="l22116" name="l22116"></a><span class="lineno">22116</span>}</div>
<div class="line"><a id="l22117" name="l22117"></a><span class="lineno">22117</span> </div>
<div class="line"><a id="l22118" name="l22118"></a><span class="lineno">22118</span><span class="comment">// [DEBUG] Display details for a single font, called by ShowStyleEditor().</span></div>
<div class="line"><a id="l22119" name="l22119"></a><span class="lineno">22119</span><span class="keywordtype">void</span> ImGui::DebugNodeFont(<a class="code hl_struct" href="structImFont.html">ImFont</a>* font)</div>
<div class="line"><a id="l22120" name="l22120"></a><span class="lineno">22120</span>{</div>
<div class="line"><a id="l22121" name="l22121"></a><span class="lineno">22121</span>    <span class="keywordtype">bool</span> opened = TreeNode(font, <span class="stringliteral">&quot;Font: \&quot;%s\&quot;: %.2f px, %d glyphs, %d sources(s)&quot;</span>,</div>
<div class="line"><a id="l22122" name="l22122"></a><span class="lineno">22122</span>        font-&gt;Sources ? font-&gt;Sources[0].Name : <span class="stringliteral">&quot;&quot;</span>, font-&gt;FontSize, font-&gt;Glyphs.Size, font-&gt;SourcesCount);</div>
<div class="line"><a id="l22123" name="l22123"></a><span class="lineno">22123</span> </div>
<div class="line"><a id="l22124" name="l22124"></a><span class="lineno">22124</span>    <span class="comment">// Display preview text</span></div>
<div class="line"><a id="l22125" name="l22125"></a><span class="lineno">22125</span>    <span class="keywordflow">if</span> (!opened)</div>
<div class="line"><a id="l22126" name="l22126"></a><span class="lineno">22126</span>        Indent();</div>
<div class="line"><a id="l22127" name="l22127"></a><span class="lineno">22127</span>    Indent();</div>
<div class="line"><a id="l22128" name="l22128"></a><span class="lineno">22128</span>    PushFont(font);</div>
<div class="line"><a id="l22129" name="l22129"></a><span class="lineno">22129</span>    Text(<span class="stringliteral">&quot;The quick brown fox jumps over the lazy dog&quot;</span>);</div>
<div class="line"><a id="l22130" name="l22130"></a><span class="lineno">22130</span>    PopFont();</div>
<div class="line"><a id="l22131" name="l22131"></a><span class="lineno">22131</span>    <span class="keywordflow">if</span> (!opened)</div>
<div class="line"><a id="l22132" name="l22132"></a><span class="lineno">22132</span>    {</div>
<div class="line"><a id="l22133" name="l22133"></a><span class="lineno">22133</span>        Unindent();</div>
<div class="line"><a id="l22134" name="l22134"></a><span class="lineno">22134</span>        Unindent();</div>
<div class="line"><a id="l22135" name="l22135"></a><span class="lineno">22135</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l22136" name="l22136"></a><span class="lineno">22136</span>    }</div>
<div class="line"><a id="l22137" name="l22137"></a><span class="lineno">22137</span>    <span class="keywordflow">if</span> (SmallButton(<span class="stringliteral">&quot;Set as default&quot;</span>))</div>
<div class="line"><a id="l22138" name="l22138"></a><span class="lineno">22138</span>        GetIO().FontDefault = font;</div>
<div class="line"><a id="l22139" name="l22139"></a><span class="lineno">22139</span> </div>
<div class="line"><a id="l22140" name="l22140"></a><span class="lineno">22140</span>    <span class="comment">// Display details</span></div>
<div class="line"><a id="l22141" name="l22141"></a><span class="lineno">22141</span>    SetNextItemWidth(GetFontSize() * 8);</div>
<div class="line"><a id="l22142" name="l22142"></a><span class="lineno">22142</span>    DragFloat(<span class="stringliteral">&quot;Font scale&quot;</span>, &amp;font-&gt;Scale, 0.005f, 0.3f, 2.0f, <span class="stringliteral">&quot;%.1f&quot;</span>);</div>
<div class="line"><a id="l22143" name="l22143"></a><span class="lineno">22143</span>    SameLine(); MetricsHelpMarker(</div>
<div class="line"><a id="l22144" name="l22144"></a><span class="lineno">22144</span>        <span class="stringliteral">&quot;Note that the default embedded font is NOT meant to be scaled.\n\n&quot;</span></div>
<div class="line"><a id="l22145" name="l22145"></a><span class="lineno">22145</span>        <span class="stringliteral">&quot;Font are currently rendered into bitmaps at a given size at the time of building the atlas. &quot;</span></div>
<div class="line"><a id="l22146" name="l22146"></a><span class="lineno">22146</span>        <span class="stringliteral">&quot;You may oversample them to get some flexibility with scaling. &quot;</span></div>
<div class="line"><a id="l22147" name="l22147"></a><span class="lineno">22147</span>        <span class="stringliteral">&quot;You can also render at multiple sizes and select which one to use at runtime.\n\n&quot;</span></div>
<div class="line"><a id="l22148" name="l22148"></a><span class="lineno">22148</span>        <span class="stringliteral">&quot;(Glimmer of hope: the atlas system will be rewritten in the future to make scaling more flexible.)&quot;</span>);</div>
<div class="line"><a id="l22149" name="l22149"></a><span class="lineno">22149</span>    Text(<span class="stringliteral">&quot;Ascent: %f, Descent: %f, Height: %f&quot;</span>, font-&gt;Ascent, font-&gt;Descent, font-&gt;Ascent - font-&gt;Descent);</div>
<div class="line"><a id="l22150" name="l22150"></a><span class="lineno">22150</span>    <span class="keywordtype">char</span> c_str[5];</div>
<div class="line"><a id="l22151" name="l22151"></a><span class="lineno">22151</span>    Text(<span class="stringliteral">&quot;Fallback character: &#39;%s&#39; (U+%04X)&quot;</span>, ImTextCharToUtf8(c_str, font-&gt;FallbackChar), font-&gt;FallbackChar);</div>
<div class="line"><a id="l22152" name="l22152"></a><span class="lineno">22152</span>    Text(<span class="stringliteral">&quot;Ellipsis character: &#39;%s&#39; (U+%04X)&quot;</span>, ImTextCharToUtf8(c_str, font-&gt;EllipsisChar), font-&gt;EllipsisChar);</div>
<div class="line"><a id="l22153" name="l22153"></a><span class="lineno">22153</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> surface_sqrt = (int)ImSqrt((<span class="keywordtype">float</span>)font-&gt;MetricsTotalSurface);</div>
<div class="line"><a id="l22154" name="l22154"></a><span class="lineno">22154</span>    Text(<span class="stringliteral">&quot;Texture Area: about %d px ~%dx%d px&quot;</span>, font-&gt;MetricsTotalSurface, surface_sqrt, surface_sqrt);</div>
<div class="line"><a id="l22155" name="l22155"></a><span class="lineno">22155</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> config_i = 0; config_i &lt; font-&gt;SourcesCount; config_i++)</div>
<div class="line"><a id="l22156" name="l22156"></a><span class="lineno">22156</span>        <span class="keywordflow">if</span> (font-&gt;Sources)</div>
<div class="line"><a id="l22157" name="l22157"></a><span class="lineno">22157</span>        {</div>
<div class="line"><a id="l22158" name="l22158"></a><span class="lineno">22158</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structImFontConfig.html">ImFontConfig</a>* src = &amp;font-&gt;Sources[config_i];</div>
<div class="line"><a id="l22159" name="l22159"></a><span class="lineno">22159</span>            <span class="keywordtype">int</span> oversample_h, oversample_v;</div>
<div class="line"><a id="l22160" name="l22160"></a><span class="lineno">22160</span>            ImFontAtlasBuildGetOversampleFactors(src, &amp;oversample_h, &amp;oversample_v);</div>
<div class="line"><a id="l22161" name="l22161"></a><span class="lineno">22161</span>            BulletText(<span class="stringliteral">&quot;Input %d: \&#39;%s\&#39;, Oversample: (%d=&gt;%d,%d=&gt;%d), PixelSnapH: %d, Offset: (%.1f,%.1f)&quot;</span>,</div>
<div class="line"><a id="l22162" name="l22162"></a><span class="lineno">22162</span>                config_i, src-&gt;Name, src-&gt;OversampleH, oversample_h, src-&gt;OversampleV, oversample_v, src-&gt;PixelSnapH, src-&gt;GlyphOffset.x, src-&gt;GlyphOffset.y);</div>
<div class="line"><a id="l22163" name="l22163"></a><span class="lineno">22163</span>        }</div>
<div class="line"><a id="l22164" name="l22164"></a><span class="lineno">22164</span> </div>
<div class="line"><a id="l22165" name="l22165"></a><span class="lineno">22165</span>    <span class="comment">// Display all glyphs of the fonts in separate pages of 256 characters</span></div>
<div class="line"><a id="l22166" name="l22166"></a><span class="lineno">22166</span>    {</div>
<div class="line"><a id="l22167" name="l22167"></a><span class="lineno">22167</span>        <span class="keywordflow">if</span> (TreeNode(<span class="stringliteral">&quot;Glyphs&quot;</span>, <span class="stringliteral">&quot;Glyphs (%d)&quot;</span>, font-&gt;Glyphs.Size))</div>
<div class="line"><a id="l22168" name="l22168"></a><span class="lineno">22168</span>        {</div>
<div class="line"><a id="l22169" name="l22169"></a><span class="lineno">22169</span>            <a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>* draw_list = GetWindowDrawList();</div>
<div class="line"><a id="l22170" name="l22170"></a><span class="lineno">22170</span>            <span class="keyword">const</span> ImU32 glyph_col = GetColorU32(ImGuiCol_Text);</div>
<div class="line"><a id="l22171" name="l22171"></a><span class="lineno">22171</span>            <span class="keyword">const</span> <span class="keywordtype">float</span> cell_size = font-&gt;FontSize * 1;</div>
<div class="line"><a id="l22172" name="l22172"></a><span class="lineno">22172</span>            <span class="keyword">const</span> <span class="keywordtype">float</span> cell_spacing = GetStyle().ItemSpacing.y;</div>
<div class="line"><a id="l22173" name="l22173"></a><span class="lineno">22173</span>            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> base = 0; base &lt;= IM_UNICODE_CODEPOINT_MAX; base += 256)</div>
<div class="line"><a id="l22174" name="l22174"></a><span class="lineno">22174</span>            {</div>
<div class="line"><a id="l22175" name="l22175"></a><span class="lineno">22175</span>                <span class="comment">// Skip ahead if a large bunch of glyphs are not present in the font (test in chunks of 4k)</span></div>
<div class="line"><a id="l22176" name="l22176"></a><span class="lineno">22176</span>                <span class="comment">// This is only a small optimization to reduce the number of iterations when IM_UNICODE_MAX_CODEPOINT</span></div>
<div class="line"><a id="l22177" name="l22177"></a><span class="lineno">22177</span>                <span class="comment">// is large // (if ImWchar==ImWchar32 we will do at least about 272 queries here)</span></div>
<div class="line"><a id="l22178" name="l22178"></a><span class="lineno">22178</span>                <span class="keywordflow">if</span> (!(base &amp; 8191) &amp;&amp; font-&gt;IsGlyphRangeUnused(base, base + 8191))</div>
<div class="line"><a id="l22179" name="l22179"></a><span class="lineno">22179</span>                {</div>
<div class="line"><a id="l22180" name="l22180"></a><span class="lineno">22180</span>                    base += 8192 - 256;</div>
<div class="line"><a id="l22181" name="l22181"></a><span class="lineno">22181</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l22182" name="l22182"></a><span class="lineno">22182</span>                }</div>
<div class="line"><a id="l22183" name="l22183"></a><span class="lineno">22183</span> </div>
<div class="line"><a id="l22184" name="l22184"></a><span class="lineno">22184</span>                <span class="keywordtype">int</span> count = 0;</div>
<div class="line"><a id="l22185" name="l22185"></a><span class="lineno">22185</span>                <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n = 0; n &lt; 256; n++)</div>
<div class="line"><a id="l22186" name="l22186"></a><span class="lineno">22186</span>                    <span class="keywordflow">if</span> (font-&gt;FindGlyphNoFallback((ImWchar)(base + n)))</div>
<div class="line"><a id="l22187" name="l22187"></a><span class="lineno">22187</span>                        count++;</div>
<div class="line"><a id="l22188" name="l22188"></a><span class="lineno">22188</span>                <span class="keywordflow">if</span> (count &lt;= 0)</div>
<div class="line"><a id="l22189" name="l22189"></a><span class="lineno">22189</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l22190" name="l22190"></a><span class="lineno">22190</span>                <span class="keywordflow">if</span> (!TreeNode((<span class="keywordtype">void</span>*)(intptr_t)base, <span class="stringliteral">&quot;U+%04X..U+%04X (%d %s)&quot;</span>, base, base + 255, count, count &gt; 1 ? <span class="stringliteral">&quot;glyphs&quot;</span> : <span class="stringliteral">&quot;glyph&quot;</span>))</div>
<div class="line"><a id="l22191" name="l22191"></a><span class="lineno">22191</span>                    continue;</div>
<div class="line"><a id="l22192" name="l22192"></a><span class="lineno">22192</span> </div>
<div class="line"><a id="l22193" name="l22193"></a><span class="lineno">22193</span>                <span class="comment">// Draw a 16x16 grid of glyphs</span></div>
<div class="line"><a id="l22194" name="l22194"></a><span class="lineno">22194</span>                <a class="code hl_struct" href="structImVec2.html">ImVec2</a> base_pos = GetCursorScreenPos();</div>
<div class="line"><a id="l22195" name="l22195"></a><span class="lineno">22195</span>                <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n = 0; n &lt; 256; n++)</div>
<div class="line"><a id="l22196" name="l22196"></a><span class="lineno">22196</span>                {</div>
<div class="line"><a id="l22197" name="l22197"></a><span class="lineno">22197</span>                    <span class="comment">// We use ImFont::RenderChar as a shortcut because we don&#39;t have UTF-8 conversion functions</span></div>
<div class="line"><a id="l22198" name="l22198"></a><span class="lineno">22198</span>                    <span class="comment">// available here and thus cannot easily generate a zero-terminated UTF-8 encoded string.</span></div>
<div class="line"><a id="l22199" name="l22199"></a><span class="lineno">22199</span>                    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> cell_p1(base_pos.x + (n % 16) * (cell_size + cell_spacing), base_pos.y + (n / 16) * (cell_size + cell_spacing));</div>
<div class="line"><a id="l22200" name="l22200"></a><span class="lineno">22200</span>                    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> cell_p2(cell_p1.x + cell_size, cell_p1.y + cell_size);</div>
<div class="line"><a id="l22201" name="l22201"></a><span class="lineno">22201</span>                    <span class="keyword">const</span> <a class="code hl_struct" href="structImFontGlyph.html">ImFontGlyph</a>* glyph = font-&gt;FindGlyphNoFallback((ImWchar)(base + n));</div>
<div class="line"><a id="l22202" name="l22202"></a><span class="lineno">22202</span>                    draw_list-&gt;AddRect(cell_p1, cell_p2, glyph ? IM_COL32(255, 255, 255, 100) : IM_COL32(255, 255, 255, 50));</div>
<div class="line"><a id="l22203" name="l22203"></a><span class="lineno">22203</span>                    <span class="keywordflow">if</span> (!glyph)</div>
<div class="line"><a id="l22204" name="l22204"></a><span class="lineno">22204</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l22205" name="l22205"></a><span class="lineno">22205</span>                    font-&gt;RenderChar(draw_list, cell_size, cell_p1, glyph_col, (ImWchar)(base + n));</div>
<div class="line"><a id="l22206" name="l22206"></a><span class="lineno">22206</span>                    <span class="keywordflow">if</span> (IsMouseHoveringRect(cell_p1, cell_p2) &amp;&amp; BeginTooltip())</div>
<div class="line"><a id="l22207" name="l22207"></a><span class="lineno">22207</span>                    {</div>
<div class="line"><a id="l22208" name="l22208"></a><span class="lineno">22208</span>                        DebugNodeFontGlyph(font, glyph);</div>
<div class="line"><a id="l22209" name="l22209"></a><span class="lineno">22209</span>                        EndTooltip();</div>
<div class="line"><a id="l22210" name="l22210"></a><span class="lineno">22210</span>                    }</div>
<div class="line"><a id="l22211" name="l22211"></a><span class="lineno">22211</span>                }</div>
<div class="line"><a id="l22212" name="l22212"></a><span class="lineno">22212</span>                Dummy(<a class="code hl_struct" href="structImVec2.html">ImVec2</a>((cell_size + cell_spacing) * 16, (cell_size + cell_spacing) * 16));</div>
<div class="line"><a id="l22213" name="l22213"></a><span class="lineno">22213</span>                TreePop();</div>
<div class="line"><a id="l22214" name="l22214"></a><span class="lineno">22214</span>            }</div>
<div class="line"><a id="l22215" name="l22215"></a><span class="lineno">22215</span>            TreePop();</div>
<div class="line"><a id="l22216" name="l22216"></a><span class="lineno">22216</span>        }</div>
<div class="line"><a id="l22217" name="l22217"></a><span class="lineno">22217</span>    }</div>
<div class="line"><a id="l22218" name="l22218"></a><span class="lineno">22218</span>    TreePop();</div>
<div class="line"><a id="l22219" name="l22219"></a><span class="lineno">22219</span>    Unindent();</div>
<div class="line"><a id="l22220" name="l22220"></a><span class="lineno">22220</span>}</div>
<div class="line"><a id="l22221" name="l22221"></a><span class="lineno">22221</span> </div>
<div class="line"><a id="l22222" name="l22222"></a><span class="lineno">22222</span><span class="keywordtype">void</span> ImGui::DebugNodeFontGlyph(<a class="code hl_struct" href="structImFont.html">ImFont</a>*, <span class="keyword">const</span> <a class="code hl_struct" href="structImFontGlyph.html">ImFontGlyph</a>* glyph)</div>
<div class="line"><a id="l22223" name="l22223"></a><span class="lineno">22223</span>{</div>
<div class="line"><a id="l22224" name="l22224"></a><span class="lineno">22224</span>    Text(<span class="stringliteral">&quot;Codepoint: U+%04X&quot;</span>, glyph-&gt;Codepoint);</div>
<div class="line"><a id="l22225" name="l22225"></a><span class="lineno">22225</span>    Separator();</div>
<div class="line"><a id="l22226" name="l22226"></a><span class="lineno">22226</span>    Text(<span class="stringliteral">&quot;Visible: %d&quot;</span>, glyph-&gt;Visible);</div>
<div class="line"><a id="l22227" name="l22227"></a><span class="lineno">22227</span>    Text(<span class="stringliteral">&quot;AdvanceX: %.1f&quot;</span>, glyph-&gt;AdvanceX);</div>
<div class="line"><a id="l22228" name="l22228"></a><span class="lineno">22228</span>    Text(<span class="stringliteral">&quot;Pos: (%.2f,%.2f)-&gt;(%.2f,%.2f)&quot;</span>, glyph-&gt;X0, glyph-&gt;Y0, glyph-&gt;X1, glyph-&gt;Y1);</div>
<div class="line"><a id="l22229" name="l22229"></a><span class="lineno">22229</span>    Text(<span class="stringliteral">&quot;UV: (%.3f,%.3f)-&gt;(%.3f,%.3f)&quot;</span>, glyph-&gt;U0, glyph-&gt;V0, glyph-&gt;U1, glyph-&gt;V1);</div>
<div class="line"><a id="l22230" name="l22230"></a><span class="lineno">22230</span>}</div>
<div class="line"><a id="l22231" name="l22231"></a><span class="lineno">22231</span> </div>
<div class="line"><a id="l22232" name="l22232"></a><span class="lineno">22232</span><span class="comment">// [DEBUG] Display contents of ImGuiStorage</span></div>
<div class="line"><a id="l22233" name="l22233"></a><span class="lineno">22233</span><span class="keywordtype">void</span> ImGui::DebugNodeStorage(<a class="code hl_struct" href="structImGuiStorage.html">ImGuiStorage</a>* storage, <span class="keyword">const</span> <span class="keywordtype">char</span>* label)</div>
<div class="line"><a id="l22234" name="l22234"></a><span class="lineno">22234</span>{</div>
<div class="line"><a id="l22235" name="l22235"></a><span class="lineno">22235</span>    <span class="keywordflow">if</span> (!TreeNode(label, <span class="stringliteral">&quot;%s: %d entries, %d bytes&quot;</span>, label, storage-&gt;Data.Size, storage-&gt;Data.size_in_bytes()))</div>
<div class="line"><a id="l22236" name="l22236"></a><span class="lineno">22236</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l22237" name="l22237"></a><span class="lineno">22237</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code hl_struct" href="structImGuiStoragePair.html">ImGuiStoragePair</a>&amp; p : storage-&gt;Data)</div>
<div class="line"><a id="l22238" name="l22238"></a><span class="lineno">22238</span>    {</div>
<div class="line"><a id="l22239" name="l22239"></a><span class="lineno">22239</span>        BulletText(<span class="stringliteral">&quot;Key 0x%08X Value { i: %d }&quot;</span>, p.key, p.val_i); <span class="comment">// Important: we currently don&#39;t store a type, real value may not be integer.</span></div>
<div class="line"><a id="l22240" name="l22240"></a><span class="lineno">22240</span>        DebugLocateItemOnHover(p.key);</div>
<div class="line"><a id="l22241" name="l22241"></a><span class="lineno">22241</span>    }</div>
<div class="line"><a id="l22242" name="l22242"></a><span class="lineno">22242</span>    TreePop();</div>
<div class="line"><a id="l22243" name="l22243"></a><span class="lineno">22243</span>}</div>
<div class="line"><a id="l22244" name="l22244"></a><span class="lineno">22244</span> </div>
<div class="line"><a id="l22245" name="l22245"></a><span class="lineno">22245</span><span class="comment">// [DEBUG] Display contents of ImGuiTabBar</span></div>
<div class="line"><a id="l22246" name="l22246"></a><span class="lineno">22246</span><span class="keywordtype">void</span> ImGui::DebugNodeTabBar(<a class="code hl_struct" href="structImGuiTabBar.html">ImGuiTabBar</a>* tab_bar, <span class="keyword">const</span> <span class="keywordtype">char</span>* label)</div>
<div class="line"><a id="l22247" name="l22247"></a><span class="lineno">22247</span>{</div>
<div class="line"><a id="l22248" name="l22248"></a><span class="lineno">22248</span>    <span class="comment">// Standalone tab bars (not associated to docking/windows functionality) currently hold no discernible strings.</span></div>
<div class="line"><a id="l22249" name="l22249"></a><span class="lineno">22249</span>    <span class="keywordtype">char</span> buf[256];</div>
<div class="line"><a id="l22250" name="l22250"></a><span class="lineno">22250</span>    <span class="keywordtype">char</span>* p = buf;</div>
<div class="line"><a id="l22251" name="l22251"></a><span class="lineno">22251</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* buf_end = buf + IM_ARRAYSIZE(buf);</div>
<div class="line"><a id="l22252" name="l22252"></a><span class="lineno">22252</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_active = (tab_bar-&gt;PrevFrameVisible &gt;= GetFrameCount() - 2);</div>
<div class="line"><a id="l22253" name="l22253"></a><span class="lineno">22253</span>    p += ImFormatString(p, buf_end - p, <span class="stringliteral">&quot;%s 0x%08X (%d tabs)%s  {&quot;</span>, label, tab_bar-&gt;ID, tab_bar-&gt;Tabs.Size, is_active ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot; *Inactive*&quot;</span>);</div>
<div class="line"><a id="l22254" name="l22254"></a><span class="lineno">22254</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> tab_n = 0; tab_n &lt; ImMin(tab_bar-&gt;Tabs.Size, 3); tab_n++)</div>
<div class="line"><a id="l22255" name="l22255"></a><span class="lineno">22255</span>    {</div>
<div class="line"><a id="l22256" name="l22256"></a><span class="lineno">22256</span>        <a class="code hl_struct" href="structImGuiTabItem.html">ImGuiTabItem</a>* tab = &amp;tab_bar-&gt;Tabs[tab_n];</div>
<div class="line"><a id="l22257" name="l22257"></a><span class="lineno">22257</span>        p += ImFormatString(p, buf_end - p, <span class="stringliteral">&quot;%s&#39;%s&#39;&quot;</span>, tab_n &gt; 0 ? <span class="stringliteral">&quot;, &quot;</span> : <span class="stringliteral">&quot;&quot;</span>, TabBarGetTabName(tab_bar, tab));</div>
<div class="line"><a id="l22258" name="l22258"></a><span class="lineno">22258</span>    }</div>
<div class="line"><a id="l22259" name="l22259"></a><span class="lineno">22259</span>    p += ImFormatString(p, buf_end - p, (tab_bar-&gt;Tabs.Size &gt; 3) ? <span class="stringliteral">&quot; ... }&quot;</span> : <span class="stringliteral">&quot; } &quot;</span>);</div>
<div class="line"><a id="l22260" name="l22260"></a><span class="lineno">22260</span>    <span class="keywordflow">if</span> (!is_active) { PushStyleColor(ImGuiCol_Text, GetStyleColorVec4(ImGuiCol_TextDisabled)); }</div>
<div class="line"><a id="l22261" name="l22261"></a><span class="lineno">22261</span>    <span class="keywordtype">bool</span> open = TreeNode(label, <span class="stringliteral">&quot;%s&quot;</span>, buf);</div>
<div class="line"><a id="l22262" name="l22262"></a><span class="lineno">22262</span>    <span class="keywordflow">if</span> (!is_active) { PopStyleColor(); }</div>
<div class="line"><a id="l22263" name="l22263"></a><span class="lineno">22263</span>    <span class="keywordflow">if</span> (is_active &amp;&amp; IsItemHovered())</div>
<div class="line"><a id="l22264" name="l22264"></a><span class="lineno">22264</span>    {</div>
<div class="line"><a id="l22265" name="l22265"></a><span class="lineno">22265</span>        <a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>* draw_list = GetForegroundDrawList();</div>
<div class="line"><a id="l22266" name="l22266"></a><span class="lineno">22266</span>        draw_list-&gt;AddRect(tab_bar-&gt;BarRect.Min, tab_bar-&gt;BarRect.Max, IM_COL32(255, 255, 0, 255));</div>
<div class="line"><a id="l22267" name="l22267"></a><span class="lineno">22267</span>        draw_list-&gt;AddLine(<a class="code hl_struct" href="structImVec2.html">ImVec2</a>(tab_bar-&gt;ScrollingRectMinX, tab_bar-&gt;BarRect.Min.y), <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(tab_bar-&gt;ScrollingRectMinX, tab_bar-&gt;BarRect.Max.y), IM_COL32(0, 255, 0, 255));</div>
<div class="line"><a id="l22268" name="l22268"></a><span class="lineno">22268</span>        draw_list-&gt;AddLine(<a class="code hl_struct" href="structImVec2.html">ImVec2</a>(tab_bar-&gt;ScrollingRectMaxX, tab_bar-&gt;BarRect.Min.y), <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(tab_bar-&gt;ScrollingRectMaxX, tab_bar-&gt;BarRect.Max.y), IM_COL32(0, 255, 0, 255));</div>
<div class="line"><a id="l22269" name="l22269"></a><span class="lineno">22269</span>    }</div>
<div class="line"><a id="l22270" name="l22270"></a><span class="lineno">22270</span>    <span class="keywordflow">if</span> (open)</div>
<div class="line"><a id="l22271" name="l22271"></a><span class="lineno">22271</span>    {</div>
<div class="line"><a id="l22272" name="l22272"></a><span class="lineno">22272</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> tab_n = 0; tab_n &lt; tab_bar-&gt;Tabs.Size; tab_n++)</div>
<div class="line"><a id="l22273" name="l22273"></a><span class="lineno">22273</span>        {</div>
<div class="line"><a id="l22274" name="l22274"></a><span class="lineno">22274</span>            <a class="code hl_struct" href="structImGuiTabItem.html">ImGuiTabItem</a>* tab = &amp;tab_bar-&gt;Tabs[tab_n];</div>
<div class="line"><a id="l22275" name="l22275"></a><span class="lineno">22275</span>            PushID(tab);</div>
<div class="line"><a id="l22276" name="l22276"></a><span class="lineno">22276</span>            <span class="keywordflow">if</span> (SmallButton(<span class="stringliteral">&quot;&lt;&quot;</span>)) { TabBarQueueReorder(tab_bar, tab, -1); } SameLine(0, 2);</div>
<div class="line"><a id="l22277" name="l22277"></a><span class="lineno">22277</span>            <span class="keywordflow">if</span> (SmallButton(<span class="stringliteral">&quot;&gt;&quot;</span>)) { TabBarQueueReorder(tab_bar, tab, +1); } SameLine();</div>
<div class="line"><a id="l22278" name="l22278"></a><span class="lineno">22278</span>            Text(<span class="stringliteral">&quot;%02d%c Tab 0x%08X &#39;%s&#39; Offset: %.2f, Width: %.2f/%.2f&quot;</span>,</div>
<div class="line"><a id="l22279" name="l22279"></a><span class="lineno">22279</span>                tab_n, (tab-&gt;ID == tab_bar-&gt;SelectedTabId) ? <span class="charliteral">&#39;*&#39;</span> : <span class="stringliteral">&#39; &#39;</span>, tab-&gt;ID, TabBarGetTabName(tab_bar, tab), tab-&gt;Offset, tab-&gt;Width, tab-&gt;ContentWidth);</div>
<div class="line"><a id="l22280" name="l22280"></a><span class="lineno">22280</span>            PopID();</div>
<div class="line"><a id="l22281" name="l22281"></a><span class="lineno">22281</span>        }</div>
<div class="line"><a id="l22282" name="l22282"></a><span class="lineno">22282</span>        TreePop();</div>
<div class="line"><a id="l22283" name="l22283"></a><span class="lineno">22283</span>    }</div>
<div class="line"><a id="l22284" name="l22284"></a><span class="lineno">22284</span>}</div>
<div class="line"><a id="l22285" name="l22285"></a><span class="lineno">22285</span> </div>
<div class="line"><a id="l22286" name="l22286"></a><span class="lineno">22286</span><span class="keywordtype">void</span> ImGui::DebugNodeViewport(<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>* viewport)</div>
<div class="line"><a id="l22287" name="l22287"></a><span class="lineno">22287</span>{</div>
<div class="line"><a id="l22288" name="l22288"></a><span class="lineno">22288</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l22289" name="l22289"></a><span class="lineno">22289</span>    SetNextItemOpen(<span class="keyword">true</span>, ImGuiCond_Once);</div>
<div class="line"><a id="l22290" name="l22290"></a><span class="lineno">22290</span>    <span class="keywordtype">bool</span> open = TreeNode((<span class="keywordtype">void</span>*)(intptr_t)viewport-&gt;ID, <span class="stringliteral">&quot;Viewport #%d, ID: 0x%08X, Parent: 0x%08X, Window: \&quot;%s\&quot;&quot;</span>, viewport-&gt;Idx, viewport-&gt;ID, viewport-&gt;ParentViewportId, viewport-&gt;Window ? viewport-&gt;Window-&gt;Name : <span class="stringliteral">&quot;N/A&quot;</span>);</div>
<div class="line"><a id="l22291" name="l22291"></a><span class="lineno">22291</span>    <span class="keywordflow">if</span> (IsItemHovered())</div>
<div class="line"><a id="l22292" name="l22292"></a><span class="lineno">22292</span>        g.DebugMetricsConfig.HighlightViewportID = viewport-&gt;ID;</div>
<div class="line"><a id="l22293" name="l22293"></a><span class="lineno">22293</span>    <span class="keywordflow">if</span> (open)</div>
<div class="line"><a id="l22294" name="l22294"></a><span class="lineno">22294</span>    {</div>
<div class="line"><a id="l22295" name="l22295"></a><span class="lineno">22295</span>        ImGuiWindowFlags flags = viewport-&gt;Flags;</div>
<div class="line"><a id="l22296" name="l22296"></a><span class="lineno">22296</span>        BulletText(<span class="stringliteral">&quot;Main Pos: (%.0f,%.0f), Size: (%.0f,%.0f)\nWorkArea Inset Left: %.0f Top: %.0f, Right: %.0f, Bottom: %.0f\nMonitor: %d, DpiScale: %.0f%%&quot;</span>,</div>
<div class="line"><a id="l22297" name="l22297"></a><span class="lineno">22297</span>            viewport-&gt;Pos.x, viewport-&gt;Pos.y, viewport-&gt;Size.x, viewport-&gt;Size.y,</div>
<div class="line"><a id="l22298" name="l22298"></a><span class="lineno">22298</span>            viewport-&gt;WorkInsetMin.x, viewport-&gt;WorkInsetMin.y, viewport-&gt;WorkInsetMax.x, viewport-&gt;WorkInsetMax.y,</div>
<div class="line"><a id="l22299" name="l22299"></a><span class="lineno">22299</span>            viewport-&gt;PlatformMonitor, viewport-&gt;DpiScale * 100.0f);</div>
<div class="line"><a id="l22300" name="l22300"></a><span class="lineno">22300</span>        <span class="keywordflow">if</span> (viewport-&gt;Idx &gt; 0) { SameLine(); <span class="keywordflow">if</span> (SmallButton(<span class="stringliteral">&quot;Reset Pos&quot;</span>)) { viewport-&gt;Pos = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(200, 200); viewport-&gt;UpdateWorkRect(); <span class="keywordflow">if</span> (viewport-&gt;Window) viewport-&gt;Window-&gt;Pos = viewport-&gt;Pos; } }</div>
<div class="line"><a id="l22301" name="l22301"></a><span class="lineno">22301</span>        BulletText(<span class="stringliteral">&quot;Flags: 0x%04X =%s%s%s%s%s%s%s%s%s%s%s%s%s&quot;</span>, viewport-&gt;Flags,</div>
<div class="line"><a id="l22302" name="l22302"></a><span class="lineno">22302</span>            <span class="comment">//(flags &amp; ImGuiViewportFlags_IsPlatformWindow) ? &quot; IsPlatformWindow&quot; : &quot;&quot;, // Omitting because it is the standard</span></div>
<div class="line"><a id="l22303" name="l22303"></a><span class="lineno">22303</span>            (flags &amp; ImGuiViewportFlags_IsPlatformMonitor) ? <span class="stringliteral">&quot; IsPlatformMonitor&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l22304" name="l22304"></a><span class="lineno">22304</span>            (flags &amp; ImGuiViewportFlags_IsMinimized) ? <span class="stringliteral">&quot; IsMinimized&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l22305" name="l22305"></a><span class="lineno">22305</span>            (flags &amp; ImGuiViewportFlags_IsFocused) ? <span class="stringliteral">&quot; IsFocused&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l22306" name="l22306"></a><span class="lineno">22306</span>            (flags &amp; ImGuiViewportFlags_OwnedByApp) ? <span class="stringliteral">&quot; OwnedByApp&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l22307" name="l22307"></a><span class="lineno">22307</span>            (flags &amp; ImGuiViewportFlags_NoDecoration) ? <span class="stringliteral">&quot; NoDecoration&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l22308" name="l22308"></a><span class="lineno">22308</span>            (flags &amp; ImGuiViewportFlags_NoTaskBarIcon) ? <span class="stringliteral">&quot; NoTaskBarIcon&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l22309" name="l22309"></a><span class="lineno">22309</span>            (flags &amp; ImGuiViewportFlags_NoFocusOnAppearing) ? <span class="stringliteral">&quot; NoFocusOnAppearing&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l22310" name="l22310"></a><span class="lineno">22310</span>            (flags &amp; ImGuiViewportFlags_NoFocusOnClick) ? <span class="stringliteral">&quot; NoFocusOnClick&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l22311" name="l22311"></a><span class="lineno">22311</span>            (flags &amp; ImGuiViewportFlags_NoInputs) ? <span class="stringliteral">&quot; NoInputs&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l22312" name="l22312"></a><span class="lineno">22312</span>            (flags &amp; ImGuiViewportFlags_NoRendererClear) ? <span class="stringliteral">&quot; NoRendererClear&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l22313" name="l22313"></a><span class="lineno">22313</span>            (flags &amp; ImGuiViewportFlags_NoAutoMerge) ? <span class="stringliteral">&quot; NoAutoMerge&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l22314" name="l22314"></a><span class="lineno">22314</span>            (flags &amp; ImGuiViewportFlags_TopMost) ? <span class="stringliteral">&quot; TopMost&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l22315" name="l22315"></a><span class="lineno">22315</span>            (flags &amp; ImGuiViewportFlags_CanHostOtherWindows) ? <span class="stringliteral">&quot; CanHostOtherWindows&quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a id="l22316" name="l22316"></a><span class="lineno">22316</span>        <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>* draw_list : viewport-&gt;DrawDataP.CmdLists)</div>
<div class="line"><a id="l22317" name="l22317"></a><span class="lineno">22317</span>            DebugNodeDrawList(NULL, viewport, draw_list, <span class="stringliteral">&quot;DrawList&quot;</span>);</div>
<div class="line"><a id="l22318" name="l22318"></a><span class="lineno">22318</span>        TreePop();</div>
<div class="line"><a id="l22319" name="l22319"></a><span class="lineno">22319</span>    }</div>
<div class="line"><a id="l22320" name="l22320"></a><span class="lineno">22320</span>}</div>
<div class="line"><a id="l22321" name="l22321"></a><span class="lineno">22321</span> </div>
<div class="line"><a id="l22322" name="l22322"></a><span class="lineno">22322</span><span class="keywordtype">void</span> ImGui::DebugNodePlatformMonitor(<a class="code hl_struct" href="structImGuiPlatformMonitor.html">ImGuiPlatformMonitor</a>* monitor, <span class="keyword">const</span> <span class="keywordtype">char</span>* label, <span class="keywordtype">int</span> idx)</div>
<div class="line"><a id="l22323" name="l22323"></a><span class="lineno">22323</span>{</div>
<div class="line"><a id="l22324" name="l22324"></a><span class="lineno">22324</span>    BulletText(<span class="stringliteral">&quot;%s %d: DPI %.0f%%\n MainMin (%.0f,%.0f), MainMax (%.0f,%.0f), MainSize (%.0f,%.0f)\n WorkMin (%.0f,%.0f), WorkMax (%.0f,%.0f), WorkSize (%.0f,%.0f)&quot;</span>,</div>
<div class="line"><a id="l22325" name="l22325"></a><span class="lineno">22325</span>        label, idx, monitor-&gt;DpiScale * 100.0f,</div>
<div class="line"><a id="l22326" name="l22326"></a><span class="lineno">22326</span>        monitor-&gt;MainPos.x, monitor-&gt;MainPos.y, monitor-&gt;MainPos.x + monitor-&gt;MainSize.x, monitor-&gt;MainPos.y + monitor-&gt;MainSize.y, monitor-&gt;MainSize.x, monitor-&gt;MainSize.y,</div>
<div class="line"><a id="l22327" name="l22327"></a><span class="lineno">22327</span>        monitor-&gt;WorkPos.x, monitor-&gt;WorkPos.y, monitor-&gt;WorkPos.x + monitor-&gt;WorkSize.x, monitor-&gt;WorkPos.y + monitor-&gt;WorkSize.y, monitor-&gt;WorkSize.x, monitor-&gt;WorkSize.y);</div>
<div class="line"><a id="l22328" name="l22328"></a><span class="lineno">22328</span>}</div>
<div class="line"><a id="l22329" name="l22329"></a><span class="lineno">22329</span> </div>
<div class="line"><a id="l22330" name="l22330"></a><span class="lineno">22330</span><span class="keywordtype">void</span> ImGui::DebugNodeWindow(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window, <span class="keyword">const</span> <span class="keywordtype">char</span>* label)</div>
<div class="line"><a id="l22331" name="l22331"></a><span class="lineno">22331</span>{</div>
<div class="line"><a id="l22332" name="l22332"></a><span class="lineno">22332</span>    <span class="keywordflow">if</span> (window == NULL)</div>
<div class="line"><a id="l22333" name="l22333"></a><span class="lineno">22333</span>    {</div>
<div class="line"><a id="l22334" name="l22334"></a><span class="lineno">22334</span>        BulletText(<span class="stringliteral">&quot;%s: NULL&quot;</span>, label);</div>
<div class="line"><a id="l22335" name="l22335"></a><span class="lineno">22335</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l22336" name="l22336"></a><span class="lineno">22336</span>    }</div>
<div class="line"><a id="l22337" name="l22337"></a><span class="lineno">22337</span> </div>
<div class="line"><a id="l22338" name="l22338"></a><span class="lineno">22338</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l22339" name="l22339"></a><span class="lineno">22339</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_active = window-&gt;WasActive;</div>
<div class="line"><a id="l22340" name="l22340"></a><span class="lineno">22340</span>    ImGuiTreeNodeFlags tree_node_flags = (window == g.NavWindow) ? ImGuiTreeNodeFlags_Selected : ImGuiTreeNodeFlags_None;</div>
<div class="line"><a id="l22341" name="l22341"></a><span class="lineno">22341</span>    <span class="keywordflow">if</span> (!is_active) { PushStyleColor(ImGuiCol_Text, GetStyleColorVec4(ImGuiCol_TextDisabled)); }</div>
<div class="line"><a id="l22342" name="l22342"></a><span class="lineno">22342</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> open = TreeNodeEx(label, tree_node_flags, <span class="stringliteral">&quot;%s &#39;%s&#39;%s&quot;</span>, label, window-&gt;Name, is_active ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot; *Inactive*&quot;</span>);</div>
<div class="line"><a id="l22343" name="l22343"></a><span class="lineno">22343</span>    <span class="keywordflow">if</span> (!is_active) { PopStyleColor(); }</div>
<div class="line"><a id="l22344" name="l22344"></a><span class="lineno">22344</span>    <span class="keywordflow">if</span> (IsItemHovered() &amp;&amp; is_active)</div>
<div class="line"><a id="l22345" name="l22345"></a><span class="lineno">22345</span>        GetForegroundDrawList(window)-&gt;AddRect(window-&gt;Pos, window-&gt;Pos + window-&gt;Size, IM_COL32(255, 255, 0, 255));</div>
<div class="line"><a id="l22346" name="l22346"></a><span class="lineno">22346</span>    <span class="keywordflow">if</span> (!open)</div>
<div class="line"><a id="l22347" name="l22347"></a><span class="lineno">22347</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l22348" name="l22348"></a><span class="lineno">22348</span> </div>
<div class="line"><a id="l22349" name="l22349"></a><span class="lineno">22349</span>    <span class="keywordflow">if</span> (window-&gt;MemoryCompacted)</div>
<div class="line"><a id="l22350" name="l22350"></a><span class="lineno">22350</span>        TextDisabled(<span class="stringliteral">&quot;Note: some memory buffers have been compacted/freed.&quot;</span>);</div>
<div class="line"><a id="l22351" name="l22351"></a><span class="lineno">22351</span> </div>
<div class="line"><a id="l22352" name="l22352"></a><span class="lineno">22352</span>    <span class="keywordflow">if</span> (g.IO.ConfigDebugIsDebuggerPresent &amp;&amp; DebugBreakButton(<span class="stringliteral">&quot;**DebugBreak**&quot;</span>, <span class="stringliteral">&quot;in Begin()&quot;</span>))</div>
<div class="line"><a id="l22353" name="l22353"></a><span class="lineno">22353</span>        g.DebugBreakInWindow = window-&gt;ID;</div>
<div class="line"><a id="l22354" name="l22354"></a><span class="lineno">22354</span> </div>
<div class="line"><a id="l22355" name="l22355"></a><span class="lineno">22355</span>    ImGuiWindowFlags flags = window-&gt;Flags;</div>
<div class="line"><a id="l22356" name="l22356"></a><span class="lineno">22356</span>    DebugNodeDrawList(window, window-&gt;Viewport, window-&gt;DrawList, <span class="stringliteral">&quot;DrawList&quot;</span>);</div>
<div class="line"><a id="l22357" name="l22357"></a><span class="lineno">22357</span>    BulletText(<span class="stringliteral">&quot;Pos: (%.1f,%.1f), Size: (%.1f,%.1f), ContentSize (%.1f,%.1f) Ideal (%.1f,%.1f)&quot;</span>, window-&gt;Pos.x, window-&gt;Pos.y, window-&gt;Size.x, window-&gt;Size.y, window-&gt;ContentSize.x, window-&gt;ContentSize.y, window-&gt;ContentSizeIdeal.x, window-&gt;ContentSizeIdeal.y);</div>
<div class="line"><a id="l22358" name="l22358"></a><span class="lineno">22358</span>    BulletText(<span class="stringliteral">&quot;Flags: 0x%08X (%s%s%s%s%s%s%s%s%s..)&quot;</span>, flags,</div>
<div class="line"><a id="l22359" name="l22359"></a><span class="lineno">22359</span>        (flags &amp; ImGuiWindowFlags_ChildWindow)  ? <span class="stringliteral">&quot;Child &quot;</span> : <span class="stringliteral">&quot;&quot;</span>,      (flags &amp; ImGuiWindowFlags_Tooltip)     ? <span class="stringliteral">&quot;Tooltip &quot;</span>   : <span class="stringliteral">&quot;&quot;</span>,  (flags &amp; ImGuiWindowFlags_Popup) ? <span class="stringliteral">&quot;Popup &quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l22360" name="l22360"></a><span class="lineno">22360</span>        (flags &amp; ImGuiWindowFlags_Modal)        ? <span class="stringliteral">&quot;Modal &quot;</span> : <span class="stringliteral">&quot;&quot;</span>,      (flags &amp; ImGuiWindowFlags_ChildMenu)   ? <span class="stringliteral">&quot;ChildMenu &quot;</span> : <span class="stringliteral">&quot;&quot;</span>,  (flags &amp; ImGuiWindowFlags_NoSavedSettings) ? <span class="stringliteral">&quot;NoSavedSettings &quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l22361" name="l22361"></a><span class="lineno">22361</span>        (flags &amp; ImGuiWindowFlags_NoMouseInputs)? <span class="stringliteral">&quot;NoMouseInputs&quot;</span>:<span class="stringliteral">&quot;&quot;</span>, (flags &amp; ImGuiWindowFlags_NoNavInputs) ? <span class="stringliteral">&quot;NoNavInputs&quot;</span> : <span class="stringliteral">&quot;&quot;</span>, (flags &amp; ImGuiWindowFlags_AlwaysAutoResize) ? <span class="stringliteral">&quot;AlwaysAutoResize&quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a id="l22362" name="l22362"></a><span class="lineno">22362</span>    <span class="keywordflow">if</span> (flags &amp; ImGuiWindowFlags_ChildWindow)</div>
<div class="line"><a id="l22363" name="l22363"></a><span class="lineno">22363</span>        BulletText(<span class="stringliteral">&quot;ChildFlags: 0x%08X (%s%s%s%s..)&quot;</span>, window-&gt;ChildFlags,</div>
<div class="line"><a id="l22364" name="l22364"></a><span class="lineno">22364</span>            (window-&gt;ChildFlags &amp; ImGuiChildFlags_Borders) ? <span class="stringliteral">&quot;Borders &quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l22365" name="l22365"></a><span class="lineno">22365</span>            (window-&gt;ChildFlags &amp; ImGuiChildFlags_ResizeX) ? <span class="stringliteral">&quot;ResizeX &quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l22366" name="l22366"></a><span class="lineno">22366</span>            (window-&gt;ChildFlags &amp; ImGuiChildFlags_ResizeY) ? <span class="stringliteral">&quot;ResizeY &quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a id="l22367" name="l22367"></a><span class="lineno">22367</span>            (window-&gt;ChildFlags &amp; ImGuiChildFlags_NavFlattened) ? <span class="stringliteral">&quot;NavFlattened &quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a id="l22368" name="l22368"></a><span class="lineno">22368</span>    BulletText(<span class="stringliteral">&quot;WindowClassId: 0x%08X&quot;</span>, window-&gt;WindowClass.ClassId);</div>
<div class="line"><a id="l22369" name="l22369"></a><span class="lineno">22369</span>    BulletText(<span class="stringliteral">&quot;Scroll: (%.2f/%.2f,%.2f/%.2f) Scrollbar:%s%s&quot;</span>, window-&gt;Scroll.x, window-&gt;ScrollMax.x, window-&gt;Scroll.y, window-&gt;ScrollMax.y, window-&gt;ScrollbarX ? <span class="stringliteral">&quot;X&quot;</span> : <span class="stringliteral">&quot;&quot;</span>, window-&gt;ScrollbarY ? <span class="stringliteral">&quot;Y&quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a id="l22370" name="l22370"></a><span class="lineno">22370</span>    BulletText(<span class="stringliteral">&quot;Active: %d/%d, WriteAccessed: %d, BeginOrderWithinContext: %d&quot;</span>, window-&gt;Active, window-&gt;WasActive, window-&gt;WriteAccessed, (window-&gt;Active || window-&gt;WasActive) ? window-&gt;BeginOrderWithinContext : -1);</div>
<div class="line"><a id="l22371" name="l22371"></a><span class="lineno">22371</span>    BulletText(<span class="stringliteral">&quot;Appearing: %d, Hidden: %d (CanSkip %d Cannot %d), SkipItems: %d&quot;</span>, window-&gt;Appearing, window-&gt;Hidden, window-&gt;HiddenFramesCanSkipItems, window-&gt;HiddenFramesCannotSkipItems, window-&gt;SkipItems);</div>
<div class="line"><a id="l22372" name="l22372"></a><span class="lineno">22372</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> layer = 0; layer &lt; ImGuiNavLayer_COUNT; layer++)</div>
<div class="line"><a id="l22373" name="l22373"></a><span class="lineno">22373</span>    {</div>
<div class="line"><a id="l22374" name="l22374"></a><span class="lineno">22374</span>        <a class="code hl_struct" href="structImRect.html">ImRect</a> r = window-&gt;NavRectRel[layer];</div>
<div class="line"><a id="l22375" name="l22375"></a><span class="lineno">22375</span>        <span class="keywordflow">if</span> (r.Min.x &gt;= r.Max.x &amp;&amp; r.Min.y &gt;= r.Max.y)</div>
<div class="line"><a id="l22376" name="l22376"></a><span class="lineno">22376</span>            BulletText(<span class="stringliteral">&quot;NavLastIds[%d]: 0x%08X&quot;</span>, layer, window-&gt;NavLastIds[layer]);</div>
<div class="line"><a id="l22377" name="l22377"></a><span class="lineno">22377</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l22378" name="l22378"></a><span class="lineno">22378</span>            BulletText(<span class="stringliteral">&quot;NavLastIds[%d]: 0x%08X at +(%.1f,%.1f)(%.1f,%.1f)&quot;</span>, layer, window-&gt;NavLastIds[layer], r.Min.x, r.Min.y, r.Max.x, r.Max.y);</div>
<div class="line"><a id="l22379" name="l22379"></a><span class="lineno">22379</span>        DebugLocateItemOnHover(window-&gt;NavLastIds[layer]);</div>
<div class="line"><a id="l22380" name="l22380"></a><span class="lineno">22380</span>    }</div>
<div class="line"><a id="l22381" name="l22381"></a><span class="lineno">22381</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>* pr = window-&gt;NavPreferredScoringPosRel;</div>
<div class="line"><a id="l22382" name="l22382"></a><span class="lineno">22382</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> layer = 0; layer &lt; ImGuiNavLayer_COUNT; layer++)</div>
<div class="line"><a id="l22383" name="l22383"></a><span class="lineno">22383</span>        BulletText(<span class="stringliteral">&quot;NavPreferredScoringPosRel[%d] = {%.1f,%.1f)&quot;</span>, layer, (pr[layer].x == FLT_MAX ? -99999.0f : pr[layer].x), (pr[layer].y == FLT_MAX ? -99999.0f : pr[layer].y)); <span class="comment">// Display as 99999.0f so it looks neater.</span></div>
<div class="line"><a id="l22384" name="l22384"></a><span class="lineno">22384</span>    BulletText(<span class="stringliteral">&quot;NavLayersActiveMask: %X, NavLastChildNavWindow: %s&quot;</span>, window-&gt;DC.NavLayersActiveMask, window-&gt;NavLastChildNavWindow ? window-&gt;NavLastChildNavWindow-&gt;Name : <span class="stringliteral">&quot;NULL&quot;</span>);</div>
<div class="line"><a id="l22385" name="l22385"></a><span class="lineno">22385</span> </div>
<div class="line"><a id="l22386" name="l22386"></a><span class="lineno">22386</span>    BulletText(<span class="stringliteral">&quot;Viewport: %d%s, ViewportId: 0x%08X, ViewportPos: (%.1f,%.1f)&quot;</span>, window-&gt;Viewport ? window-&gt;Viewport-&gt;Idx : -1, window-&gt;ViewportOwned ? <span class="stringliteral">&quot; (Owned)&quot;</span> : <span class="stringliteral">&quot;&quot;</span>, window-&gt;ViewportId, window-&gt;ViewportPos.x, window-&gt;ViewportPos.y);</div>
<div class="line"><a id="l22387" name="l22387"></a><span class="lineno">22387</span>    BulletText(<span class="stringliteral">&quot;ViewportMonitor: %d&quot;</span>, window-&gt;Viewport ? window-&gt;Viewport-&gt;PlatformMonitor : -1);</div>
<div class="line"><a id="l22388" name="l22388"></a><span class="lineno">22388</span>    BulletText(<span class="stringliteral">&quot;DockId: 0x%04X, DockOrder: %d, Act: %d, Vis: %d&quot;</span>, window-&gt;DockId, window-&gt;DockOrder, window-&gt;DockIsActive, window-&gt;DockTabIsVisible);</div>
<div class="line"><a id="l22389" name="l22389"></a><span class="lineno">22389</span>    <span class="keywordflow">if</span> (window-&gt;DockNode || window-&gt;DockNodeAsHost)</div>
<div class="line"><a id="l22390" name="l22390"></a><span class="lineno">22390</span>        DebugNodeDockNode(window-&gt;DockNodeAsHost ? window-&gt;DockNodeAsHost : window-&gt;DockNode, window-&gt;DockNodeAsHost ? <span class="stringliteral">&quot;DockNodeAsHost&quot;</span> : <span class="stringliteral">&quot;DockNode&quot;</span>);</div>
<div class="line"><a id="l22391" name="l22391"></a><span class="lineno">22391</span> </div>
<div class="line"><a id="l22392" name="l22392"></a><span class="lineno">22392</span>    <span class="keywordflow">if</span> (window-&gt;RootWindow != window)               { DebugNodeWindow(window-&gt;RootWindow, <span class="stringliteral">&quot;RootWindow&quot;</span>); }</div>
<div class="line"><a id="l22393" name="l22393"></a><span class="lineno">22393</span>    <span class="keywordflow">if</span> (window-&gt;RootWindowDockTree != window-&gt;RootWindow) { DebugNodeWindow(window-&gt;RootWindowDockTree, <span class="stringliteral">&quot;RootWindowDockTree&quot;</span>); }</div>
<div class="line"><a id="l22394" name="l22394"></a><span class="lineno">22394</span>    <span class="keywordflow">if</span> (window-&gt;ParentWindow != NULL)               { DebugNodeWindow(window-&gt;ParentWindow, <span class="stringliteral">&quot;ParentWindow&quot;</span>); }</div>
<div class="line"><a id="l22395" name="l22395"></a><span class="lineno">22395</span>    <span class="keywordflow">if</span> (window-&gt;ParentWindowForFocusRoute != NULL)  { DebugNodeWindow(window-&gt;ParentWindowForFocusRoute, <span class="stringliteral">&quot;ParentWindowForFocusRoute&quot;</span>); }</div>
<div class="line"><a id="l22396" name="l22396"></a><span class="lineno">22396</span>    <span class="keywordflow">if</span> (window-&gt;DC.ChildWindows.Size &gt; 0)           { DebugNodeWindowsList(&amp;window-&gt;DC.ChildWindows, <span class="stringliteral">&quot;ChildWindows&quot;</span>); }</div>
<div class="line"><a id="l22397" name="l22397"></a><span class="lineno">22397</span>    <span class="keywordflow">if</span> (window-&gt;ColumnsStorage.Size &gt; 0 &amp;&amp; TreeNode(<span class="stringliteral">&quot;Columns&quot;</span>, <span class="stringliteral">&quot;Columns sets (%d)&quot;</span>, window-&gt;ColumnsStorage.Size))</div>
<div class="line"><a id="l22398" name="l22398"></a><span class="lineno">22398</span>    {</div>
<div class="line"><a id="l22399" name="l22399"></a><span class="lineno">22399</span>        <span class="keywordflow">for</span> (<a class="code hl_struct" href="structImGuiOldColumns.html">ImGuiOldColumns</a>&amp; columns : window-&gt;ColumnsStorage)</div>
<div class="line"><a id="l22400" name="l22400"></a><span class="lineno">22400</span>            DebugNodeColumns(&amp;columns);</div>
<div class="line"><a id="l22401" name="l22401"></a><span class="lineno">22401</span>        TreePop();</div>
<div class="line"><a id="l22402" name="l22402"></a><span class="lineno">22402</span>    }</div>
<div class="line"><a id="l22403" name="l22403"></a><span class="lineno">22403</span>    DebugNodeStorage(&amp;window-&gt;StateStorage, <span class="stringliteral">&quot;Storage&quot;</span>);</div>
<div class="line"><a id="l22404" name="l22404"></a><span class="lineno">22404</span>    TreePop();</div>
<div class="line"><a id="l22405" name="l22405"></a><span class="lineno">22405</span>}</div>
<div class="line"><a id="l22406" name="l22406"></a><span class="lineno">22406</span> </div>
<div class="line"><a id="l22407" name="l22407"></a><span class="lineno">22407</span><span class="keywordtype">void</span> ImGui::DebugNodeWindowSettings(<a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>* settings)</div>
<div class="line"><a id="l22408" name="l22408"></a><span class="lineno">22408</span>{</div>
<div class="line"><a id="l22409" name="l22409"></a><span class="lineno">22409</span>    <span class="keywordflow">if</span> (settings-&gt;WantDelete)</div>
<div class="line"><a id="l22410" name="l22410"></a><span class="lineno">22410</span>        BeginDisabled();</div>
<div class="line"><a id="l22411" name="l22411"></a><span class="lineno">22411</span>    Text(<span class="stringliteral">&quot;0x%08X \&quot;%s\&quot; Pos (%d,%d) Size (%d,%d) Collapsed=%d&quot;</span>,</div>
<div class="line"><a id="l22412" name="l22412"></a><span class="lineno">22412</span>        settings-&gt;ID, settings-&gt;GetName(), settings-&gt;Pos.x, settings-&gt;Pos.y, settings-&gt;Size.x, settings-&gt;Size.y, settings-&gt;Collapsed);</div>
<div class="line"><a id="l22413" name="l22413"></a><span class="lineno">22413</span>    <span class="keywordflow">if</span> (settings-&gt;WantDelete)</div>
<div class="line"><a id="l22414" name="l22414"></a><span class="lineno">22414</span>        EndDisabled();</div>
<div class="line"><a id="l22415" name="l22415"></a><span class="lineno">22415</span>}</div>
<div class="line"><a id="l22416" name="l22416"></a><span class="lineno">22416</span> </div>
<div class="line"><a id="l22417" name="l22417"></a><span class="lineno">22417</span><span class="keywordtype">void</span> ImGui::DebugNodeWindowsList(<a class="code hl_struct" href="structImVector.html">ImVector&lt;ImGuiWindow*&gt;</a>* windows, <span class="keyword">const</span> <span class="keywordtype">char</span>* label)</div>
<div class="line"><a id="l22418" name="l22418"></a><span class="lineno">22418</span>{</div>
<div class="line"><a id="l22419" name="l22419"></a><span class="lineno">22419</span>    <span class="keywordflow">if</span> (!TreeNode(label, <span class="stringliteral">&quot;%s (%d)&quot;</span>, label, windows-&gt;Size))</div>
<div class="line"><a id="l22420" name="l22420"></a><span class="lineno">22420</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l22421" name="l22421"></a><span class="lineno">22421</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = windows-&gt;Size - 1; i &gt;= 0; i--) <span class="comment">// Iterate front to back</span></div>
<div class="line"><a id="l22422" name="l22422"></a><span class="lineno">22422</span>    {</div>
<div class="line"><a id="l22423" name="l22423"></a><span class="lineno">22423</span>        PushID((*windows)[i]);</div>
<div class="line"><a id="l22424" name="l22424"></a><span class="lineno">22424</span>        DebugNodeWindow((*windows)[i], <span class="stringliteral">&quot;Window&quot;</span>);</div>
<div class="line"><a id="l22425" name="l22425"></a><span class="lineno">22425</span>        PopID();</div>
<div class="line"><a id="l22426" name="l22426"></a><span class="lineno">22426</span>    }</div>
<div class="line"><a id="l22427" name="l22427"></a><span class="lineno">22427</span>    TreePop();</div>
<div class="line"><a id="l22428" name="l22428"></a><span class="lineno">22428</span>}</div>
<div class="line"><a id="l22429" name="l22429"></a><span class="lineno">22429</span> </div>
<div class="line"><a id="l22430" name="l22430"></a><span class="lineno">22430</span><span class="comment">// FIXME-OPT: This is technically suboptimal, but it is simpler this way.</span></div>
<div class="line"><a id="l22431" name="l22431"></a><span class="lineno">22431</span><span class="keywordtype">void</span> ImGui::DebugNodeWindowsListByBeginStackParent(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>** windows, <span class="keywordtype">int</span> windows_size, <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* parent_in_begin_stack)</div>
<div class="line"><a id="l22432" name="l22432"></a><span class="lineno">22432</span>{</div>
<div class="line"><a id="l22433" name="l22433"></a><span class="lineno">22433</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; windows_size; i++)</div>
<div class="line"><a id="l22434" name="l22434"></a><span class="lineno">22434</span>    {</div>
<div class="line"><a id="l22435" name="l22435"></a><span class="lineno">22435</span>        <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = windows[i];</div>
<div class="line"><a id="l22436" name="l22436"></a><span class="lineno">22436</span>        <span class="keywordflow">if</span> (window-&gt;ParentWindowInBeginStack != parent_in_begin_stack)</div>
<div class="line"><a id="l22437" name="l22437"></a><span class="lineno">22437</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l22438" name="l22438"></a><span class="lineno">22438</span>        <span class="keywordtype">char</span> buf[20];</div>
<div class="line"><a id="l22439" name="l22439"></a><span class="lineno">22439</span>        ImFormatString(buf, IM_ARRAYSIZE(buf), <span class="stringliteral">&quot;[%04d] Window&quot;</span>, window-&gt;BeginOrderWithinContext);</div>
<div class="line"><a id="l22440" name="l22440"></a><span class="lineno">22440</span>        <span class="comment">//BulletText(&quot;[%04d] Window &#39;%s&#39;&quot;, window-&gt;BeginOrderWithinContext, window-&gt;Name);</span></div>
<div class="line"><a id="l22441" name="l22441"></a><span class="lineno">22441</span>        DebugNodeWindow(window, buf);</div>
<div class="line"><a id="l22442" name="l22442"></a><span class="lineno">22442</span>        Indent();</div>
<div class="line"><a id="l22443" name="l22443"></a><span class="lineno">22443</span>        DebugNodeWindowsListByBeginStackParent(windows + i + 1, windows_size - i - 1, window);</div>
<div class="line"><a id="l22444" name="l22444"></a><span class="lineno">22444</span>        Unindent();</div>
<div class="line"><a id="l22445" name="l22445"></a><span class="lineno">22445</span>    }</div>
<div class="line"><a id="l22446" name="l22446"></a><span class="lineno">22446</span>}</div>
<div class="line"><a id="l22447" name="l22447"></a><span class="lineno">22447</span> </div>
<div class="line"><a id="l22448" name="l22448"></a><span class="lineno">22448</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l22449" name="l22449"></a><span class="lineno">22449</span><span class="comment">// [SECTION] DEBUG LOG WINDOW</span></div>
<div class="line"><a id="l22450" name="l22450"></a><span class="lineno">22450</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l22451" name="l22451"></a><span class="lineno">22451</span> </div>
<div class="line"><a id="l22452" name="l22452"></a><span class="lineno">22452</span><span class="keywordtype">void</span> ImGui::DebugLog(<span class="keyword">const</span> <span class="keywordtype">char</span>* fmt, ...)</div>
<div class="line"><a id="l22453" name="l22453"></a><span class="lineno">22453</span>{</div>
<div class="line"><a id="l22454" name="l22454"></a><span class="lineno">22454</span>    va_list args;</div>
<div class="line"><a id="l22455" name="l22455"></a><span class="lineno">22455</span>    va_start(args, fmt);</div>
<div class="line"><a id="l22456" name="l22456"></a><span class="lineno">22456</span>    DebugLogV(fmt, args);</div>
<div class="line"><a id="l22457" name="l22457"></a><span class="lineno">22457</span>    va_end(args);</div>
<div class="line"><a id="l22458" name="l22458"></a><span class="lineno">22458</span>}</div>
<div class="line"><a id="l22459" name="l22459"></a><span class="lineno">22459</span> </div>
<div class="line"><a id="l22460" name="l22460"></a><span class="lineno">22460</span><span class="keywordtype">void</span> ImGui::DebugLogV(<span class="keyword">const</span> <span class="keywordtype">char</span>* fmt, va_list args)</div>
<div class="line"><a id="l22461" name="l22461"></a><span class="lineno">22461</span>{</div>
<div class="line"><a id="l22462" name="l22462"></a><span class="lineno">22462</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l22463" name="l22463"></a><span class="lineno">22463</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> old_size = g.DebugLogBuf.size();</div>
<div class="line"><a id="l22464" name="l22464"></a><span class="lineno">22464</span>    <span class="keywordflow">if</span> (g.ContextName[0] != 0)</div>
<div class="line"><a id="l22465" name="l22465"></a><span class="lineno">22465</span>        g.DebugLogBuf.appendf(<span class="stringliteral">&quot;[%s] [%05d] &quot;</span>, g.ContextName, g.FrameCount);</div>
<div class="line"><a id="l22466" name="l22466"></a><span class="lineno">22466</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l22467" name="l22467"></a><span class="lineno">22467</span>        g.DebugLogBuf.appendf(<span class="stringliteral">&quot;[%05d] &quot;</span>, g.FrameCount);</div>
<div class="line"><a id="l22468" name="l22468"></a><span class="lineno">22468</span>    g.DebugLogBuf.appendfv(fmt, args);</div>
<div class="line"><a id="l22469" name="l22469"></a><span class="lineno">22469</span>    g.DebugLogIndex.append(g.DebugLogBuf.c_str(), old_size, g.DebugLogBuf.size());</div>
<div class="line"><a id="l22470" name="l22470"></a><span class="lineno">22470</span>    <span class="keywordflow">if</span> (g.DebugLogFlags &amp; ImGuiDebugLogFlags_OutputToTTY)</div>
<div class="line"><a id="l22471" name="l22471"></a><span class="lineno">22471</span>        IMGUI_DEBUG_PRINTF(<span class="stringliteral">&quot;%s&quot;</span>, g.DebugLogBuf.begin() + old_size);</div>
<div class="line"><a id="l22472" name="l22472"></a><span class="lineno">22472</span><span class="preprocessor">#ifdef IMGUI_ENABLE_TEST_ENGINE</span></div>
<div class="line"><a id="l22473" name="l22473"></a><span class="lineno">22473</span>    <span class="comment">// IMGUI_TEST_ENGINE_LOG() adds a trailing \n automatically</span></div>
<div class="line"><a id="l22474" name="l22474"></a><span class="lineno">22474</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> new_size = g.DebugLogBuf.size();</div>
<div class="line"><a id="l22475" name="l22475"></a><span class="lineno">22475</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> trailing_carriage_return = (g.DebugLogBuf[new_size - 1] == <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a id="l22476" name="l22476"></a><span class="lineno">22476</span>    <span class="keywordflow">if</span> (g.DebugLogFlags &amp; ImGuiDebugLogFlags_OutputToTestEngine)</div>
<div class="line"><a id="l22477" name="l22477"></a><span class="lineno">22477</span>        IMGUI_TEST_ENGINE_LOG(<span class="stringliteral">&quot;%.*s&quot;</span>, new_size - old_size - (trailing_carriage_return ? 1 : 0), g.DebugLogBuf.begin() + old_size);</div>
<div class="line"><a id="l22478" name="l22478"></a><span class="lineno">22478</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l22479" name="l22479"></a><span class="lineno">22479</span>}</div>
<div class="line"><a id="l22480" name="l22480"></a><span class="lineno">22480</span> </div>
<div class="line"><a id="l22481" name="l22481"></a><span class="lineno">22481</span><span class="comment">// FIXME-LAYOUT: To be done automatically via layout mode once we rework ItemSize/ItemAdd into ItemLayout.</span></div>
<div class="line"><a id="l22482" name="l22482"></a><span class="lineno">22482</span><span class="keyword">static</span> <span class="keywordtype">void</span> SameLineOrWrap(<span class="keyword">const</span> <a class="code hl_struct" href="structImVec2.html">ImVec2</a>&amp; size)</div>
<div class="line"><a id="l22483" name="l22483"></a><span class="lineno">22483</span>{</div>
<div class="line"><a id="l22484" name="l22484"></a><span class="lineno">22484</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l22485" name="l22485"></a><span class="lineno">22485</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l22486" name="l22486"></a><span class="lineno">22486</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> pos(window-&gt;DC.CursorPosPrevLine.x + g.Style.ItemSpacing.x, window-&gt;DC.CursorPosPrevLine.y);</div>
<div class="line"><a id="l22487" name="l22487"></a><span class="lineno">22487</span>    <span class="keywordflow">if</span> (window-&gt;WorkRect.Contains(<a class="code hl_struct" href="structImRect.html">ImRect</a>(pos, pos + size)))</div>
<div class="line"><a id="l22488" name="l22488"></a><span class="lineno">22488</span>        ImGui::SameLine();</div>
<div class="line"><a id="l22489" name="l22489"></a><span class="lineno">22489</span>}</div>
<div class="line"><a id="l22490" name="l22490"></a><span class="lineno">22490</span> </div>
<div class="line"><a id="l22491" name="l22491"></a><span class="lineno">22491</span><span class="keyword">static</span> <span class="keywordtype">void</span> ShowDebugLogFlag(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, ImGuiDebugLogFlags flags)</div>
<div class="line"><a id="l22492" name="l22492"></a><span class="lineno">22492</span>{</div>
<div class="line"><a id="l22493" name="l22493"></a><span class="lineno">22493</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l22494" name="l22494"></a><span class="lineno">22494</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> size(ImGui::GetFrameHeight() + g.Style.ItemInnerSpacing.x + ImGui::CalcTextSize(name).x, ImGui::GetFrameHeight());</div>
<div class="line"><a id="l22495" name="l22495"></a><span class="lineno">22495</span>    SameLineOrWrap(size); <span class="comment">// FIXME-LAYOUT: To be done automatically once we rework ItemSize/ItemAdd into ItemLayout.</span></div>
<div class="line"><a id="l22496" name="l22496"></a><span class="lineno">22496</span> </div>
<div class="line"><a id="l22497" name="l22497"></a><span class="lineno">22497</span>    <span class="keywordtype">bool</span> highlight_errors = (flags == ImGuiDebugLogFlags_EventError &amp;&amp; g.DebugLogSkippedErrors &gt; 0);</div>
<div class="line"><a id="l22498" name="l22498"></a><span class="lineno">22498</span>    <span class="keywordflow">if</span> (highlight_errors)</div>
<div class="line"><a id="l22499" name="l22499"></a><span class="lineno">22499</span>        ImGui::PushStyleColor(ImGuiCol_Text, ImLerp(g.Style.Colors[ImGuiCol_Text], <a class="code hl_struct" href="structImVec4.html">ImVec4</a>(1.0f, 0.0f, 0.0f, 1.0f), 0.30f));</div>
<div class="line"><a id="l22500" name="l22500"></a><span class="lineno">22500</span>    <span class="keywordflow">if</span> (ImGui::CheckboxFlags(name, &amp;g.DebugLogFlags, flags) &amp;&amp; g.IO.KeyShift &amp;&amp; (g.DebugLogFlags &amp; flags) != 0)</div>
<div class="line"><a id="l22501" name="l22501"></a><span class="lineno">22501</span>    {</div>
<div class="line"><a id="l22502" name="l22502"></a><span class="lineno">22502</span>        g.DebugLogAutoDisableFrames = 2;</div>
<div class="line"><a id="l22503" name="l22503"></a><span class="lineno">22503</span>        g.DebugLogAutoDisableFlags |= flags;</div>
<div class="line"><a id="l22504" name="l22504"></a><span class="lineno">22504</span>    }</div>
<div class="line"><a id="l22505" name="l22505"></a><span class="lineno">22505</span>    <span class="keywordflow">if</span> (highlight_errors)</div>
<div class="line"><a id="l22506" name="l22506"></a><span class="lineno">22506</span>    {</div>
<div class="line"><a id="l22507" name="l22507"></a><span class="lineno">22507</span>        ImGui::PopStyleColor();</div>
<div class="line"><a id="l22508" name="l22508"></a><span class="lineno">22508</span>        ImGui::SetItemTooltip(<span class="stringliteral">&quot;%d past errors skipped.&quot;</span>, g.DebugLogSkippedErrors);</div>
<div class="line"><a id="l22509" name="l22509"></a><span class="lineno">22509</span>    }</div>
<div class="line"><a id="l22510" name="l22510"></a><span class="lineno">22510</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l22511" name="l22511"></a><span class="lineno">22511</span>    {</div>
<div class="line"><a id="l22512" name="l22512"></a><span class="lineno">22512</span>        ImGui::SetItemTooltip(<span class="stringliteral">&quot;Hold SHIFT when clicking to enable for 2 frames only (useful for spammy log entries)&quot;</span>);</div>
<div class="line"><a id="l22513" name="l22513"></a><span class="lineno">22513</span>    }</div>
<div class="line"><a id="l22514" name="l22514"></a><span class="lineno">22514</span>}</div>
<div class="line"><a id="l22515" name="l22515"></a><span class="lineno">22515</span> </div>
<div class="line"><a id="l22516" name="l22516"></a><span class="lineno">22516</span><span class="keywordtype">void</span> ImGui::ShowDebugLogWindow(<span class="keywordtype">bool</span>* p_open)</div>
<div class="line"><a id="l22517" name="l22517"></a><span class="lineno">22517</span>{</div>
<div class="line"><a id="l22518" name="l22518"></a><span class="lineno">22518</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l22519" name="l22519"></a><span class="lineno">22519</span>    <span class="keywordflow">if</span> ((g.NextWindowData.HasFlags &amp; ImGuiNextWindowDataFlags_HasSize) == 0)</div>
<div class="line"><a id="l22520" name="l22520"></a><span class="lineno">22520</span>        SetNextWindowSize(<a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, GetFontSize() * 12.0f), ImGuiCond_FirstUseEver);</div>
<div class="line"><a id="l22521" name="l22521"></a><span class="lineno">22521</span>    <span class="keywordflow">if</span> (!Begin(<span class="stringliteral">&quot;Dear ImGui Debug Log&quot;</span>, p_open) || GetCurrentWindow()-&gt;BeginCount &gt; 1)</div>
<div class="line"><a id="l22522" name="l22522"></a><span class="lineno">22522</span>    {</div>
<div class="line"><a id="l22523" name="l22523"></a><span class="lineno">22523</span>        End();</div>
<div class="line"><a id="l22524" name="l22524"></a><span class="lineno">22524</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l22525" name="l22525"></a><span class="lineno">22525</span>    }</div>
<div class="line"><a id="l22526" name="l22526"></a><span class="lineno">22526</span> </div>
<div class="line"><a id="l22527" name="l22527"></a><span class="lineno">22527</span>    ImGuiDebugLogFlags all_enable_flags = ImGuiDebugLogFlags_EventMask_ &amp; ~ImGuiDebugLogFlags_EventInputRouting;</div>
<div class="line"><a id="l22528" name="l22528"></a><span class="lineno">22528</span>    CheckboxFlags(<span class="stringliteral">&quot;All&quot;</span>, &amp;g.DebugLogFlags, all_enable_flags);</div>
<div class="line"><a id="l22529" name="l22529"></a><span class="lineno">22529</span>    SetItemTooltip(<span class="stringliteral">&quot;(except InputRouting which is spammy)&quot;</span>);</div>
<div class="line"><a id="l22530" name="l22530"></a><span class="lineno">22530</span> </div>
<div class="line"><a id="l22531" name="l22531"></a><span class="lineno">22531</span>    ShowDebugLogFlag(<span class="stringliteral">&quot;Errors&quot;</span>, ImGuiDebugLogFlags_EventError);</div>
<div class="line"><a id="l22532" name="l22532"></a><span class="lineno">22532</span>    ShowDebugLogFlag(<span class="stringliteral">&quot;ActiveId&quot;</span>, ImGuiDebugLogFlags_EventActiveId);</div>
<div class="line"><a id="l22533" name="l22533"></a><span class="lineno">22533</span>    ShowDebugLogFlag(<span class="stringliteral">&quot;Clipper&quot;</span>, ImGuiDebugLogFlags_EventClipper);</div>
<div class="line"><a id="l22534" name="l22534"></a><span class="lineno">22534</span>    ShowDebugLogFlag(<span class="stringliteral">&quot;Docking&quot;</span>, ImGuiDebugLogFlags_EventDocking);</div>
<div class="line"><a id="l22535" name="l22535"></a><span class="lineno">22535</span>    ShowDebugLogFlag(<span class="stringliteral">&quot;Focus&quot;</span>, ImGuiDebugLogFlags_EventFocus);</div>
<div class="line"><a id="l22536" name="l22536"></a><span class="lineno">22536</span>    ShowDebugLogFlag(<span class="stringliteral">&quot;IO&quot;</span>, ImGuiDebugLogFlags_EventIO);</div>
<div class="line"><a id="l22537" name="l22537"></a><span class="lineno">22537</span>    <span class="comment">//ShowDebugLogFlag(&quot;Font&quot;, ImGuiDebugLogFlags_EventFont);</span></div>
<div class="line"><a id="l22538" name="l22538"></a><span class="lineno">22538</span>    ShowDebugLogFlag(<span class="stringliteral">&quot;Nav&quot;</span>, ImGuiDebugLogFlags_EventNav);</div>
<div class="line"><a id="l22539" name="l22539"></a><span class="lineno">22539</span>    ShowDebugLogFlag(<span class="stringliteral">&quot;Popup&quot;</span>, ImGuiDebugLogFlags_EventPopup);</div>
<div class="line"><a id="l22540" name="l22540"></a><span class="lineno">22540</span>    ShowDebugLogFlag(<span class="stringliteral">&quot;Selection&quot;</span>, ImGuiDebugLogFlags_EventSelection);</div>
<div class="line"><a id="l22541" name="l22541"></a><span class="lineno">22541</span>    ShowDebugLogFlag(<span class="stringliteral">&quot;Viewport&quot;</span>, ImGuiDebugLogFlags_EventViewport);</div>
<div class="line"><a id="l22542" name="l22542"></a><span class="lineno">22542</span>    ShowDebugLogFlag(<span class="stringliteral">&quot;InputRouting&quot;</span>, ImGuiDebugLogFlags_EventInputRouting);</div>
<div class="line"><a id="l22543" name="l22543"></a><span class="lineno">22543</span> </div>
<div class="line"><a id="l22544" name="l22544"></a><span class="lineno">22544</span>    <span class="keywordflow">if</span> (SmallButton(<span class="stringliteral">&quot;Clear&quot;</span>))</div>
<div class="line"><a id="l22545" name="l22545"></a><span class="lineno">22545</span>    {</div>
<div class="line"><a id="l22546" name="l22546"></a><span class="lineno">22546</span>        g.DebugLogBuf.clear();</div>
<div class="line"><a id="l22547" name="l22547"></a><span class="lineno">22547</span>        g.DebugLogIndex.clear();</div>
<div class="line"><a id="l22548" name="l22548"></a><span class="lineno">22548</span>        g.DebugLogSkippedErrors = 0;</div>
<div class="line"><a id="l22549" name="l22549"></a><span class="lineno">22549</span>    }</div>
<div class="line"><a id="l22550" name="l22550"></a><span class="lineno">22550</span>    SameLine();</div>
<div class="line"><a id="l22551" name="l22551"></a><span class="lineno">22551</span>    <span class="keywordflow">if</span> (SmallButton(<span class="stringliteral">&quot;Copy&quot;</span>))</div>
<div class="line"><a id="l22552" name="l22552"></a><span class="lineno">22552</span>        SetClipboardText(g.DebugLogBuf.c_str());</div>
<div class="line"><a id="l22553" name="l22553"></a><span class="lineno">22553</span>    SameLine();</div>
<div class="line"><a id="l22554" name="l22554"></a><span class="lineno">22554</span>    <span class="keywordflow">if</span> (SmallButton(<span class="stringliteral">&quot;Configure Outputs..&quot;</span>))</div>
<div class="line"><a id="l22555" name="l22555"></a><span class="lineno">22555</span>        OpenPopup(<span class="stringliteral">&quot;Outputs&quot;</span>);</div>
<div class="line"><a id="l22556" name="l22556"></a><span class="lineno">22556</span>    <span class="keywordflow">if</span> (BeginPopup(<span class="stringliteral">&quot;Outputs&quot;</span>))</div>
<div class="line"><a id="l22557" name="l22557"></a><span class="lineno">22557</span>    {</div>
<div class="line"><a id="l22558" name="l22558"></a><span class="lineno">22558</span>        CheckboxFlags(<span class="stringliteral">&quot;OutputToTTY&quot;</span>, &amp;g.DebugLogFlags, ImGuiDebugLogFlags_OutputToTTY);</div>
<div class="line"><a id="l22559" name="l22559"></a><span class="lineno">22559</span><span class="preprocessor">#ifndef IMGUI_ENABLE_TEST_ENGINE</span></div>
<div class="line"><a id="l22560" name="l22560"></a><span class="lineno">22560</span>        BeginDisabled();</div>
<div class="line"><a id="l22561" name="l22561"></a><span class="lineno">22561</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l22562" name="l22562"></a><span class="lineno">22562</span>        CheckboxFlags(<span class="stringliteral">&quot;OutputToTestEngine&quot;</span>, &amp;g.DebugLogFlags, ImGuiDebugLogFlags_OutputToTestEngine);</div>
<div class="line"><a id="l22563" name="l22563"></a><span class="lineno">22563</span><span class="preprocessor">#ifndef IMGUI_ENABLE_TEST_ENGINE</span></div>
<div class="line"><a id="l22564" name="l22564"></a><span class="lineno">22564</span>        EndDisabled();</div>
<div class="line"><a id="l22565" name="l22565"></a><span class="lineno">22565</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l22566" name="l22566"></a><span class="lineno">22566</span>        EndPopup();</div>
<div class="line"><a id="l22567" name="l22567"></a><span class="lineno">22567</span>    }</div>
<div class="line"><a id="l22568" name="l22568"></a><span class="lineno">22568</span> </div>
<div class="line"><a id="l22569" name="l22569"></a><span class="lineno">22569</span>    BeginChild(<span class="stringliteral">&quot;##log&quot;</span>, <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, 0.0f), ImGuiChildFlags_Borders, ImGuiWindowFlags_AlwaysVerticalScrollbar | ImGuiWindowFlags_AlwaysHorizontalScrollbar);</div>
<div class="line"><a id="l22570" name="l22570"></a><span class="lineno">22570</span> </div>
<div class="line"><a id="l22571" name="l22571"></a><span class="lineno">22571</span>    <span class="keyword">const</span> ImGuiDebugLogFlags backup_log_flags = g.DebugLogFlags;</div>
<div class="line"><a id="l22572" name="l22572"></a><span class="lineno">22572</span>    g.DebugLogFlags &amp;= ~ImGuiDebugLogFlags_EventClipper;</div>
<div class="line"><a id="l22573" name="l22573"></a><span class="lineno">22573</span> </div>
<div class="line"><a id="l22574" name="l22574"></a><span class="lineno">22574</span>    <a class="code hl_struct" href="structImGuiListClipper.html">ImGuiListClipper</a> clipper;</div>
<div class="line"><a id="l22575" name="l22575"></a><span class="lineno">22575</span>    clipper.Begin(g.DebugLogIndex.size());</div>
<div class="line"><a id="l22576" name="l22576"></a><span class="lineno">22576</span>    <span class="keywordflow">while</span> (clipper.Step())</div>
<div class="line"><a id="l22577" name="l22577"></a><span class="lineno">22577</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> line_no = clipper.DisplayStart; line_no &lt; clipper.DisplayEnd; line_no++)</div>
<div class="line"><a id="l22578" name="l22578"></a><span class="lineno">22578</span>            DebugTextUnformattedWithLocateItem(g.DebugLogIndex.get_line_begin(g.DebugLogBuf.c_str(), line_no), g.DebugLogIndex.get_line_end(g.DebugLogBuf.c_str(), line_no));</div>
<div class="line"><a id="l22579" name="l22579"></a><span class="lineno">22579</span>    g.DebugLogFlags = backup_log_flags;</div>
<div class="line"><a id="l22580" name="l22580"></a><span class="lineno">22580</span>    <span class="keywordflow">if</span> (GetScrollY() &gt;= GetScrollMaxY())</div>
<div class="line"><a id="l22581" name="l22581"></a><span class="lineno">22581</span>        SetScrollHereY(1.0f);</div>
<div class="line"><a id="l22582" name="l22582"></a><span class="lineno">22582</span>    EndChild();</div>
<div class="line"><a id="l22583" name="l22583"></a><span class="lineno">22583</span> </div>
<div class="line"><a id="l22584" name="l22584"></a><span class="lineno">22584</span>    End();</div>
<div class="line"><a id="l22585" name="l22585"></a><span class="lineno">22585</span>}</div>
<div class="line"><a id="l22586" name="l22586"></a><span class="lineno">22586</span> </div>
<div class="line"><a id="l22587" name="l22587"></a><span class="lineno">22587</span><span class="comment">// Display line, search for 0xXXXXXXXX identifiers and call DebugLocateItemOnHover() when hovered.</span></div>
<div class="line"><a id="l22588" name="l22588"></a><span class="lineno">22588</span><span class="keywordtype">void</span> ImGui::DebugTextUnformattedWithLocateItem(<span class="keyword">const</span> <span class="keywordtype">char</span>* line_begin, <span class="keyword">const</span> <span class="keywordtype">char</span>* line_end)</div>
<div class="line"><a id="l22589" name="l22589"></a><span class="lineno">22589</span>{</div>
<div class="line"><a id="l22590" name="l22590"></a><span class="lineno">22590</span>    TextUnformatted(line_begin, line_end);</div>
<div class="line"><a id="l22591" name="l22591"></a><span class="lineno">22591</span>    <span class="keywordflow">if</span> (!IsItemHovered(ImGuiHoveredFlags_AllowWhenBlockedByPopup | ImGuiHoveredFlags_AllowWhenBlockedByActiveItem))</div>
<div class="line"><a id="l22592" name="l22592"></a><span class="lineno">22592</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l22593" name="l22593"></a><span class="lineno">22593</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l22594" name="l22594"></a><span class="lineno">22594</span>    <a class="code hl_struct" href="structImRect.html">ImRect</a> text_rect = g.LastItemData.Rect;</div>
<div class="line"><a id="l22595" name="l22595"></a><span class="lineno">22595</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keywordtype">char</span>* p = line_begin; p &lt;= line_end - 10; p++)</div>
<div class="line"><a id="l22596" name="l22596"></a><span class="lineno">22596</span>    {</div>
<div class="line"><a id="l22597" name="l22597"></a><span class="lineno">22597</span>        ImGuiID <span class="keywordtype">id</span> = 0;</div>
<div class="line"><a id="l22598" name="l22598"></a><span class="lineno">22598</span>        <span class="keywordflow">if</span> (p[0] != <span class="charliteral">&#39;0&#39;</span> || (p[1] != <span class="charliteral">&#39;x&#39;</span> &amp;&amp; p[1] != <span class="charliteral">&#39;X&#39;</span>) || sscanf(p + 2, <span class="stringliteral">&quot;%X&quot;</span>, &amp;<span class="keywordtype">id</span>) != 1 || ImCharIsXdigitA(p[10]))</div>
<div class="line"><a id="l22599" name="l22599"></a><span class="lineno">22599</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l22600" name="l22600"></a><span class="lineno">22600</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> p0 = CalcTextSize(line_begin, p);</div>
<div class="line"><a id="l22601" name="l22601"></a><span class="lineno">22601</span>        <a class="code hl_struct" href="structImVec2.html">ImVec2</a> p1 = CalcTextSize(p, p + 10);</div>
<div class="line"><a id="l22602" name="l22602"></a><span class="lineno">22602</span>        g.LastItemData.Rect = <a class="code hl_struct" href="structImRect.html">ImRect</a>(text_rect.Min + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(p0.x, 0.0f), text_rect.Min + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(p0.x + p1.x, p1.y));</div>
<div class="line"><a id="l22603" name="l22603"></a><span class="lineno">22603</span>        <span class="keywordflow">if</span> (IsMouseHoveringRect(g.LastItemData.Rect.Min, g.LastItemData.Rect.Max, <span class="keyword">true</span>))</div>
<div class="line"><a id="l22604" name="l22604"></a><span class="lineno">22604</span>            DebugLocateItemOnHover(<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l22605" name="l22605"></a><span class="lineno">22605</span>        p += 10;</div>
<div class="line"><a id="l22606" name="l22606"></a><span class="lineno">22606</span>    }</div>
<div class="line"><a id="l22607" name="l22607"></a><span class="lineno">22607</span>}</div>
<div class="line"><a id="l22608" name="l22608"></a><span class="lineno">22608</span> </div>
<div class="line"><a id="l22609" name="l22609"></a><span class="lineno">22609</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l22610" name="l22610"></a><span class="lineno">22610</span><span class="comment">// [SECTION] OTHER DEBUG TOOLS (ITEM PICKER, ID STACK TOOL)</span></div>
<div class="line"><a id="l22611" name="l22611"></a><span class="lineno">22611</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l22612" name="l22612"></a><span class="lineno">22612</span> </div>
<div class="line"><a id="l22613" name="l22613"></a><span class="lineno">22613</span><span class="comment">// Draw a small cross at current CursorPos in current window&#39;s DrawList</span></div>
<div class="line"><a id="l22614" name="l22614"></a><span class="lineno">22614</span><span class="keywordtype">void</span> ImGui::DebugDrawCursorPos(ImU32 col)</div>
<div class="line"><a id="l22615" name="l22615"></a><span class="lineno">22615</span>{</div>
<div class="line"><a id="l22616" name="l22616"></a><span class="lineno">22616</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l22617" name="l22617"></a><span class="lineno">22617</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l22618" name="l22618"></a><span class="lineno">22618</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> pos = window-&gt;DC.CursorPos;</div>
<div class="line"><a id="l22619" name="l22619"></a><span class="lineno">22619</span>    window-&gt;DrawList-&gt;AddLine(<a class="code hl_struct" href="structImVec2.html">ImVec2</a>(pos.x, pos.y - 3.0f), <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(pos.x, pos.y + 4.0f), col, 1.0f);</div>
<div class="line"><a id="l22620" name="l22620"></a><span class="lineno">22620</span>    window-&gt;DrawList-&gt;AddLine(<a class="code hl_struct" href="structImVec2.html">ImVec2</a>(pos.x - 3.0f, pos.y), <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(pos.x + 4.0f, pos.y), col, 1.0f);</div>
<div class="line"><a id="l22621" name="l22621"></a><span class="lineno">22621</span>}</div>
<div class="line"><a id="l22622" name="l22622"></a><span class="lineno">22622</span> </div>
<div class="line"><a id="l22623" name="l22623"></a><span class="lineno">22623</span><span class="comment">// Draw a 10px wide rectangle around CurposPos.x using Line Y1/Y2 in current window&#39;s DrawList</span></div>
<div class="line"><a id="l22624" name="l22624"></a><span class="lineno">22624</span><span class="keywordtype">void</span> ImGui::DebugDrawLineExtents(ImU32 col)</div>
<div class="line"><a id="l22625" name="l22625"></a><span class="lineno">22625</span>{</div>
<div class="line"><a id="l22626" name="l22626"></a><span class="lineno">22626</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l22627" name="l22627"></a><span class="lineno">22627</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l22628" name="l22628"></a><span class="lineno">22628</span>    <span class="keywordtype">float</span> curr_x = window-&gt;DC.CursorPos.x;</div>
<div class="line"><a id="l22629" name="l22629"></a><span class="lineno">22629</span>    <span class="keywordtype">float</span> line_y1 = (window-&gt;DC.IsSameLine ? window-&gt;DC.CursorPosPrevLine.y : window-&gt;DC.CursorPos.y);</div>
<div class="line"><a id="l22630" name="l22630"></a><span class="lineno">22630</span>    <span class="keywordtype">float</span> line_y2 = line_y1 + (window-&gt;DC.IsSameLine ? window-&gt;DC.PrevLineSize.y : window-&gt;DC.CurrLineSize.y);</div>
<div class="line"><a id="l22631" name="l22631"></a><span class="lineno">22631</span>    window-&gt;DrawList-&gt;AddLine(<a class="code hl_struct" href="structImVec2.html">ImVec2</a>(curr_x - 5.0f, line_y1), <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(curr_x + 5.0f, line_y1), col, 1.0f);</div>
<div class="line"><a id="l22632" name="l22632"></a><span class="lineno">22632</span>    window-&gt;DrawList-&gt;AddLine(<a class="code hl_struct" href="structImVec2.html">ImVec2</a>(curr_x - 0.5f, line_y1), <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(curr_x - 0.5f, line_y2), col, 1.0f);</div>
<div class="line"><a id="l22633" name="l22633"></a><span class="lineno">22633</span>    window-&gt;DrawList-&gt;AddLine(<a class="code hl_struct" href="structImVec2.html">ImVec2</a>(curr_x - 5.0f, line_y2), <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(curr_x + 5.0f, line_y2), col, 1.0f);</div>
<div class="line"><a id="l22634" name="l22634"></a><span class="lineno">22634</span>}</div>
<div class="line"><a id="l22635" name="l22635"></a><span class="lineno">22635</span> </div>
<div class="line"><a id="l22636" name="l22636"></a><span class="lineno">22636</span><span class="comment">// Draw last item rect in ForegroundDrawList (so it is always visible)</span></div>
<div class="line"><a id="l22637" name="l22637"></a><span class="lineno">22637</span><span class="keywordtype">void</span> ImGui::DebugDrawItemRect(ImU32 col)</div>
<div class="line"><a id="l22638" name="l22638"></a><span class="lineno">22638</span>{</div>
<div class="line"><a id="l22639" name="l22639"></a><span class="lineno">22639</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l22640" name="l22640"></a><span class="lineno">22640</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l22641" name="l22641"></a><span class="lineno">22641</span>    GetForegroundDrawList(window)-&gt;AddRect(g.LastItemData.Rect.Min, g.LastItemData.Rect.Max, col);</div>
<div class="line"><a id="l22642" name="l22642"></a><span class="lineno">22642</span>}</div>
<div class="line"><a id="l22643" name="l22643"></a><span class="lineno">22643</span> </div>
<div class="line"><a id="l22644" name="l22644"></a><span class="lineno">22644</span><span class="comment">// [DEBUG] Locate item position/rectangle given an ID.</span></div>
<div class="line"><a id="l22645" name="l22645"></a><span class="lineno">22645</span><span class="keyword">static</span> <span class="keyword">const</span> ImU32 DEBUG_LOCATE_ITEM_COLOR = IM_COL32(0, 255, 0, 255);  <span class="comment">// Green</span></div>
<div class="line"><a id="l22646" name="l22646"></a><span class="lineno">22646</span> </div>
<div class="line"><a id="l22647" name="l22647"></a><span class="lineno">22647</span><span class="keywordtype">void</span> ImGui::DebugLocateItem(ImGuiID target_id)</div>
<div class="line"><a id="l22648" name="l22648"></a><span class="lineno">22648</span>{</div>
<div class="line"><a id="l22649" name="l22649"></a><span class="lineno">22649</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l22650" name="l22650"></a><span class="lineno">22650</span>    g.DebugLocateId = target_id;</div>
<div class="line"><a id="l22651" name="l22651"></a><span class="lineno">22651</span>    g.DebugLocateFrames = 2;</div>
<div class="line"><a id="l22652" name="l22652"></a><span class="lineno">22652</span>    g.DebugBreakInLocateId = <span class="keyword">false</span>;</div>
<div class="line"><a id="l22653" name="l22653"></a><span class="lineno">22653</span>}</div>
<div class="line"><a id="l22654" name="l22654"></a><span class="lineno">22654</span> </div>
<div class="line"><a id="l22655" name="l22655"></a><span class="lineno">22655</span><span class="comment">// FIXME: Doesn&#39;t work over through a modal window, because they clear HoveredWindow.</span></div>
<div class="line"><a id="l22656" name="l22656"></a><span class="lineno">22656</span><span class="keywordtype">void</span> ImGui::DebugLocateItemOnHover(ImGuiID target_id)</div>
<div class="line"><a id="l22657" name="l22657"></a><span class="lineno">22657</span>{</div>
<div class="line"><a id="l22658" name="l22658"></a><span class="lineno">22658</span>    <span class="keywordflow">if</span> (target_id == 0 || !IsItemHovered(ImGuiHoveredFlags_AllowWhenBlockedByActiveItem | ImGuiHoveredFlags_AllowWhenBlockedByPopup))</div>
<div class="line"><a id="l22659" name="l22659"></a><span class="lineno">22659</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l22660" name="l22660"></a><span class="lineno">22660</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l22661" name="l22661"></a><span class="lineno">22661</span>    DebugLocateItem(target_id);</div>
<div class="line"><a id="l22662" name="l22662"></a><span class="lineno">22662</span>    GetForegroundDrawList(g.CurrentWindow)-&gt;AddRect(g.LastItemData.Rect.Min - <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(3.0f, 3.0f), g.LastItemData.Rect.Max + <a class="code hl_struct" href="structImVec2.html">ImVec2</a>(3.0f, 3.0f), DEBUG_LOCATE_ITEM_COLOR);</div>
<div class="line"><a id="l22663" name="l22663"></a><span class="lineno">22663</span> </div>
<div class="line"><a id="l22664" name="l22664"></a><span class="lineno">22664</span>    <span class="comment">// Can&#39;t easily use a context menu here because it will mess with focus, active id etc.</span></div>
<div class="line"><a id="l22665" name="l22665"></a><span class="lineno">22665</span>    <span class="keywordflow">if</span> (g.IO.ConfigDebugIsDebuggerPresent &amp;&amp; g.MouseStationaryTimer &gt; 1.0f)</div>
<div class="line"><a id="l22666" name="l22666"></a><span class="lineno">22666</span>    {</div>
<div class="line"><a id="l22667" name="l22667"></a><span class="lineno">22667</span>        DebugBreakButtonTooltip(<span class="keyword">false</span>, <span class="stringliteral">&quot;in ItemAdd()&quot;</span>);</div>
<div class="line"><a id="l22668" name="l22668"></a><span class="lineno">22668</span>        <span class="keywordflow">if</span> (IsKeyChordPressed(g.DebugBreakKeyChord))</div>
<div class="line"><a id="l22669" name="l22669"></a><span class="lineno">22669</span>            g.DebugBreakInLocateId = <span class="keyword">true</span>;</div>
<div class="line"><a id="l22670" name="l22670"></a><span class="lineno">22670</span>    }</div>
<div class="line"><a id="l22671" name="l22671"></a><span class="lineno">22671</span>}</div>
<div class="line"><a id="l22672" name="l22672"></a><span class="lineno">22672</span> </div>
<div class="line"><a id="l22673" name="l22673"></a><span class="lineno">22673</span><span class="keywordtype">void</span> ImGui::DebugLocateItemResolveWithLastItem()</div>
<div class="line"><a id="l22674" name="l22674"></a><span class="lineno">22674</span>{</div>
<div class="line"><a id="l22675" name="l22675"></a><span class="lineno">22675</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l22676" name="l22676"></a><span class="lineno">22676</span> </div>
<div class="line"><a id="l22677" name="l22677"></a><span class="lineno">22677</span>    <span class="comment">// [DEBUG] Debug break requested by user</span></div>
<div class="line"><a id="l22678" name="l22678"></a><span class="lineno">22678</span>    <span class="keywordflow">if</span> (g.DebugBreakInLocateId)</div>
<div class="line"><a id="l22679" name="l22679"></a><span class="lineno">22679</span>        IM_DEBUG_BREAK();</div>
<div class="line"><a id="l22680" name="l22680"></a><span class="lineno">22680</span> </div>
<div class="line"><a id="l22681" name="l22681"></a><span class="lineno">22681</span>    <a class="code hl_struct" href="structImGuiLastItemData.html">ImGuiLastItemData</a> item_data = g.LastItemData;</div>
<div class="line"><a id="l22682" name="l22682"></a><span class="lineno">22682</span>    g.DebugLocateId = 0;</div>
<div class="line"><a id="l22683" name="l22683"></a><span class="lineno">22683</span>    <a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>* draw_list = GetForegroundDrawList(g.CurrentWindow);</div>
<div class="line"><a id="l22684" name="l22684"></a><span class="lineno">22684</span>    <a class="code hl_struct" href="structImRect.html">ImRect</a> r = item_data.Rect;</div>
<div class="line"><a id="l22685" name="l22685"></a><span class="lineno">22685</span>    r.Expand(3.0f);</div>
<div class="line"><a id="l22686" name="l22686"></a><span class="lineno">22686</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> p1 = g.IO.MousePos;</div>
<div class="line"><a id="l22687" name="l22687"></a><span class="lineno">22687</span>    <a class="code hl_struct" href="structImVec2.html">ImVec2</a> p2 = <a class="code hl_struct" href="structImVec2.html">ImVec2</a>((p1.x &lt; r.Min.x) ? r.Min.x : (p1.x &gt; r.Max.x) ? r.Max.x : p1.x, (p1.y &lt; r.Min.y) ? r.Min.y : (p1.y &gt; r.Max.y) ? r.Max.y : p1.y);</div>
<div class="line"><a id="l22688" name="l22688"></a><span class="lineno">22688</span>    draw_list-&gt;AddRect(r.Min, r.Max, DEBUG_LOCATE_ITEM_COLOR);</div>
<div class="line"><a id="l22689" name="l22689"></a><span class="lineno">22689</span>    draw_list-&gt;AddLine(p1, p2, DEBUG_LOCATE_ITEM_COLOR);</div>
<div class="line"><a id="l22690" name="l22690"></a><span class="lineno">22690</span>}</div>
<div class="line"><a id="l22691" name="l22691"></a><span class="lineno">22691</span> </div>
<div class="line"><a id="l22692" name="l22692"></a><span class="lineno">22692</span><span class="keywordtype">void</span> ImGui::DebugStartItemPicker()</div>
<div class="line"><a id="l22693" name="l22693"></a><span class="lineno">22693</span>{</div>
<div class="line"><a id="l22694" name="l22694"></a><span class="lineno">22694</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l22695" name="l22695"></a><span class="lineno">22695</span>    g.DebugItemPickerActive = <span class="keyword">true</span>;</div>
<div class="line"><a id="l22696" name="l22696"></a><span class="lineno">22696</span>}</div>
<div class="line"><a id="l22697" name="l22697"></a><span class="lineno">22697</span> </div>
<div class="line"><a id="l22698" name="l22698"></a><span class="lineno">22698</span><span class="comment">// [DEBUG] Item picker tool - start with DebugStartItemPicker() - useful to visually select an item and break into its call-stack.</span></div>
<div class="line"><a id="l22699" name="l22699"></a><span class="lineno">22699</span><span class="keywordtype">void</span> ImGui::UpdateDebugToolItemPicker()</div>
<div class="line"><a id="l22700" name="l22700"></a><span class="lineno">22700</span>{</div>
<div class="line"><a id="l22701" name="l22701"></a><span class="lineno">22701</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l22702" name="l22702"></a><span class="lineno">22702</span>    g.DebugItemPickerBreakId = 0;</div>
<div class="line"><a id="l22703" name="l22703"></a><span class="lineno">22703</span>    <span class="keywordflow">if</span> (!g.DebugItemPickerActive)</div>
<div class="line"><a id="l22704" name="l22704"></a><span class="lineno">22704</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l22705" name="l22705"></a><span class="lineno">22705</span> </div>
<div class="line"><a id="l22706" name="l22706"></a><span class="lineno">22706</span>    <span class="keyword">const</span> ImGuiID hovered_id = g.HoveredIdPreviousFrame;</div>
<div class="line"><a id="l22707" name="l22707"></a><span class="lineno">22707</span>    SetMouseCursor(ImGuiMouseCursor_Hand);</div>
<div class="line"><a id="l22708" name="l22708"></a><span class="lineno">22708</span>    <span class="keywordflow">if</span> (IsKeyPressed(ImGuiKey_Escape))</div>
<div class="line"><a id="l22709" name="l22709"></a><span class="lineno">22709</span>        g.DebugItemPickerActive = <span class="keyword">false</span>;</div>
<div class="line"><a id="l22710" name="l22710"></a><span class="lineno">22710</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> change_mapping = g.IO.KeyMods == (ImGuiMod_Ctrl | ImGuiMod_Shift);</div>
<div class="line"><a id="l22711" name="l22711"></a><span class="lineno">22711</span>    <span class="keywordflow">if</span> (!change_mapping &amp;&amp; IsMouseClicked(g.DebugItemPickerMouseButton) &amp;&amp; hovered_id)</div>
<div class="line"><a id="l22712" name="l22712"></a><span class="lineno">22712</span>    {</div>
<div class="line"><a id="l22713" name="l22713"></a><span class="lineno">22713</span>        g.DebugItemPickerBreakId = hovered_id;</div>
<div class="line"><a id="l22714" name="l22714"></a><span class="lineno">22714</span>        g.DebugItemPickerActive = <span class="keyword">false</span>;</div>
<div class="line"><a id="l22715" name="l22715"></a><span class="lineno">22715</span>    }</div>
<div class="line"><a id="l22716" name="l22716"></a><span class="lineno">22716</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> mouse_button = 0; mouse_button &lt; 3; mouse_button++)</div>
<div class="line"><a id="l22717" name="l22717"></a><span class="lineno">22717</span>        <span class="keywordflow">if</span> (change_mapping &amp;&amp; IsMouseClicked(mouse_button))</div>
<div class="line"><a id="l22718" name="l22718"></a><span class="lineno">22718</span>            g.DebugItemPickerMouseButton = (ImU8)mouse_button;</div>
<div class="line"><a id="l22719" name="l22719"></a><span class="lineno">22719</span>    SetNextWindowBgAlpha(0.70f);</div>
<div class="line"><a id="l22720" name="l22720"></a><span class="lineno">22720</span>    <span class="keywordflow">if</span> (!BeginTooltip())</div>
<div class="line"><a id="l22721" name="l22721"></a><span class="lineno">22721</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l22722" name="l22722"></a><span class="lineno">22722</span>    Text(<span class="stringliteral">&quot;HoveredId: 0x%08X&quot;</span>, hovered_id);</div>
<div class="line"><a id="l22723" name="l22723"></a><span class="lineno">22723</span>    Text(<span class="stringliteral">&quot;Press ESC to abort picking.&quot;</span>);</div>
<div class="line"><a id="l22724" name="l22724"></a><span class="lineno">22724</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* mouse_button_names[] = { <span class="stringliteral">&quot;Left&quot;</span>, <span class="stringliteral">&quot;Right&quot;</span>, <span class="stringliteral">&quot;Middle&quot;</span> };</div>
<div class="line"><a id="l22725" name="l22725"></a><span class="lineno">22725</span>    <span class="keywordflow">if</span> (change_mapping)</div>
<div class="line"><a id="l22726" name="l22726"></a><span class="lineno">22726</span>        Text(<span class="stringliteral">&quot;Remap w/ Ctrl+Shift: click anywhere to select new mouse button.&quot;</span>);</div>
<div class="line"><a id="l22727" name="l22727"></a><span class="lineno">22727</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l22728" name="l22728"></a><span class="lineno">22728</span>        TextColored(GetStyleColorVec4(hovered_id ? ImGuiCol_Text : ImGuiCol_TextDisabled), <span class="stringliteral">&quot;Click %s Button to break in debugger! (remap w/ Ctrl+Shift)&quot;</span>, mouse_button_names[g.DebugItemPickerMouseButton]);</div>
<div class="line"><a id="l22729" name="l22729"></a><span class="lineno">22729</span>    EndTooltip();</div>
<div class="line"><a id="l22730" name="l22730"></a><span class="lineno">22730</span>}</div>
<div class="line"><a id="l22731" name="l22731"></a><span class="lineno">22731</span> </div>
<div class="line"><a id="l22732" name="l22732"></a><span class="lineno">22732</span><span class="comment">// [DEBUG] ID Stack Tool: update queries. Called by NewFrame()</span></div>
<div class="line"><a id="l22733" name="l22733"></a><span class="lineno">22733</span><span class="keywordtype">void</span> ImGui::UpdateDebugToolStackQueries()</div>
<div class="line"><a id="l22734" name="l22734"></a><span class="lineno">22734</span>{</div>
<div class="line"><a id="l22735" name="l22735"></a><span class="lineno">22735</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l22736" name="l22736"></a><span class="lineno">22736</span>    <a class="code hl_struct" href="structImGuiIDStackTool.html">ImGuiIDStackTool</a>* tool = &amp;g.DebugIDStackTool;</div>
<div class="line"><a id="l22737" name="l22737"></a><span class="lineno">22737</span> </div>
<div class="line"><a id="l22738" name="l22738"></a><span class="lineno">22738</span>    <span class="comment">// Clear hook when id stack tool is not visible</span></div>
<div class="line"><a id="l22739" name="l22739"></a><span class="lineno">22739</span>    g.DebugHookIdInfo = 0;</div>
<div class="line"><a id="l22740" name="l22740"></a><span class="lineno">22740</span>    <span class="keywordflow">if</span> (g.FrameCount != tool-&gt;LastActiveFrame + 1)</div>
<div class="line"><a id="l22741" name="l22741"></a><span class="lineno">22741</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l22742" name="l22742"></a><span class="lineno">22742</span> </div>
<div class="line"><a id="l22743" name="l22743"></a><span class="lineno">22743</span>    <span class="comment">// Update queries. The steps are: -1: query Stack, &gt;= 0: query each stack item</span></div>
<div class="line"><a id="l22744" name="l22744"></a><span class="lineno">22744</span>    <span class="comment">// We can only perform 1 ID Info query every frame. This is designed so the GetID() tests are cheap and constant-time</span></div>
<div class="line"><a id="l22745" name="l22745"></a><span class="lineno">22745</span>    <span class="keyword">const</span> ImGuiID query_id = g.HoveredIdPreviousFrame ? g.HoveredIdPreviousFrame : g.ActiveId;</div>
<div class="line"><a id="l22746" name="l22746"></a><span class="lineno">22746</span>    <span class="keywordflow">if</span> (tool-&gt;QueryId != query_id)</div>
<div class="line"><a id="l22747" name="l22747"></a><span class="lineno">22747</span>    {</div>
<div class="line"><a id="l22748" name="l22748"></a><span class="lineno">22748</span>        tool-&gt;QueryId = query_id;</div>
<div class="line"><a id="l22749" name="l22749"></a><span class="lineno">22749</span>        tool-&gt;StackLevel = -1;</div>
<div class="line"><a id="l22750" name="l22750"></a><span class="lineno">22750</span>        tool-&gt;Results.resize(0);</div>
<div class="line"><a id="l22751" name="l22751"></a><span class="lineno">22751</span>    }</div>
<div class="line"><a id="l22752" name="l22752"></a><span class="lineno">22752</span>    <span class="keywordflow">if</span> (query_id == 0)</div>
<div class="line"><a id="l22753" name="l22753"></a><span class="lineno">22753</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l22754" name="l22754"></a><span class="lineno">22754</span> </div>
<div class="line"><a id="l22755" name="l22755"></a><span class="lineno">22755</span>    <span class="comment">// Advance to next stack level when we got our result, or after 2 frames (in case we never get a result)</span></div>
<div class="line"><a id="l22756" name="l22756"></a><span class="lineno">22756</span>    <span class="keywordtype">int</span> stack_level = tool-&gt;StackLevel;</div>
<div class="line"><a id="l22757" name="l22757"></a><span class="lineno">22757</span>    <span class="keywordflow">if</span> (stack_level &gt;= 0 &amp;&amp; stack_level &lt; tool-&gt;Results.Size)</div>
<div class="line"><a id="l22758" name="l22758"></a><span class="lineno">22758</span>        <span class="keywordflow">if</span> (tool-&gt;Results[stack_level].QuerySuccess || tool-&gt;Results[stack_level].QueryFrameCount &gt; 2)</div>
<div class="line"><a id="l22759" name="l22759"></a><span class="lineno">22759</span>            tool-&gt;StackLevel++;</div>
<div class="line"><a id="l22760" name="l22760"></a><span class="lineno">22760</span> </div>
<div class="line"><a id="l22761" name="l22761"></a><span class="lineno">22761</span>    <span class="comment">// Update hook</span></div>
<div class="line"><a id="l22762" name="l22762"></a><span class="lineno">22762</span>    stack_level = tool-&gt;StackLevel;</div>
<div class="line"><a id="l22763" name="l22763"></a><span class="lineno">22763</span>    <span class="keywordflow">if</span> (stack_level == -1)</div>
<div class="line"><a id="l22764" name="l22764"></a><span class="lineno">22764</span>        g.DebugHookIdInfo = query_id;</div>
<div class="line"><a id="l22765" name="l22765"></a><span class="lineno">22765</span>    <span class="keywordflow">if</span> (stack_level &gt;= 0 &amp;&amp; stack_level &lt; tool-&gt;Results.Size)</div>
<div class="line"><a id="l22766" name="l22766"></a><span class="lineno">22766</span>    {</div>
<div class="line"><a id="l22767" name="l22767"></a><span class="lineno">22767</span>        g.DebugHookIdInfo = tool-&gt;Results[stack_level].ID;</div>
<div class="line"><a id="l22768" name="l22768"></a><span class="lineno">22768</span>        tool-&gt;Results[stack_level].QueryFrameCount++;</div>
<div class="line"><a id="l22769" name="l22769"></a><span class="lineno">22769</span>    }</div>
<div class="line"><a id="l22770" name="l22770"></a><span class="lineno">22770</span>}</div>
<div class="line"><a id="l22771" name="l22771"></a><span class="lineno">22771</span> </div>
<div class="line"><a id="l22772" name="l22772"></a><span class="lineno">22772</span><span class="comment">// [DEBUG] ID Stack tool: hooks called by GetID() family functions</span></div>
<div class="line"><a id="l22773" name="l22773"></a><span class="lineno">22773</span><span class="keywordtype">void</span> ImGui::DebugHookIdInfo(ImGuiID <span class="keywordtype">id</span>, ImGuiDataType data_type, <span class="keyword">const</span> <span class="keywordtype">void</span>* data_id, <span class="keyword">const</span> <span class="keywordtype">void</span>* data_id_end)</div>
<div class="line"><a id="l22774" name="l22774"></a><span class="lineno">22774</span>{</div>
<div class="line"><a id="l22775" name="l22775"></a><span class="lineno">22775</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l22776" name="l22776"></a><span class="lineno">22776</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = g.CurrentWindow;</div>
<div class="line"><a id="l22777" name="l22777"></a><span class="lineno">22777</span>    <a class="code hl_struct" href="structImGuiIDStackTool.html">ImGuiIDStackTool</a>* tool = &amp;g.DebugIDStackTool;</div>
<div class="line"><a id="l22778" name="l22778"></a><span class="lineno">22778</span> </div>
<div class="line"><a id="l22779" name="l22779"></a><span class="lineno">22779</span>    <span class="comment">// Step 0: stack query</span></div>
<div class="line"><a id="l22780" name="l22780"></a><span class="lineno">22780</span>    <span class="comment">// This assumes that the ID was computed with the current ID stack, which tends to be the case for our widget.</span></div>
<div class="line"><a id="l22781" name="l22781"></a><span class="lineno">22781</span>    <span class="keywordflow">if</span> (tool-&gt;StackLevel == -1)</div>
<div class="line"><a id="l22782" name="l22782"></a><span class="lineno">22782</span>    {</div>
<div class="line"><a id="l22783" name="l22783"></a><span class="lineno">22783</span>        tool-&gt;StackLevel++;</div>
<div class="line"><a id="l22784" name="l22784"></a><span class="lineno">22784</span>        tool-&gt;Results.resize(window-&gt;IDStack.Size + 1, <a class="code hl_struct" href="structImGuiStackLevelInfo.html">ImGuiStackLevelInfo</a>());</div>
<div class="line"><a id="l22785" name="l22785"></a><span class="lineno">22785</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; window-&gt;IDStack.Size + 1; n++)</div>
<div class="line"><a id="l22786" name="l22786"></a><span class="lineno">22786</span>            tool-&gt;Results[n].ID = (n &lt; window-&gt;IDStack.Size) ? window-&gt;IDStack[n] : id;</div>
<div class="line"><a id="l22787" name="l22787"></a><span class="lineno">22787</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l22788" name="l22788"></a><span class="lineno">22788</span>    }</div>
<div class="line"><a id="l22789" name="l22789"></a><span class="lineno">22789</span> </div>
<div class="line"><a id="l22790" name="l22790"></a><span class="lineno">22790</span>    <span class="comment">// Step 1+: query for individual level</span></div>
<div class="line"><a id="l22791" name="l22791"></a><span class="lineno">22791</span>    IM_ASSERT(tool-&gt;StackLevel &gt;= 0);</div>
<div class="line"><a id="l22792" name="l22792"></a><span class="lineno">22792</span>    <span class="keywordflow">if</span> (tool-&gt;StackLevel != window-&gt;IDStack.Size)</div>
<div class="line"><a id="l22793" name="l22793"></a><span class="lineno">22793</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l22794" name="l22794"></a><span class="lineno">22794</span>    <a class="code hl_struct" href="structImGuiStackLevelInfo.html">ImGuiStackLevelInfo</a>* info = &amp;tool-&gt;Results[tool-&gt;StackLevel];</div>
<div class="line"><a id="l22795" name="l22795"></a><span class="lineno">22795</span>    IM_ASSERT(info-&gt;ID == <span class="keywordtype">id</span> &amp;&amp; info-&gt;QueryFrameCount &gt; 0);</div>
<div class="line"><a id="l22796" name="l22796"></a><span class="lineno">22796</span> </div>
<div class="line"><a id="l22797" name="l22797"></a><span class="lineno">22797</span>    <span class="keywordflow">switch</span> (data_type)</div>
<div class="line"><a id="l22798" name="l22798"></a><span class="lineno">22798</span>    {</div>
<div class="line"><a id="l22799" name="l22799"></a><span class="lineno">22799</span>    <span class="keywordflow">case</span> ImGuiDataType_S32:</div>
<div class="line"><a id="l22800" name="l22800"></a><span class="lineno">22800</span>        ImFormatString(info-&gt;Desc, IM_ARRAYSIZE(info-&gt;Desc), <span class="stringliteral">&quot;%d&quot;</span>, (<span class="keywordtype">int</span>)(intptr_t)data_id);</div>
<div class="line"><a id="l22801" name="l22801"></a><span class="lineno">22801</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l22802" name="l22802"></a><span class="lineno">22802</span>    <span class="keywordflow">case</span> ImGuiDataType_String:</div>
<div class="line"><a id="l22803" name="l22803"></a><span class="lineno">22803</span>        ImFormatString(info-&gt;Desc, IM_ARRAYSIZE(info-&gt;Desc), <span class="stringliteral">&quot;%.*s&quot;</span>, data_id_end ? (<span class="keywordtype">int</span>)((<span class="keyword">const</span> <span class="keywordtype">char</span>*)data_id_end - (<span class="keyword">const</span> <span class="keywordtype">char</span>*)data_id) : (int)ImStrlen((const char*)data_id), (const char*)data_id);</div>
<div class="line"><a id="l22804" name="l22804"></a><span class="lineno">22804</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l22805" name="l22805"></a><span class="lineno">22805</span>    <span class="keywordflow">case</span> ImGuiDataType_Pointer:</div>
<div class="line"><a id="l22806" name="l22806"></a><span class="lineno">22806</span>        ImFormatString(info-&gt;Desc, IM_ARRAYSIZE(info-&gt;Desc), <span class="stringliteral">&quot;(void*)0x%p&quot;</span>, data_id);</div>
<div class="line"><a id="l22807" name="l22807"></a><span class="lineno">22807</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l22808" name="l22808"></a><span class="lineno">22808</span>    <span class="keywordflow">case</span> ImGuiDataType_ID:</div>
<div class="line"><a id="l22809" name="l22809"></a><span class="lineno">22809</span>        <span class="keywordflow">if</span> (info-&gt;Desc[0] != 0) <span class="comment">// PushOverrideID() is often used to avoid hashing twice, which would lead to 2 calls to DebugHookIdInfo(). We prioritize the first one.</span></div>
<div class="line"><a id="l22810" name="l22810"></a><span class="lineno">22810</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l22811" name="l22811"></a><span class="lineno">22811</span>        ImFormatString(info-&gt;Desc, IM_ARRAYSIZE(info-&gt;Desc), <span class="stringliteral">&quot;0x%08X [override]&quot;</span>, <span class="keywordtype">id</span>);</div>
<div class="line"><a id="l22812" name="l22812"></a><span class="lineno">22812</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l22813" name="l22813"></a><span class="lineno">22813</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l22814" name="l22814"></a><span class="lineno">22814</span>        IM_ASSERT(0);</div>
<div class="line"><a id="l22815" name="l22815"></a><span class="lineno">22815</span>    }</div>
<div class="line"><a id="l22816" name="l22816"></a><span class="lineno">22816</span>    info-&gt;QuerySuccess = <span class="keyword">true</span>;</div>
<div class="line"><a id="l22817" name="l22817"></a><span class="lineno">22817</span>    info-&gt;DataType = data_type;</div>
<div class="line"><a id="l22818" name="l22818"></a><span class="lineno">22818</span>}</div>
<div class="line"><a id="l22819" name="l22819"></a><span class="lineno">22819</span> </div>
<div class="line"><a id="l22820" name="l22820"></a><span class="lineno">22820</span><span class="keyword">static</span> <span class="keywordtype">int</span> StackToolFormatLevelInfo(<a class="code hl_struct" href="structImGuiIDStackTool.html">ImGuiIDStackTool</a>* tool, <span class="keywordtype">int</span> n, <span class="keywordtype">bool</span> format_for_ui, <span class="keywordtype">char</span>* buf, <span class="keywordtype">size_t</span> buf_size)</div>
<div class="line"><a id="l22821" name="l22821"></a><span class="lineno">22821</span>{</div>
<div class="line"><a id="l22822" name="l22822"></a><span class="lineno">22822</span>    <a class="code hl_struct" href="structImGuiStackLevelInfo.html">ImGuiStackLevelInfo</a>* info = &amp;tool-&gt;Results[n];</div>
<div class="line"><a id="l22823" name="l22823"></a><span class="lineno">22823</span>    <a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>* window = (info-&gt;Desc[0] == 0 &amp;&amp; n == 0) ? ImGui::FindWindowByID(info-&gt;ID) : NULL;</div>
<div class="line"><a id="l22824" name="l22824"></a><span class="lineno">22824</span>    <span class="keywordflow">if</span> (window)                                                                 <span class="comment">// Source: window name (because the root ID don&#39;t call GetID() and so doesn&#39;t get hooked)</span></div>
<div class="line"><a id="l22825" name="l22825"></a><span class="lineno">22825</span>        <span class="keywordflow">return</span> ImFormatString(buf, buf_size, format_for_ui ? <span class="stringliteral">&quot;\&quot;%s\&quot; [window]&quot;</span> : <span class="stringliteral">&quot;%s&quot;</span>, window-&gt;Name);</div>
<div class="line"><a id="l22826" name="l22826"></a><span class="lineno">22826</span>    <span class="keywordflow">if</span> (info-&gt;QuerySuccess)                                                     <span class="comment">// Source: GetID() hooks (prioritize over ItemInfo() because we frequently use patterns like: PushID(str), Button(&quot;&quot;) where they both have same id)</span></div>
<div class="line"><a id="l22827" name="l22827"></a><span class="lineno">22827</span>        <span class="keywordflow">return</span> ImFormatString(buf, buf_size, (format_for_ui &amp;&amp; info-&gt;DataType == ImGuiDataType_String) ? <span class="stringliteral">&quot;\&quot;%s\&quot;&quot;</span> : <span class="stringliteral">&quot;%s&quot;</span>, info-&gt;Desc);</div>
<div class="line"><a id="l22828" name="l22828"></a><span class="lineno">22828</span>    <span class="keywordflow">if</span> (tool-&gt;StackLevel &lt; tool-&gt;Results.Size)                                  <span class="comment">// Only start using fallback below when all queries are done, so during queries we don&#39;t flickering ??? markers.</span></div>
<div class="line"><a id="l22829" name="l22829"></a><span class="lineno">22829</span>        <span class="keywordflow">return</span> (*buf = 0);</div>
<div class="line"><a id="l22830" name="l22830"></a><span class="lineno">22830</span><span class="preprocessor">#ifdef IMGUI_ENABLE_TEST_ENGINE</span></div>
<div class="line"><a id="l22831" name="l22831"></a><span class="lineno">22831</span>    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keywordtype">char</span>* label = ImGuiTestEngine_FindItemDebugLabel(GImGui, info-&gt;ID))   <span class="comment">// Source: ImGuiTestEngine&#39;s ItemInfo()</span></div>
<div class="line"><a id="l22832" name="l22832"></a><span class="lineno">22832</span>        <span class="keywordflow">return</span> ImFormatString(buf, buf_size, format_for_ui ? <span class="stringliteral">&quot;??? \&quot;%s\&quot;&quot;</span> : <span class="stringliteral">&quot;%s&quot;</span>, label);</div>
<div class="line"><a id="l22833" name="l22833"></a><span class="lineno">22833</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l22834" name="l22834"></a><span class="lineno">22834</span>    <span class="keywordflow">return</span> ImFormatString(buf, buf_size, <span class="stringliteral">&quot;???&quot;</span>);</div>
<div class="line"><a id="l22835" name="l22835"></a><span class="lineno">22835</span>}</div>
<div class="line"><a id="l22836" name="l22836"></a><span class="lineno">22836</span> </div>
<div class="line"><a id="l22837" name="l22837"></a><span class="lineno">22837</span><span class="comment">// ID Stack Tool: Display UI</span></div>
<div class="line"><a id="l22838" name="l22838"></a><span class="lineno">22838</span><span class="keywordtype">void</span> ImGui::ShowIDStackToolWindow(<span class="keywordtype">bool</span>* p_open)</div>
<div class="line"><a id="l22839" name="l22839"></a><span class="lineno">22839</span>{</div>
<div class="line"><a id="l22840" name="l22840"></a><span class="lineno">22840</span>    <a class="code hl_struct" href="structImGuiContext.html">ImGuiContext</a>&amp; g = *GImGui;</div>
<div class="line"><a id="l22841" name="l22841"></a><span class="lineno">22841</span>    <span class="keywordflow">if</span> ((g.NextWindowData.HasFlags &amp; ImGuiNextWindowDataFlags_HasSize) == 0)</div>
<div class="line"><a id="l22842" name="l22842"></a><span class="lineno">22842</span>        SetNextWindowSize(<a class="code hl_struct" href="structImVec2.html">ImVec2</a>(0.0f, GetFontSize() * 8.0f), ImGuiCond_FirstUseEver);</div>
<div class="line"><a id="l22843" name="l22843"></a><span class="lineno">22843</span>    <span class="keywordflow">if</span> (!Begin(<span class="stringliteral">&quot;Dear ImGui ID Stack Tool&quot;</span>, p_open) || GetCurrentWindow()-&gt;BeginCount &gt; 1)</div>
<div class="line"><a id="l22844" name="l22844"></a><span class="lineno">22844</span>    {</div>
<div class="line"><a id="l22845" name="l22845"></a><span class="lineno">22845</span>        End();</div>
<div class="line"><a id="l22846" name="l22846"></a><span class="lineno">22846</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l22847" name="l22847"></a><span class="lineno">22847</span>    }</div>
<div class="line"><a id="l22848" name="l22848"></a><span class="lineno">22848</span> </div>
<div class="line"><a id="l22849" name="l22849"></a><span class="lineno">22849</span>    <span class="comment">// Display hovered/active status</span></div>
<div class="line"><a id="l22850" name="l22850"></a><span class="lineno">22850</span>    <a class="code hl_struct" href="structImGuiIDStackTool.html">ImGuiIDStackTool</a>* tool = &amp;g.DebugIDStackTool;</div>
<div class="line"><a id="l22851" name="l22851"></a><span class="lineno">22851</span> </div>
<div class="line"><a id="l22852" name="l22852"></a><span class="lineno">22852</span>    <span class="comment">// Build and display path</span></div>
<div class="line"><a id="l22853" name="l22853"></a><span class="lineno">22853</span>    tool-&gt;ResultPathBuf.resize(0);</div>
<div class="line"><a id="l22854" name="l22854"></a><span class="lineno">22854</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> stack_n = 0; stack_n &lt; tool-&gt;Results.Size; stack_n++)</div>
<div class="line"><a id="l22855" name="l22855"></a><span class="lineno">22855</span>    {</div>
<div class="line"><a id="l22856" name="l22856"></a><span class="lineno">22856</span>        <span class="keywordtype">char</span> level_desc[256];</div>
<div class="line"><a id="l22857" name="l22857"></a><span class="lineno">22857</span>        StackToolFormatLevelInfo(tool, stack_n, <span class="keyword">false</span>, level_desc, IM_ARRAYSIZE(level_desc));</div>
<div class="line"><a id="l22858" name="l22858"></a><span class="lineno">22858</span>        tool-&gt;ResultPathBuf.append(stack_n == 0 ? <span class="stringliteral">&quot;//&quot;</span> : <span class="stringliteral">&quot;/&quot;</span>);</div>
<div class="line"><a id="l22859" name="l22859"></a><span class="lineno">22859</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; level_desc[n]; n++)</div>
<div class="line"><a id="l22860" name="l22860"></a><span class="lineno">22860</span>        {</div>
<div class="line"><a id="l22861" name="l22861"></a><span class="lineno">22861</span>            <span class="keywordflow">if</span> (level_desc[n] == <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><a id="l22862" name="l22862"></a><span class="lineno">22862</span>                tool-&gt;ResultPathBuf.append(<span class="stringliteral">&quot;\\&quot;</span>);</div>
<div class="line"><a id="l22863" name="l22863"></a><span class="lineno">22863</span>            tool-&gt;ResultPathBuf.append(level_desc + n, level_desc + n + 1);</div>
<div class="line"><a id="l22864" name="l22864"></a><span class="lineno">22864</span>        }</div>
<div class="line"><a id="l22865" name="l22865"></a><span class="lineno">22865</span>    }</div>
<div class="line"><a id="l22866" name="l22866"></a><span class="lineno">22866</span>    Text(<span class="stringliteral">&quot;0x%08X&quot;</span>, tool-&gt;QueryId);</div>
<div class="line"><a id="l22867" name="l22867"></a><span class="lineno">22867</span>    SameLine();</div>
<div class="line"><a id="l22868" name="l22868"></a><span class="lineno">22868</span>    MetricsHelpMarker(<span class="stringliteral">&quot;Hover an item with the mouse to display elements of the ID Stack leading to the item&#39;s final ID.\nEach level of the stack correspond to a PushID() call.\nAll levels of the stack are hashed together to make the final ID of a widget (ID displayed at the bottom level of the stack).\nRead FAQ entry about the ID stack for details.&quot;</span>);</div>
<div class="line"><a id="l22869" name="l22869"></a><span class="lineno">22869</span> </div>
<div class="line"><a id="l22870" name="l22870"></a><span class="lineno">22870</span>    <span class="comment">// CTRL+C to copy path</span></div>
<div class="line"><a id="l22871" name="l22871"></a><span class="lineno">22871</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> time_since_copy = (float)g.Time - tool-&gt;CopyToClipboardLastTime;</div>
<div class="line"><a id="l22872" name="l22872"></a><span class="lineno">22872</span>    SameLine();</div>
<div class="line"><a id="l22873" name="l22873"></a><span class="lineno">22873</span>    PushStyleVarY(ImGuiStyleVar_FramePadding, 0.0f); Checkbox(<span class="stringliteral">&quot;Ctrl+C: copy path&quot;</span>, &amp;tool-&gt;CopyToClipboardOnCtrlC); PopStyleVar();</div>
<div class="line"><a id="l22874" name="l22874"></a><span class="lineno">22874</span>    SameLine();</div>
<div class="line"><a id="l22875" name="l22875"></a><span class="lineno">22875</span>    TextColored((time_since_copy &gt;= 0.0f &amp;&amp; time_since_copy &lt; 0.75f &amp;&amp; ImFmod(time_since_copy, 0.25f) &lt; 0.25f * 0.5f) ? <a class="code hl_struct" href="structImVec4.html">ImVec4</a>(1.f, 1.f, 0.3f, 1.f) : <a class="code hl_struct" href="structImVec4.html">ImVec4</a>(), <span class="stringliteral">&quot;*COPIED*&quot;</span>);</div>
<div class="line"><a id="l22876" name="l22876"></a><span class="lineno">22876</span>    <span class="keywordflow">if</span> (tool-&gt;CopyToClipboardOnCtrlC &amp;&amp; Shortcut(ImGuiMod_Ctrl | ImGuiKey_C, ImGuiInputFlags_RouteGlobal | ImGuiInputFlags_RouteOverFocused))</div>
<div class="line"><a id="l22877" name="l22877"></a><span class="lineno">22877</span>    {</div>
<div class="line"><a id="l22878" name="l22878"></a><span class="lineno">22878</span>        tool-&gt;CopyToClipboardLastTime = (float)g.Time;</div>
<div class="line"><a id="l22879" name="l22879"></a><span class="lineno">22879</span>        SetClipboardText(tool-&gt;ResultPathBuf.c_str());</div>
<div class="line"><a id="l22880" name="l22880"></a><span class="lineno">22880</span>    }</div>
<div class="line"><a id="l22881" name="l22881"></a><span class="lineno">22881</span> </div>
<div class="line"><a id="l22882" name="l22882"></a><span class="lineno">22882</span>    Text(<span class="stringliteral">&quot;- Path \&quot;%s\&quot;&quot;</span>, tool-&gt;ResultPathBuf.c_str());</div>
<div class="line"><a id="l22883" name="l22883"></a><span class="lineno">22883</span><span class="preprocessor">#ifdef IMGUI_ENABLE_TEST_ENGINE</span></div>
<div class="line"><a id="l22884" name="l22884"></a><span class="lineno">22884</span>    Text(<span class="stringliteral">&quot;- Label \&quot;%s\&quot;&quot;</span>, tool-&gt;QueryId ? ImGuiTestEngine_FindItemDebugLabel(&amp;g, tool-&gt;QueryId) : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a id="l22885" name="l22885"></a><span class="lineno">22885</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l22886" name="l22886"></a><span class="lineno">22886</span> </div>
<div class="line"><a id="l22887" name="l22887"></a><span class="lineno">22887</span>    Separator();</div>
<div class="line"><a id="l22888" name="l22888"></a><span class="lineno">22888</span> </div>
<div class="line"><a id="l22889" name="l22889"></a><span class="lineno">22889</span>    <span class="comment">// Display decorated stack</span></div>
<div class="line"><a id="l22890" name="l22890"></a><span class="lineno">22890</span>    tool-&gt;LastActiveFrame = g.FrameCount;</div>
<div class="line"><a id="l22891" name="l22891"></a><span class="lineno">22891</span>    <span class="keywordflow">if</span> (tool-&gt;Results.Size &gt; 0 &amp;&amp; BeginTable(<span class="stringliteral">&quot;##table&quot;</span>, 3, ImGuiTableFlags_Borders))</div>
<div class="line"><a id="l22892" name="l22892"></a><span class="lineno">22892</span>    {</div>
<div class="line"><a id="l22893" name="l22893"></a><span class="lineno">22893</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> id_width = CalcTextSize(<span class="stringliteral">&quot;0xDDDDDDDD&quot;</span>).x;</div>
<div class="line"><a id="l22894" name="l22894"></a><span class="lineno">22894</span>        TableSetupColumn(<span class="stringliteral">&quot;Seed&quot;</span>, ImGuiTableColumnFlags_WidthFixed, id_width);</div>
<div class="line"><a id="l22895" name="l22895"></a><span class="lineno">22895</span>        TableSetupColumn(<span class="stringliteral">&quot;PushID&quot;</span>, ImGuiTableColumnFlags_WidthStretch);</div>
<div class="line"><a id="l22896" name="l22896"></a><span class="lineno">22896</span>        TableSetupColumn(<span class="stringliteral">&quot;Result&quot;</span>, ImGuiTableColumnFlags_WidthFixed, id_width);</div>
<div class="line"><a id="l22897" name="l22897"></a><span class="lineno">22897</span>        TableHeadersRow();</div>
<div class="line"><a id="l22898" name="l22898"></a><span class="lineno">22898</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; tool-&gt;Results.Size; n++)</div>
<div class="line"><a id="l22899" name="l22899"></a><span class="lineno">22899</span>        {</div>
<div class="line"><a id="l22900" name="l22900"></a><span class="lineno">22900</span>            <a class="code hl_struct" href="structImGuiStackLevelInfo.html">ImGuiStackLevelInfo</a>* info = &amp;tool-&gt;Results[n];</div>
<div class="line"><a id="l22901" name="l22901"></a><span class="lineno">22901</span>            TableNextColumn();</div>
<div class="line"><a id="l22902" name="l22902"></a><span class="lineno">22902</span>            Text(<span class="stringliteral">&quot;0x%08X&quot;</span>, (n &gt; 0) ? tool-&gt;Results[n - 1].ID : 0);</div>
<div class="line"><a id="l22903" name="l22903"></a><span class="lineno">22903</span>            TableNextColumn();</div>
<div class="line"><a id="l22904" name="l22904"></a><span class="lineno">22904</span>            StackToolFormatLevelInfo(tool, n, <span class="keyword">true</span>, g.TempBuffer.Data, g.TempBuffer.Size);</div>
<div class="line"><a id="l22905" name="l22905"></a><span class="lineno">22905</span>            TextUnformatted(g.TempBuffer.Data);</div>
<div class="line"><a id="l22906" name="l22906"></a><span class="lineno">22906</span>            TableNextColumn();</div>
<div class="line"><a id="l22907" name="l22907"></a><span class="lineno">22907</span>            Text(<span class="stringliteral">&quot;0x%08X&quot;</span>, info-&gt;ID);</div>
<div class="line"><a id="l22908" name="l22908"></a><span class="lineno">22908</span>            <span class="keywordflow">if</span> (n == tool-&gt;Results.Size - 1)</div>
<div class="line"><a id="l22909" name="l22909"></a><span class="lineno">22909</span>                TableSetBgColor(ImGuiTableBgTarget_CellBg, GetColorU32(ImGuiCol_Header));</div>
<div class="line"><a id="l22910" name="l22910"></a><span class="lineno">22910</span>        }</div>
<div class="line"><a id="l22911" name="l22911"></a><span class="lineno">22911</span>        EndTable();</div>
<div class="line"><a id="l22912" name="l22912"></a><span class="lineno">22912</span>    }</div>
<div class="line"><a id="l22913" name="l22913"></a><span class="lineno">22913</span>    End();</div>
<div class="line"><a id="l22914" name="l22914"></a><span class="lineno">22914</span>}</div>
<div class="line"><a id="l22915" name="l22915"></a><span class="lineno">22915</span> </div>
<div class="line"><a id="l22916" name="l22916"></a><span class="lineno">22916</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l22917" name="l22917"></a><span class="lineno">22917</span> </div>
<div class="line"><a id="l22918" name="l22918"></a><span class="lineno">22918</span><span class="keywordtype">void</span> ImGui::ShowMetricsWindow(<span class="keywordtype">bool</span>*) {}</div>
<div class="line"><a id="l22919" name="l22919"></a><span class="lineno">22919</span><span class="keywordtype">void</span> ImGui::ShowFontAtlas(<a class="code hl_struct" href="structImFontAtlas.html">ImFontAtlas</a>*) {}</div>
<div class="line"><a id="l22920" name="l22920"></a><span class="lineno">22920</span><span class="keywordtype">void</span> ImGui::DebugNodeColumns(<a class="code hl_struct" href="structImGuiOldColumns.html">ImGuiOldColumns</a>*) {}</div>
<div class="line"><a id="l22921" name="l22921"></a><span class="lineno">22921</span><span class="keywordtype">void</span> ImGui::DebugNodeDrawList(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>*, <a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>*, <span class="keyword">const</span> <a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>*, <span class="keyword">const</span> <span class="keywordtype">char</span>*) {}</div>
<div class="line"><a id="l22922" name="l22922"></a><span class="lineno">22922</span><span class="keywordtype">void</span> ImGui::DebugNodeDrawCmdShowMeshAndBoundingBox(<a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>*, <span class="keyword">const</span> <a class="code hl_struct" href="structImDrawList.html">ImDrawList</a>*, <span class="keyword">const</span> <a class="code hl_struct" href="structImDrawCmd.html">ImDrawCmd</a>*, <span class="keywordtype">bool</span>, <span class="keywordtype">bool</span>) {}</div>
<div class="line"><a id="l22923" name="l22923"></a><span class="lineno">22923</span><span class="keywordtype">void</span> ImGui::DebugNodeFont(<a class="code hl_struct" href="structImFont.html">ImFont</a>*) {}</div>
<div class="line"><a id="l22924" name="l22924"></a><span class="lineno">22924</span><span class="keywordtype">void</span> ImGui::DebugNodeStorage(<a class="code hl_struct" href="structImGuiStorage.html">ImGuiStorage</a>*, <span class="keyword">const</span> <span class="keywordtype">char</span>*) {}</div>
<div class="line"><a id="l22925" name="l22925"></a><span class="lineno">22925</span><span class="keywordtype">void</span> ImGui::DebugNodeTabBar(<a class="code hl_struct" href="structImGuiTabBar.html">ImGuiTabBar</a>*, <span class="keyword">const</span> <span class="keywordtype">char</span>*) {}</div>
<div class="line"><a id="l22926" name="l22926"></a><span class="lineno">22926</span><span class="keywordtype">void</span> ImGui::DebugNodeWindow(<a class="code hl_struct" href="structImGuiWindow.html">ImGuiWindow</a>*, <span class="keyword">const</span> <span class="keywordtype">char</span>*) {}</div>
<div class="line"><a id="l22927" name="l22927"></a><span class="lineno">22927</span><span class="keywordtype">void</span> ImGui::DebugNodeWindowSettings(<a class="code hl_struct" href="structImGuiWindowSettings.html">ImGuiWindowSettings</a>*) {}</div>
<div class="line"><a id="l22928" name="l22928"></a><span class="lineno">22928</span><span class="keywordtype">void</span> ImGui::DebugNodeWindowsList(<a class="code hl_struct" href="structImVector.html">ImVector&lt;ImGuiWindow*&gt;</a>*, <span class="keyword">const</span> <span class="keywordtype">char</span>*) {}</div>
<div class="line"><a id="l22929" name="l22929"></a><span class="lineno">22929</span><span class="keywordtype">void</span> ImGui::DebugNodeViewport(<a class="code hl_struct" href="structImGuiViewportP.html">ImGuiViewportP</a>*) {}</div>
<div class="line"><a id="l22930" name="l22930"></a><span class="lineno">22930</span> </div>
<div class="line"><a id="l22931" name="l22931"></a><span class="lineno">22931</span><span class="keywordtype">void</span> ImGui::ShowDebugLogWindow(<span class="keywordtype">bool</span>*) {}</div>
<div class="line"><a id="l22932" name="l22932"></a><span class="lineno">22932</span><span class="keywordtype">void</span> ImGui::ShowIDStackToolWindow(<span class="keywordtype">bool</span>*) {}</div>
<div class="line"><a id="l22933" name="l22933"></a><span class="lineno">22933</span><span class="keywordtype">void</span> ImGui::DebugStartItemPicker() {}</div>
<div class="line"><a id="l22934" name="l22934"></a><span class="lineno">22934</span><span class="keywordtype">void</span> ImGui::DebugHookIdInfo(ImGuiID, ImGuiDataType, <span class="keyword">const</span> <span class="keywordtype">void</span>*, <span class="keyword">const</span> <span class="keywordtype">void</span>*) {}</div>
<div class="line"><a id="l22935" name="l22935"></a><span class="lineno">22935</span> </div>
<div class="line"><a id="l22936" name="l22936"></a><span class="lineno">22936</span><span class="preprocessor">#endif </span><span class="comment">// #ifndef IMGUI_DISABLE_DEBUG_TOOLS</span></div>
<div class="line"><a id="l22937" name="l22937"></a><span class="lineno">22937</span> </div>
<div class="line"><a id="l22938" name="l22938"></a><span class="lineno">22938</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l22939" name="l22939"></a><span class="lineno">22939</span> </div>
<div class="line"><a id="l22940" name="l22940"></a><span class="lineno">22940</span><span class="comment">// Include imgui_user.inl at the end of imgui.cpp to access private data/functions that aren&#39;t exposed.</span></div>
<div class="line"><a id="l22941" name="l22941"></a><span class="lineno">22941</span><span class="comment">// Prefer just including imgui_internal.h from your code rather than using this define. If a declaration is missing from imgui_internal.h add it or request it on the github.</span></div>
<div class="line"><a id="l22942" name="l22942"></a><span class="lineno">22942</span><span class="preprocessor">#ifdef IMGUI_INCLUDE_IMGUI_USER_INL</span></div>
<div class="line"><a id="l22943" name="l22943"></a><span class="lineno">22943</span><span class="preprocessor">#include &quot;imgui_user.inl&quot;</span></div>
<div class="line"><a id="l22944" name="l22944"></a><span class="lineno">22944</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l22945" name="l22945"></a><span class="lineno">22945</span> </div>
<div class="line"><a id="l22946" name="l22946"></a><span class="lineno">22946</span><span class="comment">//-----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l22947" name="l22947"></a><span class="lineno">22947</span> </div>
<div class="line"><a id="l22948" name="l22948"></a><span class="lineno">22948</span><span class="preprocessor">#endif </span><span class="comment">// #ifndef IMGUI_DISABLE</span></div>
<div class="ttc" id="astructImBitArray_html"><div class="ttname"><a href="structImBitArray.html">ImBitArray</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l00612">imgui_internal.h:613</a></div></div>
<div class="ttc" id="astructImDrawCmd_html"><div class="ttname"><a href="structImDrawCmd.html">ImDrawCmd</a></div><div class="ttdef"><b>Definition</b> <a href="imgui_8h_source.html#l03109">imgui.h:3110</a></div></div>
<div class="ttc" id="astructImDrawDataBuilder_html"><div class="ttname"><a href="structImDrawDataBuilder.html">ImDrawDataBuilder</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l00818">imgui_internal.h:819</a></div></div>
<div class="ttc" id="astructImDrawData_html"><div class="ttname"><a href="structImDrawData.html">ImDrawData</a></div><div class="ttdef"><b>Definition</b> <a href="imgui_8h_source.html#l03368">imgui.h:3369</a></div></div>
<div class="ttc" id="astructImDrawListSharedData_html"><div class="ttname"><a href="structImDrawListSharedData.html">ImDrawListSharedData</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l00795">imgui_internal.h:796</a></div></div>
<div class="ttc" id="astructImDrawList_html"><div class="ttname"><a href="structImDrawList.html">ImDrawList</a></div><div class="ttdef"><b>Definition</b> <a href="imgui_8h_source.html#l03215">imgui.h:3216</a></div></div>
<div class="ttc" id="astructImDrawVert_html"><div class="ttname"><a href="structImDrawVert.html">ImDrawVert</a></div><div class="ttdef"><b>Definition</b> <a href="imgui_8h_source.html#l03129">imgui.h:3130</a></div></div>
<div class="ttc" id="astructImFontAtlas_html"><div class="ttname"><a href="structImFontAtlas.html">ImFontAtlas</a></div><div class="ttdef"><b>Definition</b> <a href="imgui_8h_source.html#l03492">imgui.h:3493</a></div></div>
<div class="ttc" id="astructImFontConfig_html"><div class="ttname"><a href="structImFontConfig.html">ImFontConfig</a></div><div class="ttdef"><b>Definition</b> <a href="imgui_8h_source.html#l03393">imgui.h:3394</a></div></div>
<div class="ttc" id="astructImFontGlyph_html"><div class="ttname"><a href="structImFontGlyph.html">ImFontGlyph</a></div><div class="ttdef"><b>Definition</b> <a href="imgui_8h_source.html#l03424">imgui.h:3425</a></div></div>
<div class="ttc" id="astructImFont_html"><div class="ttname"><a href="structImFont.html">ImFont</a></div><div class="ttdef"><b>Definition</b> <a href="imgui_8h_source.html#l03596">imgui.h:3597</a></div></div>
<div class="ttc" id="astructImGuiBoxSelectState_html"><div class="ttname"><a href="structImGuiBoxSelectState.html">ImGuiBoxSelectState</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l01785">imgui_internal.h:1786</a></div></div>
<div class="ttc" id="astructImGuiColorMod_html"><div class="ttname"><a href="structImGuiColorMod.html">ImGuiColorMod</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l00839">imgui_internal.h:840</a></div></div>
<div class="ttc" id="astructImGuiContextHook_html"><div class="ttname"><a href="structImGuiContextHook.html">ImGuiContextHook</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l02241">imgui_internal.h:2242</a></div></div>
<div class="ttc" id="astructImGuiContext_html"><div class="ttname"><a href="structImGuiContext.html">ImGuiContext</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l02256">imgui_internal.h:2257</a></div></div>
<div class="ttc" id="astructImGuiDeactivatedItemData_html"><div class="ttname"><a href="structImGuiDeactivatedItemData.html">ImGuiDeactivatedItemData</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l01361">imgui_internal.h:1362</a></div></div>
<div class="ttc" id="astructImGuiDebugAllocEntry_html"><div class="ttname"><a href="structImGuiDebugAllocEntry.html">ImGuiDebugAllocEntry</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l02175">imgui_internal.h:2176</a></div></div>
<div class="ttc" id="astructImGuiDebugAllocInfo_html"><div class="ttname"><a href="structImGuiDebugAllocInfo.html">ImGuiDebugAllocInfo</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l02182">imgui_internal.h:2183</a></div></div>
<div class="ttc" id="astructImGuiDockContextPruneNodeData_html"><div class="ttname"><a href="structImGuiDockContextPruneNodeData.html">ImGuiDockContextPruneNodeData</a></div><div class="ttdef"><b>Definition</b> <a href="imgui_8cpp_source.html#l17158">imgui.cpp:17159</a></div></div>
<div class="ttc" id="astructImGuiDockContext_html"><div class="ttname"><a href="structImGuiDockContext.html">ImGuiDockContext</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l02000">imgui_internal.h:2001</a></div></div>
<div class="ttc" id="astructImGuiDockNodeSettings_html"><div class="ttname"><a href="structImGuiDockNodeSettings.html">ImGuiDockNodeSettings</a></div><div class="ttdef"><b>Definition</b> <a href="imgui_8cpp_source.html#l16840">imgui.cpp:16841</a></div></div>
<div class="ttc" id="astructImGuiDockNodeTreeInfo_html"><div class="ttname"><a href="structImGuiDockNodeTreeInfo.html">ImGuiDockNodeTreeInfo</a></div><div class="ttdef"><b>Definition</b> <a href="imgui_8cpp_source.html#l17850">imgui.cpp:17851</a></div></div>
<div class="ttc" id="astructImGuiDockNode_html"><div class="ttname"><a href="structImGuiDockNode.html">ImGuiDockNode</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l01914">imgui_internal.h:1915</a></div></div>
<div class="ttc" id="astructImGuiDockPreviewData_html"><div class="ttname"><a href="structImGuiDockPreviewData.html">ImGuiDockPreviewData</a></div><div class="ttdef"><b>Definition</b> <a href="imgui_8cpp_source.html#l16824">imgui.cpp:16825</a></div></div>
<div class="ttc" id="astructImGuiDockRequest_html"><div class="ttname"><a href="structImGuiDockRequest.html">ImGuiDockRequest</a></div><div class="ttdef"><b>Definition</b> <a href="imgui_8cpp_source.html#l16801">imgui.cpp:16802</a></div></div>
<div class="ttc" id="astructImGuiErrorRecoveryState_html"><div class="ttname"><a href="structImGuiErrorRecoveryState.html">ImGuiErrorRecoveryState</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l01317">imgui_internal.h:1318</a></div></div>
<div class="ttc" id="astructImGuiFocusScopeData_html"><div class="ttname"><a href="structImGuiFocusScopeData.html">ImGuiFocusScopeData</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l01682">imgui_internal.h:1683</a></div></div>
<div class="ttc" id="astructImGuiGroupData_html"><div class="ttname"><a href="structImGuiGroupData.html">ImGuiGroupData</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l01091">imgui_internal.h:1092</a></div></div>
<div class="ttc" id="astructImGuiIDStackTool_html"><div class="ttname"><a href="structImGuiIDStackTool.html">ImGuiIDStackTool</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l02221">imgui_internal.h:2222</a></div></div>
<div class="ttc" id="astructImGuiIO_html"><div class="ttname"><a href="structImGuiIO.html">ImGuiIO</a></div><div class="ttdef"><b>Definition</b> <a href="imgui_8h_source.html#l02319">imgui.h:2320</a></div></div>
<div class="ttc" id="astructImGuiInputEvent_html"><div class="ttname"><a href="structImGuiInputEvent.html">ImGuiInputEvent</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l01456">imgui_internal.h:1457</a></div></div>
<div class="ttc" id="astructImGuiKeyData_html"><div class="ttname"><a href="structImGuiKeyData.html">ImGuiKeyData</a></div><div class="ttdef"><b>Definition</b> <a href="imgui_8h_source.html#l02311">imgui.h:2312</a></div></div>
<div class="ttc" id="astructImGuiKeyOwnerData_html"><div class="ttname"><a href="structImGuiKeyOwnerData.html">ImGuiKeyOwnerData</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l01510">imgui_internal.h:1511</a></div></div>
<div class="ttc" id="astructImGuiKeyRoutingData_html"><div class="ttname"><a href="structImGuiKeyRoutingData.html">ImGuiKeyRoutingData</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l01484">imgui_internal.h:1485</a></div></div>
<div class="ttc" id="astructImGuiKeyRoutingTable_html"><div class="ttname"><a href="structImGuiKeyRoutingTable.html">ImGuiKeyRoutingTable</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l01498">imgui_internal.h:1499</a></div></div>
<div class="ttc" id="astructImGuiLastItemData_html"><div class="ttname"><a href="structImGuiLastItemData.html">ImGuiLastItemData</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l01289">imgui_internal.h:1290</a></div></div>
<div class="ttc" id="astructImGuiListClipperData_html"><div class="ttname"><a href="structImGuiListClipperData.html">ImGuiListClipperData</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l01580">imgui_internal.h:1581</a></div></div>
<div class="ttc" id="astructImGuiListClipperRange_html"><div class="ttname"><a href="structImGuiListClipperRange.html">ImGuiListClipperRange</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l01567">imgui_internal.h:1568</a></div></div>
<div class="ttc" id="astructImGuiListClipper_html"><div class="ttname"><a href="structImGuiListClipper.html">ImGuiListClipper</a></div><div class="ttdef"><b>Definition</b> <a href="imgui_8h_source.html#l02805">imgui.h:2806</a></div></div>
<div class="ttc" id="astructImGuiLocEntry_html"><div class="ttname"><a href="structImGuiLocEntry.html">ImGuiLocEntry</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l02126">imgui_internal.h:2127</a></div></div>
<div class="ttc" id="astructImGuiMetricsConfig_html"><div class="ttname"><a href="structImGuiMetricsConfig.html">ImGuiMetricsConfig</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l02192">imgui_internal.h:2193</a></div></div>
<div class="ttc" id="astructImGuiMultiSelectState_html"><div class="ttname"><a href="structImGuiMultiSelectState.html">ImGuiMultiSelectState</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l01842">imgui_internal.h:1843</a></div></div>
<div class="ttc" id="astructImGuiNavItemData_html"><div class="ttname"><a href="structImGuiNavItemData.html">ImGuiNavItemData</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l01665">imgui_internal.h:1666</a></div></div>
<div class="ttc" id="astructImGuiOldColumnData_html"><div class="ttname"><a href="structImGuiOldColumnData.html">ImGuiOldColumnData</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l01750">imgui_internal.h:1751</a></div></div>
<div class="ttc" id="astructImGuiOldColumns_html"><div class="ttname"><a href="structImGuiOldColumns.html">ImGuiOldColumns</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l01760">imgui_internal.h:1761</a></div></div>
<div class="ttc" id="astructImGuiPayload_html"><div class="ttname"><a href="structImGuiPayload.html">ImGuiPayload</a></div><div class="ttdef"><b>Definition</b> <a href="imgui_8h_source.html#l02640">imgui.h:2641</a></div></div>
<div class="ttc" id="astructImGuiPlatformIO_html"><div class="ttname"><a href="structImGuiPlatformIO.html">ImGuiPlatformIO</a></div><div class="ttdef"><b>Definition</b> <a href="imgui_8h_source.html#l03768">imgui.h:3769</a></div></div>
<div class="ttc" id="astructImGuiPlatformImeData_html"><div class="ttname"><a href="structImGuiPlatformImeData.html">ImGuiPlatformImeData</a></div><div class="ttdef"><b>Definition</b> <a href="imgui_8h_source.html#l03874">imgui.h:3875</a></div></div>
<div class="ttc" id="astructImGuiPlatformMonitor_html"><div class="ttname"><a href="structImGuiPlatformMonitor.html">ImGuiPlatformMonitor</a></div><div class="ttdef"><b>Definition</b> <a href="imgui_8h_source.html#l03864">imgui.h:3865</a></div></div>
<div class="ttc" id="astructImGuiPopupData_html"><div class="ttname"><a href="structImGuiPopupData.html">ImGuiPopupData</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l01381">imgui_internal.h:1382</a></div></div>
<div class="ttc" id="astructImGuiResizeBorderDef_html"><div class="ttname"><a href="structImGuiResizeBorderDef.html">ImGuiResizeBorderDef</a></div><div class="ttdef"><b>Definition</b> <a href="imgui_8cpp_source.html#l06778">imgui.cpp:6779</a></div></div>
<div class="ttc" id="astructImGuiResizeGripDef_html"><div class="ttname"><a href="structImGuiResizeGripDef.html">ImGuiResizeGripDef</a></div><div class="ttdef"><b>Definition</b> <a href="imgui_8cpp_source.html#l06763">imgui.cpp:6764</a></div></div>
<div class="ttc" id="astructImGuiSettingsHandler_html"><div class="ttname"><a href="structImGuiSettingsHandler.html">ImGuiSettingsHandler</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l02088">imgui_internal.h:2089</a></div></div>
<div class="ttc" id="astructImGuiSizeCallbackData_html"><div class="ttname"><a href="structImGuiSizeCallbackData.html">ImGuiSizeCallbackData</a></div><div class="ttdef"><b>Definition</b> <a href="imgui_8h_source.html#l02609">imgui.h:2610</a></div></div>
<div class="ttc" id="astructImGuiStackLevelInfo_html"><div class="ttname"><a href="structImGuiStackLevelInfo.html">ImGuiStackLevelInfo</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l02209">imgui_internal.h:2210</a></div></div>
<div class="ttc" id="astructImGuiStoragePair_html"><div class="ttname"><a href="structImGuiStoragePair.html">ImGuiStoragePair</a></div><div class="ttdef"><b>Definition</b> <a href="imgui_8h_source.html#l02731">imgui.h:2732</a></div></div>
<div class="ttc" id="astructImGuiStorage_html"><div class="ttname"><a href="structImGuiStorage.html">ImGuiStorage</a></div><div class="ttdef"><b>Definition</b> <a href="imgui_8h_source.html#l02748">imgui.h:2749</a></div></div>
<div class="ttc" id="astructImGuiStyleMod_html"><div class="ttname"><a href="structImGuiStyleMod.html">ImGuiStyleMod</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l00846">imgui_internal.h:847</a></div></div>
<div class="ttc" id="astructImGuiStyleVarInfo_html"><div class="ttname"><a href="structImGuiStyleVarInfo.html">ImGuiStyleVarInfo</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l00830">imgui_internal.h:831</a></div></div>
<div class="ttc" id="astructImGuiStyle_html"><div class="ttname"><a href="structImGuiStyle.html">ImGuiStyle</a></div><div class="ttdef"><b>Definition</b> <a href="imgui_8h_source.html#l02223">imgui.h:2224</a></div></div>
<div class="ttc" id="astructImGuiTabBar_html"><div class="ttname"><a href="structImGuiTabBar.html">ImGuiTabBar</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l02896">imgui_internal.h:2897</a></div></div>
<div class="ttc" id="astructImGuiTabItem_html"><div class="ttname"><a href="structImGuiTabItem.html">ImGuiTabItem</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l02876">imgui_internal.h:2877</a></div></div>
<div class="ttc" id="astructImGuiTableColumn_html"><div class="ttname"><a href="structImGuiTableColumn.html">ImGuiTableColumn</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l02951">imgui_internal.h:2952</a></div></div>
<div class="ttc" id="astructImGuiTableInstanceData_html"><div class="ttname"><a href="structImGuiTableInstanceData.html">ImGuiTableInstanceData</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l03030">imgui_internal.h:3031</a></div></div>
<div class="ttc" id="astructImGuiTableSettings_html"><div class="ttname"><a href="structImGuiTableSettings.html">ImGuiTableSettings</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l03215">imgui_internal.h:3216</a></div></div>
<div class="ttc" id="astructImGuiTableTempData_html"><div class="ttname"><a href="structImGuiTableTempData.html">ImGuiTableTempData</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l03168">imgui_internal.h:3169</a></div></div>
<div class="ttc" id="astructImGuiTable_html"><div class="ttname"><a href="structImGuiTable.html">ImGuiTable</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l03043">imgui_internal.h:3044</a></div></div>
<div class="ttc" id="astructImGuiTextBuffer_html"><div class="ttname"><a href="structImGuiTextBuffer.html">ImGuiTextBuffer</a></div><div class="ttdef"><b>Definition</b> <a href="imgui_8h_source.html#l02710">imgui.h:2711</a></div></div>
<div class="ttc" id="astructImGuiTreeNodeStackData_html"><div class="ttname"><a href="structImGuiTreeNodeStackData.html">ImGuiTreeNodeStackData</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l01308">imgui_internal.h:1309</a></div></div>
<div class="ttc" id="astructImGuiViewportP_html"><div class="ttname"><a href="structImGuiViewportP.html">ImGuiViewportP</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l02017">imgui_internal.h:2018</a></div></div>
<div class="ttc" id="astructImGuiViewport_html"><div class="ttname"><a href="structImGuiViewport.html">ImGuiViewport</a></div><div class="ttdef"><b>Definition</b> <a href="imgui_8h_source.html#l03683">imgui.h:3684</a></div></div>
<div class="ttc" id="astructImGuiWindowClass_html"><div class="ttname"><a href="structImGuiWindowClass.html">ImGuiWindowClass</a></div><div class="ttdef"><b>Definition</b> <a href="imgui_8h_source.html#l02624">imgui.h:2625</a></div></div>
<div class="ttc" id="astructImGuiWindowSettings_html"><div class="ttname"><a href="structImGuiWindowSettings.html">ImGuiWindowSettings</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l02069">imgui_internal.h:2070</a></div></div>
<div class="ttc" id="astructImGuiWindowStackData_html"><div class="ttname"><a href="structImGuiWindowStackData.html">ImGuiWindowStackData</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l01335">imgui_internal.h:1336</a></div></div>
<div class="ttc" id="astructImGuiWindow_html"><div class="ttname"><a href="structImGuiWindow.html">ImGuiWindow</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l02704">imgui_internal.h:2705</a></div></div>
<div class="ttc" id="astructImPool_html"><div class="ttname"><a href="structImPool.html">ImPool</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l00694">imgui_internal.h:695</a></div></div>
<div class="ttc" id="astructImRect_html"><div class="ttname"><a href="structImRect.html">ImRect</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l00549">imgui_internal.h:550</a></div></div>
<div class="ttc" id="astructImVec2_html"><div class="ttname"><a href="structImVec2.html">ImVec2</a></div><div class="ttdef"><b>Definition</b> <a href="imgui_8h_source.html#l00284">imgui.h:285</a></div></div>
<div class="ttc" id="astructImVec2ih_html"><div class="ttname"><a href="structImVec2ih.html">ImVec2ih</a></div><div class="ttdef"><b>Definition</b> <a href="imgui__internal_8h_source.html#l00539">imgui_internal.h:540</a></div></div>
<div class="ttc" id="astructImVec4_html"><div class="ttname"><a href="structImVec4.html">ImVec4</a></div><div class="ttdef"><b>Definition</b> <a href="imgui_8h_source.html#l00297">imgui.h:298</a></div></div>
<div class="ttc" id="astructImVector_html"><div class="ttname"><a href="structImVector.html">ImVector</a></div><div class="ttdef"><b>Definition</b> <a href="imgui_8h_source.html#l02151">imgui.h:2152</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_805a0af995e93a362739e98abd740eb2.html">external</a></li><li class="navelem"><b>imgui.cpp</b></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
